(function(){var du=window.location.hostname=="www.vectorpea.com"?1:0,bD=!0;(function(){var J;try{J=window.localStorage}catch(gw){}var v={};
if(J){var x=J.getItem("_ppp");if(x)v=JSON.parse(x);else{var o="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var h=0;h<o.length;h++){var R=J.getItem(o[h]);if(R!=null)v[o[h]]=R}}}var r=window.locStor={};r.setItem=function(M,P){v[M]=P;
if(J)J.setItem("_ppp",JSON.stringify(v))};r.getItem=function(M){return v[M]};r.removeItem=function(M){delete v[M];
if(J)J.setItem("_ppp",JSON.stringify(v))};if(du==0){window.showCap=function(){l(!0)};window.hideCap=function(){l(!1)};
function l(M){document.getElementById("cap").setAttribute("style",M?"":"display:none;");window.locStor.setItem("capShown",""+M)}if(window.locStor.getItem("capShown")=="false"||window.self!=window.top){}else window.showCap()}}());
var f6={Om:0,LJ:null,SF:null,agS:null,KJ:null,BU:null,aoe:!0,aaR:0,Gt:!1};f6.event=function(J,v,x){if(du!=0)return;
if(v!=null&&v<Math.random())return;if(x==null)x=0;var o=new XMLHttpRequest;o.open("GET","/papi/event.php?id="+J+"&g="+x+"&rnd="+Math.random());
o.send()};f6.mP=function(J){if(du!=0)J="//www.photopea.com/"+J;return J};f6.Lu=function(J){var v=location.href;
if(v.indexOf("photopea.com")!=-1||v.indexOf("vectorpea.com")!=-1)return"//vecpea.com/"+J;return f6.mP(J)};
f6.hV=function(){var J=f6.sr();if(J==null)return null;var v=B.m6(24)?" ":"",x=B.EV[B.u0("Uu,"+v)];x=x[B.u0(v+"$/")];
var o=f6.a9l(1,999);if(o&&f6.lm(o)*50>x()/20)return[0,o];var R=J.inTeams;if(R)for(var h=0;h<R.length;
h++)if(R[h][1]*50>x()/20)return[1,R[h]];return null};f6.A5=function(){return f6.alZ()!=null};f6.Cj=function(){return f6.lm(f6.a9l(1e3,999999999))};
f6.lm=function(J){return J==null?0:J[0]+J[1]*24*60*60};f6.a9l=function(J,v){var x=f6.sr(),o=x.pmnts,R=0,r=null;
if(o==null||o.length==0)return 0;for(var h=0;h<o.length;h++){var l=o[h],M=f6.lm(l);if(J<=l[2]&&l[2]<=v)if(R<M){R=M;
r=l}}return r};f6.sr=function(){return f6.BU};f6.pU=function(J){window.addEventListener("message",f6.arW,!1);
setInterval(f6.a3R,5e3);if(f6.A5()&&navigator.onLine){f6.LJ=J;f6.hp()}else setTimeout(J,1)};f6.a3R=function(){if(f6.A5()&&f6.Gt){f6.apj(f6.Xn());
f6.Gt=!1}};f6.rb=function(J){f6.LJ=J;var v="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
f6.agS=window.open(v,"_blank")};f6.abO=function(){var J=window.locStor;J.removeItem(f6.Om+"_uid");J.removeItem(f6.Om+"_provider");
J.removeItem(f6.Om+"_token");f6.BU=null};f6.arW=function(J){if(J.data instanceof ArrayBuffer||J.data instanceof Object)return;
if(J.data.charAt(0)!="{")return;var v=JSON.parse(J.data);if(v.prms==null)return;var x=v.prms.split(",");
if(x[0]=="papi_logged_in"){var o=window.locStor;o.setItem(f6.Om+"_uid",x[1]);f6.dQ(x[2]);o.setItem(f6.Om+"_provider",x[3]);
f6.agS.close();f6.hp()}if(x[0]=="payment_complete"){f6.KJ.close();f6.hp()}};f6.alZ=function(){var J=window.locStor.getItem(f6.Om+"_token");
if(J!=null&&Date.now()*.001+10<parseInt(J.split("-")[0]))return J;return null};f6.dQ=function(J){var v=window.locStor.getItem(f6.Om+"_token");
if(v!=null&&parseInt(J.split("-")[0])<parseInt(v.split("-")[0]))return;window.locStor.setItem(f6.Om+"_token",J);
clearTimeout(f6.aaR);f6.aaR=setTimeout(f6.aa0,Math.min(1e9,parseInt(J.split("-")[0])*1e3-Date.now()-20*1e3))};
f6.auh=function(J,v,x,o){if(!navigator.onLine)throw"a";var R=new XMLHttpRequest;R.open("POST","https://www.photopea.com/papi/record_new.php",!0);
R.onload=x;var r=f6.H_(0)+"&read=3&tuid="+J+"&tid="+v;if(o)r+="&tpl="+encodeURIComponent(o);R.setRequestHeader("Content-type","application/x-www-form-urlencoded");
R.send(r)};f6.aa0=function(){if(!navigator.onLine)throw"a";var J=new XMLHttpRequest;J.open("POST","https://www.photopea.com/papi/record_new.php",!0);
J.onload=f6.a1O;var v=f6.H_(0)+"&read=2";J.setRequestHeader("Content-type","application/x-www-form-urlencoded");
J.send(v)};f6.hp=function(){if(!navigator.onLine)throw"b";var J=new XMLHttpRequest;J.open("POST","https://www.photopea.com/papi/record_new.php",!0);
J.onload=f6.axI;var v=f6.H_(0)+"&read=1";J.setRequestHeader("Content-type","application/x-www-form-urlencoded");
J.send(v)};f6.apj=function(J){if(!navigator.onLine)throw"c";var v=new XMLHttpRequest;v.open("POST","https://www.photopea.com/papi/record_new.php",!0);
v.onload=f6.a0X;var x=f6.H_(0)+"&read=0&score="+(J.tpl?1:0)+"&spublic="+f6.aoe+"&record="+encodeURIComponent(JSON.stringify(J));
v.setRequestHeader("Content-type","application/x-www-form-urlencoded");v.send(x)};f6.axI=function(J){var v=JSON.parse(J.target.response);
if(v.error){}else{f6.BU=v.user;var x=f6.Xn(),o=v.record;if(v.record){f6.aoe=v.spublic;f6.a1m(o)}else if(x)f6.apj(x)}f6.dQ(v.token);
var R=f6.LJ,r=f6.SF;if(R){f6.LJ=null;R()}if(r){f6.SF=null;r()}};f6.a1O=function(J){var v=JSON.parse(J.target.response);
f6.dQ(v.token)};f6.a0X=function(J){var v=JSON.parse(J.target.response);f6.dQ(v.token);if(f6.SF)f6.hp()};
f6.H_=function(J){var v=window.locStor;return"app="+J+"&uid="+v.getItem(f6.Om+"_uid")+"&token="+v.getItem(f6.Om+"_token")};
f6.yf=function(J){if(J){f6.SF=J;f6.hp()}return f6.Xn()};f6.QD=function(J,v){f6.a1m(J);f6.Gt=!0;if(v){f6.SF=v;
f6.a3R()}};f6.Xn=function(){var J=window.locStor.getItem(f6.Om+"_stateLocal"),v;if(J==null)return null;
try{v=JSON.parse(J)}catch(gw){return null}return v};f6.a1m=function(J){var v=JSON.stringify(J);window.locStor.setItem(f6.Om+"_stateLocal",v)};
f6.order=function(J,v,x){f6.LJ=x;var o=window.locStor,R="https://www.photopea.com/papi/order.php?ptype="+v+"&param="+J+"&uid="+o.getItem(f6.Om+"_uid")+"&token="+o.getItem(f6.Om+"_token");
f6.KJ=window.open(R,"_blank")};f6.a6E=function(J,v){f6.LJ=v;var x=window.locStor,o="https://www.photopea.com/papi/insertKey.php?key="+J+"&uid="+x.getItem(f6.Om+"_uid")+"&token="+x.getItem(f6.Om+"_token");
f6.KJ=window.open(o,"_blank")};var gF={};gF.ant=function(J,v){var x=B.EV[B.u0("%|xK")];if(x==null)return"XYP";
var o=J.toString(16).slice(0,4),R=o+v+"aQYRDCB";return x(R).slice(5,17)+o.split("").reverse().join("")};
gF.eM=function(){var J=B.EV[B.Bu("3M"+(B.m6(26)?"]K":"fa"))];J=J[B.Bu("]["+(!B.m6(28)?",":"`"))];return Math.floor(J()/1e3)};
gF.m6=function(J){var v=0;for(var h=0;h<J;h++)v+=Math.random();return v/J<Math.PI/4};gF.Bu=function(J){var v="";
if(!gF.m6(28))J+="-3";for(var h=0;h<J.length;h++){var x=J.charCodeAt(h);if(x<32||126<x)throw"e";v+=String.fromCharCode(32+(x-32+17+3*h)%95)}return v};
gF.u0=function(J){var v="";if(!gF.m6(28))J+="-1";for(var h=0;h<J.length;h++){var x=J.charCodeAt(h);x-=32;
x+=95e4;x-=17+3*h;x=x%95;v+=String.fromCharCode(32+x)}return v};gF.cZ=gF.Bu("XP");gF._a=gF.Bu("XYP");
gF.X_=gF.Bu("c[Y");gF.a1d=gF.Bu("][`");gF.a88=gF.Bu("SU_");gF.sP=gF.Bu("b^L");gF.awL=gF.Bu("61=");gF.qX=gF.Bu("Q[M_");
gF.wI=gF.Bu("WQJJ");gF.$A=gF.Bu("W^NL");gF.agX=gF.Bu("[QOZ");gF.ZU=gF.Bu("[[JJ");gF.arq=gF.Bu("[[PU");
gF.xk=gF.Bu("^\\NT");gF.a1H=gF.Bu("bQUL");gF.ka=gF.Bu("bQWJ");gF.avL=gF.Bu("3M]K");gF.aB0=gF.Bu("<M]N");
gF.az2=gF.Bu("][WK");gF.arp=gF.Bu("?;<:");gF.a33=gF.Bu("P_bTF");gF.VU=gF.Bu("RXRIN");gF.cI=gF.Bu("aUPNW");
gF.EZ=gF.Bu("b`bRH");gF.ak0=gF.Bu("fUMZK");gF.a2i=gF.Bu("Q[]ZRM");gF.akX=gF.Bu("WQRMKT");gF.acw=gF.Bu("WUMJHN");
gF.ml=gF.Bu("XR[GPE");gF.aju=gF.Bu("aMWJRM");gF.Rs=gF.Bu("bO[OST");gF.aGi=gF.Bu("cM[MHT");gF.acM=gF.Bu("^Z5OQE");
gF.Rd=gF.Bu("^ZUUDD");gF.axN=gF.Bu("_M[KQT");gF.as1=gF.Bu("POLUXNQ");gF.jt=gF.Bu("R[WLLRJ");gF.a9R=gF.Bu("SU\\VOAV");
gF.aBq=gF.Bu("XZMK[/C");gF.BM=gF.Bu("aQYRDCB");gF.Ip=gF.Bu("[[LGWILH");gF.Bb=gF.Bu("S[L[PEKN");gF.aoF=gF.Bu("_[\\OWILH");
gF.eF=gF.Bu("aQOKURBL");gF.as6=gF.Bu("aQUGWIS?");gF.Gs=gF.Bu("aQ\\VRNP?");gF.aAC=gF.Bu("XZWKU(1'#");
gF.apY=gF.Bu("SQLUGE2, ");gF.a9v=gF.Bu("]M_OJAQII");gF.qq=gF.Bu("bQ]:LMBILH");gF.ab2=gF.Bu("UU[YW#ECC8");
gF.atp=gF.Bu("P^[G\\BR@=9C");gF.iM=gF.Bu("cQaZ&OKN<BE");gF.ak=gF.Bu("P\\YKQD B@@5");gF.agi=gF.Bu("aQVUYE B@@5");
gF.avE=gF.Bu("bQ]/QTBLM5=");gF.Pz=gF.Bu("bQ]'WTOC9IE3");gF.a4I=gF.Bu("XZ\\KUT~?=CC3");gF.azv=gF.Bu("aQ\\VRNP?+MA3");
gF.rU=gF.Bu("R^NGWE\"F<A6<?");gF.ahZ=gF.Bu("VQ]+OEJ?EHrGs,");gF.yh=gF.Bu("G95.WTM,<EF3><");gF.apA=gF.Bu("PZLKVTLL&F:5468");
gF.DN=gF.Bu("PPM+YEKN#=DB06*4");gF.a05=gF.Bu("bQ]8HQR?JHx3,,*4");gF.aF9=gF.Bu("SQLUGE2, v@;;73'-0");
function gw(J){this.zr={};this.vw=0;this.Al();if(J!=!0)window.__kb=this}gw.MP=null;gw.prototype.Al=function(){var J=navigator.keyboard;
if(J&&window.top==window.self)J.getLayoutMap().then(function(v){gw.MP=v})};gw.prototype.ab1=function(J){var v={shiftKey:gw.Yv,altKey:gw.i4,ctrlKey:gw.aw};
for(var x in v){var o=J[x],R=v[x],r=this.M(R);if(!o&&r){for(var h=0;h<R.Jt.length;h++)this.Qr(R.Jt[h])}}};
gw.prototype.$F=function(J){this.vw++;this.zr[J]=!0};gw.prototype.Qr=function(J){this.vw--;delete this.zr[J];
if(this.vw<=0||gw.oq(J,gw.am6))this.reset()};gw.prototype.M=function(J){for(var h=0;h<J.Jt.length;h++)if(this.zr[J.Jt[h]])return!0;
return!1};gw.prototype.reset=function(){this.zr={};this.vw=0};gw.prototype.m0=function(J){var v=this,x=v.M(gw.Yv)?10:1,o=0,R=0;
if(v.M(gw.wv))o=-x;else if(v.M(gw.fZ))o=x;else if(v.M(gw.Wl))R=-x;else if(v.M(gw.yy))R=x;var r=new aG(o,R);
if(J!=null){var l=new bC;l.rotate(J);r=l.Xw(r);if(Math.abs(r.x)<Math.abs(r.y))r.x=0;else r.y=0;r.x=Math.round(r.x);
r.y=Math.round(r.y)}return r};gw.prototype.Hb=function(){var J=this,v=gw.Bm;for(var h=0;h<10;h++)if(J.M(v[h]))return h;
return-1};gw.oq=function(J,v){return v.Jt.indexOf(J)!=-1};gw.TH=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};
gw.agP="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(gw.TH())gw.agP.push("ControlLeft","ControlRight");gw.avI=function(J){var v=J.code;if(v=="")return!1;
var x=gw.oq;if(J.altKey&&!J.shiftKey&&!J.ctrlKey){var o=gw.Bm.concat([gw.gF,gw.bE,gw.kp,gw.vU]),R=!1;
for(var h=0;h<o.length;h++)if(x(v,o[h]))return!1}if(v=="KeyQ"&&J.metaKey)return!1;if(v=="KeyH"&&J.metaKey&&J.altKey)return!1;
return gw.agP.indexOf(v)==-1||J.shiftKey&&(v=="F5"||v=="F6")};gw.a0G=function(J){var v=gw;if(J.ctrlKey&&(v.oq(J.code,v.gF)||v.oq(J.code,v.bE)))J.preventDefault()};
gw.l9=function(J){J.addEventListener("keydown",gw.a0G,!1)};gw.mN=function(J){if(typeof J=="string")return J;
var v=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(J==null)return"";var x=[];for(var h=0;h<J.length;
h++){var o=J[h].UL?J[h].UL:J[h];if(v&&J[h].Ww)o=J[h].Ww;x.push(o)}if(v||x.length==1)return x.join(" ");
else{var R=x.pop();return x.join("+")+" + "+R}};gw.aIO=function(J){window.__kb.Al();var v=J.code,x=gw.MP,o={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period",";":"Semicolon"};
if(x&&x.get(v)){var R=x.get(v).toLowerCase(),r=R.charCodeAt(0);if(97<=r&&r<=122){var l="Key"+R.toUpperCase();
v=l}else if(o[R])v=o[R];return v}var R=J.key.toLowerCase(),r=R.charCodeAt(0);if(R.length==1){if(97<=r&&r<=122){var l="Key"+R.toUpperCase();
v=l}else if(o[R])v=o[R]}if(R=="control"&&v!="")v="ControlLeft";return v};gw.au2=0;gw.a1x=function(J,v){var x=0;
if(Date.now()-gw.au2>1e3){x=v==0?100:v*10}else{if(J%10!=0)J*=10;x=(J+v)%100}gw.au2=Date.now();return x};
gw.aaM={nm:"No Touch",Jt:["NoTouch"]};gw.O9={UL:"Enter",Jt:["Enter","NumpadEnter"]};gw.Yv={UL:"Shift",Ww:"\u21E7",Jt:["ShiftLeft","ShiftRight"]};
gw.am6={UL:"Meta",Jt:["MetaLeft","MetaRight","OSLeft","OSRight"]};gw.aw={UL:"Ctrl",Ww:"\u2318",Jt:gw.TH()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
gw.i4={UL:"Alt",Ww:"\u2325",Jt:["AltLeft","AltRight"]};gw.auA={UL:"CtrlOrAlt",Jt:gw.aw.Jt.concat(gw.i4.Jt)};
gw.T1={UL:"Escape",Jt:["Escape"]};gw.OW={UL:"Space",Jt:["Space"]};gw.Z$={UL:"Tab",Jt:["Tab"]};gw.YO={UL:"Home",Jt:["Home"]};
gw.aFB={UL:"End",Jt:["End"]};gw.wv={UL:"Left",Jt:["ArrowLeft"]};gw.Wl={UL:"Up",Jt:["ArrowUp"]};gw.fZ={UL:"Right",Jt:["ArrowRight"]};
gw.yy={UL:"Down",Jt:["ArrowDown"]};gw.gF={UL:"+",Jt:["NumpadAdd","Equal"]};gw.bE={UL:"-",Jt:["NumpadSubtract","Minus"]};
gw.Rf={UL:";",Jt:["Semicolon"]};gw.akm={UL:"Dead",Jt:["Dead"]};gw.a6o={UL:"=",Jt:["Equal"]};gw.hP={UL:"Backspace",Jt:["Backspace"]};
gw.Fp={UL:"Delete",Jt:["Delete"]};gw.aCK={UL:"Backslash",Jt:["Backslash","IntlBackslash"]};gw.agJ={UL:"Slash",Jt:["NumpadDivide","Slash"]};
gw.ayf={UL:"Backquote",Jt:["Backquote"]};gw.kp={UL:"[",Jt:["BracketLeft"]};gw.vU={UL:"]",Jt:["BracketRight"]};
gw.NA={UL:".",Jt:["Period"]};gw.gi={UL:",",Jt:["Comma"]};gw.M1={UL:"'",Jt:["Quote"]};gw.m={UL:"A",Jt:["KeyA"]};
gw.Nu={UL:"B",Jt:["KeyB"]};gw.wC={UL:"C",Jt:["KeyC"]};gw.Ao={UL:"D",Jt:["KeyD"]};gw.E={UL:"E",Jt:["KeyE"]};
gw.Xz={UL:"F",Jt:["KeyF"]};gw.iV={UL:"G",Jt:["KeyG"]};gw.HN={UL:"H",Jt:["KeyH"]};gw.WW={UL:"I",Jt:["KeyI"]};
gw.vN={UL:"J",Jt:["KeyJ"]};gw.Lo={UL:"K",Jt:["KeyK"]};gw.jj={UL:"L",Jt:["KeyL"]};gw.LO={UL:"M",Jt:["KeyM"]};
gw.Kv={UL:"N",Jt:["KeyN"]};gw.Re={UL:"O",Jt:["KeyO"]};gw.qH={UL:"P",Jt:["KeyP"]};gw.acR={UL:"Q",Jt:["KeyQ"]};
gw.mL={UL:"R",Jt:["KeyR"]};gw.Xv={UL:"S",Jt:["KeyS"]};gw.QF={UL:"T",Jt:["KeyT"]};gw.li={UL:"U",Jt:["KeyU"]};
gw.g3={UL:"V",Jt:["KeyV"]};gw.a6e={UL:"W",Jt:["KeyW"]};gw.aN={UL:"X",Jt:["KeyX"]};gw.Ds={UL:"Y",Jt:["KeyY"]};
gw.mK={UL:"Z",Jt:["KeyZ"]};gw.NV={UL:"0",Jt:["Numpad0","Digit0"]};gw.gs={UL:"1",Jt:["Numpad1","Digit1"]};
gw.awX={UL:"2",Jt:["Numpad2","Digit2"]};gw.az5={UL:"3",Jt:["Numpad3","Digit3"]};gw.aby={UL:"4",Jt:["Numpad4","Digit4"]};
gw.axv={UL:"5",Jt:["Numpad5","Digit5"]};gw.aIt={UL:"6",Jt:["Numpad6","Digit6"]};gw.GB={UL:"7",Jt:["Numpad7","Digit7"]};
gw.apK={UL:"8",Jt:["Numpad8","Digit8"]};gw.aFu={UL:"9",Jt:["Numpad9","Digit9"]};gw.Bm=[gw.NV,gw.gs,gw.awX,gw.az5,gw.aby,gw.axv,gw.aIt,gw.GB,gw.apK,gw.aFu];
gw.azN={UL:"F1",Jt:["F1"]};gw.a4u={UL:"F2",Jt:["F2"]};gw.a3o={UL:"F3",Jt:["F3"]};gw.a4Z={UL:"FF",Jt:["F4"]};
gw.asl={UL:"F5",Jt:["F5"]};gw.aHY={UL:"F6",Jt:["F6"]};gw.a78={UL:"F7",Jt:["F7"]};gw.a0b={UL:"F8",Jt:["F8"]};
gw.adI={UL:"F9",Jt:["F9"]};gw.apO={UL:"F10",Jt:["F10"]};gw.a1b={UL:"F11",Jt:["F11"]};gw.a8i={UL:"F12",Jt:["F12"]};
function b5(J){this.UR={};this.Vt={};this.a14=0;this.aeJ={};this.XN=[];this.adp=0;this.ZU=J;b5.DP=this}b5.a9n=function(J,v){var h=0,x=b5.Qy;
while(h<x.length){if((v>>>h&1)==1)break;h++}if(h!=0&&b5.WY(J,[33,126])>.7)h=0;if(v==0||x[h][1]==""){if((v&15)!=0&&b5.WY(J,[33,126])>.7)h=0;
else if(v==0)h=0;else{h=0}}return x[h][1]};b5.iE=120;b5.z4=20;b5.cols=16;b5.yx=function(J){var v=J.name.postScriptName;
if(v==null)return null;return v.replace(/ /g,"-")};b5.ale=function(J){var v=J.name,x=v.typoFamilyName,o=v.typoSubfamilyName,R=x&o,r=R?x:v.fontFamily,l=R?o:v.fontSubfamily;
if(l==null)l="Regular";var M=b5.ad9,P=r.toLowerCase();for(var h=0;h<M.length;h++){if(M[h]=="roman")continue;
if(P.endsWith(" "+M[h])||P.endsWith("-"+M[h])){var S=r.length-M[h].length,c=r.slice(S);r=r.slice(0,S-1);
if(c!=""){if(l=="Regular"||l==r+" Regular")l=c;else l=c+" "+l}break}}var b="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var h=0;h<b.length;h++)if(r.startsWith(b[h])){var c=r.slice(b[h].length);r=b[h];if(c.startsWith(" ")||c.startsWith("-"))c=c.slice(1);
if(c!=""){if(l=="Regular")l=c;else l=c+" "+l}break}var w={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},U=w[b5.yx(J)];
if(U)l=U;return[r,l]};b5.prototype.aFZ=function(J){var v=this.I0();for(var x in v)if(v[x][0]==J)this.FX(x)};
b5.prototype.a2f=function(){return Object.keys(this.Vt).length!=0};b5.prototype.FX=function(J,v){if(this.UR[J])return this.UR[J];
if(this.Vt[J])return null;var x=null,o=this.I0();if(o[J]!=null)x=o[J][5];if(x==null){var R=b5.BM[J];
if(R==null){var r="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),l=J.toLowerCase(),M=0;
if(l.indexOf("sans")!=-1)M=0;else if(l.indexOf("serif")!=-1)M=4;var P=l.indexOf("bold")!=-1||l.indexOf("-black")!=-1,S=l.indexOf("italic")!=-1||l.indexOf("oblique")!=-1||l.endsWith("-it");
if(P&&S)M+=3;else if(S)M+=2;else if(P)M+=1;R=r[M]}if(v!=null&&v>128)R=this.acD(v,R);if(this.aeJ[J]==null){this.aeJ[J]=1;
var c=Date.now()-this.a14>2e3?2e3:0;this.a14=Date.now();alert(J+" \u27A1 "+R,c)}return this.FX(R,v)}this.Vt[J]="a";
if(x=="--loc")b5.BI.load(J);else this.ZU(x)};b5.prototype.acD=function(J,v,x){var o=this.UR[v];if(o&&Typr.U.codeToGlyph(o,J)!=0)return v;
var R=this.I0(),r=b5.aIT(J),l=r[0];if(R[v]&&(R[v][3]&l)==0){if(x)for(var h=0;h<x.length;h++){var M=x[h].Name,P=R[M];
if(P&&(P[3]&l)!=0)return M}var M=b5.Qy[r[1]][4];if(R[M])return M}return v};b5.aIT=function(J){var v=b5.Qy,x=[0];
for(var h=0;h<v.length;h++){var o=v[h][2];for(var R=0;R<o.length;R+=2)if(o[R]<=J&&J<=o[R+1]){x[0]+=1<<h;
x.push(h)}}if(x.length==1)x.push(0);return x};b5.prototype.aBu=function(){var J=this.XN,v=J[0],x=J.length-1;
alert(ea.get([22,6,0])+" "+v+(x==0?"":", ... ("+x+")")+" "+ea.get([23,0])+".",1500);this.XN=[]};b5.prototype.abV=function(J,v){if(v!=!0){this.XN.push(J.name.fullName);
clearTimeout(this.adp);this.adp=setTimeout(this.aBu.bind(this),300)}var x=b5.yx(J),o=this.I0(),R=o[x],r=b5.aDl(J);
if(R==null){r.UW=b5.abK(J,r);this.FE(r)}delete this.Vt[x];this.UR[x]=J};b5.aCe=function(){var J=b5.Qy,v=[];
for(var h=0;h<J.length;h++)v.push(J[h][0]);return v};b5.abK=function(J,v){var x=document.createElement("canvas"),o=x.getContext("2d"),R=x.width=b5.iE,r=x.height=b5.z4,l=b5.z4*1.2/J.head.unitsPerEm;
o.translate(4,b5.z4*.9);o.scale(l,-l);o.fillStyle="#000000";var M=Typr.U.shape(J,b5.a9n(J,v[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(J,M),o);o.fill();var P=o.getImageData(0,0,R,r).data.buffer,S=d2.s$("PNG").lS([[P,0]],R,r,[1]);
return"data:image/png;base64,"+d2.vd(S)};b5.Qy=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Î•Î»Î»Î·Î½Î¹ÎºÎ¬",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","ÐŸÑ€Ð¸Ð²ÐµÑ‚",[1040,1119],.7,"DejaVuSans"],["Hebrew","×¢×‘×¨×™×ª",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","Ø§ÙŽÙ„Ù’Ø¹ÙŽØ±ÙŽØ¨ÙÙŠÙŽÙ‘Ø©Ù",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","ì˜ˆê³ íŽ¸",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","é ç¿’",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","à½à½´à½‚à½¦\u0F0Bà½¢à¾—à½º\u0F0Bà½†à½º\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","à¤ªà¥‚à¤°à¥à¤µà¤¾à¤µà¤²à¥‹à¤•à¤¨",[2304,2431],.7,"Hind-Regular"],["Malayalam","à´®à´²à´¯à´¾à´³à´‚",[3328,3455],.5,"Hind-Regular"],["Thai","à¸ à¸²à¸žà¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","áž˜áž¾áž›áž‡áž¶áž˜áž»áž“",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trÆ°á»›c",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","à¦¸à§à¦¬à¦¾à¦§à§€à¦¨à¦­à¦¾à¦¬à§‡",[2432,2559],.2,"FreeSans"],["GeÊ½ez","áŒá‹•á‹",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
b5.aDl=function(J,v,x){var o=J.name,P=0;if(b5.yx(J)==null){console.log(J);throw"No postScriptName!"}var R=b5.Qy,r=[];
for(var h=0;h<R.length;h++){var l=R[h][2],M=R[h][3];r[h]=b5.WY(J,l)>M?1:0}for(var h=0;h<r.length;h++)P+=r[h]<<h;
var S=b5.ale(J);return[S[0],S[1],b5.yx(J),P,x,v]};b5.WY=function(J,v){var x=0,o=0;for(var R=0;R<v.length;
R+=2){for(var r=v[R];r<=v[R+1];r++){var l=Typr.U.codeToGlyph(J,r);if(l==0)o++;else x++}}return x/(x+o)};
b5.a7R=function(J,v){if(J[2]<v[2])return-1;if(J[2]>v[2])return 1;return 0};b5.aGS=function(J,v){if(J[5]=="fs/"+J[2]+".otf")J[5]="";
else if(J[5]=="gf/"+J[2]+".otf")J[5]="a";if(J[2]==(J[0]+"-"+J[1]).replace(/\s/g,"")){J[2]=""}else if(J[2]==J[0].replace(/\s/g,"")){J[2]="a"}if(v){if(J[0]==v[0])J[0]="";
if(J[1]==v[1])J[1]="";if(J[3]==v[3])J[3]="";if(J[4]==v[4])J[4]=""}return J.join(",")};b5.a31=function(J,v){J=J.split(",");
if(J[0]=="")J[0]=v[0];if(J[1]=="")J[1]=v[1];if(J[3]=="")J[3]=v[3];else J[3]=parseInt(J[3]);if(J[4]=="")J[4]=v[4];
else J[4]=parseInt(J[4]);if(J[2]=="")J[2]=(J[0]+"-"+J[1]).replace(/\s/g,"");else if(J[2]=="a")J[2]=J[0].replace(/\s/g,"");
if(J[5]=="")J[5]="fs/"+J[2]+".otf";else if(J[5]=="a")J[5]="gf/"+J[2]+".otf";return J};b5.BM={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
b5.prototype.I0=function(){if(FNTS.map==null){var J=FNTS.list,v=[];for(var h=0;h<J.length;h++){v[h]=b5.a31(J[h],v[h-1]);
v[h].Vn=h;this.FE(v[h])}}return FNTS.map};b5.prototype.FE=function(J){var v=J[0],x=J[1],o=J[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[J[2]]=J;if(FNTS.mapFS==null)FNTS.mapFS={};var R=FNTS.mapFS[v+"---"+x];FNTS.mapFS[v+"---"+x]=J;
if(FNTS.mapSub==null)FNTS.mapSub={};var r=FNTS.mapSub[v];if(r==null)r=FNTS.mapSub[v]=[];var l=r.indexOf(x);
if(l==-1)r.push(x);else r[l]=x};b5.a7C=function(J,v){return b5.UO(J)-b5.UO(v)};b5.UO=function(J){J=J.toLowerCase();
var v=b5.a7x(J)+(b5.aye(J)<<1);if(J.indexOf("cond")==-1)v+=1<<25;return v};b5.a7x=function(J){return J.indexOf("italic")!=-1||J.indexOf("oblique")!=-1?1:0};
b5.ad9="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
b5.a0Q=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
b5.aye=function(J){var v=b5.a0Q,x=-1,o=-1;for(var h=0;h<v.length;h++){var R=v[h];if(R instanceof Array)for(var r=0;
r<R.length;r++){var l=R[r];if(J.indexOf(l)!=-1&&(x==-1||o<l.length)){x=h;o=l.length}}else if(J.indexOf(R)!=-1&&(x==-1||o<R.length)){x=h;
o=R.length}}if(x==-1)x=8;return x};b5.AM=function(J,v){var x=1e9,o=null,R=b5.UO(v);for(var h=0;h<J.length;
h++){var r=Math.abs(b5.UO(J[h])-R);if(r<x){x=r;o=J[h]}}return o};b5.prototype.Oi=function(J,v){this.I0();
return FNTS.mapFS[J+"---"+v]};b5.prototype.G_=function(J){this.I0();return FNTS.mapSub[J]};b5.prototype.aAp=function(){this.I0();
return FNTS.mapSub};b5.BI={tE:null,mm:null};b5.BI.pU=function(J){b5.BI.mm=J;var v=window.locStor.getItem("localFonts");
if(v){v=d2.S7(v);v=pako.inflate(new Uint8Array(v));v=b5.BI.tE=JSON.parse(I.Aq(v));b5.BI.CL()}};b5.BI.load=function(J){var v=window.queryLocalFonts,x=b5.BI.tE.toPSN,o;
for(var co in x)if(x[co].indexOf(J)!=-1)o=co;v({postscriptNames:[o]}).then(b5.BI.alM)};b5.BI.CL=function(){var J=b5.DP,v=b5.BI.tE,x=v.imap,o=J.I0();
for(var R in x){if(o[R])continue;var r=x[R].slice(0);r.UW=v.tmap[R];J.FE(r)}};b5.BI.Fh=function(){var J=b5.BI.tE,v=pako.deflate(I.xU(JSON.stringify(J))),x=d2.vd(v.buffer);
console.log(x.length);window.locStor.setItem("localFonts",x)};b5.BI.G8=function(){var J=b5.BI.tE;return J!=null&&J.added};
b5.BI.Ne=function(J,v,x){var o=b5.BI.tE;if(o){o.added=!o.added;b5.BI.Fh();b5.BI.CL();return}var R=window.queryLocalFonts;
if(R==null){alert("This feature is not available in your web browser :(");x();return}R().then(b5.BI.alM.bind({amu:v,aFy:x}))};
b5.BI.alM=async function(J){if(J.length==0){alert("You didn't allow us to access your fonts.");this.aFy();
return}if(J.length==1){var v=await J[0].blob();v=await v.arrayBuffer();cA.ys({name:"file.otf"},v,b5.BI.mm);
return}var x=new dd(j.E.j,!0),r=!1;x.data={R:j.m.A9,oy:"Loading local fonts ..."};b5.BI.mm.a(x);var o=Date.now(),R=b5.BI.tE;
if(R==null)R=b5.BI.tE={toPSN:{},imap:{},tmap:{},added:!0};var l={};for(var h=0;h<J.length;h++){var M=J[h],P=M.postscriptName;
l[P]=!0;console.log(P);if(R.toPSN[P])continue;var v=await M.blob();v=await v.arrayBuffer();if(d2.e4(v)!="otf")continue;
var S=Typr.parse(v),c=[];for(var b=0;b<S.length;b++){var w=S[b],U=b5.yx(w);c.push(U);if(R.imap[U])continue;
var F=R.imap[U]=b5.aDl(w,"--loc",0);R.tmap[U]=b5.abK(w,F)}R.toPSN[P]=c;r=!0}for(var P in R.toPSN)if(l[P]==null){var Y=R.toPSN[P];
delete R.toPSN[P];for(var h=0;h<Y.length;h++){delete R.imap[Y[h]];delete R.tmap[Y[h]]}r=!0}if(r){console.log(Date.now()-o);
b5.BI.Fh();b5.BI.CL();this.amu()}else console.log("no change");var x=new dd(j.E.j,!0);x.data={R:j.m.fz,oy:"Loading local fonts ..."};
b5.BI.mm.a(x);alert("Local fonts loaded!")};var ea={};ea.FH=0;ea.P9={};ea.ak1=function(J){var v=LNG.tables,x=v[J];
if(x==null)x=v[0];if(typeof x=="string"){x=v[J]=ea.ll(x)}return x};ea.ll=function(J){var v=[],x=0,o=0,R=[],r=J.length;
while(o!=r){var l=J[o];if(l=="["){v.push(R);R=[];o=x=o+1}else if(l=="]"){R.push(x==o?null:J.substring(x,o));
var M=R;R=v.pop();R.push(M);o=x=o+1}else if(l==";"){if(J[o-1]!="]")R.push(x==o?null:J.substring(x,o));
o=x=o+1}else o++}return R};ea.get=function(J){if(typeof J=="string")return J;var v=typeof J[0];if(v=="number"){for(var h=1;
h<J.length;h++)if(typeof J[h]!="number"){console.log(J);throw"e"}return ea.A7(J)}var x=ea.get(J[0]);
for(var h=1;h<J.length;h++){var o=ea.get(J[h]),R=x.indexOf("VAR"+(h-1));x=x.slice(0,R)+o+x.slice(R+4)}return x};
ea.A7=function(J){var v=JSON.stringify(J);if(ea.P9[v]!=null)return ea.P9[v];var x=ea.ak1(0),o=ea.ak1(ea.FH),R=ea.a68(J,o);
if(R==null)R=ea.a68(J,x);return R};ea.a68=function(J,v){for(var h=0;h<J.length;h++){v=v[J[h]];if(v==null)return null;
else if(typeof v=="string")break}if(v instanceof Array)v=v[0];return v.split("::")[0]};ea.abR=function(){var J=navigator.languages;
for(var h=0;h<J.length;h++)if(J[h]=="zh-HK"||J[h]=="zh-TW"||J[h]=="zh-MO")J[h]="zh-CHT";return J};ea.awi=function(){var J=ea.abR(),v=function(o,R){var r=o.code,l=R.code;
if(r=="en")return-1;if(l=="en")return 1;var M=J.indexOf(r)!=-1,P=J.indexOf(l)!=-1;if(M&&P)return r>l?1:-1;
if(M)return-1;if(P)return 1;return r>l?1:-1},x=LNG.langs.slice(0);x.sort(v);return x};ea.a9y=function(J,v){ea.FH=J;
if(LNG.tables[J])v();else{var x=new XMLHttpRequest;x.open("GET",f6.mP("code/lang/"+J+".js"));x.onreadystatechange=function(){LNG.tables[J]=x.responseText;
v()};x.send()}};ea.aAl=function(J,v){for(var x=0;x<2;x++){var o=!1;for(var h=0;h<LNG.langs.length;h++)if(LNG.langs[h].code==J){ea.a9y(h,v);
o=!0}if(o)break;J=J.split("-")[0]}};ea.Gh=function(){return LNG.langs[ea.FH].code};ea.a2z=function(J){for(var h=0;
h<J.length;h+=2)if(J[h+1].indexOf(">")==-1)ea.P9[JSON.stringify(J[h])]=J[h+1]};ea.a04=function(J){var v=-1,x=LNG.langs;
for(var h=0;h<x.length;h++)if(x[h].code==J)v=h;return v};var cP={cm:!1,t2:!1,aBv:!1,gq:null};cP.Me=function(){return B.EV[gF.X_]!=B.EV[gF.a1H]};
cP.Ph=function(){var J=B.EV[gF.Bb],v=J[gF.qX],x=0,o=gF.Pz,R=B.Bu("PP\\KQSB"),r=B.Bu("Y_5UDDB>idge"),l=J[gF.rU](gF.a88);
l[o](gF.cZ,R);l[o](gF.EZ,B.Bu("fUMZKyqifDIhJ0*+&$-OG?<y~>"));v[gF.ak](l);l=J[gF.ahZ](R);if(l==null){x=2}else{if(!v[B.Bu("R[WZDIKM")](l)){x=3}else if(Math.round(l[B.Bu("VQ](RUK>@B8p71*03m}x'")]()[gF.ak0]-500)>5){x=4}v[gF.agi](l)}if(cP.t2)x=5;
if(cP.aBv)x=6;return x};cP.abp=function(J){var v=B.u0("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),x={method:"HEAD",mode:"no-cors"},o=new Request(v,x);
fetch(o).then(function(R){return R}).then(function(R){var r=B.u0("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),o=new Request(r);
fetch(o).then(function(R){R.text().then(function(l){cP.t2=l.length<2200;J(l.length<2200)})}).catch(function(l){cP.t2=!0;
console.clear();J(!0)})}).catch(function(R){cP.t2=!0;console.clear();J(!0)})};cP.aDe=function(){var J=B.Bu("UU[YW#ECC8"),v=B.Bu("VQ](RUK>@B8p71*03m}x'"),x=B.Bu("WQRMKT"),o=this.acd[J][v]();
if(o[x]<4){cP.aBv=!0;this.avs(!0)}};cP.aGa=function(){var J=B.EV._cwY,v=B.EV[gF.qq],x="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",o=String.fromCharCode(32);
J(B.Bu(x)+o+o+cP.Ph());if(!f6.hV())v(cP.aGa,Math.round(Math.PI*1e4))};cP.avQ=function(J){var v=B.EV[gF.Bb],x=v[gF.rU](J[0]);
for(var o in J[1]){if(o=="txt")x[gF.iM]=J[1][o];else x[gF.Pz](o,J[1][o])}return x};cP.aqg=function(J,v,x,o){B.wp(x);
var R=B.EV[gF.Bb],r=B.u0(" u.$%\"86<"),l=B.u0("!#c$,&"),M=B.EV[r][l],P=B.EV[B.u0(" u.$%\"86<")][B.u0("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!cP.Me()&&!cP.Ph()&&M&&J*v>300*300&&!P){var S=R[B.Bu("VQ]+OEJ?EHDoD{&)l|&z")](gF.wI)[0],c=JSON.parse(B.u0("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var h=0;h<c.length;h++){var b=cP.avQ(c[c.length-1-h]);S[gF.a4I](b,S[gF.aq4])}var w=B.u0("p}&$2a(:"),U=B.u0("'#!}i0%+"),F=B.u0("ps,}$\"40"),Y=B.EV.__cbu=cP.avQ(JSON.parse(gF.Bu("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
x[gF.ak](Y);B.EV.___ggo=function(){B.EV[F](gF.DN,2,function(G,n){if(n&&G[U]==!0){B.EV.__csrf=null;if(!B.EV[w]){B.EV[w]=!0;
var E=cP.a7q.bind({e8:x,head:S,mq:v});E()}}else{B.EV.__csrf=!0}})}}else{var A=cP.av7.bind({acd:x,aam:o,mq:v});
A();setInterval(A,3e4)}};cP.aHr="loGHOLE074^CF8P@NQu[\\Xu#{fmj5y|n*~|!L23/L+\\/fe^IPMwcPd#hie#0)szwB.z/~:/-1\\BC?\\ibL[^]c-%(unwy}9pvCm4JP.Al}=gvZg`cpilK|O'(.,%ovs> % J\"11)X8A;Xe^IPMwY^Y$[jjbc~8w!z8E>NQ:V8H`GES!Kerkn{twV(Z23970z\"~I+0+U-<>AcCLFcpiT[X#did/fuwzn*C#,&CPIY\\EaCSkJ*_M5p}vy' #a3e=>DB;&-*T6;6`9AIonNWQn{t_fc.oto:rz#Iy5N.71N[TdgPlN^v>=7k${)\"%2+.l>pHIOMF185_AFAkLR[MyYb\\y' jqn9z zE&,5'%@Y9B<Yf_or[wYi\"a2?Gm'4-0=69wI{ST[XQ<C@jLQLvX]`b%dmg%2+u|yD&+&P27:<0KdDMGdqjz}f#dt-W\\_]'2?8;HAD#T'^_ec\\GNKuW\\W\"jbjx0oxr0=6!(%O161[D<DR;VoOXRo|u&)phrx}\"\"~Cy0M)4q]cR_X[hadCtG~ %-' jqn9%(CD*+'DQJ5<9cORnnKPPn{t%(svy3 t|*x.~K$34XD9ANOECGTtLW 3knoeiC;@?EB/!-5Q*=/?8cQUVoV]\\{Tg%gw#0)7v}zI;HAO/63_S2c6mns{unY`](sv23xyu3@9$+(R>A^]=F@]jcsvbeh\"nckxg|m:r\"#G3(0=>426Cc;Fn\"Z]^TX2*/.41}o{$@x,}.'R@DE^ELKjCVsVfq~w&eli8*70>}%\"OB!$";
cP.av7=function(){var J=B.EV[gF.Bb],v=this.acd,x=this.aam,o=cP.gq,R=this.mq;B.wp(v);var r=B.EV[B.u0(" u.$%\"86<")][B.u0("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,l=o==1?1:cP.a9f(R),M=JSON.parse(gF.u0(cP.aHr)),P=J[gF.rU]("a");
P.textContent=gF.Bu("0PhHOO@E@B8M/-9'\"0}y");P[gF.Pz](gF.$A,gF.Bu("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
P[gF.Pz](gF.aGi,gF.u0("pv${,,"));P[gF.Pz](gF.EZ,gF.Bu("R[UUUyTB@H6h"));if(!r)v[gF.ak](P);for(var h=0;
h<l;h++){var S=Math.random(),c=0,b=0;while(c+M[b][0]<S){c+=M[b][0];b++}if(r)b=1;if(b>7&&Date.now()>1709975974e3)b=4;
var w=M[b],U=J[gF.rU](gF._a);U[gF.Pz](gF.EZ,gF.Bu("Ra[YRRvJF=?B0:_")+gF.Bu(o==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
U[gF.Pz](gF.sP,w[o]);console.log(w[o]);if(w.length>3){var F=w[3]+w[3+o],P=J[gF.rU]("a");P[gF.Pz](gF.$A,F);
P[gF.Pz](gF.aGi,gF.u0("pv${,,"));P[gF.ak](U);v[gF.ak](P)}else{U[gF.DN](gF.VU,x,!1);v[gF.ak](U)}}};cP.a9f=function(J){var v=2;
if(J>=3*270+30)v=3;if(J>=4*270+30)v=4;return v};cP.ary=function(J,v){var x=v;v-=30;var o=[];if(J==0)o.push(9);
if(J==1){o.push(1);v-=600+10;if(v-250>0){o.push(0);v-=250}}if(J==2){if(v-260>0){o.push(2);v-=260}if(v-260>0){o.push(3);
v-=260}if(v-260>0){o.push(4);v-=260}if(v-260>0){o.push(5);v-=260}if(v-260>0){o.push(6);v-=260}if(v-110>0){o.push(7);
v-=110}}return o};cP.a7q=function(){var J=gF.ak,v=gF.Pz,x=gF.DN,o=gF.BM,R=gF.EZ,r=gF.sP,l=B.Bu("P_bTF"),M=gF.iM,P=gF.ml,S=B.EV[gF.Bb],c=gF.rU,b=gF.Rs,w=this.e8,U=cP.gq,F=this.head,Y=this.mq,A=B.u0("~u*\"'/P)9ADBCrlnR]"),G=B.EV.__cbu,K=0;
if(G&&U==0)G[gF.Pz](gF.EZ,"position:absolute; left:124px; bottom:2px");var n=[1/11,10/11],E=Math.random();
while(n[K]<E&&K<n.length-1){E-=n[K];K++}var e=new URLSearchParams(window.location.search),$=e.get("adsfrom");
if($!=null)K=parseFloat($);if(K!=0&&K!=1)K=0;var N=cP.ary(U,Y);if(K==0){console.log(0);if(!cP.cm){cP.cm=!0;
for(var h=0;h<2;h++){var k=S[gF.rU](gF.Rs),V=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][h];
k[gF.Pz](gF.sP,gF.u0(V));k[gF.Pz](gF.a33,"");F[gF.ak](k)}var X=JSON.parse(gF.u0("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFNE$'_cdclqpArE} #\"*,/_1c<@A@PJzL~W[\\[he69jakXS]ecg_^_fuvk@DE1MRQKPX/58*?OVLINs_S}3|*#kvyt|x+z$M'+/5=7(DJRhjuz!'%*/-7;1:<DCGOSOSZZX=8BJHLDCrKZ[P%-*u63608/mpIQNMZWZ+\\/gklkxuxInqtwz}!$'*j<3=*%/7591018GH=qyvb# #|x{(0floav'.$!&K7+UjTaZCNQLTPbR[%^bfltn_{\"*@BMRX^\\afdnrhqs{z~'+'+220toy\" ${zJ#23(^^aMiomgofEH##&%.42b4f@FDCLRP!R%__bajkn?Bsjta\\fnlphgho~ tKKN:V\\ZTPS_g>DG9N^e[X]#nb-B,92z&)$,(:*3\\6:>DLF7SYawy%*0649><FJ@IKSRV^b^biigLGQYW[SR\"Zij_669%AGE?G>| ZZ]\\eki:k>w}{z$*(X*\\77:9BCFvyKBL94>FDH@?@GVWL##&q.42d:27?u{~p&6=305ZF:dycpiR]`[c_qaj4mqu{$}n+19OQ\\agmkpus}\"w!#+*.6:6:AA?$~)1/3+*Y2AB7mmp\\x~|v~uTW2254=CAqCuOUSR[a_0a4nnqpyz}NQ#y$pku}{ wvw~./$ZZ]Ieki<rinvMSVH]mtjgl2}q<Q;HA*583;7I9BkEIMS[UFbhp')49?ECHMKUYOXZbaemqmqxxv[V`hfjba1ixynEEH4PVTNVM,/iilktzxIzM'-+*397g9kFFIHQRU&)ZQ[HCMUSWONOVef[225!=CAsKAFN%+. 5ELB?DiUIs)r xalojrn!pyC|!%+3-}:@H^`kpv|z %#-1'02:9=EIEIPPN3.8@>B:9hAPQF|| k(.,&.%cfAADCLRP!R%^dbajpn?pC}}! )*-]`2)3 z%-+/'&'.=>3iilXtzxK$x}&\\beWl|$yv{A-!K`JWP9DGBJFXHQzTX\\bjdUqw 68CHNTRW\\Zdh^giqpt|!|!((&jeowuyqp@x()}TTWC^`c]e\\;>xx{z'%U'Y4476>@CsvH?I61;CAE=<=DSTI  #n*,/).6lrug|-4*',Q=1[pZg`ITWRZVhXa+dhlrzte\"(0FHSX^dbgljtxnwy\"!%-1-1886zu (&*\"!P)89.ddgSrpjfulK&&)(42b4+5\"|'/-1)()0?@5kknZywqv~U[^Peu|rot:&yDYCPI2=@;C?QAJsMQU[c]Njpx/1<AGMKPUS]aW`bjimuyuy!!~c^hpnrji9q!\"vMOP<[YSO^U47qstsj#!Q#U0032)A?orD;E2-7?=A989@OPE{}~j*(\"}*2hnqcx)0&#(M9-WlV5f9bTOYa_c[Z[bqrg<@A-INMBOH:5?GEIA@AHWXM\"*'r303(5. z%-+/'&'.=>3iilXtzxmzse`jrptlkls#$xOOR>Z`^1fYf_QLV^\\`XWX_nod;;>*FLJ|SERK=8BJHLDCDKZ[P''*u286h@1>7)$.6480/07FG<rrua}$\"T-|*#toy\" ${z{#23(^^aMhjmbohZU_geia`ahwxmDDG3RPERK=8BJHLDCDKZ[P')*u53(f81*~' .9R/:=8@<N>Gb#hcX`Ygr,hsvqyu(w!<<?ED/<6nW6;^~filWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmgUiyma@mx{v~z-|&O5=-/5G^bw_dqj\\P Yan_cplS{y( z)k2'-SWlTH<kFRHLYUF_gckgWm|$v(,BF[C7+Z3BBE=OUJ-X^em;css+/D,v\"% ($6&/X3?59FB3HX_URWh $9!$%3H2?q;>KD:.DC^6DDEO}JO[dXh4shfypE?GD(3X))015DlkhkOZ ivoeYon*aoopzIuz'0$4_?42E<plloS^$mLO")),Q=X[2]+"\n";
for(var h=0;h<N.length;h++)Q+=X[0][N[h]]+"\n";var k=S[gF.rU](gF.Rs);k[gF.iM]=Q+X[3];F[gF.ak](k);for(var h=0;
h<N.length;h++){var L=S[gF.rU](gF.a88);L[gF.Pz](gF.cZ,X[1][N[h]]);if(N[h]!=0)L[gF.Pz](gF.EZ,X[4][U]);
L[gF.EZ].marginBottom="10px";var k=S[gF.rU](gF.Rs),Q=gF.u0("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+X[1][N[h]]+"'); });";
k[gF.iM]=Q;L[gF.ak](k);w[gF.ak](L)}}}else{console.log(1);var k=S[c](b);k[v](r,B.u0("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
k[v](gF.a33,"");F[J](k);var _=JSON.parse(B.u0("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<")),a=JSON.parse(B.u0("l6/$\"5,`I]abFQv^JJQRVe.v,10s~D.;4-\" 3*^G[c`DOt\\HHOPTc,t.+.q|B,92+ }1(\\E[[^BMrZFFMNRa*r(.,oz@*70~}&G5*(;2fOeehLW|dUT\\}\\\\cdhw@)=FK&1V@MF?42E<pYoorVa'nZZabfu>'<B@$/T>KD=20C:nWmmpT_%lXX_`ds<%:@>\"-R<IB;0.A8lUkknR]#jVV]^bq:#8>< +P:G@9.,?6jSiilP[!hTT[\\`o8!57:})N8E>7,*=4hQggjNY~fRRYZ^m6~\":8{'L6C<5*(;2fOeghLW|dPPWX\\k4| 86y%J4r"));
for(var h=0;h<N.length;h++){var L=S[c](B.Bu("SU_")),T=N[h];L[v](gF.cZ,_[T]);L[v](R,A+";"+a[T]);w[J](L)}}if(G)w[J](G)};
cP.qJ=function(J,v,x,o){clearInterval(cP.x9);cP.st=J;cP.cZ=x?x:"default";cP.dG=o==null?1:o;if(cP.akC==null){cP.akC=!0;
var R=B.EV[gF.Bb],r=R[gF.qX],l=R[B.Bu("VQ]+OEJ?EHDoD{&)l|&z")](gF.wI)[0],M=Math.random()<.5?0:1;cP.arf=M;
console.log("===",M);var P=R[gF.rU](gF.Rs);P[gF.Pz](gF.sP,"//www.googletagservices.com/tag/js/gpt.js");
l[gF.ak](P);var P=R[gF.rU](gF.Rs);P[gF.iM]="window.googletag = window.googletag || {cmd: []};";l[gF.ak](P)}if(v==null)v="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var S=window.confirm(v);if(!S)return;cP.x9=setInterval(cP.aa1,50)};cP.aa1=function(){var J=cP.arf;cP.Cf=1;
var v={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[cP.cZ];
if(J==1)v="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var x=window.googletag;if(x==null)return;
x.cmd.push(function(){var o=x.defineOutOfPageSlot(v,x.enums.OutOfPageFormat.REWARDED).addService(x.pubads());
x.enableServices();x.pubads().addEventListener("rewardedSlotReady",function(R){R.makeRewardedVisible()});
x.pubads().addEventListener("rewardedSlotGranted",function(){if(cP.Cf==1){cP.dG--;cP.Cf=2;if(cP.dG==0){if(cP.st)cP.st();
cP.st=null}}});x.pubads().addEventListener("rewardedSlotClosed",function(){if(cP.Cf==2){cP.Cf=0;if(cP.dG>0)cP.aa1()}});
x.display(o);x.pubads().refresh([o])});clearInterval(cP.x9)};var e5={FF:-2,Bn:{expires_at:0},AS:[]};
e5.OL=function(J){if(J)e5.AS.splice(0,0,J);if(e5.FF==-2){e5.FF=-1;var v=document.createElement("script");
v.src="//apis.google.com/js/client.js";document.body.appendChild(v);v.onload=function(x){setTimeout(function(){e5.FF=0;
e5.OL()},100)}}if(e5.FF==-1)return;if(e5.FF==1)return;if(e5.Bn.expires_at>Date.now()*.001+30){while(e5.AS.length>0)e5.AS.pop()()}else{if(e5.FF==0)e5.FF=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:e5.FF==2?!1:!0},e5.anS)})}};
e5.anS=function(J){if(J&&!J.error){e5.Bn=J;e5.FF=!1;e5.OL()}else if(e5.FF==1){e5.FF=2;e5.OL()}else alert("Error: "+J.error)};
e5.aiM=function(){return"access_token="+e5.Bn.access_token+"&token_type="+e5.Bn.token_type};e5.adR=function(){return e5.Bn.token_type+" "+e5.Bn.access_token};
var cl={ae6:null};cl.z2=function(J,v){var x=J.Vr.ayc;if(x==null&&f6.hV()&&!cl.w8(v))x=window.locStor.getItem("__dak");
return x};cl.aAo=375<<3;cl.ayQ=function(J){var v=f6.yf();if(v==null)v={};var x=v.acc;if(x==null)return 0;
var o="aiu"+f6.sr().id;if(x.aiu&&x[o]==null){x[o]=x.aiu;delete x.aiu;f6.QD(v)}var R=x[o];if(R==null)return 0;
if(R["m"+J]==null)return 0;return R["m"+J]};cl.Sq=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
cl.ak2=function(J){return J*(365.25*24*60*6e4/12)};cl.w8=function(J){if(!f6.hV())return!1;return cl.ayQ(cl.Sq())+J<=cl.aAo};
cl.alv=function(J){f6.yf(function(){var v=f6.yf();if(v==null)v={};if(v.acc==null)v.acc={};var x="aiu"+f6.sr().id,o=v.acc;
if(o[x]==null)o[x]={};var R=o[x],r="m"+cl.Sq();if(R[r]==null)R[r]=0;var l=R[r],M=R[r]=l+J,P=20*Math.floor(M/20);
if(M>1e3&&l<=P&&M>P)alert(J+" AI credit"+(J==1?"":"s")+" spent. "+(cl.aAo-M)+" left to use (in this month).",3500);
f6.QD(v,function(){})})};cl.qJ=function(J){var v="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch";
if(f6.hV())v="Out of AI credits :( Watch";cP.qJ(J,v+" two short ads to do it for free?","inpa",2)};cl.c_=function(J){if(J&&cl.ON(J)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};cl.ON=function(J){function v($,N){if(($&N)==0)return $;return $+N+1-($&N)}var x=J.k[J.Y[0]],o=x.add.SoLd&&J.g==null,R=new jj(0,0,J.r,J.$),r=o?x.q9():J.g,l=r.S.Xt(R),F=7;
if(!0){var M=0,A=0;while(!0){var P=1/Math.pow(2,M),S=l.r*P,c=l.$*P;if(Math.max(S,c)<=1024&&S*c*1.2<512*512)break;
M++}var b=8<<M,w=l.Q(),U=(512<<M)*(512<<M),F=1024<<M;while(!0){var Y=w.Q();Y.rz(1,1);Y.Xt(R);if(Y.o()*1.2<U&&Math.max(Y.r,Y.$)<F&&Y.o()>w.o())w=Y;
else break}for(var h=0;h<1e6;h++){var G=w.o(),n=h&3,E=w.r%b,K=w.$%b;if(K!=0&&n==0){w.y--;w.$++}if(E!=0&&n==1){w.r++}if(K!=0&&n==2){w.$++}if(E!=0&&n==3){w.x--;
w.r++}w=w.Xt(R);if(w.o()==G)A++;if(A>1e3)break}var E=w.r%b,K=w.$%b;w.r=Math.min(w.r,F);if(E!=0)w.r+=b-E;
w.$=Math.min(w.$,F);if(K!=0)w.$+=b-K;return[w,M]}if(l.o()>1e3*1e3)return null;var e=v(l.r,7)*v(l.$,7)*1.2>512*512||Math.max(v(l.r,7),v(l.$,7))>1024;
if(Math.max(l.r,l.$)>1024*(e?2:1))return null;var U=512*512;if(e){U=1024*1024;F=15}while(!0){var w=l.Q();
w.rz(1,1);w=w.Xt(R);var S=v(w.r,F),c=v(w.$,F);if(w.o()>l.o()&&S*c<=U&&Math.max(S,c)<=2048)l=w;else break}l.r=v(l.r,F);
l.$=v(l.$,F);return l};cl.aFv=function(J,v,x,o,R){if(!navigator.onLine){alert("Get online to use this feature.");
return}var r=0,l,M,P,S="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",U=!1;
if(x){l=cl.ON(x)[0];r=cl.ON(x)[1]}S=JSON.parse(gF.u0(S));var c={};c[S[0]]=J;c[S[1]]=r>0?2:1;c[S[2]]=30;
c[S[3]]=x?S[4]:S[5];c[S[12]]=S[13];c[S[14]]=S[15];if(R)for(var b in R)c[b]=R[b];console.log(c);var w="nude nudity naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var h=0;h<w.length;h++)if(J.indexOf(w[h])!=-1)U=!0;if(U){var F=cl.w8(3)?"Premium":"Free";f6.event("dez"+"go_Nu"+"de "+F)}var Y=new FormData;
if(x==null)M=P=512;else{var A=x.k[x.Y[0]],G=x.g;if(A.add.SoLd&&x.g==null)G=A.q9();var n=g.C(l.o()*4);
g.sW(x.rv(),new jj(0,0,x.r,x.$),n,l);var E=g.C(l.o());g.Cc(G.N,G.S,E,l);g.round(E);for(var h=0;h<E.length;
h++)if(n[h*4+3]<128)E[h]=255;for(var h=0;h<r;h++){console.log("downscaling");var K=g.WU(n,l);n=K.r3;
var e=g.oU(E,l);E=e.r3;l=e.S}var $=d2.s$("jpg"),N=$.lS([[n.buffer]],l.r,l.$,[90]),k=g.C(l.o()*4);k.fill(255);
g.QR(E,k);var V=UPNG.encode([k.buffer],l.r,l.$,null,null,null,!0);Y.append(S[9],new Blob([N],{type:"image/jpeg"}));
Y.append(S[10],new Blob([V],{type:"image/png"}));M=l.r>>>r;P=l.$>>>r}for(var b in c)Y.append(b,c[b]);
cl.ay2(x==null?S[7]:S[8],Y,v,o);cl.ae6=[M,P,r,v==null];return 1};cl.ay2=function(J,v,x,o){var R=gF.Bu("W`]VVykh8D:[/-?).I{% >"),r=gF.Bu("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),l=new B.EV[gF.yh],M;
if(x==null){var P=0,S=gF.Bu("XYJMH"),c=gF.Bu("XZRZBIJ;>9"),prompt=gF.Bu("_^XSST");if(v.get(S))P+=v.get(S).size;
if(v.get(c))P+=v.get(c).size;if(v.get(prompt))P+=v.get(prompt).length;var b=P*19+47631,w=String.fromCharCode(65+(b&15))+String.fromCharCode(100+(b>>>4&15));
M=gF.Bu("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+J+gF.Bu("tYNZKOAv")+w;l[gF.xk](gF.arp,M,!0)}else{M=R+J;
l[gF.xk](gF.arp,M,!0);l[gF.a05](gF.Bu("Gx-K]GLf\"9J"),x?x:r)}l[gF.Rd]=o;l[gF.azv]=gF.atp;l[gF.ka](v)};
cl.LB=function(J,v){var x=cl.w8(v);f6.event("rembg_"+J+": "+(x?"Premium":"Free"));if(x){for(var h=0;
h<v;h++)f6.event("aiusg_"+f6.sr().id);cl.alv(v)}};function aG(J,v){if(!J)J=0;if(!v)v=0;this.x=J;this.y=v}aG.prototype.add=function(J){return new aG(this.x+J.x,this.y+J.y)};
aG.prototype.Q=function(){return new aG(this.x,this.y)};aG.prototype.wf=function(J){this.x=J.x;this.y=J.y};
aG.prototype.Ym=function(J){return this.x==J.x&&this.y==J.y};aG.prototype.normalize=function(J){var v=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=J/v;this.y*=J/v};aG.prototype.offset=function(J,v){this.x+=J;this.y+=v};aG.prototype._h=function(J,v){this.x=J;
this.y=v};aG.prototype.aA=function(J){return new aG(this.x-J.x,this.y-J.y)};aG.Aj=function(J,v){return aG.a7k(J.x-v.x,J.y-v.y)};
aG.azg=function(J,v,x){return new aG(J.x+x*(v.x-J.x),J.y+x*(v.y-J.y))};aG.auP=function(J,v){return new aG(J*Math.cos(v),J*Math.sin(v))};
aG.a7k=function(J,v){return Math.sqrt(J*J+v*v)};aG.UB={};aG.uc={};aG.UB.create=function(){var J=new Float32Array(4);
return J};aG.uc.create=function(J){var v=new Float32Array(16);v[0]=v[5]=v[10]=v[15]=1;if(J)aG.uc.set(J,v);
return v};aG.UB.add=function(J,v,x){x[0]=J[0]+v[0];x[1]=J[1]+v[1];x[2]=J[2]+v[2];x[3]=J[3]+v[3]};aG.UB.set=function(J,v){v[0]=J[0];
v[1]=J[1];v[2]=J[2];v[3]=J[3]};aG.uc.set=function(J,v){v[0]=J[0];v[1]=J[1];v[2]=J[2];v[3]=J[3];v[4]=J[4];
v[5]=J[5];v[6]=J[6];v[7]=J[7];v[8]=J[8];v[9]=J[9];v[10]=J[10];v[11]=J[11];v[12]=J[12];v[13]=J[13];v[14]=J[14];
v[15]=J[15]};aG.uc.multiply=function(J,v,x){var o=J[0],R=J[1],r=J[2],l=J[3],M=J[4],P=J[5],S=J[6],c=J[7],b=J[8],w=J[9],U=J[10],F=J[11],Y=J[12],A=J[13],G=J[14],n=J[15],E=v[0],K=v[1],e=v[2],$=v[3];
x[0]=E*o+K*M+e*b+$*Y;x[1]=E*R+K*P+e*w+$*A;x[2]=E*r+K*S+e*U+$*G;x[3]=E*l+K*c+e*F+$*n;E=v[4];K=v[5];e=v[6];
$=v[7];x[4]=E*o+K*M+e*b+$*Y;x[5]=E*R+K*P+e*w+$*A;x[6]=E*r+K*S+e*U+$*G;x[7]=E*l+K*c+e*F+$*n;E=v[8];K=v[9];
e=v[10];$=v[11];x[8]=E*o+K*M+e*b+$*Y;x[9]=E*R+K*P+e*w+$*A;x[10]=E*r+K*S+e*U+$*G;x[11]=E*l+K*c+e*F+$*n;
E=v[12];K=v[13];e=v[14];$=v[15];x[12]=E*o+K*M+e*b+$*Y;x[13]=E*R+K*P+e*w+$*A;x[14]=E*r+K*S+e*U+$*G;x[15]=E*l+K*c+e*F+$*n;
return x};aG.uc.inverse=function(J,v){var x=J[0],o=J[1],R=J[2],r=J[3],l=J[4],M=J[5],P=J[6],S=J[7],c=J[8],b=J[9],w=J[10],U=J[11],F=J[12],Y=J[13],A=J[14],G=J[15],n=x*M-o*l,E=x*P-R*l,K=x*S-r*l,e=o*P-R*M,$=o*S-r*M,N=R*S-r*P,k=c*Y-b*F,V=c*A-w*F,X=c*G-U*F,Q=b*A-w*Y,L=b*G-U*Y,_=w*G-U*A,a=n*_-E*L+K*Q+e*X-$*V+N*k;
if(!a){return null}a=1/a;v[0]=(M*_-P*L+S*Q)*a;v[1]=(R*L-o*_-r*Q)*a;v[2]=(Y*N-A*$+G*e)*a;v[3]=(w*$-b*N-U*e)*a;
v[4]=(P*X-l*_-S*V)*a;v[5]=(x*_-R*X+r*V)*a;v[6]=(A*K-F*N-G*E)*a;v[7]=(c*N-w*K+U*E)*a;v[8]=(l*L-M*X+S*k)*a;
v[9]=(o*X-x*L-r*k)*a;v[10]=(F*$-Y*K+G*n)*a;v[11]=(b*K-c*$-U*n)*a;v[12]=(M*V-l*Q-P*k)*a;v[13]=(x*Q-o*V+R*k)*a;
v[14]=(Y*E-F*e-A*n)*a;v[15]=(c*e-b*E+w*n)*a;return v};aG.uc.anA=function(J,v,x){var o=v[0],R=v[1];x[0]=o*J[0]+R*J[4]+J[12];
x[1]=o*J[1]+R*J[5]+J[13]};aG.uc.aID=function(J,v,x){var o=v[0],R=v[1],r=v[2],l=v[3];x[0]=J[0]*o+J[4]*R+J[8]*r+J[12]*l;
x[1]=J[1]*o+J[5]*R+J[9]*r+J[13]*l;x[2]=J[2]*o+J[6]*R+J[10]*r+J[14]*l;x[3]=J[3]*o+J[7]*R+J[11]*r+J[15]*l};
function jj(J,v,x,o){if(!J)J=0;if(!v)v=0;if(!x)x=0;if(!o)o=0;this.x=J;this.y=v;this.r=x;this.$=o}jj.prototype.o=function(){return this.r*this.$};
jj.prototype.Q=function(){return new jj(this.x,this.y,this.r,this.$)};jj.prototype.contains=function(J,v){return J>=this.x&&J<=this.x+this.r&&(v>=this.y&&v<=this.y+this.$)};
jj.prototype.bB=function(J){return this.contains(J.x,J.y)};jj.prototype.Db=function(J){return this.x<=J.x&&this.y<=J.y&&J.x+J.r<=this.x+this.r&&J.y+J.$<=this.y+this.$};
jj.prototype.wf=function(J){this.x=J.x;this.y=J.y;this.r=J.r;this.$=J.$};jj.prototype.Ym=function(J){return this.x==J.x&&this.y==J.y&&this.r==J.r&&this.$==J.$};
jj.prototype.rz=function(J,v){this.x-=J;this.y-=v;this.r+=2*J;this.$+=2*v};jj.prototype.at3=function(J){this.rz(J.x,J.y)};
jj.prototype.Xt=function(J){var v=Math.max(this.x,J.x),x=Math.max(this.y,J.y),o=Math.min(this.x+this.r,J.x+J.r),R=Math.min(this.y+this.$,J.y+J.$);
if(o<v||R<x)return new jj;else return new jj(v,x,o-v,R-x)};jj.prototype.Rt=function(J){if(J.y+J.$<this.y||J.x>this.x+this.r||J.y>this.y+this.$||J.x+J.r<this.x)return!1;
return!0};jj.prototype.L3=function(){return this.r<=0||this.$<=0};jj.prototype.offset=function(J,v){this.x+=J;
this.y+=v};jj.prototype.a8l=function(J){this.offset(J.x,J.y)};jj.prototype.av$=function(){this.x=this.y=this.r=this.$=0};
jj.prototype._h=function(J,v,x,o){this.x=J;this.y=v;this.r=x;this.$=o};jj.prototype.h0=function(J){if(this.L3())return J.Q();
if(J.L3())return this.Q();var v=this.Q();v.aC5(J);return v};jj.x_=new Float32Array(2);jj.prototype.aC5=function(J){if(J.L3())return;
if(this.L3()){this.wf(J);return}this.avY(J.x,J.y);this.avY(J.x+J.r,J.y+J.$)};jj.prototype.avY=function(J,v){var x=Math.min(this.x,J),o=Math.min(this.y,v);
this.r=Math.max(this.x+this.r,J)-x;this.$=Math.max(this.y+this.$,v)-o;this.x=x;this.y=o};jj.prototype.azi=function(J,v){this.x=J;
this.y=v;this.r=this.$=0};function bC(J,v,x,o,R,r){if(typeof J==="undefined"){J=1;v=0;x=0;o=1;R=0;r=0}this.o5=J;
this.c=v;this.Mz=x;this.fn=o;this.zP=R;this.jD=r}bC.prototype.Nf=function(){return Math.sqrt(Math.abs(this.o5*this.fn-this.c*this.Mz))};
bC.prototype.adQ=function(){var J=this,v=function(x){return Math.abs(x)<1e-9?0:x};J.o5=v(J.o5);J.c=v(J.c);
J.Mz=v(J.Mz);J.fn=v(J.fn);J.zP=v(J.zP);J.jD=v(J.jD)};bC.prototype.Xw=function(J){return new aG(J.x*this.o5+J.y*this.Mz+this.zP,J.x*this.c+J.y*this.fn+this.jD)};
bC.prototype.translate=function(J,v){this.zP+=J;this.jD+=v};bC.prototype.rotate=function(J){var v=new bC(Math.cos(J),-Math.sin(J),Math.sin(J),Math.cos(J),0,0);
this.concat(v)};bC.prototype.scale=function(J,v){var x=new bC(J,0,0,v,0,0);this.concat(x)};bC.prototype.concat=function(J){this.wf(new bC(this.o5*J.o5+this.c*J.Mz,this.o5*J.c+this.c*J.fn,this.Mz*J.o5+this.fn*J.Mz,this.Mz*J.c+this.fn*J.fn,this.zP*J.o5+this.jD*J.Mz+J.zP,this.zP*J.c+this.jD*J.fn+J.jD))};
bC.prototype.SV=function(){var J=this.o5*this.fn-this.c*this.Mz;this.wf(new bC(this.fn/J,-this.c/J,-this.Mz/J,this.o5/J,(this.Mz*this.jD-this.fn*this.zP)/J,(this.c*this.zP-this.o5*this.jD)/J))};
bC.prototype.Q=function(){return new bC(this.o5,this.c,this.Mz,this.fn,this.zP,this.jD)};bC.prototype.wf=function(J){this.o5=J.o5;
this.c=J.c;this.Mz=J.Mz;this.fn=J.fn;this.zP=J.zP;this.jD=J.jD};function d2(){}d2.afR={afG:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),a3k:"DDS TIFF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
d2.es=function(J,v){var x=J.memory.buffer.byteLength;if(x<v)J.memory.grow((v-x>>>16)+1)};d2.he={T5:function(J,v){fetch(J).then(function(x){return x.arrayBuffer()}).then(function(x){var o=new Uint8Array(x),R=0,P="";
if(v){R=o.length;var r={level:9},l=pako.deflateRaw(o,r),M=UZIP.deflateRaw(o,r);console.log(R,l.length,M.length);
o=l.length<M.length?l:M}for(var h=0;h<o.length;h++)P+=String.fromCharCode(o[h]);var S=btoa(P);console.log(JSON.stringify([R,S]))})},get:function(J,v){var x=BINDB[J],o=Date.now(),R=atob(x[1]),r=R.length,l=new Uint8Array(r);
for(var h=0;h<r;h++)l[h]=R.charCodeAt(h);if(x[0]!=0){var M=new Uint8Array(x[0]);UZIP.inflateRaw(l,M);
l=M}if(v){var P=d2.e4(l.buffer);l=d2.s$(P).lx(l.buffer)}return l}};d2.a0q=function(J,v){return new Promise(function(x,o){J.lx(v,null,function(R,r){x(r)})})};
d2.e4=function(J){if(!(J instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var v=new Uint8Array(J),x=d2.ana,o,R=0,r=v.length-1;
if(x(v,[239,187,191]))R=3;while(R<v.length&&(v[R]==9||v[R]==10||v[R]==13||v[R]==32))R++;while(r!=0&&(v[r]==9||v[r]==10||v[r]==13||v[r]==32))r--;
if(x(v,[56,66,80,83]))o="psd";if(x(v,[6,6,237,245]))o="indd";if(x(v,[68,73,67,77],128))o="dcm";if(x(v,[99,104,108,118]))o="chlv";
if(x(v,[208,207,17,224]))o="ufo";if(x(v,[102,116,121,112,109,105,102,49],4)||x(v,[102,116,121,112,97,118,105,102],4))o="avif";
if(x(v,[102,116,121,112,104,101,105,99],4)||x(v,[102,116,121,112,109,115,102,49],4))o="heic";if(x(v,[102,116,121,112,105,115,111,109],4))o="mp4";
if(x(v,[102,116,121,112,109,112,52,50],4))o="mp4";if(x(v,[102,116,121,112,113,116,32,32],4))o="mp4";
if(x(v,[26,69,223,163]))o="mkv";if(x(v,[102,116,121,112,99,114,120,32],4))o="cr3";if(x(v,[0,255,75,65]))o="afphoto";
if(x(v,[67,83,70,67,72,85,78,75]))o="clip";if(x(v,[70,82,65,67]))o="frac";if(x(v,[120])&&[94,156,218].indexOf(v[1])!=-1)o="pxd";
if(x(v,[80,68,78,51]))o="pdn";if(x(v,[103,105,109,112,32,120,99,102,32]))o="xcf";if(x(v,[102,105,103,45,107,105,119,105]))o="fig";
if(x(v,[105,99,110,115]))o="icns";if(x(v,[137,80,78,71,13,10,26,10])){o="png";var l=8;while(l<v.length){var M=I.m7(v,l);
l+=4;var P=I.b_(v,l,4);l+=4;if(P=="mkTS")o="fpng";l+=M+4}}if(x(v,[87,76]))o="cdr";if(x(v,[82,73,70,70])){var S=kP.KE(v),c=S.dP;
if(c=="WEBP")o="webp";else if(c.slice(0,3)=="CDR")o="cdr";else o=c}if(x(v,[70,79,82,77])||x(v,[70,79,82,52])||x(v,[76,73,83,84])||x(v,[67,65,84,32])){var S=aq.KE(v),c=S.dP;
if(c=="ILBM"||c=="CIMG"||c=="ANIM")o="ilbm";else o=c}if(x(v,[255,216,255]))o="jpg";if(x(v,[0,0,0,12,106,80,32,32]))o="jpg";
if(x(v,[48,0,1,0],4))o="jb2";if(x(v,[71,73,70,56]))o="gif";if(x(v,[255,10])||x(v,[0,0,0,12,74,88,76,32,13,10,135,10]))o="jxl";
if(x(v,[0,0,0,2,121,102,113,76]))o="msh";if(x(v,[0,0,0,3,121,102,113,76]))o="msh";if(x(v,[0,0,0,16]))o="atn";
if(x(v,[0,1]))o="aco";if(x(v,[0,2]))o="aco";if(x(v,[65,83,69,70]))o="aco";if([0,1].indexOf(v[1])!=-1&&[1,2,3,9,10,11].indexOf(v[2])!=-1&&[0,16,24,32].indexOf(v[7])!=-1)o="tga";
if(x(v,[0,2,56,66,83,76]))o="asl";if(x(v,[0,1,0,-1,0,2,0]))o="abr";if(x(v,[0,2,0,-1,0,2,0]))o="abr";
if(x(v,[0,6,0,1]))o="abr";if(x(v,[0,6,0,2]))o="abr";if(x(v,[0,7,0,2]))o="abr";if(x(v,[0,9,0,2]))o="abr";
if(x(v,[0,10,0,2]))o="abr";if(x(v,[56,66,70,83]))o="shc";if(x(v,[56,66,80,84]))o="pat";if(x(v,[56,66,71,82]))o="grd";
if(x(v,[71,73,77,80,32,71,114,97]))o="grd";if(x(v,[56,66,84,80]))o="tpl";if(x(v,[0,4,0,5]))o="acv";if(x(v,[99,117,115,104]))o="csh";
if(x(v,[0,1,0,0,0]))o="otf";if(x(v,[79,84,84,79]))o="otf";if(x(v,[116,116,99,102]))o="otf";if(x(v,[119,79,70,70]))o="otf";
if(x(v,[68,68,83,32]))o="dds";if(x(v,[80,86,82,3]))o="pvr";if(x(v,[86,84,70,0]))o="vtf";if(x(v,[83,73,77,80]))o="fits";
if((x(v,[0,0,1,0])||x(v,[0,0,2,0]))&&v[4]!=0)o="ico";if(x(v,[66,77]))o="bmp";if(x(v,[40,0,0,0]))o="bmp";
if(x(v,[80,49]))o="ppm";if(x(v,[80,50]))o="ppm";if(x(v,[80,51]))o="ppm";if(x(v,[80,52]))o="ppm";if(x(v,[80,53]))o="ppm";
if(x(v,[80,54]))o="ppm";if(x(v,[73,73,42,0]))o="tiff";if(x(v,[77,77,0,42]))o="tiff";if(x(v,[73,73,85,0]))o="tiff";
if(x(v,[73,73,82,83]))o="tiff";if(x(v,[73,73,82,79]))o="tiff";if(o=="tiff"){var b=UTIF.decode(v),w=d2.QO.aDc(b);
if(w[1])o=w[1];else if(b[0].t37724)o="ptif"}if(x(v,[70,85,74,73,70,73,76,77]))o="raf";if(x(v,[112]))o="lif";
if(x(v,[73,73,26,0]))o="ciff";if(x(v,[83,81,76,105]))o="sketch";if(x(v,[80,75])){var U=UZIP.parse(J,!0);
if(U["document.json"])o="sketch";else if(U.manifest)o="xd";else if(U["maindoc.xml"])o="kra";else if(U["content/root.dat"])o="cdr";
else if(U["content/riffData.cdr"])o="cdr";else if(U["canvas.fig"])o="fig";else if(U["manifest.json"])o="pxz";
else o="zip"}if(x(v,[123]))o="json";if(I.m7(v,0)==v.length)o="icc";if(x(v,[35]))o="icc";if(x(v,[84,73,84,76],R))o="icc";
if(x(v,[76,85,84,95],R))o="icc";if(x(v,[60,63,120,109],R)){if(I.CD(v,"<look>")!=-1)o="icc";else o="svg"}if(x(v,[255,254,60,0],R))o="svg";
if(x(v,[60,115,118,103],R))o="svg";if(x(v,[60,33,100,111],R)||x(v,[60,33,68,79],R)||x(v,[60,33,45,45],R)){if(I.CD(v,"<svg")!=-1)o="svg";
else o="html"}if(x(v,[37,33])||x(v,[197,208,211,198])){if(I.CD(v,"%AI9_PrivateDataBegin")!=-1||I.CD(v,"%AI5_BeginLayer")!=-1)o="ai";
else o="eps"}if(x(v,[37,80,68,70],R)){var F=I.CD(v,"/AIMetaData ");if(F!=-1){if(I.CD(v,">>/Encrypt ",F)!=-1)o="pdf";
else o="ai"}else o="pdf"}else if(x(v,[10,69,79,70],r-3))o="dxf";if(x(v,[1,0,9,0]))o="wmf";if(x(v,[215,205,198,154]))o="wmf";
if(x(v,[1,0,0,0]))o="emf";if(x(v,[118,47,49,1]))o="exr";if(x(v,[10,10,10,10]))o="jsx";if(x(v,[77,90]))o="exe";
if(o==null&&g.raw.k9(v.length)!=null)return"tiff";return o};d2.ana=function(J,v,x){if(x==null)x=0;for(var h=0;
h<v.length;h++)if(v[h]!=-1&&J[x+h]!=v[h])return!1;return!0};d2.s$=function(J){var v={BMP:d2.ahM,CDR:d2.bu,DDS:d2.on,EMF:d2.M8,DXF:d2.WM,EPS:d2.vt,FIG:d2.ur,FPNG:d2.Tf,INDD:d2.Xs,CHLV:d2.a7N,GIF:d2.cw,ICO:d2.hs,ILBM:d2.ag4,FITS:d2.ayb,EXR:d2.oE,JPG:d2.Lv,LIF:d2.Hq,DCM:d2.ayF,PDF:d2.JX,PDN:d2.vC,PNG:d2.lV,ICNS:d2.aFX,PPM:d2.Nt,PSD:d2.eR,PXD:d2.nv,PXZ:d2.ds,RAW:d2.qv,SKETCH:d2.lh,UFO:d2.BS,SVG:d2.G1,TGA:d2.K5,AVIF:d2.ayw,HEIC:d2.aCD,JXL:d2.aCD,TIFF:d2.QO,PTIF:d2.B9,DNG:d2.QO,CR2:d2.QO,NEF:d2.QO,ARW:d2.QO,RW2:d2.QO,ORF:d2.QO,FFF:d2.QO,RAF:d2.mQ,CR3:d2.la,VTF:d2.ah9,WEBP:d2.zt,WMF:d2.Yu,XCF:d2.fV,XD:d2.rc,KRA:d2.hu,EXE:d2.aIg,AI:d2.s9,AFPHOTO:d2.aC,CLIP:d2.QK,FRAC:d2.vK,MP4:d2.adV,MKV:d2.adV};
return v[J.toUpperCase()]};d2.Td=function(h){var J=d2.afR.afG,v=d2.afR.a3k,x,o=[];if(h==null)x=J.concat(v);
else x=h==0?J:v;for(var h=0;h<x.length;h++)if(d2.s$(x[h]).lS)o.push(x[h]);return o};d2.arB=function(){var J;
function v(o){var R=o.target,r=R.width,l=R.height,M=document.createElement("canvas");M.width=r;M.height=l;
var P=M.getContext("2d");P.drawImage(R,0,0);J({P0:new jj(0,0,r,l),data:P.getImageData(0,0,r,l).data.buffer})}function x(o,R,r){J=r;
var l=document.createElement("img");l.onload=v;l.src="data:"+R+";base64,"+d2.vd(o)}return x}();d2.w$=function(J,v,x,o,R){var r=d2.IR(J,v,x,o,R),l=d2.pa(r);
return l.buffer};d2.pa=function(J){var v=atob(J.split(",").pop()),x=new Uint8Array(v.length);for(var h=0;
h<v.length;h++)x[h]=v.charCodeAt(h);return x};d2.IR=function(J,v,x,o,R,r){if(!(J instanceof ArrayBuffer))throw"e";
if(o==null)o="png";if(o=="png"&&r==!0){var l=d2.s$("PNG").lS([[J,0]],v,x);return"data:image/png;base64,"+d2.vd(l)}var M=d2.VH;
if(M==null)M=d2.VH=document.createElement("canvas");if(M.width!=v||M.height!=x){M.width=v;M.height=x}var P=M.getContext("2d"),S=new ImageData(new Uint8ClampedArray(J,0,v*x*4),v,x);
P.putImageData(S,0,0);return M.toDataURL("image/"+o,R)};d2.ax_=function(J,v,x,o,R){if(R==null)R=0;var r="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",l="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+r+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(J==1)l+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
l+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+R+")\" xlink:href=\""+v+"\" x=\""+80*x+"\" y=\""+80*o+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var M=new Uint8Array(l.length);I.Ez(l,M,0);var P="data:image/svg+xml;base64,"+d2.vd(M.buffer);return{fK:P,Yf:new jj(0,0,128,128),k$:new aG(64,64)}};
d2.vd=function(J){var v=new Uint8Array(J),x="";for(var h=0;h<v.length;h++)x+=String.fromCharCode(v[h]);
return btoa(x)};d2.S7=function(J){var v=atob(J),x=v.length,o=new Uint8Array(x);for(var h=0;h<x;h++)o[h]=v.charCodeAt(h);
return o.buffer};d2.a9D=function(J,v,x,o){var R=new Uint8Array(J),r=~~(R.length/(v*x*2)),l;if(o)for(var h=0;
h<R.length;h+=2){var M=R[h];R[h]=R[h+1];R[h+1]=M}R=new Uint16Array(R.buffer,0,R.buffer.byteLength>>>1);
if(r==4)l=R.buffer;else if(r==3||r==2||r==1){var P=new Uint16Array(v*x*4);l=P.buffer;P.fill(65535);for(var S=0;
S<P.length;S+=4){var h=S>>>2,c=S>>>1,b=h*3;if(r==3){P[S]=R[b];P[S+1]=R[b+1];P[S+2]=R[b+2]}else if(r==2){P[S]=P[S+1]=P[S+2]=R[c];
P[S+3]=R[c+1]}else P[S]=P[S+1]=P[S+2]=R[h]}}else throw r;return l};d2.aw3=function(J){var v=[],x=[];
for(var h=0;h<J.k.length;h++){var o=J.k[h];if(o.getName().slice(0,3)=="_a_"){v.push(h);x.push(o.jh())}}return[v,x]};
d2.At=function(J,v,x,o,R,r){if(x==null)x=J.r;if(o==null)o=J.$;var l=new jj(0,0,J.r,J.$),M=new bC(x/(J.r+.001),0,0,o/(J.$+.001),0,0),S;
v=v.toUpperCase();var P=d2.s$(v);if(P.KY){S=P.lS(J,x,o,R,r)}else if(du==1){var c=J.aJf(r,x,o);S=P.lS([[c,0,J.Bt,J.b5]],x,o,R)}else{if(R)R=R.slice(0);
var b=d2.aw3(J),w=b[0],U=b[1],F=J.L_(),Y=F&&R?R.pop():!1,A=F&&!Y?F[0]:null,G=null;if(J.ac.length!=0){G=[];
for(var h=0;h<J.ac.length;h++)G.push(J.ac[h].PP(l))}if(w.length<2){var n=d2.aDR(J.rv(),F,Y,J),E;if(x==J.r&&o==J.$)E=n.buffer;
else{var K=H.ge.EN([n,l],M);E=K.buffer.buffer;if(G){var e=g.C(l.o()*4);for(var h=0;h<G.length;h++){g.Os(G[h],e,3);
var K=H.ge.EN([e,l],M),$=G[h]=g.C(K.S.o());g.Vi(K.buffer,$,3)}}}S=P.lS([[E,0,J.Bt,J.b5,G,A]],x,o,R)}else{var N=[];
for(var h=0;h<w.length;h++){var k=w[h],E;for(var V=0;V<w.length;V++)J.k[w[V]].G0(w[V]==k);J.HQ();J.Ai();
J.er();if(x==J.r&&o==J.$)E=J.rv().buffer.slice(0);else{var K=H.ge.EN([J.rv(),l],M);E=K.buffer.buffer}E=d2.aDR(new Uint8Array(E),F,Y,J).buffer;
var X=J.k[k].getName().split(",");N.push([E,X[1]?parseInt(X[1]):100,J.Bt,J.b5,G,A])}for(var h=0;h<w.length;
h++)J.k[w[h]].G0(U[h]);J.Ai();J.er();if(R){R.push(100);var Q=R.length,L=R[Q-3],_=R[Q-2],a=R[Q-5]/100,T=R[Q-1]/100;
if(a!=1)for(var h=0;h<N.length;h++)N[h][1]=Math.round((N[h][1]==0?16:N[h][1])/a);if(T<1){var f=0,Z=[],C=0,V=0;
for(var h=0;h<N.length;++h){f+=N[h][1];if(h>0){Z.push(Z[Z.length-1]+N[h-1][1])}else{Z.push(0)}}var W=T*N.length,D=f/W,d=[];
for(var h=0;h<W;++h){var p=0;while(C>Z[V]&&V+1<N.length){p+=N[V][1];++V}if(p!=0){var y=Math.round(Math.min(1,(Z[V]-C)/N[V][1])*p);
d[d.length-1][1]+=p-y;if(N[V][1]<N[V-1][1]/2){d.push(N[V-1])}else{d.push(N[V])}d[d.length-1][1]=N[V][1]+y}else if(V<N.length){d.push(N[V])}C+=D;
++V}while(V<N.length){d[d.length-1][1]+=N[V][1];++V}N=d}if(L)N.reverse();if(_){var i=N.slice(1,N.length-1);
i.reverse();N=N.concat(i)}}S=P.lS(N,x,o,R)}}return S};d2.aDR=function(J,v,x,o){var R=o.Ab();if(o.depth!=8){J=g.N2(J,8);
alert("Converting "+o.depth+"-bit to 8-bit colors",3e3)}if(x){J=J.slice(0);ICC.U.applyLUT(v[3],v[2],J,J)}else if(R&&o.add.fcmy==1){J=J.slice(0);
ICC.U.applyLUT(R[o.add.fcmy==1?5:3],R[2],J,J)}return J};d2.as_=function(J,v){var x=new Uint8Array(J.data),o=new Uint8Array(v.data),R=0,r=0;
for(var l=0;l<x.length;l+=4){var M=x[l]-o[l],P=x[l+1]-o[l+1],S=x[l+2]-o[l+2],c=x[l+3]-o[l+3],b=M*M+P*P+S*S+c*c>>>2;
R+=b;if(b>25)r++}var w=r/J.P0.o()<1e-4;return w};d2.QB=function(J,v){var x=v[0].gT&&v[0].gT.startsWith("_a_"),o;
if(x&&!1){var R=0,r=v.length;for(var h=0;h<v.length-1;h++){var l=v[h],M=v[h+1],P=d2.as_(l,M);if(P){var S=parseFloat(l.gT.split(",").pop()),c=parseFloat(M.gT.split(",").pop());
l.gT=l.gT.split(",")[0]+","+Math.round(S+c);v.splice(h+1,1);h--;R++}}if(R!=0){alert("Deleted "+R+" frames out of "+r+".");
for(var h=0;h<v.length;h++){var b=v[h],w=b.gT;b.gT="_a_frm"+h+","+w.split(",")[1]}}}var U=new d7(J+"."+["psd","ai"][du]);
if(v[0].depth)U.depth=v[0].depth;var F=new jj(0,0,1,1);if(x){o=U.qL();o.add.lsct=h2.Uk;o.v7(J);o.gR="pass";
o.eW=24;o.G0(!0);U.k.push(U.V4())}for(var h=0;h<v.length;h++){var Y=v[h];F=F.h0(Y.P0);var A=U.qL();A.G0(h==0);
A.v7(v.length==1?"Background":"Layer "+h);if(h==0&&Y.Bt)U.Bt=Y.Bt;if(h==0&&Y.b5)U.b5=Y.b5;if(Y.gT)A.v7(Y.gT);
if(Y.Hz)for(var G=0;G<Y.Hz.length;G++){var n=Y.Hz[G],E=d7.bl(n[0]);E.add.vmsk.X=n[1];g.I.Xi(n[1],new bC(F.r,0,0,F.$,0,0));
U.h1.push(E)}if(Y.HC)U.HC=Y.HC;A.S=Y.P0.Q();if(U.depth==8)A.buffer=new Uint8Array(Y.data);else if(U.depth==16)A.buffer=new Uint16Array(Y.data);
else if(U.depth==32)A.buffer=new Float32Array(Y.data);if(h==0&&Y.gX)U.G$(Y.gX);g.oo(A,!0);U.k.push(A)}if(x)U.k.push(o);
if(v[0].ac){for(var h=0;h<v[0].ac.length;h++){var $=new m.V1;U.ac.push($);$.S=v[0].P0.Q();$.N=v[0].ac[h]}}U.Y=[x?U.k.length-1:0];
U.r=F.r;U.$=F.$;if(du==0)U.buffer=g.C(F.o()*4,U.depth);U.Ai();return U};d2.ayt=function(J,v,x){var o=J.length-x,R=new Uint8Array(o);
for(var h=0;h<v;h++)R[h]=J[h];for(var h=v;h<o;h++)R[h]=J[h+x];return R};d2.a5U=function(J,v,x){var o=J.length,R=x.length,r=new Uint8Array(o+R);
for(var h=0;h<v;h++)r[h]=J[h];for(var h=v;h<o;h++)r[h+R]=J[h];r.set(x,v);return r};d2.a6q=function(J,v,x,o,R,r,l,M,P){var S=new dd(j.E.G,!0);
S.J=H.iI;S.data={R:"h_stepbck"};var c={};for(var b=1;b<x.length;b++){var w=J.Y.slice(0),U=d2.azQ(J,P,v,x,o,b),F="img"+b,Y=x[0].indexOf(l);
if(l!=""){if(Y==-1)alert("Column "+l+" not found.");else F=x[b][Y]}c[F+"."+R.toLowerCase()]=new Uint8Array(d2.At(J,R,null,null,r,M));
for(var h=0;h<U;h++)P.a(S)}return UZIP.encode(c)};d2.azQ=function(J,v,x,o,R,r){var l=new dd(j.E.j,!0),S=0;
l.data={R:j.m.Ft};var M=new dd(j.E.G,!0);M.J=H.wu;M.data={R:m.NH,YE:{buffer:null,S:null}};var P=M.data.YE;
for(var c=0;c<x.length;c++){var b=x[c],w=b.trait,U=parseInt(b.docRef.slice(4,-2)),F=-1;for(var h=0;h<J.k.length;
h++)if(J.k[h].add.lyid==U)F=h;if(F==-1)continue;var Y=o[0].indexOf(b.varName);if(Y==-1){alert("Column "+b.varName+" is missing");
return}var A=o[r][Y],G=J.k[F];J.Y=[F];if(w=="textcontent"){l.data.TM="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(A)+";";
v.a(l);S++}if(w=="visibility"&&G.jh()+""!=A.toLowerCase()){A=A.trim().toLowerCase();if(A!="true"&&A!="false")A=A==""?"false":"true";
l.data.TM="app.activeDocument.activeLayer.visible = "+A+";";if(G.jh()+""!=A){v.a(l);S++}}if(w=="fileref"){var n=A.split("/").pop(),E=null;
for(var co in R)if(co.split("/").pop()==n)E=R[co];if(E==null){alert("Image "+n+" is missing.")}else{var K=d2.s$(d2.e4(E.buffer)).lx(E.buffer)[0],e=K.P0,$=G.S,X=0,Q=0;
if(G.add.SoLd){var N=H.ge.t1(G.add.SoLd.nonAffineTransform);$=g.b.jR(N)}var k=$.r/$.$,V=e.r/e.$;if(k>V){Q=$.$;
X=~~(Q*V)}else{X=$.r;Q=~~(X/V)}l.data.TM="app.activeDocument.activeLayer.visible = false;";v.a(l);S++;
var L=H.ge.EN([new Uint8Array(K.data),e],new bC(X/e.r,0,0,Q/e.$,0,0));P.S=L.S;P.buffer=L.buffer;L.S.x=$.x+($.r-X>>>1);
L.S.y=$.y+($.$-Q>>>1);v.a(M);S++;var _=J.k[J.Y[0]];_.fc=G.fc;_.Hv=G.Hv;_.gR=G.gR;_.pR=G.pR}}}return S};
d2.lV={};d2.lV.lS=function(J,v,x,o){if(o==null)o=[100,!1,!1,0,0,0];var R={sRGB:1,loop:o[4]},r=J[0];if(r[5]!=null){delete R.sRGB;
R.iCCP=r[5]}if(r[2]!=null){var l=Math.round(r[2]*(1e4/254));R.pHYs=[l,l,1]}if(r[3]!=null&&o[2]&&Object.keys(r[3]).length!=0){R.iTXt={"XML:com.adobe.xmp":ef.tu(r[3])}}var M=o[0],P=M==100?0:Math.max(2,Math.floor(M*5));
if(P==5)P=4;var S=[],c=[];for(var h=0;h<J.length;h++){S.push(J[h][0]);c.push(J[h][1])}var b=UPNG.encode(S,v,x,P,c,R,o[1]);
return b};d2.lV.apy=function(J,v,x,o){if(o==null)o=8;if(o==16){J=J.slice(0);var R=new Uint8Array(J);
for(var h=0;h<R.length;h+=2){var r=R[h];R[h]=R[h+1];R[h+1]=r}}return UPNG.encodeLL([J],v,x,3,1,o)};d2.lV.lx=function(J){var v=Date.now(),x=UPNG.decode(J),o=x.width,R=x.height,r=8,l=x.ctype,M,P=0,S=null,c=x.tabs.iCCP;
if(x.tabs.pHYs)P=Math.round(x.tabs.pHYs[0]*254/1e4);var b=x.tabs.iTXt;if(b&&b["XML:com.adobe.xmp"])S=ef.Ur(b["XML:com.adobe.xmp"]);
if(bD&&x.depth==16){M=[d2.a9D(x.data.buffer.slice(0,o*R*8),o,R,!0)];r=16}else M=UPNG.toRGBA8(x);if(M.length==1)return[{P0:new jj(0,0,o,R),data:M[0],Bt:P,gX:c,b5:S,depth:r}];
var w=[];for(var h=0;h<M.length;h++){w.push({gT:"_a_frm"+h+","+x.frames[h].delay,P0:new jj(0,0,o,R),data:M[h],Bt:P,gX:c,b5:S,depth:r})}return w};
d2.Nt={};d2.Nt.lS=function(J,v,x,o){var R=new Uint8Array(J[0][0]),r=v*x,l=r*3,M="P6\n"+v+" "+x+"\n255\n",P=M.length,S=new Uint8Array(P+l);
for(var h=0;h<P;h++)S[h]=M.charCodeAt(h);for(var h=0;h<r;h++){var c=h*4,b=h*3+P;S[b]=R[c];S[b+1]=R[c+1];
S[b+2]=R[c+2]}return S.buffer};d2.Nt.lx=function(J){J=new Uint8Array(J);var v=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],x=0,o=String.fromCharCode(J[0])+String.fromCharCode(J[1]),R=[],r=0,l=o=="P1"||o=="P4"?2:3;
for(x=2;x<J.length;x++){var M=J[x],P=String.fromCharCode(M);if(M=="#".charCodeAt(0)){while(J[x]!="\n".charCodeAt(0))x++;
continue}var S=v.indexOf(M)!=-1;if(r==0&&!S){R.push(P);r=1;continue}if(r==1&&!S){R[R.length-1]+=P;continue}if(r==1&&S){r=0;
if(R.length==l)break;continue}}var c=parseInt(R[0]),b=parseInt(R[1]),w=c*b*4,U=o=="P1"||o=="P4"?1:255/parseInt(R[2]),F=g.C(w);
if(o=="P1"||o=="P2"||o=="P3"){var Y="",A=0,r=0,G="#".charCodeAt(0);for(var h=x;h<J.length;h++){var M=J[h],P=String.fromCharCode(M),S=v.indexOf(M)!=-1;
if(M==G){while(J[h]!="\n".charCodeAt(0))h++}else if(r==0&&!S){Y=P;r=1}else if(r==1){if(S){r=0;var n=parseInt(Y);
Y="";if(o=="P1"){F[A]=F[A+1]=F[A+2]=(1-n)*255;F[A+3]=255;A+=4}if(o=="P2"){F[A]=F[A+1]=F[A+2]=Math.round(n*U);
F[A+3]=255;A+=4}if(o=="P3"){F[A]=Math.round(n*U);A++;if((A&3)==3){F[A]=255;A++}}}else Y+=P}}}var E=c*b;
if(o=="P4")for(var K=0;K<b;K++){var e=K*8*Math.ceil(c/8);for(var $=0;$<c;$++){var h=e+$,N=J[x+1+(h>>3)];
N=N>>7-(h&7)&1;var k=K*c+$<<2;F[k]=F[k+1]=F[k+2]=(1-N)*255;F[k+3]=255}}if(o=="P5")for(var h=0;h<E;h++){var k=4*h;
F[k]=F[k+1]=F[k+2]=Math.round(J[x+1+h]*U);F[k+3]=255}if(o=="P6")for(var h=0;h<E;h++){var k=4*h,V=x+1+3*h;
F[k]=Math.round(J[V]*U);F[k+1]=Math.round(J[V+1]*U);F[k+2]=Math.round(J[V+2]*U);F[k+3]=255}return[{P0:new jj(0,0,c,b),data:F.buffer}]};
d2.on={};d2.on.lS=function(J,v,x,o){if(o==null)o=[0,!0];if(typeof o[0]=="boolean")o[0]=0;var R=new Uint8Array(J[0][0]);
if(!g.LQ(R)&&J[0][4]){R=R.slice(0);g.Os(J[0][4][0],R,3)}var r=v&3,l=x&3;if(r!=0||l!=0){var M=v+(r==0?0:4-r),P=x+(l==0?0:4-l),S=new Uint8Array(M*P*4);
g.SX(S,4278190080);g.sW(R,new jj(0,0,v,x),S,new jj(0,0,M,P));R=S;v=M;x=P}var c=UTEX.DDS.encode(R.buffer,v,x,o);
if(!1){var b=UTEX.DDS.decode(c)[0],S=new Uint8Array(b.Vs),w=0;for(var h=0;h<R.length;h++){var U=R[h]-S[h];
w+=U*U}console.log(w)}return c};d2.on.lx=function(J){var v=UTEX.DDS.decode(J)[0],x={P0:new jj(0,0,v.width,v.height),data:v.image};
g.aD0(x);return[x]};d2.ah9={};d2.ah9.lx=function(J){var v=UTEX.VTF.decode(J).pop(),x={P0:new jj(0,0,v.width,v.height),data:v.image};
g.aD0(x);return[x]};d2.Lv={};d2.Lv.aeA=null;d2.Lv.anl=function(J,v){var x=d2.Lv.aeA,o=J.byteLength,R=v.width,r=v.height,l=R*r,M=5e6+2*o+l*(v.progressive?Math.max(2,v.numComponents)*4+1:8),P=x.instance.exports;
d2.es(P,M);var S=new Uint8Array(P.memory.buffer),c=P.malloc(o);S.set(new Uint8Array(J),c);var b=P.malloc(4),w=P.malloc(4),co=P.malloc(4),U=P.stbi_load_from_memory(c,o,b,w,co,4);
P.free(c);P.free(b,w,co);P.free(U);var F=S.slice(U,U+l*4);return F};(function(){var J=d2.he.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(J).then(function(v){d2.Lv.aeA=v})}());d2.Lv.lS=function(J,v,x,o){if(o==null)o=[85];
var R=J[0],r=new Uint8Array(R[0]);if(g.LQ(r)){var l=new Uint8Array(r.length);l.fill(255);var M=new jj(0,0,v,x);
g.v.Ry("norm",r,M,l,M,M,1);r=l}var P=new Uint8Array(d2.w$(r.buffer,v,x,"jpeg",o[0]/100));if(P.length<2e4||R[5]){var S=I.CD(P,[255,226]);
if(S!=-1){var c=I.H1(P,S+2);P=d2.ayt(P,S,c+2)}}if(R[5]!=null){var b=4+I.H1(P,4),w=R[5].length+16,U=new Uint8Array(w+2);
U[0]=255;U[1]=226;I.fN(U,2,w);I.cO(U,4,"ICC_PROFILE");U[16]=U[17]=1;U.set(R[5],18);P=d2.a5U(P,b,U)}if(R[2]!=null){var F=d2.Lv.Yc(P)[224][0]+2;
F+=9;P[F]=1;I.fN(P,F+1,R[2]);I.fN(P,F+3,R[2])}if(R[3]!=null&&o[1]==!0&&Object.keys(R[3]).length!=0){var Y=0,A=0,G=0,n=ef.Ac(R[3]),E=new Uint8Array(UTIF.encode([n])),K="http://ns.adobe.com/xap/1.0/",b=20;
Y=4+6+E.length;var e=ef.tu(R[3]),$=I.xU(e);A=4+K.length+1+$.length;var N=ef.alr(R[3]);if(N.length!=0){var k=0,Q=0;
for(var h=0;h<N.length;h++)k+=5+N[h][1].length;var V=k+(k&1),X=g.C(14+4+4+4+V);I.cO(X,Q,"Photoshop 3.0");
Q+=14;I.cO(X,Q,"8BIM");Q+=4;X[Q++]=4;X[Q++]=4;Q+=2;I.Cu(X,Q,k);Q+=4;for(var h=0;h<N.length;h++){var L=N[h],_=L[1];
X[Q++]=28;X[Q++]=2;X[Q++]=L[0];I.fN(X,Q,_.length);Q+=2;I.cO(X,Q,_);Q+=_.length}G=4+X.length}var a=Y+A+G,T=new Uint8Array(P.length+a);
for(var h=0;h<20;h++)T[h]=P[h];for(var h=20;h<P.length;h++)T[h+a]=P[h];T[b]=255;T[b+1]=225;I.fN(T,b+2,Y-2);
I.cO(T,b+4,"Exif");for(var h=0;h<E.length;h++)T[b+10+h]=E[h];b+=Y;T[b]=255;T[b+1]=225;I.fN(T,b+2,A-2);
I.cO(T,b+4,K);for(var h=0;h<$.length;h++)T[b+4+K.length+1+h]=$[h];b+=A;if(G!=0){T[b]=255;T[b+1]=237;
I.fN(T,b+2,G-2);for(var h=0;h<X.length;h++)T[b+4+h]=X[h];b+=G}P=T}return P.buffer};d2.Lv.Yc=function(J){var v=0,x=[],o=J.length;
while(v<o){while(J[v]!=255&&v<o)v++;while(J[v]==255)v++;if(v==o)break;var R=J[v];v++;if(x[R]==null)x[R]=[];
x[R].push(v-2);if(R==216)continue;if(R==217)break;if(224<=R&&R<=239||R==218||R==219||R==192||R==193||R==194||R==196||R==221||R==254){var r=I.H1(J,v);
v+=r;if(R==218)while(v<o&&(J[v]!=255||(J[v+1]==0||208<=J[v+1]&&J[v+1]<=215)))v++;continue}console.log("unknown marker ",R.toString(16),v);
break}if(x[217]==null){console.log("EOI marker missing");var l=J.length-2;J[l]=255;J[l+1]=217;x[217]=[l]}return x};
d2.Lv.al0=function(J){J=new Uint8Array(J);if(J[0]!=255)return J.buffer;var v=d2.Lv.Yc(J),x=d2.Lv.aCm(J,v);
if(x.numComponents!=4)return J.buffer;var o=x.width,R=x.height,r=d2.Lv.ar4(J,v,!0);return d2.Lv.lS([[r[0].data]],o,R,[85])};
d2.Lv.aCm=function(J,v){var x=(v[192]?v[192]:v[193]?v[193]:v[194])[0]+4,o={};o.progressive=v[194]!=null;
o.precision=J[x];x++;o.height=I.H1(J,x);x+=2;o.width=I.H1(J,x);x+=2;o.numComponents=J[x];x++;if(v[224]){var R=o.jfif={};
x=v[224][0]+2+2+5+2;R.densityUnits=J[x];x++;R.xDensity=I.H1(J,x);x+=2;R.yDensity=I.H1(J,x);x+=2}if(v[238]){var R=o.adobe={};
x=v[238][0]+2+2+6;R.version=J[x];x++;R.flags0=I.H1(J,x);x+=2;R.flags1=I.H1(J,x);x+=2;R.transform=J[x];
x++}return o};d2.Lv.a3g=function(J,v,x){var o=v,R=I.H1(J,o);o+=2;var r=I.b_(J,o,4);if(r=="Exif"){o+=6;
var l=J.slice(o,o+R-8),M;try{M=UTIF.decode(l.buffer,{parseMN:!1,debug:!1})}catch(gw){}if(M&&M.length!=0)x.exif=M}else if(r=="http"){var P=0;
while(J[o+P]!=0)P++;var S=I.b_(J,o,P);o+=P+1;if(S=="http://ns.adobe.com/xmp/extension/"){var c=I.b_(J,o,32);
o+=32;o+=8;var b=v+R-o;while(J[o+b-1]==0)b--;if(x.xmp_extn==null)x.xmp_extn="";try{x.xmp_extn+=I.Aq(J,o,b)}catch(gw){}}else if(S=="http://ns.adobe.com/xap/1.0/"){var w=I.Aq(J.slice(o,o+R-P-3));
if(w[0]=="?")w="<"+w;x.xmp=w}}else console.log(r)};d2.Lv.ar4=function(J,v,x){var o=d2.Lv.aCm(J,v),R=o.width,r=o.height,l=R*r,M,K=72,e,N,k=null;
if(R*r*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var P=-1;if(o.adobe)P=o.adobe.transform;if(x||R*r>1e7||P==0||P==2||o.progressive||window.WebAssembly==null){var S=new PDFJS.JpegImage;
S.parse(J);var c=S.getData({width:R,height:r,forceRGB:!0,isSourcePDF:x}),M=g.C(l*4);for(var h=0;h<l;
h++){var b=h<<2,w=b-h;M[b]=c[w];M[b+1]=c[w+1];M[b+2]=c[w+2];M[b+3]=255}}else{M=d2.Lv.anl(J.buffer,o)}var U=v[225];
if(U)for(var h=0;h<U.length;h++)d2.Lv.a3g(J,U[h]+2,o);var F=v[226];if(F){for(var h=0;h<F.length;h++){var Y=F[h],A=I.H1(J,Y+2),G=I.b_(J,Y+4,11);
if(o.icc==null&&G=="ICC_PROFILE"){var n=I.m7(J,Y+18);o.icc=J.slice(Y+18,Y+18+n)}}}var E=v[217][0]+2;
if(E!=J.length)o.suffix=J.slice(E);var $=[R,r,1,0,0,0,1,0];if(o.jfif&&o.jfif.densityUnits!=0){K=Math.round([72,1,2.54][o.jfif.densityUnits]*o.jfif.xDensity)}else if(o.exif&&o.exif[0].t282!=null){var V=o.exif[0].t282[0];
K=V[0]/V[1]}if(o.exif){var X=o.exif;e=ef.Zc(X[0]);var Q=X[0].t274;if(Q)Q=Q[0];if(Q!=null&&Q>1&&Q<20)$=g.raw.as7(Q,R,r)}if(o.xmp){e=ef.Ur(o.xmp,e)}if(o.icc)N=o.icc;
var L=v[237],_=[],a=[];if(L){var T=new Uint8Array(65536),f=0,Y=0;for(var h=0;h<L.length;h++){Y=L[h]+2;
var Z=Y+I.H1(J,Y);Y+=2;var W=Y;while(J[Y]!=0)Y++;Y++;var D=I.b_(J,W,Y-W-1),C=Z-Y;if(C<0)break;while(f+C>T.length){var d=new Uint8Array(T.length*2);
d.set(T);T=d}var p=new Uint8Array(J.buffer,Y,C);T.set(p,f);f+=C}Y=0;J=T;while(Y<f){var y=I.b_(J,Y,4);
Y+=4;var i=I.H1(J,Y);Y+=2;var t=J[Y++],O=I.b_(J,Y,t);Y+=t;if((t&1)==0)Y++;var A=I.m7(J,Y);Y+=4;var E=Y+A+(A&1);
if(i==1028){while(Y+4<E){var q=J[Y++],z=J[Y++],jw=J[Y++],u=I.H1(J,Y);Y+=2;if(q==28&&z==2)_.push([jw,I.b_(J,Y,u)]);
Y+=u}}else if(i==1032)k=ih.agY(J,Y);else if((i&2e3)==2e3){var iH=b0.Kt(J,Y,A);a.push([O,iH])}else{}Y=E}if(_.length!=0)e=ef.aD7(_,e)}var s=[{P0:new jj(0,0,R,r),data:M.buffer,Bt:K,b5:e,gX:N,Hz:a.length==0?null:a,HC:k}],e=o.xmp_extn;
if(e){var bV=new DOMParser,jU=bV.parseFromString(e,"image/svg+xml"),jU=jU.children[0].children[0].children[0],hx=[jU.getAttribute("GImage:Data"),jU.getAttribute("GDepth:Data")];
for(var h=0;h<hx.length;h++)if(hx[h]){var eX=atob(hx[h]),et=new Uint8Array(eX.length);I.cO(et,0,eX);
et=et.buffer;var f7=d2.e4(et),iY=d2.s$(f7).lx(et);s.push(iY[0])}}if(o.suffix){var cd=o.suffix,jV=!1,g2=I.b_(cd,4,4),gV=I.CD(cd,[255,216,255]);
if(d2.ana(cd,[0,0,1,10,14,0,0,0])){if(jV)console.log("Samsung");var Y=0;while(Y!=cd.length){var fD=I.$y(cd,Y+2);
Y+=4;var j4={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[fD];if(j4!=null){var dQ=I.eA(cd,Y);Y+=4;
var eO=I.b_(cd,Y,dQ);Y+=dQ;var a7=I.b_(cd,Y,j4);Y+=j4;if(fD==2608){var cc=Y,ad=I.m7(cd,Y+24);Y+=ad+24;
var jC=I.m7(cd,Y);Y+=jC;var iJ=cd.slice(cc,Y);d2.Lv.atf(iJ)}}else if(fD==18502){while(I.b_(cd,Y,4)!="SEFT")Y+=4;
Y+=4}else{break;console.log(I.W$(cd,Y,128));console.log(cd.slice(Y));throw fD.toString(16)}}}else if(g2=="ftyp"){if(jV)console.log("MP4 Video");
d2.Lv.atf(cd)}else if(I.b_(cd,0,4)=="fixe"){if(jV)console.log("fixe");alert("Unknown data - "+cd.length+" B - at the end of the file",3e3);
var Y=4,A=I.eA(cd,Y);Y+=4;var kJ=I.eA(cd,Y);Y+=4;var jr=I.eA(cd,Y);Y+=4;console.log(A,kJ,jr,cd.slice(Y,Y+84));
Y+=84;var fY=I.b_(cd,Y,32);Y+=32;Y+=8;var fY=I.b_(cd,Y,32);Y+=32}else if(I.b_(cd,8,13)=="FocusShot_Map"){if(jV)console.log("FocusShot_Map");
var iR=I.m7(cd,0),u=I.eA(cd,4),et=g.C(l*4),g6=g.C(l*4);for(var ay=0;ay<r;ay++)for(var cQ=0;cQ<R;cQ++){var h=ay*R+cQ,b=h<<2,aC=8+13+((ay>>>1)*R+cQ>>>1),dI=cd[aC],fm=cd[aC+(l>>>2)];
et[b]=et[b+1]=et[b+2]=dI;et[b+3]=255;g6[b]=g6[b+1]=g6[b+2]=fm;g6[b+3]=255}s.push({P0:new jj(0,0,R,r),data:et.buffer},{P0:new jj(0,0,R,r),data:g6.buffer})}else if(g2=="edof"){if(jV)console.log("edof");
var Q=cd[8+7];console.log(Q.toString(16));var Y=8+16,hd=I.$y(cd,Y),ku=I.$y(cd,Y+2),l=hd*ku;Y+=4;Y+=32+16;
var cp=g.C(l*4);for(var h=0;h<l;h++){var b=h<<2;cp[b]=cp[b+1]=cp[b+2]=cd[Y+h];cp[b+3]=255}if(Q==16){}else if(Q==19){var hp=cp.slice(0);
g.O.E3(cp,hp,hd,ku);var gA=hd;hd=ku;ku=gA;g.O.Ot(hp,cp,hd,ku)}else throw"Unknown orientation of a depth map";
s.push({P0:new jj(0,0,hd,ku),data:cp.buffer})}else if(I.b_(cd,0,64).indexOf("DualShot")!=-1){var jN=I.eA,d4=I.b_,ey=I.$y,Y=0;
function jG(){var hK=jN(cd,Y);if(jN(cd,Y+4)!=0)throw"e";Y+=8;return hK}var cF=I.m7(cd,Y);Y+=4;try{if(cF==45066){Y=1226;
var R=jG(),r=jG();Y=3445}else if(cF==45322){var f5=jN(cd,Y);Y+=4;var fY=d4(cd,Y,f5);Y+=f5;if(fY!="DualShot_DepthMap_1")throw fY;
R=1008;r=756}else throw cF;var jW=g.C(R*r*4);jW.fill(255);g.QR(cd.slice(Y,Y+R*r),jW);s.push({P0:new jj(0,0,R,r),data:jW.buffer})}catch(gw){console.log("error reading a depth map")}try{if(gV!=0)cd=cd.slice(gV);
s=s.concat(d2.s$("jpg").lx(cd.buffer))}catch(gw){}}else if(gV!=-1&&!(cd[0]==255&&cd[1]==129)){if(jV)console.log("another JPG at",gV);
try{if(gV!=0)cd=cd.slice(gV);s=s.concat(d2.s$("jpg").lx(cd.buffer))}catch(gw){}}else if(I.b_(cd,0,4)=="PMPD"){if(jV)console.log("Xiaomi stuff");
var Y=4,f$=I.eA(cd,12),bh=I.eA(cd,16),hd=I.eA(cd,1060),ku=I.eA(cd,1064),ii=hd>ku,dM=s[0].P0.r>s[0].P0.$,b7=cd.slice(cd.length-hd*ku-4),bz=g.C(hd*ku);
for(var ay=0;ay<ku;ay++)for(var cQ=0;cQ<hd;cQ++)bz[ay*hd+cQ]=b7[(ku-ay-1)*hd+cQ];var jW=g.C(hd*ku*4);
jW.fill(255);g.QR(bz,jW);if(ii!=dM){var hp=jW.slice(0);g.O.E3(jW,hp,hd,ku);var gA=hd;hd=ku;ku=gA;g.O.Ot(hp,jW,hd,ku)}s.push({P0:new jj(0,0,hd,ku),data:jW.buffer})}else console.log(I.b_(cd,0,4),cd)}if(s.length>1){var cZ=s[0].P0,fI=!1,aI=!0;
s[0].gT="Main";var e4=[!1];for(var h=1;h<s.length;h++){e4[h]=d2.Lv.aHW(new Uint8Array(s[h].data));if(e4[h])fI=!0;
if(!s[h].P0.Ym(s[0].P0))aI=!1}if(!fI&&!aI)s=s.slice(0,1);else for(var h=1;h<s.length;h++){s[h].gT=e4[h]?"Depth Map":null;
var iV=s[h].P0;if(!iV.Ym(cZ)){var k6=cZ.r/iV.r,bq=cZ.$/iV.$,cq=new bC;cq.scale(k6,bq);var ib=H.ge.lI([new Uint8Array(s[h].data),iV],1,g.O.Mf(cq));
s[h].P0=ib.S;s[h].data=ib.buffer}}}if(d2.Lv.j2==1)if($[2]!=1||$[6]!=1)for(var h=0;h<s.length;h++){var jD=s[h],eL=new Uint8Array(jD.data),R=jD.P0.r,r=jD.P0.$,hd=$[0],ku=$[1],M=g.C(hd*ku*4);
g.O.f0(eL,R,r,M,$);jD.P0=new jj(0,0,hd,ku);jD.data=M.buffer}return s};d2.Lv.atf=function(J){if(window.confirm("Photopea found a "+eF.Ux(J.length)+" MP4 video inside your image. Would you like to save it?",4e3)){aB.save(J.slice(0).buffer,"video.mp4")}};
d2.Lv.aHW=function(J){var v=!0;for(var h=0;h<J.length;h+=4){v=v&&J[h]==J[h+1]&&J[h+1]==J[h+2]}return v};
d2.Lv.j2=0;d2.Lv.lx=function(J,v,x){J=new Uint8Array(J);if(J[0]==255){var o=d2.Lv.Yc(J);if(o[195]==null){d2.Lv.j2++;
var R=d2.Lv.ar4(J,o,!1);d2.Lv.j2--;return R}var r=I.H1(J,o[195][0]+5),l=I.H1(J,o[195][0]+7),M=UTIF.LosslessJpegDecode(J),P=l*r,S=g.C(P*4);
for(var h=0;h<P;h++){var c=h<<2,b=c-h;S[c]=M[b];S[c+1]=M[b+1];S[c+2]=M[b+2];S[c+3]=255}return[{P0:new jj(0,0,l,r),data:S.buffer}]}else if(J[0]==0&&J[4]==48&&J[6]==1){var w=J,U=new PDFJS.Jbig2Image,F=[];
if(v)F.push({data:v,start:0,end:v.length});F.push({data:w,start:0,end:w.length});var M=U.parseChunks(F);
if(!x)for(var h=0;h<M.length;h++)M[h]=~M[h];var l=I.m7(J,11),r=I.m7(J,15),Y=Math.ceil(l/8),A=g.C(l*r*4);
for(var G=0;G<r;G++){var n=G*Y;for(var E=0;E<l;E++){var c=(G*l+E)*4,K=M[n+(E>>>3)]>>>7-(E&7)&1,e=K*255;
A[c]=e;A[c+1]=e;A[c+2]=e;A[c+3]=255}}return[{P0:new jj(0,0,l,r),data:A.buffer}]}else{var U=new PDFJS.JpxImage;
U.parse(J);var l=U.width,r=U.height,$=U.tiles,N=U.componentsCount,k=new Uint8Array(l*r*4),V=new jj(0,0,l,r);
for(var U=0;U<$.length;U++){var X=$[U],Q=X.width,L=X.height,_=Q*L,a=X.items,T=new jj(X.left,X.top,Q,L),f=new Uint8Array(_*4);
if(N==1)for(var h=0;h<_;h++){var Z=a[h],c=h*4;f[c]=Z;f[c+1]=Z;f[c+2]=Z;f[c+3]=255}else if(N==3)for(var h=0;
h<_;h++){var b=h*3,c=h*4;f[c]=a[b];f[c+1]=a[b+1];f[c+2]=a[b+2];f[c+3]=255}else if(N==4)f.set(a);else console.log("Unknown number of components: "+N);
g.sW(f,T,k,V)}return[{P0:V,data:k.buffer}]}};d2.zt={};d2.zt.lS=function(J,v,x,o){if(o==null)o=[70,!1,0,0,0];
var R=o[0]/100,Y=0;if(J.length==1){var r=new Uint8Array(d2.w$(J[0][0],v,x,"webp",R));if(d2.e4(r.buffer)!="webp"){alert("Your browser cannot export WEBP :(",3e3);
throw"e"}if(r.length<2e4){var l=kP.KE(r.buffer),M=l.sub;for(var h=0;h<M.length;h++)if(M[h].KK=="ICCP"){var P=M[h];
r=d2.ayt(r,P.V-8,P.size+8);I.u1(r,4,l.size-(P.size+8));break}}if(o[1]&&J[0][3]){var l=kP.KE(r.buffer),M=l.sub,S=M[0].V+M[0].size,c=J[0][3],b=new Uint8Array(UTIF.encode([ef.Ac(c)])),w=new Uint8Array(6+b.length);
I.cO(w,0,"Exif\0\0");w.set(b,6);var U=I.xU(ef.tu(c)),F=new Uint8Array(16+w.length+U.length);I.cO(F,0,"EXIF");
I.u1(F,4,w.length);F.set(w,8);var Y=8+w.length;I.cO(F,Y,"XMP ");I.u1(F,Y+4,U.length);F.set(U,Y+8);var A=new Uint8Array(r.length+F.length);
A.set(new Uint8Array(r.buffer,0,S),0);A.set(F,S);A.set(new Uint8Array(r.buffer,S),S+F.length);r=A;I.u1(r,4,I.eA(r,4)+F.length)}return r.buffer}var G=I.ko,n=I.Te,E=new i3;
G(E,Y,"RIFF    WEBPVP8X");Y+=16;n(E,Y,10);Y+=4;n(E,Y,18);Y+=4;n(E,Y,v-1);Y+=3;n(E,Y,x-1);Y+=3;G(E,Y,"ANIM");
Y+=4;n(E,Y,6);Y+=4;E.Cb(Y,4);E.data[Y+3]=255;I.AW(E,Y+4,o[3]);Y+=6;var K=[];for(var h=0;h<J.length;h++){K.push(J[h][0])}var e=UPNG.encode.compress(K,v,x,R==1?0:Math.max(2,Math.floor(R*500)),[!1,!0,!0,0,!0]).frames;
function $(l,W,D,C){var _=l.V-8,a=l.size+8;D.Cb(C,a);for(var h=0;h<a;h++)D.data[C+h]=W[_+h];return C+a}for(var h=0;
h<J.length;h++){G(E,Y,"ANMF");Y+=4;var N=Y,_=0,a=0;Y+=4;var k=e[h],V=k.rect,X=[V.x>>>1,V.y>>>1,V.width-1,V.height-1,J[h][1]];
for(var Q=0;Q<5;Q++)n(E,Y+3*Q,X[Q]);Y+=15;E.Cb(Y,1);E.data[Y]=1-k.blend<<1|k.dispose;Y++;var L=new Uint8Array(d2.w$(k.img.buffer,V.width,V.height,"webp",1)),M=kP.KE(L.buffer).sub,T={};
for(var f=0;f<M.length;f++)T[M[f].KK]=M[f];if(T.VP8L)Y=$(T.VP8L,L,E,Y);else throw"e";var Z=Y-N-4;n(E,N,Z);
if((Z&1)==1){E.Cb(Y,1);Y++}}n(E,4,Y-8);return E.data.slice(0,Y).buffer};(function(){var J=d2.he.get("wasm/webp").buffer;
WebAssembly.instantiate(J).then(function(v){var x=v.instance.exports;d2.zt.exp=x})}());d2.zt.lx=function(J){var v=new Uint8Array(J),x=d2.zt.agT,o=null,R=kP.KE(J).sub,r={},l=null;
for(var h=0;h<R.length;h++)r[R[h].KK]=R[h];if(r.EXIF){var M=r.EXIF,P=new Uint8Array(J,M.V+6,M.size-6),M=UTIF.decode(P)[0];
if(M)l=ef.Zc(M)}var M=r["XMP\0"];if(M==null)M=r["XMP "];if(M){var P=new Uint8Array(J,M.V,M.size);if(l==null)l={};
l=ef.Ur(I.Aq(P),l)}var S=r.ANIM,c=r.VP8L,b=r["VP8 "],w=r.VP8X;if(S==null){var U,F;if(b){U=I.$y(v,b.V+6);
F=I.$y(v,b.V+8)}else if(c){var Y=I.eA(v,c.V+1);U=(Y&(1<<14)-1)+1;F=(Y>>>14&(1<<14)-1)+1}else throw"e";
var A=x(o,J,{V:0,size:v.length},U,F);A.b5=l;return[A]}var G=w.V,U=1+(I.eA(v,G+4)&16777215),F=1+(I.eA(v,G+7)&16777215),n=[],E=new jj(0,0,U,F),K=g.C(U*F*4);
for(var h=0;h<R.length;h++){var e=R[h];if(e.KK!="ANMF")continue;var $=[];for(var N=0;N<5;N++)$.push(I.eA(v,e.V+N*3)&16777215);
var k=new jj($[0]*2,$[1]*2,$[2]+1,$[3]+1),V=$[4],X=x(o,J,{V:e.V+16,size:e.size-16},U,F),Q=new Uint8Array(X.data),L=v[e.V+15];
if(L>>>1==0)g.v.Ry("norm",Q,k,K,E,k,1);else g.sW(Q,k,K,E);n.push({gT:"_a_"+n.length+","+V,P0:E.Q(),data:K.buffer.slice(0)});
if((L&1)==1){Q.fill(0);g.sW(Q,k,K,E)}}return n};d2.zt.agT=function(J,v,x,o,R){var r=d2.zt.exp,l=r.memory,M=5e6+2*x.size+o*R*10;
d2.es(r,M);var P=new Uint8Array(l.buffer),S=r.malloc(x.size);P.set(new Uint8Array(v,x.V,x.size),S);var c=r.malloc(8),b=r.WebPDecodeARGB(S,x.size,c,c+4),w=I.eA(P,c),U=I.eA(P,c+4),F=w*U*4,Y=g.C(F);
for(var h=0;h<F;h+=4){Y[h]=P[b+h+1];Y[h+1]=P[b+h+2];Y[h+2]=P[b+h+3];Y[h+3]=P[b+h]}r.WebPFree(b);r.free(c);
r.free(S);return{P0:new jj(0,0,w,U),data:Y.buffer}};d2.ahM=function(){function J(M,P,S,c){var b=new Uint8Array(M[0][0]),w=new Uint32Array(b.buffer),U=[],F={},A=24,G=0,$=0;
for(var h=0;h<w.length;h++){var Y=w[h]&16777215;if(F[Y]==null){F[Y]=U.length;U.push(Y);if(U.length>256){U=null;
break}}}if(c&&c[0])U=null;if(U){A=1;while(1<<A<U.length)A*=2;if(A==2)A=4}var n={BK:P,mq:S,xr:1,ar:A,p3:0,aEy:G},E=4*Math.floor((n.ar*n.BK+31)/32);
n.size=E*n.mq+2;var K=new i3,e=U?(1<<A)*4:0;I.ko(K,$,"BM");$+=2;I.Te(K,$,E*S+16+40+e);$+=4;I.Te(K,$,0);
$+=4;I.Te(K,$,54+e);$+=4;K.Cb($,40);I.Te(K,$,40);$+=4;l(K.data,$,n,E);$+=36;if(U){K.Cb($,e);var N=K.data;
for(var h=0;h<U.length;h++){var k=$+h*4,V=U[h]>>>16,X=U[h]>>>8&255,Q=U[h]&255;N[k]=V;N[k+1]=X;N[k+2]=Q}$+=e}K.Cb($,E*S);
if(A==24)for(var L=0;L<S;L++){var _=$+(S-1-L)*E;for(var a=0;a<P;a++){var T=(L*P+a)*4;K.data[_+a*3+2]=b[T];
K.data[_+a*3+1]=b[T+1];K.data[_+a*3+0]=b[T+2]}}else if(A==8)for(var L=0;L<S;L++){var _=$+(S-1-L)*E;for(var a=0;
a<P;a++){var T=L*P+a,f=F[w[T]&16777215];K.data[_+a]|=f}}else if(A==4)for(var L=0;L<S;L++){var _=$+(S-1-L)*E;
for(var a=0;a<P;a++){var T=L*P+a,f=F[w[T]&16777215];K.data[_+(a>>>1)]|=f<<4-(a&1)*4}}else if(A==1)for(var L=0;
L<S;L++){var _=$+(S-1-L)*E;for(var a=0;a<P;a++){var T=L*P+a,f=F[w[T]&16777215];K.data[_+(a>>>3)]|=f<<7-(a&7)}}$+=E*S+2;
return K.data.slice(0,$).buffer}function v(M){M=new Uint8Array(M);if(I.eA(M,0)==40)return[x(M.buffer,0)];
var P=0,S=I.b_(M,P,2);P+=2;if(S!="BM"){alert("Unsupported BMP format: "+S);return}var c=I.eA(M,P);P+=4;
P+=4;var b=I.eA(M,P);P+=4;return[x(M.buffer,P,b)]}function x(M,P,S){M=new Uint8Array(M);var c=I.eA(M,P),b=r(M,P+4);
if(b.xr!=1)alert("unsupported number of color planes: "+b.xr);if(b.p3!=0&&b.p3!=1&&b.p3!=2&&b.p3!=3){alert("Unsupported BMP compression: "+b.p3);
return}P+=c;var w=P,U=M;if(S==null)S=P;if(b.p3==1||b.p3==2){var F=R(M,S,b);b.ar=8;M=F;S=0}var Y=4*Math.floor((b.ar*b.BK+31)/32),A=b.BK,G=Math.abs(b.mq),n=new Uint8Array(A*G*4);
n.fill(255);if(b.ar==32)for(var E=0;E<G;E++){var K=S+(G-1-E)*Y;for(var e=0;e<A;e++){var $=(E*A+e)*4;
n[$]=M[K+e*4+2];n[$+1]=M[K+e*4+1];n[$+2]=M[K+e*4+0];n[$+3]=M[K+e*4+3]}}else if(b.ar==24)for(var E=0;
E<G;E++){var K=S+(G-1-E)*Y;for(var e=0;e<A;e++){var $=(E*A+e)*4;n[$]=M[K+e*3+2];n[$+1]=M[K+e*3+1];n[$+2]=M[K+e*3+0]}}else if(b.ar==16)for(var E=0;
E<G;E++){var K=S+(G-1-E)*Y;for(var e=0;e<A;e++){var $=(E*A+e)*4,N=M[K+e*2+1]<<8|M[K+e*2];if(S==P){n[$]=(N>>>10&31)*(255/31);
n[$+1]=(N>>>5&31)*(255/31);n[$+2]=(N&31)*(255/31)}else{n[$]=(N>>>11)*(255/31);n[$+1]=(N>>>5&63)*(255/63);
n[$+2]=(N&31)*(255/31)}}}else if(b.ar==8)for(var E=0;E<G;E++){var K=S+(G-1-E)*Y;for(var e=0;e<A;e++){var $=(E*A+e)*4,k=M[K+e];
n[$]=U[w+4*k+2];n[$+1]=U[w+4*k+1];n[$+2]=U[w+4*k+0]}}else if(b.ar==4)for(var E=0;E<G;E++){var K=S+(G-1-E)*Y;
for(var e=0;e<A;e++){var $=(E*A+e)*4,k=M[K+(e>>1)];k=k>>4-4*(e&1);k=k&15;n[$]=U[w+4*k+2];n[$+1]=U[w+4*k+1];
n[$+2]=U[w+4*k+0]}}else if(b.ar==1)for(var E=0;E<G;E++){var K=S+(G-1-E)*Y;for(var e=0;e<A;e++){var $=(E*A+e)*4,V=M[K+(e>>3)];
V=V>>7-(e&7);V=V&1;n[$]=U[w+4*V+2];n[$+1]=U[w+4*V+1];n[$+2]=U[w+4*V+0]}}else throw"Unknown bit depth "+b.ar;
if(b.mq<0){var X=new Uint32Array(n.buffer),Q=G>>>1;for(var E=0;E<Q;E++){var L=E*A,_=(G-E-1)*A;for(var e=0;
e<A;e++){var a=X[L+e];X[L+e]=X[_+e];X[_+e]=a}}}return{P0:new jj(0,0,A,G),data:n.buffer}}function o(M,h){return M>>>4-((h&1)<<2)&15}function R(M,P,S){var c=S.BK,b=Math.abs(S.mq),w=new Uint8Array(c*b),U=0,F=0,h=0;
while(F<b){var Y=M[P++],A=M[P++],G=F*c+U;if(Y>0){if(S.ar==4)for(h=0;h<Y;h++){w[G+h]=o(A,h)}else for(h=0;
h<Y;h++){w[G+h]=A}U+=Y}else if(Y==0&&A==0){F++;U=0}else if(Y==0&&A==1){break}else if(Y==0&&A==2){U+=M[P++];
F+=M[P++]}else{var n=A;if(S.ar==4){for(h=0;h<A;h++){w[G+h]=o(M[P+(h>>>1)],h)}n=Math.ceil(A/2)}else{for(h=0;
h<A;h++){w[G+h]=M[P+h]}}if((n&1)!=0)n++;P+=n;U+=A}}return w}function r(M,P){var S=I.aV,c=I.eA,b=I.$y,w={};
w.BK=S(M,P);P+=4;w.mq=S(M,P);P+=4;w.xr=b(M,P);P+=2;w.ar=b(M,P);P+=2;w.p3=c(M,P);P+=4;w.size=c(M,P);P+=4;
var U=S(M,P);P+=4;var F=S(M,P);P+=4;w.aEy=c(M,P);P+=4;P+=4;return w}function l(M,P,S,c){I.u1(M,P,S.BK);
P+=4;I.u1(M,P,S.mq);P+=4;I.nU(M,P,S.xr);P+=2;I.nU(M,P,S.ar);P+=2;I.u1(M,P,S.p3);P+=4;I.u1(M,P,S.size);
P+=4;I.u1(M,P,2834);P+=4;I.u1(M,P,2834);P+=4;I.u1(M,P,S.aEy);P+=4;P+=4}return{lx:v,lS:J,a0l:x}}();d2.cw={};
d2.cw.lS=function(J,v,x,o){if(o==null)o=[100,!1,0,0,0,0];var R=[],r=[],l=v*x*4,Y=null;for(var M=0;M<J.length;
M++){var P=new Uint8Array(J[M][0].slice(0));for(var h=0;h<l;h+=4){var S=P[h+3]=P[h+3]>127?255:0;if(S==0)P[h]=P[h+1]=P[h+2]=0}R.push(P.buffer);
r.push(J[M][1])}var c=Math.round(2+254*o[0]/100),b=UPNG.encode.compress(R,v,x,c,[!0,!1,!1,8,!1,o[1]]),w=b.plte,U=new Uint8Array(4),F=new Uint32Array(U.buffer);
for(var h=0;h<w.length;h++){F[0]=w[h];var A=U[0];U[0]=U[2];U[2]=A;w[h]=F[0];if(F[0]==0&&Y==null)Y=h}while(w.length<256)w.push(0);
var G=new Uint8Array(2e4+Math.round(1.5*v*x*J.length)),n=o[3],E={palette:w};if(n!=1)E.loop=n==0?0:n-1;
var K=new GifWriter(G,v,x,E);for(var h=0;h<J.length;h++){var e=b.frames[h],$=e.rect,N=e.blend,k=e.dispose,V=Math.round(r[h]/10);
if(V<2)V=2;K.addFrame($.x,$.y,$.width,$.height,e.img,{transparent:Y,disposal:k+1,delay:V})}return G.slice(0,K.end()).buffer};
d2.cw.lx=function(J){var v=Date.now(),x=[],o=UGIF.decode(J),R=UGIF.toRGBA8(o),r=new jj(0,0,o.width,o.height);
for(var h=0;h<R.length;h++){var l=o.frames[h];x.push({P0:r.Q(),gT:"_a_frm"+h+","+l.delay*10,data:R[h]})}return x};
d2.hs={};d2.hs.lS=function(J,v,x,o){if(v>256||x>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var R=Math.min(v,256),r=Math.min(x,256),l=new jj(0,0,R,r),M=g.C(l.o()*4),P=new jj(0,0,v,x),S=new Uint8Array(J[0][0]);
g.sW(S,P,M,l);J[0][0]=M.buffer;v=R;x=r}var c=new Uint8Array(J[0][0]).slice(0),w=0;c[3]=Math.min(c[3],254);
var b=new i3,U=o&&o[0]==!0;I.AW(b,w,0);w+=2;I.AW(b,w,U?2:1);w+=2;I.AW(b,w,1);w+=2;var F=new Uint8Array(UPNG.encode([c.buffer],v,x,null,null,null,!0));
b.Cb(w,16);b.data[w]=v==256?0:v;w++;b.data[w]=x==256?0:x;w++;w+=2;I.AW(b,w,U?Math.round(v/2):1);w+=2;
I.AW(b,w,U?Math.round(x/2):32);w+=2;I.Te(b,w,F.length);w+=4;I.Te(b,w,6+16);w+=4;b.Cb(w,F.length);b.data.set(F,w);
w+=F.length;return b.data.slice(0,w).buffer};d2.hs.lx=function(J){J=new Uint8Array(J);var v=4,x=I.$y(J,v);
v+=2;var o=[];for(var h=0;h<x;h++){var R=d2.hs.aHn(J,v+h*16),r=J.buffer.slice(R.offset,R.offset+R.size),l=d2.e4(r);
l=l?l:"bmp";if(l=="png"){var M=d2.s$(l),P=M.lx(r);R.qG=P[0]}else{var S=d2.s$("BMP").a0l(r,0),r=g.C(R.BK*R.mq*4);
g.sW(new Uint8Array(S.data),new jj(0,0,S.P0.r,S.P0.$),r,new jj(0,R.mq,R.BK,R.mq));S.data=r.buffer;S.P0.$=R.mq;
R.qG=S}o.push(R)}o.sort(function(c,b){if(c.BK!=b.BK)return c.BK-b.BK;return c.axo-b.axo});return[o.pop().qG]};
d2.hs.aHn=function(J,v){var x={};x.BK=J[v];v++;if(x.BK==0)x.BK=256;x.mq=J[v];v++;if(x.mq==0)x.mq=256;
x.atj=J[v];v++;v++;x.at8=I.$y(J,v);v+=2;x.axo=I.$y(J,v);v+=2;x.size=I.eA(J,v);v+=4;x.offset=I.eA(J,v);
v+=4;return x};d2.QO={};d2.QO.aDc=function(J){var v,x="dng";if(J[0].t33421)v=J[0];else if(J[0].subIFD&&J[0].t271&&J[0].t271[0]=="Hasselblad"){x="fff";
v=J[0].subIFD[0];v.t33421=[2,2]}else if(J[0].subIFD&&J[0].subIFD[0].t33421){v=J[0].subIFD[0];if(v.t50706==null){if(v.t258[0]==8)v.t258[0]=12}x=v.t50713||v.t50717?"dng":"arw"}else if(J[0].subIFD&&J[0].subIFD[0]&&J[0].subIFD[0].t262&&J[0].subIFD[0].t262[0]==34892)v=J[0].subIFD[0];
else if(J[0].t50706)v=J[0];else if(J[0].subIFD&&J[0].subIFD[1]&&J[0].subIFD[1].t33421){x="nef";v=J[0].subIFD[1]}else if(J[0].subIFD&&J[0].subIFD[2]&&J[0].subIFD[2].t33421){x="nef";
v=J[0].subIFD[2]}else if(J[3]&&J[3].t50648){x="cr2";var o=J[0].exifIFD,R=o.makerNote;v=J[3];var r=R.t224[1],l=R.t224[2];
v.t256=[r];v.t257=[l];v.t258=[16];v.t259=[7];v.t262=[32803];v.t277=[1];v.t33421=[2,2];var M=v.t50656[0],P=g.raw.yP[M];
if(P==null)throw"e";v.t33422=P}else if(J[0].t1&&J[0].t1.length==4){x="rw2";var S=J[0],c={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},b=S.t280==null;
v={};for(var w in c)if(S["t"+w])v["t"+c[w]]=S["t"+w];v.t2=S.t2;v.t3=S.t3;v.t10=S.t10;v.t45=S.t45;v.t258=[16];
v.t33421=[2,2];var U=S.t9[0];if(b)U=2;v.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][U-1];var F=S.t4[0],Y=S.t5[0],A=S.t6[0],G=S.t7[0];
v.t50829=[F,Y,A,G];var n=S.t36[0],E=S.t37[0],K=S.t38[0];v.t50728=[E/n,E/E,E/K]}else if(J[0].t258&&J[0].t258[0]>=12&&J[0].t271&&(J[0].t271[0].startsWith("OLYMPUS")||J[0].t271[0].startsWith("OM Digital Solutions"))){x="orf";
v=J[0];v.t33421=[2,2]}return[v,v?x:null]};d2.QO.lx=function(J){var v=Date.now();if(g.raw.k9(J.byteLength))return[g.raw.a9S(J)];
var x=UTIF.decode(J);console.log(x.slice(0));var o=d2.QO.aDc(x),R=o[0];if(R){UTIF.decodeImage(J,R,x);
for(var r in x[0])if((r[0]=="t"||r[0]=="e"||r[0]=="d")&&R[r]==null)R[r]=x[0][r];R.WD=x[0].t274?x[0].t274[0]:1;
return[R]}var l=[];for(var h=0;h<x.length;h++){var M=x[h],P=null,Y=72,$,N=8;UTIF.decodeImage(J,M,x);
if(M.width==null)continue;if(M.t258&&M.t258[0]==16&&M.t277&&M.t277[0]==1){var S=0,c=0,b=0,w=M.data;for(var U=0;
U<w.length;U+=2){var F=w[U+1]<<8|w[U];if(F>S)S=F;c+=F;b++}P=1/256*65535/(.5*S+.5*(2*c/b))}var A=M.t282,G=M.t296,n=ef.Zc(M),E=M.t258,K=M.width,e=M.height;
if(A!=null&&G!=null){Y=A[0][0]/A[0][1];if(G[0]==3)Y=Math.round(Y/2.54)}if(bD&&E[0]==16){$=d2.a9D(M.data.buffer,K,e);
N=16}else $=UTIF.toRGBA8(M,P).buffer;console.log(M);l.push({P0:new jj(0,0,K,e),data:$,Bt:Y,b5:n,gX:M.t34675?M.t34675.slice(0):null,depth:N})}return l};
d2.QO.lS=function(J,v,x,o){if(o==null)o=[!1];var R={},r=J[0];if(r[3]!=null&&o[0])R=ef.Ac(r[3]);if(r[2]!=null){R.t282=R.t283=[[Math.round(r[2]),1]];
R.t296=[2]}return UTIF.encodeImage(r[0],v,x,R)};d2.B9={};d2.B9.KY=!0;d2.B9.lx=function(J,v){var x=UTIF.decode(J),o=x[0],M=0;
v.r=o.t256[0];v.$=o.t257[0];v.buffer=g.C(v.r*v.$*4);v.Tb=!1;v.g8=o.t258[0];v.nV=3;var R=o.t37724.slice(36),r=I.b_(R,0,4)=="MIB8";
aw.kC(R,0,R.length,v.add,!1,v,r);var l=r?I.eA:I.m7;while(M<R.length){var P=I.uE(R,M,r);M+=4;var S=I.uE(R,M,r);
M+=4;var c=l(R,M);M+=4;if(S=="Layr"){ih.XT(v,R,M,r);for(var h=0;h<v.k.length;h++){var b=v.k[h];if(b.add.vstk)b.B0(v)}}M+=c;
if((c&3)!=0)M+=4-(c&3)}};d2.aFX={};d2.aFX.lx=function(J){J=new Uint8Array(J);var v=8,x,o=0;while(v<J.length){var R=I.b_(J,v,4),r=I.m7(J,v+4);
if(R.startsWith("ic")){var l=J.slice(v+8,v+r),M=d2.e4(l.buffer),P=d2.s$(M),S=P.lx(l.buffer),c=S[0].P0.o();
if(c>o){o=c;x=S}}v+=r}return x};d2.eR={};d2.eR.KY=!0;d2.eR.lx=function(J,v){ih.KE(J,v)};d2.eR.a95=function(J,v,x,o){if(o==null)o=[!1,!1,!1,!1,!1];
if(!o[0])J.rv();var R=new i3,r=ih.Ce(J,R,o);return[R.data.buffer,r]};d2.eR.lS=function(J,v,x,o){var R=d2.eR.a95(J,v,x,o),r=R[0],l=R[1];
return r.byteLength==l?r:r.slice(0,l)};d2.nv={};d2.nv.KY=!0;d2.nv.lx=function(J,v){var x=pako.inflate(new Uint8Array(J)),o=I.H1(x,0),R=I.H1(x,2),r=4;
v.r=I.m7(x,r);r+=4;v.$=I.m7(x,r);r+=4;v.buffer=g.C(v.r*v.$*4);var l=I.H1(x,r);r+=2;r+=4;for(var M=0;
M<l;M++){var P=v.qL(),F=0,f=1,Z=2,W=3,D=0;v.k.push(P);var S=I.m7(x,r);r+=4;var c=r,b=I.H1(x,c);c+=2;
var w=I.Aq(x,c,b);c+=b;P.v7(w);var U=x[c];c++;if(U!=0&&U!=1)throw U;P.S.x=I.a$(x,c);c+=4;P.S.y=I.a$(x,c);
c+=4;P.S.r=I.m7(x,c);c+=4;P.S.$=I.m7(x,c);c+=4;if(o>3){F=I.a$(x,c);c+=4}P.fc=Math.round(255*x[c]/100);
c++;var Y=x[c];c++;P.G0(Y!=0);P.gR="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[x[c]];
c++;var A=x[c];c++;if(A)P.add.lspf=1<<31;if(o>3){var G=I.H1(x,c);c+=2;if(G!=0){var n=JSON.parse(I.Aq(x,c,G));
c+=G;var E=n.text,K=n.textSettings,e=K.font,$=K.size,N=K.padding,k=parseInt(K.color.slice(1),16);P.add.lnsr="rend";
P.add.TySh=bI.Q6(0,0);P.add.TySh.yW=new jj(0,0,100,100);var V=P.add.TySh.u=new bC,X=P.S.r/2,Q=P.S.$/2;
V.translate(-X,-Q);V.rotate(-F*Math.PI/180);V.translate(X,Q);V.translate(P.S.x+N,P.S.y+N);var L=P.add.TySh.vv;
bI.IN(L,1);bI.lC(L,[0,0,P.S.r-N*2,P.S.$]);bI.Cq(L,0,E);var _=bI.Ni(L,0,1);_.iz.FontSize=$;_.iz.FillColor={Type:1,Values:[1,(k>>>16&255)/255,(k>>>8&255)/255,(k>>>0&255)/255]};
if(K.bold)e+="-Bold";bI.ud(_,e);_.u7.Justification=["left","right","center"].indexOf(K.align);bI.qc(L,0,E.length,_)}}var a=I.m7(x,c);
c+=4;if(a!=P.S.o()*4){for(var h=P.S.r;h>P.S.r/2;h--){var T=a/(h*4);if(T==Math.round(T)){P.S.r=h;P.S.$=T;
break}}}P.buffer=g.C(P.S.o()*4);if(o>3){f=0;Z=1;W=2;D=3}for(var h=0;h<a;h+=4){P.buffer[h]=x[c+h+f];P.buffer[h+1]=x[c+h+Z];
P.buffer[h+2]=x[c+h+W];P.buffer[h+3]=x[c+h+D]}c+=a;var C=I.m7(x,c);c+=4;if(C==0&&o>3){r+=S;continue}var d=x[c];
c++;var p=I.H1(x,c);c+=2;if(C!=0){P.pR=new m.V1;P.pR.S=P.S.Q();P.pR.N=g.C(P.S.o());for(var h=0;h<C;h+=4)P.pR.N[h>>>2]=x[c+h+1];
c+=C}if(d!=0){var y=JSON.parse(gD.default);P.add.lmfx=y;for(var h=0;h<gD.order.length;h++)y[gD.Lw[h]]={t:"VlLs",v:[]};
var i={"102":9,"101":2,"103":0,"104":3,"105":8};for(var h=0;h<d;h++){var t=I.H1(x,c),O=c+t+4,q=x.slice(c,O),z=x[c+2];
c+=3;var jw=i[z+""],u=JSON.parse(gD.Sy[jw]);y[gD.Lw[jw]].v.push({t:"Objc",v:u});if(jw!=0){u.Md.v.BlnM=gX.Pp("norm");
u.Opct.v.val=x[c];c++;if(jw==9||jw==2){u.Dstn.v.val=x[c+1];c+=2}else c+=2;u.blur.v.val=Math.round(x[c]*1.2);
c++;if(jw==9||jw==2){u.uglg.v=!1;u.lagl.v.val=180-I.H1(x,c);c+=2}u.Clr.v=g.UH.YK({z:x[c+1],H:x[c+2],c:x[c+3]})}else{u.hglM.v.BlnM=u.sdwM.v.BlnM=gX.Pp("norm");
c+=2;var iH=x[c++],s=x[c++];u.blur.v.val=Math.round(Math.sqrt(s*iH)*1.3);u.srgR.v.val=Math.round(100*iH/s);
u.uglg.v=!1;u.lagl.v.val=180-I.H1(x,c);c+=2;u.hglO.v.val=x[c++];u.hglC.v=g.UH.YK({z:x[c+1],H:x[c+2],c:x[c+3]});
c+=4;u.sdwO.v.val=x[c++];u.sdwC.v=g.UH.YK({z:x[c+1],H:x[c+2],c:x[c+3]});c+=4}c=O}}if(c-r<S){var bV=I.m7(x,c),eX=0;
c+=4;c++;var b=I.H1(x,c);c+=2;var E=I.Aq(x,c,b);c+=b;E=E.replace(/\r/g,"\n");var b=I.H1(x,c);c+=2;var e=I.Aq(x,c,b);
c+=b;var $=I.H1(x,c);c+=2;var jU=P.S.x,hx=P.S.r;if(bV&4)eX=1;if(bV&2)eX=2;var f7=Math.round($*.4);if(eX==0||eX==2)hx+=f7;
if(eX==1||eX==2){hx+=f7;jU-=f7}P.add.lnsr="rend";P.add.TySh=bI.Q6(0,0);P.add.TySh.yW=new jj(0,0,100,100);
P.add.TySh.u=new bC(1,0,0,1,jU,P.S.y+$*.25);var L=P.add.TySh.vv;bI.IN(L,1);bI.lC(L,[0,0,hx,P.S.$]);bI.Cq(L,0,E);
var _=bI.Ni(L,0,1);_.iz.FontSize=$;_.iz.FillColor={Type:1,Values:[1,x[c+1]/255,x[c+2]/255,x[c+3]/255]};
c+=4;if(x[c+5])e+="-Bold";if(x[c+6])e+="-Italic";bI.ud(_,e);_.u7.Justification=eX;c+=8;bI.qc(L,0,E.length,_)}r+=S}};
d2.ds={};d2.ds.KY=!0;d2.ds.lx=function(J,v){var x=UZIP.parse(J),o=JSON.parse(I.Aq(x["manifest.json"].buffer));
v.r=o.width;v.$=o.height;v.buffer=g.C(v.r*v.$*4);v.name=o.name+".psd";var R=o.stack;for(var r=0;r<R.length;
r++){var l=R[r],M=l.type,P=l.rect,S=l.format,c=v.qL();c.v7(l.name);c.G0(l.visible);c.fc=Math.round(255*l.opacity);
var b=c.S=new jj(P.x,P.y,P.w,P.h),w=P.r;if(w==null)w=0;v.k.push(c);if(M=="image"&&w!=0||M=="shape"&&S.variant=="svg"){var U=v.P2(x[l.content],c.getName(),0,0);
U.eW=c.eW;U.fc=c.fc;c=U;v.k.pop();v.k.push(c);var F=g.b.ho(b).T;g.b.u(F,d2.ds.am(b,w),F);c.add.SoLd.Trnf=H.ge.y7(F);
c.add.SoLd.nonAffineTransform=H.ge.y7(F);c.IY(v,!1)}else if(M=="image"){if(b.o()!=0){var Y=x[l.content].buffer,A=d2.e4(Y),G=d2.s$(A),n=G.lx(Y)[0];
b.r=n.P0.r;b.$=n.P0.$;c.buffer=new Uint8Array(n.data)}}else if(M=="shape"){c.eW|=16;var E=c.add.vstk=gD.gB.ow(!0),K=c.add.vmsk=new m.e_,e;
c.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:0,H:0,c:0})}};var $=S.variant,N=S.fill;if($=="rectangle"||$=="rounded"){e=g.I.yu.Rect(b.x,b.y,b.r,b.$,S.radii)}else if($=="ellipse"){e=g.I.yu.Bd(b.x,b.y,b.r,b.$)}else if($=="path"){var k=Typr.U.SVGToPath(l.content),V={Wp:k.cmds,T:k.crds};
e=g.b.ZX(V);var X=g.I.Or(e);g.I.Xi(e,new bC(b.r/X.r,0,0,b.$/X.$,b.x,b.y))}else if($=="line"){var V={Wp:["M","L"],T:[b.x,b.y,b.x+b.r,b.y]};
e=g.b.ZX(V)}else console.log(S);c.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:0,H:0,c:0})}};
if(N==null){E.fillEnabled.v=!1}else if(N.type=="color"){c.add.SoCo.Clr.v=g.UH.YK(CSS.qn(N.value))}else if(N.type=="gradient"){delete c.add.SoCo;
var Q=c.add.GdFl=JSON.parse(gD.Sy[gD.order.indexOf("GrFl")]),L=Q.Grad.v;L.Intr.v=0;var _=[],a=N.value.stops;
for(var h=0;h<a.length;h++){var T=a[h],f=CSS.qn(T.color);_.push([T.position,[f.z/255,f.H/255,f.c/255]])}g.UH.w5(_,L);
Q.Angl.v.val=-(N.value.direction+w)+90+180}else console.log(N);var Z=d2.ds.am(b,w);g.I.Xi(e,Z);var W=l.style;
if(W&&W.outline){var D=W.outline;E.strokeEnabled.v=!0;E.strokeStyleLineWidth.v.val=D.size;E.strokeStyleContent.v.Clr.v=g.UH.YK(CSS.qn(D.color))}K.X=e;
c.Tr();c.B0(v)}else if(M=="text"){c.add.lnsr="rend";c.add.TySh=bI.Q6(0,0);c.add.TySh.yW=new jj(0,0,100,100);
var C=c.add.TySh.vv;bI.IN(C,1);bI.lC(C,[0,0,b.r,b.$]);var d=l.content;bI.Cq(C,0,d);var y=bI.Ni(C,0,Math.min(d.length,1));
bI.ud(y,S.font.name);var i=y.iz.FontSize=Math.round(S.size);if(S.fill&&S.fill.value){var t=CSS.qn(S.fill.value);
y.iz.FillColor={Type:1,Values:[1,t.z/255,t.H/255,t.c/255]}}var O=S.linespace;if(O){y.iz.AutoLeading=!1;
y.iz.Leading=Math.round(i*(1.06+parseFloat(O)));console.log(O,y.iz)}y.iz.FauxBold=S.bold;y.u7.Justification=["left","right","center","justify"].indexOf(S.align);
bI.qc(C,0,d.length,y);c.add.TySh.u=new bC(1,0,0,1,b.x+Math.round(i*.1),b.y+Math.round(i*.1));c.S=new jj}else console.log(l)}v.C4=!0};
d2.ds.am=function(J,v){var x=J.x+J.r/2,o=J.y+J.$/2,R=new bC;R.translate(-x,-o);R.rotate(-v*Math.PI/180);
R.translate(x,o);return R};d2.hu={};d2.hu.KY=!0;d2.hu.lx=function(J,v){dc.KE(J,v)};var dc=function(){function J(b,w){var U=Date.now(),F=UZIP.parse(b),Y=F["maindoc.xml"],A=new DOMParser,G=A.parseFromString(I.Aq(Y),"image/svg+xml").children[0].children[0],n=G.getAttribute("name"),E=w.r=S(G,"width"),K=w.$=S(G,"height");
w.Bt=Math.round(S(G,"x-res"));var e=G.children[0].children;v(e,w,{_K:n,Fk:F,ZB:null});console.log(Date.now()-U);
U=Date.now()}function v(b,w,U){for(var F=0;F<b.length;F++){var Y=b[b.length-1-F],A=Y.getAttribute("nodetype");
if(A=="transparencymask"){U.ZB.pR=c(Y,U);continue}var G=Y.getAttribute("compositeop"),n=Y.getAttribute("filename"),E=Y.getAttribute("channelflags"),K=Y.children;
K=K.length==0?null:K[0].children;var e=w.qL();if(A=="paintlayer"){var $=S(Y,"x"),N=S(Y,"y"),k=U.Fk[U._K+"/layers/"+n+".defaultpixel"],V=U.Fk[U._K+"/layers/"+n],X=P(V);
e.S=X[0];e.S.offset($,N);e.buffer=X[1];if(e.S.L3()&&k.join()!="0,0,0,0"){e.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:k[0],H:k[1],c:k[2]})}};
e.B0(w)}}else if(A=="grouplayer"){e.add.lsct=h2.Uk;e.gR="pass";e.eW|=24;w.k.push(w.V4());var Q=U.ZB;
U.ZB=e;v(K,w,U);U.ZB=Q}else if(A=="shapelayer"){var V=U.Fk[U._K+"/layers/"+n+".shapelayer/content.svg"],L=I.Aq(V),_=w.P2(V,e.getName(),0,0);
e=_;var a=new jj(0,0,w.r,w.$),T=g.b.ho(a).T;e.add.SoLd.Trnf=H.ge.y7(T);e.add.SoLd.nonAffineTransform=H.ge.y7(T);
e.IY(w,!1)}else if(A=="clonelayer"){var h=-1;for(var f=0;f<b.length;f++)if(b[f].getAttribute("name")==Y.getAttribute("clonefrom"))h=f;
if(h!=-1){v([b[h]],w,U);e=w.k.pop()}}else console.log(A,Y);e.v7(Y.getAttribute("name"));if(S(Y,"locked")==1)e.add.lspf=1<<31;
e.G0(S(Y,"visible")==1);var Z={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[G];if(Z)e.gR=Z;
else console.log(G);e.fc=S(Y,"opacity");if(E=="1110")e.Hv=!0;var W=K?K[0]:null;if(W&&W.tagName=="mask")e.pR=c(W,U);
w.k.push(e)}}function x(b,w){var U=0,F=0,Y=b.length,A,G,n;while(U<Y){A=b[U++];if(A>31){G=A>>>5;if(G==7)G=7+b[U++];
n=(A&31)<<8|b[U++];var E=F-n-1,K=G>>>1;w[F++]=w[E++];w[F++]=w[E++];for(var h=0;h<K;h++){w[F++]=w[E++];
w[F++]=w[E++]}if((G&1)==1)w[F++]=w[E++]}else{for(var h=0;h<=A;h++){w[F++]=b[U++]}}}}function o(b,w){var U=0;
while(b[w+U]!=10)U++;return I.b_(b,w,U)}var R=new jj(0,0,64,64),r=new Uint8Array(64*64*4),l=new Uint8Array(64*64*4);
function M(){for(var h=0;h<4096;h++){var b=h<<2;r[b+0]=l[h+8192];r[b+1]=l[h+4096];r[b+2]=l[h];r[b+3]=l[h+12288]}}function P(b){var w=0,U={};
for(var h=0;h<5;h++){var F=o(b,w);w+=F.length+1;F=F.split(" ");U[F[0]]=parseInt(F[1])}var Y=U.PIXELSIZE,A=[],G=new jj;
while(w<b.length){var F=o(b,w),n=F.split(",");w+=F.length+1;if(n[2]!="LZF")throw n[2];R.x=parseInt(n[0]);
R.y=parseInt(n[1]);G=G.h0(R);var E=parseInt(n[3]);A.push([R.Q(),new Uint8Array(b.buffer,w+1,E-1)]);w+=E}var K=g.C(G.o()*Y);
for(var h=0;h<A.length;h++){var e=A[h];x(e[1],l);if(Y==4){M();g.sW(r,e[0],K,G)}else g.Cc(l,e[0],K,G)}return[G,K]}function S(b,w){return parseInt(b.getAttribute(w))}function c(b,w){var U=b.getAttribute("filename"),F=w.Fk[w._K+"/layers/"+U+".pixelselection"],Y=P(F),A=new m.V1;
A.RG=S(b,"visible")==1;A.S=Y[0];A.N=Y[1];return A}return{KE:J}}();d2.lh={};d2.lh.KY=!0;d2.lh.lx=function(J,v){bb.KE(J,v)};
d2.vK={};d2.vK.lx=function(J){var v=new Uint8Array(J),x=d2.vK.Vz(v,0,0),o=x.sub[2],R=d2.vK.ay4(v,o),r=x.sub[3],l=d2.vK.ay4(v,r);
return[R,l]};d2.vK.ay4=function(J,v){var x=v.sub[v.sub.length-1],o=x.sub[0].V,R=x.sub[1].V,r=J.slice(o,o+16),l=J.slice(R,R+x.sub[1].size),M=I.eA,P=J[o],S=M(J,o+1),c=M(J,o+5),b=J[o+13],w=new jj(0,0,S,c),U=g.C(S*c*4);
if(b){g.SX(U,4278190080)}else{UTEX.readBC1(J,R,U,S,c)}return{P0:w,data:U}};d2.vK.Vz=function(J,v,x){var o=I.b_,R=I.eA,r=o(J,v,4);
r=r.split("").reverse().join("");var l=R(J,v+4);if(l!=0){console.log(J.slice(v-8));throw l}var M=R(J,v+8);
while((M&3)!=0)M++;var P={KK:r,V:v+12,size:M};if(r=="CARF"||r=="CTEX"||r=="CREW"||r=="BMAP"){P.sub=[];
v+=12;if(r=="CTEX"||r=="CREW")v+=32;var S=P.V+P.size;while(v<S){var c=d2.vK.Vz(J,v,x+1);P.sub.push(c);
v+=12+c.size+(c.size&1)}}return P};d2.rc={};d2.rc.KY=!0;d2.rc.lx=function(J,v){h7.KE(J,v)};d2.ur={};
d2.ur.KY=!0;d2.ur.lx=function(J,v){hU.KE(J,v)};d2.fV={};d2.fV.KY=!0;d2.fV.lx=function(J,v){k3.KE(J,v)};
d2.Tf={};d2.Tf.KY=!0;d2.Tf.lx=function(J,v){kQ.KE(J,v)};d2.aC={};d2.aC.KY=!0;d2.aC.lx=function(J,v){cW.KE(J,v)};
d2.G1={};d2.G1.KY=!0;d2.G1.lS=function(J,v,x,o,R,r){if(o==null)o=[!0,!1,!1,!1,!0];var l=hb.o4(J,{HM:o[0],hidden:o[1],adf:o[2],avp:o[3],sd:o[4],a3p:v,a4h:x},R.rr,r);
return l};d2.G1.lx=function(J,v,x){hb.KE(J,v,x)};d2.vt={};d2.vt.KY=!0;d2.vt.lx=function(J,v){var x=150,o=new bC(1,0,0,-1,0,0);
o.scale(x/72,x/72);v.Bt=x;var R=new c7(v,o,!0);FromPS.Parse(J,R)};d2.JX={};d2.JX.KY=!0;d2.JX.lS=function(J,v,x,o,R){if(o==null)o=["",100,!1,!1,!1,0,!1];
o[7]=["jpg"];var r=new ToPDF;fv.o4(J,o,r,R.rr,v,x);return r.buffer};d2.JX.lx=function(J,v,x){var o=2;
while(!0){var R=o*72,r=new bC(1,0,0,-1,0,0);r.scale(R/72,R/72);v.Bt=R;var l=new c7(v,r,!0);FromPDF.Parse(J,l);
var M=Math.max(v.r,v.$);if(x&&M<Math.max(x[0],x[1])){v.k=[];var P=o;while(M*(o/P)<Math.max(x[0],x[1]))o++}else break}};
d2.Yu={};d2.Yu.KY=!0;d2.Yu.lx=function(J,v){var x=72,o=new bC(1,0,0,1,0,0);o.scale(x/72,x/72);v.Bt=x;
var R=new c7(v,o,!1);FromWMF.Parse(J,R)};d2.M8={};d2.M8.dH=!0;d2.M8.KY=!0;d2.M8.lS=function(J,v,x,o,R){if(o==null)o=["",100,!1,!1,!1,0,!1];
o[7]=[];var r=new ToEMF;fv.o4(J,o,r,R.rr);return r.buffer};d2.M8.lx=function(J,v){var x=72,o=new bC(1,0,0,1,0,0);
o.scale(x/72,x/72);v.Bt=x;var R=new c7(v,o,!1);FromEMF.Parse(J,R)};d2.bu={};d2.bu.KY=!0;d2.bu.lx=function(J,v){return hA.KE(J,v)};
d2.ag4={};d2.ag4.lx=function(){var J,v,x,o,R,r,l=0,M=0,P=0,S=0,c=0,n="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",E=null;
function b(K){var e=aq.KE(K),$=e.dP,L=0,_,a;console.log(e);var N=new Uint8Array(K);if($=="ILBM")return w(e,N);
if($=="CIMG")return Y(e,N);if($=="ANIM"&&e.sub[0].KK=="ADAT")return G(e,N);if($!="ANIM")throw $;var k=I.H1,V=I.m7,X=e.sub,Q=w(X[0],N);
for(var T=1;T<X.length-2;T++){var f=Q[Math.max(0,T-2)].aCC.slice(0),Z=X[T];for(var W=0;W<Z.sub.length;
W++){var D=Z.sub[W],C=D.V;if(D.KK=="ANHD"){var d=N[C++];if(d!=5)throw d;var o=N[C++],y=k(N,C),i=k(N,C+2);
if(y!=0&&y!=J)throw y;if(i!=0&&i!=v)throw i;var t=k(N,C+4),O=k(N,C+6);if(t!=0||O!=0)throw t;C+=8;var q=k(N,C);
C+=2;_=k(N,C);C+=2;if(N[C++]!=0)throw"e";if(N[C++]!=0)throw"e";a=k(N,C);C+=2}else if(D.KK=="DLTA"){var z=[],jw=C;
for(var h=0;h<16;h++)z.push(V(N,C+h*4));C+=64;var u=r;for(var iH=0;iH<R;iH++){if(z[iH]==0)continue;C=jw+z[iH];
for(var s=0;s<u;s++){var jU=N[C++],hx=0;if(jU==0)continue;for(var h=0;h<jU;h++){var iY=N[C++];if(iY==0){var cd=N[C++],jV=N[C++];
for(var g2=0;g2<cd;g2++){f[(hx*R+iH)*u+s]=jV;hx++}}else if(iY<128){hx+=iY}else{iY-=128;for(var g2=0;
g2<iY;g2++){f[(hx*R+iH)*u+s]=N[C+g2];hx++}C+=iY}}}}}else console.log(D.KK)}if(T==1&&_>100)_=0;var gV=_==0?17:Math.round((_-L)*1e3/60);
Q.push({data:F(N,f).buffer,P0:new jj(0,0,J,v),aCC:f,gT:"_a_frm"+T+","+gV});L=_}if(P!=0&&J>v*2){var fD=new Uint32Array(J*v*2);
fD.fill(4294967295);for(var T=0;T<Q.length;T++){var j4=Q[T],dQ=new Uint32Array(j4.data);for(var hx=0;
hx<v;hx++){var eO=hx*2;for(var s=0;s<J;s++)fD[eO*J+s]=dQ[hx*J+s];eO++;for(var s=0;s<J;s++)fD[eO*J+s]=dQ[hx*J+s]}j4.P0.$*=2;
j4.data=fD.slice(0).buffer}}return Q}function w(K,e){var $,N,k;l=0;M=0;S=0;c=0;P=0;for(var V=0;V<K.sub.length;
V++){var X=K.sub[V],Q=X.V;if(X.KK=="BMHD"){var L=[];for(var h=0;h<4;h++)L[h]=I.H1(e,Q+2*h);Q+=8;var _=L[2],a=L[3];
J=L[0];v=L[1];x=e[Q++];o=e[Q++];k=e[Q++];if(k!=0&&k!=1)throw k;r=J+15>>>4<<1;R=x+o}else if(X.KK=="CMAP")l=Q;
else if(X.KK=="CAMG"){var T=I.m7(e,Q);M=T&32768,P=T&4,S=T&2048;c=T&128}else if(X.KK=="BODY"){N=g.C(r*v*R);
if(k==0)N=e.slice(Q,Q+N.length);if(k==1)hE.sK(e,Q,X.size,N,0,N.length)}else if(X.KK=="PLTP"){console.log(e.slice(Q,Q+X.size))}}$=F(e,N);
return[{P0:new jj(0,0,J,v),data:$.buffer,aCC:N}]}function U(K,co){return K[co>>>3]>>>7-(co&7)&1}function F(K,e){var $=x-2,N=(1<<$)-1,k=Math.round(255/N),V,X,Q,L=r*8;
if(l!=0){var _=1<<x,a=!0;for(var h=1;h<_;h++){var T=l+h*3;if(K[T]!=K[T-3]||K[T+1]!=K[T-2]||K[T+2]!=K[T-1]&&K[T+2]!=K[T-1]+1)a=!1}if(a){for(var h=0;
h<_;h++){var T=l+h*3,f=Math.round(h*255/(_-1));K[T]=K[T+1]=K[T+2]=f}}}var Z=g.C(J*v*4);for(var W=0;W<v;
W++)for(var D=0;D<J;D++){var C=0;for(var d=0;d<R;d++){var p=(W*R+d)*L+D,y=U(e,p);C|=y<<d}C=C&(1<<x)-1;
var h=W*J+D,i=h<<2;if(l!=0){if(S!=0&&C>>>$!=0){var t=C>>>$,O=(C&N)*k;if(t==1)Q=O;else if(t==2)V=O;else if(t==3)X=O}else{var O=l+C*3;
V=K[O+0];X=K[O+1];Q=K[O+2]}}else{if(x==24){V=C>>>0&255;X=C>>>8&255;Q=C>>>16&255}else if(x==16){var q=0,z=1,u=4;
for(var d=0;d<16;d++)q+=(C>>>d&1)<<15-d;var jw=(1<<z)-1,iH=(1<<u)-1;V=(q>>>7&jw)*(255/jw);X=Q=V}else throw x}Z[i+0]=V;
Z[i+1]=X;Z[i+2]=Q;Z[i+3]=255}return Z}function Y(K,e){var $=1,N=2,k=4,V=I.m7,X=I.H1,J=200,v=200,Q,L,_,a;
for(var T=0;T<K.sub.length;T++){var f=K.sub[T],Z=f.V;if(f.KK=="TBHD"){J=V(e,Z);Z+=4;v=V(e,Z);Z+=4;a=g.C(J*v*4);
_=new jj(0,0,J,v);Z+=4;var W=V(e,Z);Z+=4;var D=X(e,Z);Z+=2;if(D!=0)throw"e";L=X(e,Z);Z+=2;var C=V(e,Z);
Z+=4;if(C!=1)throw C;Q=0;if(W&$)Q+=3;if(W&N)Q+=1}if(f.dP=="TBMP"){var d=f.sub;for(var p=0;p<d.length;
p++){var y=d[p].V,i=d[p].size,t=X(e,y),O=X(e,y+2),q=X(e,y+4)-t+1,z=X(e,y+6)-O+1;y+=8;var jw=g.C(q*z*4),u=g.C(q*z);
jw.fill(255);for(var h=0;h<4;h++){y=A(e,y,i-8,u,0);g.Os(u,jw,3-h)}if(y!=d[p].V+i)throw"e";g.sW(jw,new jj(t,O,q,z),a,_)}}}return[{P0:_,data:a.buffer}]}function A(K,e,$,N,k){var V=e;
while(k<N.length){var X=K[e++],kk=(X&127)+1;if(X&128){X=K[e++];for(var h=0;h<kk;++h)N[k++]=X}else{for(var h=0;
h<kk;++h)N[k++]=K[e++]}}return e}function G(K,e){if(E==null){var $=d2.S7(n);E=new Uint32Array(pako.inflate(new Uint8Array($)).buffer)}var N=I.m7,k=I.H1,V=K.sub[0],X=K.sub[1],J=k(e,V.V),v=k(e,V.V+2),Q=k(e,V.V+4),f,h,Z,W,D,C;
if(Q!=3)throw Q;var L=new jj(0,0,J,v),_=g.C(J*v*4),a=g.C(J*v);_.fill(255);var T=new Uint32Array(_.buffer),d=X.V;
for(W=0;W<2;W++){C=W;D=0;f=Math.floor((J*v+2-W-1)/2);while(f>0){h=e[d++];if(h&128){h=257-h;f-=h;Z=e[d++];
D=D&E[Z]|E[Z+256];do{T[C]=D;C+=2}while(--h)}else{h++;f-=h;do{Z=e[d++];T[C]=D=D&E[Z]|E[Z+256];C+=2}while(--h)}}}for(var h=0;
h<_.length;h+=4){var p=_[h+3],y=_[h+2],i=_[h+1];_[h]=p;_[h+1]=y;_[h+2]=i;_[h+3]=255}for(var t=0;t<v>>>1;
t++){for(var O=0;O<J;O++){var h=t*J+O,Z=(v-1-t)*J+O,q=T[h];T[h]=T[Z];T[Z]=q}}return[{P0:L,data:_.buffer}]}return b}();
d2.K5={};d2.K5.KY=!1;d2.K5.lS=function(J,v,x,o){var R=J[0][4],r=new Uint8Array(J[0][0]),l=2;if(R==null&&g.LQ(r)){R=[new Uint8Array(r.length>>>2)];
g.Vi(r,R[0],3)}var M=R?!0:!1,P=M?4:3,S=new Uint8Array(v*x*P);for(var c=0;c<x;c++)for(var b=0;b<v;b++){var w=c*v+b<<2,U=((x-c-1)*v+b)*P;
S[U]=r[w+2];S[U+1]=r[w+1];S[U+2]=r[w+0];if(M)S[U+3]=R[0][c*v+b]}if(!0){var F=S.length,Y=0,A=new Uint8Array(F*2),G=0,n=0,E=v*P;
while(n<F){var K=n,e=0,$=E*(Math.floor(n/E)+1);while(K<$&&e<128){var N=!0;for(var h=0;h<P;h++)N=N&S[n+h]==S[K+h];
if(!N)break;K+=P;e++}if(e==1){var k=1;while(k<128&&n+(k+1)*P<$){var N=!0,V=n+k*P;for(var h=0;h<P;h++)N=N&S[V+h]==S[V+P+h];
if(N)break;k++}A[G++]=k-1;for(var X=0;X<k;X++)for(var h=0;h<P;h++)A[G++]=S[n++]}else{A[G++]=127+e;for(var h=0;
h<P;h++)A[G+h]=S[n+h];G+=P;n+=P*e;Y+=e}}S=A.slice(0,G);l+=8}var Q=new Uint8Array(18+S.length+26);Q[2]=l;
I.nU(Q,12,v);I.nU(Q,14,x);Q[16]=P*8;Q[17]=P==4?8:0;Q.set(S,18);I.cO(Q,18+S.length+8,"TRUEVISION-XFILE.");
return Q.buffer};d2.K5.lx=function(J){var v=new Uint8Array(J),x=0,o=v[0],R=v[1],r=v[2],l=v[4]*256+v[3],M=v[6]*256+v[5],P=v[7],S=v[9]*256+v[8],c=v[11]*256+v[10],b=v[13]*256+v[12],w=v[15]*256+v[14],U=v[16],F=v[17],Y=F>>>4,A=I.b_(v,18,o),G=g.C(b*w*4),x=18+o+(M*P>>>3),n=new Uint8Array(v.buffer,x);
if(r>3){var E=0,K=v,e=new Uint8Array(b*w*U>>>3),$=x,N=0,k=v.length,V=U>>>3;while(N<e.length){var co=K[$];
$++;if(co<128)for(var h=0;h<co+1;h++){for(var X=0;X<V;X++){e[N]=K[$];N++;$++}}else{for(var h=0;h<co-127;
h++){for(var X=0;X<V;X++){e[N]=K[$+X];N++}}$+=V}}r-=8;n=e;x=$}else x+=b*w*U>>>3;var Q=new Uint8Array(4),L=d2.K5.aBt;
for(var _=0;_<w;_++)for(var a=0;a<b;a++){var T=(Y&2)==0?(w-_-1)*b+a:_*b+a,f=_*b+a,Z,W,D,C=255,d=T*U>>>3;
if(r==1){var p=0;if(U==8)p=n[d];else throw"e";L(v,18+o+l+(p*P>>>3),P,Q);Z=Q[0];W=Q[1];D=Q[2];C=Q[3]}else if(r==2){L(n,d,U,Q);
Z=Q[0];W=Q[1];D=Q[2];C=Q[3]}else if(r==3){if(U==8)Z=W=D=n[d];else throw"e"}var y=f*4;G[y]=Z;G[y+1]=W;
G[y+2]=D;G[y+3]=C}var Q={P0:new jj(0,0,b,w),data:G.buffer,gT:A};if(g.LQ(G)){var i=g.C(b*w);g.Vi(G,i,3);
g.sS(G,1);Q.ac=[i]}return[Q]};d2.K5.aBt=function(J,v,x,o){var R,r,l,M=255;if(x==24||x==32){l=J[v];r=J[v+1];
R=J[v+2];if(x==32)M=J[v+3]}else if(x==16){var P=J[v+1]<<8|J[v+0];R=P>>>10&31;r=P>>>5&31;l=P>>>0&31;R=Math.round(R*(255/31));
r=Math.round(r*(255/31));l=Math.round(l*(255/31))}else throw"e";o[0]=R;o[1]=r;o[2]=l;o[3]=M};d2.ayw=function(){var J,v=[],x=!1;
function o(l,M,P,S){J=P;v.push(l,S);R()}function R(){if(x||v.length==0)return;x=!0;d2.arB(v.shift(),"image/avif",r)}function r(l){J(null,[l],v.shift());
x=!1;R()}return{KY:!1,NM:!0,lx:o}}();d2.aCD=function(){var J,v=[],x,o=!1,R=null,r=null,P;function l(b,w,U,F){J=U;
v.push(b,F);M()}function M(){if(o||v.length==0)return;o=!0;if(R==null){R=B.l("iframe");R.setAttribute("src","code/ext_formats/formatsLoader.html");
B.L(R,"display:none");window.addEventListener("message",c,!1);document.body.appendChild(R)}else S()}async function S(){var b=v.shift(),w=new Uint8Array(b),U=new Blob([b]);
P=Date.now();R.contentWindow.postMessage({subject:"open",body:U});var F=I.CD(w,"Exif\0\0MM");x=null;
if(F!=-1){var Y=UTIF.decode(b.slice(F+6));x=ef.Zc(Y[0])}}function c(b){var w=b.data,U=w.subject;if(U=="rdy")S();
else if(U=="img"){var F=w.body,Y={P0:new jj(0,0,F.width,F.height),data:F.data.buffer,b5:x};J(null,[Y],v.shift());
o=!1;M()}else console.log(w)}return{KY:!1,NM:!0,lx:l}}();d2.adV=function(){var J,v=[],x=10,M,P,S,c=0,b,w,U;
function o(E){var K=d2.e4(E);if(K=="mp4")return new ci(new Blob([E]));else return new h5(new Blob([E]))}async function R(E,K,e,$,N){J=e;
v.push(E,$);var k=o(E),V=(await k.Sl()).Bl;console.log(V);var b=V.width,w=V.height,X=V.pd,Q=X/V.rg,L=X/Q,_=b+" \xD7 "+w+" px, "+X+" frames, "+eF.Ux(b*w*4*X)+" decoded<br/>";
_+=Q.toFixed(2)+" seconds, "+L.toFixed(2)+" FPS";var a=new dd(j.E.j,!0);a.data={R:j.m.wz,kA:"setFPS",EB:x,MX:r,aHJ:_};
N.a(a)}function r(E){x=Math.max(1,Math.min(60,E));var K=window.VideoDecoder;if(K)l();else F()}async function l(){var E=Date.now(),K=v.shift(),U=[],e=o(K),$=(await e.Sl()).Bl,b=$.width,w=$.height,N=$.pd,k=N/$.rg,V=N/k,X=Math.min(V,x),Q=Math.max(1,Math.round(V/X));
for(var h=0;h<N;h++){if(h%Q!=0)continue;var L=await e.KO(0,h);U.push({gT:"_a_"+U.length+","+Math.round(1e3/X),P0:new jj(0,0,b,w),data:L.buffer})}J(null,U,v.shift());
if(v.length!=0)l()}function F(){if(v.length==0)return;M=document.createElement("canvas");P=M.getContext("2d");
S=document.createElement("video");var E="data:"+"video/mp4"+";base64,"+d2.vd(v.shift());S.src=E;S.muted=!0;
S.currentTime=0;S.addEventListener("canplay",Y,!1);S.addEventListener("timeupdate",A,!1)}function Y(E){S.removeEventListener("canplay",Y);
b=M.width=S.videoWidth;w=M.height=S.videoHeight;U=[];S.play()}function A(E){clearTimeout(c);P.drawImage(S,0,0);
U.push({gT:"_a_"+U.length+","+Math.round(1e3/x),P0:new jj(0,0,b,w),data:P.getImageData(0,0,b,w).data.buffer});
var K=S.currentTime+1/x;if(K<S.duration&&E){S.currentTime=K;c=setTimeout(A,1e3)}else{J(null,U,v.shift());
S.removeEventListener("timeupdate",A);F();U=null}}function G(){this.wR=new Uint8Array(1024);this.V=0}G.prototype.write=function(E){var K=this.wR,e=this.V;
if(E instanceof ArrayBuffer)E=new Uint8Array(E);if(E instanceof Uint8Array){while(K.length<e+E.length){var $=new Uint8Array(K.length*2);
$.set(K);K=$}K.set(E,e);e+=E.length}else if(E.e=="write"){K.set(E.data,E.position)}else{console.log(E);
throw"e"}this.wR=K;this.V=e};G.prototype.close=function(){this.wR=this.wR.slice(0,this.V)};async function n(E,b,w,K){var e=b,$=w;
if((b&1)!=0)b++;if((w&1)!=0)w++;var N=b!=e||w!=$,k=N?g.C(b*w*4):null,V={Bl:{rB:1,pd:E.length,rg:1e3/E[0][1],width:b,height:w}},X=new G,Q=.02*(1+Math.pow(3.2*K[0]/100,2.3)),L=new c2(X,V,Q);
for(var h=0;h<E.length;h++){var _=E[h],a=new Uint8Array(_[0]),T=a;if(N){g.sW(a,new jj(0,0,e,$),k,new jj(0,0,b,w));
T=k}await L.aao(T,0,h)}await L.finish();return X.wR.buffer}return{KY:!1,NM:!0,lx:R,lS:n}}();d2.Hq={};
d2.Hq.lx=function(J){var v=new Uint8Array(J),x=0,o=112,R=42,r=I.eA,c;x+=8;var l=v[x];x++;if(l!=R)throw"e";
var M=r(v,x);x+=4;var P=I.K0(v,x,M);x+=M*2;var S=[];while(x<v.length){c=r(v,x);x+=4;if(c!=o)throw c;
x+=4;c=v[x];x++;if(c!=R)throw c;var b=r(v,x);x+=4;var w=v[x];x++;if(w!=R){x-=5;b=r(v,x);x+=8;c=v[x];
x++;if(c!=R)throw c}var U=r(v,x)*2;x+=4;if(b>0)S.push(x+U);x+=U+b}var F=new DOMParser,Y=F.parseFromString(P,"image/svg+xml").firstChild.firstChild,A=[];
d2.Hq.aHd(Y,v,S,A);return A};d2.Hq.aHd=function(J,v,x,o){var R=J.firstChild.firstChild;if(R.tagName=="Image"){var r=R.getElementsByTagName("ImageDescription")[0],l=r.children[0].children,M=r.children[1].children,P=x.shift(),S=[];
for(var h=0;h<M.length;h++)S.push(parseInt(M[h].getAttribute("NumberOfElements")));while(S.length>3)S[2]*=S.pop();
var c=l.length,b=S[0],w=S[1],U=S[2],F=parseInt(M[0].getAttribute("BytesInc"));for(var Y=0;Y<U;Y++){var A=g.C(b*w*4);
A.fill(255);for(var G=0;G<c;G++){var n=g.C(b*w);if(F==1)for(var E=0;E<n.length;E++)n[E]=v[P+E];else if(F==2)for(var E=0;
E<n.length;E++)n[E]=Math.min(255,(v[P+E*2+1]<<8|v[P+E*2])>>>2);else throw F;if(G!=3)g.Os(n,A,G);if(c==1){g.Os(n,A,1);
g.Os(n,A,2)}P+=b*w*F}o.push({P0:new jj(0,0,b,w),data:A.buffer})}}else{var K=J.children,e=0;while(e<K.length&&K[e].tagName!="Children")e++;
if(e==K.length)throw"e";K=K[e].children;for(var $=0;$<K.length;$++)d2.Hq.aHd(K[$],v,x,o)}};d2.ayF=function(){function J(l,M,P,S,c){var b=new Int8Array(l.buffer),w=new Int8Array(S.buffer),U=M+P;
while(M<U){var co=b[M];M++;if(co>=0&&co<128)for(var h=0;h<co+1;h++){w[c]=b[M];c++;M++}if(co>=-127&&co<0){for(var h=0;
h<-co+1;h++){w[c]=b[M];c++}M++}}return c}function v(l,M,P,S,c,b){var w=M*P*S>>>3,U=g.C(w*c),F=o(l,0,0,0)[0];
for(var Y=0;Y<c;Y++){var A=F[Y+1];if(b){var G=d2.s$("jpg").lx(A.buffer),n=g.C(w);g.dF(new Uint8Array(G[0].data),n);
U.set(n,w*Y)}else if(A[0]==255&&A[1]==216&&A[2]==255){var E=UTIF.LosslessJpegDecode(A);U.set(new Uint8Array(E.buffer),w*Y)}else J(A,64,A.length,U,w*Y)}return U}function x(l){var M=new Uint8Array(l),P=0,S=I.b_(M,0,128);
P+=128;var c=I.b_(M,P,4);P+=4;var b=R(M,P,0)[0],w=b.g28;if(w==null){alert("No image.");return[]}var U=w.cols,F=w.rows,Y=U*F,A=w.photoInterpret,G=w.bitsAlloc,n=w.bitsStored,E=w.lossyCompr;
if(E==null)E=b.g8.lossyCompr;var K=b.g7fe0.pixelData,e=w.numOfFrames;e=e?parseInt(e):1;var $=new Uint8Array(K.buffer),N=Y*G>>>3;
if($.length!=N*e){K=v(K,U,F,G,e,E)}else{}if(G==16)K=new Uint16Array(K.buffer);console.log(w);console.log(b);
var k=[];for(var V=0;V<e;V++){var X=V*N,l=g.C(U*F*4);l.fill(255);if(A=="MONOCHROME2"){var Q=0,L=255,_=w.largestValue,a=w.smallestValue;
if(_!=null){L=_;Q=a}else if(n!=8){L=0;Q=1e9;for(var h=0;h<Y;h++){var T=K[X+h];if(T>1<<n-8){if(T>L)L=T;
if(T<Q)Q=T}}}var f=255/(L-Q);for(var h=0;h<Y;h++){var T=Math.max(0,Math.min(255,(K[X+h]-Q)*f)),Z=h*4;
l[Z]=l[Z+1]=l[Z+2]=T}}else if(A=="PALETTE COLOR"){var W=w.pltRed,D=w.pltGreen,C=w.pltBlue;for(var h=0;
h<Y;h++){var d=K[X+h],Z=h*4;l[Z]=W[d]>>>8;l[Z+1]=D[d]>>>8;l[Z+2]=C[d]>>>8}}else throw A;k.push({P0:new jj(0,0,U,F),data:l.buffer})}return k}function o(l,M,P,S){if(P==0)P=l.length;
var c=I.$y,b=I.oV,w=I.eA,U=[],F=M;while(M<P){var Y=c(l,M);M+=2;var A=c(l,M);M+=2;var G=w(l,M);M+=4;if(Y==65534&&A==57344){if(G==4294967295){var n=R(l,M,S+1);
U.push(n[0]);M=n[1]}else{U.push(l.slice(M,M+G));M+=G}}else if(Y==65534&&A==57357){}else if(Y==65534&&A==57565)break;
else throw"e"}return[U,M]}function R(l,M,P){var S=I.$y,c=I.oV,b=I.eA,w={},U="\t".repeat(P);while(M<l.length){var F=S(l,M),n="",E=0,e=null;
M+=2;var Y=S(l,M);M+=2;var A=F.toString(16),G=Y.toString(16);if(F==65532)break;if(F==65534&&Y==57357){M-=4;
break}if(F==65534&&Y==57565)throw"e";if(Y==0){M+=8;continue}if(65<=l[M+1]){n=I.b_(l,M,2);M+=2;if(n=="OB"||n=="SQ"||n=="OW"){E=b(l,M+2);
M+=6}else{E=S(l,M);M+=2}}else{n=r[A][G].split(",")[1];E=b(l,M);M+=4}console.log(A,G,n,E);var K=r[A][G];
if(K)K=K.split(",")[0];if(K==null){K="t"+G}if(n=="SQ"){var $=o(l,M,M+E,P);e=$[0];M=$[1];E=0}else if(n=="US")e=S(l,M);
else if(n=="SS")e=c(l,M);else if(n=="UL")e=b(l,M);else if(n=="FL")e=I.Dm(l,M);else if(n=="AT")e=[S(l,M),S(l,M+2)];
else if(n=="OB")e=l.slice(M,M+E);else if(n=="OW")e=new Uint16Array(l.slice(M,M+E).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(n)!=-1){var N=M+E;
while(l[N-1]==0)N--;e=I.b_(l,M,N-M).trim()}else{console.log(U,JSON.stringify(I.b_(l,M,Math.min(E,32))));
throw n}if(w["g"+A]==null)w["g"+A]={};w["g"+A][K]=e;M+=E}return[w,M]}var r={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{lx:x}}();d2.ayb={};d2.ayb.lx=function(J){var v=new Uint8Array(J),x=0,o={},c=1e9;for(var h=0;h<306;
h++){var R=I.b_(v,x,8).trim(),r=I.b_(v,x+9,71).split("/")[0].trim();o[R]=r;x+=80;if(R=="END"){x=Math.ceil(x/2880)*2880;
break}}var l=parseInt(o.NAXIS1),M=parseInt(o.NAXIS2),P=l*M,S=parseInt(o.BITPIX),b=-1e9,w=new Float32Array(P),U=new Float32Array(J,x,J.byteLength-x>>>2);
for(var h=0;h<P;h++){var F=h<<2,Y=h<<1;if(S==-32){var A=v[x+F+0];v[x+F+0]=v[x+F+3];v[x+F+3]=A;var A=v[x+F+1];
v[x+F+1]=v[x+F+2];v[x+F+2]=A;w[h]=U[h]}else if(S==16){w[h]=I.$y(v,x+Y)}else throw S;var G=w[h];if(G<c)c=G;
if(G>b)b=G}var n=g.C(P*4),E=1/b;for(var K=0;K<M;K++)for(var e=0;e<l;e++){var h=K*l+e,$=(M-K-1)*l+e,F=$<<2,G=w[h]*E;
n[F]=n[F+1]=n[F+2]=255*G;n[F+3]=255}return[{P0:new jj(0,0,l,M),data:n,gT:o.OBJECT}]};d2.mQ={};d2.mQ.lx=function(J){var v=new Uint8Array(J),x=16,o=I.b_(v,x,4),r=32,G=0,n=0,E=!1,W;
x+=4;var R=I.b_(v,x,8);x+=8;while(v[x+r-1]==0)r--;var l=I.b_(v,x,r);x+=32;var M=I.b_(v,x,4);x+=4;x+=20;
var P=I.m7(v,x);x+=4;var S=I.m7(v,x);x+=4;var c=I.m7(v,x);x+=4;var b=I.m7(v,x);x+=4;var w=I.m7(v,x);
x+=4;var U=I.m7(v,x);x+=4;var F="FujiFilm "+l,Y=[0,1,1,2];if(F=="FujiFilm X10"){F="FujiFilm FinePix X10";
Y=[2,1,1,0]}var A={t271:["FujiFilm"],t272:[F],t277:[1],t33421:[2,2],t33422:Y,WD:1};x=c;var K=[],e=I.H1,$=I.m7(v,x);
x+=4;for(var h=0;h<$;h++){var N=e(v,x);x+=2;var k=e(v,x);x+=2;if(N==256){n=e(v,x);G=e(v,x+2)}else if(N==272){K=[e(v,x),e(v,x+2)]}else if(N==273){K.push(e(v,x),e(v,x+2))}else if(N==304){E=!(v[x]>>>7)}else if(N==305){var V=Math.round(Math.sqrt(k)),X=[];
for(var Q=0;Q<k;Q++)X.push(v[x+Q]);X.reverse();A.t33421=[V,V];A.t33422=X}else if(N==12272){var L=e(v,x),_=e(v,x+2),a=e(v,x+6);
A.t50728=[L/_,1,L/a]}x+=k}var T=G<n,f=v.slice(w,w+U),Z=Math.round(U*8/(G*n));if(f[0]==73&&f[1]==73&&f[2]==42){W=UTIF.decode(f.buffer)[0].fujiIFD;
Z=W.t61443[0];var D=W.t61454,C=W.t61450;if(C)A.t50714=C;if(D)A.t50728=[D[0]/D[1],1,D[0]/D[2]];var d=W.t61447[0];
f=f.slice(d,d+W.t61448[0])}var U=f.length,p=U*8<G*n*Z;if(p){console.log("compressed");var y=A.t33422,i=~~Math.sqrt(y.length),t=[];
for(var h=0;h<i;h++)t[h]=y.slice(h*i,h*i+i);f=new Uint8Array(UTIF._decompressRAF(f,t).buffer);U=f.length}function O(iH,s,bV){bV=bV<<8-(s&7);
var jU=s>>>3;iH[jU]|=bV>>>16;iH[jU+1]|=bV>>>8;iH[jU+2]|=bV}var q=U*8/(G*n);if(q==16)for(var h=0;h<U;
h+=2){var z=f[h];f[h]=f[h+1];f[h+1]=z}else if(q==14){for(var h=0;h<U;h+=4){var z=f[h];f[h]=f[h+3];f[h+3]=z;
z=f[h+1];f[h+1]=f[h+2];f[h+2]=z}}else if(q==12)for(var h=0;h<U;h+=3){var jw=f[h+2]<<16|f[h+1]<<8|f[h+0];
jw=jw>>>12|(jw&4095)<<12;f[h]=jw>>>16&255;f[h+1]=jw>>>8&255;f[h+2]=jw&255}if(T)f=d2.mQ.a2q(f,G,n);var u=T?2:1;
G*=u;A.t256=[G];A.t257=[n];A.t258=[Z];A.t50719=[K[1],K[0]*u];A.t50720=[K[3],K[2]*u];A.width=G;A.height=n;
A.data=new Uint8Array(f.buffer);return[A]};d2.mQ.a2q=function(J,v,x){J=new Uint16Array(J.buffer);var o=new Uint16Array(v*x*2);
for(var R=0;R<x;R+=2)for(var r=0;r<v;r++){var l=R*v+r,M=l*2,P=J[l],S=J[l+v];o[M+1]=o[M+2*v]=S;if(((R>>>1)+r&1)==0){o[M]=P;
o[M+2*v+1]=J[l+1]}else{o[M]=J[l-1];o[M+2*v+1]=P}}return o};d2.la={};d2.la.ap2=function(J,v,x){x=x<<8-(v&7);
var o=v>>>3;J[o]|=x>>>16;J[o+1]|=x>>>8;J[o+2]|=x};d2.la.NM=!0;d2.la.lx=async function(J,v,x,o){var R=new Uint8Array(J),r=0,l=Date.now(),M=await dA.KE(new Blob([J])),P=M.moov.uuid[0],S=new CR3Parser(J),c=S.getTrack().meta,b=P.CMT1[0],w=b.t256[0]=c.width,U=b.t257[0]=c.height,F=w*U,Y=b.exifIFD=P.CMT2[0],A=Y.makerNote=P.CMT3[0],G=M.moov.trak[3].mdia.minf.stbl,n=G.co64[0],E=R.slice(n,n+G.stsz[0]),K=0;
while(K<E.length){var e=I.eA(E,K);K+=4;var $=I.$y(E,K);K+=2;var N=E[K]==1;K+=2;K+=4;if($==8||$==9){var k=UTIF.decode(E.slice(K+8,K+e-12).buffer)[0];
for(var V in k)A[V]=k[V]}K+=e-12}b.t277=[1];b.t33421=[2,2];b.t33422=[0,1,1,2];b.WD=1;if(b.t274)b.WD=b.t274[0];
var X=S.extractCFA(),Q=c.bitDepth;if(Q!=14)throw"e";b.t258=[Q];var L=new Uint8Array(Math.ceil(F*Q/8)),_=16-Q;
for(var h=0;h<F;h++)d2.la.ap2(L,h*14,X[h]<<_);b.width=w;b.height=U;b.data=L;x(null,[b],o)};d2.qv={};
d2.qv.dH=!0;d2.qv.lS=function(J,v,x,o){var R=new Uint8Array(J[0][0]),r=v*x,l=[1,3,4][o[0]],M=8+8*o[1],P=o[2];
if(l==1){var S=new Uint8Array(v*x);g.Vi(R,S,0);R=S}if(l==3){var S=new Uint8Array(v*x*3);for(var h=0;
h<r;h++){var c=h*4,b=h*3;S[b]=R[c];S[b+1]=R[c+1];S[b+2]=R[c+2]}R=S}if(M==16){var w=R.length,S=new Uint8Array(w*2);
for(var h=0;h<w;h++){var U=Math.round(R[h]*(65535/255));S[h*2+P]=U>>>8;S[h*2+1-P]=U&255}R=S}return R.buffer};
d2.oE={};d2.oE.lx=function(J,v){function x(t){return~~(.5+g.hR(Math.max(0,Math.min(1,t)))*255)}var o=new Uint8Array(J),R=4,r=I.eA(o,R);
R+=4;var l={};R=d2.oE.ZR(o,R,l);var M=l.compression,P=l.channels,S=P.length,c=Date.now();if(M==3&&S>4){var b=l.dataWindow,w=b[2]+1,U=b[3]+1,F=[];
while(!0){var Y=I.eA(o,R+F.length*8);if(Y==0)break;F.push(Y)}R+=F.length*8;function A(u,t,i,iH,_,D){var s=u[i*(S*w)+iH*w+t];
return x(s)}function G(u,f){for(var Z=0,co=Math.floor((u.length+1)/2),iH=0,h=u.length-1;!(iH>h||(f[iH++]=u[Z++],iH>h));
)f[iH++]=u[co++]}var n=[],E={},K=[];for(var h=0;h<P.length;h++){var e=P[h],$=e[0];if($.indexOf(".")==-1)$="main."+$;
var N=$.split(".");while(N.length>2)N[0]=N.shift()+"_"+N[0];var k=N[0],V=N[1];if(E[k]==null){E[k]=n.length;
var X=g.C(w*U*4);n.push(X);X.fill(255)}K.push([E[k],{R:0,G:1,B:2,A:3}[V]])}for(var h=0;h<F.length;h++){var Q=F[h],L=I.eA(o,Q),T;
Q+=4;var _=h==F.length-1?U-L:16,a=I.eA(o,Q);Q+=4;if(M==3){var T=new Uint8Array(_*w*S*4);UZIP.inflateRaw(o.slice(Q+2,Q+a),T);
for(var f=1;f<T.length;f++){var Z=T[f-1]+T[f]-128;T[f]=Z}var W=new Uint8Array(T.length);G(T,W);T=new Float32Array(W.buffer)}var D=g.C(T.length);
for(var C=0;C<S;C++){var d=K[C],p=n[d[0]],y=d[1];for(var i=0;i<_;i++){for(var t=0;t<w;t++){var O=((i+L)*w+t)*4;
p[O+y]=A(T,t,i,C,_,D)}}}}var q=[];for(var $ in E){q.push({P0:new jj(0,0,w,U),data:n[E[$]].buffer,gT:$})}console.log(Date.now()-c);
return q.reverse()}else{var z=EXRLoader.parse(J),w=z.width,U=z.height,p=g.C(w*U*4);for(var i=0;i<U;i++)for(var t=0;
t<w;t++){var h=(i*w+t)*4,jw=((U-i-1)*w+t)*4;p[h]=x(z.data[jw+0]);p[h+1]=x(z.data[jw+1]);p[h+2]=x(z.data[jw+2]);
p[h+3]=x(z.data[jw+3])}return[{P0:new jj(0,0,w,U),data:p.buffer}]}};function hD(J){var v=(J&31744)>>10,x=J&1023;
return(J>>15?-1:1)*(v?v===31?x?NaN:Infinity:Math.pow(2,v-15)*(1+x/1024):6103515625e-14*(x/1024))}d2.oE.ZR=function(J,v,x){function o(F,Y){var A=Y;
while(F[A]!=0)A++;return A-Y}while(J[v]!=0){var R=I.b_(J,v,o(J,v));v+=R.length+1;var r=I.b_(J,v,o(J,v));
v+=r.length+1;var l=I.eA(J,v);v+=4;var M=J.slice(v,v+l);if(l==1)M=J[v];else if(r=="box2i"){M=[];for(var h=0;
h<4;h++)M.push(I.aV(J,v+4*h))}else if(r=="float")M=I.Dm(J,v);else if(r=="v2f"){M=[];for(var h=0;h<2;
h++)M.push(I.Dm(J,v+4*h))}else if(r=="chlist"){var P=v;M=[];while(J[P]!=0){var S=I.b_(J,P,o(J,P));P+=S.length+1;
var c=I.eA(J,P);P+=4;var b=J[P];P++;P+=3;var w=I.eA(J,P);P+=4;var U=I.eA(J,P);P+=4;M.push([S,c,b,w,U])}}else console.log("-----",r);
x[R]=M;v+=l}return v+1};d2.WM={};d2.WM.dH=!0;d2.WM.KY=!0;d2.WM.lS=function(J,v,x,o,R){o=["",100,!1,!1,!1,0,!1];
o[7]=["jpg"];var r=new ToDXF;fv.o4(J,o,r,R.rr);return r.buffer};d2.WM.lx=function(J,v){var x=72,o=new bC(1,0,0,1,0,0);
o.scale(x/72,x/72);v.Bt=x;var R=new c7(v,o,!1);FromDXF.Parse(J,R)};d2.aIg={};d2.aIg.lx=function(){var J=I.$y,v=I.eA,x=I.b_,o;
function R(l,M,P,S,c){var b=v(l,P),w=v(l,P+4),U=v(l,P+8),F=J(l,P+12),Y=J(l,P+14);P+=16;var A={};for(var h=0;
h<F+Y;h++){var G=v(l,P),n=v(l,P+4),E,K;if(G>>>31==1){G=G&16777215}if(h<F)E=I.K0(l,M+G+2,J(l,M+G));else E="id"+G;
var e=S.slice(0);e.push(E);if(n>>>31==1){n=n&268435455;K=R(l,M,M+n,e,c)}else{var $=v(l,M+n),N=v(l,M+n+4),k=v(l,M+n+8),V=v(l,M+n+12);
if(V!=0)throw"e";if($<c[0]||$>c[0]+c[1])throw"e";var X=c[2]+$-c[0];K=l.slice(X,X+N);var Q=d2.e4(K.buffer);
if(Q&&["bmp","png","ico"].indexOf(Q)!=-1){var L=d2.s$(Q);if(!L.KY){var _=null;try{_=L.lx(K.buffer)}catch(gw){}if(_){_[0].gT=e[1];
o.push(_[0])}}}else if(Q)console.log(Q)}A[E]=K;P+=8}return A}function r(l){o=[];var M=new Uint8Array(l),P=0,S=J(M,P);
P+=2;P+=58;var c=v(M,P);P+=4;P=c;var b=x(M,P,4);P+=4;var w=J(M,P);P+=2;var U=J(M,P);P+=2;var F=v(M,P);
P+=4;var Y=v(M,P);P+=4;var A=v(M,P);P+=4;var G=J(M,P);P+=2;var n=J(M,P);P+=2;P+=G;var E={};for(var h=0;
h<U;h++){var K=P;while(M[K]!=0)K++;var e=x(M,P,K-P),$=v(M,P+8),N=v(M,P+12),k=v(M,P+16),V=v(M,P+20),X=v(M,P+24),Q=v(M,P+28),L=J(M,P+32),_=J(M,P+34),n=v(M,P+36);
E[e]=[N,$,V,k,n];if(X+Q!=0)throw"e";P+=40}for(var a in E){var T=E[a];P=T[2];if(a==".rsrc"){var f=R(M,P,P,[],T),Z="id134"}}return o}return r}();
d2.s9={};d2.s9.KY=!0;d2.s9.lx=function(J,v,x){if(x&&x.length!=2)x=null;gd.KE(J,v,x)};d2.s9.lS=function(J,v,x){return gd.o4(J)};
(function(){var J=d2.he.get("wasm/zstd").buffer;WebAssembly.instantiate(J).then(function(v){var x=v.instance.exports;
d2.s9.aF0=x})}());d2.s9.Hy=function(J,v){var x=d2.s9.aF0,o=J.length,R=x.memory,r=2*o+1e6,P=4;d2.es(x,r);
var l=new Uint8Array(R.buffer),M=x.malloc(o);l.set(J,M);while(!0){var S=v==null?o*P:v;d2.es(x,r+S);var c=x.malloc(S),b=x.ZSTD_decompress(c,S,M,o);
if(b==-70){x.free(c);P+=P>>>1;if(v!=null)throw"error"}else{l=new Uint8Array(R.buffer);J=l.slice(c,c+b);
x.free(c);break}}x.free(M);return J};d2.vC={};d2.vC.KY=!0;d2.vC.lx=function(){var J=0,v=1,x=2,o=3,R=4,r=5,l=6,M=7,P=1,S=2,c=7,b=8,w=9,U,F,Y,A,G;
function n(){var co=I.aV(U,F);F+=4;return co}function E(){var W=0,D=0;for(var h=0;h<5;h++){var C=U[F++];
W+=(C&127)<<D;D+=7;if((C&128)==0)break}return W}function K(){var W=E(),D=I.Aq(U,F,W);F+=W;return D}function e(){return{typeName:K(),a77:n()}}function $(){var W=n(),D=K(),C=[],d=n();
for(var h=0;h<d;h++)C.push([K()]);return{id:W,ox:D,aq1:C}}function N(W){var D=W.aq1,C=[];for(var h=0;
h<D.length;h++)D[h].push(U[F++]);for(var h=0;h<D.length;h++){var d=D[h][1],p;D[h].push(k(d))}}function k(W){var D;
if(W==J)D=U[F++];else if(W==o)D=K();else if(W==R)D=e();else if(W==v||W==x||W==l||W==r){}else throw W;
return D}function V(W,D,C){var d;if(W==J){if(D==P)d=U[F++]==1;else if(D==S){d=U[F++]}else if(D==b)d=n();
else if(D==w){d=n();n()}else throw D}else if(W==o){d=_(C+1)}else if(W==R){d=_(C+1)}else if(W==r){d=_(C+1)}else if(W==v){d=_(C+1)}else if(W==l){d=_(C+1)}else if(W==x){d=_(C+1)}else throw W;
return d}function X(W,D){var C=Y["c"+W],d=C.aq1,p={_class:C.ox};for(var h=0;h<d.length;h++){var y=d[h],i=y[1],t=y[2],O=V(i,t,D),q=y[0];
p[q]=O}return p}function Q(W,D,C,d){var p=[];for(var h=0;h<W;h++){var y=V(D,C,d);if(y.t&&y.t=="null_count"){var i=y.Bl;
for(var t=0;t<i;t++)p.push(null);h+=i-1}else p.push(y)}return p}function L(){return[n(),n()]}function _(W){if(W==null)throw"e";
var D=null,C=U[F],d=null;F++;if(C==0){var p=n(),y=n(),i=n(),t=n();D=[p,y,i,t]}else if(C==1){d=n();var O=n();
D=X(O,W)}else if(C==4){var q=$();d=q.id;N(q);Y["c"+q.id]=q;D=X(q.id,W)}else if(C==5){var q=$();d=q.id;
N(q);var z=n();Y["c"+q.id]=q;D=X(q.id,W)}else if(C==6){d=n();var jw=K();D=jw}else if(C==7){d=n();var u=U[F++];
if(u!=0)throw u;var iH=n();if(iH!=1)throw iH;var s=n(),bV=U[F++],jU=k(bV);D=Q(s,bV,jU,W)}else if(C==9){var hx=n();
D={t:"ref",Bl:hx};G["o"+hx]=!0}else if(C==10){D={t:"null_count",Bl:1}}else if(C==11){D={t:"end"}}else if(C==12){var z=n(),eX=K()}else if(C==13){var et=U[F++];
D={t:"null_count",Bl:et}}else if(C==16){var f7=L();d=f7[0];D=Q(f7[1],R,null,W)}else if(C==17){var f7=L();
d=f7[0];D=Q(f7[1],v,null,W)}else throw"e";if(d!=null&&d>0){if(A["o"+d]!=null)throw"e";A["o"+d]=D}return D}function a(W,A){if(W instanceof Array){for(var h=0;
h<W.length;h++)W[h]=T(W[h],A)}else if(W instanceof Object){for(var D in W)W[D]=T(W[D],A)}}function T(W,A){if(W&&W.t&&W.t=="ref")return A["o"+W.Bl];
else return W}function f(W,D,C){var d=Date.now();U=new Uint8Array(W);F=0;Y={};A={};G={};var p=I.b_(U,0,4);
if(p!="PDN3")throw p;F+=4;var y=I.$y(U,F)+U[F+2]*256*256;F+=3;var i=I.b_(U,F,y);F+=y;F+=2;while(!0){var t=_(0);
if(t&&t.t&&t.t=="end")break}for(var O in G)if(A[O]==null)throw O;for(var O in A)a(A[O],A);var q=A.o1;
console.log(q);D.r=q.width;D.$=q.height;D.buffer=g.C(D.r*D.$*4);var z=q.layers["ArrayList+_items"];for(var h=0;
h<z.length;h++){var jw=z[h];if(jw==null)continue;var u=jw["Layer+width"],iH=jw["Layer+height"],s=jw["Layer+properties"],bV=jw.properties,jU=bV.blendOp._class.split("+").pop();
jU=jU.slice(0,jU.length-7);var hx={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[jU],eX=D.qL();
eX.v7(s.name);eX.fc=s.opacity;eX.G0(s.visible);eX.gR=hx;if(U[F]!=0)throw"e";F++;var et=I.m7(U,F);F+=4;
var f7=Math.ceil(u*iH*4/et);eX.S=new jj(0,0,u,iH);var iY=eX.buffer=g.C(u*iH*4);for(var cd=0;cd<f7&&F<U.length;
cd++){var jV=Z();iY.set(jV[1],jV[0]*et)}for(var g2=0;g2<iY.length;g2+=4){var gV=iY[g2+0];iY[g2+0]=iY[g2+2];
iY[g2+2]=gV}D.k.push(eX)}}function Z(){var W=I.m7(U,F);F+=4;var D=I.m7(U,F);F+=4;F+=10;D-=10;var C=pako.inflateRaw(U.slice(F,F+D));
F+=D;return[W,C]}return f}();d2.Xs={};d2.Xs.KY=!0;d2.Xs.lx=function(J,v){iL.KE(J,v)};d2.QK={};d2.QK.KY=!0;
d2.QK.lx=function(){var J,v,A=null,N,k;function x(){var f=J[v];v+=1;return f}function o(){var f=I.H1(J,v);
v+=2;return f}function R(){var f=I.m7(J,v);v+=4;return f}function r(){var f=I.a$(J,v);v+=4;return f}function l(){var f=I.Ih(J,v);
v+=8;return f}function M(){var f=R();if(f>200)throw f;var Z=I.Gq(J,v,f);v+=f*2;return Z}function P(){var f=I.gM(J,v);
v+=8;return f}function S(){var f=I.Ll(J,v);v+=4;return f}function c(){var f=R();if(R()!=4)throw"e";var Z=[];
for(var h=0;h<f;h++)Z.push(R());return Z}function b(f,Z,W){for(var h=0;h<f.length;h++)if(f[h][Z]==W)return f[h]}function w(f,Z){var W=Date.now();
J=new Uint8Array(f);v=I.CD(J,"CH"+"NK"+"SQ"+"Li")+8;var D=l(),C=ae.parse(J.buffer.slice(v,v+D)),d=ae.anZ(C,!0);
console.log(d);var p=d.Canvas[0],y=p.Width,i=p.Height,t=p.Unit,O=Z.Bt=p.Resolution;if(t==0){}else if(t==1){y=Math.round(y*O/2.54);
i=Math.round(i*O/2.54)}else if(t==2){y=Math.round(y*O/25.4);i=Math.round(i*O/25.4)}else if(t==3){y=Math.round(y*O);
i=Math.round(i*O)}else if(t==5){y=Math.round(y*O/72);i=Math.round(i*O/72)}else{console.log(p);throw t}Z.r=y;
Z.$=i;Z.buffer=g.C(y*i*4);console.log(Date.now()-W);var q=b(d.Layer,"MainId",p.RootFolder);L(d,J,Z,q.FirstChildIndex,0);
console.log(Date.now()-W)}function U(){var f=I.$y(J,v);v+=2;return f}function F(){var f=I.eA(J,v);v+=4;
return f}function Y(){var f=I.aV(J,v);v+=4;return f}function G(f){var Z={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},D=0;
J=f;v=0;var W={};while(v<J.length){var C=F(),d=F(),p=v+d;if(d==0)continue;var y=[];if(C==11){var i=F();
for(var t=0;t<i;t++){var O=[F(),F()];y.push(O);D+=O[1];var q=v+F()-4;O.push(U(),U(),U(),U());O.push(I.$c(J,v));
v+=8;var z=U();O.push(I.K0(J,v,z));v+=z*2;if(v!=q)throw"e"}}else if(C==31){y=I.Aq(J,v,d);v+=d}else if(C==34)for(var h=0;
h<3;h++)y.push(F()>>>16);else if(C==42)for(var h=0;h<4;h++)y.push(Y());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(C)!=-1){if(d!=4)throw"e";
y=F();if([37,45,46,51,53,55,61,62].indexOf(C)!=-1){v=p;continue}}else if(C==47){var jw=U();if(F()!=50)throw"e";
if(F()!=0)throw"e";var u=U();y=I.b_(J,v,u);v+=u}else if(C==57){var i=U();for(var h=0;h<i;h++){var iH=U(),s=I.b_(J,v,iH);
v+=iH;var bV=U(),jU=I.b_(J,v,bV);v+=bV;y.push([s,jU])}if(v<p){var hx=F();for(var h=0;h<i;h++)y[h].push(hx)}}else if(C==39||C==63)y.push(F(),F());
else if(C==64){for(var h=0;h<8;h++)y.push(I.aV(J,v+h*4)/100);v+=32}else{y=J.slice(v,p);v+=d}var eX=Z[C];
if(eX==null)eX="t"+C;if(W[eX])throw"e";W[eX]=y;if(v!=p)throw C}if(A){}A=W;return W}function n(f){J=f;
v=0;var Z=R();if(Z!=f.length)throw"e";var W=R(),D=M(),C=R(),d=P(),p=[R()/4294967295,R()/4294967295,R()/4294967295];
return[C,d,p]}function E(f,Z){function W(){var hd=[];for(var h=0;h<4;h++)hd.push(I.a$(J,v+h*4));v+=16;
return hd}function D(co){var hd=[];for(var h=0;h<co;h++)hd.push(S());return hd}function C(hd){var ku="";
for(var h=v;h<hd;h+=4)ku+=J.slice(h,h+4).join(", ")+"\n";return ku}J=f;v=Z+8;var d=l(),p=v+d;v+=56;if(v==p)return;
var y=[],i=[],t=[],O=[],q=[];while(v<p){var z=R(),iY=1;if(z!=88&&z!=96)throw z;var jw=R();if(jw!=72)throw jw;
var u=R();if(u!=88&&u!=104&&u!=120)throw u;var iH=R();if(iH!=88)throw iH;var s=R(),bV=R(),jU=W(),hx=[];
t.push(hx);for(var h=0;h<6;h++){hx.push(K(R()))}var eX=P(),et=R();if((bV&1)==0){console.log("8 extra bytes");
R();et=R()}var f7=P();O.push(f7);var cd=R(),jV=(bV&256)!=0,g2=[],gV=[],fD={88:1,104:2,120:3}[u];for(var h=0;
h<s;h++){var j4=h==0?1:fD;for(var dQ=0;dQ<j4;dQ++)g2.push(P(),P());gV.push(j4==1?h==0?"M":"L":j4==2?"Q":"C");
var eO=W(),a7=R();iY=S();var cc=D(10),ad=R(),jC=R()}q.push(iY);if(u==104){var iJ=P(),kJ=P();if(jV){gV.push("Q");
g2.push(iJ,kJ,g2[0],g2[1])}}if(u==120){var iJ=P(),kJ=P(),jr=P(),fY=P();if(jV){gV.push("C");g2.push(iJ,kJ,jr,fY,g2[0],g2[1])}}if(bV&128){var iR=["M"],g6=[g2[0],g2[1]],ay=g2.length>>>1,cQ=g.b.aae(g2);
for(var h=0;h<ay;h++){var aC=g2[2*h],dI=g2[2*h+1],fm=.7;for(var dQ=0;dQ<2;dQ++){cQ[h*4+dQ*2]=fm*cQ[h*4+dQ*2]+(1-fm)*aC;
cQ[h*4+dQ*2+1]=fm*cQ[h*4+dQ*2+1]+(1-fm)*dI}}for(var h=1;h<ay;h++){iR.push("C");g6.push(cQ[h*4-2],cQ[h*4-1],cQ[h*4],cQ[h*4+1],g2[h*2],g2[h*2+1])}if(jV){iR.push("C");
g6.push(cQ[ay*4-2],cQ[ay*4-1],cQ[0],cQ[1],g2[0],g2[1])}g2=g6;gV=iR}if(jV)gV.push("Z");i=i.concat(g2);
y=y.concat(gV)}if(v!=p)throw"e";return[{T:i,Wp:y},t,O,q]}function K(f){return Math.min(255,Math.round(f/16777216))}function e(f){J=f;
v=0;var Z=R();if(Z!=16)throw Z;var W=R();if(W!=102)throw W;var D=R();if(D!=42&&D!=58)throw D;var C=R();
if(f.length-C!=118+D)throw f.length-C;var d=M();if(d!="Parameter")throw d;var p=R(),y=R(),i=R(),t=R(),O=[];
for(var h=0;h<16;h++)O.push(R());var d=M();if(d!="InitColor")throw d;if(R()!=20)throw"e";var q=R(),z=R(),jw=R();
if(R()!=4)throw"e";if(D==58){var u=[];O.push(u);for(var h=0;h<4;h++)u.push(K(R()))}var d=M();if(d!="BlockSize")throw d;
var iH=R();if(iH!=12)throw iH;var s=c();if(v!=J.length)throw"e";return[p,y,i,t,q*255,O]}function $(f,Z){var W=I.b_(Z,0,40),D=b(f["ExternalC"+"hunk"],"Exte"+"rnalID",W);
if(D==null){console.log("chnk not found",W)}return D?D.Offset:-1}function V(f,Z,W,D){if(N==null){N=g.C(256*256*4);
k=g.C(256*256)}var C=f.Mipmap,d=f.MipmapInfo,p=f.Offscreen,y=b(C,"MainId",W),i=b(d,"MainId",y.BaseMipmapInfo),t=b(p,"MainId",i.Offscreen),O=$(f,t.BlockData),w=null;
if(O==-1)return null;var q=d2.QK.an4(Z,O),z=e(t.Attribute),jw=z[0],u=z[1],iH=z[2],s=z[3],bV=z[4],jU=z[5],hx=jU[16],eX=jU[1],et=jU[2],f7=eX+et;
if(et!=jU[5])throw"e";if(eX!=jU[7])throw"e";var iY=g.C(256*(jU[6]+jU[8])),cd=new jj;if(hx)cd=new jj(0,0,jw,u);
else{for(var jV=0;jV<s;jV++)for(var g2=0;g2<iH;g2++){var gV=q[jV*iH+g2];if(gV.length==0)continue;cd=cd.h0(new jj(g2<<8,jV<<8,256,256))}}var fD=cd.Xt(new jj(0,0,jw,u)),j4=g.C(fD.o()*(f7==1?1:4));
if(hx)g.SX(j4,255<<24|hx[0]<<16|hx[1]<<8|hx[2]);if(f7==1)j4.fill(bV);var dQ=new Uint32Array(N.buffer),eO={};
for(var jV=0;jV<s;jV++)for(var g2=0;g2<iH;g2++){var gV=q[jV*iH+g2];if(gV.length==0)continue;var a7=new Uint8Array(gV.buffer,gV.byteOffset+2,gV.length-6),cc=new jj(g2<<8,jV<<8,256,256),ad=iY;
if(a7.length<2e3){var W=a7.length+","+iY.length+","+a7.slice(0,16).join(":");if(eO[W]==null){UZIP.inflateRaw(a7,iY);
eO[W]=iY.slice(0)}ad=eO[W]}else UZIP.inflateRaw(a7,iY);if(f7==1){if(jU[8]==32){X(ad,0,k);g.Cc(k,cc,j4,fD)}else g.Cc(ad,cc,j4,fD)}else if(f7==2){if(jU[8]==32){g.SX(N,267387135);
X(ad,0,k);g.Os(k,N,3);X(ad,256*32,k);g.QR(k,N)}else for(var h=0;h<262144;h+=4){var hx=ad[65536+(h>>>2)];
N[h]=hx;N[h+1]=hx;N[h+2]=hx;N[h+3]=ad[h>>>2]}g.sW(N,cc,j4,fD)}else if(f7==5){for(var h=0;h<262144;h+=4){dQ[h>>>2]=ad[h>>>2]<<24|ad[65536+h+0]<<16|ad[65536+h+1]<<8|ad[65536+h+2]}g.sW(N,cc,j4,fD)}else throw f7}if(D&&f7==1){var jC=g.C(jw*u*4);
g.Os(j4,jC,3);j4=jC}return[fD,j4,bV]}function X(f,v,Z){for(var h=0;h<Z.length;h++){Z[h]=(f[v+(h>>>3)]>>>7-(h&7)&1)*255}}var Q=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function L(f,Z,W,D,C){var d=f.Layer,p=f.Canvas[0];while(D!=0){var y=b(d,"MainId",D),i=y.Type,iH=!1;console.log(y);
var t=W.qL();t.v7(y.Name);t.fc=Math.min(255,y.Opacity);t.G0((y.Visibility&1)!=0);t.gR=Q[y.Composite];
if(t.gR==null){alert("Unknown blend mode "+y.Composite);t.gR="norm"}t.Hv=y.Clip==1;W.k.push(t);var O=y.LayerMaskMipmap;
if(O!=0){var q=V(f,Z,O,!1);if(q){t.pR=new m.V1;t.pR.S=q[0];t.pR.N=q[1];t.pR.color=q[2];_(t.pR.S,y,"Mask","Mask");
t.pR.Zv()}}var z=[];for(var h=0;h<3;h++)z.push(K(y["DrawColorMain"+["Red","Green","Blue"][h]]));var jw={t:"Objc",v:g.UH.YK({z:z[0],H:z[1],c:z[2]})},u=JSON.parse(gD.default);
for(var h=0;h<gD.order.length;h++)u[gD.Lw[h]]={t:"VlLs",v:[]};if(y.DrawColorEnable==1&&i!=1584){iH=!0;
var s=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);s.Clr=jw;u.solidFillMulti.v.push({t:"Objc",v:s})}if(y.EffectInfo){var bV=n(y.EffectInfo),z=bV[2];
if(bV[0]==1){iH=!0;var s=JSON.parse(gD.Sy[gD.order.indexOf("FrFX")]);s.Clr.v=g.UH.YK({z:z[0]*255,H:z[1]*255,c:z[2]*255});
s.Sz.v.val=Math.round(bV[1]);u.frameFXMulti.v.push({t:"Objc",v:s})}}if(y.FilterLayerInfo){J=y.FilterLayerInfo;
v=0;var jU=R(),hx=R();if(hx!=J.length-v)throw"e";var eX={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[jU];
if(eX!=null){var f7=a8.ow(eX);t.add[eX]=f7?f7:{};if(eX=="brit")a8.FN["g"+eX](f7,[r(),r(),!0]);if(eX=="hue2")ic.tM(f7,0,[r(),r(),r()]);
if(eX=="curv"){var iY=[],cd=v;for(var h=0;h<32;h++){v=cd+h*130;var jV=o(),g2=[];iY.push(g2);for(var gV=0;
gV<jV;gV++)g2.push(o()/65535,o()/65535)}for(var h=0;h<4;h++){var g2=iY[h],fD=k1.Tc(f7,h),j4=fD[0];for(var gV=0;
gV<g2.length;gV+=2){var dQ=fD[gV>>>1]=g.F(j4);dQ.v.Hrzn.v=Math.round(g2[gV]*255);dQ.v.Vrtc.v=Math.round(g2[gV+1]*255)}k1.tM(f7,h,fD)}}if(eX=="grdm"){var eO=f7.Grad.v,a7=[],cc=R();
if(cc!=hx-4)throw cc;var ad=R();if(ad!=16&&ad!=24)throw ad;var jC=R();if(jC!=28)throw jC;var iJ=R();
for(var h=0;h<iJ;h++){var kJ=0,jr=[];for(var gV=0;gV<7;gV++)jr.push(R());a7.push([jr[6]/32768,[jr[1]/4294967295,jr[2]/4294967295,jr[3]/4294967295],jr[4]/4294967295])}g.UH.w5(a7,eO)}if(eX=="blnc"){f7.PrsL.v=R()==1;
for(var h=0;h<3;h++){var fY=f7[["ShdL","MdtL","HghL"][h]].v;for(var gV=0;gV<3;gV++)fY[gV].v=r()}}}else console.log("Unknown adjustment",jU,hx,t.getName())}if(i==1584){t.eW|=16;
t.add.SoCo={classID:"null",Clr:jw};t.B0(W)}else if(i==800){W.k.pop()}else if(y.Folder!=0){t.add.lsct=(y.Folder&16)!=0?h2.Le:h2.Uk;
t.gR="pass";W.k.pop();W.k.push(W.V4());L(f,Z,W,y.FirstChildIndex,C+1);W.k.push(t)}else if(i==0||i==1||i==2||i==3){var q=V(f,Z,y.RenderMipmap,!0);
if(q){t.S=q[0];t.buffer=q[1];_(t.S,y,"Render","");if(t.S.o()<2e6)t.Zv()}if(y.ResizableOriginalMipmap){var iR=V(f,Z,y.ResizableOriginalMipmap,!0),g6=iR[0],ay;
if(g6.o()>4e6)ay=d2.lV.apy(iR[1].buffer,g6.r,g6.$);else ay=d2.s$("PNG").lS([[iR[1].buffer,0]],g6.r,g6.$);
var cQ=W.P2(new Uint8Array(ay),t.getName(),0,0);t.add.SoLd=cQ.add.SoLd;t.buffer=cQ.buffer;t.S=cQ.S;J=y.ResizableImageInfo;
v=0;var aC=[];for(var h=0;h<10;h++)aC.push(R());var dI=[];for(var h=0;h<7;h++)dI.push(P());for(var h=0;
h<6;h++)aC.push(R());var fm=[];for(var h=0;h<8;h++)fm.push(P());var hd=fm[4];fm[4]=fm[6];fm[6]=hd;hd=fm[5];
fm[5]=fm[7];fm[7]=hd;for(var h=0;h<8;h+=2){fm[h]+=y.OffsetX;fm[h+1]+=y.OffsetY}t.add.SoLd.Trnf=H.ge.y7(fm);
t.add.SoLd.nonAffineTransform=H.ge.y7(fm);if(t.jh()||g.b.ni(fm).o()<1e8)t.IY(W,!1)}if(y.TextLayerType!=null){var ku="TextLayerString",cp="TextLayerAttributes",hp=[y[ku]],gA=[y[cp]];
if(y[ku+"Array"]){J=y[ku+"Array"];v=0;while(v<J.length){var hx=F();hp.push(J.slice(v,v+hx));v+=hx}J=y[cp+"Array"];
v=0;while(v<J.length){var hx=F();gA.push(J.slice(v,v+hx));v+=hx}}var jN=t;W.k.pop();for(var d4=0;d4<hp.length;
d4++){var t=jN.Q(),ii=0,dM=0;W.k.push(t);var ey=G(gA[d4]),jG=ey.runs,cF=ey.fnts,f5=ey.bplg,jW=ey.bbox,f$=jW[2]-jW[0],bh=jW[3]-jW[1];
if(f5){ii=f5[2]-f5[0];dM=f5[3]-f5[1]}var b7=new bC;b7.translate(-f$/2,-bh/2);b7.rotate(Math.atan2(-dM,ii));
b7.translate(f$/2,bh/2);var bz=jW[0]+y.OffsetX,cZ=jW[1]+y.OffsetY;b7.translate(bz,cZ);t.add.lnsr="rend";
t.add.TySh=bI.Q6(0,0);t.add.TySh.yW=new jj(0,0,500,500);t.add.TySh.u=b7;var e4=t.add.TySh.vv,fI=I.Aq(hp[d4]);
t.v7(fI);bI.Cq(e4,0,fI);bI.IN(e4,1);bI.lC(e4,[0,0,f$,bh]);if(jG)for(var h=0;h<jG.length;h++){var aI=jG[h],iV=aI[0],k6=iV+aI[1],bq=aI[2],cq=bI.Ni(e4,iV,k6),ib=W.Bt/72*ey.size/100;
if((bq&512)!=0)ib*=aI[6]/100;cq.iz.FontSize=Math.round(ib);var jw=(bq&256)!=0?aI.slice(3):ey.colr;cq.iz.FillColor={Type:1,Values:[1,jw[0]/65535,jw[1]/65535,jw[2]/65535]};
var jD=aI[7]==""?ey.font:aI[7];if(cF){if(cF[h])jD=cF[h][1];else for(var gV=0;gV<cF.length;gV++)if(cF[gV][0]==jD)jD=cF[gV][1]}bI.ud(cq,jD);
bI.qc(e4,iV,k6,cq)}if(t.S.o()==0)W.C4=!0;else{t.S=new jj(bz,cZ,f$,bh);t.buffer=g.C(t.S.o()*4);g.sW(jN.buffer,jN.S,t.buffer,t.S)}}}}var eL=f.VectorObjectList;
if(y.VectorNormalType!=null&&eL&&b(eL,"LayerId",D)){var hK=b(eL,"LayerId",D).VectorData,fU=$(f,hK),ju=E(Z,fU);
if(ju){var aF=null;if(t.add.TySh){var aF=t.Q();W.k.push(aF);delete t.add.TySh}a(t,y,ju[0]);if(t.tX()){t.eW|=24;
var cQ=W.qL();cQ.v7(t.getName());cQ.fc=t.fc;W.k.push(cQ);a(cQ,y,ju[0]);T(cQ,ju);cQ.B0(W)}else{T(t,ju,aF!=null)}t.B0(W);
if(aF){aF.add.TySh.u.concat(new bC(1,0,0,1,t.S.x+t.S.r/2,t.S.y+t.S.$/2))}}}if(iH)t.add.lmfx=u;if(D==p.CurrentLayer)W.Y=[W.k.indexOf(t)];
D=y.NextIndex}}function _(f,Z,W,D){f.x+=Z[W+"OffscrOffsetX"]+Z[D+"OffsetX"];f.y+=Z[W+"OffscrOffsetY"]+Z[D+"OffsetY"]}function a(f,Z,W){f.add.vmsk=new m.e_;
g.b.u(W.T,new bC(1,0,0,1,Z.OffsetX,Z.OffsetY),W.T);f.add.vmsk.X=g.b.ZX(W);f.Tr()}function T(f,Z,W){var D=Z[1][0],C=Z[2][0];
f.eW|=16;var d=f.add.vstk=gD.gB.ow(!0,!0);d.fillEnabled.v=W==!0;f.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:255,H:255,c:255})}};
d.strokeStyleContent.v.Clr.v=g.UH.YK({z:D[0],H:D[1],c:D[2]});d.strokeStyleLineWidth.v.val=C*2;d.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return w}();
d2.QK.an4=function(J,v){var x={wR:J,Jd:v+8},P=0;function o(V){var X=I.m7(V.wR,V.Jd);V.Jd+=4;return X}function R(V){var X=o(V);
if(X>200)throw X;var Q=I.Gq(V.wR,V.Jd,X);V.Jd+=X*2;return Q}function r(V){var X=o(V);if(o(V)!=4)throw"e";
var S=[];for(var h=0;h<X;h++)S.push(o(V));return S}var l=I.Ih(x.wR,x.Jd);x.Jd+=8;var M=x.Jd+l;x.Jd+=56;
var S=[];while(x.Jd<M){var c=o(x),b=x.Jd+c-4;if(b>M)throw"e";if(c==11){x.Jd-=4;var w=R(x),U=o(x);if(U!=12)throw"e";
var F=r(x),Y=R(x),U=o(x);if(U!=12)throw"e";var A=r(x);if(x.Jd!=M)throw"e"}else{var G=R(x),n=o(x);if(n!=P)throw n;
P++;var E=I.H1(x.wR,x.Jd);x.Jd+=2;if(E!=0&&E!=1&&E!=2&&E!=5)throw E;var K=x.wR[x.Jd++];if(K!=0&&K!=32&&K!=64)throw K;
var e=o(x);if(e!=1)throw e;if(o(x)!=1)throw"e";if(x.wR[x.Jd++]!=0)throw"e";if(o(x)==1){var $=o(x),N=I.eA(x.wR,x.Jd);
if($!=N+4)throw"e";S.push(new Uint8Array(x.wR.buffer,x.Jd+4,N));x.Jd+=$}else S.push(new Uint8Array(0));
var k=R(x);if(x.Jd!=b)throw x.Jd}}return S};d2.BS={};d2.BS.KY=!0;d2.BS.lx=function(J,v){var x=Date.now(),o=cX.parse(J),R=I.aV,r=I.oV,l=o.LtfHeader,M=0,P=R(l,M);
M+=4;if(P!=l.length)throw"e";var S=R(l,M);M+=4;if(S!=4609100)throw"e";var c=R(l,M);M+=4;if(c!=600)throw c;
var b=r(l,M);M+=2;if(b!=2&&b!=4)throw b;var w=r(l,M);M+=2;var U=R(l,M),F=R(l,M+4);M+=8;var Y=R(l,M)/1e4;
M+=8;var c=R(l,M),b=R(l,M+4);M+=8;if(c!=0&&c!=1&&c!=2)throw c;for(var h=0;h<20;h++)if(l[M+h]!=0)throw h;
M+=20;var c=R(l,M);M+=4;if(c!=0&&c!=1)throw c;var A=R(l,M);M+=4;if(A!=0&&A!=1)throw A;for(var h=0;h<476;
h++)if(l[M+h]!=0)throw h;M+=476;var G=M+104;v.r=U;v.$=F;v.buffer=g.C(U*F*4);var n=o.LtfMainPalette,E=o.LtfObjectList;
M=0;if(E){var co=R(E,0);if(R(E,4)!=co)throw"e";for(var K=0;K<co;K++){M=8+K*192;var e=M+128;while(E[e]!=0)e+=2;
var $=I.K0(E,M+128,e-(M+128)>>>1);d2.BS.Sm(o[$],v,n)}}var N=v.qL();v.k.push(N);N.v7("Background");if(o.LtfMainImage){var k=d2.BS.Qj(o.LtfMainImage,null,n);
N.buffer=k[0];N.S=k[1]}else{N.S=new jj(0,0,U,F);var V=R(l,G);d2.BS.arn(N,n?R(n,2+V*4):V)}v.k.reverse()};
d2.BS.aIx=function(J){var v="";for(var h=0;h<J.length;h++){var x=""+J[h];while(x.length<3)x=" "+x;v+=x+", "}return v};
d2.BS.Sm=function(J,v,x){var o=I.aV,R=v.qL(),l=0;v.k.push(R);var r=J.ObjectData;if(o(r,0)!=r.length)throw"e";
l+=4;var M=l;while(r[M]!=0)M++;R.v7(I.b_(r,l,M-l));l=M+1;if(M==5){if(r[l]!=0)throw"e";l++}var P=J.ObjectMask0,S=J.PathStream;
if(S&&P==null){var c=R.add.vmsk=new m.e_;c.X=d2.BS.ff(S);R.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:r[232],H:r[233],c:r[234]})}};
R.add.vstk=gD.gB.ow(!0);R.B0(v)}if(P==null)return;R.S=new jj(o(P,0),o(P,4),o(P,8),o(P,12));if(J.ObjectImage){var b=d2.BS.Qj(J.ObjectImage,null,x);
R.buffer=b[0]}else d2.BS.arn(R,o(r,188));d2.BS.Qj(new Uint8Array(P.buffer,16),R.buffer)};d2.BS.arn=function(J,v){J.buffer=g.C(J.S.o()*4);
g.SX(J.buffer,255<<24|v)};d2.BS.ff=function(J){var v=I.oV,x=I.aV,o=I.Dm,l=0;function R(A,G){var n=v(A,G),E=v(A,G+2);
return E}var r=pako.inflate(J.slice(12));l=128;for(var h=0;h<260;h++)if(r[l+h]!=0)throw h;l+=260;if(x(r,l)!=50)throw"e";
l+=4;if(x(r,l)!=0)throw"e";l+=4;if(x(r,l)!=0)throw"e";l+=4;var M=x(r,l);l+=4;var M=x(r,l);if(M!=106&&M!=186&&M!=196&&M!=236)throw x(r,l);
l+=4;if(x(r,l)!=0)throw"e";l+=4;if(x(r,l)!=24)throw"e";l+=4;if(x(r,l)!=0)throw"e";l+=4;var M=x(r,l);
l+=4;var P=x(r,l);l+=4;if(x(r,l)!=0)throw"e";l+=4;if(x(r,l)!=0)throw"e";l+=4;if(x(r,l)!=1280)throw"e";
l+=4;for(var h=0;h<24;h++)if(r[l+h]!=0)throw h;l+=24;var S=x(r,l);l+=4;if(42+S*10!=P)throw"e";var c=x(r,l);
l+=4;var b=x(r,l);l+=4;var w=[{e:6},{e:8,all:0}];w.push({e:0,length:S,da:0,ii:2,RO:0,M4:0});for(var h=0;
h<S;h++){var U=R(r,l+2),F=R(r,l+6),Y=new aG(U,F);w.push({e:2,nQ:Y.Q(),Z:Y,_v:Y.Q()});l+=10}return w};
d2.BS.Qj=function(J,v,x){var o=I.aV,R=I.$y,r=d2.BS.aIx,l=0,M=o(J,l),U,F=0,a;l+=4;var P=o(J,l);l+=4;var S=o(J,l);
l+=4;var c=o(J,l);l+=4;var b=o(J,l);l+=4;var w=M*P,Y=J.length;if(w==Y-20)U=new Uint8Array(J.buffer,20+J.byteOffset);
else if(S==64*64*3||v&&S==64*64){var A=d2.s$("jpg"),G=0,n=0;U=g.C(M*P);while(l<J.length){var E=o(J,l);
l+=4;var K=A.lx(J.slice(l,l+E))[0],c=K.P0,e=new Uint8Array(K.data),$=v?M:M/3;for(var N=0;N<c.$;N++)for(var k=0;
k<c.r;k++){var V=N*c.r+k,X=(N+n)*$+(k+G);if(v)U[X]=e[V*4];else{U[X*3+0]=e[V*4+2];U[X*3+1]=e[V*4+1];U[X*3+2]=e[V*4+0]}}G+=64;
if(G>$){n+=64;G=0}l+=E}}else{U=g.C(w);for(var V=0;V<w;V+=S){var Q=V+S,L=o(J,l);l+=4;while(F<Q&&l<Y){var _=J[l];
l++;if(_<128)for(var h=0;h<_+1;h++){U[F++]=J[l++];if(v)continue;U[F++]=J[l++];U[F++]=J[l++]}else{_-=127;
for(var h=0;h<_;h++){U[F++]=J[l+0];if(v)continue;U[F++]=J[l+1];U[F++]=J[l+2]}l+=v?1:3}}}}if(v){for(var h=0;
h<w;h++)v[h*4+3]=U[h];return[U,new jj(0,0,M,P)]}if(x){a=g.C(w*4);for(var h=0;h<w;h++){var T=h<<2,S=2+U[h]*4;
a[T]=x[S];a[T+1]=x[S+1];a[T+2]=x[S+2];a[T+3]=255}}else{M=Math.round(M/3);w=M*P;a=g.C(w*4);for(var h=0;
h<w;h++){var X=h*3,T=h<<2;a[T]=U[X];a[T+1]=U[X+1];a[T+2]=U[X+2];a[T+3]=255}}return[a,new jj(0,0,M,P)]};
d2.a7N={};d2.a7N.lx=function(J){var v=new Uint8Array(J),x=I.eA,l=16;if(I.b_(v,0,4)!="chlv")throw"e";
var o=x(v,4),R=x(v,8),r=x(v,12),M=[];while(l<v.length){var P=x(v,l),S=x(v,l+48),c=x(v,l+52),b=S*c,w=S*4,U=g.C(S*c*4);
U.fill(255);for(var F=0;F<c;F++)for(var Y=0;Y<S;Y+=4){var h=F*S+Y,A=h*4,G=l+108+(h>>>2)*6;U[A]=v[G+1];
U[A+4]=v[G+3];U[A+8]=v[G+4];U[A+12]=v[G+5];for(var n=0;n<16;n+=4){U[A+n+1]=v[G+0];U[A+n+2]=v[G+2]}}var E=new Int8Array(U.buffer),K=new Uint8ClampedArray(U.buffer);
for(var F=0;F<c;F++)for(var Y=0;Y<S;Y++){var h=(F*S+Y)*4,e=U[h],$=E[h+1],N=E[h+2],k=e+(45*N>>5),V=e-(11*$+23*N>>5),X=e+(113*$>>6);
K[h]=k;K[h+1]=V;K[h+2]=X}l+=P+4;M.push({P0:new jj(0,0,S,c),data:U.buffer,gT:"_a_"+M.length})}return M};
var gi={};gi._E=!1;gi.aox=!1;gi.fa=!1;gi.W0=document.createElement("canvas");gi.zJ=null;gi.ep=null;gi.FR=0;
(function(){var J={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},v;if(!v)v=gi.W0.getContext("webgl2",J);
if(v){gi._E=!0;gi.aox=!0;gi.zJ=v;gi.ep=v.createFramebuffer();v.bindFramebuffer(v.FRAMEBUFFER,gi.ep);
v.disable(v.BLEND);v.disable(v.DEPTH_TEST);var x=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,x);v.bufferData(v.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),v.STATIC_DRAW);
v.enableVertexAttribArray(0);v.vertexAttribPointer(0,2,v.FLOAT,!1,0,0)}}());gi.a4S=function(J){J=J.replace(/\s\s+/g," ");
J=J.replace(/; /g,";");J=J.replace(/} /g,"}");J=J.replace(/ }/g,"}");J=J.replace(/{ /g,"{");J=J.replace(/ {/g,"{");
J=J.replace(/= /g,"=");J=J.replace(/ =/g,"=");J=J.replace(/\| /g,"|");J=J.replace(/ \|/g,"|");return J};
gi.dh=function(J,v){var x=gi.zJ;if(J>x.getParameter(x.MAX_TEXTURE_SIZE)){gi._E=!1;alert("Too big texture ("+J+" px), Disabling WebGL")}if(v==16&&x.getExtension("EXT_texture_norm16")==null){gi._E=!1;
alert("EXT_texture_norm16 missing, Disabling WebGL")}};gi.Ic=function(J,v){return new Float32Array([(J.x-v.x)/v.r,(J.y-v.y)/v.$,J.r/v.r,J.$/v.$])};
gi.n2=function(){return this.W0};gi.DM=function(J,v){var x=gi.zJ;x.bindFramebuffer(x.FRAMEBUFFER,gi.ep);
x.framebufferTexture2D(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,J.qb,0);x.viewport(0,0,J.r,J.$);
if(v){x.enable(x.SCISSOR_TEST);x.scissor(v.x,v.y,v.r,v.$)}else x.disable(x.SCISSOR_TEST)};gi.apV=function(J,v,x){if(x)throw"error";
var o=gi.zJ;o.disable(o.SCISSOR_TEST);o.bindFramebuffer(o.FRAMEBUFFER,null);o.viewport(0,0,J,v);if(x){o.enable(o.SCISSOR_TEST);
o.scissor(x.x,x.y,Math.round(x.r),Math.round(x.$))}else o.disable(o.SCISSOR_TEST)};gi.lH=function(){var J=gi.zJ;
J.colorMask(!1,!1,!1,!0);gi.rm(255<<24);J.colorMask(!0,!0,!0,!0)};gi.rm=function(J){var v=gi.zJ,x=(J>>>0&255)*(1/255),o=(J>>>8&255)*(1/255),R=(J>>>16&255)*(1/255),r=(J>>>24&255)*(1/255);
v.clearColor(x,o,R,r);v.clear(v.COLOR_BUFFER_BIT)};gi.Rk=function(J,v,x,o,R){var r=v.Xt(o);if(R)r=r.Xt(R);
if(r.L3())return;var l=gi.zJ;gi.DM(J);l.bindTexture(l.TEXTURE_2D,x.qb);l.copyTexSubImage2D(l.TEXTURE_2D,0,r.x-o.x,r.y-o.y,r.x-v.x,r.y-v.y,r.r,r.$)};
gi.Et=function(h,J,v,x){if(x==null)x=8;var o=gi.a0v[h];if(o==null||o.r!=J||o.$!=v||o.depth!=x){if(o)o.delete();
o=new gi.GH(J,v,x)}gi.a0v[h]=o;return o};gi.a0v=[];gi.X$=function(){this.Pf=null;this.li=null};gi.X$.CQ=null;
gi.X$.prototype.k2=function(J){if(this.li)return;this.li={};var v=gi.zJ,x=this.Pf,o=this.li;for(var h=0;
h<J.length;h++){var R=J[h];o[R]=v.getUniformLocation(x,R)}};gi.X$.prototype.HB=function(){};gi.X$.prototype.nZ=function(J){var v=gi.zJ;
for(var h=0;h<J.length;h+=2){v.uniform1i(J[h],h>>>1);v.activeTexture(v["TEXTURE"+(h>>>1)]);v.bindTexture(v.TEXTURE_2D,J[h+1])}v.activeTexture(v.TEXTURE0)};
gi.X$.prototype.pU=function(J,v){var x=gi.zJ,o=x.createShader(x.FRAGMENT_SHADER);x.shaderSource(o,J);
x.compileShader(o);if(!x.getShaderParameter(o,x.COMPILE_STATUS))console.log(x.getShaderInfoLog(o));var R=x.createShader(x.VERTEX_SHADER);
x.shaderSource(R,v);x.compileShader(R);if(!x.getShaderParameter(R,x.COMPILE_STATUS))console.log(x.getShaderInfoLog(R));
var r=x.createProgram();x.attachShader(r,R);x.attachShader(r,o);x.linkProgram(r);if(!x.getProgramParameter(r,x.LINK_STATUS))console.log("Could not initialise shaders");
this.Pf=r};gi.X$.prototype.Zs=function(){if(gi.X$.CQ!=this){gi.zJ.useProgram(this.Pf);gi.X$.CQ=this}};
gi.SD=function(J,v,x){gi.xp++;gi.FR+=J*v;if(gi.fa)console.log("GL.Channels instances: "+gi.xp+", memory: "+gi.FR);
var o=gi.zJ;this.r=J;this.$=v;if(x==null)x=8;if(x==16){o.getExtension("EXT_texture_norm16")}this.depth=x;
this.Pq=x==8?o.R8:x==16?33322:o.R32F;this.UN=x==8?o.RED:x==16?o.RED:o.RED;this.bo=x==8?o.UNSIGNED_BYTE:x==16?o.UNSIGNED_SHORT:o.FLOAT;
this.qb=o.createTexture();this.z7=null;this.B8(this.qb,J,v)};gi.SD.prototype.B8=function(J,v,x){var o=gi.zJ;
o.bindTexture(o.TEXTURE_2D,J);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);
o.texImage2D(o.TEXTURE_2D,0,this.Pq,v,x,0,this.UN,this.bo,null)};gi.SD.prototype.set=function(J,v){var x=gi.zJ;
x.bindTexture(x.TEXTURE_2D,this.qb);x.pixelStorei(x.UNPACK_ALIGNMENT,1);var o=this.r*this.$;if(v==null||v.o()*10>o)x.texImage2D(x.TEXTURE_2D,0,this.Pq,this.r,this.$,0,this.UN,this.bo,J);
else{var R=new jj(0,0,this.r,this.$),r=g.C(v.o(),this.depth);g.Cc(J,R,r,v);x.texSubImage2D(x.TEXTURE_2D,0,v.x,v.y,v.r,v.$,this.UN,this.bo,r)}x.pixelStorei(x.UNPACK_ALIGNMENT,4)};
gi.SD.prototype.delete=function(){var J=gi.zJ;if(this.qb){J.deleteTexture(this.qb);gi.xp--;gi.FR-=this.r*this.$}if(gi.fa)if(gi.fa)console.log("GL.Channels instances: "+gi.xp+", memory: "+gi.FR*4)};
gi.xp=0;gi.GH=function(J,v,x,o){if(x==null)x=8;if(o==null)o=!1;gi.xp++;gi.FR+=J*v*4;if(gi.fa)console.log("GL.Channels instances: "+gi.xp+", memory: "+gi.FR);
var R=gi.zJ;if(x==16){R.getExtension("EXT_texture_norm16")}if(x==32){R.getExtension("EXT_color_buffer_float");
if(R.getExtension("OES_texture_float_linear")==null)o=!1}this.a7s=o;this.r=J;this.$=v;this.depth=x;this.Pq=x==8?R.RGBA:x==16?32859:x==32?R.RGBA32F:R.RGBA16F;
this.UN=x==8?R.RGBA:x==16?R.RGBA:R.RGBA;this.bo=x==8?R.UNSIGNED_BYTE:x==16?R.UNSIGNED_SHORT:R.FLOAT;
this.qb=R.createTexture();this.z7=null;this.B8(this.qb,J,v)};gi.$U=function(){var J=gi.zJ;return J.getExtension("OES_texture_float_linear")?32:33};
gi.GH.prototype.set=function(J,v){var x=gi.zJ;x.disable(x.SCISSOR_TEST);x.bindTexture(x.TEXTURE_2D,this.qb);
if(J==null||J instanceof Uint8Array||J instanceof Uint16Array||J instanceof Float32Array){var o=this.r,R=this.$,r=o*R;
if((v==null||v.o()*10>r)&&(J==null||J.length>=r*4))x.texImage2D(x.TEXTURE_2D,0,this.Pq,o,R,0,this.UN,this.bo,J);
else{var l=J;if(J.length==r*4){var l=g.C(v.o()*4,this.depth);g.sW(J,new jj(0,0,o,R),l,v)}x.texSubImage2D(x.TEXTURE_2D,0,v.x,v.y,v.r,v.$,this.UN,this.bo,l)}}else x.texImage2D(x.TEXTURE_2D,0,this.Pq,this.UN,this.bo,J)};
gi.GH.prototype.get=function(J){var v=gi.zJ;gi.DM(this);v.readPixels(0,0,this.r,this.$,this.UN,this.bo,J)};
gi.GH.prototype.EO=function(J){if(J.L3())return;var v=gi.zJ;if(this.z7==null){this.z7=v.createTexture();
this.B8(this.z7,this.r,this.$);gi.xp++;gi.FR+=this.r*this.$*4}v.bindFramebuffer(v.FRAMEBUFFER,gi.ep);
v.bindTexture(v.TEXTURE_2D,this.z7);if(J){var x=Math.max(J.x,0),o=Math.max(J.y,0);v.copyTexSubImage2D(v.TEXTURE_2D,0,x,o,x,o,J.r,J.$)}else v.copyTexImage2D(v.TEXTURE_2D,0,this.UN,0,0,this.r,this.$,0)};
gi.GH.prototype.B8=function(J,v,x){var o=gi.zJ;o.bindTexture(o.TEXTURE_2D,J);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,this.a7s?o.LINEAR:o.NEAREST);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE);
o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);o.texImage2D(o.TEXTURE_2D,0,this.Pq,v,x,0,this.UN,this.bo,null)};
gi.GH.prototype.delete=function(){var J=gi.zJ;if(this.qb){J.deleteTexture(this.qb);gi.xp--;gi.FR-=this.r*this.$*4}if(this.z7){J.deleteTexture(this.z7);
gi.xp--;gi.FR-=this.r*this.$*4}if(gi.fa)if(gi.fa)console.log("GL.Channels instances: "+gi.xp+", memory: "+gi.FR)};
gi.GH.prototype.Q=function(){var J=gi.zJ,v=new gi.GH(this.r,this.$);gi.DM(this);J.bindTexture(J.TEXTURE_2D,v.qb);
J.copyTexImage2D(J.TEXTURE_2D,0,this.UN,0,0,this.r,this.$,0);return v};gi.iB={afD:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a1v:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",r9:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Bi:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",aJ3:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",vP:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",lq:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Ao:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",a2a:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",ke:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",abd:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",pi:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",avA:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",jk:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",aS:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",Pc:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",qz:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",Pu:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",ZG:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",ahX:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",afp:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Uv:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",aaT:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
gi.v={};gi.v.jl={};gi.v.aDO=null;gi.v.Uz=null;gi.v.D2=null;gi.v.aIf=function(J,v,x,o,R,r,l,M){if(M==null)M=iD.tl();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(J)==-1){l=l*M.fill;M.fill=1;M.style=!1}var P=J+(M.G6?"1":"");
if(gi.v.jl[P]==null)gi.v.jl[P]=new gi.v.Fn(J,M.G6!=null);var S=gi.v.jl[P],c=x.Xt(R).Xt(r);c.offset(-R.x,-R.y);
if(c.L3())return;var b=gi.zJ;gi.DM(o,c);o.EO(c);S.Zs();S.HB(v.qb,o.z7,gi.Ic(x,R),l,M.fill,M.style?1:0,M.Hm?1:0,M.G6?new Float32Array(M.G6):null);
b.drawArrays(b.TRIANGLES,0,6)};gi.v.le=function(J,v,x,o,R,r,l,M,P,S,c){if(gi.v.a5Y==null)gi.v.a5Y=new gi.v.Dz(!0,!0,1);
if(gi.v.aHQ==null)gi.v.aHQ=new gi.v.Dz(!0,!0,4);if(gi.v.Uz==null)gi.v.Uz=new gi.v.Dz(!0,!1,1);if(gi.v.D2==null)gi.v.D2=new gi.v.Dz(!1,!0,1);
var b=S?1:0,w=J?R?R instanceof gi.SD?gi.v.a5Y:gi.v.aHQ:gi.v.Uz:gi.v.D2,U=new Float32Array(c?[c[0],c[1],c[2],1]:[1,1,1,1]),F=v?v.Xt(o).Xt(M):o.Xt(M);
if(F.L3())return;F.offset(-o.x,-o.y);var Y=gi.zJ;gi.DM(x,F);x.EO(F);w.Zs();if(J==null)w.HB(null,x.z7,R.qb,gi.Ic(o,o),gi.Ic(r,o),l/255,P,b,U);
else if(R)w.HB(J.qb,x.z7,R.qb,gi.Ic(v,o),gi.Ic(r,o),l/255,P,b,U);else w.HB(J.qb,x.z7,null,gi.Ic(v,o),null,l/255,P,b,U);
Y.drawArrays(Y.TRIANGLES,0,6)};gi.v.afe=function(J,v,x){if(gi.v.api==null)gi.v.api=new gi.v.r4;var o=gi.v.api,R=new jj(0,0,J.r,J.$),r=gi.zJ;
gi.DM(v);v.EO(R);o.Zs();o.HB(R,J.qb,v.z7,x.qb);r.drawArrays(r.TRIANGLES,0,6)};gi.v.Xz={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
gi.v.Fn=function(J,v){gi.X$.call(this);var x="\t\t\tprecision highp float;\t\t\t"+gi.iB.r9+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(v?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+gi.iB.vP+"\t\t\t"+gi.iB.lq+"\t\t\t"+gi.iB.Ao+"\t\t\t"+gi.iB.afD+"\t\t\t"+gi.iB.a1v+"\t\t\t"+gi.iB.a2a+"\t\t\t"+gi.iB.ke+"\t\t\t"+gi.iB.abd+"\t\t\t"+gi.iB.pi+"\t\t\t"+gi.iB.hash+"\t\t\t"+(v?gi.iB.Uv:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+gi.v.Xz[J]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",o="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(J=="diss")x+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else x+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(v?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.pU(x,o)};gi.v.Fn.prototype=new gi.X$;gi.v.Fn.prototype.HB=function(J,v,x,o,R,r,l,M){this.k2("srct alpha source target fill style keepBGA blIf".split(" "));
var P=gi.zJ,S=this.li;P.uniform4fv(S.srct,x);P.uniform1f(S.alpha,o);P.uniform1f(S.fill,R);P.uniform1f(S.style,r);
P.uniform1f(S.keepBGA,l);if(M)P.uniform4fv(S.blIf,M);this.nZ([S.source,J,S.target,v])};gi.v.Dz=function(J,v,x){gi.X$.call(this);
this.aaQ=J;this.JB=v;var o="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+gi.iB.avA+"\t\t\t"+gi.iB.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(J?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(v?"* (in01(wCoord) ? texture2D(weight, wCoord)."+(x==1?"r":"a")+" : wcolor)":"")+";\t\t\t\t"+(J?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( ao==0.0 ? vec3(0,0,0) : (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(v?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",R="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.pU(o,R)};gi.v.Dz.prototype=new gi.X$;gi.v.Dz.prototype.HB=function(J,v,x,o,R,r,l,M,P){if(this.JB)this.k2("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.k2("srct awg dissv source target cswitch".split(" "));var S=gi.zJ,c=this.li;S.uniform4fv(c.srct,o);
if(this.JB){S.uniform4fv(c.wrct,R);S.uniform1f(c.wcolor,r)}else{S.uniform4fv(c.cswitch,P)}S.uniform1f(c.awg,l);
S.uniform1f(c.dissv,M);var b=[c.source,J,c.target,v];if(this.JB)b.push(c.weight,x);this.nZ(b)};gi.v.r4=function(){gi.X$.call(this);
var J="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).r; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",v="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.pU(J,v)};gi.v.r4.prototype=new gi.X$;gi.v.r4.prototype.HB=function(J,v,x,o){this.k2(["rct","prev","next","alpha"]);
var R=gi.zJ,r=this.li;R.uniform4fv(r.rct,[0,0,1,1]);this.nZ([r.prev,v,r.next,x,r.alpha,o])};gi.BV={W1:{},J5:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
gi.BV.I7=function(J,v){var x=kC.Zu,o=[x.zZ,x.Y3,x.xX,x.Y2,x.p_,x.$D,x.ix,x.qo].indexOf(J.e),R=gi.BV.W1[J.e];
if(R==null)R=gi.BV.W1[J.e]=new gi.W1[o];R.Zs();R.HB(v,J);gi.zJ.drawArrays(gi.zJ.TRIANGLES,0,6)};gi.W1=[];
gi.W1[0]=function(){gi.X$.call(this);this.abZ={};var J="\t\t\tprecision highp float;\t\t\t"+gi.iB.lq+"\t\t\t"+gi.iB.r9+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2((0.5/256.0)+src.r*(255.0/256.0), 0)).r;\t\t\t\tfloat g = texture2D(map, vec2((0.5/256.0)+src.g*(255.0/256.0), 0)).g;\t\t\t\tfloat b = texture2D(map, vec2((0.5/256.0)+src.b*(255.0/256.0), 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.pU(J,gi.BV.J5)};gi.W1[0].prototype=new gi.X$;gi.W1[0].prototype.HB=function(J,v){var x={z:v.B7,H:v.xn,c:v.Sx,o5:new Float32Array(v.B7.length)};
x.o5.fill(1);var o=x.z.length,R=this.abZ["m"+o];if(R==null)R=this.abZ["m"+o]={acK:new gi.GH(o,1,gi.$U()),r3:g.C(o*4,32)};
g.$P(x,R.r3);var r=R.acK;r.set(R.r3);this.k2(["source","map","toGray","presLum"]);var l=gi.zJ,M=this.li;
l.uniform1f(M.toGray,v.FZ?1:0);l.uniform1f(M.presLum,v.TX?1:0);this.nZ([M.source,J,M.map,r.qb]);l.activeTexture(l.TEXTURE1);
var P=l.LINEAR;l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,P);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,P);
l.activeTexture(l.TEXTURE0)};gi.W1[1]=function(){gi.X$.call(this);this.lp=new gi.GH(256,1,32);this.atQ=g.C(256*4,32);
var J="\t\t\t\tprecision mediump float;\t\t\t\t"+gi.iB.Pc+"\t\t\t\t"+gi.iB.jk+"\t\t\t\t"+gi.iB.aS+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g; \t\t\t\t\tfloat lc = mapv.b; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.pU(J,gi.BV.J5)};gi.W1[1].prototype=new gi.X$;gi.W1[1].prototype.HB=function(J,v){g.$P({z:v.a9Z,H:v.As,c:v.aal,o5:g.C(256,g.u3(v.As))},this.atQ);
this.lp.set(this.atQ);this.k2(["source","map","cfa","cfb","colorize"]);var x=gi.zJ,o=this.li;x.uniform1f(o.cfa,v.aoU);
x.uniform1f(o.cfb,v.TT);x.uniform1i(o.colorize,v.alo);this.nZ([o.source,J,o.map,this.lp.qb])};gi.W1[2]=function(){gi.X$.call(this);
var J="\t\t\tprecision mediump float;\t\t\t"+gi.iB.Pc+"\t\t\t"+gi.iB.qz+"\t\t\t"+gi.iB.Pu+"\t\t\t"+gi.iB.jk+"\t\t\t"+gi.iB.aS+"\t\t\t"+gi.iB.ahX+"\t\t\t"+gi.iB.afp+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.pU(J,gi.BV.J5)};gi.W1[2].prototype=new gi.X$;gi.W1[2].prototype.HB=function(J,v){this.k2(["source","vib","sat","yF"]);
var x=gi.zJ,o=this.li;x.uniform1f(o.vib,v.Fu[0]);x.uniform1f(o.sat,v.Fu[1]);x.uniform3fv(o.yF,new Float32Array([v.Fu[2],v.Fu[3],v.Fu[3]]));
this.nZ([o.source,J])};gi.W1[3]=function(){gi.X$.call(this);var J="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.pU(J,gi.BV.J5)};gi.W1[3].prototype=new gi.X$;gi.W1[3].prototype.HB=function(J,v){this.k2(["source","trf"]);
var x=gi.zJ,o=this.li;x.uniformMatrix4fv(o.trf,!1,new Float32Array(g.$G.E3(v.gf)));this.nZ([o.source,J])};
gi.W1[4]=function(){gi.X$.call(this);var J="\t\t\tprecision mediump float; \t\t\t"+gi.iB.ZG+"\t\t\t"+gi.iB.Pc+"\t\t\t"+gi.iB.aS+"\t\t\t"+gi.iB.jk+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.pU(J,gi.BV.J5)};gi.W1[4].prototype=new gi.X$;gi.W1[4].prototype.HB=function(J,v){this.k2(["source","mnm","mxm","shift","lim"]);
var x=gi.zJ,o=this.li;x.uniform3fv(o.mnm,new Float32Array(v.WN));x.uniform3fv(o.mxm,new Float32Array(v.N3));
x.uniform3fv(o.shift,new Float32Array(v.shift));x.uniform1f(o.lim,v.BP);this.nZ([o.source,J])};gi.W1[5]=function(){gi.X$.call(this);
var J="\t\t\tprecision mediump float;\t\t\t"+gi.iB.r9+"\t\t\t"+gi.iB.Bi+"\t\t\t"+gi.iB.aJ3+"\t\t\t"+gi.iB.jk+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.pU(J,gi.BV.J5)};gi.W1[5].prototype=new gi.X$;gi.W1[5].prototype.HB=function(J,v){this.k2(["source","cfs"]);
var x=gi.zJ,o=this.li;x.uniform3fv(o.cfs,v.a0Y);this.nZ([o.source,J])};gi.W1[6]=function(){gi.X$.call(this);
var J="\t\t\tprecision mediump float;\t\t\t"+gi.iB.Pc+"\t\t\t"+gi.iB.Bi+"\t\t\t"+gi.iB.aJ3+"\t\t\t"+gi.iB.jk+"\t\t\t"+gi.iB.aS+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.pU(J,gi.BV.J5)};gi.W1[6].prototype=new gi.X$;gi.W1[6].prototype.HB=function(J,v){this.k2(["source","wght","prms"]);
var x=gi.zJ,o=this.li,R=[v.A0,v.aBm,v.lq,v.a4W,v.KZ,v.a0$];x.uniform1fv(o.wght,new Float32Array(v.a6r));
x.uniform1fv(o.prms,new Float32Array(R));this.nZ([o.source,J])};gi.W1[7]=function(){gi.X$.call(this);
this.gC={};var J="\t\t\tprecision mediump float;\t\t\t"+gi.iB.aaT+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.pU(J,gi.BV.J5)};gi.W1[7].prototype=new gi.X$;gi.W1[7].prototype.HB=function(J,v){this.k2(["source","lut","N"]);
var x=gi.zJ,o=this.li,R=v.Kv,r=v.u8;if(this.gC["m"+R]==null)this.gC["m"+R]=new gi.GH(R,R*R,gi.$U());
var l=this.gC["m"+R];l.set(r);x.uniform1f(o.N,R);this.nZ([o.source,J,o.lut,l.qb]);x.activeTexture(x.TEXTURE1);
var M=x.LINEAR;x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,M);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,M);
x.activeTexture(x.TEXTURE0)};gi.filter={CY:{},J5:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",atl:0,ajm:1,yk:2,aoC:8,aBc:3,a2Y:4,aak:5,Tg:6,aps:7};
gi.filter.I7=function(J,v){var x=gi.filter,o,R=J.e+":"+(J.JZ?J.JZ.join(","):""),o=gi.filter.CY[R];if(o==null)o=gi.filter.CY[R]=new gi.CY[J.e](J.JZ);
o.Zs();o.HB(v,J);gi.zJ.drawArrays(gi.zJ.TRIANGLES,0,6)};gi.CY=[0,0,0,0,0,0,0,0,0,0,0,0];gi.CY[7]=function(){gi.X$.call(this);
var J="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.pU(gF.u0(J),gF.u0(gi.filter.J5))};gi.CY[7].prototype=new gi.X$;gi.CY[7].prototype.HB=function(J,v){this.k2(["source","iwh","kern"]);
var x=gi.zJ,o=this.li;x.uniform2fv(o.iwh,v.Mv);x.uniform1fv(o.kern,v.aFO);this.nZ([o.source,J])};gi.CY[6]=function(J){gi.X$.call(this);
var v=J[0],x=J[1],o=J[2],R="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",r=gF.u0(R);
r=r.replaceAll("PRC",o+".0");r=r.replaceAll("DIR",["x,0","0,x"][x]);this.pU(r,gi.BV.J5)};gi.CY[6].prototype=new gi.X$;
gi.CY[6].prototype.HB=function(J,v){this.k2(["source","iwh","rad"]);var x=gi.zJ,o=this.li;x.uniform2fv(o.iwh,v.Mv);
x.uniform1f(o.rad,v.Lm);this.nZ([o.source,J])};gi.CY[4]=function(J){gi.X$.call(this);var v=J[0],x=J[1],o="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+J[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][x]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][v]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][x]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(x==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.pU(o,gi.BV.J5)};gi.CY[4].prototype=new gi.X$;gi.CY[4].prototype.HB=function(J,v){this.k2(["source","iwh","rrad","tr"]);
var x=gi.zJ,o=this.li;x.uniform2fv(o.iwh,v.Mv);x.uniform1f(o.rrad,v.mS);x.uniform1f(o.tr,v.a5C);this.nZ([o.source,J]);
var R=x.LINEAR;R=x.NEAREST;x.activeTexture(x.TEXTURE0);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,R);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,R);x.activeTexture(x.TEXTURE0)};gi.CY[5]=function(){gi.X$.call(this);
var J="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.pU(gF.u0(J),gF.u0(gi.filter.J5))};gi.CY[5].prototype=new gi.X$;gi.CY[5].prototype.HB=function(J,v){this.k2(["source","ssum","iwh","amnt","edgf"]);
var x=gi.zJ,o=this.li;x.uniform2fv(o.iwh,v.Mv);x.uniform1f(o.amnt,v.aHt);x.uniform1f(o.edgf,v.azb);this.nZ([o.source,J,o.ssum,v.a8m])};
gi.CY[3]=function(){gi.X$.call(this);var J="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.pU(gF.u0(J),gF.u0(gi.filter.J5))};gi.CY[3].prototype=new gi.X$;gi.CY[3].prototype.HB=function(J,v){this.k2("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var x=gi.zJ,o=this.li;x.uniform2fv(o.iwh,v.Mv);x.uniform1f(o.tdep,v.amK);x.uniform1f(o.rrad,v.mS);x.uniform2fv(o.spec,v.af$);
x.uniform3fv(o.nois,v.aqV);x.uniformMatrix4fv(o.poly0,!1,v.a9E);x.uniformMatrix4fv(o.poly1,!1,v.a2V);
this.nZ([o.source,J]);var R=x.LINEAR;x.activeTexture(x.TEXTURE0);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,R);
x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,R);x.activeTexture(x.TEXTURE0)};gi.CY[0]=function(){gi.X$.call(this);
var J="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.pU(gF.u0(J),gF.u0(gi.filter.J5))};gi.CY[0].prototype=new gi.X$;gi.CY[0].prototype.HB=function(J,v){this.k2(["source","iwh","ld","shine"]);
var x=gi.zJ,o=this.li;x.uniform2fv(o.iwh,v.Mv);x.uniform3fv(o.ld,v.aEI);x.uniform1f(o.shine,v.akY);this.nZ([o.source,J,o.tang,v.yp])};
gi.CY[1]=function(){gi.X$.call(this);var J="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.pU(gF.u0(J),gF.u0(gi.filter.J5))};gi.CY[1].prototype=new gi.X$;gi.CY[1].prototype.HB=function(J,v){this.k2(["source","iwh","isc","bristle"]);
var x=gi.zJ,o=this.li;x.uniform2fv(o.iwh,v.Mv);x.uniform1f(o.isc,v.aH7);x.uniform1f(o.bristle,v.aos);
this.nZ([o.source,J])};gi.CY[2]=function(){gi.X$.call(this);var J="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.pU(gF.u0(J),gF.u0(gi.filter.J5))};gi.CY[2].prototype=new gi.X$;gi.CY[2].prototype.HB=function(J,v){this.k2(["source","tang","iwh","sigma","expo"]);
var x=gi.zJ,o=this.li;x.uniform2fv(o.iwh,v.Mv);x.uniform1f(o.sigma,v.H3);x.uniform1f(o.expo,v.A$);this.nZ([o.source,J,o.tang,v.yp]);
var R=x.LINEAR;x.activeTexture(x.TEXTURE0);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,R);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,R);
x.activeTexture(x.TEXTURE0)};gi.CY[8]=function(){gi.X$.call(this);var J="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.pU(gF.Bu(J),gF.u0(gi.filter.J5))};gi.CY[8].prototype=new gi.X$;gi.CY[8].prototype.HB=function(J,v){this.k2(["source","tang","iwh","sigma"]);
var x=gi.zJ,o=this.li;x.uniform2fv(o.iwh,v.Mv);x.uniform1f(o.sigma,v.H3);this.nZ([o.source,J,o.tang,v.yp]);
var R=x.LINEAR;x.activeTexture(x.TEXTURE0);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,R);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,R);
x.activeTexture(x.TEXTURE0)};function g(){}g.B={};g.a7p={};g.F=function(J){return JSON.parse(JSON.stringify(J))};
g.u3=function(J){if(J instanceof gi.GH)return J.depth;return J instanceof Float32Array?32:J instanceof Uint16Array?16:8};
g.JN=function(J){return J==8?255:J==16?65535:1};g.N2=function(J,v,x){var o=g.u3(J),R=J.length;if(o==v)return J;
if(x==null)x=g.C(R,v);if(v==8){if(o==16)for(var h=0;h<R;h++)x[h]=J[h]>>>8;if(o==32)for(var h=0;h<R;h++)x[h]=~~(.5+255*J[h])}else if(v==16){if(o==8)for(var h=0;
h<R;h++)x[h]=J[h]<<8|J[h];if(o==32)for(var h=0;h<R;h++)x[h]=65535*J[h]}else if(v==32){if(o==8)for(var h=0;
h<R;h++)x[h]=J[h]*(1/255);if(o==16)for(var h=0;h<R;h++)x[h]=J[h]*(1/65535)}return x};g.ajj=function(J,v){for(var h=0;
h<J.length;h+=2)J[h]=g.N2(J[h],v)};g.aEN=function(){var J=[64,64,128,256,512,1024,2048],v=[];for(var h=0;
h<J.length;h++){var x=J[h],o=document.createElement("canvas");o.width=x;o.height=x;v.push(o.getContext("2d",{willReadFrequently:!0}))}return v}();
g.n2=function(J,v){var x,o=g.aEN,h=1,R=Math.max(J,v);while(h<o.length&&R>o[h].canvas.width)h++;if(h==o.length){x=o[0];
var r=x.canvas;r.width=J;r.height=v}else{x=o[h];x.clearRect(0,0,J,v)}return x};g.vV=function(J,v,x,o){if(o==null)o=new Uint32Array(v*x);
o[0]=J[0];for(var R=1;R<v;R++)o[R]=o[R-1]+J[R];for(var r=1;r<x;r++){var h=r*v;o[h]=o[h-v]+J[h];for(var R=1;
R<v;R++)o[h+R]=J[h+R]+o[h+R-1]+o[h+R-v]-o[h+R-v-1]}return o};g.D$=function(J,v,x,o,R,r){var l=(R-1)*v,M=r*v;
return J[M+o]-J[M+x-1]-J[l+o]+J[l+x-1]};g.akI=function(J,v,x,o){var R=v*4;if(o==null)o=new Uint32Array(v*x*4);
o[0]=J[0];o[1]=J[1];o[2]=J[2];o[3]=J[3];for(var r=1;r<v;r++)g.aea(J,o,4,r<<2);for(var l=1;l<x;l++){var h=l*v<<2;
g.aea(J,o,R,h);for(var r=4;r<R;r+=4){var M=h+r;o[M]=J[M]+o[M-4]+o[M-R]-o[M-R-4];o[M+1]=J[M+1]+o[M-3]+o[M-R+1]-o[M-R-3];
o[M+2]=J[M+2]+o[M-2]+o[M-R+2]-o[M-R-2];o[M+3]=J[M+3]+o[M-1]+o[M-R+3]-o[M-R-1]}}return o};g.aea=function(J,v,x,h){v[h]=v[h-x]+J[h];
v[h+1]=v[h-x+1]+J[h+1];v[h+2]=v[h-x+2]+J[h+2];v[h+3]=v[h-x+3]+J[h+3]};g.adT=function(J,v,x,o,R,r){var l=R+x<<2,M=R+v<<2,P=o+x<<2,S=o+v<<2;
r[0]+=J[l]-J[M]-J[P]+J[S];r[1]+=J[l+1]-J[M+1]-J[P+1]+J[S+1];r[2]+=J[l+2]-J[M+2]-J[P+2]+J[S+2];r[3]+=J[l+3]-J[M+3]-J[P+3]+J[S+3]};
g.QX=function(J,v,x){var o={},R=0,r=0,l=new Uint32Array(J.buffer),M=l.length,P=Date.now();for(var S=1;
S<x-1;S++)for(var c=1;c<v-1;c++){var b=S*v+c,w=l[b];if(w>>>24<230)r++;if(o[w]==null){o[w]=!0;R++}}if(r!=0||R<20)return!1;
return!0};g.PH=function(J,v,x,o,R,r){if(R==null)R=r=0;var l=Math.round(Math.log(o)/Math.log(2)),M=new Uint32Array(J.buffer);
for(var h=0;h<x;h++)for(var P=0;P<v;P++){M[h*v+P]=g.afT(h+r,P+R,l)}};g.aiI=function(h,J,v){return 255-((h>>>v)+(J>>>v)&1)*51};
g.afT=function(h,J,v){return 4294967295-((h>>>v)+(J>>>v)&1)*3355443};g.x7=function(J,v){var x=v==null?1:v/255;
return{z:(J>>>16&255)*x,H:(J>>>8&255)*x,c:(J&255)*x}};g.c7=function(J,v){var x=v==null?1:255/v;return Math.round(J.z*x)<<16|Math.round(J.H*x)<<8|Math.round(J.c*x)};
g.q2=function(J){var v=J.toString(16);while(v.length<6)v="0"+v;return v};g.aGc=function(J){return parseInt(J,16)};
g.lq=function(J){return.3*J.z+.59*J.H+.11*J.c};g.vP=function(J){return Math.max(J.z,J.H,J.c)-Math.min(J.z,J.H,J.c)};
g.x3=function(J,v,x){return.3*J+.59*v+.11*x};g.a5h=function(J,v,x){return Math.max(J,v,x)-Math.min(J,v,x)};
g.Bi=function(J,v){var x=v-J,o=Math.abs(x),R=x-1,r=x+1;if(Math.abs(R)<o)x=R;else if(Math.abs(r)<o)x=r;
return x};g.hR=function(J){return J<.0031308?12.92*J:1.055*Math.pow(J,1/2.4)-.055};g.zp=function(J){return J<.04045?J/12.92:Math.pow((J+.055)/1.055,2.4)};
g.atq=function(J,v){var x=Math.min(J.length,v.length);for(var h=0;h<x;h+=4){var o=J[h],R=J[h+1],r=J[h+2];
v[h]=16+Math.floor(65.481/255*o+128.553/255*R+24.966/255*r+.5);v[h+1]=128-Math.floor(37.797/255*o-74.203/255*R+112/255*r+.5);
v[h+2]=128+Math.floor(112/255*o-93.786/255*R-18.214/255*r+.5);v[h+3]=J[h+3]}};g.a2t=function(J,v,x){var o,R,r,l=Math.max(J,v,x),M=Math.min(J,v,x);
r=l;if(l!=0)R=(l-M)/l;else R=0;if(R==0)o=0;else{var P=l-M,S=(l-J)/P,c=(l-v)/P,b=(l-x)/P;if(J==l)o=b-c;
else if(v==l)o=2+S-b;else o=4+c-S;o*=1/6;if(o<0)o=o+1}return{mq:o,hO:R,c:r}};g.ala=function(J,v,x){var o=0,R=0,r=0;
if(v==0)o=R=r=x;else{var l=(J-Math.floor(J))*6,M=Math.floor(l),P=l-Math.floor(l),S=x*(1-v),c=x*(1-v*P),b=x*(1-v*(1-P));
switch(M){case 0:o=x;R=b;r=S;break;case 1:o=c;R=x;r=S;break;case 2:o=S;R=x;r=b;break;case 3:o=S;R=c;
r=x;break;case 4:o=b;R=S;r=x;break;case 5:o=x;R=S;r=c;break}}return{z:o,H:R,c:r}};g.jk=function(J,v,x){var o=Math.max(J,v,x),R=Math.min(J,v,x),r=0,l=0,M=(o+R)*.5;
if(o!=R){var P=o-R;l=M>.5?P/(2-(o+R)):P/(o+R);switch(o){case J:r=(v-x)/P+(v<x?6:0);break;case v:r=(x-J)/P+2;
break;case x:r=(J-v)/P+4;break}r*=1/6}return{mq:r,hO:l,hm:M}};g.aS=function(J,v,x){var o,R,r;if(v==0)o=R=r=x;
else{var l=x<.5?x*(1+v):x+v-x*v,M=2*x-l;o=g.Pc(M,l,J+1/3);R=g.Pc(M,l,J);r=g.Pc(M,l,J-1/3)}return{z:o,H:R,c:r}};
g.Pc=function(J,v,x){if(x<0)x+=1;if(x>1)x-=1;if(x<1/6)return J+(v-J)*6*x;if(x<1/2)return v;if(x<2/3)return J+(v-J)*(2/3-x)*6;
return J};g.qz=function(J,v,x){var o=Math.max(J,v,x),R=Math.min(J,v,x),r,l,M=o,P=o-R;l=o==0?0:P/o;if(o==R)r=0;
else{switch(o){case J:r=(v-x)/P+(v<x?6:0);break;case v:r=(x-J)/P+2;break;case x:r=(J-v)/P+4;break}r*=1/6}return{mq:r,hO:l,Bl:M}};
g.Pu=function(J,v,x){var o,R,r,h,l,M,P,S;h=Math.floor(J*6);l=J*6-h;M=x*(1-v);P=x*(1-l*v);S=x*(1-(1-l)*v);
switch(h%6){case 0:o=x,R=S,r=M;break;case 1:o=P,R=x,r=M;break;case 2:o=M,R=x,r=S;break;case 3:o=M,R=P,r=x;
break;case 4:o=S,R=M,r=x;break;case 5:o=x,R=M,r=P;break}return{z:o,H:R,c:r}};g.Pg=function(){var J=[],v=[];
for(var h=0;h<8e3;h++){var x=h*(1/4e3);J[h]=g.zp(x);v[h]=x>.008856?Math.pow(x,1/3):(903.3*x+16)*(1/116)}return[J,v]}();
g.ZG=function(J,v,x,o){if(o==null)o=[.9642,1,.8249];var R=g.Pg[0],r=g.Pg[1];J=R[~~(.5+J*(4e3/255))];
v=R[~~(.5+v*(4e3/255))];x=R[~~(.5+x*(4e3/255))];var l=g.$G.a7H,M=l[0]*J+l[1]*v+l[2]*x,P=l[4]*J+l[5]*v+l[6]*x,S=l[8]*J+l[9]*v+l[10]*x;
M=M*(1/o[0]);P=P*(1/o[1]);S=S*(1/o[2]);return g.alw(M,P,S)};g.alw=function(J,v,x){var o=g.Pg[1],R=o[~~(.5+J*4e3)],r=o[~~(.5+v*4e3)],l=o[~~(.5+x*4e3)];
return{jj:116*r-16,o5:500*(R-r),c:200*(r-l)}};g.XL=function(J,v,x){var o=903.3,R=.008856,r=(J+16)/116,l=r*r*r,M=r-x/200,P=M*M*M,S=v/500+r,c=S*S*S,b=P>R?P:(116*M-16)/o,w=l>R?l:(116*r-16)/o,U=c>R?c:(116*S-16)/o,F=U*96.42,Y=w*100,A=b*82.49,G=g.$G.Gr(g.$G.qU,[F/100,Y/100,A/100,0]);
for(var h=0;h<4;h++)G[h]=Math.max(0,Math.min(255,g.hR(G[h])*255));return{z:G[0],H:G[1],c:G[2]}};g.ayq=function(J,v,x,o,R){var r=J.jj,l=J.o5,M=J.c,P=(r<v.jj?v.jj-r:x.jj<r?x.jj-r:0)*(1/100),S=(l<v.o5?v.o5-l:x.o5<l?x.o5-l:0)*(1/116),c=(M<v.c?v.c-M:x.c<M?x.c-M:0)*(1/116),b=Math.sqrt(P*P+S*S+c*c)*1.35;
return b<=o?Math.min(1,1.17*(1-b*R)):0};g.D4=function(J){var v=g.GT("cmykToRgb"),x=v[2],o=v[3],R=[0,0,0,0];
ICC.U.applyLUT4(o,x,J,R);return R};g.acV=function(J){var v=g.GT("cmykToRgb"),x=v[2],o=v[3];ICC.U.applyLUT4(o,x,J,J)};
g.aqW=function(){var J=function(co){return Math.round(co*255)},v="",x=3;for(var h=0;h<tab.length;h++){var o=J(tab[h]);
if(x<=h)o=o-J(tab[h-x])+256&255;v+=o.toString(16).padStart(2,"0")}return v};g.GT=function(J){var v=LUTS["_"+J];
if(v==null){var x=LUTS[J],o=x[0],co=x[1],R=x[2],r=x[3],l=[];for(var h=0;h<r.length;h+=2)l.push(parseInt(r.slice(h,h+2),16));
for(var h=co;h<l.length;h++)l[h]=l[h]+l[h-co]&255;for(var h=0;h<l.length;h++)l[h]*=1/255;v=LUTS["_"+J]=[o,co,R,l]}return v};
g.Cv=function(J){var v=g.GT("rgbToCmyk"),x=v[2],o=v[3],R=[0,0,0,0];ICC.U.applyLUT3to4(o,x,J,R);return R};
g.aDY=function(J){var v=g.GT("rgbToCmyk"),x=v[2],o=v[3];ICC.U.applyLUT3to4(o,x,J,J);g.SV(J)};g.dF=function(J,v,x){var o=J.length,R=.3,r=.59,l=.11;
if(x){R=x[0];r=x[1];l=x[2]}for(var h=0;h<o;h+=4)v[h>>2]=~~(J[h+0]*R+J[h+1]*r+J[h+2]*l+.5)};g.QR=function(J,v){var x=v.length;
for(var h=0;h<x;h+=4){var o=J[h>>>2];v[h]=o;v[h+1]=o;v[h+2]=o}};g.$P=function(J,v){var x=g.u3(J.o5),o=g.u3(v);
if(x!=o)throw"e";if(x==8)g.axT(J,v);else{var R=J.z,r=J.H,l=J.c,M=J.o5;for(var h=0;h<v.length;h+=4){var P=h>>>2;
v[h]=R[P];v[h+1]=r[P];v[h+2]=l[P];v[h+3]=M[P]}}};g.axT=function(J,v){var x=J.o5,o=J.z,R=J.H,r=J.c,l=Math.min(J.o5.length,v.buffer.byteLength>>>2),M=4*Math.floor(l/4),P=new Uint32Array(v.buffer),S=new Uint32Array(x.buffer),c=new Uint32Array(o.buffer),b=new Uint32Array(R.buffer),w=new Uint32Array(r.buffer);
for(var h=0;h<M;h+=4){var U=S[h>>2],F=w[h>>2],Y=b[h>>2],A=c[h>>2];P[h]=U<<24|(F&255)<<16|(Y&255)<<8|A&255;
P[h+1]=(U&65280)<<16|(F&65280)<<8|Y&65280|(A&65280)>>>8;P[h+2]=(U&16711680)<<8|F&16711680|(Y&16711680)>>>8|(A&16711680)>>>16;
P[h+3]=U&4278190080|(F&4278190080)>>>8|(Y&4278190080)>>>16|(A&4278190080)>>>24}for(var h=M;h<l;h++)P[h]=x[h]<<24|r[h]<<16|R[h]<<8|o[h]};
g.Y5=function(J,v){var x=g.u3(v.o5),o=g.u3(J);if(x!=o)throw"e";if(x==8)g.aIJ(J,v);else{var R=v.z,r=v.H,l=v.c,M=v.o5;
for(var h=0;h<J.length;h+=4){var P=h>>>2;R[P]=J[h];r[P]=J[h+1];l[P]=J[h+2];M[P]=J[h+3]}}};g.aIJ=function(J,v){var x=v.o5,o=v.z,R=v.H,r=v.c,l=Math.min(v.o5.length,J.buffer.byteLength>>>2),M=4*Math.floor(l/4),P=new Uint32Array(J.buffer),S=new Uint32Array(x.buffer),c=new Uint32Array(o.buffer),b=new Uint32Array(R.buffer),w=new Uint32Array(r.buffer);
for(var h=0;h<M;h+=4){var U=P[h],F=P[h+1],Y=P[h+2],A=P[h+3];c[h>>2]=U&255|(F&255)<<8|(Y&255)<<16|A<<24;
b[h>>2]=(U&65280)>>8|F&65280|(Y&65280)<<8|(A&65280)<<16;w[h>>2]=(U&16711680)>>16|(F&16711680)>>8|Y&16711680|(A&16711680)<<8;
S[h>>2]=U>>>24|F>>>24<<8|Y>>>24<<16|A&4278190080}for(var h=M;h<l;h++){var G=P[h];o[h]=G>>0&255;R[h]=G>>8&255;
r[h]=G>>16&255;x[h]=G>>24&255}};g.Vi=function(J,v,x){var o=Math.min(J.length/4,v.length),R=g.u3(J);if(R!=g.u3(v))throw"e";
if(R==8){for(var h=0;h<o;h++){v[h]=J[(h<<2)+x]}}else for(var h=0;h<o;h++){v[h]=J[(h<<2)+x]}};g.Os=function(J,v,x){var o=g.u3(J);
if(o!=g.u3(v))throw"e";var R=Math.min(v.length/4,J.length);if(o==8){var r=new Uint8Array(v.buffer),l=new Uint32Array(J.buffer),h=0;
while(h+4<R){var M=l[h>>>2];r[(h<<2)+x]=M&255;r[(h<<2)+x+4]=M>>>8&255;r[(h<<2)+x+8]=M>>>16&255;r[(h<<2)+x+12]=M>>>24;
h+=4}while(h<R){r[(h<<2)+x]=J[h];h++}}else{for(var h=0;h<R;h++)v[(h<<2)+x]=J[h]}};g.SX=function(J,v){new Uint32Array(J.buffer).fill(v)};
g.rd=function(J,v,x,o){var R=g.u3(J),r=g.JN(R),l=J.length;if(R==8)for(var h=0;h<l;h+=4){J[h]=v*r;J[h+1]=x*r;
J[h+2]=o*r}if(R==16)for(var h=0;h<l;h+=4){J[h]=v*r;J[h+1]=x*r;J[h+2]=o*r}if(R==32)for(var h=0;h<l;h+=4){J[h]=v*r;
J[h+1]=x*r;J[h+2]=o*r}};g.sS=function(J,v){var x=g.u3(J),o=g.JN(x),R=J.length;if(x==8)for(var h=0;h<R;
h+=4){J[h+3]=v*o}if(x==16)for(var h=0;h<R;h+=4){J[h+3]=v*o}if(x==32)for(var h=0;h<R;h+=4){J[h+3]=v*o}};
g.aA9=function(J,v,x,o,R){if(R==null)R=0;var r=new Uint32Array(J.buffer);x=x.Xt(v);var l=x.x-v.x,M=x.y-v.y,P=x.r,S=x.$,c=v.r;
for(var b=0;b<S;b++){var h=(M+b)*c+l;for(var w=0;w<P;w++){r[h]=r[h]&R|o;h++}}};g.oj=function(J,v){var x=Math.min(J.buffer.byteLength,v.buffer.byteLength),o=x>>>2,R=new Uint32Array(J.buffer,0,o),r=new Uint32Array(v.buffer,0,o);
r.set(R)};g.Ym=function(J,v){var x=J.buffer.byteLength,o=v.buffer.byteLength,R=new Uint32Array(J.buffer,0,x>>2),r=new Uint32Array(v.buffer,0,o>>2);
if(x!=o)return!1;var l=R.length;for(var h=0;h<l;h++)if(r[h]!=R[h])return!1;return!0};g.SV=function(J){var v=g.u3(J),x=J.length;
if(v==8)for(var h=0;h<x;h++)J[h]=~J[h];if(v==16)for(var h=0;h<x;h++)J[h]=~J[h];if(v==32)for(var h=0;
h<x;h++)J[h]=1-J[h]};g.aeu=function(J){var v=J.length;for(var h=0;h<v;h+=4){J[h]=~J[h];J[h+1]=~J[h+1];
J[h+2]=~J[h+2]}};g.ai7=function(J){var v=J.length;for(var h=3;h<v;h+=4)J[h]=~J[h]};g.a8W=function(J){return J+(J%4==0?0:4-J%4)};
g.C=function(J,v){if(v==null)v=8;var x=v==8?Uint8Array:v==16?Uint16Array:Float32Array;if(v==8)J=g.a8W(J);
if(v==16)J+=J&1;try{var o=new x(J)}catch(gw){alert("Not enough RAM! (need "+Math.round(J/(1<<20))+" MB)",7e3);
throw"low_ram"}return o};g.aD0=function(J){var v=J.P0.r,x=J.P0.$,o=v*4,R=v*x,r=new Uint8Array(J.data),l=0,M=0;
for(var P=1;P<x;P++)for(var S=1;S<v;S++){var h=(P*v+S)*4;if(r[h-1]==0&&r[h+3]==0&&r[h-o+3]==0){M++;var c=r[h],b=r[h+1],w=r[h+2],U=c-r[h-4],F=c-r[h-o],Y=b-r[h-3],A=b-r[h-o+1],G=w-r[h-2],n=w-r[h-o+2];
if(U*U+Y*Y+G*G!=0&&F*F+A*A+n*n!=0)l++}}if(M/R>.01&&l/M>.05){var E=g.C(v*x);g.Vi(r,E,3);J.ac=[E];for(var h=0;
h<r.length;h+=4)r[h+3]=255}};g.af3=function(J,v,x,o){if(o==null)o=0;var R=0;while(R+3<J.length&&J[R+3].o()>=o&&v.Nf()*(1<<(R>>>1))<x)R+=2;
var r=J[1],l=J[R+1],M=new bC;M.translate(-l.x,-l.y);M.scale(r.r/l.r,r.$/l.$);M.translate(r.x,r.y);M.concat(v);
return[R,M]};g.DV=function(J){var v=J.length,x=J[v-2],o=J[v-1];while(o.r>=2&&o.$>=2){var R=g.WU(x,o);
J.push(R.r3,R.S);x=R.r3;o=R.S}};g.To=function(J){var v=J.length,x=J[v-2],o=J[v-1];while(o.r>=2&&o.$>=2){var R=g.oU(x,o);
J.push(R.r3,R.S);x=R.r3;o=R.S}};g.WU=function(J,v,x){var o=v.r,R=v.$,r=o>>1,l=R>>1,M=new jj(v.x>>>1,v.y>>>1,r,l),P,S=g.u3(J);
if(S==8){P=x&&x.length==r*l*4?x:g.C(r*l*4);var c=new Uint32Array(J.buffer),b=new Uint32Array(P.buffer);
for(var w=0;w<l;w++)for(var U=0;U<r;U++){var F=w*r+U,Y=(w<<1)*o+(U<<1),A=c[Y],G=c[Y+1],n=c[Y+o],E=c[Y+o+1],K=A>>>24,e=G>>>24,$=n>>>24,N=E>>>24,k=K+e+$+N;
if(k==1020){var V=(A>>>0&255)+(G>>>0&255)+(n>>>0&255)+(E>>>0&255)+2>>>2,X=(A>>>8&255)+(G>>>8&255)+(n>>>8&255)+(E>>>8&255)+2>>>2,Q=(A>>>16&255)+(G>>>16&255)+(n>>>16&255)+(E>>>16&255)+2>>>2;
b[F]=255<<24|Q<<16|X<<8|V}else if(k==0)b[F]=0;else{var V=(A>>>0&255)*K+(G>>>0&255)*e+(n>>>0&255)*$+(E>>>0&255)*N,X=(A>>>8&255)*K+(G>>>8&255)*e+(n>>>8&255)*$+(E>>>8&255)*N,Q=(A>>>16&255)*K+(G>>>16&255)*e+(n>>>16&255)*$+(E>>>16&255)*N,L=1/k;
V=~~(V*L+.5);X=~~(X*L+.5);Q=~~(Q*L+.5);b[F]=k+2>>>2<<24|Q<<16|X<<8|V}}}else{P=g.C(r*l*4,S);for(var w=0;
w<l;w++)for(var U=0;U<r;U++){var F=w*r+U<<2,Y=(w<<1)*o+(U<<1)<<2,_=Y,a=Y+4,T=Y+o*4,f=Y+o*4+4,K=J[_+3],e=J[a+3],$=J[T+3],N=J[f+3],k=K+e+$+N;
if(k==0){}else{var L=1/k;P[F]=(J[_]*K+J[a]*e+J[T]*$+J[f]*N)*L;P[F+1]=(J[_+1]*K+J[a+1]*e+J[T+1]*$+J[f+1]*N)*L;
P[F+2]=(J[_+2]*K+J[a+2]*e+J[T+2]*$+J[f+2]*N)*L;P[F+3]=k*.25}}}return{S:M,r3:P}};g.asQ=function(J,v,x){var o=v.r,R=v.$,r=o>>1,l=R>>1,M=new jj(v.x,v.y,r,l),P=x&&x.length==r*l*4?x:g.C(r*l*4),S=new Uint32Array(J.buffer),c=new Uint32Array(P.buffer);
for(var b=0;b<l;b++)for(var w=0;w<r;w++){var U=b*r+w,F=(b<<1)*o+(w<<1),Y=S[F],A=S[F+1],G=S[F+o],n=S[F+o+1],E=2+(Y>>>0&255)+(A>>>0&255)+(G>>>0&255)+(n>>>0&255)>>>2,K=2+(Y>>>8&255)+(A>>>8&255)+(G>>>8&255)+(n>>>8&255)>>>2,e=2+(Y>>>16&255)+(A>>>16&255)+(G>>>16&255)+(n>>>16&255)>>>2,$=2+(Y>>>24&255)+(A>>>24&255)+(G>>>24&255)+(n>>>24&255)>>>2;
c[U]=$<<24|e<<16|K<<8|E}return{S:M,r3:P}};g.a6Y=function(J,v,x){var o=v.r,R=v.$,r=2*Math.floor(o/3),l=2*Math.floor(R/3),M=new jj(v.x,v.y,r,l),P=x&&x.length==r*l*4?x:g.C(r*l*4),S=new Uint32Array(J.buffer),c=new Uint32Array(P.buffer);
for(var b=0;b<l;b+=2)for(var w=0;w<r;w+=2){var U=b*r+w,F=(b*3>>>1)*o+(w*3>>>1),Y=S[F],A=S[F+1],G=S[F+2],n=S[F+o],E=S[F+1+o],K=S[F+2+o],e=S[F+o+o],$=S[F+1+o+o],N=S[F+2+o+o],k=Y>>>24<<2,V=(Y>>>16&255)*k,X=(Y>>>8&255)*k,Q=(Y&255)*k,L=A>>>24<<1,_=(A>>>16&255)*L,a=(A>>>8&255)*L,T=(A&255)*L,f=G>>>24<<2,Z=(G>>>16&255)*f,W=(G>>>8&255)*f,D=(G&255)*f,C=n>>>24<<1,d=(n>>>16&255)*C,p=(n>>>8&255)*C,y=(n&255)*C,i=E>>>24,t=(E>>>16&255)*i,O=(E>>>8&255)*i,q=(E&255)*i,z=K>>>24<<1,jw=(K>>>16&255)*z,u=(K>>>8&255)*z,iH=(K&255)*z,s=e>>>24<<2,bV=(e>>>16&255)*s,jU=(e>>>8&255)*s,hx=(e&255)*s,eX=$>>>24<<1,et=($>>>16&255)*eX,f7=($>>>8&255)*eX,iY=($&255)*eX,cd=N>>>24<<2,jV=(N>>>16&255)*cd,g2=(N>>>8&255)*cd,gV=(N&255)*cd,fD=k+L+C+i,j4=f+L+z+i,dQ=s+eX+C+i,eO=cd+eX+z+i,a7=fD==0?0:1/fD,cc=j4==0?0:1/j4,ad=dQ==0?0:1/dQ,jC=eO==0?0:1/eO,iJ=0,kJ=0,jr=0,fY=0;
iJ=~~(.5+(Q+T+y+q)*a7);kJ=~~(.5+(X+a+p+O)*a7);jr=~~(.5+(V+_+d+t)*a7);fY=~~(.5+fD*(1/9));c[U]=fY<<24|jr<<16|kJ<<8|iJ;
iJ=~~(.5+(D+T+iH+q)*cc);kJ=~~(.5+(W+a+u+O)*cc);jr=~~(.5+(Z+_+jw+t)*cc);fY=~~(.5+j4*(1/9));c[U+1]=fY<<24|jr<<16|kJ<<8|iJ;
iJ=~~(.5+(hx+iY+y+q)*ad);kJ=~~(.5+(jU+f7+p+O)*ad);jr=~~(.5+(bV+et+d+t)*ad);fY=~~(.5+dQ*(1/9));c[U+r]=fY<<24|jr<<16|kJ<<8|iJ;
iJ=~~(.5+(gV+iY+iH+q)*jC);kJ=~~(.5+(g2+f7+u+O)*jC);jr=~~(.5+(jV+et+jw+t)*jC);fY=~~(.5+eO*(1/9));c[U+r+1]=fY<<24|jr<<16|kJ<<8|iJ}return{S:M,r3:P}};
g.awz=function(J,v,x){var o=v.r,R=v.$,r=2*Math.floor(o/3),l=2*Math.floor(R/3),M=new jj(v.x,v.y,r,l),P=x&&x.length==r*l*4?x:g.C(r*l*4),S=new Uint32Array(J.buffer),c=new Uint32Array(P.buffer);
for(var b=0;b<l;b+=2)for(var w=0;w<r;w+=2){var U=b*r+w,F=(b*3>>>1)*o+(w*3>>>1),Y=S[F],A=S[F+1],G=S[F+2],n=S[F+o],E=S[F+1+o],K=S[F+2+o],e=S[F+o+o],$=S[F+1+o+o],N=S[F+2+o+o],k=(Y>>>16&255)<<2,V=(Y>>>8&255)<<2,X=(Y&255)<<2,Q=(A>>>16&255)<<1,L=(A>>>8&255)<<1,_=(A&255)<<1,a=(G>>>16&255)<<2,T=(G>>>8&255)<<2,f=(G&255)<<2,Z=(n>>>16&255)<<1,W=(n>>>8&255)<<1,D=(n&255)<<1,C=E>>>16&255,d=E>>>8&255,p=E&255,y=(K>>>16&255)<<1,i=(K>>>8&255)<<1,t=(K&255)<<1,O=(e>>>16&255)<<2,q=(e>>>8&255)<<2,z=(e&255)<<2,jw=($>>>16&255)<<1,u=($>>>8&255)<<1,iH=($&255)<<1,s=(N>>>16&255)<<2,bV=(N>>>8&255)<<2,jU=(N&255)<<2,hx=0,eX=0,et=0;
hx=~~(.5+(X+_+D+p)*(1/9));eX=~~(.5+(V+L+W+d)*(1/9));et=~~(.5+(k+Q+Z+C)*(1/9));c[U]=255<<24|et<<16|eX<<8|hx;
hx=~~(.5+(f+_+t+p)*(1/9));eX=~~(.5+(T+L+i+d)*(1/9));et=~~(.5+(a+Q+y+C)*(1/9));c[U+1]=255<<24|et<<16|eX<<8|hx;
hx=~~(.5+(z+iH+D+p)*(1/9));eX=~~(.5+(q+u+W+d)*(1/9));et=~~(.5+(O+jw+Z+C)*(1/9));c[U+r]=255<<24|et<<16|eX<<8|hx;
hx=~~(.5+(jU+iH+t+p)*(1/9));eX=~~(.5+(bV+u+i+d)*(1/9));et=~~(.5+(s+jw+y+C)*(1/9));c[U+r+1]=255<<24|et<<16|eX<<8|hx}return{S:M,r3:P}};
g.LQ=function(J){var v=255,x=J.length;x-=x&31;for(var h=3;h<x;h+=32)v=v&J[h]&J[h+4]&J[h+8]&J[h+12]&J[h+16]&J[h+20]&J[h+24]&J[h+28];
return v!=255};g.a4E=function(J,v,x,o){var R=g.WU,r=g.a6Y,l={r3:J,S:v},M=g.a53(x);for(var h=0;h<M.length;
h++){if(M[h]==2)l=R(l.r3,l.S,o);else l=r(l.r3,l.S,o)}return l};g.ax5=function(J,v,x,o){var R=g.oU,r=g.a2D,l={r3:J,S:v},M=g.a53(x);
for(var h=0;h<M.length;h++){if(M[h]==2)l=R(l.r3,l.S,o);else l=r(l.r3,l.S,o)}return l};g.a53=function(J){var v=[],x=J;
while(x<.499){v.push(2);x*=2}v.push(x<.5001?2:3);return v};g.oU=function(J,v,x){var o=v.r,R=v.$,r=o>>1,l=R>>1,M=new jj(v.x,v.y,r,l);
if(J==null)return{S:M};var P=x&&x.length>=r*l?x:g.C(r*l);for(var S=0;S<l;S++){var c=S*r;for(var b=0;
b<r;b++){var w=(S<<1)*o+(b<<1);P[c+b]=2+J[w]+J[w+1]+J[w+o]+J[w+o+1]>>>2}}return{S:M,r3:P}};g.a2D=function(J,v,x){var o=v.r,R=v.$,r=2*Math.floor(o/3),l=2*Math.floor(R/3),M=new jj(v.x,v.y,r,l);
if(J==null)return{S:M};var P=x&&x.length>=r*l?x:g.C(r*l);for(var S=0;S<l;S+=2)for(var c=0;c<r;c+=2){var b=S*r+c,w=(S*3>>>1)*o+(c*3>>>1),U=J[w]<<2,F=J[w+1]<<1,Y=J[w+2]<<2,A=J[w+o]<<1,G=J[w+1+o],n=J[w+2+o]<<1,E=J[w+o+o]<<2,K=J[w+1+o+o]<<1,e=J[w+2+o+o]<<2;
P[b]=~~(.5+(U+F+A+G)*(1/9));P[b+1]=~~(.5+(Y+F+n+G)*(1/9));P[b+r]=~~(.5+(E+K+A+G)*(1/9));P[b+r+1]=~~(.5+(e+K+n+G)*(1/9))}return{S:M,r3:P}};
g.ac0=function(J,v,x,o,R){var r=v.Xt(o);if(R)r=r.Xt(R);var l=Math.max(0,r.x-v.x),M=Math.max(0,r.x-o.x),P=Math.max(0,r.y-v.y),S=Math.max(0,r.y-o.y),c=r.r,b=r.$;
for(var h=0;h<b;h++){var w=(P+h)*v.r+l,U=(S+h)*o.r+M;for(var F=0;F<c;F++){x[U+F]=Math.max(x[U+F],J[w+F])}}};
g.Cc=function(J,v,x,o,R){var r=v.Xt(o);if(R)r=r.Xt(R);var l=Math.max(0,r.x-v.x),M=Math.max(0,r.x-o.x),P=Math.max(0,r.y-v.y),S=Math.max(0,r.y-o.y),c=r.r,b=r.$,w=g.u3(J),U=g.u3(x);
if(w!=U)throw"e";var F=w>>>3,Y=new Uint8Array(x.buffer);for(var h=0;h<b;h++){var A=(P+h)*v.r+l,G=(S+h)*o.r+M;
Y.set(new Uint8Array(J.buffer,A*F,c*F),G*F)}};g.aqz=function(J,v,x,o){if(v.Ym(o)){g.Os(J,x,3);return}var R=v.Xt(o),r=Math.max(0,R.x-v.x),l=Math.max(0,R.x-o.x),M=Math.max(0,R.y-v.y),P=Math.max(0,R.y-o.y),S=R.r,c=R.$;
for(var h=0;h<c;h++){var b=(M+h)*v.r+r,w=(P+h)*o.r+l;for(var U=0;U<S;U++)x[(w+U<<2)+3]=J[b+U]}};g.IX=function(J,v,x,o){var R=v.Xt(o),r=Math.max(0,R.x-v.x),l=Math.max(0,R.x-o.x),M=Math.max(0,R.y-v.y),P=Math.max(0,R.y-o.y),S=R.r,c=R.$;
for(var h=0;h<c;h++){var b=(M+h)*v.r+r,w=(P+h)*o.r+l;for(var U=0;U<S;U++)x[w+U]=J[(b+U<<2)+3]}};g.sW=function(J,v,x,o,R){if(v.Ym(o)&&(R==null||R.Ym(o))){x.set(J);
return}var r=v.Xt(o);if(R)r=r.Xt(R);var l=Math.max(0,r.x-v.x),M=Math.max(0,r.x-o.x),P=Math.max(0,r.y-v.y),S=Math.max(0,r.y-o.y),c=r.r,b=r.$,w=4*(g.u3(x)>>>3),U=new Uint8Array(x.buffer);
for(var h=0;h<b;h++){var F=(P+h)*v.r+l,Y=(S+h)*o.r+M;U.set(new Uint8Array(J.buffer,F*w,c*w),Y*w)}};g.Rk=function(J,v,x,o){var R=v.Xt(o),r=Math.max(0,R.x-v.x),l=Math.max(0,R.x-o.x),M=Math.max(0,R.y-v.y),P=Math.max(0,R.y-o.y),S=R.r,c=R.$,b=J.o5,w=J.z,U=J.H,F=J.c,Y=x.o5,A=x.z,G=x.H,n=x.c;
for(var h=0;h<c;h++){var E=(M+h)*v.r+r,K=(P+h)*o.r+l;for(var e=0;e<S;e++){Y[K+e]=b[E+e];A[K+e]=w[E+e];
G[K+e]=U[E+e];n[K+e]=F[E+e]}}};g.X7=function(J){var v=J.length,x=g.u3(J),o=g.JN(x),R=1/o;if(x==8)for(var h=0;
h<v;h+=4){var r=J[h+3];if(r==255)continue;J[h]=~~(J[h]*r*(1/255)+.5);J[h+1]=~~(J[h+1]*r*(1/255)+.5);
J[h+2]=~~(J[h+2]*r*(1/255)+.5)}else for(var h=0;h<v;h+=4){var r=J[h+3];if(r==o)continue;J[h]=J[h]*(r*R);
J[h+1]=J[h+1]*(r*R);J[h+2]=J[h+2]*(r*R)}};g.Z4=function(J){var v=J.length,x=g.u3(J),o=g.JN(x),R=1/o;
if(x==8)for(var h=0;h<v;h+=4){var r=J[h+3];if(r==0||r==255)continue;var l=255/r;J[h]=~~(J[h]*l+.5);J[h+1]=~~(J[h+1]*l+.5);
J[h+2]=~~(J[h+2]*l+.5)}else{for(var h=0;h<v;h+=4){var r=J[h+3];if(r==0||r==o)continue;var l=o/r;J[h]=J[h]*l;
J[h+1]=J[h+1]*l;J[h+2]=J[h+2]*l}}};g.sM=function(J,v){for(var h=0;h<J.length;h++)if(J[h]!=v)return!1;
return!0};g.IV=function(J){return J+1+(J>>>8)>>>8};g.round=function(J,v){var x=g.u3(J),o=J.length;if(v==null)v=g.JN(x)>>>1;
if(x==8)for(var h=0;h<o;h++)J[h]=J[h]<v?0:255;if(x==16)for(var h=0;h<o;h++)J[h]=J[h]<v?0:65535;if(x==32)for(var h=0;
h<o;h++)J[h]=J[h]<v?0:1};g.KX=function(J,v){var x=J.length,o=g.u3(J);if(o==8)for(var h=0;h<x;h++)J[h]=Math.round(J[h]*v);
if(o==16)for(var h=0;h<x;h++)J[h]=Math.round(J[h]*v);if(o==32)for(var h=0;h<x;h++)J[h]=J[h]*v};g.fW=function(J,v){var x=g.u3(J);
if(x==8){var o=new Uint32Array(J.buffer),R=new Uint32Array(v.buffer),r=o.length;for(var h=0;h<r;h++){var l=o[h],M=R[h];
R[h]=g.IV((l>>>24)*(M>>>24))<<24|g.IV((l>>>16&255)*(M>>>16&255))<<16|g.IV((l>>>8&255)*(M>>>8&255))<<8|g.IV((l&255)*(M&255))}}else{var P=1/(x==16?65535:1);
for(var h=0;h<J.length;h++)v[h]=v[h]*J[h]*P}};g.xh=function(J,v){var x=g.u3(J);if(x!=g.u3(v))throw"e";
var o=J.length;if(x==8)for(var h=0;h<o;h++)v[(h<<2)+3]=v[(h<<2)+3]*J[h]*(1/255);if(x==16)for(var h=0;
h<o;h++)v[(h<<2)+3]=v[(h<<2)+3]*J[h]*(1/65535);if(x==32)for(var h=0;h<o;h++)v[(h<<2)+3]=v[(h<<2)+3]*J[h]};
g.aua=function(J,v,x,o){var R=Math.max(0,o.x-v.x),r=Math.max(0,v.x-o.x),l=Math.max(0,o.y-v.y),M=Math.max(0,v.y-o.y),P=Math.min(v.x+v.r,o.x+o.r)-Math.max(v.x,o.x),S=Math.min(v.y+v.$,o.y+o.$)-Math.max(v.y,o.y);
for(var h=0;h<S;h++){var c=(l+h)*v.r+R,b=(M+h)*o.r+r;for(var w=0;w<P;w++){x[b]=g.IV(x[b]*J[c]);c++;b++}}};
g.YJ=function(J,v,x,o){var R=g.u3(J),r=Math.max(0,o.x-v.x),l=Math.max(0,v.x-o.x),M=Math.max(0,o.y-v.y),P=Math.max(0,v.y-o.y),S=Math.min(v.x+v.r,o.x+o.r)-Math.max(v.x,o.x),c=Math.min(v.y+v.$,o.y+o.$)-Math.max(v.y,o.y);
for(var h=0;h<c;h++){var b=(M+h)*v.r+r,w=((P+h)*o.r+l<<2)+3;for(var U=0;U<S;U++){if(R==8)x[w]=g.IV(x[w]*J[b]);
else if(R==16)x[w]=x[w]*J[b]*(1/65535);else if(R==32)x[w]=x[w]*J[b];b++;w+=4}}};g.lZ=function(J,v,x,o){var R=Math.max(0,o.x-v.x),r=Math.max(0,v.x-o.x),l=Math.max(0,o.y-v.y),M=Math.max(0,v.y-o.y),P=Math.min(v.x+v.r,o.x+o.r)-Math.max(v.x,o.x),S=Math.min(v.y+v.$,o.y+o.$)-Math.max(v.y,o.y);
for(var h=0;h<S;h++){var c=((l+h)*v.r+R<<2)+3,b=((M+h)*o.r+r<<2)+3;for(var w=0;w<P;w++){x[b]=g.IV(x[b]*J[c]);
c+=4;b+=4}}};g.n7=function(J,v){if(v==null)v=1;var x=4*v,o=J.length>>>2,R=new Float64Array(256),r=new Float64Array(256),l=new Float64Array(256),M=new Float64Array(256),P=4*Math.floor(o/v)*v,S=0;
for(var h=0;h<P;h+=x){var c=J[h+0],b=J[h+1],w=J[h+2],U=J[h+3]*v,F=U*(1/255);r[c]+=F;l[b]+=F;M[w]+=F;
S+=U}for(var h=0;h<256;h++)R[h]=r[h]+l[h]+M[h];return[R,r,l,M,o,S/255]};g.a54=function(J,v){function x($,N){var k=-1,V=0;
while(V<=N){k++;V+=$[k]}return k}function o($,N){var k=256,V=0;while(V<=N){k--;V+=$[k]}return k}function R($){var N=0,k=0;
for(var h=0;h<256;h++){k+=$[h];N+=$[h]*h*(1/255)}return N/k}var r=J[0],l=J[1]/100,M=J[2]/100,P=[],S=[];
for(var h=0;h<4;h++){var c=h==0?3:1;P[h]=x(v[h],c*l*v[5]);S[h]=o(v[h],c*M*v[5])}var b=[R(v[1]),R(v[2]),R(v[3])],w=b.slice(0);
w.sort(function($,N){return $-N});var U=b.indexOf(w[1]),F=(b[0]+b[1]+b[2])/3,Y=[];for(var h=0;h<4;h++){var A=0,G=255,n=P[h],E=S[h];
if(r==0&&h==0){A=n;G=E}if(r==1&&h!=0){A=n;G=E}if(r==2&&h!=0){var c=b[h-1]/F;G=Math.max(0,Math.min(255,S[U]*c))}var K=[A,G];
Y.push(K);if(r==3&&h==0){var e=255*(1-F);K.push(e)}}return Y};g.a3t=function(J,v){var x=new Uint32Array(J.buffer),o=x.length;
for(var h=0;h<o;h++){var R=x[h],r=R&255,l=R>>8&255,M=R>>16&255,P=R>>24&255;x[h]=v[r]|v[l]<<8|v[M]<<16|v[P]<<24}};
g.arE=function(J,v,x,o,R,r,l){var M=J.length,P=g.u3(J),S=P==8?255:P==16?65535:1,c=1/S,b=(x.length-1)*.999999,w=g.ahq;
if(!l&&!r){for(var h=0;h<M;h+=4){var U=J[h]*c,F=J[h+1]*c,Y=J[h+2]*c,A=w(x,b*U),G=w(o,b*F),n=w(R,b*Y);
v[h]=A*S;v[h+1]=G*S;v[h+2]=n*S;v[h+3]=J[h+3]}return}for(var h=0;h<M;h+=4){var U=J[h]*c,F=J[h+1]*c,Y=J[h+2]*c;
if(r)U=F=Y=U*.3+F*.59+Y*.11;var A=w(x,b*U),G=w(o,b*F),n=w(R,b*Y);if(l){var E=g.x3(U,F,Y),K=g.x3(A,G,n);
if(E>K){var e=(E-K)/(1-K);A+=e*(1-A);G+=e*(1-G);n+=e*(1-n)}else if(K==0)A=G=n=0;else{var e=E/K;A=e*A;
G=e*G;n=e*n}}v[h]=A*S;v[h+1]=G*S;v[h+2]=n*S;v[h+3]=J[h+3]}};g.ahq=function(J,v){var x=~~v,o=v-x;return J[x]*(1-o)+J[x+1]*o};
g.X5=function(J,v){var x=g.N2(J,8),o=v.r,R=v.$,top=0,r=0,l=0,M=0,P=0;P=0;for(var S=0;S<R;S++){var c=S*o;
for(var h=0;h<o;h++)P|=x[c+h];if(P!=0)break;top++}if(top==R)return new jj(0,0,0,0);P=0;for(var S=R-1;
S>=0;S--){var c=S*o;for(var h=0;h<o;h++)P|=x[c+h];if(P!=0)break;l++}var b=R-l;P=0;for(var h=0;h<o;h++){for(var S=top;
S<b;S++)P|=x[S*o+h];if(P!=0)break;r++}P=0;for(var h=o-1;h>=0;h--){for(var S=top;S<b;S++)P|=x[S*o+h];
if(P!=0)break;M++}var w=new jj(v.x+r,v.y+top,o-r-M,R-top-l);return w};g.H6=function(J,v,x,o,R){var r=g.N2(J,8),top=0,S=0,c=0,b=0,w=!1;
if(o==null)o=[!0,!0,!0,!0];if(x==null)x=0;if(R==null)R=4294967295;var l=new Uint32Array(r.buffer),M=v.r,P=v.$,U=[l[0],l[l.length-1],0][x];
w=!1;if(o[0])for(var F=0;F<P;F++){var Y=F*M;for(var h=0;h<M;h++)if(l[Y+h]&R^U)w=!0;if(w)break;top++}w=!1;
if(o[2])for(var F=P-1;F>=0;F--){var Y=F*M;for(var h=0;h<M;h++)if(l[Y+h]&R^U)w=!0;if(w)break;c++}w=!1;
if(o[1])for(var h=0;h<M;h++){for(var F=0;F<P;F++)if(l[F*M+h]&R^U)w=!0;if(w)break;S++}w=!1;if(o[3])for(var h=M-1;
h>=0;h--){for(var F=0;F<P;F++)if(l[F*M+h]&R^U)w=!0;if(w)break;b++}var A=new jj(v.x+S,v.y+top,M-S-b,P-top-c);
return A.L3()?new jj(0,0,0,0):A};g.Zv=function(J){var v=g.X5(J.N,J.S);if(v.Ym(J.S))return;var x=g.C(v.o(),g.u3(J.N));
g.Cc(J.N,J.S,x,v);J.N=x;J.S=v};g.oo=function(J,v){var x=g.H6(J.buffer,J.S,2,null,v?null:4278190080);
if(x.Ym(J.S))return;var o=new g.C(x.o()*4,g.u3(J.buffer));g.sW(J.buffer,J.S,o,x);J.buffer=o;J.S=x};g.extend=function(J,v,x){if(J.S.Db(v))return;
var o=J.S.h0(v),R=g.u3(J.N),r=g.C(o.o(),R);if(x!=null)r.fill(g.JN(R)*x);g.Cc(J.N,J.S,r,o);J.S=o;J.N=r};
g.aeZ=function(J,v){if(v.L3()||J.S.Db(v))return;var x=J.S.h0(v),o=g.C(x.o()*4,g.u3(J.buffer));g.sW(J.buffer,J.S,o,x);
J.S=x;J.buffer=o};g.M$=function(J,v,x){if(!x.bB(J))return!1;var o=Math.floor(J.x)-x.x,R=Math.floor(J.y)-x.y,h=R*x.r+o;
return v[h]>128};g.aro=function(J,v,x){if(!x.bB(J))return!1;var o=Math.floor(J.x)-x.x,R=Math.floor(J.y)-x.y,h=R*x.r+o;
return v[4*h+3]>128};g.GH=function(J){this.o5=g.C(J);this.z=g.C(J);this.H=g.C(J);this.c=g.C(J)};g.GH.prototype.Q=function(){var J=this.o5.length,v=new g.GH(1);
v.o5=this.o5.slice(0);v.z=this.z.slice(0);v.H=this.H.slice(0);v.c=this.c.slice(0);return v};g.B.a4F=function(J,v,x,o,R){var r=R[0]+1,l=R[1],M=Math.abs(l-25)/4,P=R[2],S=P%2+P*P>>1,c=g.B.W;
c.pU(v,x);var b=c.vS(1),w=c.vS(1),U=c.vS(1);c.Yl(J,o,P,P,S);c.EL(o);c.Hd(o,b);c.ri(b,w,r,r,1);c.ri(b,U,r,r,r*r);
c.sub(U,w);c.fW(w,M);(l<25?c.sub:c.add)(b,w);c.ZL(w,o);c.$p(o)};g.B.aev=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);var l=R[0]*2.55,M=R[1],P=M>>1,S=R[2]*.25,c=r.vS(4),b=r.vS(1),w=r.vS(1);r._G(J,c,M,1,!0,P);
r._G(J,o,M,1,!1,P);r.bZ(J,b);r.Zp(b,l);r.fL(b,w,3);r.Y4(o,w,c);r.$u(c,o,S)};g.B.a8g=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);r.cc(R[3]);var l=R[0]*-3+80,M=R[1]*-3+80,P=R[2]/2+.5,S=R[4],c=R[5],b=r.vS(1),w=r.vS(1),U=r.vS(1),F=r.vS(1),Y=r.vS(4),A=r.vS(4);
r.bZ(J,b);r.oj(b,w);r.oL(b,M,5);r.aDu(b,.4,0);r.fL(b,U,3);r.j_(U,b,9,3,!0,27);r.oj(w,U);r.SV(U);var G=r.MU(l,5,U);
for(var h=0;h<r.XV;h++){w[h]=G[255-w[h]]}r.aDu(w,.4,0);r.oj(w,U);r.fL(U,F,2);r.j_(F,U,5,3,!1,15);r.fW(b,P);
r.fW(U,P);r.Em(o,2155905279);r.Em(A,S);r.Em(Y,c);r.Y4(A,b,o);r.Y4(Y,U,o)};g.B.arl=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);var l=new Uint8Array(256),M=5+10*R[1];M+=R[1]>3?(R[1]-3)*10:0;var P=~~(R[2]*.73)+50,S=Math.min(P+M,128),c=S-P,b=-255*P;
for(var h=0;h<256;h++){var w=h*65;l[h]=r.V8(b/c);b+=255}var U=r.vS(1),F=r.vS(1),Y=r.vS(1);r.bZ(J,U);
r.oj(U,Y);r.fL(U,F,2*R[0]+1);r.sub(F,U);r.fW(U,65);r.j_(U,F,9,3,!0,20);for(var h=0;h<r.XV;h++){var A=Y[h],G=F[h];
U[h]=G>0?~~((G*A+(255-G)*128)/255):128}r.fL(U,F,3);r.j_(F,U,15,2,!0,16);r.j_(F,Y,15,2,!1,15);r.qN(U,Y);
r.gA(Y,F,2);r.DQ(F,l);r.fL(F,U,2);r.zs(U,o)};g.B.aeT=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);var l=2*R[0]+1,M=r.aw5[R[1]],P=R[2]*5.1,S=R[3],c=r.vS(1),b=r.vS(1),w=r.vS(4),U=r.vS(4);
r.Em(w,S);r.EL(w,o);r.aDK(c,P);r.ZL(c,o);r.$p(o,w);r.bZ(J,b);r.fL(b,c,l);r.sub(c,b);r.fW(b,M);r.j_(b,c,9,3,!0,20);
r.Y4(J,c,w);r.cX(w,o,3);r._G(o,w,15,2,!0,16);r._G(o,U,15,2,!1,16);r.qN(w,U);r.$u(U,o,2)};g.B.adW=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);var l=(15-R[0])/4+1,M=(15-R[1])/4+1,P=R[2],S=R[3],c=r.g7(R[4]),b=R[5]+1,w=R[6],U=R[7],F=R[8],Y=r.vS(1),A=r.vS(1),G=r.vS(1),n=r.vS(1),E=r.vS(4),K=r.vS(4);
r.pr(G,P,S,w);r.bZ(J,A);r.fL(A,Y,5);r.s8(G,Y,n,b,c);r.fW(n,l);r.qY(n,2);r.SV(Y);r.s8(G,Y,A,b,c);r.fW(A,M);
r.qY(A,2);r.Em(E,2155905279);r.Em(K,U);r.Em(o,F);r.Y4(E,A,K);r.Y4(K,n,o)};g.B.a6I=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);r.cc(R[3]);var l=R[0],M=R[1]/10,P=R[2]/10,S=r.vS(1),c=r.vS(1),b=r.vS(1),w=r.FA(),U=r.FA(),F=r.FA();
r.l8(S);r.fL(S,c,11);r.fL(c,S,11);r.vl(S,w);r.oX(J,S);r.oj(S,b);r.fL(S,c,9);r.fL(c,S,9);r.vl(S,U);r.wK(U,F,5);
r.wK(F,U,5);r.awo(w,.8);r.atO(w,U,.8,.9);r.auV(U,S,l);r.ri(S,c,2,2,1);r.ri(c,S,2,2,3);r.ri(S,c,2,2,3);
r.ri(b,S,5,5,13);r.dj(c,S,c,M);r.zC(S,c,c,P);r.s8(c,c,S,5,1);r.EL(J,o);r.ZL(S,o);r.$p(o)};g.B.au$=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);var l=R[0],M=R[1]/2,P=R[2],S=l/2,c=r.vS(4),b=r.vS(4);r.oj(J,o);for(var w=0;w<P;w++){r._G(o,c,l,1,!0,S);
r._G(o,b,l,1,!1,S);r.qN(b,c);r.cX(c,b,2);r.$u(b,o,M)}};g.B.aDw=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);
var l=R[0]*10,M=R[1]*4.9,P=R[2]*4.9,S=r.vS(1),c=r.vS(1),b=r.vS(4),w=r.vS(4);r.bZ(J,S);r.Zp(S,r.aj6(S,l));
r.fL(S,c,3);r._G(J,b,5,1,!1,1);r._G(J,o,15,2,!0,16);r.Y4(o,c,b);r.EL(b,o);r.Hd(o,S);r.oL(S,M,P);r.ZL(S,o);
r.$p(o)};g.B.avx=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);r.cc(R[4]);var l=R[0]/20,M=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][R[1]],P=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][R[2]],S=R[3],c=new Int16Array(256);
for(var h=0;h<256;h++){c[h]=~~((h-128)*l)}var b=r.vS(1),w=r.vS(1),U=r.vS(4);r.bZ(J,b);r.fL(b,w,25);r.fW(w,M);
r.qY(w,P);r.fL(w,b,25);r.l8(w);r.are(b,w,c);r.oj(J,o);r.Em(U,S);r.Y4(U,b,o)};g.B.atD=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);var l=R[0]+5,M=15-R[1],P=l*l/2,S=1-(3-R[2])/10,c=~~(M*M*S-1),b=~~(M*M*(1-S));if(b==0)b=1;var w=r.vS(1),U=r.vS(1),F=r.vS(1),Y=r.vS(4);
r.bZ(J,F);r.ri(F,w,l,l,P);r.fL(F,U,l);r.sub(w,U);r.Zp(U,1);r.Yl(J,Y,M,M,c);r.Yl(J,o,M,M,b);r.Y4(Y,U,o)};
g.B.aF4=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);r.cc(R[3]);var l=(20-R[0])*.05,M=R[1]*-2.75+60,P=65-M,S=R[2]/10,c=r.vS(1),b=r.vS(1);
r.oX(J,b);var w=r.MU(M,P,b);r.EL(J,o);r.Hd(o,b);r.l8(c);r.NG(b,c,l);r.DQ(b,w);r.fW(b,R[2]/10);r.add(c,b);
r.ZL(b,o);r.$p(o)};g.B.awK=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);var l=5+R[0],M=15-R[1],P=R[2],S=l*l/2+l*l%2*1,c=1-(3-R[2])/10,b=~~(M*M*c-1),w=~~(M*M*(1-c));
if(w==0)w=1;var U=r.vS(1),F=r.vS(1),Y=r.vS(1),A=r.vS(1),G=r.vS(1);r.oX(J,F);r.gA(F,U,3);r.ri(U,F,2,2,1);
var n=r.MU(20,20,F);r.DQ(F,n);r.fL(F,G,5);r.ri(G,U,l,l,S);r.ri(G,F,M,M,b);r.ri(G,Y,M,M,w);r.fL(G,A,l);
r.sub(U,A);r.Zp(A,1);r.apd(F,A,Y);r.EL(J,o);r.ZL(Y,o);r.$p(o)};g.B.alq=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);r.cc(R[5]);var l=r.XV,M=r.JD,P=R[0],S=R[1],c=R[2],b=R[3],w=R[4],U=.05*P+1,F=P/100,Y=P>>1,A=2*P-100,G=+(S==9),n=+(S==7),E=[4,1][G],K=[3,2][G],e=[1,2][n],$=[2,1][n],N=[50,75][G],k=S<4?c:(c>>1)+50,V=r.aDB(N,k),X=r.Po(b),Q=r.Po(w),L=r.vS(4),_=r.vS(4),a=r.vS(1),T=r.vS(1);
function f(o,V){if(k!=50){r.a7e(o,V)}}function Z(J,u){for(var h=0;h<l;h++){J[h]=r.V8(J[h]+(u[h]-128)*F)}}function W(J,u){for(var h=0,iH=0;
h<l;h++){J[iH]=r.V8(J[iH]+(u[iH]-128)*F);J[iH+1]=r.V8(J[iH+1]+(u[iH+1]-128)*F);J[iH+2]=r.V8(J[iH+2]+(u[iH+2]-128)*F);
iH+=4}}function D(J,o){r.l8(_);r.oj(J,o);W(o,_);f(o,V)}function d(u){var iH=0;for(var s=0;s<12;s++)iH+=r.random();
return r.V8(Y*(iH-6)+u)}function p(J,o){r.oj(J,o);for(var h=0;h<M;h+=4){o[h]=d(o[h]);o[h+1]=d(o[h+1]);
o[h+2]=d(o[h+2])}f(o,V)}function y(J,o){r.oj(J,o);for(var h=0;h<M;h+=4){if(r.random()<F){o[h]=X[0];o[h+1]=X[1];
o[h+2]=X[2]}}f(o,V)}function i(J,o){r.l8(L);r.Yl(L,_,K,K,E);r.oj(J,L);W(L,_);r.Yl(L,o,5,5,13);f(o,V)}function t(J,o){r.l8(_);
r.oj(J,L);W(L,_);f(o,V);r.Yl(L,o,K,K,E)}function O(J,o){r.oj(J,L);f(o,V);r.bZ(L,a);for(var h=0,u=0;h<l;
h++){var iH=((A-a[h]+255)*128.5+.5)/32767;if(r.random()<=iH){o[u++]=Q[0];o[u++]=Q[1];o[u++]=Q[2]}else{o[u++]=X[0];
o[u++]=X[1];o[u++]=X[2]}o[u]=J[u];u++}}function q(J,o){r.EL(J,o);r.Hd(o,a);r.gA(a,T,U);r.ri(T,a,K,K,E);
r.DQ(a,V);r.ZL(a,o);r.$p(o)}function z(J){var u=0;if(S==8){for(var iH=0;iH<v;iH++){J[u++]=~~(r.random()*255)}for(var h=1;
h<x;h++){for(var iH=0;iH<v;iH++){J[u++]=J[iH]}}}else{for(var h=0;h<x;h++){var s=~~(r.random()*255);for(var iH=0;
iH<v;iH++){J[u++]=s}}}}function jw(J,o){r.bZ(J,a);r.l8(T);Z(a,T);z(T);Z(a,T);r.cX(J,L,9);r.cX(L,_,9);
r.fL(a,T,2);r.DQ(T,V);r.fL(T,a,2);r.EL(_,o);r.ZL(a,o);r.$p(o)}[D,p,y,i,i,t,O,jw,jw,q][S](J,o)};g.B.am9=function(J,v,x,o,R){var r=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],l=g.B.W,Y=0,A,h,e,$,N,k=0,V=1,X=255;
l.pU(v,x);l.cc(R[3]);var M=l.vS(1),P=l.vS(1);l.bZ(J,M);var S=R[0],c=R[1],b=c<=50?r[c]/255:1+(255-r[101-c])/255,w=R[2],U=M.length,F=new Float32Array(U),G=1+1/10*S,n=(1-1/G)/2,E=16/256,K=v-1;
for(h=0;h<l.XV;h++){F[h]=M[h]/255;P[h]=S==1?l.random()<1/255?X:V:V}function Q(L,_){var a=L*v+_;if(P[a]!=V||L>=x||_>=v){return}var $=F[a],T=b-$,f=l.random(),Z=f/G+n;
if(Y==0||Math.abs(N-$)>E){A=Z<=T?k:X;Y=~~(l.random()*S)}else if(.1<f){Y--}else{Y=0}P[a]=A;N=$}if(w==0){for(h=0;
h<v;h++){for(e=0;e<v;e++){$=h+e;if($>=v)break;Q(e,K-$)}Y=0}for(h=1;h<x;h++){for(e=0;e<x;e++){$=h+e;if($>=x||e>=v)break;
Q($,K-e)}Y=0}}else if(w==1){for(h=0;h<x;h++){for(e=0;e<v;e++){Q(h,e)}Y=0}}else if(w==2){for(h=0;h<v;
h++){for(e=0;e<v;e++){$=h+e;if($>=v)break;Q(e,$)}Y=0}for(h=1;h<x;h++){for(e=0;e<x;e++){$=h+e;if($>=x||e>=v)break;
Q($,e)}Y=0}}else{for(h=0;h<v;h++){for(e=0;e<x;e++){Q(e,h)}Y=0}}l.zs(P,o)};g.B.aza=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);var l=R[0],M=R[1],P=R[2],S=r.vS(1),c=r.vS(1),b=r.vS(1),w=r.vS(1),U=r.vS(4),F=r.vS(4);r.Hd(J,w,3,4);
r.bZ(J,S);r.ri(S,c,3,3,1);r.ri(S,b,3,3,9);r.sub(b,c);r.fL(c,S,3);r.oL(S,40,10,w);r._G(J,o,l,2,!1,l);
r._G(J,U,l,2,!0,l);r.Em(F,255);r.Y4(o,S,F);r.Y4(F,S,U);r.$u(U,o,1);r.EL(o);r.Hd(o,S);r.oL(S,M,P,w);r.ZL(S,o);
r.$p(o)};g.B.a9V=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);r.cc(R[3]);var l=R[0],M=R[1],P=R[2]/10;l=l+M;
var S=r.vS(1),c=r.vS(1),b=r.FA(),w=r.FA();r.l8(S);r.fL(S,c,11);r.fL(c,S,11);r.vl(S,b);r.wK(b,w,5);r.wK(w,b,5);
r.awo(w,.97);r.auV(w,S,l);r.ri(S,c,M,M,1);r.oX(J,S);r.dj(c,S,c,.6);r.zC(S,c,c,P);r.s8(c,c,S,5,1);r.EL(J,o);
r.ZL(S,o);r.$p(o)};g.B.aEX=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);var l=Math.abs(R[0]),M=l+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][l],P=2*l+1,S=R[1]/10,c=S*13/15,b=r.vS(1),w=r.vS(1),U=r.vS(1),F=r.vS(1),Y=r.vS(4),A=r.vS(4),G=r.vS(4),n=r.vS(4),E=r.vS(4);
r.bZ(J,b);if(R[0]>=0){r.SV(b)}r.oj(b,U);r.fL(b,F,M);r.fL(F,b,M);r.fW(b,S);r.oj(b,w);r.fL(b,F,P);r.fL(F,b,P);
r.fW(b,c);r.Em(G,R[2]);r.Em(n,R[3]);r.Em(E,R[4]);r.Y4(G,b,n,Y);r.Y4(E,w,Y,A);r.Y4(n,U,A,o);r.Hd(J,U,3);
r.ZL(U,o,3)};g.B.arg=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);r.cc(R[5]);var l=R[0]*5.1,M=R[1]/100,P=r.al9[R[2]],S=r.vS(1),c=r.vS(1),b=r.vS(1);
r.bZ(J,S);r.aDK(c,255);r.l8(b);r.Zp(S,l);r.NG(c,S,.7);r.NG(b,S,M);r.s8(S,S,c,5,P);r.oj(J,o);r.aDh(o,l,R[4],R[3]);
r.EL(o);r.ZL(c,o);r.$p(o)};g.B.arD=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);var l=R[0],M=4-R[1],P=11-R[2],S=r.vS(1),c=r.vS(1),b=r.vS(4);
r.oX(J,c);for(var h=0;h<M;h++){r.oj(c,S);r.abP(S,c,l,l)}r.cX(J,b,l);r.EL(b,b);r.ZL(c,b);r.$p(b,b);(P<11?r.aEw:r.oj)(b,o,P)};
g.B.aAE=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);r.cc(R[2]);var l=R[0]+5,M=~~(l/5+1),P=~~(l/2)+1,S=P*P,c=~~(l/3),b=r.al9[R[1]],w=new Array(256);
for(var h=0;h<256;h++){w[h]=~~(.2*(h-128))}var U=r.vS(1),F=r.vS(1);r.ajE(J,o,l);r.EL(o);r.Hd(o,U);r.l8(F);
r.are(U,F,w);r.asP(F,l,l,M,M);r.dj(U,F,U,1);r.fL(U,F,c);r.fL(F,U,c);r.ri(U,F,P,P,S);r.s8(F,F,U,5,b);
r.ZL(U,o);r.$p(o)};g.B.abX=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);var l=r.vS(1),M=r.vS(1),P=r.vS(1),S=r.FA(),c=r.FA();
r.bZ(J,l);r.fL(l,M,R[2]);r.Zp(M,R[0]*5.1);r.ri(M,l,2,2,4);r.fL(l,M,3);r.fL(M,l,3);r.oj(l,P);r.fL(l,M,5);
r.fL(M,l,5);r.vl(l,S);r.wK(S,c,5);r.wK(c,S,5);r.acz(S,M,R[1]);r.SV(M);r.dj(P,M,P,1);r.zs(P,o)};g.B.aAF=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);var l=1<<7-R[2],M=r.vS(1),P=r.vS(1),S=r.vS(1);r.oX(J,P);r.fL(P,M,3);r.oj(M,P);r.fL(M,S,R[0]+5);
r.sub(S,P);r.oL(P,1,R[1]);r.fW(M,1/l);r.fW(M,l);r.sub(M,P);r.EL(J,o);r.ZL(P,o);r.$p(o)};g.B.aE0=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);r.cc(R[3]);var l=r.vS(1),M=r.vS(1),P=r.vS(1);r.bZ(J,l);r.adF(M,R[0]/50);r.fL(M,P,3);r.ri(l,M,9,9,41);
r.oL(M,R[1],R[2]);r.dj(M,P,P,.75);r.zC(M,P,M,.5);r.oj(M,l);r.ri(l,P,3,3,8);r.dj(P,M,P,.75);r.fW(P,1.2);
r.gA(P,l,1);r.fL(l,P,2);r.gA(P,l,2);r.fW(l,1.2);r.fL(l,P,2);r.zs(P,o)};g.B.anh=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);var l=R[0]+9,M=R[1]/2,P=R[2],S=R[3],c=r.g7(R[4]),b=R[5]+1,w=R[6],U=r.vS(1),F=r.vS(1),Y=r.vS(4),A=r.vS(4);
r.pr(F,P,S,w);r.aEz(J,o,l,1,1);r.aEz(o,Y,l,1,1);r.adL(Y,Y,A,7,M);r.fW(A,1.2);r.qY(A,1.2);r.s8(F,U,U,b,c);
r.fW(U,3);r.oj(J,o);r.Y4(A,U,o)};g.B.aba=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);r.cc(R[3]);var l=R[0]+4,M=l*2/5+(l%5|0);
l--;var P=R[1]*-2.75+60,S=65-P,c=R[2]/10,b=r.vS(1),w=r.vS(1);r.l8(b);r.oX(J,w);var U=r.MU(P,S,w);r.EL(J,o);
r.Hd(o,w);r.NG(w,b,.8);r.DQ(w,U);r.fW(w,c);r.add(b,w);r.j_(w,b,l,3,!1,M);r.ZL(b,o);r.$p(o)};g.B.azA=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);r.cc(R[3]);var l=R[0]+5,M=(l*l>>1)+l%2,P=R[1]/10,S=R[2],c=(S*S>>1)+S%2,b=r.vS(1),w=r.vS(1),U=r.vS(1),F=r.vS(4),Y=r.vS(4),A=r.vS(4);
r.l8(U);r.EL(J,A);r.Hd(A,b);r.NG(b,U,.8);r.fL(U,b,3);r.gA(b,U,P);r.ZL(U,A);r.$p(A,A);r.bZ(A,U);r.ri(U,b,l,l,M);
r.fL(U,w,l);r.sub(b,w);r.Zp(w,1);r.Yl(A,F,7,7,40);r.Yl(A,Y,7,7,10);r.Y4(F,w,Y);r.Yl(Y,o,S,S,c)};g.B.ayY=function(J,v,x,o,R){var r=g.B.W,M=255,h,S;
r.pU(v,x);var l=R[0];if(l<2)M=l;else if(l<12)M=5*l-5;else if(l<47)M=2*l+28;else if(l<50){h=l-47;M=125+12.5*h+12.5*h*h}var P=new Uint8Array(256);
for(h=75,S=15;h<256;h++,S+=24)P[h]=Math.min(255,S);var c=r.vS(1),b=r.vS(1),w=r.vS(1);r.bZ(J,c);r.fL(c,b,11);
r.fL(b,w,11);r.sub(w,c);r.fW(c,8);r.sub(w,c);r.Zp(c,M);r.SV(c);r.fL(c,b,5);r.Zp(b,51);r.fL(b,c,R[1]);
r.fL(c,b,R[1]);r.SV(b);r.DQ(b,P);r.zs(b,o)};g.B.av1=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);var l=r.aw5[R[1]],M=R[2],P=M*1.5,S=r.vS(1),c=r.vS(1),b=r.vS(1);
r.oX(J,S);r.j_(S,c,15,2,!0,15);r.oj(c,b);r.oL(b,M,P);r.fL(b,S,3);r.fL(c,b,R[0]);r.sub(b,c);r.fW(c,l);
r.sub(S,c);r.fL(c,S,3);r.j_(S,c,3,1,!1,1);r.cX(J,o,15);r.EL(o);r.ZL(c,o);r.$p(o)};g.B.asK=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);r.cc(R[3]);var l=R[0]*5.1,M=16-R[1],P=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][R[2]],S=r.vS(1),c=r.vS(1),b=r.vS(1);
r.bZ(J,S);r.Zp(S,l);r.fL(S,c,M);r.fL(c,S,M);r.l8(b);r.zC(S,b,b,1);r.dj(S,b,S,.75);r.fW(S,P);r.qY(S,P);
r.ri(S,c,2,2,2);r.zs(c,o)};g.B.anQ=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);var l=R[0]+9,M=R[1]+9,P=R[2],S=R[3],c=r.g7(R[4]),b=R[5]+1,w=R[6],U=r.vS(1),F=r.vS(1),Y=r.vS(1),A=r.vS(1),G=r.vS(1),n=r.vS(4);
r.oX(J,U);r.abP(U,Y,l,l);r.fL(Y,U,M);r.oj(Y,G);r.oj(U,A);r.sub(G,A);r.sub(U,G);r.add(G,A);r.fW(A,10);
r.pr(F,P,S,w);r.s8(F,U,G,b,c);r.apd(G,A,Y,.8);r.cX(J,n,9);r.cX(n,o,9);r.EL(o);r.ZL(Y,o);r.$p(o)};g.B.aGq=function(J,v,x,o,R){var r=g.B.W;
r.pU(v,x);var l=16-R[0],M=R[1]*8,P=1-(3-R[2])/10,S=~~(l*l*P-1),c=~~(l*l*(1-P));if(c==0)c=1;var b=r.vS(1),w=r.vS(1),U=r.vS(1),F=r.vS(4);
r.bZ(J,U);r.ri(U,b,7,7,25);r.fL(U,w,7);r.sub(b,w);r.Zp(w,1);r.Yl(J,F,l,l,S);r.Yl(J,o,l,l,c);r.Y4(F,w,o);
r.EL(o);r.Hd(o,b);r.ri(b,U,3,3,1);r.ri(b,w,3,3,9);r.sub(w,U);r.oj(U,w);r.sub(b,U);r.sub(U,w);r.ri(w,b,3,3,8);
r.oL(b,M,1);r.ZL(b,o);r.$p(o)};g.B.aoV=function(J,v,x,o,R){var r=g.B.W;r.pU(v,x);r.cc(R[3]);var l=R[0],M=R[1],P=R[2],S=l>>1,c=Math.max(~~(l/5),1),b=Math.max(~~(l*2/3),1),w=r.aDB(M,P),U=r.vS(1),F=r.vS(1),Y=r.vS(1),A=r.vS(1),G=r.vS(4);
r.oX(J,U);r.aw1(2147483647,4,2,2,0,255,F);r.aw1(4,2147483647,2,2,0,255,A);r.l8(Y);r.zC(F,Y,F,1);r.zC(A,Y,A,1);
r.zC(F,U,F,1);r.zC(A,U,A,1);r.cX(J,G,S);r.cX(G,o,S);r.ri(F,U,1,l,c);r.ri(U,F,3,l,b);r.ri(A,U,l,1,c);
r.ri(U,A,l,3,b);r.qN(F,A);r.EL(o);r.ZL(A,o);r.$p(o);r.a7e(o,w)};g.B.xw=function(J,v,x){var o=x.abE,R=x.XV,r=x.vS(1),top=x.vS(1),l=x.vS(1),M=x.vS(1),P=x.vS(1),S=x.vS(1),c=x.vS(1),b=x.vS(1),w=x.vS(1),U=x.BK,F=x.mq,Y=g.yJ.yr,A=g.yJ.Z8;
Y(J,r,U,F,A([8,5,2,5,2,-1,2,-1,-4]));Y(J,top,U,F,A([5,5,5,2,2,2,-1,-1,-1]));Y(J,l,U,F,A([2,5,8,-1,2,5,-4,-1,2]));
Y(J,M,U,F,A([5,2,-1,5,2,-1,5,2,-1]));Y(J,P,U,F,A([2,2,2,2,2,2,2,2,2]));Y(J,S,U,F,A([-1,2,5,-1,2,5,-1,2,5]));
Y(J,c,U,F,A([2,-1,-4,5,2,-1,8,5,2]));Y(J,b,U,F,A([-1,-1,-1,2,2,2,5,5,5]));Y(J,w,U,F,A([-4,-1,2,-1,2,5,2,5,8]));
var G=[r,top,l,M,P,S,c,b,w];for(var n=0;n<F;n++){for(var E=0;E<U;E++){var K=n*U+E,e=J[K],$=null,N=0;
for(var k=-1;k<2;k++){for(var V=-1;V<2;V++){var X=G[(k+1)*3+V+1],Q=Math.max(0,Math.min(n+k,F-1)),L=Math.max(0,Math.min(E+V,U-1)),_=X[Q*U+L],a=Math.abs(_-e);
if($==null||a<$){$=a;N=_}}}v[K]=N}}};g.B.ay1=function(J,v,x,o,R){var self=g.B.W;self.pU(v,x);var r=self.vS(1),l=self.vS(1);
for(var h=0;h<4;h++){self.Hd(J,r,h);if(h<3){g.B.xw(r,l,self);g.B.xw(l,r,self);g.B.xw(r,l,self);g.B.xw(l,r,self);
g.B.xw(r,l,self);g.B.xw(l,r,self);g.B.xw(r,l,self);g.B.xw(l,r,self);g.B.xw(r,l,self)}else l=r;self.ZL(l,o,h)}};
g.B.W={};g.B.W.BK=0;g.B.W.mq=0;g.B.W.XV=0;g.B.W.Ei=0;g.B.W.JD=0;g.B.W.pU=function(J,v){var x=J*v,self=g.B.W;
self.BK=J;self.mq=v;self.XV=x;self.Ei=x<<1;self.JD=x<<2};g.B.W.cc=function(J){g.B.W.random=function(){var v=J+=1831565813;
v=Math.imul(v^v>>>15,v|1);v^=v+Math.imul(v^v>>>7,v|61);return((v^v>>>14)>>>0)/4294967296}};g.B.W.vS=function(J){var v=g.B.W;
return new Uint8Array([-1,v.XV,v.Ei,-1,v.JD][J])};g.B.W.FA=function(){return new Int32Array(g.B.W.Ei)};
g.B.W.fL=function(J,v,x,o){if(o==null)o=x;var self=g.B.W,R=self.BK,r=self.mq,l=o,M=o>>1,P=x,S=x>>1,c=x*o,b=0;
for(var h=0;h<r;h++){var w=0;for(var U=0;U<l;U++){for(var F=0;F<P;F++){var Y=0-S+F,A=h-M+U;if(Y<0)Y=0;
else if(Y>=R)Y=R-1;if(A<0)A=0;else if(A>=r)A=r-1;w+=J[A*R+Y]}}v[b++]=~~(w/c);for(var G=1;G<R;G++){for(var U=0;
U<l;U++){var n=G-S-1,E=n+P,A=h-M+U;if(n<0)n=0;if(E>=R)E=R-1;if(A<0)A=0;else if(A>=r)A=r-1;w+=J[A*R+E]-J[A*R+n]}v[b++]=~~(w/c)}}};
g.B.W.wK=function(J,v,x,o){var self=g.B.W,R=new Int32Array(self.XV),r=new Int32Array(self.XV);for(var h=0;
h<2;h++){self.Hd(J,R,h,2);self.fL(R,r,x,o);self.ZL(r,v,h,2)}};g.B.W.cX=function(J,v,x,o){var self=g.B.W,R=self.vS(1),r=self.vS(1);
for(var h=0;h<4;h++){self.Hd(J,R,h);if(h<3)self.fL(R,r,x,o);else r=R;self.ZL(r,v,h)}};g.B.W.aEz=function(J,v,x,o,R){var self=g.B.W,r=self.BK,l=self.mq,M=x+o-1,P=x>>1,S=M>>1,c=0,b=x*o,w=new Int32Array(x);
for(var h=0;h<l;h++){var U=0,F=0,Y=0;for(var A=0;A<x;A++){var G=R?M-A-o:A;for(var n=G,E=o+G;n<E;n++){var K=0-S+n,e=h-P+A;
if(n==G){w[A]=K}if(K<0)K=0;else if(K>=r)K=r-1;if(e<0)e=0;else if(e>=l)e=l-1;var $=r*e+K<<2;U+=J[$];F+=J[$+1];
Y+=J[$+2]}}v[c++]=~~(U/b);v[c++]=~~(F/b);v[c++]=~~(Y/b);v[c]=J[c];c++;for(var N=1;N<r;N++){for(var A=0;
A<x;A++){var e=h-P+A,G=w[A]+1;w[A]=G;var k=G-1,V=G+o-1;if(e<0)e=0;else if(e>=l)e=l-1;if(k<0)k=0;else if(k>=r)k=r-1;
if(V<0)V=0;else if(V>=r)V=r-1;var X=e*r+k<<2,Q=e*r+V<<2;U=U+J[Q]-J[X];F=F+J[Q+1]-J[X+1];Y=Y+J[Q+2]-J[X+2]}v[c++]=~~(U/b);
v[c++]=~~(F/b);v[c++]=~~(Y/b);v[c]=J[c];c++}}};g.B.W.j_=function(J,v,x,o,R,r){var self=g.B.W,l=self.BK,M=self.mq,P=x+o-1,S=x>>1,c=P>>1,b=0,w=new Int32Array(x),U=new Int32Array(256),F=new Int32Array(16);
for(var h=0;h<M;h++){for(var Y=0;Y<256;Y++){U[Y]=0}for(var Y=0;Y<16;Y++){F[Y]=0}for(var A=0;A<x;A++){var G=R?P-A-o:A;
for(var n=G,E=o+G;n<E;n++){var K=0-c+n,e=h-S+A;if(n==G){w[A]=K}if(K<0)K=0;else if(K>=l)K=l-1;if(e<0)e=0;
else if(e>=M)e=M-1;U[J[e*l+K]]++;F[J[e*l+K]>>>4]++}}var $=0,N=0;while($+F[N>>>4]<r){$+=F[N>>>4];N+=16}for(;
N<256;N++){$+=U[N];if($>=r)break}v[b++]=N;for(var Y=1;Y<l;Y++){for(var A=0;A<x;A++){var e=h-S+A,G=w[A]+1;
w[A]=G;var k=G-1,V=G+o-1;if(e<0)e=0;else if(e>=M)e=M-1;if(k<0)k=0;else if(k>=l)k=l-1;if(V<0)V=0;else if(V>=l)V=l-1;
U[J[e*l+k]]--;U[J[e*l+V]]++;F[J[e*l+k]>>>4]--;F[J[e*l+V]>>>4]++}$=0;N=0;while($+F[N>>>4]<r){$+=F[N>>>4];
N+=16}for(;N<256;N++){$+=U[N];if($>=r)break}v[b++]=N}}};g.B.W._G=function(J,v,x,o,R,r){var self=g.B.W,l=self.vS(1),M=self.vS(1);
for(var h=0;h<4;h++){self.Hd(J,l,h);if(h<3)self.j_(l,M,x,o,R,r);else M=l;self.ZL(M,v,h)}};g.B.W.ri=function(J,v,x,o,R){R=Math.min(o*x,R);
var self=g.B.W,r=self.BK,l=self.mq,M=o>>1,P=x>>1,S=0,c=new Int32Array(o),b=new Int32Array(256),w=new Int32Array(16);
for(var h=0;h<l;h++){for(var U=0;U<256;U++){b[U]=0}for(var U=0;U<16;U++){w[U]=0}for(var F=0;F<o;F++){for(var Y=0,A=x;
Y<A;Y++){var G=0-P+Y,n=h-M+F;if(Y==0){c[F]=G}if(G<0)G=0;else if(G>=r)G=r-1;if(n<0)n=0;else if(n>=l)n=l-1;
b[J[n*r+G]]++;w[J[n*r+G]>>>4]++}}var E=0,K=0;while(E+w[K>>>4]<R){E+=w[K>>>4];K+=16}for(;K<256;K++){E+=b[K];
if(E>=R)break}v[S++]=K;for(var U=1;U<r;U++){for(var F=0;F<o;F++){var n=h-M+F,e=c[F]+1;c[F]=e;var $=e-1,N=e+x-1;
if(n<0)n=0;else if(n>=l)n=l-1;if($<0)$=0;else if($>=r)$=r-1;if(N<0)N=0;else if(N>=r)N=r-1;b[J[n*r+$]]--;
b[J[n*r+N]]++;w[J[n*r+$]>>>4]--;w[J[n*r+N]>>>4]++}E=0;for(K=0;K<256;K++){E+=b[K];if(E>=R)break}v[S++]=K}}};
g.B.W.Yl=function(J,v,x,o,R){var self=g.B.W,r=self.vS(1),l=self.vS(1);for(var h=0;h<4;h++){self.Hd(J,r,h);
if(h<3)self.ri(r,l,x,o,R);else l=r;self.ZL(l,v,h)}};g.B.W.gA=function(J,v,x){var self=g.B.W,o=self.BK,R=self.mq,r=0;
for(var h=0;h<R;h++){var l=h*o,M=(h-1)*o,P=(h+1)*o;if(M<0)M=l;if(P>=R)P=l;for(var S=0;S<o;S++){var c=S-1,b=S+1;
if(c<0)c=S;if(b>=o)b=S;var w=l+c,U=l+b,F=M+S,Y=P+S,A=l+S,G=J[w],n=J[U],E=J[F],K=J[Y],e=J[A],$=e+(e*4*x+.5);
$=$-((G+n+K+E)*x+.5);v[r++]=self.V8($)}}};g.B.W.$u=function(J,v,x){var self=g.B.W,o=self.vS(1),R=self.vS(1);
for(var h=0;h<4;h++){self.Hd(J,o,h);if(h<3)self.gA(o,R,x);else R=o;self.ZL(R,v,h)}};g.B.W.aEw=function(J,v,x){var self=g.B.W,o=self.BK,R=self.mq,r=0,l=x+4;
for(var h=0;h<R;h++){var M=h*o,P=(h-1)*o,S=(h+1)*o;if(P<0)P=M;if(S>=R)S=M;for(var c=0;c<o;c++){var b=c-1,w=c+1;
if(b<0)b=c;if(w>=o)w=c;var U=M+b<<2,F=M+w<<2,Y=P+c<<2,A=S+c<<2,G=M+c<<2;for(var n=0;n<3;n++){var E=J[U+n],K=J[F+n],e=J[Y+n],$=J[A+n],N=J[G+n];
v[r++]=(N*x+E+K+$+e)/l}v[r]=J[r];r++}}};g.B.W.abP=function(J,v,x,o){var self=g.B.W,R=self.BK,r=self.mq,l=x>>1,M=o>>1,P=0,S=new Int32Array(x),c=new Int32Array(256);
for(var h=0;h<r;h++){for(var b=0;b<256;b++){c[b]=0}for(var w=0;w<x;w++){for(var U=0,F=o;U<F;U++){var Y=0-M+U,A=h-l+w;
if(U==0){S[w]=Y}if(Y<0)Y=0;else if(Y>=R)Y=R-1;if(A<0)A=0;else if(A>=r)A=r-1;c[J[A*R+Y]]++}}var G=0,n=0;
for(var E=0;E<256;E++){if(G<c[E]){n=E;G=c[E]}}v[P++]=n;for(var b=1;b<R;b++){for(var w=0;w<x;w++){var A=h-l+w,K=S[w]+1;
S[w]=K;var e=K-1,$=K+o-1;if(A<0)A=0;else if(A>=r)A=r-1;if(e<0)e=0;else if(e>=R)e=R-1;if($<0)$=0;else if($>=R)$=R-1;
c[J[A*R+e]]--;c[J[A*R+$]]++}G=0;n=0;for(var E=0;E<256;E++){if(G<c[E]){n=E;G=c[E]}}v[P++]=n}}};g.B.W.ard=[function(J,v,x,o,R,r,l,M,P,S){return R+(J+v+x)*S-(P+M+l)*S},function(J,v,x,o,R,r,l,M,P,S){return R+(v+x+r)*S-(M+l+o)*S},function(J,v,x,o,R,r,l,M,P,S){return R+(x+r+P)*S-(l+o+J)*S},function(J,v,x,o,R,r,l,M,P,S){return R+(r+P+M)*S-(o+J+v)*S},function(J,v,x,o,R,r,l,M,P,S){return R+(P+M+l)*S-(J+v+x)*S},function(J,v,x,o,R,r,l,M,P,S){return R+(M+l+o)*S-(v+x+r)*S},function(J,v,x,o,R,r,l,M,P,S){return R+(l+o+J)*S-(x+r+P)*S},function(J,v,x,o,R,r,l,M,P,S){return R+(o+J+v)*S-(r+P+M)*S}];
g.B.W.s8=function(J,v,x,o,R){var self=g.B.W,r=self.BK,l=self.mq,M=r,P=self.ard[o-1];for(var h=0;h<l;
h++){var S=(h>0?h-1:0)*M,c=h*M,b=(h<l?h+1:h)*M;for(var w=0;w<r;w++){var U=w>0?w-1:0,F=w<r?w+1:w,Y=c+w,A=J[S+U],G=J[S+w],n=J[S+F],E=J[c+U],K=v[Y],e=J[c+F],$=J[b+U],N=J[b+w],k=J[b+F];
x[Y]=self.V8(P(A,G,n,E,K,e,$,N,k,R))}}};g.B.W.adL=function(J,v,x,o,R){var self=g.B.W,r=self.vS(1),l=self.vS(1),M=self.vS(1);
for(var h=0;h<3;h++){self.Hd(J,r,h);self.Hd(v,l,h);self.s8(r,l,M,o,R);self.ZL(M,x,h)}self.Hd(v,r,3);
self.ZL(r,x,3)};g.B.W.bZ=function(J,v){var x=J.length,o=0;for(var h=0;h<x;h++){v[o++]=~~((J[h++]+J[h++]+J[h++]+2)/3)}};
g.B.W.zs=function(J,v){var x=v.length,o=0;for(var h=0;h<x;h++){var R=J[h];v[o++]=R;v[o++]=R;v[o++]=R;
v[o++]=255}if(v[0]==255)v[0]--;else v[0]++};g.B.W.oX=function(J,v){var x=v.length,o=0;for(var h=0;h<x;
h++){var R=J[o++],r=J[o++],l=J[o++];o++;if(r>R)R=r;if(l>R)R=l;v[h]=R}};g.B.W.EL=function(J,v){if(v==null)v=J;
var x=J.length;for(var o=0;o<x;o+=4){var R=J[o],r=J[o+1],l=J[o+2],M=R,P=0,S=R,b;if(r<=R){R=r}else{P=1;
S=r}if(l<=S){if(R>l){R=l}}else{P=2;S=l}var c=S-R;if(c!=0){if(P==0){b=~~(43*(r-l)/c)}else if(P==1){b=~~(43*(l+2*c-M)/c)}else{b=43*(M+4*c-r)/c}if(b<0){b=255&b-1}v[o]=b;
v[o+1]=~~(255*c/S)}else{v[o]=c;v[o+1]=c}v[o+2]=S;v[o+3]=J[o+3]}};g.B.W.$p=function(J,v){if(v==null)v=J;
var x=J.length;for(var o=0;o<x;o+=4){var R=J[o],r=J[o+1],l=J[o+2];if(r){if(R==255)R=0;var M=~~(6*R/255),P=~~(-255*M+6*R);
if(M==0){v[o]=l;v[o+1]=~~(l*(255-r*(255-P)/255)/255);v[o+2]=~~(l*(255-r)/255)}else if(M==1){v[o]=~~(l*(255-r*P/255)/255);
v[o+1]=l;v[o+2]=~~(l*(255-r)/255)}else if(M==2){v[o]=~~(l*(255-r)/255);v[o+1]=l;v[o+2]=~~(l*(255-r*(255-P)/255)/255)}else if(M==3){v[o]=~~(l*(255-r)/255);
v[o+1]=~~(l*(255-r*P/255)/255);v[o+2]=l}else if(M==4){v[o]=~~(l*(255-r*(255-P)/255)/255);v[o+1]=~~(l*(255-r)/255);
v[o+2]=l}else{v[o]=l;v[o+1]=~~(l*(255-r)/255);v[o+2]=~~(l*(255-r*P/255)/255)}}else{v[o]=l;v[o+1]=l;v[o+2]=l}v[o+3]=J[o+3]}};
g.B.W.ZL=function(J,v,x,o){if(x==null)x=2;if(o==null)o=4;var R=J.length;for(var h=0;h<R;h++){v[x]=J[h];
x+=o}};g.B.W.Hd=function(J,v,x,o){if(x==null)x=2;if(o==null)o=4;var R=v.length;for(var h=0;h<R;h++){v[h]=J[x];
x+=o}};g.B.W.apd=function(J,v,x,o){if(o==null)o=1;var R=v.length,r=0,l;for(var r=0;r<R;r++){l=v[r];if(l){l*=o;
x[r]=~~((l*J[r]+(255-l)*x[r])/255)}}};g.B.W.Y4=function(J,v,x,o){if(o==null)o=x;var R=v.length,r=0,l,M;
for(var h=0;h<R;h++){l=v[h];if(l){M=255-l;o[r]=~~((l*J[r]+M*x[r])/255);o[r+1]=~~((l*J[r+1]+M*x[r+1])/255);
o[r+2]=~~((l*J[r+2]+M*x[r+2])/255)}o[r+3]=J[r+3];r+=4}};g.B.W.dj=function(J,v,x,o){var R=~~(o*255),r=x.length;
for(var h=0;h<r;h++){x[h]=((255-R*(255-J[h])/255)*v[h]+J[h]*(R*(255-J[h])/255))/255}};g.B.W.zC=function(J,v,x,o){var R=~~(o*255),r=x.length;
for(var h=0;h<r;h++){x[h]=((255-R*J[h]/255)*v[h]+J[h]*(R*J[h]/255))/255}};g.B.W.NG=function(J,v,x){var o=v.length;
for(var h=0;h<o;h++){v[h]=~~(J[h]*x+.5)+(v[h]-~~(v[h]*x+.5))}};g.B.W.sub=function(J,v){var x=J.length;
for(var h=0;h<x;h++){v[h]=Math.max(J[h]-v[h],0)}};g.B.W.add=function(J,v){var x=J.length;for(var h=0;
h<x;h++){v[h]=Math.min(J[h]+v[h],255)}};g.B.W.abE=function(J,v){var x=J.length;for(var h=0;h<x;h++){v[h]=J[h]+v[h]}};
g.B.W.qN=function(J,v){var x=J.length;for(var h=0;h<x;h++){v[h]=J[h]+v[h]>>1}};g.B.W.oj=function(J,v){var x=J.length;
for(var h=0;h<x;h++){v[h]=J[h]}};g.B.W.DQ=function(J,v){var x=J.length;for(var h=0;h<x;h++){J[h]=v[J[h]]}};
g.B.W.a7e=function(J,v){var x=g.B.W.JD;for(var h=0;h<x;h+=4){var o=J[h],R=J[h+1],r=J[h+2],l=o;if(R>o)l=R;
if(r>o)l=r;var M=v[l];if(M){J[h]=~~(M*o/l);J[h+1]=~~(M*R/l);J[h+2]=~~(M*r/l)}else{J[h]=M;J[h+1]=M;J[h+2]=M}}};
g.B.W.fW=function(J,v){for(var h=0,x=J.length;h<x;h++){J[h]=Math.min(255,~~(.5+J[h]*v))}};g.B.W.qY=function(J,v){for(var h=0,x=J.length;
h<x;h++){J[h]=255-Math.min(255,~~(.5+(255-J[h])*v))}};g.B.W.SV=function(J){var v=J.length;for(var h=0;
h<v;h++){J[h]=255-J[h]}};g.B.W.Zp=function(J,v,x,o){if(x==null)x=0;if(o==null)o=255;for(var h=0,R=J.length;
h<R;h++){J[h]=J[h]>=v?o:x}};g.B.W.Po=function(J){return[J>>24&255,J>>16&255,J>>8&255,J&255]};g.B.W.aDh=function(J,v,x,o){if(x==null)x=255;
if(o==null)o=4278190335;var R=g.B.W,r=R.JD,l=R.Po(x),M=R.Po(o);for(var h=0;h<r;h+=4){var P=~~((J[h]+J[h+1]+J[h+2]+2)/3);
if(P>=v){J[h]=l[0];J[h+1]=l[1];J[h+2]=l[2]}else{J[h]=M[0];J[h+1]=M[1];J[h+2]=M[2]}}};g.B.W.Em=function(J,v){var x=g.B.W,o=x.JD,R=x.Po(v);
for(var h=0;h<o;){J[h++]=R[0];J[h++]=R[1];J[h++]=R[2];J[h++]=R[3]}};g.B.W.aDK=function(J,v){var x=J.length;
for(var h=0;h<x;){J[h++]=v}};g.B.W.aDB=function(J,v){J=J>5?(100-Math.max(4,J))/100:.95;v=v!=100?Math.max(4,v)/100:.9995;
var x=new Uint8Array(256),o=v>.5?.5/(1-v):v*2,R=~~(o*256),r=~~((.5-J*o)*256)<<8;for(var h=0;h<256;h++){x[h]=g.B.W.V8(r>>8);
r+=R}return x};g.B.W.l8=function(J){for(var h=0,v=g.B.W,x=J.length;h<x;h++){J[h]=~~(v.random()*256)}};
g.B.W.adF=function(J,v){for(var h=0,x=g.B.W,o=J.length;h<o;h++){J[h]=x.random()<v?255:0}};g.B.W.aDu=function(J,v,x){for(var h=0,o=g.B.W,R=J.length;
h<R;h++){if(o.random()<v)J[h]=x}};g.B.W.are=function(J,v,x){var o=J.length;for(var h=0;h<o;h++){J[h]=g.B.W.V8(J[h]+x[v[h]])}};
g.B.W.kw=function(J){var v=new Uint32Array(256);for(var h=0,x=J.length;h<x;h++)v[J[h]]++;return v};g.B.W.afS=function(J,v){var x=0,o=0,R=new Uint32Array(256),r=new Float32Array(256);
for(var h=0,l=J.length;h<l;h++){var M=J[h],P=v[h];if(P==255){R[M]++;x++}else if(P>0){P/=255;o+=P;r[M]+=P;
if(o>=1){o--;x++}if(r[M]>=1){r[M]--;R[M]++}}}return[x,R]};g.B.W.MU=function(J,v,x,o){var self=g.B.W,R,r,c=0,w=256;
if(o){var l=self.afS(x,o);R=l[1];r=l[0]/100}else{R=self.kw(x);r=self.XV/100}var M=new Uint8Array(256),P=r*J,S=r*v,b=-1;
do{c+=R[++b]}while(c<=P);c=0;do{c+=R[--w]}while(c<=S);if(w-b<=0)w=b+1;if(w>255){w=255;b=254}var U=255/(w-b),F=-b;
for(var h=0;h<256;h++){M[h]=self.V8(U*F+.5);F++}return M};g.B.W.oL=function(J,v,x,o){var R=g.B.W;R.DQ(J,R.MU(v,x,J,o))};
g.B.W.aj6=function(J,v){var self=g.B.W,x=self.kw(J),o=self.XV*v/100,R=0,r=-1;do{R+=x[++r]}while(R<=o);
return r};g.B.W.vl=function(J,v){var x=0,self=g.B.W,o=self.BK,R=self.mq,r=1/Math.PI,l=r*255;for(var h=0;
h<R;h++){var M=h+1;if(M==R)M--;var P=h*o,S=~~((1-(h+1)/R)*255);for(var c=0;c<o;c++){var b=c+1;if(b==o)b--;
var w=J[P+c],U=J[P+b],F=J[M*o+c];if(w-F==0){v[x++]=S}else{var Y=w-F+255;if(Y==255){Y=0}else{Y=~~(Math.atan2(1/(255-Y),1)*l+.5);
if(Y<0)Y+=255}v[x++]=Y}if(w-U==0){v[x++]=~~((1-(c+1)/o)*255)}else{var Y=w-U+255;if(Y==255){Y=0}else{Y=~~(Math.atan2(1/(255-Y),1)*l+.5);
if(Y<0)Y+=255}v[x++]=Y}}}};g.B.W.awo=function(J,v){var self=g.B.W,x=self.BK,o=self.mq,R=0;for(var h=0;
h<o;h++){for(var r=0;r<x;r++){J[R]=~~(h*v+.5)+~~(J[R]*(1-v)+.5);R++;J[R]=~~(r*v+.5)+~~(J[R]*(1-v)+.5);
R++}}};g.B.W.atO=function(J,v,x,o){var self=g.B.W,R=self.BK,r=self.mq,l=0;for(var h=0;h<r;h++){for(var M=0;
M<R;M++){v[l]=~~(v[l]*(1-x)+.5)+~~(J[l]*o+.5);l++;v[l]=~~(v[l]*(1-x)+.5)+~~(J[l]*o+.5);l++}}};g.B.W.auV=function(J,v,x){var self=g.B.W,o=self.BK,R=self.mq,r=0,l=0;
for(var h=0;h<R;h++){for(var M=0;M<o;M++){var P=J[r++],S=J[r++];v[l++]=S%x>=2&&P%x>=2?255:0}}};g.B.W.aw1=function(J,v,x,o,R,r,l){var self=g.B.W,M=self.BK,P=self.mq,S=0,c=0,b=0;
for(var h=0;h<P;h++){var w=h%J<x||P-x<=h;for(var U=0;U<M;U++){l[S++]=w||U%v<o||M-o<=U?R:r}}};g.B.W.pr=function(J,v,x,o){var self=g.B.W,R=self.BK,r=self.mq,l=j$.pr(v),M=l[1],P=l[0].r,S=l[0].$,c=100/x;
for(var b=0;b<r;b++)for(var w=0;w<R;w++){var U=g.O.RX(w*c,b*c,M,P,S);J[b*R+w]=o?255-U:U}};g.B.W.V8=function(J){return~~Math.min(255,Math.max(0,J))};
g.B.W.aw5=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];g.B.W.al9=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
g.B.W.g7=function(J){return J>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][J-41]:J/40};g.B.W.ajE=function(J,v,x){var self=g.B.W,o=self.BK,R=self.mq,r=x,l=x>>1,M=l-1,P=r*r,S=0;
for(var h=0;h<R;h++){var c=0,b=0,w=0,U=~~(h/x)*x,F=0;for(var Y=0;Y<r;Y++){for(var A=0;A<r;A++){var G=F+A,n=U+Y;
if(G>=o)G=o-1;if(n>=R)n=R-1;c+=J[n*o+G<<2];b+=J[(n*o+G<<2)+1];w+=J[(n*o+G<<2)+2]}}var E=~~(c/P),K=~~(b/P),e=~~(w/P);
v[S]=E;v[S+1]=K;v[S+2]=e;v[S+3]=J[S+3];S+=4;for(var $=1;$<o;$++){for(var Y=0;Y<r;Y++){var N=$-1,k=N+r,n=U+Y;
if(k>=o)k=o-1;if(n>=R)n=R-1;var V=n*o,X=V+k<<2,Q=V+N<<2;c+=J[X]-J[Q];b+=J[X+1]-J[Q+1];w+=J[X+2]-J[Q+2]}if($%x==0){E=~~(c/P);
K=~~(b/P);e=~~(w/P)}v[S]=E;v[S+1]=K;v[S+2]=e;v[S+3]=J[S+3];S+=4}}};g.B.W.asP=function(J,v,x,o,R){var self=g.B.W,r=self.BK,l=self.mq,M=0,P=0,S=0,c=0;
for(var h=c;h<l+c;h++){var b=h%v>=o||h<o||l+c-o<=h;for(var w=0;w<r;w++){J[M++]=b&&(w%x>=R||w<R||r-R<=w)?255:0}}};
g.B.W.acz=function(J,v,x){var o=function(S,c){return c<=S?S/c&1?c-S%c:S%c:S},R=[function(M,P){return o(M,255)/255},function(M,P){return(255+o(M,255)-o(P,255))/510},function(M,P){return(255-o(P,255))/255},function(M,P){return(510-o(M,255)-o(P,255))/510},function(M,P){return(255-o(M,255))/255},function(M,P){return(255-o(M,255)+o(P,255))/510},function(M,P){return o(P,255)/255},function(M,P){return(o(M,255)+o(P,255))/510}][x],r=0,l=0;
for(var h=0;h<g.B.W.XV;h++){var M=J[r++],P=J[r++];v[l++]=~~(255*R(M,P))}};g.B.a4p=function(){var J=[],v=new Uint8Array(512),x=new Float32Array(512),o=new Float32Array(512),R=[1,-1,1,-1,1,-1,0,0],r=[1,1,-1,-1,0,0,1,-1],l=0,M,F=0;
for(;l<256;l++)J[l]=l;while(l!=0){l--;M=Math.floor(Math.random()*l);J[M]^=J[l]^(J[l]=J[M])}function P(P){P=Math.floor(P*65536);
if(P<256){P|=P<<8}for(var h=0;h<256;h++){var G=h+256,n=J[h]^(h&1?P:P>>8)&255;v[h]=v[G]=n;n=n%8;x[h]=x[G]=R[n];
o[h]=o[G]=r[n]}}function S(G){return G*G*G*(G*(G*6-15)+10)}function c(G,n,E){return(1-E)*G+E*n}function b(G,n){return G&n}function w(G,n){return G%n}function U(G,n,E,K,e){var $=Math.floor(G),N=Math.floor(n),l,k,V,X,Q,L;
G=G-$;n=n-N;$=$&255;N=N&255;l=$+v[N];X=x[l]*G+o[l]*n;l=$+v[e(N+1,K)];V=x[l]*G+o[l]*(n-1);l=e($+1,E)+v[N];
Q=x[l]*(G-1)+o[l]*n;l=e($+1,E)+v[e(N+1,K)];L=x[l]*(G-1)+o[l]*(n-1);k=S(G);return c(c(X,Q,k),c(V,L,k),S(n))}function Y(G,l,n){G[l]=n}function A(G,n,E,K,e){var $=Math.min(Math.min(n,256),Math.min(256,E)),N=$==256||$<8,k=8,V=new Uint32Array(k),X=new Uint32Array(k),Q=new Float32Array(k),L=new Float32Array(k),_=1,a=1,T=N?b:w,f=Y,Z;
for(var h=0;h<k;h++){Z=a*1/$;if(N){X[h]=(1<<Math.ceil(Math.log2(E*Z)))-1;V[h]=(1<<Math.ceil(Math.log2(n*Z)))-1}else{X[h]=Z*E;
V[h]=Z*n}Q[h]=_;L[h]=Z;_*=.5;a=a<<1}P(Math.random());for(var W=0,l=0;W<E;W++){for(var D=0;D<n;D++){var C=0;
for(var d=0;d<k;d++){Z=L[d];C+=U(D*Z,W*Z,V[d],X[d],T)*Q[d]}f(K,l++,Math.round(Math.max(0,255*Math.min(1,.5+C*.5))))}}}return A}();
g.B.aGj=function(){function J(v,x,o,R){var r=new Uint8Array(v.length>>>2),l=new Uint8Array(v.length>>>2),M=new Uint8Array(v.length);
for(var h=0;h<v.length;h+=4){var P=v[h+0]*.3+v[h+1]*.59+v[h+2]*.11;l[h>>>2]=P;M[h]=v[h];M[h+1]=v[h+1];
M[h+2]=v[h+2]}g.yJ.aIy(l,r,x,o);g.yJ.Ty(v,R,x,o,g.yJ.lW[1],!1,!0);for(var h=0;h<v.length;h+=4){M[h+3]=255-r[h>>>2]}for(var h=0,S=v.length;
h<S;h+=4){var c=M[h+3]/255;R[h]=M[h]*c+R[h]*(1-c);R[h+1]=M[h+1]*c+R[h+1]*(1-c);R[h+2]=M[h+2]*c+R[h+2]*(1-c)}}return J}();
g.B.apv=function(){function J(r,l,M,P,S){var c=new Uint32Array(r.buffer),b=0;for(var h=0;h<M;h++){for(var w=0;
w<l;w++,b+=4){var U=c[h*l+w],F=U&255,Y=U>>>8&255,A=U>>>16&255,G=U>>>24&255,n=~~(Math.random()*8),E=n%3,K=0,e=0;
if(n<3){e--}else if(n>4){e++}if(E==0){K--}else if(E==2){K++}var $=w+K,N=h+e;if($<0)$=0;else if($>l-1)$=l-1;
if(N<0)N=0;else if(N>M-1)N=M-1;var U=c[N*l+$],k=U&255,V=U>>>8&255,X=U>>>16&255,Q=U>>>24&255;P[b]=S(F,k);
P[b+1]=S(Y,V);P[b+2]=S(A,X);P[b+3]=S(G,Q)}}}function v(r,l){return l}function x(r,l){return r>l?l:r}function o(r,l){return r<l?l:r}function R(r,l,M,P,S){var c=S[0];
if(c==0)J(r,l,M,P,v);else if(c==1)J(r,l,M,P,x);else if(c==2)J(r,l,M,P,o);else if(c==3){console.error("Not implemented")}else console.error("Mew mew")}return R}();
g.B.a7O=function(){function J(v,x,o,R,r){var l=r&&r[0]?r[0]:4,M,P,S,c,b,w,U;for(var h=0;h<o;h++){var F=Math.max(h-l,0),Y=Math.min(h+l,o-1);
for(var A=0;A<x;A++){var G=Math.max(A-l,0),n=Math.min(A+l,x-1);M=F*x+G<<2;c=v[M];b=v[M+1];w=v[M+2];U=v[M+3];
M=F*x+n<<2;c+=v[M];b+=v[M+1];w+=v[M+2];U+=v[M+3];M=Y*x+G<<2;c+=v[M];b+=v[M+1];w+=v[M+2];U+=v[M+3];M=Y*x+n<<2;
c+=v[M];b+=v[M+1];w+=v[M+2];U+=v[M+3];M=h*x+A<<2;R[M]=c+2>>>2;R[M+1]=b+2>>>2;R[M+2]=w+2>>>2;R[M+3]=U+2>>>2}}}return J}();
g.B.asS=function(){function J(v,x,o,R){var r=new Uint8Array(v.length),l=new Uint8Array(v.length>>>2),M=new Uint8Array(v.length>>>2);
g.yJ.Ty(v,r,x,o,g.yJ.lW[2],!1,!0);for(var h=0;h<v.length;h+=4){var P=r[h+0]*.3+r[h+1]*.59+r[h+2]*.11;
l[h>>>2]=P;R[h+0]=v[h+0];R[h+1]=v[h+1];R[h+2]=v[h+2];R[h+3]=v[h+3]}g.yJ.aIy(l,M,x,o);for(var h=0;h<v.length;
h+=4){r[h+3]=~~(Math.max(0,255-M[h>>>2]-50)*(255/205))}for(var h=0,S=v.length;h<S;h+=4){var c=r[h+3]/255;
R[h]=r[h]*c+R[h]*(1-c);R[h+1]=r[h+1]*c+R[h+1]*(1-c);R[h+2]=r[h+2]*c+R[h+2]*(1-c)}}return J}();g.B.kA=function(){function J(n,E){return n[E]+n[E+1]+n[E+2]+n[E+3]}function v(n,E){return n[E]+n[E+1]+n[E+2]+2*n[E+3]}function x(n,E,K,e){n[E]=K[e];
n[E+1]=K[e+1];n[E+2]=K[e+2];n[E+3]=K[e+3]}function o(n,E,K){n[E]=n[K];n[E+1]=n[K+1];n[E+2]=n[K+2];n[E+3]=n[K+3]}function R(n,E,K){n[K]=E[K];
n[K+1]=E[K+1];n[K+2]=E[K+2];n[K+3]=255-E[K+3]}function r(n){for(var h=0,E=n.length;h<E;h+=4){n[h+3]=255-n[h+3]}}function l(){var n=Math.random();
if(n>.5)return 0;if(n>.25)return 1;if(n>.1)return 2;if(n>.02143)return 3;if(n>.00445)return 4;if(n>65e-5)return 5;
if(n>415e-6)return 6;if(n>55e-6)return 7;return 8}function M(n,E,K,e,$,N){n[E]=K[e]+($[N]-K[e]>>1);n[E+1]=K[e+1]+($[N+1]-K[e+1]>>1);
n[E+2]=K[e+2]+($[N+2]-K[e+2]>>1);n[E+3]=K[e+3]+($[N+3]-K[e+3]>>1)}function P(n,E,K,e,$,N){n[E]=$[N]+K[e]>>1;
n[E+1]=$[N+1]+K[e+1]>>1;n[E+2]=$[N+2]+K[e+2]>>1;n[E+3]=$[N+3]+K[e+3]>>1}function S(n,E,K,e,$,N,k,V,X){var Q=0,L=0,_=0,h,a=$[N],T;
M(V,0,n,E,n,K);for(h=0;h<a;h++){M(V,(h+1)*4,V,h*4,n,K)}L=(a+1)*4;_+=a;N--;x(n,E,V,L-4);e[N]=J(n,E);E-=X;
while(N>0&&e[N-1]<e[N]){T=V;V=k;k=T;Q=L;P(V,0,n,E-X,k,0);for(h=4;h<Q;h+=4){P(V,h,V,h-4,k,h)}a=$[N];for(h=_;
h<a;h++){M(V,L,V,L-4,k,Q-4);L+=4;_++}N--;x(n,E,V,L-4);e[N]=J(n,E);E-=X}}function c(n,E,K,e,$){var N=E*4,k=0,V,X,Q=new Uint8Array(E+1),L=new Uint8Array(10*4),_=new Uint8Array(10*4);
for(var h=0;h<K;h++){R(e,n,k);$[0]=J(e,k);Q[0]=l();V=k;k+=4;for(var a=1;a<E;a++){R(e,n,k);$[a]=J(e,k);
X=l();Q[a]=X;if($[a-1]<$[a]&&X>0){S(e,k-4,k,$,Q,a,L,_,4)}k+=4}$[E]=$[0];Q[E]=Q[0];if($[E-1]<$[E]&&X>0){S(e,k,V,$,Q,E,L,_,4)}}r(e)}function b(){var n=Math.random();
if(n>.659755)return 0;if(n>.1625)return 10;if(n>.06)return 20;if(n>.01)return 30;if(n>.0035)return 40;
if(n>65e-5)return 50;if(n>415e-6)return 60;if(n>55e-6)return 70;return 80}function w(n,E,K,e,$,N){var k=b()+1,V=e[$];
for(var h=1;h<k;h++){if(0>$)break;if(e[$-h]<V){o(n,E,K)}else{break}E+=N}}function U(n,E,K,e,$){var N=E*4,k=0;
for(var h=0;h<K;h++){R(e,n,k);$[0]=J(e,k);k+=4;for(var V=1;V<E;V++){R(e,n,k);$[V]=J(n,k);if($[V-1]<$[V]){w(e,k-4,k,$,V,-4)}k+=4}$[E]=$[0];
if($[V-1]<$[V]){w(e,k-4,k-N,$,V,-4)}}r(e)}function F(n,E,K,e,$,N){var k=1,V,X,Q=new Uint8Array(4),L,_=E;
while(Math.random()<1/k){_=E;if(e<=1)break;V=K[e];X=K[e-1];if(V<=X)break;x(Q,0,n,_-N);L=!0;for(var h=e;
h<$;h++){if(X>K[h]){x(n,_-N,Q,0);K[h-1]=X;L=!1;break}x(n,_-N,n,_);K[h-1]=K[h];_+=N}if(L){x(n,_-N,Q,0);
K[$-1]=X}k++;e--;E-=N}}function Y(n,E,K,e,$){var N=0,k=0,V=E*4;for(var h=0;h<K;h++){k=N;for(var X=0;
X<E;X++){R(e,n,N);$[X]=v(e,N);N+=4}N=k;for(var X=1;X<E;X++){if($[X-1]<$[X]&&Math.random()<.66){F(e,N+4,$,X,E,4)}N+=4}N+=4}r(e)}function A(n,E,K,e,$){var N=$[0],k=$[1],V=new Uint16Array(E+1),X=n,Q=e,L;
if(k){L=e.slice(0);G(n,e,E,K);X=e;Q=L}if(N==0)c(X,E,K,Q,V);else if(N==1)U(X,E,K,Q,V);else if(N==2)Y(X,E,K,Q,V);
if(k){G(L,e,E,K)}}function G(n,E,K,e){for(var $=0;$<e;$++)for(var N=0;N<K;N++){var k=$*K+N<<2,V=$*K+(K-1-N)<<2;
E[V]=n[k];E[V+1]=n[k+1];E[V+2]=n[k+2];E[V+3]=n[k+3]}}return A}();g.B.auJ=function(J,v,x,o,R){var r=g.B.W,l=1,A=0,E=0;
r.pU(v,x);r.cc(R[2]);var M=3<<13,P=Math.PI/2.43,S=P/256,c=Math.PI*2/256;function b(){var N=r.random()*256,k=r.random()*256;
return l*~~(Math.tan(P-N*S)*325*Math.cos(k*c)*256)+M>>16}l=R[0];var w=R[1],U=(w+2)/2,F=r.random()*255,Y=r.vS(1);
for(var h=0;h<x;h++){var G=r.V8(b()+F);for(var n=0;n<v;n++){G=r.V8(b()+G);Y[A++]=G}}A=v;for(var h=1;
h<x;h++){var K=r.V8(b()+Y[E++]);Y[A++]=K;for(var n=1;n<v;n++){var e=E+1;if(n+1==v){e--}var $=(U+K+Y[e]+Y[E]*w)/(w+2);
K=r.V8(b()+$);Y[A++]=K;E++}}r.zs(Y,o)};var jM=function(){function J(i){i=i^61^i>>>16;i=i+(i<<3);i=i^i>>>4;
i=i*668265261;i=i^i>>>15;return i}var v=function(){var v=function(i){if(i){this.o5=i}this.o5=J(this.o5);
return(this.o5&16777215)*(1/16777215)};return v};function x(i,t){if(t==null){t=[0,0]}return Math.sqrt((t[0]-i[0])*(t[0]-i[0])+(t[1]-i[1])*(t[1]-i[1]))}function o(i,t){if(t==null){t=[0,0]}return[-(t[1]-i[1])/x(i,t),(t[0]-i[0])/x(i,t)]}function R(i){return[Math.cos(i),Math.sin(i)]}function r(i){var t=x(i,[0,0]),O=[i[0]/t,i[1]/t],q=Math.atan(O[1]/O[0]);
if(O[0]>0&&O[1]<0){q+=2*Math.PI}else if(O[0]<0&&O[1]<0){q+=Math.PI}else if(O[0]<0&&O[1]>0){q+=Math.PI}return q}function l(i){var l=0;
for(var h=1;h<i.length/2;++h){l+=x([i[2*h],i[2*h+1]],[i[2*(h-1)],i[2*(h-1)+1]])}return l}function M(i,t,O){var q=new Float32Array(i.length),z=1/(i.length/2),jw=e(O);
for(var h=0;h<i.length/2;++h){var u=h*z,iH=u/2+.5,s=1,bV=0;if(O.shape==2){s=1/(2*iH)}if(O.shape==3){iH=(1-u)/2+.5;
s=1/(2*iH)+.5}if(O.shape==4){iH=u;s=Math.sin(3/2*Math.PI*iH)/4+1}if(O.shape==5){iH=(u-.5)*6;s=(-Math.atan(iH)/1.25+1)/5+.6-.2*u}var jU=[null,null];
if(h==0){jU=o([i[2*h],i[2*h+1]],[i[2*(h+1)],i[2*(h+1)+1]])}else if(h==i.length/2-1){jU=o([i[2*(h-1)],i[2*(h-1)+1]],[i[2*h],i[2*h+1]])}else{jU=o([i[2*(h-1)],i[2*(h-1)+1]],[i[2*(h+1)],i[2*(h+1)+1]])}q[2*h]=i[2*h]+(s*t+bV)*jU[0];
q[2*h+1]=i[2*h+1]+(s*t+bV)*jU[1];if(O.style==2){q[2*h]+=$(2*h/q.length,jw,O)}}return q}function P(i,t,O){var q=new Float32Array(i.length),z=1/(i.length/2);
for(var h=0;h<i.length/2;++h){var jw=h*z,u=[null,null],iH=.6*O._2*V(jw,t.awx)*O.qa/100,s=.6*O._2*V(jw,t.apm)*O.qa/100,bV=t.aiy*iH+(1-t.aiy)*s;
if(h==0){u=o([i[2*h],i[2*h+1]],[i[2*(h+1)],i[2*(h+1)+1]])}else if(h==i.length/2-1){u=o([i[2*(h-1)],i[2*(h-1)+1]],[i[2*h],i[2*h+1]])}else{u=o([i[2*(h-1)],i[2*(h-1)+1]],[i[2*(h+1)],i[2*(h+1)+1]])}q[2*h]=i[2*h]+bV*u[0];
q[2*h+1]=i[2*h+1]+bV*u[1]}return q}function S(i){if(i.g9==1){return[.150684932,.205479452,.465753425,.178082192]}else if(i.g9==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var t=[],O=1/(_(i)-1);
for(var h=0;h<_(i)-1;++h){t.push(O)}return t}}function c(i,t,O){var q=[],z=t-i,jw=i;for(var h=0;h<O.length-1;
++h){q.push(jw+O[h]*z);jw=q[h]}return q}function b(i,t,O,q){var z=new Float32Array(O.length),jw=0,u={shape:Math.floor(q.random()*2.99),ab_:q.random()*.1+.15};
for(var h=0;h<O.length-1;++h){var iH=jw+O[h];z[h]=((1-iH)*i+iH*t)*G(q,iH,u);jw=iH}return z}function w(i,t,O,q){var z=Q(q),jw=q.random(),u=jw*20+(1-jw)*26,iH=new Float32Array(O.length),s=0;
for(var h=0;h<O.length-1;++h){var bV=s+O[h];iH[h]=(1-bV)*i+bV*t+z/u*(2/3*Math.sin(Math.PI*bV)+1/3*Math.sqrt(Math.sin(Math.PI*bV)));
s=bV}return iH}function U(i,t,O){var q=[];for(var h=0;h<t.length-1;++h){q.push(t[h].slice());var z=h*(_(O)-1),jw=(h+1)*(_(O)-1),u=i[jw]-i[z];
for(var iH=z+1;iH<jw;++iH){var s=e(O),bV=new Float32Array(t[0].length),jU=(i[iH]-i[z])/u;for(var hx=0;
hx<t[0].length/2;++hx){bV[2*hx]=(1-jU)*t[h][2*hx]+jU*t[h+1][2*hx];bV[2*hx+1]=(1-jU)*t[h][2*hx+1]+jU*t[h+1][2*hx+1];
if(O.style==2){bV[2*hx]+=$(2*hx/t[0].length,s,O)}}q.push(bV)}}q.push(t[t.length-1]);return q}function F(i,t,O){var q=new Array(t.length),z=C(i),u=null;
for(var h=0;h<t.length;++h){q[h]=M(z,(t[h]-.5)*O.qa,O)}var jw=1+.05*O.a98*Q(O)/Q({g9:1});for(var h=0;
h<t.length;++h){if(t[h]==0){u=h}}for(var h=0;h<t.length;++h){var iH=(O.random()-.5)*2,s=Math.round(O.random()*9+1),bV=new Float32Array(s*2+2);
for(var jU=0;jU<=s;++jU){bV[2*jU]=q[h][0]-(q[h][2*jU]-q[h][0]);bV[2*jU+1]=q[h][1]-(q[h][2*jU+1]-q[h][1])}if(h==u){iH*=.1}for(var jU=(q[h].length-1)/2;
jU>s;--jU){q[h][2*jU]=(1-iH)*q[h][2*jU]+iH*(q[h][2*(jU-s)]+jw*(q[h][2*jU]-q[h][2*(jU-s)]));q[h][2*jU+1]=(1-iH)*q[h][2*jU+1]+iH*(q[h][2*(jU-s)+1]+jw*(q[h][2*jU+1]-q[h][2*(jU-s)+1]))}for(var jU=s-1;
jU>=0;--jU){q[h][2*jU]=(1-iH)*q[h][2*jU]+iH*(bV[2*(s-jU)]+jw*(q[h][2*jU]-bV[2*(s-jU)]));q[h][2*jU+1]=(1-iH)*q[h][2*jU+1]+iH*(bV[2*(s-jU)+1]+jw*(q[h][2*jU+1]-bV[2*(s-jU)+1]))}}var hx=k(t,O);
if(O._2>0){var eX=0;for(var h=0;h<t.length;++h){if(h==0){eX+=t[h]}else{eX+=Math.abs(t[h]-t[h-1])}var et=eX-Math.floor(eX),f7=1;
if(et==0){f7=0}q[h]=P(q[h],{awx:hx[Math.floor(eX)],apm:hx[Math.floor(eX)+f7],aiy:et},O)}}return q}function Y(i,t){var O=f(t,i),q=Z(t,i),z=[],jw=[],u=[],iH=S(i);
for(var h=0;h<t.length-1;++h){z.push(t[h]);jw.push(O[h]);u.push(q[h]);var s=c(t[h],t[h+1],iH),bV=b(O[h],O[h+1],iH,i),jU=w(q[h],q[h+1],iH,i);
for(var hx=0;hx<s.length;++hx){z.push(s[hx]);jw.push(bV[hx]);u.push(jU[hx])}}z.push(t[t.length-1]);jw.push(O[O.length-1]);
u.push(q[q.length-1]);return{a1g:z,ajh:jw,YU:u}}function A(i,t,O,q){var z=new Float32Array(2*q),jw=i.length/2,u=jw-t,iH=O*u,s=iH/q;
for(var h=0;h<q;++h){var bV=Math.floor(t+h*s),jU=Math.ceil(t+h*s),O=t+h*s,hx=jU-bV,eX=1,et=0;if(hx!=0){eX=(jU-O)/hx;
et=(O-bV)/hx}z[2*h]=eX*i[2*bV]+et*i[2*jU];z[2*h+1]=eX*i[2*bV+1]+et*i[2*jU+1]}return z}function G(i,t,O){var q=O.ab_,z=t*2*Math.PI,jw=z,u=0;
if(O.shape==0){u=(Math.sin(2*jw+Math.PI/2)+1)/2}else if(O.shape==1){u=(Math.sin(jw+Math.PI/2)+1)/2}else{u=(4*Math.sin(3/4*jw+Math.PI)+Math.sin(Math.PI/2+2*jw)-2*jw/Math.PI+6)/7}return Math.min(1,1-q+q*u)}function n(i,t,O,q){var z=[];
for(var h=0;h<i.length;++h){z.push(A(i[h],t[h],O[h],q))}return z}function E(i,t,O){var q=[];for(var h=0;
h<i.length;++h){var z=R(2*Math.PI*O.random()),jw=R(2*Math.PI*O.random()),u=O.a5*.5*a({g9:1})/a(O),iH=u*O.qa/200,s=u*t/500,bV=new Float32Array(i[0].length);
for(var jU=0;jU<i[0].length/2;++jU){var hx=R(2*Math.PI*O.random()),eX=2*jU/i[0].length;bV[2*jU]=i[h][2*jU]+iH*(hx[0]+((1-eX)*z[0]+eX*jw[0]));
bV[2*jU+1]=i[h][2*jU+1]+s*(hx[1]+((1-eX)*z[1]+eX*jw[1]))}q.push(bV)}return q}function K(i,t,O){var q=O.xF,z=2/q,jw=[1/10,1/30,1/40,1/45,1/100],u=jw[O.g9-1],iH=4*(O.fc/25*z*u)*(1-O.a5/150),hx=0,et=0;
if(O.style==3){return iH*.09}var s=2.2*(i-.5),bV=s*s*s*s+.27+Math.max(0,(O.fc-50)/15),jU=2*(Math.sin(3*Math.PI*t)/(Math.PI*t+2)+1.1)-t/2;
t=2*t;if(t<.41){var eX=2*Math.PI*t/.41;hx=(Math.sin(eX-Math.PI/2)+1)/4+.5}else if(t<.77){var eX=2*Math.PI*(t-.41)/.36;
hx=(Math.sin(eX-Math.PI/2)+1)/4+.5-eX/2/Math.PI*.5}else{var eX=2*Math.PI*(t-.77)/.23;hx=(Math.sin(eX-Math.PI/2)+1)/2*.12}hx*=3;
hx+=Math.max(0,(O.fc-50)/15);if(O.e==6){et=jU}else{et=hx}return iH*bV*et}function e(i){return{m:i.random()*7/2+.5,Nu:i.random()*2*Math.PI}}function $(i,t,O){return O.qa/300*_({g9:1})/_(O)*10*(Math.sin(t.m*2*Math.PI*i+t.Nu)+10*(O.random()-.5))}function N(i){var t=Math.exp(-i._2/25);
return{m:i.random()*3/2+.5,Nu:i.random()*2*Math.PI,wC:(i.random()-.5)*10*t}}function k(i,t){var O=Math.ceil(W(i)),q=[];
for(var h=0;h<=O;++h){q.push(N(t))}return q}function V(i,t){var O=t.m*4*Math.PI*i+t.Nu;return Math.exp(-1/2*Math.PI*i)*Math.cos(O)*Math.cos(O)*Math.cos(O)*Math.cos(O)*Math.cos(O)+i*t.wC-t.wC/4}function X(i,t,O,q,z){var jw=0,u=a(t)-1;
for(var h=0;h<u;++h){for(var iH=0;iH<i.length-1;iH+=_(t)-1){for(var s=h;s<i[0].length/2-u;s+=u){for(var bV=iH;
bV<iH+(_(t)-1);++bV){O[z+jw]=K(bV*(t.xF-1)/(i.length-1)%1,s/i[0].length,t);var jU=0,hx=0;if(t.e==6&&bV!=0&&bV!=i.length-1){hx=(i[bV][2*(s+1)+1]-i[bV][2*s+1])/2;
jU=(i[bV][2*(s+1)]-i[bV][2*s])/2}q[8*z+8*jw]=i[bV][2*s]+jU;q[8*z+8*jw+1]=i[bV][2*s+1]+hx;q[8*z+8*jw+2]=i[bV][2*(s+u)]+jU;
q[8*z+8*jw+3]=i[bV][2*(s+u)+1]+hx;q[8*z+8*jw+4]=i[bV+1][2*(s+u)];q[8*z+8*jw+5]=i[bV+1][2*(s+u)+1];q[8*z+8*jw+6]=i[bV+1][2*s];
q[8*z+8*jw+7]=i[bV+1][2*s+1];++jw}}}}}function Q(i){var t=[100,300,500,700,1e3];return t[i.g9-1]}function L(i){var t=[30,70,100,140,300];
return t[i.g9-1]}function _(i){var t=[5,7,26,40,100];return t[i.g9-1]}function a(i){if(i.g9==1){return 4}else if(i.g9==2){return 8}else{return Math.floor(L(i)/9)}}function T(i){var t=i.xF,O=new Float32Array(t),q=null;
for(var h=0;h<t;++h){O[h]=i.random()}if(i.xF<=3){O[0]=0;O[i.xF-1]=1}else{for(var h=0;h<2;++h){var z=Math.floor(i.random()*t);
if(q==null||q!=z){O[z]=h;q=z}else{O[z+1]=h}}}return O}function f(i,t){var O=[],q=.2,jw=0;for(var h=0;
h<i.length;++h){var z=t.random()*(1-q)+q;O.push(z)}var u=Math.min(3,t.xF);for(var h=0;h<i.length;++h){if(O[h]>.9){++jw}}while(jw<u){var iH=Math.floor(t.random()*i.length);
if(O[iH]<=.9){O[iH]=.9+.1*t.random();++jw}}return O}function Z(i,t){var O=Q(t),q=Q({g9:1}),z=[];for(var h=0;
h<i.length;++h){z.push(Math.max(1,(t.random()*10+2)*O/q))}return z}function W(i){var t=0;for(var h=0;
h<i.length;++h){if(h==0){t+=i[h]}else{t+=Math.abs(i[h]-i[h-1])}}return t}function D(i,t){if(i.length/2-1==Q(t)){return i}var O=new Float32Array(2*(Q(t)+1)),q=(i.length-2)/(O.length-2);
for(var h=0;h<O.length/2;++h){var z=h*q,jw=Math.floor(z),u=Math.ceil(z),iH=u-jw,s=1,bV=0;if(iH!=0){s=(u-z)/iH;
bV=(z-jw)/iH}O[2*h]=s*i[2*jw]+bV*i[2*u];O[2*h+1]=s*i[2*jw+1]+bV*i[2*u+1]}return O}function C(i,t){var O=i.length/2,q=l(i),z=q/O,jw=!1,s=0,bV=0,jU=1;
if(t){var u=Math.floor(q/t.a8U),iH=t.a8U;if(t.aad&&i[0]==i[i.length-2]&&i[1]==i[i.length-1]){jw=!0;iH=q/(u+1)}if(t.e==2&&!jw&&iH*u+t.length>q){O=u+1}else{O=u+2}z=iH}var hx=new Float32Array(O*2);
hx[0]=i[0];hx[1]=i[1];for(var h=1;h<O;++h){while(s<=h*z){bV=s;s+=x([i[2*jU],i[2*jU+1]],[i[2*(jU-1)],i[2*(jU-1)+1]]);
++jU}var eX=1-(h*z-bV)/(s-bV);hx[2*h]=(1-eX)*i[2*jU]+eX*i[2*(jU-1)];hx[2*h+1]=(1-eX)*i[2*jU+1]+eX*i[2*(jU-1)+1]}hx[hx.length-2]=i[i.length-2];
hx[hx.length-1]=i[i.length-1];return hx}function d(i,t){var O=C(i,t),q=[];for(var h=0;h<(O.length-2)/2;
++h){var z=[];z.push(O[2*h]);z.push(O[2*h+1]);var jw=x([O[2*(h+1)],O[2*(h+1)+1]],[O[2*h],O[2*h+1]]),u=[(O[2*(h+1)]-O[2*h])/jw,(O[2*(h+1)+1]-O[2*h+1])/jw],iH=R((t.a4i-90)/360*2*Math.PI),s=u;
if(t.e==3){s=iH}else if(t.e==4){s=R(r(u)+r(iH))}else if(t.e==5){s=R(((t.random()-.5)*t.a4i-90)/360*2*Math.PI)}var bV=t.length;
if(t.asz){bV=2*t.random()*t.length}z.push(O[2*h]+s[0]*bV);z.push(O[2*h+1]+s[1]*bV);q.push(z)}return q}function p(i){if(i.aHl){i.Nx=100*Math.random()}else{i.Nx=i.aG6}i.random=new v;
i.random(i.Nx);if(i.e==6){i.xF=2;i.shape=5;i.a98=0}}function y(i,t){i=D(i,t);var O=[i],bV=0;if(t.e>=2&&t.e<6){O=d(i,t)}var q=a(t)-1,z=L(t)-q,jw=(t.xF-1)*(_(t)-1),u=O.length*z*jw,iH=new Float32Array(u),s=new Float32Array(8*u);
for(var h=0;h<O.length;++h){for(var jU=0;jU<1e4;++jU){t.Nx=J(t.Nx)}t.random(t.Nx);var i=D(O[h],t),hx=T(t),eX=W(hx),et=F(i,hx,t),f7=Y(t,hx),iY=U(f7.a1g,et,t);
iY=n(iY,f7.YU,f7.ajh,L(t));if(t.a5>0){iY=E(iY,l(O[h]),t)}X(iY,t,iH,s,bV);bV+=z*jw}return[iH,s]}var jM=function(i){var t=performance.now(),O=i[0],q=i[1];
p(q);var z=[new Float32Array(0),new Float32Array(0)];for(var h=0;h<O.length;++h){q.Nx=J(q.Nx);var jw=y(O[h],q),u=new Float32Array(z[0].length+jw[0].length),iH=new Float32Array(z[1].length+jw[1].length);
u.set(z[0]);u.set(jw[0],z[0].length);z[0]=u;iH.set(z[1]);iH.set(jw[1],z[1].length);z[1]=iH}var s=performance.now();
if(q.agu){console.Sl("Geometry: "+String(s-t)+"ms")}return z};return jM}(),hT=function(){function J(R,r){var l=[],M=0,P=r.length,S=0,c=0,b=new jj,w=0,U=1e9;
for(c=0;c<P;c++){var F=c*8,Y=r[c];if(Y<U)U=Y;var A=R[F+0],G=R[F+1],n=R[F+2],E=R[F+3],K=R[F+4],e=R[F+5],$=R[F+6],N=R[F+7],k=Math.min(A,n,K,$),V=Math.max(A,n,K,$),X=Math.min(G,E,e,N),Q=Math.max(G,E,e,N),L=new jj(k,X,V-k,Q-X),_=L.h0(b),a=w+Y;
if(c-S<10&&(c==S||_.o()*.8<L.o()+b.o())){b=_;w=a}else{l.push(c-S);S=c;b=L;w=Y;U=Y}}if(c!=S)l.push(c-S);
return l}function v(R,r,l,M,P,S){var c=document.createElement("canvas"),G=0,u=.8;c.width=r;c.height=l;
var b=c.getContext("2d"),w=P[0],U=P[1],F=new Float64Array(r*l),Y=Date.now(),A=J(U,w);for(var n=0;n<A.length;
n++){var E=G,K=G+A[n],N=1e9,V=1e9,f=0;G=K;var e=E*8,$=K*8,k=-N,X=-V;for(var Q=e;Q<$;Q+=2){var L=U[Q],_=U[Q+1];
if(L<N)N=L;if(L>k)k=L;if(_<V)V=_;if(_>X)X=_}N=Math.floor(N);k=Math.ceil(k);V=Math.floor(V);X=Math.ceil(X);
var a=k-N,T=X-V;for(var Z=E;Z<K;Z++)f+=w[Z];for(var Q=e;Q<$;Q+=8){var W=w[Q>>>3],D=U[Q+0],C=U[Q+1],d=U[Q+2],p=U[Q+3],y=U[Q+4],i=U[Q+5],t=U[Q+6],O=U[Q+7];
b.fillStyle="rgba(0,0,0,"+W/f+")";b.beginPath();b.moveTo(D,C);b.lineTo(d,p);b.lineTo(y,i);b.lineTo(t,O);
b.closePath();b.fill()}var q=b.getImageData(N,V,a,T).data;for(var _=0;_<T;_++)for(var L=0;L<a;L++){var h=_*a+L,z=q[h*4+3],jw=(V+_)*r+N+L;
if(z!=0)F[jw]+=z*f}b.clearRect(N,V,a,T)}var iH=S[1].color,s=Math.pow(iH.z/255,u),bV=Math.pow(iH.H/255,u),jU=Math.pow(iH.c/255,u),hx=new jj(0,0,r,l),eX=g.C(r*l*4);
for(var _=0;_<l;_++)for(var L=0;L<r;L++){var h=_*r+L,Z=h*4,w=F[h]*(1/255);eX[Z]=o(s,w);eX[Z+1]=o(bV,w);
eX[Z+2]=o(jU,w);eX[Z+3]=Math.min(255,w*255)}g.v.Ry("norm",eX,hx,M,hx,hx,1)}var x=new Uint8Array(2e3);
for(var h=0;h<2e3;h++)x[h]=255*Math.min(1,Math.log(h/700+1));function o(R,r){return x[Math.min(1500,~~(R*r*1e3))]}return v}(),dg=function(){var J=new Float32Array(3e3),v=new Float32Array(3e3),x=new Float32Array(256),o=new Float32Array(3e3);
function R(){var U=J.length;J[0]=Math.log10(157647e-9);for(var h=1;h<U;++h)J[h]=Math.log10(h/U)}function r(){var U=v.length;
for(var h=0;h<U;++h)v[h]=Math.pow(10,20*(h-U/2)/U)}function l(){var U=x.length;for(var h=0;h<U;++h)x[h]=g.zp(h/255)}function M(){var U=o.length;
for(var h=0;h<U;++h)o[h]=255*g.hR(h/(U-1))}function P(U,F){var Y=U.length>>>2;for(var h=0;h<Y;++h){var A=x[U[4*h]],G=x[U[4*h+1]],n=x[U[4*h+2]],E=.3811*A+.5783*G+.0402*n,K=.1967*A+.7244*G+.0782*n,e=.0241*A+.1288*G+.8444*n;
E=J[~~(E*J.length)];K=J[~~(K*J.length)];e=J[~~(e*J.length)];F[3*h]=(E+K+e)*.5773502692;F[3*h+1]=(E+K-2*e)*.4082482905;
F[3*h+2]=(E-K)*.7071067812}}function S(U,F){var Y=F.length>>>2,A=o.length-1;for(var h=0;h<Y;++h){var G=.5773502692*U[3*h],n=.4082482905*U[3*h+1],E=.7071067812*U[3*h+2],K=v[~~((G+n+E+10)*(3e3/20))],e=v[~~((G+n-E+10)*(3e3/20))],$=v[~~((G-2*n+10)*(3e3/20))],N=4.4679*K-3.5873*e+.1193*$,k=-1.2186*K+2.3809*e-.1624*$,V=.0497*K-.2439*e+1.2045*$;
F[4*h]=o[~~(A*Math.max(0,Math.min(1,N)))];F[4*h+1]=o[~~(A*Math.max(0,Math.min(1,k)))];F[4*h+2]=o[~~(A*Math.max(0,Math.min(1,V)))]}}function c(U){var F=0,Y=0,A=0;
for(var h=0;h<U.length;h+=3){F+=U[h];Y+=U[h+1];A+=U[h+2]}return[F/(U.length/3),Y/(U.length/3),A/(U.length/3)]}function b(U,c){var F=0,Y=0,A=0;
for(var h=0;h<U.length;h+=3){var G=U[h]-c[0],n=U[h+1]-c[1],E=U[h+2]-c[2];F+=G*G;Y+=n*n;A+=E*E}return[Math.sqrt(F/(U.length/3)),Math.sqrt(Y/(U.length/3)),Math.sqrt(A/(U.length/3))]}function w(U,F,Y,A,G,n){R();
r();l();M();var E=0,C,d;if(n[0]>100)E=-(n[0]-100)/100*.13;else if(n[0]>=75)E=(100-n[0])/25*.04;else if(n[0]>=50)E=.04+(75-n[0])/25*.04;
else if(n[0]>=25)E=.08+(50-n[0])/25*.08;else E=.16+(25-n[0])/25*.24;var K=(n[1]-100+100)/100,e=n[2]/100,$=n[3],N=new Float32Array(U.length*3/4),k=new Float32Array(A.length*3/4),V=Date.now();
P(U,N);P(A,k);var X=Date.now(),Q=c(N),L=c(k),_=Date.now(),a=b(N,Q),T=b(k,L),f=Date.now();L[0]*=Math.pow(10,E);
var Z=[T[0]/a[0],T[1]/a[1],T[2]/a[2]],W=N.length,D=1/-1.1546978950500488;for(var h=0;h<W;h+=3){if($){var p=Math.max(0,Math.min(1,N[h]*D));
p=1-Math.sqrt(p);C=p*L[1];d=p*L[2]}else{C=L[1];d=L[2]}N[h]=(N[h]-Q[0])*Z[0]+L[0];N[h+1]=(N[h+1]-Q[1])*Z[1]*K+C;
N[h+2]=(N[h+2]-Q[2])*Z[2]*K+d}var y=Date.now();S(N,G);var i=G.length>>>2;for(var h=0;h<i;++h){G[4*h]=(1-e)*G[4*h]+e*U[4*h];
G[4*h+1]=(1-e)*G[4*h+1]+e*U[4*h+1];G[4*h+2]=(1-e)*G[4*h+2]+e*U[4*h+2];G[4*h+3]=255}}return w}(),cO=function(){function J(v,x,o,R,r){var l=[-1,-1,-1,-1],M=255,P=160,S,c=!1,b=new Array(4);
b[0]=new Array(x);b[1]=new Array(o);b[2]=new Array(x);b[3]=new Array(o);var w=new Array(2);w[0]=new Array(o);
w[1]=new Array(o);function U(T,f,Z,W,D){this.start=W;this.axis=D;this.dir=T;this.end=-1;this.source=f;
this.o=Z}function F(T,f,Z,W,D){if(Z%2==0){if(!b[Z][T])b[Z][T]=new Array;b[Z][T].push(new U(Z,W,D,f,T))}else{if(!b[Z][f])b[Z][f]=new Array;
b[Z][f].push(new U(Z,W,D,T,f))}var C=Date.now()}function Y(h){var T=!1,f=0;if(v[4*h+3]<M)return T;var Z=h%x,W=Math.floor(h/x);
A(Z,W);if(h+x<x*o&&v[4*(h+x)+3]<M&&v[4*(h-x)+3]>=M&&v[4*(h-2*x)+3]>=M){var D=2;if(v[4*(h+x)+3]<=P)f=-1;
if(v[4*(h+2*x-1)+3]<M&&v[4*(h+2*x+1)+3]<M)T=!0;else if(v[4*(h+2*x-1)+3]>=M&&v[4*(h+1)+3]>=M)T=!0;else if(v[4*(h+2*x+1)+3]>=M&&v[4*(h-1)+3]>=M)T=!0;
F(Z,W,D,f,T)}else if(h-x>=0&&v[4*(h-x)+3]<M&&v[4*(h+x)+3]>=M&&v[4*(h+2*x)+3]>=M){var D=0;if(v[4*(h-x)+3]<=P)f=-1;
if(v[4*(h-2*x-1)+3]<M&&v[4*(h-2*x+1)+3]<M)T=!0;else if(v[4*(h-2*x-1)+3]>=M&&v[4*(h+1)+3]>=M)T=!0;else if(v[4*(h-2*x+1)+3]>=M&&v[4*(h-1)+3]>=M)T=!0;
F(Z,W,D,f,T)}f=0;if(h+1<x*o&&v[4*(h+1)+3]<M&&v[4*(h-1)+3]>=M&&v[4*(h-2)+3]>=M){var D=3;if(v[4*(h+1)+3]<=P)f=-1;
if(!T&&v[4*(h+x+2)+3]<M&&v[4*(h-x+2)+3]<M){T=!0;F(Z,W,D,f,!0)}else F(Z,W,D,f,!1)}else if(h>=1&&v[4*(h-1)+3]<M&&v[4*(h+1)+3]>=M&&v[4*(h+2)+3]>=M){var D=1;
if(v[4*(h-1)+3]<=P)f=-1;if(!T&&v[4*(h+x-2)+3]<M&&v[4*(h-x-2)+3]<M){T=!0;F(Z,W,D,f,!0)}else F(Z,W,D,f,!1)}return T}function A(h,T){if(l[0]==-1){l[0]=h;
l[1]=T;l[2]=1;l[3]=1}if(h<l[0]){l[2]+=l[0]-h;l[0]=h}if(h>l[0]+l[2])l[2]=h-l[0];if(T<l[1]){l[3]+=l[1]-T;
l[1]=T}if(T>l[1]+l[3])l[3]=T-l[1]}function G(T,h,f,Z){if(!f.o)return;var W=(T+2)%4,D=f.start,C=l[1];
if(T==2)C+=l[3];else if(T==1)C=l[0];else if(T==3)C=l[0]+l[2];var d=f.source;if(b[W][h])for(var p=0;p<b[W][h].length;
++p){if(T>1){var y=D+Math.floor((b[W][h][p].start-D)/2);if(b[W][h][p].start>D&&y<C)C=y}else{var y=D-Math.floor((D-b[W][h][p].start)/2);
if(b[W][h][p].start<D&&y>C)C=y}}for(var i=1;i<Math.abs(C-D);++i){var p=D+i;if(T==1||T==0)p=D-i;for(var t=0;
t<2;++t){var O=2*t,q=!1;if(T%2==0)O+=1;if(b[O][p]){for(var z=0;z<b[O][p].length;++z){if(b[O][p][z].o){var jw=b[O][p][z].start,u=h-jw,iH=p-D;
if(O==0||O==1)u=-u;if(u<=0)continue;if(T==0||T==1)iH=-iH;if(iH>u){C=p;q=!0;break}}}if(q)break}}}f.end=C;
K(T,h,D,C,d)}function n(T){for(var h=0;h<b[T].length;++h){if(b[T][h])for(var f=0;f<b[T][h].length;++f){G(T,h,b[T][h][f])}}}function E(){var T=[2,0,3,1];
for(var h=0;h<T.length;++h)n(T[h])}function K(T,h,f,Z,W){if(T==2)for(var D=f;D<=Z;++D){if(!e(D*x+h,(f+W)*x+h))return!1}else if(T==0)for(var D=f;
D>=Z;--D){if(!e(D*x+h,(f-W)*x+h))return!1}else if(T==1)for(var D=f;D>=Z;--D){if(!e(h*x+D,h*x+f-W))return!1}else if(T==3)for(var D=f;
D<=Z;++D){if(!e(h*x+D,h*x+f+W))return!1}}function e(T,f){if(!S[T]){R[4*T]=R[4*f];R[4*T+1]=R[4*f+1];R[4*T+2]=R[4*f+2];
if(c)R[4*T+3]=255;S[T]=!0;return!0}return!1}function $(){for(var h=0;h<4;h+=1){for(var T=0;T<b[h].length;
++T){if(b[h][T])for(var f=0;f<b[h][T].length;++f){var Z=b[h][T][f];for(var W=1;W<3;W+=2){var D=(h+W)%4;
if(b[D][Z.start])for(var C=0;C<b[D][Z.start].length;++C){if(b[D][Z.start][C].start==Z.axis){var co=x*Z.start+Z.axis;
if(h%2==1){co=Z.start+x*Z.axis;N(b[D][Z.start][C])}else N(Z)}}}}}}}function N(T){if(T.dir%2==0){var co=x*T.start+T.axis,f=T.start,Z=1;
if(!S[co+1])Z=3;else if(S[co-1])return;var W=R[4*co],D=R[4*co+1],C=R[4*co+2];while(R[4*co]==W&&R[4*co+1]==D&&R[4*co+2]==C){if(Z==1){if(!w[0][f])w[0][f]=new Array;
w[0][f].push(new U(Z,0,!1,T.axis,f))}else{if(!w[1][f])w[1][f]=new Array;w[1][f].push(new U(Z,0,!1,T.axis,f))}if(T.dir==2){co+=x;
f++}else{co-=x;f--}}}}function k(){for(var T=0;T<2;++T){var f=(T+1)%2;for(var h=0;h<w[T].length;++h){if(w[T][h])for(var Z=0;
Z<w[T][h].length;++Z){var W=l[0];if(T==1)W+=l[2];var D=w[T][h][Z].start;if(w[f][h])for(var C=0;C<w[f][h].length;
++C){var d=w[f][h][C].hO;if(T==0){if(d>W&&d<D){W=D-Math.floor((D-d)/2)}}else{if(d<W&&d>D){W=D+Math.ceil((d-D)/2)}}}if(T==0)K(w[T][h][Z].dir,h,D-1,W,-1);
else K(w[T][h][Z].dir,h,D+1,W,-1)}}}for(var h=0;h<S.length;++h){if(!S[h]&&h%x>=l[0]&&h%x<=l[0]+l[2]&&Math.floor(h/x)>=l[1]&&Math.floor(h/x)<=l[1]+l[3]){var D=x;
if(h<D||!S[h-D])D=1;R[4*h]=R[4*(h-D)];R[4*h+1]=R[4*(h-D)+1];R[4*h+2]=R[4*(h-D)+2];S[h]=!0;if(c)R[4*h+3]=255}}}function V(){S=new Array(v.length/4);
for(var h=0;h<R.length/4;++h){S[h]=!1;R[4*h]=v[4*h];R[4*h+1]=v[4*h+1];R[4*h+2]=v[4*h+2];R[4*h+3]=v[4*h+3];
if(R[4*h+3]==255)S[h]=!0;if(Y(h))S[h]=!1}if(l[0]>0){l[0]--;l[2]++}if(l[1]>0){l[1]--;l[3]++}if(l[0]+l[2]<x){l[2]++}if(l[1]+l[3]<o){l[3]++}}var X=Date.now();
V();var Q=Date.now();E();var L=Date.now();$();var _=Date.now();k();var a=Date.now();console.log("Init: "+String(Q-X));
console.log("Filling: "+String(L-Q));console.log("Check areas: "+String(_-L));console.log("Fill areas: "+String(a-_))}return J}();
function hz(){}hz.aBR=function(J){var v=[g.zp(J[0]),g.zp(J[1]),g.zp(J[2]),0];return g.$G.Gr(g.$G.a7H,v)};
hz.a7f=function(J){var v=g.$G.Gr(g.$G.qU,J);return[g.hR(v[0]),g.hR(v[1]),g.hR(v[2])]};hz.e6=function(J,v){var x={},o=5003,R=1667,r=25e3,l=57.4,M=16.1,P=1.8,S=0,c=1.54,b=.75,F=0;
if(v>0){J-=v/100*4}if(J<0){M=22.54;l=80.36;c=.756}if(v>0){P=1.3;b=.2}var w=Math.min(o+l*J,r),U=Math.max(o-M*J,R);
if(J<0){w=Math.max(o+M*J,R);U=Math.min(o-l*J,r)}if(J>0){if(J<=14){F=(J-1)/13*.075+.025}else if(J<=29){F=.1}else if(J<=60){F=.1-.1*(J-29)/(60-29)}else{var Y=J-60;
S=-20*(Y/40);F=-.3*(Y/40)}}else{if(J<-60){var Y=J+60;S=-20*(Y/40)}}var A=Math.abs(J)/100*c+Math.abs(v)/100*b+F,G=-(v*P+S),n=gk.O$(w,-G),E=gk.hh(n),K=gk.O$(U,0),e=gk.hh(K),$=gk.aAj(E,e);
x.ayO=A;x.ajo=$;if(J==0&&v==0)x.a6w=!0;else x.a6w=!1;return x};hz.aH1=function(J,v,x,o){if(o.a6w){return[J,v,x]}var R=this.aBR([J,v,x]),r=R[0],l=R[1],M=R[2],P=l+1e-12,S=[r/P,l/P,M/P,0],c=g.$G.Gr(o.ajo,S),b=0,w=.4;
c[0]*=P;c[1]*=P;c[2]*=P;if(P>w)b=1/(1-w)*(P-w);R[0]=(1-b)*c[0]+b*r;R[1]=(1-b)*c[1]+b*l;R[2]=(1-b)*c[2]+b*M;
return this.a7f(R)};g.aqP={lU:function(J,v){var h=J.length;J.push(v);var x=h>>>1;while(x!=0&&J[h][0]<J[x][0]){var o=J[h];
J[h]=J[x];J[x]=o;h=x;x=h>>>1}},Ra:function(J){if(J.length==2)return J.pop();var top=J[1],h=1;J[1]=J.pop();
var v=J.length;while(!0){var x=h<<1,o=x+1,R=h;if(x<v&&J[x][0]<J[R][0])R=x;if(o<v&&J[o][0]<J[R][0])R=o;
if(R==h)break;var r=J[h];J[h]=J[R];J[R]=r;h=R}return top},ahH:function(J){for(var h=1;h<J.length;h++){var v=h,x=1e9;
while(v!=0){var o=J[v][0];if(o>x){console.log(h);throw"e"}x=o;v=v>>>1}}}};g.v={};g.v.Oo=new Float64Array(256);
g.v.Fd=new Uint8Array(256*256);g.v.zS=new Uint8Array(256*256);(function(){for(var h=0;h<256;h++)g.v.Oo[h]=255/h;
for(var h=0;h<256;h++)for(var J=0;J<256;J++)g.v.Fd[h*256+J]=h==0?0:Math.round(J*255/h);for(var h=0;h<256;
h++)for(var J=0;J<256;J++)g.v.zS[h*256+J]=Math.round(h*(255-J)/255)}());g.v.Ry=function(J,v,x,o,R,r,l,M){if(M==null)M=iD.tl();
var P=g.u3(v);if(P!=g.u3(o))throw"e";if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(J)==-1){l=l*M.fill;
M.fill=1;M.style=!1}var S="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),c="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),b=g.v[J+"F"];
if(P==8){if(M.G6==null&&J=="norm")g.v.aoH(v,x,o,R,r,l,b,M.Hm?1:0);else if(J=="diss")g.v.a5o(v,x,o,R,r,l,b,M.Hm?1:0);
else if(S.indexOf(J)!=-1)g.v.apX(v,x,o,R,r,l,b,M);else if(c.indexOf(J)!=-1)g.v.apN(v,x,o,R,r,l,b,M)}else{if(J=="diss")g.v.av_(v,x,o,R,r,l,b,M.Hm?1:0);
else if(S.indexOf(J)!=-1)g.v.aEL(v,x,o,R,r,l,b,M);else if(c.indexOf(J)!=-1)g.v.ajr(v,x,o,R,r,l,b,M)}};
g.v.a12=function(J,v,x){var o=J*x+1-x;return o<.001?0:1-Math.min(1,(1-v)/o)};g.v.azI=function(J,v,x){return J*x==1?1:Math.min(1,v/(1-J*x))};
g.v.Ao=function(J){return J<=.25?((16*J-12)*J+4)*J:Math.sqrt(J)};g.v.normF=function(J,v,x){return J};
g.v.darkF=function(J,v,x){return Math.min(J,v)};g.v["mul F"]=function(J,v,x){return J*v};g.v.idivF=function(J,v,x){var o=J*x+1-x;
return v==1?1:1-v>=o?0:1-(1-v)/o};g.v.lbrnF=function(J,v,x){return Math.max(0,J*x+v-x)};g.v.dkClF=function(J,v,x){var o=g.lq(J)<g.lq(v)?J:v;
x.z=o.z;x.H=o.H;x.c=o.c;return x};g.v.liteF=function(J,v,x){return Math.max(J,v)};g.v.scrnF=function(J,v,x){return v+J-v*J};
g.v["div F"]=function(J,v,x){J*=x;return v==0?0:v>=1-J?1:v/(1-J)};g.v.lddgF=function(J,v,x){J*=x;return Math.min(1,J+v)};
g.v.lgClF=function(J,v,x){var o=g.lq(J)>g.lq(v)?J:v;x.z=o.z;x.H=o.H;x.c=o.c;return x};g.v.overF=function(J,v,x){return g.v.hLitF(v,J,x)};
g.v.sLitF=function(J,v,x){return J<=.5?v-(1-2*J)*v*(1-v):v+(2*J-1)*(g.v.Ao(v)-v)};g.v.hLitF=function(J,v,x){return J<=.5?g.v["mul F"](2*J,v,x):g.v.scrnF(2*J-1,v,x)};
g.v.vLitF=function(J,v,x){return J<=.5?g.v.a12(2*J,v,x):g.v.azI(2*J-1,v,x)};g.v.lLitF=function(J,v,x){return J<=.5?g.v.lbrnF(2*J,v,x):g.v.lddgF(2*J-1,v,x)};
g.v.pLitF=function(J,v,x){return J<=.5?g.v.darkF(2*J,v,x):g.v.liteF(2*J-1,v,x)};g.v.hMixF=function(J,v,x){if(x>.99)return J+v<1?0:1;
return Math.min(1,Math.max(0,(v+J*x-x)/(1-x+1e-6)))};g.v.diffF=function(J,v,x){J*=x;return Math.abs(J-v)};
g.v.smudF=function(J,v,x){return J+v-2*J*v};g.v.fsubF=function(J,v,x){return Math.max(v-J,0)};g.v.fdivF=function(J,v,x){return Math.min(v/J,1)};
g.v["hue F"]=function(J,v,x){g.v.ke(J,g.vP(v),x);g.v.pi(x,g.lq(v),x)};g.v["sat F"]=function(J,v,x){g.v.ke(v,g.vP(J),x);
g.v.pi(x,g.lq(v),x)};g.v.colrF=function(J,v,x){g.v.pi(J,g.lq(v),x)};g.v["lum F"]=function(J,v,x){g.v.pi(v,g.lq(J),x)};
g.v.pi=function(J,v,x){var o=v-g.lq(J);x.z=J.z+o;x.H=J.H+o;x.c=J.c+o;g.v.aic(x)};g.v.aic=function(J){var v=J.z,x=J.H,o=J.c,R=g.x3(v,x,o),co=Math.min(v,x,o),r=Math.max(v,x,o);
if(co<0){var l=R/(R-co);v=R+(v-R)*l;x=R+(x-R)*l;o=R+(o-R)*l}if(r>1){var l=(1-R)/(r-R);v=R+(v-R)*l;x=R+(x-R)*l;
o=R+(o-R)*l}J.z=v;J.H=x;J.c=o};g.v.ke=function(J,v,x){var o=g.v.aco,R=J.z,r=J.H,l=J.c;if(R==r&&r==l){x.z=x.H=x.c=0}else if(R>r){if(R>l){if(r>l){x.z=v;
x.H=o(R,r,l,v);x.c=0}else{x.z=v;x.c=o(R,l,r,v);x.H=0}}else{x.c=v;x.z=o(l,R,r,v);x.H=0}}else{if(R<l){if(r>l){x.H=v;
x.c=o(r,l,R,v);x.z=0}else{x.c=v;x.H=o(l,r,R,v);x.z=0}}else{x.H=v;x.z=o(r,R,l,v);x.c=0}}};g.v.aco=function(J,v,x,o){return(v-x)*o/(J-x)};
g.v.aoH=function(J,v,x,o,R,r,l,M){var P=v.Xt(o).Xt(R),S=Math.max(0,P.x-v.x),c=Math.max(0,P.x-o.x),b=Math.max(0,P.y-v.y),w=Math.max(0,P.y-o.y),U=P.r,F=P.$,Y=v.r,A=o.r,G=g.v.Fd,n=g.v.zS,E=new Uint32Array(J.buffer),K=new Uint32Array(x.buffer);
for(var h=0;h<F;h++){var e=(b+h)*Y+S,$=(w+h)*A+c;for(var N=0;N<U;N++){var k=E[e+N],Z=1;if(k>>>24==0)continue;
if(k>>>24==255&&r==1&&M==0){K[$+N]=E[e+N];continue}var V=K[$+N],X=k&255,Q=k>>>8&255,L=k>>>16&255,_=V&255,a=V>>>8&255,T=V>>>16&255,f=r,W=(V>>>24)*(1/255);
if(M==0){f=(k>>>24)*r*(1/255);Z=W}var D=Z*(1-f),C=f+D,d=1/C;K[$+N]=~~(.5+(M*W+(1-M)*C)*255)<<24|~~(.5+(L*f+T*D)*d)<<16|~~(.5+(Q*f+a*D)*d)<<8|~~(.5+(X*f+_*D)*d)}}};
g.v.ah8=function(J,v,x,o,R,r){var l=v.Xt(o).Xt(R),M=Math.max(0,l.x-v.x),P=Math.max(0,l.x-o.x),S=Math.max(0,l.y-v.y),c=Math.max(0,l.y-o.y),b=l.r,w=l.$,U=v.r,F=o.r,Y=g.v.Fd,A=g.v.zS,G=new Uint32Array(J.buffer),n=new Uint32Array(x.buffer),E=Math.floor(Math.random()*16777215),K=0;
for(var h=0;h<w;h++){var e=(S+h)*U+M,$=(c+h)*F+P;for(var N=0;N<b;N++){var k=G[e+N];if(k>>>24==0)continue;
if(k>>24==255&&r==1){n[$+N]=k;continue}var V=n[$+N],X=(k>>>24)*r*(1/255),Q=(V>>>24)*(1/255),L=Q*(1-X),_=X+L,a=k&255,T=k>>>8&255,f=k>>>16&255,Z=V&255,W=V>>>8&255,D=V>>>16&255;
K>>>=8;if((N&3)==0)K=g.v.us($+N+E);var C=_==0?0:1/_,d=Math.floor(_*(256*255))+(K&255)>>>8,p=Math.floor((f*X+D*L)*C+.5),y=Math.floor((T*X+W*L)*C+.5),i=Math.floor((a*X+Z*L)*C+.5);
n[$+N]=d<<24|p<<16|y<<8|i}}};g.v.Uv=function(J,v,x,o,R,r,l,M){var P=g.x3(J,v,x),S=g.x3(o,R,r),c=Math.min,b=g.v.apb,w=b(P,M,0);
w=c(w,b(J,M,8));w=c(w,b(v,M,16));w=c(w,b(x,M,24));var U=b(S,M,4);U=c(U,b(o,M,12));U=c(U,b(R,M,20));U=c(U,b(r,M,28));
U=Math.max(U,1-l);var F=Math.min(w,U);return F<0?0:F>1?1:F};g.v.apb=function(J,v,h){return Math.min((J-v[h])*v[h+1],(J-v[h+3])*v[h+2])};
g.v.apX=function(J,v,x,o,R,r,l,M){var P=1/255,S=P*r,c=M.Hm?1:0,b=M.fill,w=M.style,U=v.Xt(o).Xt(R),F=Math.max(0,U.x-v.x),Y=Math.max(0,U.x-o.x),A=Math.max(0,U.y-v.y),G=Math.max(0,U.y-o.y),n=U.r,E=U.$,K=v.r,e=o.r,$=new Uint32Array(J.buffer),N=new Uint32Array(x.buffer);
for(var h=0;h<E;h++){var k=(A+h)*K+F,V=(G+h)*e+Y;for(var X=0;X<n;X++,k++,V++){var Q=$[k],C=1;if(Q>>>24==0)continue;
var L=N[V],_=(Q&255)*P,a=(Q>>>8&255)*P,T=(Q>>>16&255)*P,f=(L&255)*P,Z=(L>>>8&255)*P,W=(L>>>16&255)*P,D=r;
if(c==0){D=(Q>>>24)*S;C=(L>>>24)*P}if(M.G6)D*=g.v.Uv(_,a,T,f,Z,W,C,M.G6);var d=C*(1-D),p=D+d,y=p==0?0:255/p,i=w?1:D,t=((1-C)*D*_+(1-i)*C*f+i*C*l(_,f,(1+D-i)*b))*y,O=((1-C)*D*a+(1-i)*C*Z+i*C*l(a,Z,(1+D-i)*b))*y,q=((1-C)*D*T+(1-i)*C*W+i*C*l(T,W,(1+D-i)*b))*y;
p=D*b+C*(1-D*b);var z=~~(p*255+.5);N[V]=c*(L>>>24)+(1-c)*z<<24|q<<16|O<<8|t}}};g.v.aEL=function(J,v,x,o,R,r,l,M){var P=g.u3(J),S=P==32?1:P==16?65535:255,c=1/S,b=M.Hm?1:0,w=M.fill,U=M.style,F=v.Xt(o).Xt(R),Y=Math.max(0,F.x-v.x),A=Math.max(0,F.x-o.x),G=Math.max(0,F.y-v.y),n=Math.max(0,F.y-o.y),E=F.r,K=F.$,e=v.r,$=o.r;
for(var h=0;h<K;h++){var N=(G+h)*e+Y,k=(n+h)*$+A;for(var V=0;V<E;V++,N++,k++){var X=N*4,Q=k*4,L=J[X]*c,_=J[X+1]*c,a=J[X+2]*c,T=J[X+3]*c*r;
if(T==0)continue;var f=x[Q]*c,Z=x[Q+1]*c,W=x[Q+2]*c,D=x[Q+3]*c;if(M.G6)T*=g.v.Uv(L,_,a,f,Z,W,D,M.G6);
var C=D*(1-T),d=T+C,p=d==0?0:S/d,y=U?1:T,i=((1-D)*T*L+(1-y)*D*f+y*D*l(L,f,(1+T-y)*w))*p,t=((1-D)*T*_+(1-y)*D*Z+y*D*l(_,Z,(1+T-y)*w))*p,O=((1-D)*T*a+(1-y)*D*W+y*D*l(a,W,(1+T-y)*w))*p;
d=T*w+D*(1-T*w);x[Q]=i;x[Q+1]=t;x[Q+2]=O;x[Q+3]=b*x[Q+3]+(1-b)*(d*S)}}};g.v.apN=function(J,v,x,o,R,r,l,M){var P=1/255,S=P*r,c=M.Hm?1:0,b=v.Xt(o).Xt(R),w=Math.max(0,b.x-v.x),U=Math.max(0,b.x-o.x),F=Math.max(0,b.y-v.y),Y=Math.max(0,b.y-o.y),A=b.r,G=b.$,n=new Uint32Array(J.buffer),E=new Uint32Array(x.buffer),K={z:0,H:0,c:0},e={z:0,H:0,c:0},$={z:0,H:0,c:0};
for(var h=0;h<G;h++){var N=(F+h)*v.r+w,k=(Y+h)*o.r+U;for(var V=0;V<A;V++,N++,k++){var X=n[N],Q=E[k],L=(X&255)*P,_=(X>>>8&255)*P,a=(X>>>16&255)*P,T=(Q&255)*P,f=(Q>>>8&255)*P,Z=(Q>>>16&255)*P,W=r,D=1;
if(c==0){W=(X>>>24)*S;D=(Q>>>24)*P}if(M.G6)W*=g.v.Uv(L,_,a,T,f,Z,D,M.G6);var C=D*(1-W),d=W+C,p=255/d;
K.z=L;K.H=_;K.c=a;e.z=T;e.H=f;e.c=Z;l(K,e,$);var y=(((1-D)*L+D*$.z)*W+T*C)*p,i=(((1-D)*_+D*$.H)*W+f*C)*p,t=(((1-D)*a+D*$.c)*W+Z*C)*p,O=c*(Q>>>24)+(1-c)*Math.round(d*255);
E[k]=O<<24|t<<16|i<<8|y}}};g.v.ajr=function(J,v,x,o,R,r,l,M){var P=g.u3(J),S=P==32?1:P==16?65535:255,c=1/S,b=M.Hm?1:0,w=v.Xt(o).Xt(R),U=Math.max(0,w.x-v.x),F=Math.max(0,w.x-o.x),Y=Math.max(0,w.y-v.y),A=Math.max(0,w.y-o.y),G=w.r,n=w.$,E={z:0,H:0,c:0},K={z:0,H:0,c:0},e={z:0,H:0,c:0};
for(var h=0;h<n;h++){var $=(Y+h)*v.r+U,N=(A+h)*o.r+F;for(var k=0;k<G;k++,$++,N++){var V=$*4,X=N*4,Q=J[V]*c,L=J[V+1]*c,_=J[V+2]*c,W=1;
if(J[V+3]==0)continue;var a=x[X]*c,T=x[X+1]*c,f=x[X+2]*c,Z=r;if(b==0){Z=J[V+3]*c*r;W=x[X+3]*c}if(M.G6)Z*=g.v.Uv(Q,L,_,a,T,f,W,M.G6);
var D=W*(1-Z),C=Z+D,d=S/C;E.z=Q;E.H=L;E.c=_;K.z=a;K.H=T;K.c=f;l(E,K,e);x[X]=(((1-W)*Q+W*e.z)*Z+a*D)*d;
x[X+1]=(((1-W)*L+W*e.H)*Z+T*D)*d;x[X+2]=(((1-W)*_+W*e.c)*Z+f*D)*d;x[X+3]=b*x[X+3]+(1-b)*Math.round(C*S)}}};
g.v.S_=function(J){J=J^61^J>>>16;J=J+(J<<3);J=J^J>>>4;J=J*668265261;J=J^J>>15;return(J&16777215)*(1/16777215)};
g.v.us=function(J){J=J^61^J>>>16;J=J+(J<<3);J=J^J>>>4;J=J*668265261;J=J^J>>>15;return J};g.v.AH=function(J){this.cc=J};
g.v.AH.prototype.get=function(){var J=this.cc=g.v.us(this.cc);return(J&16777215)*(1/16777215)};g.v.a5o=function(J,v,x,o,R,r,l,M){var P=Math.round(r*(256*256*256/255)),S=v.Xt(o).Xt(R),c=Math.max(0,S.x-v.x),b=Math.max(0,S.x-o.x),w=Math.max(0,S.y-v.y),U=Math.max(0,S.y-o.y),F=S.r,Y=S.$,A=new Uint32Array(J.buffer),G=new Uint32Array(x.buffer);
for(var h=0;h<Y;h++){var n=(w+h)*v.r+c,E=(U+h)*o.r+b;for(var K=0;K<F;K++,n++,E++){var e=A[n],$=G[E],N=M*255+(1-M)*(e>>>24);
if((g.v.us(n)&16777215)>=N*P)continue;G[E]=e&16777215|M*($>>>24)+(1-M)*255<<24}}};g.v.av_=function(J,v,x,o,R,r,l,M){var P=g.u3(J),S=P==32?1:P==16?65535:255,c=1/S,b=v.Xt(o).Xt(R),w=Math.max(0,b.x-v.x),U=Math.max(0,b.x-o.x),F=Math.max(0,b.y-v.y),Y=Math.max(0,b.y-o.y),A=b.r,G=b.$;
for(var h=0;h<G;h++){var n=(F+h)*v.r+w,E=(Y+h)*o.r+U;for(var K=0;K<A;K++,n++,E++){var e=n*4,$=E*4,N=J[e+3]*c,k=x[$+3]*c;
N=M+(1-M)*N;if((g.v.us(n)&255)*(1/255)>=N*r)continue;x[$]=J[e];x[$+1]=J[e+1];x[$+2]=J[e+2];x[$+3]=(M*k+(1-M))*S}}};
g.v.apF=function(J,v,x){for(var h=0;h<J.length;h+=4){var o=x[h>>>2];if(o==0)continue;var R=o*(1/255),r=1/R,l=v[h],M=v[h+1],P=v[h+2],S=J[h],c=J[h+1],b=J[h+2];
v[h]=Math.min(255,Math.max(0,Math.round((l-(1-R)*S)*r)));v[h+1]=Math.min(255,Math.max(0,Math.round((M-(1-R)*c)*r)));
v[h+2]=Math.min(255,Math.max(0,Math.round((P-(1-R)*b)*r)));v[h+3]=255}};g.v.PB=function(J,v,x,o,R,r,l,M,P,S,c){if(S==null)S=!1;
var b=g.u3(J),w=b==8?255:b==16?65535:1;if(R&&R.length==r.o()*4){var U=g.C(r.o(),b);g.Vi(R,U,3);R=U}if(R&&!v.Ym(r)){var F=g.C(v.o(),b);
F.fill(w*l/255);g.Cc(R,r,F,v);R=F;r=v}if(b==8){if(c==null)c=[1,1,1];var Y=255<<24|c[2]*16711680|c[1]*65280|c[0]*255,A=~Y;
if(S){if(R==null)g.v.auw(J,v,x,o,R,M,P,Y,A);else g.v.ar_(J,v,x,o,R,M,P)}else{if(R==null)g.v.aAK(J,v,x,o,R,M,P,Y,A);
else g.v.a9Q(J,v,x,o,R,M,P)}}else{if(c&&c.join(",")!="1,1,1")throw"e";if(S)g.v.adJ(J,v,x,o,R,M,P);else g.v.ax$(J,v,x,o,R,M,P)}};
g.v.aAK=function(J,v,x,o,R,r,l,M,P){var S=1/255,c=v.Xt(o).Xt(r),b=Math.max(0,c.x-v.x),w=Math.max(0,c.x-o.x),U=Math.max(0,c.y-v.y),F=Math.max(0,c.y-o.y),Y=c.r,A=c.$,G=new Uint32Array(J.buffer),n=new Uint32Array(x.buffer),E=g.v.Fd,K=l*255&255;
for(var h=0;h<A;h++){var e=(U+h)*v.r+b,$=(F+h)*o.r+w;for(var N=0;N<Y;N++,e++,$++){var k=G[e],V=n[$],X=k>>>24,Q=V>>>24,L=g.IV(K*X+(255-K)*Q),_=g.IV(X*K),a=g.IV(Q*(255-K)),T=k&255,f=k>>>8&255,Z=k>>>16&255,W=V&255,D=V>>>8&255,C=V>>>16&255,d=_*T+W*a,p=_*f+D*a,y=_*Z+C*a;
d=E[L<<8|g.IV(d)];p=E[L<<8|g.IV(p)];y=E[L<<8|g.IV(y)];var i=L<<24|y<<16|p<<8|d;n[$]=P&V|M&i}}};g.v.auw=function(J,v,x,o,R,r,l,M,P){var S=1/255,c=v.Xt(o).Xt(r),b=Math.max(0,c.x-v.x),w=Math.max(0,c.x-o.x),U=Math.max(0,c.y-v.y),F=Math.max(0,c.y-o.y),Y=c.r,A=c.$,G=new Uint32Array(J.buffer),n=new Uint32Array(x.buffer),E=g.v.Fd,K=l*16777215&16777215;
for(var h=0;h<A;h++){var e=(U+h)*v.r+b,$=(F+h)*o.r+w;for(var N=0;N<Y;N++,e++,$++){if((g.v.us(e)&16777215)<K){n[$]=P&n[$]|M&G[e]}}}};
g.v.ax$=function(J,v,x,o,R,r,l){var M=g.u3(J),P=M==8?255:M==16?65535:1,S=1/P,c=v.Xt(o).Xt(r),b=Math.max(0,c.x-v.x),w=Math.max(0,c.x-o.x),U=Math.max(0,c.y-v.y),F=Math.max(0,c.y-o.y),Y=c.r,A=c.$;
for(var h=0;h<A;h++){var G=(U+h)*v.r+b,n=(F+h)*o.r+w;for(var E=0;E<Y;E++,G++,n++){var K=(R?R[G]*S:1)*l,e=G*4,$=n*4,N=J[e+3]*S,k=x[$+3]*S,V=N*K,X=k*(1-K),Q=V+X,L=Q==0?0:P/Q,_=J[e]*S,a=J[e+1]*S,T=J[e+2]*S,f=x[$]*S,Z=x[$+1]*S,W=x[$+2]*S;
x[$]=(V*_+X*f)*L;x[$+1]=(V*a+X*Z)*L;x[$+2]=(V*T+X*W)*L;x[$+3]=P*Q}}};g.v.a9Q=function(J,v,x,o,R,r,l){var M=1/255,P=v.Xt(o).Xt(r),S=Math.max(0,P.x-v.x),c=Math.max(0,P.x-o.x),b=Math.max(0,P.y-v.y),w=Math.max(0,P.y-o.y),U=P.r,F=P.$,Y=new Uint32Array(J.buffer),A=new Uint32Array(x.buffer),G=g.v.Fd;
for(var h=0;h<F;h++){var n=(b+h)*v.r+S,E=(w+h)*o.r+c;for(var K=0;K<U;K++,n++,E++){var e=R[n]*l&255;if(e==0)continue;
if(e==255){A[E]=Y[n];continue}var $=Y[n],N=A[E],k=$>>>24,V=N>>>24,X=g.IV(e*k+(255-e)*V),Q=g.IV(k*e),L=g.IV(V*(255-e)),_=$&255,a=$>>>8&255,T=$>>>16&255,f=N&255,Z=N>>>8&255,W=N>>>16&255,D=G[X<<8|g.IV(Q*_+f*L)],C=G[X<<8|g.IV(Q*a+Z*L)],d=G[X<<8|g.IV(Q*T+W*L)];
A[E]=X<<24|d<<16|C<<8|D}}};g.v.adJ=function(J,v,x,o,R,r,l){var M=g.u3(J),P=M==8?255:M==16?65535:1,S=1/P,c=v.Xt(o).Xt(r),b=Math.max(0,c.x-v.x),w=Math.max(0,c.x-o.x),U=Math.max(0,c.y-v.y),F=Math.max(0,c.y-o.y),Y=c.r,A=c.$,G=l*S*65535;
for(var h=0;h<A;h++){var n=(U+h)*v.r+b,E=(F+h)*o.r+w;for(var K=0;K<Y;K++,n++,E++){var e=R[n];if((g.v.us(n)&65535)<e*G){var $=n*4,N=E*4;
x[N]=J[$];x[N+1]=J[$+1];x[N+2]=J[$+2];x[N+3]=J[$+3]}}}};g.v.ar_=function(J,v,x,o,R,r,l){var M=1/255,P=v.Xt(o).Xt(r),S=Math.max(0,P.x-v.x),c=Math.max(0,P.x-o.x),b=Math.max(0,P.y-v.y),w=Math.max(0,P.y-o.y),U=P.r,F=P.$,Y=new Uint32Array(J.buffer),A=new Uint32Array(x.buffer),G=g.v.Fd,n=Math.round(l*257);
for(var h=0;h<F;h++){var E=(b+h)*v.r+S,K=(w+h)*o.r+c;for(var e=0;e<U;e++,E++,K++){var $=R[E]*n;if((g.v.us(E)&65535)<$)A[K]=Y[E]}}};
g.v.aCU=function(J,v,x,o,R,r,l){var M=1/255,P=v.Xt(o).Xt(r),S=Math.max(0,P.x-v.x),c=Math.max(0,P.x-o.x),b=Math.max(0,P.y-v.y),w=Math.max(0,P.y-o.y),U=P.r,F=P.$,Y=new Uint32Array(J.buffer),A=new Uint32Array(x.buffer),G=Math.floor(Math.random()*o.o()),n=g.v.ao2;
for(var h=0;h<F;h++){var E=(b+h)*v.r+S,K=(w+h)*o.r+c;for(var e=0;e<U;e++){var $=R[E+e]*l;if($==0)continue;
if($==255){A[K+e]=Y[E+e];continue}var N=Y[E+e],k=A[K+e],V=N>>>24,X=k>>>24,Q=V*$*(1/255),L=X*(255-$)*(1/255),_=N&255,a=N>>>8&255,T=N>>>16&255,f=k&255,Z=k>>>8&255,W=k>>>16&255,D=g.v.us(K+e+G),C=Math.floor((Q+L)*256+.5)+(D>>>0&255)>>>8,d=C==0?0:256/(Q+L),p=_*Q+f*L,y=a*Q+Z*L,i=T*Q+W*L,t=Math.floor(p*d+.5)+(D>>>8&255)>>>8,O=Math.floor(y*d+.5)+(D>>>16&255)>>>8,q=Math.floor(i*d+.5)+(D>>>24&255)>>>8;
A[K+e]=C<<24|q<<16|O<<8|t}}};g.v.ao2=function(J){return Math.floor(J+Math.random())};g.v.ht=function(J,v,x,o,R,r,l){var M=1/g.JN(g.u3(J)),P=v.Xt(o).Xt(r),S=Math.max(0,P.x-v.x),c=Math.max(0,P.x-o.x),b=Math.max(0,P.y-v.y),w=Math.max(0,P.y-o.y),U=P.r,F=P.$;
for(var h=0;h<F;h++){var Y=(b+h)*v.r+S,A=(w+h)*o.r+c;for(var G=0;G<U;G++,Y++,A++){var n=l*R[Y]*M;if(n==0)continue;
if(n==1){x[A]=J[Y];continue}x[A]=J[Y]*n+x[A]*(1-n)}}};g.aIw=function(){function J(r){var l=r*.85;return Math.exp(-(l*l)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function v(r,l){var M=r<l?1:J((r-l)/Math.pow(1.001-l,.86));
return M}var x=[];function o(r){if(x[r])return x[r];var l=Math.pow(r,.55),M=new Float64Array(8e3),P=0,S=8e3;
for(var h=0;h<8e3;h++){var c=v(h*(1.55/4e3),l);if(c>=1)P=h;else if(c<=0&&S==8e3)S=h;M[h]=c}var b=[M,P,S];
x[r]=b;return b}function R(r,l,M){if(r<4)l=1;var P=1+.55*(1-l),S=Math.round(M*r*P)+2,c=new jj(0,0,S,S),b=g.C(S*S),w=[b,c],U=S/2,F=P/(U-1);
if(r==2)F*=2;if(r==3)F*=1.6;var Y=Date.now(),A=o(l),G=Math.round(8e3/U),n=A[0],E=A[1]-G,K=A[2]+G,e=Math.min(S,S+1>>>1),$=F*.4*(4e3/1.55),N=g.C(8e3);
for(var h=0;h<8e3;h++){var k=h,V=h,X=~~Math.max(0,k-$-$),Q=~~Math.max(0,k-$),L=~~Math.min(7999,k+$),_=~~Math.min(7999,k+$+$),a=~~(.5+255*(1/5)*(n[V]+n[X]+n[Q]+n[L]+n[_]));
N[h]=a;if(a==0)break}for(var h=0;h<e;h++){var T=F*(h-U+.5),f=T*T,Z=h*S,W=(S-1-h)*S;for(var D=0;D<e;D++){var C=F*(D-U+.5),V=~~(Math.sqrt(C*C+f)*(4e3/1.55));
if(K<V)continue;else if(V<E){var a=255;while(D<e){var d=S-1-D;b[Z+D]=a;b[Z+d]=a;b[W+D]=a;b[W+d]=a;D++}break}else{var a=N[V],d=S-1-D;
b[Z+D]=a;b[Z+d]=a;b[W+D]=a;b[W+d]=a}}}return w}return{amW:R}}();g.TK={};g.TK.am3=function(J,v,x,o,R,r){g.TK.MK(J,v,x,o,R,r,null,0)};
g.TK.alm=function(J,v,x,o,R){g.TK.MK(J,v,x,o,R,null,null,0)};g.TK.aGT=function(J,v,x,o,R,r,l,M){g.TK.MK(J,v,x,o,R,null,r,l*.5,M)};
g.TK.MK=function(J,v,x,o,R,r,l,M,P){var S=0,p=0,y=1e9,i=0,t=1e9,O=0,q=1e9,z=0,jw=0,X=0,u=0;if(r){S=R*.5;
R=3+Math.round((R-3)*.75)}if(l){R=Math.round(R*2.2)}if(P==null)P=Math.floor(Math.random()*16777215);
var c=new g.v.AH(P*v&16777215),b=1/R,w=Math.floor(v*b)+1,U=Math.floor(x*b)+1,F=[],Y=new Uint8Array(w*U*4),A=l?.5:1,G=r?64:0,n=R>>>1;
for(var E=0;E<U;E++){var K=l?.5*(E&1):0;for(var e=0;e<w;e++){var $=(e+c.get()*A+K)*R,N=(E+c.get()*A)*R;
F.push($,N);var k=Math.min(v-1,Math.floor($)),V=Math.min(x-1,Math.floor(N));for(var X=0;X<n;X+=2){var Q=Math.max(0,k-X),L=Math.min(v-1,k+X),_=Math.max(0,V-X),a=Math.min(x-1,V+X);
for(var T=_;T<=a;T++)for(var f=Q;f<=L;f++){var h=(T*v+f)*4;if(J[h+3]>64){k=f;V=T;f=T=X=1e9}}}var Z=(V*v+k)*4,W=(E*w+e)*4;
for(var h=0;h<4;h++)Y[W+h]=Math.max(0,Math.min(255,Math.floor(J[Z+h]+(c.get()-.5)*G)))}}var D=r?r:l?l:[0,0,0],C=w*U*2,d=[-w-1,-w,-w+1,-1,0,1,w-1,w,w+1];
for(var E=0;E<x;E++){X=0;for(var e=0;e<v;e++){var Q=e+.5,_=E+.5,iH=Math.floor(_*b),s=Math.floor(Q*b),bV=iH*w+s,eX=0,et=0;
if(X>1+M){y=g.TK.aBQ(F,p,Q,_);z=Math.sqrt(y);X--;u++}else{y=t=q=1e9;for(var h=0;h<d.length;h++){var jU=(bV+d[h])*2;
if(jU<0||jU>=C)continue;var hx=g.TK.aBQ(F,jU,Q,_);if(hx<q){if(hx<t){if(hx<y){O=i;q=t;i=p;t=y;p=jU;y=hx}else{O=i;
q=t;i=jU;t=hx}}else{O=jU;q=hx}}}z=Math.sqrt(y);jw=Math.sqrt(t);X=jw-(z+jw)*.5}if(l==null){var f7=(z+jw)*.5,iY=r?Math.max(0,f7-S):0;
eX=Math.max(0,Math.min(1,.5+f7-z-iY));et=Math.max(0,Math.min(1,1-(.5+f7-z)-iY))}else{var cd=Math.min(g.TK.ayR(F,p,i,Q,_),g.TK.ayR(F,p,O,Q,_));
eX=Math.max(0,Math.min(1,cd-M*.5));if(Q<M||v-M<Q||_<M||x-M<_)eX=0;et=0}var jV=1-et-eX,W=E*v+e<<2,g2=p<<1,gV=i<<1;
o[W+0]=Math.floor(.5+eX*Y[g2+0]+et*Y[gV+0]+jV*D[0]);o[W+1]=Math.floor(.5+eX*Y[g2+1]+et*Y[gV+1]+jV*D[1]);
o[W+2]=Math.floor(.5+eX*Y[g2+2]+et*Y[gV+2]+jV*D[2]);o[W+3]=J[W+3]}}};g.TK.aBQ=function(J,v,x,o){var R=x-J[v],r=o-J[v+1];
return R*R+r*r};g.TK.ayR=function(J,v,x,o,R){var r=J[v],l=J[v+1],M=J[x],P=J[x+1],S=(r+M)*.5,c=(l+P)*.5,b=S+(P-l),w=c-(M-r),U=w-c,F=b-S;
return Math.abs(U*o-F*R+b*c-w*S)/Math.sqrt(F*F+U*U)};g.Wh=function(){var J=g.C(0);function v(F){if(J.length<F)J=g.C(F);
return J}function x(F,co){var Y=Math.sqrt(12*F*F/co+1),A=Math.floor(Y);if(A%2==0)A--;var G=A+2,n=(12*F*F-co*A*A-4*co*A-3*co)/(-4*A-4),E=Math.round(n),K=[];
for(var h=0;h<co;h++)K.push(h<E?A:G);return K}function o(F,Y,A,G){var n=g.C(Y*A,g.u3(F));for(var h=0;
h<4;h++){g.Vi(F,n,h);R(n,Y,A,G);g.Os(n,F,h)}}function R(F,Y,A,G){var n=g.u3(F);for(var E=0;E<G.length;
E++){if(n==8)r(F,Y,A,G[E]-1>>1);if(n==16)l(F,Y,A,G[E]-1>>1);if(n==32)M(F,Y,A,G[E]-1>>1)}}function r(F,Y,A,G){var n=v(Y*A);
P(F,n,Y,A,G);b(n,F,Y,A,G)}function l(F,Y,A,G){var n=new Uint16Array(v(Y*A*2).buffer);S(F,n,Y,A,G);w(n,F,Y,A,G)}function M(F,Y,A,G){var n=new Float32Array(v(Y*A*4).buffer);
c(F,n,Y,A,G);U(n,F,Y,A,G)}function P(F,Y,A,G,n){var E=1/(n+n+1),K=A-n-n-1;for(var h=0;h<G;h++){var e=h*A,$=e,N=e+n,k=F[e],V=F[e+A-1],X=(n+1)*k;
for(var Q=0;Q<n;Q++)X+=F[e+Q];for(var Q=0;Q<=n;Q++){X+=F[N+Q]-k;Y[e+Q]=X*E}N+=n+1;e+=n+1;for(var Q=0;
Q<K;Q++){X+=F[N+Q]-F[$+Q];Y[e+Q]=X*E}N+=K;$+=K;e+=K;for(var Q=A-n;Q<A;Q++){X+=V-F[$++];Y[e++]=X*E}}}function S(F,Y,A,G,n){var E=1/(n+n+1),K=A-n-n-1;
for(var h=0;h<G;h++){var e=h*A,$=e,N=e+n,k=F[e],V=F[e+A-1],X=(n+1)*k;for(var Q=0;Q<n;Q++)X+=F[e+Q];for(var Q=0;
Q<=n;Q++){X+=F[N+Q]-k;Y[e+Q]=X*E}N+=n+1;e+=n+1;for(var Q=0;Q<K;Q++){X+=F[N+Q]-F[$+Q];Y[e+Q]=X*E}N+=K;
$+=K;e+=K;for(var Q=A-n;Q<A;Q++){X+=V-F[$++];Y[e++]=X*E}}}function c(F,Y,A,G,n){var E=1/(n+n+1),K=A-n-n-1;
for(var h=0;h<G;h++){var e=h*A,$=e,N=e+n,k=F[e],V=F[e+A-1],X=(n+1)*k;for(var Q=0;Q<n;Q++)X+=F[e+Q];for(var Q=0;
Q<=n;Q++){X+=F[N+Q]-k;Y[e+Q]=X*E}N+=n+1;e+=n+1;for(var Q=0;Q<K;Q++){X+=F[N+Q]-F[$+Q];Y[e+Q]=X*E}N+=K;
$+=K;e+=K;for(var Q=A-n;Q<A;Q++){X+=V-F[$++];Y[e++]=X*E}}}function b(F,Y,A,G,n){var E=1/(n+n+1),K=G-n-n-1;
for(var h=0;h<A;h++){var e=h,$=e,N=e+n*A,k=F[e],V=F[e+A*(G-1)],X=(n+1)*k;for(var Q=0;Q<n;Q++)X+=F[e+Q*A];
for(var Q=0;Q<=n;Q++){X+=F[N]-k;Y[e]=X*E;N+=A;e+=A}for(var Q=0;Q<K;Q++){var L=Q*A;X+=F[N+L]-F[$+L];Y[e+L]=X*E}$+=K*A;
N+=K*A;e+=K*A;for(var Q=G-n;Q<G;Q++){X+=V-F[$];Y[e]=X*E;$+=A;e+=A}}}function w(F,Y,A,G,n){var E=1/(n+n+1),K=G-n-n-1;
for(var h=0;h<A;h++){var e=h,$=e,N=e+n*A,k=F[e],V=F[e+A*(G-1)],X=(n+1)*k;for(var Q=0;Q<n;Q++)X+=F[e+Q*A];
for(var Q=0;Q<=n;Q++){X+=F[N]-k;Y[e]=X*E;N+=A;e+=A}for(var Q=0;Q<K;Q++){var L=Q*A;X+=F[N+L]-F[$+L];Y[e+L]=X*E}$+=K*A;
N+=K*A;e+=K*A;for(var Q=G-n;Q<G;Q++){X+=V-F[$];Y[e]=X*E;$+=A;e+=A}}}function U(F,Y,A,G,n){var E=1/(n+n+1),K=G-n-n-1;
for(var h=0;h<A;h++){var e=h,$=e,N=e+n*A,k=F[e],V=F[e+A*(G-1)],X=(n+1)*k;for(var Q=0;Q<n;Q++)X+=F[e+Q*A];
for(var Q=0;Q<=n;Q++){X+=F[N]-k;Y[e]=X*E;N+=A;e+=A}for(var Q=0;Q<K;Q++){var L=Q*A;X+=F[N+L]-F[$+L];Y[e+L]=X*E}$+=K*A;
N+=K*A;e+=K*A;for(var Q=G-n;Q<G;Q++){X+=V-F[$];Y[e]=X*E;$+=A;e+=A}}}return{MM:function(F,Y,A,G){R(F,Y.r,Y.$,x(A,G?G:3))},aDL:function(F,Y,A){o(F,Y.r,Y.$,x(A,3))},Go:function(F,Y,A){R(F,Y.r,Y.$,[Math.round(A)*2+1])},agg:function(F,Y,A){o(F,Y.r,Y.$,[Math.round(A)*2+1])},amR:function(F,Y,A){var G=Y.r,n=Y.$;
A=Math.round(A);var E=v(G*n),K=g.C(G*n);for(var h=0;h<4;h++){g.Vi(F,K,h);P(K,E,G,n,A);g.Os(E,F,h)}},ak6:x}}();
g.Y1=function(){var J=[];function v(D,C,d,p){var y=p.length,i=0,t=0,O=0;for(var h=0;h<y;h++){var q=p[h];
i=Math.max(i,q[2]);t=Math.max(t,q[0],C-q[0]);O=Math.max(O,q[1],d-q[1])}if(y==1){D.fill(255);return}if(y==2){var z=p[0],jw=p[1];
if(z[2]<jw[2]){var u=z;z=jw;jw=u}var iH=z[0],s=z[1],bV=jw[0]-iH,jU=-(jw[1]-s),hx=Math.sqrt(jU*jU+bV*bV),eX=1/hx;
jU/=hx;bV/=hx;var et=Math.round(255*Math.min(z[2],jw[2])/i),f7=[];for(var h=0;h<1100;h++){var iY=Math.pow(h*.001,.82);
f7[h]=~~(.5+iY*et+(1-iY)*255)}for(var cd=0;cd<d;cd++)for(var jV=0;jV<C;jV++){var u=(jV-iH)*jU+(cd-s)*bV,g2=iH+u*jU-jV,gV=s+u*bV-cd,fD=Math.sqrt(g2*g2+gV*gV),j4=0;
if(g2*bV-gV*jU>0)j4=255;else if(fD>hx)j4=et;else j4=f7[~~(.5+1e3*fD*eX)];D[cd*C+jV]=j4}return}var dQ=Math.round((t*t+O*O)*.021),eO=J.length;
if(eO<dQ)for(var h=eO;h<dQ;h++)J[h]=1/(1e-6+Math.pow(.02*h,1.57));var a7=260/i;for(var cd=0;cd<d;cd++)for(var jV=0;
jV<C;jV++){var cc=0,ad=0;for(var h=0;h<y;h++){var jC=p[h],jU=jV-jC[0],bV=cd-jC[1],fD=J[~~(.02*(jU*jU+bV*bV))];
ad+=fD*jC[2];cc+=fD}D[cd*C+jV]=Math.min(~~(a7*ad/cc),255)}}var x=[];for(var h=0;h<1100;h++)x[h]=Math.pow(.5-.5*Math.cos(h/1e3*Math.PI),2);
function o(D,C,d,p){var y=R(p),i=1-p[10];for(var t=0;t<d;t++)for(var O=0;O<C;O++){var q=y.o5*O+y.Mz*t+y.zP,z=y.c*O+y.fn*t+y.jD,jw=Math.sqrt(q*q+z*z),u=jw<=i?0:jw>1?1:(jw-i)/(1-i);
D[t*C+O]=~~(.5+D[t*C+O]*x[~~(u*1e3)])}}function R(D){var C=D[0],d=D[1],p=D[2]-C,y=D[3]-d,i=D[6]-C,t=D[7]-d,O=Math.sqrt(p*p+y*y),q=Math.sqrt(i*i+t*t),z=new bC;
z.scale(O,q);z.rotate(Math.atan2(-y,p));z.translate(C,d);z.SV();z.translate(-.5,-.5);z.scale(2,2);return z}var r=[];
for(var h=0;h<1100;h++)r[h]=Math.pow(.5-.5*Math.cos(h/1e3*Math.PI),.8);function l(D,h,C){var d=D[h]-D[C],p=D[h+1]-D[C+1];
return Math.sqrt(d*d+p*p)}function M(D,C,d,p){var y=p[0],i=p[1],t=p[2]-y,O=-(p[3]-i),q=Math.sqrt(O*O+t*t);
O/=q;t/=q;var z=l(p,0,2),jw=l(p,0,4),u=l(p,0,6),iH=l(p,0,8);for(var s=0;s<d;s++)for(var bV=0;bV<C;bV++){var jU=(bV-y)*O+(s-i)*t,hx=y+jU*O-bV,eX=i+jU*t-s,et=Math.sqrt(hx*hx+eX*eX),f7=0;
if(hx*t-eX*O<0)f7=et<u?0:et>z?1:r[~~(1e3*(et-u)/(z-u))];else f7=et<iH?0:et>jw?1:r[~~(1e3*(et-iH)/(jw-iH))];
D[s*C+bV]=~~(.5+D[s*C+bV]*f7)}}function P(D,C,d){var p=D[0],y=D[1],i=y[0]+y[1]+y[2]+y[3],z=!1;if(i==0)return[g.C(C*d),i];
var t=p[0],O=p[1],q=p[3];if(z)console.log(t,O,q);var jw=Date.now(),u=g.C(C*d);u.fill(255);if(y[0]!=0)v(u,C,d,t);
if(z)console.log(Date.now()-jw,"field done");jw=Date.now();var iH=g.C(C*d);iH.fill(255);if(y[1]!=0)for(var h=0;
h<O.length;h++)o(iH,C,d,O[h]);if(z)console.log(Date.now()-jw,"iris done");jw=Date.now();var s=g.C(C*d);
s.fill(255);if(y[3]!=0)for(var h=0;h<q.length;h++)M(s,C,d,q[h]);if(z)console.log(Date.now()-jw,"tilt done");
jw=Date.now();var bV=y[0]/i,jU=y[1]/i,eX=y[3]/i,et=u,f7=C*d;for(var h=0;h<f7;h++){et[h]=bV*u[h]+jU*iH[h]+eX*s[h]}return[et,i]}function S(D,C,d,p,y){var i=Date.now(),t=new Uint32Array(5),O=g.akI(D,C,d),q=y/255;
for(var z=0;z<d;z++)for(var jw=0;jw<C;jw++){var h=z*C+jw,u=h<<2,iH=p[h]*q,s=~~(iH*.948);if(s==0){continue}t[0]=0;
t[1]=0;t[2]=0;t[3]=0;t[4]=0;var bV=~~(iH*.612);if(1<=jw-s&&jw+s+1<=C&&1<=z-s&&z+s+1<=d){var jU=jw-s,hx=jw-bV,eX=jw+bV+1,et=jw+s+1,f7=z-s,iY=z-bV,cd=z+bV+1,jV=z+s+1;
c(O,C,hx,eX,f7,iY,t);c(O,C,jU,et,iY,cd,t);c(O,C,hx,eX,cd,jV,t)}else{var jU=Math.max(1,jw-s),hx=Math.max(1,jw-bV),eX=Math.min(C,jw+bV+1),et=Math.min(C,jw+s+1),f7=Math.max(1,z-s),iY=Math.max(1,z-bV),cd=Math.min(d,z+bV+1),jV=Math.min(d,z+s+1);
c(O,C,hx,eX,f7,iY,t);c(O,C,jU,et,iY,cd,t);c(O,C,hx,eX,cd,jV,t)}if(t[4]!=0){var g2=1/t[4];D[u]=Math.min(255,~~(t[0]*g2));
D[u+1]=Math.min(255,~~(t[1]*g2));D[u+2]=Math.min(255,~~(t[2]*g2));D[u+3]=Math.min(255,~~(t[3]*g2))}}}function c(D,C,d,p,y,i,t){var O=(p-d)*(i-y);
if(0<O){g.adT(D,d-1,p-1,(y-1)*C,(i-1)*C,t);t[4]+=O}}var b="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function w(D){var C=[!1,!1,!1,!1,!1,!1];for(var h=0;h<6;h++){var d="blurb"+b[h]+"EffectApplied";if(D[d]&&D[d].v)C[h]=!0}return C}function U(D,C){for(var h=0;
h<6;h++){var d="blurb"+b[h]+"EffectApplied";D[d]={t:"bool",v:C[h]}}}var F=[];for(var Y=0;Y<6;Y++){var A,G="blurbWidgetLocationX",n="blurbWidgetLocationY";
if(Y==0)A=[G,n,"blurbGeneralBlurAmount"];if(Y==1||Y==5){var E="blurb"+(Y==1?"IrisBlur":"WheelSpin"),K=E+"Corner",e=E+"Feather";
A=[K+"0x",K+"0y",K+"1x",K+"1y",K+"2x",K+"2y",K+"3x",K+"3y",G,n,e+"0",e+"1",e+"2",e+"3",Y==1?E+"Amount":E+"BlurAmount"]}if(Y==3){var E="blurbTiltShift",$=E+"InnerPoint",N=E+"OuterPoint";
A=[E+"CenterX",E+"CenterY",N+"1X",N+"1Y",N+"2X",N+"2Y",$+"1X",$+"1Y",$+"2X",$+"2Y",E+"BlurAmount"]}F.push(A)}function k(D,C){function d(eX,t){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:eX},Vrtc:{t:"doub",v:t}}}}var p=[];
for(var Y=0;Y<6;Y++){var y=D[Y],A=F[Y];for(var h=0;h<y.length;h++){var i=y[h],t={classID:Y==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:Y}};
p.push({t:"Objc",v:t});if(Y==4){C.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:y[0][4]*100}};var O=t.blurbPathPointList={t:"VlLs",v:[d(i[0],i[1]),d(i[5],i[6])]};
for(var q=0;q<2;q++){var z={classID:"blurbBezierKernel"};t["blurb"+(q==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:z};
var jw=i[q*5],u=i[q*5+1],iH=i[q*5+2],s=i[q*5+3];z.blurbBezierKernelUIControlPoint=d((jw+iH)/2,(u+s)/2);
var bV=iH-jw,jU=s-u,hx=Math.atan2(-(i[6]-i[1]),i[5]-i[0]);z.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-jU,bV)-hx+Math.PI)*180/Math.PI};
z.blurbBezierKernelLocation=d(jw,u);z.blurbBezierKernelOuterPoint=d(iH,s);if(bV==0&&jU==0)z.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var q=0;
q<A.length;q++)t[A[q]]={t:"doub",v:i[q]}}}delete C.blurbWidgetList;C.blurbWidgetList2={t:"VlLs",v:p}}function V(D){var C=D.blurbWidgetList;
if(C==null||C.v.length==0)C=D.blurbWidgetList2;C=C.v;var d=[[],[],[],[],[],[]],p=[0,0,0,0,0,0];for(var h=0;
h<C.length;h++){var y=C[h].v,Y=y.blurbWidgetType.v,J=[];d[Y].push(J);if(Y<4||Y==5){var A=F[Y];for(var i=0;
i<A.length;i++){J[i]=y[A[i]].v}if(Y==5){var t=J[0]-J[4],O=J[1]-J[5],q=Math.sqrt(t*t+O*O),z=J[J.length-1]*q*.005;
p[Y]=Math.max(p[Y],z)}else p[Y]=Math.max(p[Y],J[J.length-1])}if(Y==4){var jw=D.blurbPathBlurSpeed.v.val/100;
for(var i=0;i<2;i++){var u=y["blurb"+(i==0?"Start":"End")+"BezierKernel"].v,iH=u.blurbBezierKernelIsNull;
for(var s=0;s<2;s++){var bV=u["blurbBezierKernel"+(s==0?"Location":"OuterPoint")].v;J.push(bV.Hrzn.v,bV.Vrtc.v)}var jU=J.length-4,hx=J[jU],eX=J[jU+1],t=J[jU+2]-hx,O=J[jU+3]-eX,q=Math.sqrt(t*t+O*O);
if(iH&&iH.v)q=0;J.push(jw);p[Y]=Math.max(p[Y],q*jw)}}}return[d,p]}function X(D,C,d){for(var p=0;p<D.length;
p++)C[d+p]=D[p]}function Q(D,C){for(var Y=0;Y<5;Y++){var d=D[0][Y];for(var h=0;h<d.length;h++){var p=Y==0?d[h].slice(0,2):Y==4?d[h].slice(0,4).concat(d[h].slice(5,9)):d[h].slice(0,10);
g.b.u(p,C,p);if(Y==4){X(p.slice(0,4),d[h],0);X(p.slice(4,8),d[h],5)}else X(p,d[h],0)}}}function L(D,C,d){var p=C.S.r,y=C.S.$,i=p*y,t=V(D),O=w(D);
for(var h=0;h<6;h++)if(!O[h])t[1][h]=0;var q=new bC;q.translate(-C.S.x,-C.S.y);Q(t,q);var z=Date.now(),jw=P(t,p,y),u=jw[0],iH=jw[1];
d.buffer.set(C.buffer);var s=g.LQ(d.buffer);if(s)g.X7(d.buffer);if(iH!=0)S(d.buffer,p,y,u,iH);var bV=Math.max(t[1][4],t[1][5]);
if(bV!=0&&gi._E){var z=Date.now(),jU=g.C(p*y*4);for(var h=0;h<jU.length;h+=4){jU[h]=127;jU[h+1]=127}if(t[1][4]!=0)a(jU,t,p,y,bV);
if(t[1][5]!=0)_(jU,t,p,y,bV);var hx=bV*.25,eX=new Float32Array([1/p,1/y]),et=gi.Et(0,p,y);et.set(d.buffer);
var f7=gi.Et(1,p,y);f7.set(jU);gi.DM(et,C.S);et.EO(C.S);gi.filter.I7({e:gi.filter.aoC,yp:f7.qb,Mv:eX,H3:hx,A$:2},et.z7);
et.get(d.buffer)}if(s)g.Z4(d.buffer)}function _(D,C,d,p,y){var i=C[0][5];if(i.length==0)return;var t=Date.now();
for(var h=0;h<i.length;h++){var O=i[h],q=R(O),z=q.Q();z.SV();var jw=1-O[10],u=O[14]*2.15/y;for(var iH=0;
iH<p;iH++)for(var s=0;s<d;s++){var bV=q.o5*s+q.Mz*iH+q.zP,jU=q.c*s+q.fn*iH+q.jD,hx=bV*bV+jU*jU;if(hx<1){var eX=bV-jU*u,et=jU+bV*u,f7=z.Xw(new aG(eX,et)),iY=4*(iH*d+s),cd=Math.sqrt(hx),jV=cd<jw?0:(cd-jw)/(1-jw);
D[iY]=Math.max(0,Math.min(255,jV*D[iY]+(1-jV)*(127+f7.x-s)));D[iY+1]=Math.max(0,Math.min(255,jV*D[iY+1]+(1-jV)*(127+f7.y-iH)))}}}console.log(Date.now()-t)}function a(D,C,d,p,y){var i=C[0][4];
if(i.length==0)return;var t=i[0];for(var h=1;h<i.length;h++)t=t.concat(i[h]);var O=[];for(var h=0;h<t.length;
h+=5){var q=t[h],z=t[h+1],jw=t[h+2]-q,u=t[h+3]-t[h+1],iH=Math.sqrt(jw*jw+u*u);if(iH!=0){jw/=iH;u/=iH}O.push(q,z,jw,u,iH,t[h+4])}t=O;
var s=Math.floor(t.length/6),bV=127/y;for(var z=0;z<p;z++)for(var q=0;q<d;q++){var jU=0,hx=0,eX=0,et=0;
for(var h=0;h<s;h++){var f7=h*6,iY=t[f7],cd=t[f7+1],jw=q-iY,u=z-cd,iH=1/Math.pow(jw*jw+u*u,.5);hx+=iH*t[f7+2];
eX+=iH*t[f7+3];et+=iH*t[f7+4]*t[f7+5];jU+=iH}var jV=Math.sqrt(hx*hx+eX*eX),g2=bV*et/(jV*jU);D[4*(z*d+q)]=Math.min(hx*g2+127,255);
D[4*(z*d+q)+1]=Math.min(eX*g2+127,255)}}function T(D){var C=D.blurbOpenPanel;if(C)return C.v;else{var d=D.blurbWidgetList2.v;
for(var h=0;h<d.length;h++){var p=d[h].v.blurbWidgetSelected;if(p&&p.v)return d[h].v.blurbWidgetType.v}}return 0}function f(D,C){if(C<4)D.blurbOpenPanel={t:"long",v:C};
else{delete D.blurbOpenPanel;var d=D.blurbWidgetList2.v;for(var h=0;h<d.length;h++){d[h].v.blurbWidgetSelected.v=d[h].v.blurbWidgetType.v==C}}}function Z(D,Y,C,d){var p=V(D)[0],y=p[Y],i;
if(Y==0){i=y.length;y.push([C,d,20])}if(Y==1||Y==5){i=y.length*6+1;var t=100;y.push([C-t,d-t,C+t,d-t,C+t,d+t,C-t,d+t,C,d,.8,.8,.8,.8,20])}if(Y==3){i=y.length*5;
y.push([C,d,C,d-50,C,d+50,C,d-20,C,d+20,20])}if(Y==4){i=y.length*4+2;y.push([C-100,d,C-50,d,1,C,d,C+50,d,1])}k(p,D);
f(D,Y);return i}return{apply:L,mO:V,Xy:k,at0:Z,azR:w,af7:U,aDQ:R,u:Q,aBs:T,gj:f}}();g.ZH={};g.ZH.C=function(J,v,x,o){var R=[];
for(var r=0;r<4;r++)for(var l=0;l<4;l++)R.push(J+x*l/3,v+o*r/3);return R};g.ZH.auW=function(J,v){var x=J.slice(0);
for(var h=0;h<4;h++)for(var o=0;o<4;o++){var R=2*(h*4+o),r=2*(o*4+(3-h));if(v){var l=R;R=r;r=l}x[r]=J[R];
x[r+1]=J[R+1]}return x};g.ZH.drawImage=function(J,v,x,o,R,r,l){var M=!1,P=Date.now(),S=2;if(!o.Db(x)){o.x=x.x;
o.y=x.y}x.x-=o.x;x.y-=o.y;o.x=o.y=0;var c=o.Q();c.offset(S,S);var b=c.Q();b.rz(S,S);var w=g.u3(v),U=g.C(b.o()*4,w),F=x.Q();
x.offset(S,S);g.sW(v,x,U,b);if(M)console.log(Date.now()-P,"copy rect");P=Date.now();g.X7(U);if(M)console.log(Date.now()-P,"multiply alpha");
P=Date.now();var Y=b.r-2*S,A=b.$-2*S,G=Math.max(Y,A),n=Math.round(50*Y/G),E=Math.round(Math.sqrt(3)*.5*50*A/G),K=n-.5,e=Y+2*S,$=A+2*S,N=[],k=[],V=[];
for(var X=0;X<E+1;X++){var Q=(X&1)==0;for(var L=0;L<n+1;L++){var _=(L-(Q?.5:0))/K,a=X/E;if(L==0)_=0;
if(L==n)_=1;N.push(e*_,$*a);if(L<n&&X<E){var T=X*(n+1)+L,f=T+1,Z=T+n+1,W=Z+1;if(Q)k.push(T,f,Z,Z,f,W);
else k.push(T,f,W,T,W,Z)}var D=g.ZH.ayJ(J,_,a);V.push(-D)}}var C=N.slice(0);g.ZH.u(J,C,c);g.b.u(C,new bC(1,0,0,1,-r.x,-r.y),C);
if(M)console.log(Date.now()-P,"mesh built");P=Date.now();var d=r.r,p=r.$;g.Z1.GU(U,e,$,R,d,p,N,C,V,k,l);
if(M)console.log(Date.now()-P,"rendered");P=Date.now();g.Z4(R);if(M)console.log(Date.now()-P,"divided");
P=Date.now()};g.ZH.ZY=new Array(10);g.ZH.wt=function(J,v){var x=200,o=0,R=0,r=1e9,l=g.ZH.ZY;for(var M=0;
M<x+1;M++)for(var P=0;P<x+1;P++){var S=P/x,c=M/x;g.ZH.a5R(J,S,c,l);var b=l[8]-v.x,w=l[9]-v.y,U=b*b+w*w;
if(U<r){r=U;o=S;R=c}}return[o,R]};g.ZH.u=function(J,v,x){var o=x.x,R=x.y,r=1/x.r,l=1/x.$,M=g.ZH.ZY;for(var P=0;
P<v.length;P+=2){var S=(v[P]-o)*r,c=(v[P+1]-R)*l;g.ZH.a5R(J,S,c,M);v[P]=M[8];v[P+1]=M[9]}};g.ZH.ayJ=function(J,v,x){var o,R,r,l,M=g.ZH.ZY;
g.ZH.a7J(J,v,x,M);o=M[8];R=M[9];g.ZH.aoq(J,v,x,M);r=M[8];l=M[9];return o*l-R*r};g.ZH.VA=function(J,v,x){var o=0,R=0,r=J[2][0],l=J[2][1];
while(o+2<r.length&&r[o+1]<v)o++;v=(v-r[o])/(r[o+1]-r[o]);while(R+2<l.length&&l[R+1]<x)R++;x=(x-l[R])/(l[R+1]-l[R]);
return[o*3,R*3,v,x]};g.ZH.a5R=function(J,v,x,o){var R=g.ZH.VA(J,v,x);g.ZH.mG(o,0,R[3]);g.ZH.mG(o,4,R[2]);
g.ZH.zc(J[3],R[0],R[1],J[0],o)};g.ZH.a7J=function(J,v,x,o){var R=g.ZH.VA(J,v,x);g.ZH.mG(o,0,R[3]);g.ZH.a1D(o,4,R[2]);
g.ZH.zc(J[3],R[0],R[1],J[0],o)};g.ZH.aoq=function(J,v,x,o){var R=g.ZH.VA(J,v,x);g.ZH.a1D(o,0,R[3]);g.ZH.mG(o,4,R[2]);
g.ZH.zc(J[3],R[0],R[1],J[0],o)};g.ZH.a1D=function(J,h,v){var x=1-v;J[h]=-3*(x*x);J[h+1]=3*(x*x)-6*(v*x);
J[h+2]=6*(v*x)-3*(v*v);J[h+3]=3*(v*v)};g.ZH.mG=function(J,h,v){var x=1-v;J[h]=x*(x*x);J[h+1]=3*v*(x*x);
J[h+2]=3*(v*v)*x;J[h+3]=v*v*v};g.ZH.ato=function(J,v,x,o,R){var r=g.ZH.VA(J,v,x),l=r[0],M=r[1],P=r[2],S=r[3],c=J[0],b=Math.floor(P*3),w=Math.floor(S*3),U=g.ZH.ZY,F=16,N=0;
g.ZH.mG(U,0,S);g.ZH.mG(U,4,P);var Y=[],A=[],G=[];for(var n=0;n<4;n++){for(var E=0;E<4;E++){var h=n*4+E,K=U[n]*U[4+E];
Y.push(K);A.push((M+n)*c+l+E);if((n==w||n==w+1)&&(E==b||E==b+1)){var e=P*3-b;if(E==b)e=1-e;var $=S*3-w;
if(n==w)$=1-$;G[h]=e*$/K}else G[h]=0}}for(var h=0;h<F;h++)N+=Y[h]*G[h];for(var h=0;h<F;h++)G[h]/=N;for(var h=0;
h<F;h++){var K=Y[h],k=A[h];J[3][k*2]+=G[h]*o;J[3][k*2+1]+=G[h]*R}};g.ZH.E3=function(J){var v=J[0],x=J[1],o=J[2],R=J[3],r=R.slice(0);
for(var l=0;l<x;l++)for(var M=0;M<v;M++){R[(M*x+l)*2]=r[(l*v+M)*2];R[(M*x+l)*2+1]=r[(l*v+M)*2+1]}J[0]=x;
J[1]=v;J[2]=[o[1],o[0]]};g.ZH.split=function(J,v,x){if(v==1)g.ZH.E3(J);var o=J[0],R=J[1],r=J[2][0],l=J[3],M=0;
while(r[M+1]&&r[M+1]<x)M++;var P=(x-r[M])/(r[M+1]-r[M]),S=1-P;for(var c=0;c<R;c++){var h=(c*(o+3)+M*3)*2,b=S*l[h]+P*l[h+2],w=S*l[h+1]+P*l[h+3],U=S*l[h+2]+P*l[h+4],F=S*l[h+3]+P*l[h+5],Y=S*l[h+4]+P*l[h+6],A=S*l[h+5]+P*l[h+7],G=S*b+P*U,n=S*w+P*F,E=S*U+P*Y,K=S*F+P*A,e=S*G+P*E,$=S*n+P*K;
l.splice(h+2,4,b,w,G,n,e,$,E,K,Y,A)}r.push(x);r.sort();J[0]+=3;if(v==1)g.ZH.E3(J)};g.ZH.zc=function(J,v,x,o,R){var r=0,l=0,M=0,P=R[0],S=R[1],c=R[2],b=R[3],w=R[4],U=R[5],F=R[6],Y=R[7],h=(x*o+v)*2;
M=P*w;r+=J[h+0]*M;l+=J[h+1]*M;M=P*U;r+=J[h+2]*M;l+=J[h+3]*M;M=P*F;r+=J[h+4]*M;l+=J[h+5]*M;M=P*Y;r+=J[h+6]*M;
l+=J[h+7]*M;h+=o+o;M=S*w;r+=J[h+0]*M;l+=J[h+1]*M;M=S*U;r+=J[h+2]*M;l+=J[h+3]*M;M=S*F;r+=J[h+4]*M;l+=J[h+5]*M;
M=S*Y;r+=J[h+6]*M;l+=J[h+7]*M;h+=o+o;M=c*w;r+=J[h+0]*M;l+=J[h+1]*M;M=c*U;r+=J[h+2]*M;l+=J[h+3]*M;M=c*F;
r+=J[h+4]*M;l+=J[h+5]*M;M=c*Y;r+=J[h+6]*M;l+=J[h+7]*M;h+=o+o;M=b*w;r+=J[h+0]*M;l+=J[h+1]*M;M=b*U;r+=J[h+2]*M;
l+=J[h+3]*M;M=b*F;r+=J[h+4]*M;l+=J[h+5]*M;M=b*Y;r+=J[h+6]*M;l+=J[h+7]*M;h+=o+o;R[8]=r;R[9]=l};g.GY={};
g.GY.an9=function(J,v,x){var o=Date.now();return g.GY.al$(J,v,x)};g.GY.aso=function(J,v,x,o){var R=x*o,r=new Uint32Array(R),l=new Uint8Array(R),M=new Int16Array(R);
r.fill(4294967295);r[v]=0;var P=new dj(R);P.push(v,r[v]);var S={hm:J,up:r,dE:l,Ju:M,jj:P,ao$:v,rp:[-x-1,-x,-x+1,1,x+1,x,x-1,-1]};
return S};g.GY.rI=function(J,v){var x=J.hm,o=J.up,R=J.dE,r=J.Ju,l=J.jj,M=J.rp;while(l.OJ!=0&&(v==null||R[v]==0)){var P=l.pop();
if(R[P]==1)continue;R[P]=1;for(var h=0;h<8;h++){var S=x[8*P+h],c=P+M[h];if(S==255||R[c]==1)continue;
var b=o[P]+S;if(b<o[c]){o[c]=b;r[c]=P-c;l.push(c,b)}}}};function dj(J){this.list=[];this.OJ=0;this.JE=4294967295}dj.prototype.push=function(J,v){var x=this.list;
if(x[v]==null)x[v]=[];x[v].push(J);this.OJ++;this.JE=Math.min(this.JE,v)};dj.prototype.pop=function(){this.OJ--;
var J=this.list,v=this.JE,x=J[v].pop();if(J[v].length==0){J[v]=null;if(this.OJ==0)this.JE=4294967295;
else{while(J[v]==null)v++;this.JE=v}}return x};g.GY.aAx=function(J,v,x,o){var R=new Int16Array(o);for(var r=0;
r<x;r++)for(var l=0;l<v;l++){var h=r*v+l,M=0;if(1<l&&l<v-2&&1<r&&r<x-2){M+=J[h-v-v];M+=J[h-v-1]+2*J[h-v]+J[h-v+1];
M+=J[h-2]+2*J[h-1]-16*J[h]+2*J[h+1]+J[h+2];M+=J[h+v-1]+2*J[h+v]+J[h+v+1];M+=J[h+v+v]}else M=-16*J[h];
R[h]=M}return R};g.GY.aqL=function(J,v,x,o){if(o==null)o=128;var R=new Uint8Array(v*x);for(var r=1;r<x;
r++)for(var l=1;l<v;l++){var h=r*v+l;g.GY.amT(J,h,h-1,R,o);g.GY.amT(J,h,h-v,R,o)}return R};g.GY.amT=function(J,h,v,x,o){var R=J[h],r=J[v];
if(Math.abs(R-r)>o&&R*r<0){if(Math.abs(R)<Math.abs(r))x[h]=1;else x[v]=1}};g.GY.ad2=function(J,v,x,o){var R=new Float32Array(o),r=0;
R.fill(0);for(var l=0;l<x;l++)for(var M=0;M<v;M++){var P=0,S=0,h=l*v+M,c=h*3;if(0<M&&M<v-1)P=J[h+1]-J[h-1];
if(0<l&&l<x-1)S=J[h+v]-J[h-v];var b=P*P+S*S;if(b!=0){var w=R[c+2]=Math.sqrt(b),U=1/w;R[c]=P*U;R[c+1]=S*U;
if(w>r)r=w}}var F=3*v*x,Y=r==0?0:1/r;for(var h=0;h<F;h+=3)R[h+2]=1-R[h+2]*Y;return R};g.GY.al$=function(){function J(M,P,S){var c=new ArrayBuffer(P*S*12),b=Date.now(),w=g.GY.aAx(M,P,S,c),U=g.GY.aqL(w,P,S),F=g.GY.ad2(M,P,S,c),Y=new Uint8Array(P*S*8);
Y.fill(255);var A=[-P-1,-P,-P+1,1];for(var G=1;G<S-1;G++)for(var n=1;n<P-1;n++){var E=G*P+n;for(var K=0;
K<4;K++)l(E,E+A[K],K,Y,U,F)}return Y}var v=new Float64Array(256);for(var h=0;h<256;h++)v[h]=Math.acos(-1+2*h/255)*(.95/Math.PI);
var x=[-1,0,1,1,1,0,-1,-1],o=[-1,-1,-1,0,1,1,1,0];for(var h=0;h<8;h++){var R=1/Math.sqrt(x[h]*x[h]+o[h]*o[h]);
x[h]*=R;o[h]*=R}var r=[x[0],o[0],x[1],o[1],x[2],o[2],x[3],o[3]];function l(M,P,S,c,b,w){var U=3*M,F=3*P,Y=1-b[P],A=1-b[M],G=(S&1)==0?1:Math.SQRT1_2,n=w[F+2]*G,E=w[U+2]*G,K=w[F+1],e=-w[F],$=w[U+1],N=-w[U],k=r[S+S],V=r[S+S+1],X=$*k+N*V,Q=K*k+e*V;
if(X+Q<0){X=-X;Q=-Q}var L=v[~~((.5+.5*X)*255)]+v[~~((.5+.5*Q)*255)];c[(M<<3)+S]=1+~~(.5+20*(.43*Y+.43*L+.14*n));
c[(P<<3)+S+4]=1+~~(.5+20*(.43*A+.43*L+.14*E))}return J}();g.yJ={};g.yJ.Z8=function(J){var v=J.slice(0),x=0;
for(var h=0;h<J.length;h++)x+=J[h];for(var h=0;h<J.length;h++)v[h]/=x;return v};g.yJ.lW=[g.yJ.Z8([1,2,1,2,16,2,1,2,1]),g.yJ.Z8([1,2,1,2,4,2,1,2,1]),g.yJ.Z8([0,-1,0,-1,8,-1,0,-1,0]),g.yJ.Z8([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
g.yJ.Ty=function(J,v,x,o,R,r,l){if(l==null)l=!1;var M=Math.floor(Math.sqrt(R.length)),P=M-1>>>1,S=g.u3(J),c=g.JN(S),b=new Uint32Array(J.buffer),w=new Uint8ClampedArray(v.buffer);
for(var h=0;h<o;h++)for(var U=0;U<x;U++){var F=0,Y=0,A=0,G=0;for(var n=0;n<M;n++)for(var E=0;E<M;E++){var K=R[n*M+E];
if(K==0)continue;var e=U-P+E,$=h-P+n;if(e<0)e=0;else if(e>x-1)e=x-1;if($<0)$=0;else if($>o-1)$=o-1;if(S==8){var N=b[$*x+e];
F+=(N&255)*K;Y+=(N>>>8&255)*K;A+=(N>>>16&255)*K;G+=(N>>>24&255)*K}else{var k=$*x+e<<2;F+=J[k]*K;Y+=J[k+1]*K;
A+=J[k+2]*K;G+=J[k+3]*K}}if(l){if(F<0)F=-F;if(Y<0)Y=-Y;if(A<0)A=-A;if(G<0)G=-G}var V=h*x+U<<2;if(S==8){w[V]=~~(.5+F);
w[V+1]=~~(.5+Y);w[V+2]=~~(.5+A);if(r)w[V+3]=~~(.5+G)}else{v[V]=Math.max(0,Math.min(c,F));v[V+1]=Math.max(0,Math.min(c,Y));
v[V+2]=Math.max(0,Math.min(c,A));if(r)v[V+3]=Math.max(0,Math.min(c,G))}}};g.yJ.aya=function(J,v,x,o){var R=J.length,r=new Uint8Array(R);
g.yJ.Ty(J,v,x,o,g.yJ.lW[4],!1,!0);g.yJ.Ty(J,r,x,o,g.yJ.lW[5],!1,!0);for(var h=0;h<R;h+=4){var l=v[h],M=v[h+1],P=v[h+2],S=v[h+3],c=r[h],b=r[h+1],w=r[h+2],U=r[h+3];
v[h]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+c*c)));v[h+1]=255-Math.max(0,Math.min(255,Math.sqrt(M*M+b*b)));
v[h+2]=255-Math.max(0,Math.min(255,Math.sqrt(P*P+w*w)))}};g.yJ.aIy=function(J,v,x,o){var R=J.length,r=new Uint8Array(R);
g.yJ.yr(J,v,x,o,g.yJ.lW[4],!0);g.yJ.yr(J,r,x,o,g.yJ.lW[5],!0);for(var h=0;h<R;h++){var l=v[h],M=r[h];
v[h]=255-Math.max(0,Math.min(255,Math.sqrt(l*l+M*M)))}};g.yJ.yr=function(J,v,x,o,R,r){v=new Uint8ClampedArray(v.buffer);
var l=[-x-1,-x,-x+1,-1,0,1,x-1,x,x+1],M=o-1,P=x-1;for(var h=1;h<M;h++)for(var S=1;S<P;S++){var c=h*x+S,b=g.yJ.z3(J,c,x,R);
if(r){if(b<0)b=-b}v[c]=~~(b+.5)}};g.yJ.z3=function(J,v,x,o){return J[v-x-1]*o[0]+J[v-x]*o[1]+J[v-x+1]*o[2]+J[v-1]*o[3]+J[v]*o[4]+J[v+1]*o[5]+J[v+x-1]*o[6]+J[v+x]*o[7]+J[v+x+1]*o[8]};
g.yJ.ai9=function(J,v,x,o,R){var r=[-x-1,-x,-x+1,-1,0,1,x-1,x,x+1],l=o-1,M=x-1;for(var h=1;h<l;h++)for(var P=1;
P<M;P++){var S=h*x+P;v[S]=g.yJ.ats(J,S,x,R)}};g.yJ.ats=function(J,v,x,o){return J[v-x-1]*o[0]+J[v-x]*o[1]+J[v-x+1]*o[2]+J[v-1]*o[3]+J[v]*o[4]+J[v+1]*o[5]+J[v+x-1]*o[6]+J[v+x]*o[7]+J[v+x+1]*o[8]};
g.Q7={};g.Q7.z8=function(){function J(l,M,P,S,c,b){if(c==0){M.set(l);return}var w=g.C(P*S),U=g.C(P*S);
if(g.LQ(l)){v(l,M,P,S,c,b);g.Vi(l,w,3);g.Q7.aAm(w,U,P,S,c,b);g.Os(U,M,3)}else{for(var h=0;h<3;h++){g.Vi(l,w,h);
g.Q7.aAm(w,U,P,S,c,b);g.Os(U,M,h)}}}function v(l,M,P,S,c,b){var w=0,U=new ArrayBuffer(512*4*3),F=[new Int32Array(U,0),new Int32Array(U,2048),new Int32Array(U,2*2048)],Y=1+2*Math.round(Math.sqrt(c)),A=Y>>>1,G=new Array(Y),n=new Array(Y);
for(var h=0;h<Y;h++){var U=new ArrayBuffer(512*4*3);G[h]=[new Int32Array(U,0),new Int32Array(U,2048),new Int32Array(U,2*2048)];
n[h]=G[h][0]}var E=[g.Q7.M2,g.Q7.kW][b],K=E[0],e=E[1],$=F[0];for(var N=0;N<P;N++)if(N<c||N>P-c-Y-1){$.fill(0);
var k=Math.max(N-c,0),V=Math.min(P,N+c+1),X=V-k;for(var Q=0;Q<c;Q++)o($,l,Q*P+k,Q*P+V,1);for(var Q=0;
Q<S;Q++){var L=Q-c-1,_=Q+c;if(_<S)o($,l,_*P+k,_*P+V,1);if(L>=0)o($,l,L*P+k,L*P+V,-1);var a=Q*P+N<<2;
w=$[300];if(w!=0)for(var h=0;h<3;h++)M[a+h]=K(F[h],l[a+h],w)}}else{for(var h=0;h<Y;h++)n[h].fill(0);
var k=N-c+A,V=N+c+1+A;for(var Q=0;Q<c;Q++)x(n,l,Q*P+k,Q*P+V,1,A);for(var Q=0;Q<S;Q++){var L=Q-c-1,_=Q+c;
if(L>=0)x(n,l,L*P+k,L*P+V,-1,A);if(_<S)x(n,l,_*P+k,_*P+V,1,A);var T=G[A];w=T[0][300];for(var h=0;h<A;
h++){var f=A-1-h,Z=A+1+h,W=G[f],D=G[Z],C=w+W[0][300],d=w+D[0][300],y=Q*P+N+f<<2,i=Q*P+N+Z<<2;if(C!=0)for(var t=0;
t<3;t++)M[y+t]=e(T[t],W[t],l[y+t],C);if(d!=0)for(var t=0;t<3;t++)M[i+t]=e(T[t],D[t],l[i+t],d)}var a=Q*P+N+A<<2;
if(w!=0)for(var t=0;t<3;t++)M[a+t]=K(T[t],l[a+t],w)}N+=Y-1}}function x(l,M,P,S,c,b){var w=R,U=P<<2,F=S<<2;
w(l[b-1],M,P-1<<2,c);w(l[b-1],M,S-1<<2,-c);w(l[b+1],M,S<<2,c);w(l[b+1],M,P<<2,-c);for(var h=1;h<b;h++){var Y=l[b-h-1],A=l[b+h+1];
for(var G=0;G<=h;G++){var n=G<<2;w(Y,M,P-1-G<<2,c);w(Y,M,S-1-G<<2,-c);w(A,M,S+G<<2,c);w(A,M,P+G<<2,-c)}}o(l[b],M,P,S,c)}function o(l,M,h,P,S){var c=h<<2,b=P<<2;
while(c<b){R(l,M,c,S);c+=4}}function R(l,M,P,S){var c=S*M[P+3];l[300]+=c;r(l,M[P],0,c);r(l,M[P+1],512,c);
r(l,M[P+2],1024,c)}function r(l,M,P,S){l[P|M]+=S;l[P|256|M>>>4]+=S}return J}();g.Q7.aAm=function(){function J(b,w,U,F,Y,A){if(Y==0){w.set(b);
return}if(Y<=200)v(b,w,U,F,Y,A);else r(b,w,U,F,Y,A)}function v(b,w,U,F,Y,A){var G=0,n=new Int32Array(512),E=1+2*Math.round(Math.sqrt(Y)),K=E>>>1,e=new Array(E);
for(var h=0;h<E;h++)e[h]=new Int32Array(512);var $=[g.Q7.M2,g.Q7.kW][A],N=$[0],k=$[1];for(var V=0;V<U;
V++)if(V<Y||V>U-Y-E-1){n.fill(0);G=0;var X=Math.max(V-Y,0),Q=Math.min(U,V+Y+1),L=Q-X;for(var _=0;_<Y;
_++){G+=L;o(n,b,_*U+X,_*U+Q,1)}for(var _=0;_<F;_++){var a=_-Y-1,T=_+Y;if(a>=0){G-=L;o(n,b,a*U+X,a*U+Q,-1)}if(T<F){G+=L;
o(n,b,T*U+X,T*U+Q,1)}var f=N(n,b[_*U+V],G);w[_*U+V]=f}}else{for(var h=0;h<E;h++)e[h].fill(0);G=0;var X=V-Y+K,Q=V+Y+1+K,L=Q-X;
for(var _=0;_<Y;_++){G+=L;x(e,b,_*U+X,_*U+Q,1,K)}for(var _=0;_<F;_++){var a=_-Y-1,T=_+Y;if(a>=0){G-=L;
x(e,b,a*U+X,a*U+Q,-1,K)}if(T<F){G+=L;x(e,b,T*U+X,T*U+Q,1,K)}for(var h=0;h<K;h++){var Z=K-1-h,W=K+1+h;
w[_*U+V+Z]=k(e[K],e[Z],b[_*U+V+Z],G);w[_*U+V+W]=k(e[K],e[W],b[_*U+V+W],G)}w[_*U+V+K]=N(e[K],b[_*U+V+K],G)}V+=E-1}}function x(b,w,U,F,Y,A){var G=R;
G(b[A-1],w[U-1],0,Y);G(b[A-1],w[F-1],0,-Y);G(b[A+1],w[F],0,Y);G(b[A+1],w[U],0,-Y);for(var h=1;h<A;h++){var n=b[A-h-1],E=b[A+h+1];
for(var K=0;K<=h;K++){G(n,w[U-1-K],0,Y);G(n,w[F-1-K],0,-Y);G(E,w[F+K],0,Y);G(E,w[U+K],0,-Y)}}o(b[A],w,U,F,Y)}function o(b,w,h,U,F){while(h<U)R(b,w[h++],0,F)}function R(b,w,U,F){b[U|w]+=F;
b[U|256|w>>>4]+=F}function r(b,w,U,F,Y,A){var G=0,n=new Int32Array(512),E=new Int32Array(1*U),K=new Int32Array(512*U),e=Math.min(Y,U),$=Math.min(Y,F),N=[g.Q7.M2,g.Q7.kW][A],k=N[0];
for(var V=0;V<$;V++)l(K,E,b,U,V,1);for(var V=0;V<F;V++){if(V+Y<F)l(K,E,b,U,V+Y,1);if(V-Y-1>=0)l(K,E,b,U,V-Y-1,-1);
n.fill(0);G=0;for(var X=0;X<e;X++){G+=E[X];M(n,K,X)}for(var X=0;X<U;X++){var Q=X-Y-1,L=X+Y;if(Q>=0&&E[Q]!=0){G-=E[Q];
P(n,K,Q)}if(L<U&&E[L]!=0){G+=E[L];M(n,K,L)}var _=G==0?0:k(n,b[V*U+X],G);w[V*U+X]=_}}}function l(b,w,U,F,Y,A){var h=Y*F;
for(var G=0;G<F;G++){R(b,U[h+G],G<<9,A);w[G]+=A}}function M(b,w,U){for(var h=0;h<16;h++){var F=w[U<<9|256|h];
if(F==0)continue;b[256|h]+=F;var Y=h<<4,A=U<<9|Y;S(b,w,Y,A);S(b,w,Y+4,A+4);S(b,w,Y+8,A+8);S(b,w,Y+12,A+12)}}function P(b,w,U){for(var h=0;
h<16;h++){var F=w[U<<9|256|h];if(F==0)continue;b[256|h]-=F;var Y=h<<4,A=U<<9|Y;c(b,w,Y,A);c(b,w,Y+4,A+4);
c(b,w,Y+8,A+8);c(b,w,Y+12,A+12)}}function S(b,w,U,F){b[U]+=w[F];b[U+1]+=w[F+1];b[U+2]+=w[F+2];b[U+3]+=w[F+3]}function c(b,w,U,F){b[U]-=w[F];
b[U+1]-=w[F+1];b[U+2]-=w[F+2];b[U+3]-=w[F+3]}return J}();g.Q7.wg=.5;g.Q7.M2=[function(J,v,x){var o=~~(.5+g.Q7.wg*x),R=0,h=256;
while(R+J[h]<o)R+=J[h++];h=h-256<<4;while(R<o)R+=J[h++];return h-1},function(J,v,x,o){var R=~~(.5+g.Q7.wg*o),r=0,h=256;
while(r+J[h]+v[h]<R){r+=J[h]+v[h];h++}h=h-256<<4;while(r<R){r+=J[h]+v[h];h++}return h-1}];g.Q7.IU=100;
g.Q7.kW=[function(J,v,x){var o=g.Q7.IU,R=0,r=0,h=Math.max(0,v-o),l=Math.min(256,v+o+1);while(h<l){var M=J[h];
R+=h*M;r+=M;h++}return r==0?0:R/r},function(J,v,x,o){var R=g.Q7.IU,r=0,l=0,h=Math.max(0,x-R),M=Math.min(256,x+R+1);
while(h<M){var P=J[h]+v[h];r+=h*P;l+=P;h++}return l==0?0:r/l}];g.O={};g.O.aQ=function(J){var v=H.ge.t1(J.Trnf),x=new jj(0,0,1e3,1e3);
if(J.Sz){var o=J.Sz.v;x=new jj(0,0,o.Wdth.v,o.Hght.v)}var R=g.O.e6(v,x);return g.O.f4(R)};g.O.e6=function(J,v){var x=J[0],o=J[1],R=J[2],r=J[3],l=J[6],M=J[7],P=J[4],S=J[5],c=0,b=0,w=1,U=0,F=0,Y=1,A=1,G=1;
if(v){c=v.x;b=v.y;w=v.x+v.r;U=v.y;F=v.x;Y=v.y+v.$;A=v.x+v.r;G=v.y+v.$}return g.O.aGQ(J,[c,b,w,U,A,G,F,Y])};
g.O.aFJ=function(J){function v(R,r){for(var h=0;h<r.length;h+=2)if(!x(R,r[h],r[h+1]))return!1;return!0}function x(R,r,l){return R[2*r]==R[2*l]&&R[2*r+1]==R[2*l+1]}var o=0;
if(v(J,[0,1,2,3]))o+=1;if(v(J,[0,3,1,2]))o+=2;return o};g.O.aGQ=function(J,v){function x(f,h,Z){var _=f[h*2]-f[Z*2],a=f[h*2+1]-f[Z*2+1];
return Math.sqrt(_*_+a*a)}var o=J[0],R=J[1],r=J[2],l=J[3],M=J[6],P=J[7],S=J[4],c=J[5],b=v[0],w=v[1],U=v[2],F=v[3],Y=v[6],A=v[7],G=v[4],n=v[5],E=[[b,w,1,0,0,0,-b*o,-w*o,o],[0,0,0,b,w,1,-b*R,-w*R,R],[U,F,1,0,0,0,-U*r,-F*r,r],[0,0,0,U,F,1,-U*l,-F*l,l],[Y,A,1,0,0,0,-Y*M,-A*M,M],[0,0,0,Y,A,1,-Y*P,-A*P,P],[G,n,1,0,0,0,-G*S,-n*S,S],[0,0,0,G,n,1,-G*c,-n*c,c]],K=[0,0,0,0,0,0,0,0],e=g.gf.eU(E,K);
if(e!=0){K=[0,0,0,0,0,0,0,0];var $=g.O.aFJ(J),N=g.O.aFJ(v);if($==N&&$!=0){var k=$==1,V=k?3:1,X=x(J,0,V),Q=x(v,0,V),L=Q/X,_=J[2*V]-J[0],a=J[2*V+1]-J[1],T=new bC;
T.translate(-o,-R);T.rotate(Math.atan2(a,_)-(k?Math.PI/2:0));if(k)T.scale(1,L);else T.scale(L,1);T.translate(b,w);
T.SV();K=g.O.Mf(T)}}return K};g.O.C=function(J,v){if(J==null)J=v=0;return[1,0,J,0,1,v,0,0]};g.O.Vl=function(J){return Math.abs(J[6])<1e-10&&Math.abs(J[7])<1e-10};
g.O.f4=function(J){return new bC(J[0],J[3],J[1],J[4],J[2],J[5])};g.O.Mf=function(J){return[J.o5,J.Mz,J.zP,J.c,J.fn,J.jD,0,0]};
g.O.u=function(J,v){var x=new Float64Array(2);for(var o=0;o<v.length;o+=2){var R=v[o],r=v[o+1];g.O.jf(R,r,J,x);
v[o]=x[0];v[o+1]=x[1]}};g.O.jf=function(J,v,x,o){var R=1/(x[6]*J+x[7]*v+1);o[0]=(x[0]*J+x[1]*v+x[2])*R;
o[1]=(x[3]*J+x[4]*v+x[5])*R};g.O.aoN=function(J,v){var x=new Float64Array(2);g.O.jf(v.x,v.y,J,x);return new aG(x[0],x[1])};
g.O.E3=function(J,v,x,o){J=new Uint32Array(J.buffer);v=new Uint32Array(v.buffer);for(var R=0;R<o;R++){for(var r=0;
r<x;r++){v[r*o+R]=J[R*x+r]}}};g.O.Ot=function(J,v,x,o){J=new Uint32Array(J.buffer);v=new Uint32Array(v.buffer);
for(var R=0;R<o;R++){for(var r=0;r<x;r++){v[R*x+r]=J[R*x+x-1-r]}}};g.O.av5=function(J,v,x,o){J=new Uint32Array(J.buffer);
v=new Uint32Array(v.buffer);for(var R=0;R<o;R++){for(var r=0;r<x;r++){v[R*x+r]=J[(o-1-R)*x+r]}}};g.O.a3D=function(J){return Math.abs(J[6])<1e-9&&Math.abs(J[7])<1e-9};
g.O.a3h=function(J){return Math.abs(J[0])<1e-9&&Math.abs(J[4])<1e-9||Math.abs(J[1])<1e-9&&Math.abs(J[3])<1e-9};
g.O.drawImage=function(J,v,x,o,R,r,l,M){if(l==null)l=!1;var P=g.O.SV(J),S=!0,c=0;for(var h=0;h<8;h++){var b=Math.round(J[h]);
if(h!=2&&h!=5)c+=Math.abs(b);if(Math.abs(b-J[h])>1e-9)S=!1}var w=g.O.a3D(J),U=g.O.a3h(J)&&w,F=U?1:0;
if(g.u3(v)!=8){g.O.aIF(P,v,x,o,R,r,w,l||M);return}if(l||S&&c==x+o&&w){g.O.ar6(P,v,x,o,R,r,w,M);return}var Y=r.r,A=r.$,G=new Float64Array(2);
R=new Uint32Array(R.buffer);v=new Uint32Array(v.buffer);for(var n=0;n<A;n++)for(var E=0;E<Y;E++){var K=n*Y+E,e,$,N,k,D=0,C=0,d=0,p=0;
R[K]=0;var V=E+r.x+.5,X=n+r.y+.5;e=V;$=X;N=P;var Q=N[0]*e+N[1]*$+N[2],L=N[3]*e+N[4]*$+N[5];if(!w){k=1/(N[6]*e+N[7]*$+1);
Q*=k;L*=k}var _=Q*x,a=L*o,T=_<-1||_>x+1||a<-1||a>o+1;if(T)continue;var f=g.O.aCv(J,x,o,V,X,Q,L),Z=Math.round(f*2.3);
if(f<1.1){g.O.ft(_,a,v,x,o,R,K,F);continue}if(_<.6||_>x-.6||a<.6||a>o-.6){Z=Math.max(Z,5)}var W=1/Z,y=r.x+E,i=r.y+n;
N=P;for(var h=0;h<Z;h++)for(var t=0;t<Z;t++){e=y+(h+.5)*W;$=i+(t+.5)*W;var _=N[0]*e+N[1]*$+N[2],a=N[3]*e+N[4]*$+N[5];
if(!w){k=1/(N[6]*e+N[7]*$+1);_*=k;a*=k}if(_<0||_>=1||a<0||a>=1)continue;_=Math.floor(_*x);a=Math.floor(a*o);
var O=a*x+_,q=v[O],z=q>>>24;D+=(q&255)*z;C+=(q>>>8&255)*z;d+=(q>>>16&255)*z;p+=z}if(p!=0){var jw=1/p;
D=~~(D*jw+.5);C=~~(C*jw+.5);d=~~(d*jw+.5);p=~~(p*W*W+.5);R[K]=p<<24|d<<16|C<<8|D}}};g.O.aIF=function(J,v,x,o,R,r,l,M){var P=r.r,S=r.$,c=new bC;
c.scale(x,o);c.translate(1,1);var b=g.O.K1(g.O.Mf(c),J),w=new jj(0,0,x,o),U=w.Q();U.rz(1,1);var F=g.C(U.o()*4,g.u3(v));
g.sW(v,w,F,U);x=U.r;o=U.$;var Y=r.x+.5,A=r.y+.5;g.X7(F);for(var G=0;G<S;G++)for(var n=0;n<P;n++){var E=G*P+n<<2,K=n+Y,e=G+A,$=b[0]*K+b[1]*e+b[2],N=b[3]*K+b[4]*e+b[5];
if(!l){var k=1/(b[6]*K+b[7]*e+1);$*=k;N*=k}if($<.5||$>x-.5||N<.5||N>o-.5){R[E]=0;R[E+1]=0;R[E+2]=0;R[E+3]=0}else if(M){var V=~~N*x+~~$<<2;
R[E]=F[V];R[E+1]=F[V+1];R[E+2]=F[V+2];R[E+3]=F[V+3]}else g.O.apk($,N,F,x,R,E)}g.Z4(R)};g.O.aCv=function(J,v,x,o,R,r,l){var M=g.O.ajP(J,o,R,r+1/v,l),P=g.O.ajP(J,o,R,r,l+1/x);
return 1/Math.sqrt(Math.max(M,P))};g.O.ajP=function(J,v,x,o,R){var r=1/(J[6]*o+J[7]*R+1),l=(J[0]*o+J[1]*R+J[2])*r-v,M=(J[3]*o+J[4]*R+J[5])*r-x;
return l*l+M*M};g.O.ar6=function(J,v,x,o,R,r,l,M){if(l&&r.o()>4e6&&M){g.O.a4e(J,v,x,o,R,r,l,M);return}var P=r.x+r.r,S=r.y+r.$,c=0,b=new Uint32Array(R.buffer),w=new Uint32Array(v.buffer),U=J[0]*x,F=J[1]*x,Y=J[2]*x,A=J[3]*o,G=J[4]*o,n=J[5]*o,E=J[6],K=J[7];
if(l)for(var e=r.y+.5;e<S;e++)for(var $=r.x+.5;$<P;$++){var N=U*$+F*e+Y,k=A*$+G*e+n;if(0<N&&N<x&&0<k&&k<o){var V=~~k*x+~~N;
b[c]=w[V]}else b[c]=0;c++}else for(var e=r.y+.5;e<S;e++)for(var $=r.x+.5;$<P;$++){var X=1/(E*$+K*e+1),N=(U*$+F*e+Y)*X,k=(A*$+G*e+n)*X;
if(0<N&&N<x&&0<k&&k<o){var V=Math.floor(k)*x+Math.floor(N);b[c]=w[V]}else b[c]=0;c++}};g.O.a4e=function(J,v,x,o,R,r,l,M){var P=new Uint32Array(R.buffer),S=new Uint32Array(v.buffer),K=0;
if(M&&(r.r&3)!=0)throw"e";var c=J[0]*x,b=J[1]*x,w=J[2]*x,U=J[3]*o,F=J[4]*o,Y=J[5]*o,A=J[6],G=J[7],n=r.r,E=r.$,e=r.x+.5,$=r.y+.5,N=(n>>>2<<2)-1e-9,k=-.1+(E>>>1<<1)-1e-9,V=~~x,X=c==0?0:1/c,Q=U==0?0:1/U;
for(var L=0;L<E;L++){var _=e*c+b*(L+$)+w,a=e*U+F*(L+$)+Y,T=0,f=n;if(c==0){}else if(X>0){T=Math.max(T,-_*X);
f=Math.min(f,(x-_)*X)}else{f=Math.min(f,-_*X);T=Math.max(T,(x-_)*X)}if(U==0){}else if(Q>0){T=Math.max(T,-a*Q);
f=Math.min(f,(o-a)*Q)}else{f=Math.min(f,-a*Q);T=Math.max(T,(o-a)*Q)}if(f<0)f=0;if(T>f)T=f;T=~~Math.ceil(T);
f=~~f;K=~~(L*n);P.fill(0,K,K+T);K+=T;for(var Z=T;Z<f;Z+=4){var W=c*Z+_,D=U*Z+a,C=~~D*V+~~W,d=S[C];P[K]=d;
P[K+1]=d;P[K+2]=d;P[K+3]=d;K+=4}P.fill(0,K,K+n-f)}};g.O.SV=function(J){var v=J[4]-J[5]*J[7],x=J[2]*J[7]-J[1],o=J[1]*J[5]-J[2]*J[4],R=J[5]*J[6]-J[3],r=J[0]-J[2]*J[6],l=J[3]*J[2]-J[0]*J[5],M=J[3]*J[7]-J[4]*J[6],P=J[1]*J[6]-J[0]*J[7],S=1/(J[0]*J[4]-J[1]*J[3]);
return[v*S,x*S,o*S,R*S,r*S,l*S,M*S,P*S]};g.O.K1=function(J,v){var x=J[0],o=J[1],R=J[2],r=J[3],l=J[4],M=J[5],P=J[6],S=J[7],c=v[0],b=v[1],w=v[2],U=v[3],F=v[4],Y=v[5],A=v[6],G=v[7],n=[x*c+o*U+R*A,x*b+o*F+R*G,x*w+o*Y+R,r*c+l*U+M*A,r*b+l*F+M*G,r*w+l*Y+M,P*c+S*U+A,P*b+S*F+G],E=1/(P*w+S*Y+1);
for(var h=0;h<8;h++)n[h]*=E;return n};g.O.ft=function(J,v,x,o,R,r,l,M){var P=J,S=v,w=0,U=0,F=0,Y=0;J-=.499999;
v-=.499999;var c=Math.floor(J),b=Math.floor(v);if(M==0){var h=b*o+c,A=c>=0&&c<o,G=c+1>=0&&c+1<o,n=b>=0&&b<R,E=b+1>=0&&b+1<R;
if(A&&n)w=x[h];if(G&&n)U=x[h+1];if(A&&E)F=x[h+o];if(G&&E)Y=x[h+o+1]}else if(M==1){var K=c<0?0:c>o-1?o-1:c,e=c<-1?0:c>o-2?o-1:c+1,$=b<0?0:b>R-1?R-1:b,N=b<-1?0:b>R-2?R-1:b+1;
w=x[$*o+K];U=x[$*o+e];F=x[N*o+K];Y=x[N*o+e]}else{var K=(c+50*o)%o,e=(c+50*o+1)%o,$=(b+50*R)%R,N=(b+50*R+1)%R;
w=x[$*o+K];U=x[$*o+e];F=x[N*o+K];Y=x[N*o+e]}var k=J-c,V=v-b,X=(1-V)*(1-k)*(w>>>24),Q=(1-V)*k*(U>>>24),L=V*(1-k)*(F>>>24),_=V*k*(Y>>>24),a=X+Q+L+_,T=X*(w&255)+Q*(U&255)+L*(F&255)+_*(Y&255),f=X*(w>>>8&255)+Q*(U>>>8&255)+L*(F>>>8&255)+_*(Y>>>8&255),Z=X*(w>>>16&255)+Q*(U>>>16&255)+L*(F>>>16&255)+_*(Y>>>16&255);
if(a==0)r[l]=0;else{var W=1/a;T=~~(T*W+.5);f=~~(f*W+.5);Z=~~(Z*W+.5);a=~~(a+.5);r[l]=a<<24|Z<<16|f<<8|T}};
g.O.apk=function(J,v,x,o,R,r){var l=J-.499999,M=v-.499999,P=~~l,S=~~M,c=l-P,b=M-S,w=(1-b)*(1-c),U=(1-b)*c,F=b*(1-c),Y=b*c,A=S*o+P<<2,G=(S+1)*o+P<<2;
R[r]=w*x[A]+U*x[A+4]+F*x[G]+Y*x[G+4];R[r+1]=w*x[A+1]+U*x[A+5]+F*x[G+1]+Y*x[G+5];R[r+2]=w*x[A+2]+U*x[A+6]+F*x[G+2]+Y*x[G+6];
R[r+3]=w*x[A+3]+U*x[A+7]+F*x[G+3]+Y*x[G+7]};g.O.aFg=function(J,v,x,o,R,r){var l=J-.499999,M=v-.499999,P=~~l,S=~~M,c=l-P,b=M-S,w=(1-b)*(1-c),U=(1-b)*c,F=b*(1-c),Y=b*c,A=S*o+P<<2,G=(S+1)*o+P<<2,n=w*x[A]+U*x[A+4]+F*x[G]+Y*x[G+4],E=w*x[A+1]+U*x[A+5]+F*x[G+1]+Y*x[G+5],K=w*x[A+2]+U*x[A+6]+F*x[G+2]+Y*x[G+6],e=w*x[A+3]+U*x[A+7]+F*x[G+3]+Y*x[G+7];
r[0]=n;r[1]=E;r[2]=K;r[3]=e};g.O.RX=function(J,v,x,o,R){J-=.499999;v-=.499999;var r=Math.floor(J),l=Math.floor(v),M=J-r,P=v-l,S=(1-P)*(1-M),c=(1-P)*M,b=P*(1-M),w=P*M,U=(r+50*o)%o,F=(r+1+50*o)%o,Y=(l+50*R)%R,A=(l+1+50*R)%R,G=x[Y*o+U],n=x[Y*o+F],E=x[A*o+U],K=x[A*o+F];
if(G==null||K==null)throw"e";return S*G+c*n+b*E+w*K};g.O.aCT=function(J,v,x,o,R){J-=.499999;v-=.499999;
var r=Math.floor(J),l=Math.floor(v),M=J-r,P=v-l,S=(1-P)*(1-M),c=(1-P)*M,b=P*(1-M),w=P*M,U=l*o+r,F=U+o;
return S*x[U]+c*x[U+1]+b*x[F]+w*x[F+1]};g.O.auI=function(J,v,x,o,R){J-=.499999;v-=.499999;var r=Math.floor(J),l=Math.floor(v),M=J-r,P=v-l,S=(1-P)*(1-M),c=(1-P)*M,b=P*(1-M),w=P*M,U=l*o+r,F=U+o;
return S*x[U]+c*x[U+1]+b*x[F]+w*x[F+1]};g.O.aaX=function(J,v,x,o,R){J-=.499999;v-=.499999;var r=Math.floor(J),l=Math.floor(v),M=J-r,P=v-l,S=(1-P)*(1-M),c=(1-P)*M,b=P*(1-M),w=P*M,U=l*o+r,F=U+o;
return S*x[U]+c*x[U+1]+b*x[F]+w*x[F+1]};g.O.aI$=function(J,v,x,o,R,r,l,M,P,S,c,b){var w=new Uint32Array(J.buffer),U=new Uint32Array(o.buffer),F=(1+2*S)/R,Y=[],A=[];
for(var G=0;G<R;G++){var n=-.25+S-G*F;Y.push(Math.cos(2*Math.PI*n)*b/c);Y.push(Math.sin(2*Math.PI*n)/c)}l*=v;
M*=x;for(var E=0;E<r;E++){var K=Math.pow(E/r,P)*r;for(var G=0;G<R;G++){var e=l+Y[G<<1]*K,$=M+Y[(G<<1)+1]*K,N=~~(.5+(e<0?0:e>v-1?v-1:e)),k=~~(.5+($<0?0:$>x-1?x-1:$));
U[E*R+G]=w[k*v+N]}}};g.O.awP=function(J,v,x,o,R,r,l,M,P,S,c,b){var w=new Uint32Array(J.buffer),U=new Uint32Array(o.buffer),F=1/b,Y=[],A=x*4,G=1/A;
for(var n=0;n<A+10;n++)Y.push(Math.pow(n*G,1/P)*x*c);l*=R;M*=r;for(var n=0;n<r;n++)for(var E=0;E<R;E++){var K=F*(E-l),e=n-M,$=1.75-Math.atan2(e,K)*(1/(2*Math.PI));
$=$-~~$;$=($+S)*(1/(1+2*S));var N=Math.sqrt(K*K+e*e);N=Y[~~(N*4)];g.O.ft($*v+.5,N+.5,w,v,x,U,n*R+E,1)}};
g.O.f0=function(J,v,x,o,R){var r=R[0],l=R[1];for(var M=0;M<l;M++)for(var P=0;P<r;P++){var S=R[2]*P+R[3]*M+R[4],c=R[5]*P+R[6]*M+R[7],b=M*r+P<<2,w=c*v+S<<2;
o[b]=J[w+0];o[b+1]=J[w+1];o[b+2]=J[w+2];o[b+3]=J[w+3]}};g.UH=function(){function J(K,e){var $=~~(.499+K*e);
return $<0?0:($>e?e:$)<<2}function v(K,e,$,N,k,V,X,Q){var L=$[0],_=$[1],a=$[2],T=$[3],f=N.r,Z=N.$,W=new Uint32Array(1),D=new Uint8Array(W.buffer),C=Math.round(Math.random()*N.o()*100);
for(var d=0,h=0;d<Z;d++){for(var p=0;p<f;p++,h++){var y=p+k,i=d+V,t=L*y+_*i,O=a*y+T*i,q=0;if(Q==0)q=t+.5;
else if(Q==1)q=2*Math.sqrt(t*t+O*O);else if(Q==2)q=(Math.PI+Math.atan2(-O,-t))/(2*Math.PI);else if(Q==3)q=Math.abs(t*2);
else if(Q==4)q=2*(Math.abs(t)+Math.abs(O));var z=J(q,X),jw=p*4;W[0]=g.v.us(h+C);for(var u=0;u<4;u++){var iH=e[z+u]*255,s=Math.floor(iH);
if(D[u]<(iH-s)*255)s++;K[(h<<2)+u]=s}}}}function x(K,h,e,$,N){var k=h<<2;K[k]=e[$]*N;K[k+1]=e[$+1]*N;
K[k+2]=e[$+2]*N;K[k+3]=e[$+3]*N}var o=[function(K,e,$,N,k,V,X,Q){var L=$[0],_=$[1],a=$[2],T=$[3],f=N.r,Z=N.$;
for(var W=0,h=0;W<Z;W++)for(var D=0;D<f;D++,h++){var C=D+k,d=W+V,p=L*C+_*d,y=a*C+T*d,i=p+.5;x(K,h,e,J(i,X),Q)}},function(K,e,$,N,k,V,X,Q){var L=$[0],_=$[1],a=$[2],T=$[3],f=N.r,Z=N.$;
for(var W=0,h=0;W<Z;W++)for(var D=0;D<f;D++,h++){var C=D+k,d=W+V,p=L*C+_*d,y=a*C+T*d,i=2*Math.sqrt(p*p+y*y);
x(K,h,e,J(i,X),Q)}},function(K,e,$,N,k,V,X,Q){var L=$[0],_=$[1],a=$[2],T=$[3],f=N.r,Z=N.$;for(var W=0,h=0;
W<Z;W++)for(var D=0;D<f;D++,h++){var C=D+k,d=W+V,p=L*C+_*d,y=a*C+T*d,i=(Math.PI+Math.atan2(-y,-p))/(2*Math.PI);
x(K,h,e,J(i,X),Q)}},function(K,e,$,N,k,V,X,Q){var L=$[0],_=$[1],a=$[2],T=$[3],f=N.r,Z=N.$;for(var W=0,h=0;
W<Z;W++)for(var D=0;D<f;D++,h++){var C=D+k,d=W+V,p=L*C+_*d,y=a*C+T*d,i=Math.abs(p*2);x(K,h,e,J(i,X),Q)}},function(K,e,$,N,k,V,X,Q){var L=$[0],_=$[1],a=$[2],T=$[3],f=N.r,Z=N.$;
for(var W=0,h=0;W<Z;W++)for(var D=0;D<f;D++,h++){var C=D+k,d=W+V,p=L*C+_*d,y=a*C+T*d,i=2*(Math.abs(p)+Math.abs(y));
x(K,h,e,J(i,X),Q)}}];function R(K,e,$,N,k,V,X,Q,L,_,a,T){var Z=K.Clrs,W=1023,D=Z?r(K,L,_):null,C=Z?S(K,D,W+1,X):M(K,W+1,X),d=g.u3(e),p=g.JN(d);
if(d==8&&T&&Z){v(e,C,N,$,$.x-k,$.y-V,W,Q)}else if(Q<5){o[Q](e,C,N,$,$.x-k,$.y-V,W,p)}else{var y=g.N2(C,8),i=$.r,t=$.$,O=a.j8-a._r,q=1/O,z=a.ti.r-$.r>>1,jw=a.ti.$-$.$>>1,u=a.ti.r,iH=-.6*q,s=(-.6+.4)*q,bV=(-.6+2*.4)*q,jU=(-.6+3*.4)*q;
for(var hx=0,h=0;hx<t;hx++)for(var eX=0;eX<i;eX++,h+=4){var et=0,f7=0,iY=0,cd=0,jV=(hx+jw)*u+eX+z,g2=(a.RP[jV]-a._r)*q,gV=0;
if(g2<=0||g2>=1){gV=(g2<=0?0:W)<<2;e[h]=y[gV];e[h+1]=y[gV+1];e[h+2]=y[gV+2];e[h+3]=y[gV+3];continue}gV=Math.max(0,Math.min(W-1,Math.round((g2+iH)*W)))<<2;
f7+=y[gV];iY+=y[gV+1];cd+=y[gV+2];et+=y[gV+3];gV=Math.max(0,Math.min(W-1,Math.round((g2+s)*W)))<<2;f7+=y[gV];
iY+=y[gV+1];cd+=y[gV+2];et+=y[gV+3];gV=Math.max(0,Math.min(W-1,Math.round((g2+bV)*W)))<<2;f7+=y[gV];
iY+=y[gV+1];cd+=y[gV+2];et+=y[gV+3];gV=Math.max(0,Math.min(W-1,Math.round((g2+jU)*W)))<<2;f7+=y[gV];
iY+=y[gV+1];cd+=y[gV+2];et+=y[gV+3];e[h]=f7>>>2;e[h+1]=iY>>>2;e[h+2]=cd>>>2;e[h+3]=et>>>2}}}function r(K,e,$){var N=[K.Clrs.v,K.Trns.v],k=[[],[]],V=255;
for(var X=0;X<2;X++)for(var h=0;h<N[X].length;h++){var Q,L=N[X][h].v;if(X==0){var _=L.Type.v.Clry;if(_=="FrgC")Q={z:e>>16&255,H:e>>8&255,c:e&255};
else if(_=="BckC")Q={z:$>>16&255,H:$>>8&255,c:$&255};else Q=l(L.Clr.v)}else{Q=L.Opct.v.val*(255/100);
if(Q<V)V=Q}k[X].push([Q,L.Lctn.v/4096,L.Mdpn.v/100])}k.push(V>254);return k}function l(K){var e,$=K.classID;
if($=="RGBC"){if(K.Rd)e={z:K.Rd.v,H:K.Grn.v,c:K.Bl.v};else e={z:K.redFloat.v*255,H:K.greenFloat.v*255,c:K.blueFloat.v*255}}else if($=="HSBC"){e=g.Pu(K.H.v.val/360,K.Strt.v/100,K.Brgh.v/100);
e.z*=255;e.H*=255;e.c*=255}else if($=="CMYC"){var N=K.Cyn.v,k=K.Mgnt.v,V=K.Ylw.v,X=K.Blck.v,Q=[N/100,k/100,V/100,X/100],L=g.D4(Q);
e={z:L[0]*255,H:L[1]*255,c:L[2]*255}}else if($=="Grsc")e={z:255-K.Gry.v,H:255-K.Gry.v,c:255-K.Gry.v};
else if($=="LbCl"){e=g.XL(K.Lmnc.v,K.A.v,K.B.v)}else if($=="BkCl")e={z:0,H:0,c:0};else console.log(K);
if(isNaN(e.z))e.z=e.H=e.c=0;return e}function M(K,e,$){var N=new Uint32Array(e),k=new Uint8Array(N.buffer);
N.fill(4278190080);var V=[],X=[],Q=K.RndS.v,L=K.Smth.v/4096;for(var h=0;h<4;h++){V[h]=~~(K.Mnm.v[h].v*255/100);
X[h]=~~(K.Mxm.v[h].v*255/100)}var _=g.C(e*4),a=g.C(e);for(var T=0;T<3;T++){g.B.auJ(null,e,1,_,[1+Math.round(L*L*L*60),22,Q*(2+T)]);
g.Vi(_,a,0);g.Os(a,k,T);var f=V[T],Z=X[T];for(var h=0;h<e;h++)k[4*h+T]=Math.max(f,Math.min(Z,k[4*h+T]))}if($)for(var h=0;
h<e/2;h++){var W=N[h];N[h]=N[e-1-h];N[e-1-h]=W}return g.N2(k,32)}function P(K){return{classID:"RGBC",Rd:{t:"doub",v:K.z},Grn:{t:"doub",v:K.H},Bl:{t:"doub",v:K.c}}}function S(K,e,$,N){var k=new Float32Array($*4),V=1/($-0);
for(var h=0;h<$;h++){var X=h*4,Q=b(K,e,(N?$-1-h:h)*V);k[X]=Q[0];k[X+1]=Q[1];k[X+2]=Q[2];k[X+3]=Q[3]}return k}function c(K,e,$,N){var k=new Uint32Array($),V=1/($-0);
for(var h=0;h<$;h++)k[h]=w(K,e,(N?$-1-h:h)*V);return new Uint8Array(k.buffer)}function b(K,e,$){var N=K.Intr.v*(1/4096),k=e[0],V=e[1],X=k.length-1,Q=V.length-1,h=-1,L=0,_=0,a=0,T=0;
if(e[2])L=255;else{while(h<Q&&V[h+1][1]<=$)h++;if(h==-1){L=V[0][0]}else if(h==Q){L=V[h][0]}else{var f=U(V,h,$,N);
L=f*V[h][0]+(1-f)*V[h+1][0]}}h=-1;while(h<X&&k[h+1][1]<=$)h++;if(h==-1){var Z=k[0][0];_=Z.z;a=Z.H;T=Z.c}else if(h==X){var Z=k[h][0];
_=Z.z;a=Z.H;T=Z.c}else{var W=k[h][0],D=k[h+1][0],C=U(k,h,$,N);_=Math.min(255,C*W.z+(1-C)*D.z);a=Math.min(255,C*W.H+(1-C)*D.H);
T=Math.min(255,C*W.c+(1-C)*D.c)}return[_*(1/255),a*(1/255),T*(1/255),L*(1/255)]}function w(K,e,$){var N=b(K,e,$),k=~~(.5+N[0]*255),V=~~(.5+N[1]*255),X=~~(.5+N[2]*255),Q=~~(.5+N[3]*255);
return Q<<24|X<<16|V<<8|k}function U(K,h,e,$){if(K.length==2)$*=.5;var N=K[h][1],k=K[h+1][1],V=N+K[h+1][2]*(k-N),X;
if(e<V)X=.5*(e-N)/(V-N);else X=.5+.5*(e-V)/(k-V);X=.5+.5*($*Math.cos(Math.PI*X)+(1-$)*(1-2*X));return X}function F(K,e,$){var N=.5*$.$,k=N*(K/e),V=Math.sqrt(N*N+k*k),X=.5*$.r,Q=X*(e/K),L=Math.sqrt(X*X+Q*Q);
return Math.min(V,L)}function Y(K,e){var $=Math.PI*K.Angl.v.val/180,N=K.Scl.v.val/100,k=K.Ofst.v,V=k.Hrzn.v.val/100,X=k.Vrtc.v.val/100,Q=Math.cos($),L=-Math.sin($),_=F(Q,L,e),a=_*N,T=e.x+e.r/2+V*e.r,f=e.y+e.$/2+X*e.$;
return[new aG(T,f),new aG(T+Q*a,f+L*a)]}function A(K,e,$,N){var k=e.x-K.x,V=-(e.y-K.y),X=Math.sqrt(k*k+V*V),Q=Math.atan2(V,k),L=Math.cos(Q),_=-Math.sin(Q),a=F(L,_,$),T=X/a,f=(K.x-$.x-$.r/2)/$.r,Z=(K.y-$.y-$.$/2)/$.$;
N.Angl.v.val=180*Q/Math.PI;N.Scl.v.val=T*100;var W=N.Ofst.v;W.Hrzn.v.val=f*100;W.Vrtc.v.val=Z*100}function G(K,e){for(var h=0;
h<K.length;h++){var $=K[h],N=Math.round($[0]*4096),k=$[1],V=$[2],X=K[Math.max(0,h-1)][3];if(V==null)V=1;
if(X==null)X=.5;var Q=P({z:k[0]*255,H:k[1]*255,c:k[2]*255});e.Clrs.v[h]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:N},Mdpn:{t:"long",v:Math.round(X*100)},Clr:{t:"Objc",v:Q},Type:{t:"enum",v:{Clry:"UsrS"}}}};
e.Trns.v[h]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:N},Mdpn:{t:"long",v:Math.round(X*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(V*100)}}}}}}function n(K,e,$){if(e){K=g.F(K);
for(var h=0;h<2;h++){var N=K[h==0?"Clrs":"Trns"].v;for(var k=0;k<N.length;k++)N[k].v.Lctn.v=4096-N[k].v.Lctn.v;
N.reverse()}}var V=[],X=1/255,Q=K.Clrs.v,L=K.Trns.v,N=Q;if(du==0||Q.length!=L.length){if(du!=0)console.log("strange gradient");
if($!=!0)N=Q.concat(L);var _=r(K,0,0);for(var h=0;h<N.length;h++){var a=N[h].v,T=a.Lctn.v/4096,f=b(K,_,T);
V.push([T,[f[0],f[1],f[2]],f[3],a.Mdpn.v/100])}V.sort(function(W,D){return W[0]-D[0]});for(var h=1;h<V.length;
h++)if(V[h][0]-V[h-1][0]<.001){V.splice(h,1);h--}}else{for(var h=0;h<N.length;h++){var a=Q[h].v,Z=a.Clr.v,T=a.Lctn.v/4096;
V.push([T,[Z.Rd.v*X,Z.Grn.v*X,Z.Bl.v*X],L[h].v.Opct.v.val/100,Q[Math.min(h+1,Q.length-1)].v.Mdpn.v/100])}}return V}function E(K,e){function $(K,X){K.addColorStop(X[0],CSS.aHB(X[1],X[2]))}function N(X,Q,L,_){var a=Math.log(.5)/Math.log(_),T=Math.log(.5)/Math.log(1-_),f=_>.5?Math.pow(L,a):1-Math.pow(1-L,T),Z=1-f,W=X[0],D=X[1],C=Q[1],d=[W+(Q[0]-W)*L,[D[0]*Z+C[0]*f,D[1]*Z+C[1]*f,D[2]*Z+C[2]*f],X[2]*Z+Q[2]*f];
return d}$(K,e[0]);for(var h=1;h<e.length;h++){var k=e[h-1][3];if(k!=.5)for(var V=1;V<20;V++)$(K,N(e[h-1],e[h],V/20,k));
$(K,e[h])}}return{$m:R,YK:P,Eb:l,abu:S,ane:M,eb:A,aB9:Y,cg:E,w5:G,afW:n,Yx:r,SY:w}}();g.a28={};g.a28.qP=function(J,v,x,o,R,r,l,M,P,S,c,b){var w,U,F,Y=Date.now(),A=!1,G=l,n=S,E,K,e,$,N=r*255,k=255-P*255,V=1+R*6,X=1+M*6,Q=1+b*4,L=(Q-1)/7,_=0,a=255-0,T,f,Z,W,D,C,d,p,y,i,t,O,q,z=0,jw=1,u,iH,s,bV,jU,hx,eX,et,f7,iY,cd=1+c,jV,g2=g.C(x*o),gV=g.C(x*o),fD=g.C(x*o),j4=g.C(x*o),dQ=255/N,eO=255/(255-k);
for(U=0;U<o;U++){for(w=0;w<x;w++){var h=U*x+w,a7=h<<2;u=g.x3(J[a7],J[a7+1],J[a7+2]);j4[h]=u;if(u<N)g2[h]=255-u*dQ;
if(u>k)gV[h]=255-(255-u)*eO}}if(A)console.log("init",Date.now()-Y);Y=Date.now();if(R*G>0){g.Wh.MM(g2,new jj(0,0,x,o),G,2)}if(M*n>0){g.Wh.MM(gV,new jj(0,0,x,o),n,2)}if(A)console.log("blur",Date.now()-Y);
Y=Date.now();var cc=g.C(256),ad=g.C(256);for(var h=0;h<256;h++){var jC=h*(1/255),iJ=0;iJ=(1-Math.pow(1-jC,V))*255;
cc[h]=Math.max(0,Math.min(255,~~(iJ+.5)));iJ=Math.pow(jC,X)*255;ad[h]=Math.max(0,Math.min(255,~~(iJ+.5)))}var kJ=new Uint8ClampedArray(v.buffer),jr=new Float32Array(32768);
for(var h=0;h<32768;h++){jV=Math.sqrt(h)*(1/128);if(cd>1)jV=(1-jV)*(cd-1)+1;else jV=jV*(cd-1)+1;jr[h]=jV}for(U=0;
U<o;U++){for(w=0;w<x;w++){var h=U*x+w,a7=h<<2,iJ=j4[h],fY=g2[h]*(1/255),iR=gV[h]*(1/255);iJ=(1-fY)*iJ+fY*cc[~~iJ];
iJ=(1-iR)*iJ+iR*ad[~~iJ];u=iJ;var g6=J[a7],ay=J[a7+1],cQ=J[a7+2];iH=-g6*.168736-ay*.331264+cQ*.5;s=g6*.5-ay*.418688-cQ*.081312;
jV=jr[~~(.5+iH*iH+s*s)];bV=iH*jV;hx=s*jV;jw=1-Math.min(2-(fY+iR),1);iH=jw*iH+(1-jw)*bV;s=jw*s+(1-jw)*hx;
et=u+1.402*s;f7=u-.34414*iH-.71414*s;iY=u+1.772*iH;kJ[a7]=~~(.5+et);kJ[a7+1]=~~(.5+f7);kJ[a7+2]=~~(.5+iY)}}if(A)console.log("apply masks",Date.now()-Y);
Y=Date.now()};g.$s={};g.$s.xB=function(J,v,x,o,R){var r=Date.now(),l=!1,Y=1,a=0,y=0;if(!v.Db(R)){var M=v.h0(R),P=g.C(M.o()*4);
g.sW(J,v,P,M);J=P;v=M}var S=g.C(v.o());g.Cc(x,R,S,v);g.round(S);R=R.Xt(v);var c=R.r,b=R.$,w=c*3<b?2:1,U=b*3<c?2:1;
if(R.o()*(w*2+1)*(U*2+1)<v.o()){var M=new jj(R.x-c*w,R.y-b*w,c*(w*2+1),b*(U*2+1)).Xt(v),P=g.C(M.o()*4);
g.sW(J,v,P,M);var F=g.C(M.o());g.Cc(S,v,F,M);v=M;J=P;S=F}while((v.r+v.$)/2/Y>400)Y++;var A=J,G=v,n=S,E=Math.floor(G.r/Y),K=Math.floor(G.$/Y);
J=g.C(E*K*4);g.scale.EE(A,G.r,G.$,J,E,K,1/Y);S=g.C(E*K);g.scale.f0(n,G.r,G.$,S,E,K,1/Y);g.round(S,1);
if(l)console.log("scale down:",Y,E,K);var e=g.X5(S,new jj(0,0,E,K));if(e.L3())return 1;var $=Math.round((e.r+e.$)/2/15);
if(l)console.log(Date.now()-r,"preprocess");r=Date.now();var N=g.C(E*K*4);g.atq(J,N);var k=Int16Array,V=new k(E*K*24),X=new k(64),Q=new k(64),L=new k(64),_=new k(64);
for(var T=3;T<K-4;T++)for(var f=3;f<E-4;f++){var Z=T*E+f;if(S[Z]==255)continue;if(g.$s.aDC(N,S,f,T,E,K,X,Q,L)!=0)continue;
g.$s.S$(X,_);var W=a*24;V[W]=f;V[W+1]=T;g.$s.oj(X,V,W+4,12);g.$s.S$(Q,_);g.$s.oj(Q,V,W+16,4);g.$s.S$(L,_);
g.$s.oj(L,V,W+20,4);var D=V[W+5],C=V[W+6];V[W+5]=V[W+16];V[W+6]=V[W+20];V[W+16]=D;V[W+20]=C;a++}if(a==0)return 2;
if(l)console.log(Date.now()-r,"FWHT computed");r=Date.now();var d=[];g.$s.Mw(0,a-1,d,V,new k(2*24));
if(l)console.log(Date.now()-r,"KD tree computed");r=Date.now();var p=new Uint32Array(E*K*4);for(var h=0;
h<a;h++){var i=h,t=g.$s.ai2(i,V,d,$);if(t==-1)continue;var O=i*24,q=t*24,z=V[O],jw=V[O+1],u=V[q],iH=V[q+1];
y+=g.$s.getError(q,O,V,1e99);var s=u-z,bV=iH-jw;p[(K+bV)*2*E+(E+s)]+=1}if(l)console.log(Date.now()-r,"NN found");
r=Date.now();var jU=[],hx=1/(2*E);for(var h=0;h<p.length;h++){if(p[h]>0){var T=Math.floor(h*hx),f=h-T*2*E;
jU.push({x:f-E,y:T-K,K:p[h],c2:-1})}}jU.sort(function(kJ,jr){return jr.K-kJ.K});var eX=new Int32Array(E*K),et=[];
for(var h=0;h<E*K;h++){if(S[h]==255){eX[h]=et.length>>>1;et.push(h%E,Math.floor(h/E))}else if(J[(h<<2)+3]<200){eX[h]=-2}else{eX[h]=-1}}var f7=g.$s.a8w(E,K,jU,eX,et);
if(f7==null){if(l)console.log("no appropriate labeling");return 3}var iY=f7.Q$,top=f7.top;iY=g.$s.akF(iY,J,E,K,top,eX,et);
if(l)console.log(Date.now()-r,"optimal labeling found");r=Date.now();var M=R.Q();M.rz(1,1);M=M.Xt(G);
var cd=g.C(M.o()*4),jV=g.C(M.o());g.sW(A,G,cd,M);var g2=G.r,gV=G.$;for(var T=0;T<gV;T++)for(var f=0;
f<g2;f++){if(n[T*g2+f]==0)continue;var fD=Math.min(Math.floor(f/Y),E-1),j4=Math.min(Math.floor(T/Y),K-1),dQ=eX[j4*E+fD];
if(dQ==-1)continue;var eO=iY[dQ],a7=top[eO],cc=f+a7.x*Y,ad=T+a7.y*Y,jC=ad*g2+cc<<2,iJ=(T-M.y+G.y)*M.r+(f-M.x+G.x)<<2;
cd[iJ]=A[jC];cd[iJ+1]=A[jC+1];cd[iJ+2]=A[jC+2];cd[iJ+3]=A[jC+3];cd[iJ+3]=A[jC+3];jV[iJ>>2]=eO+1}if(l)console.log(Date.now()-r,"copied back");
r=Date.now();g.vD.xB(cd,jV,M,null,1e3);if(l)console.log(Date.now()-r,"poisson smooth");r=Date.now();
g.sW(cd,M,o,R);return 0};g.$s.aqs=function(J,v,x,o,R,r){return g.$s.af(J+R.x,v+R.y,x,o,r)?0:1e9};g.$s.akF=function(J,v,x,o,top,R,r){var l=Date.now(),M=r.length>>>1,P=[-1,0,0,-1,1,0,0,1],S=1e99,c=[],b=[],w=2*(M*2*3+M*2),U=null,F=0,Y=0,A=0,G=1e99;
while(!0&&Date.now()<l+12e3){A++;var n=null,E=S;for(var K=0;K<top.length;K++){var e=top[K],$=0,N=M+2,k=0;
for(var h=0;h<M;h++){var V=r[h*2],X=r[h*2+1],Q=top[J[h]],L=g.$s.aqs(V,X,x,o,e,R),_=J[h]==K?1e9:g.$s.aqs(V,X,x,o,Q,R);
for(var co=0;co<4;co++){if(co==0&&V==0||co==1&&X==0||co==2&&V==x-1||co==3&&X==o-1)continue;var a=P[2*co],T=P[2*co+1],f=V+a,Z=X+T,W=R[Z*x+f];
if(W==-2){}else if(W==-1){L+=3*g.$s.pO(f+e.x,Z+e.y,f,Z,x,o,v,R);L+=2*g.$s.pO(f+e.x+a,Z+e.y+T,f+a,Z+T,x,o,v,R);
_+=3*g.$s.pO(f+Q.x,Z+Q.y,f,Z,x,o,v,R);_+=2*g.$s.pO(f+Q.x+a,Z+Q.y+T,f+a,Z+T,x,o,v,R)}else if(co>1){if(J[h]==J[W]){var D=0;
D+=g.$s.pO(V+Q.x,X+Q.y,V+e.x,X+e.y,x,o,v,R);D+=g.$s.pO(f+Q.x,Z+Q.y,f+e.x,Z+e.y,x,o,v,R);c[$]=h;c[$+1]=W;
b[$]=D;b[$+1]=D;$+=2}else{var C=top[J[W]],d=N,p=0,y=0,i=0;N++;p+=g.$s.pO(V+Q.x,X+Q.y,V+e.x,X+e.y,x,o,v,R);
p+=g.$s.pO(f+Q.x,Z+Q.y,f+e.x,Z+e.y,x,o,v,R);y+=g.$s.pO(V+C.x,X+C.y,V+e.x,X+e.y,x,o,v,R);y+=g.$s.pO(f+C.x,Z+C.y,f+e.x,Z+e.y,x,o,v,R);
i+=g.$s.pO(V+C.x,X+C.y,V+Q.x,X+Q.y,x,o,v,R);i+=g.$s.pO(f+C.x,Z+C.y,f+Q.x,Z+Q.y,x,o,v,R);c[$]=h;c[$+1]=d;
b[$]=p;b[$+1]=p;$+=2;c[$]=W;c[$+1]=d;b[$]=y;b[$+1]=y;$+=2;c[$]=d;c[$+1]=M+1;b[$]=i;b[$+1]=0;$+=2}}}c[$]=M;
c[$+1]=h;b[$]=L;b[$+1]=0;$+=2;c[$]=h;c[$+1]=M+1;b[$]=_;b[$+1]=0;$+=2;k+=Math.min(L,_)}if(k>E)continue;
var t=g.Mx.eU(N,$,M,M+1,c,b,E);if(t.up<E){E=t.up;var O=J.slice(0);g.$s.aBb(O,$,c,t.xz,K,M);n=O}}if(E*1>=S){break}S=E;
J=n;if((A&3)==0){if(E*1.03>=G)break;G=E}if((A&3)==0){var q=0*top.length;for(var h=0;h<top.length&&top.length>q;
h++){if(J.indexOf(h)!=-1)continue;top.splice(h,1);for(var W=0;W<J.length;W++)if(J[W]>h)J[W]--;h--}}}return J};
g.$s.aBb=function(J,v,x,o,R,r){for(var h=0;h<o.length;h++){var l=o[h]<<1,M=0,P=0;if(l<v){M=x[l];P=x[l+1]}else{P=x[l];
M=x[l+1]}if(M==r&&J[P]!=R)J[P]=R}};g.$s.a2U=function(top,J,v,x,o,R,r,l,M){for(var h=0;h<v.length;h++){var P=v[h],S=!0;
if(l!=null&&!g.$s.af(l+P.x,M+P.y,R,r,x))continue;if(P.c2==-1)P.c2=g.$s.azS(P,x,o,R,r);if(P.c2<=0)continue;
for(var c=0;c<top.length;c++){var b=top[c],w=P.x-b.x,U=P.y-b.y;if(w*w+U*U<J){S=!1;break}}if(S)return P}return null};
g.$s.azS=function(J,v,x,o,R){var r=0;for(var h=0;h<x.length;h+=2){var l=x[h]+J.x,M=x[h+1]+J.y;if(g.$s.af(l,M,o,R,v))r++}return r/(x.length>>1)};
g.$s.a8w=function(J,v,x,o,R){var r=R.length>>>1,top=[];for(var h=0;h<60;h++){var l=g.$s.a2U(top,25,x,o,R,J,v);
if(l==null)break;else top.push(l)}if(top.length==0)return null;var M=[];for(var h=0;h<r;h++){var P=R[h*2],S=R[h*2+1],c=-1,b=0;
while(!0){b++;var w=Math.random();c=Math.floor(w*.99999*top.length);var U=top[c],F=P+U.x,Y=S+U.y;if(g.$s.af(F,Y,J,v,o))break;
if(b>1e3){var l;l=g.$s.a2U(top,0,x,o,R,J,v,P,S);if(l==null)for(var A=0;A<4;A++){var G,n,E=0;while(!0){G=~~(Math.random()*J);
n=~~(Math.random()*v);if(g.$s.af(G,n,J,v,o))break;E++;if(E>500)throw"e"}l={x:G-P,y:n-S,K:1,c2:-1};x.push(l);
top.push(l)}else top.push(l);b=0}}M.push(c)}return{top:top,Q$:M}};g.$s.pO=function(J,v,x,o,R,r,l,M){if(J==x&&v==o)return 0;
if(J<0||v<0||J>=R||v>=r||x<0||o<0||x>=R||o>=r||M[v*R+J]!=-1||M[o*R+x]!=-1)return 1e7;var P=v*R+J<<2,S=o*R+x<<2,c=l[P]-l[S],b=l[P+1]-l[S+1],w=l[P+2]-l[S+2];
return 1+(c*c+b*b+w*w)};g.$s.af=function(J,v,x,o,R){return J>=0&&J<x&&v>=0&&v<o&&R[v*x+J]==-1};g.$s.ai2=function(J,v,x,o){var R=24*J,r=v[R],l=v[R+1],M=o*o,P=0,w=1e9;
while(x[P]!=99)if(v[R+x[P]]<x[P+1])P=x[P+2];else P=x[P+3];var S=x[P+1],c=x[P+2],b=-1;for(var h=S;h<=c;
h++){var P=h,U=P*24,F=v[U],Y=v[U+1];if((F-r)*(F-r)+(Y-l)*(Y-l)<M)continue;var A=g.$s.getError(U,R,v,w);
if(A<w){w=A;b=P}}return b};g.$s.getError=function(J,v,x,o){var R=0;for(var r=4;r<24;r+=4){var l=x[v+r]-x[J+r],M=x[v+r+1]-x[J+r+1],P=x[v+r+2]-x[J+r+2],S=x[v+r+3]-x[J+r+3];
R+=l*l+M*M+P*P+S*S;if(R>=o)return R+1}return R};g.$s.Mw=function(J,v,x,o,R){var r=16,w=0;if(v-J<=r){x.push(99,J,v);
return}g.$s.ni(J,v,o,R);var l=-1,M=-1;for(var h=4;h<24;h++){var P=R[2*h+1]-R[2*h];if(P>M){M=P;l=h}}var S=J+v>>1,c=g.$s.a0B(S,J,v,o,l),b=-1;
for(var h=J;h<=v;h++)if(o[24*h+l]==c){if(b==-1)b=h;w=h}if(J+8<b&&b-J>v-w)S=b;else if(w+1<v-8)S=w+1;else if(v-J<64){x.push(99,J,v);
return}else S=S;var U=x.length;x.push(l,c,0,0);x[U+2]=U+4;g.$s.Mw(J,S-1,x,o,R);x[U+3]=x.length;g.$s.Mw(S,v,x,o,R)};
g.$s.ni=function(J,v,x,o){for(var h=0;h<48;h+=4){o[h]=3e4;o[h+1]=-3e4;o[h+2]=3e4;o[h+3]=-3e4}for(var h=J;
h<=v;h++){var R=h*24;for(var r=0;r<24;r++){var l=x[R+r],M=o[r<<1],P=o[(r<<1)+1];if(l<M)o[r<<1]=l;if(l>P)o[(r<<1)+1]=l}}};
g.$s.iL=function(J,v,x){var o=0,h=0;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;
h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;
h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;
h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;
h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;
h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;
h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;
h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;
h++;o=x[J+h];x[J+h]=x[v+h];x[v+h]=o;h++};g.$s.Yz=function(J,v,x,o){var R=x+o>>>1,r=J[24*R+v];while(x<=o){while(J[24*x+v]<r)x++;
while(J[24*o+v]>r)o--;if(x<=o){if(J[24*x+v]!=J[24*o+v])g.$s.iL(x*24,o*24,J);x++;o--}}return x};g.$s.a0B=function(J,v,x,o,R){var r=0;
while(v!=x){r=g.$s.Yz(o,R,v,x);if(J<r)x=r-1;else v=r}return o[J*24+R]};g.$s.oj=function(J,v,x,o){for(var h=0;
h<o;h++)v[x+h]=J[h]};g.$s.aDC=function(J,v,x,o,R,r,l,M,P){var S=(o-3)*R+(x-3),c=S<<2;for(var b=0;b<8;
b++){if(v[S]+v[S+1]+v[S+2]+v[S+3]+v[S+4]+v[S+5]+v[S+6]+v[S+7]!=0||J[c+3]<200||J[c+7]<200||J[c+11]<200||J[c+15]<200||J[c+19]<200||J[c+23]<200||J[c+27]<200||J[c+31]<200)return 1;
var h=b<<3;l[h+0]=J[c+0];M[h+0]=J[c+1];P[h+0]=J[c+2];l[h+1]=J[c+4];M[h+1]=J[c+5];P[h+1]=J[c+6];l[h+2]=J[c+8];
M[h+2]=J[c+9];P[h+2]=J[c+10];l[h+3]=J[c+12];M[h+3]=J[c+13];P[h+3]=J[c+14];l[h+4]=J[c+16];M[h+4]=J[c+17];
P[h+4]=J[c+18];l[h+5]=J[c+20];M[h+5]=J[c+21];P[h+5]=J[c+22];l[h+6]=J[c+24];M[h+6]=J[c+25];P[h+6]=J[c+26];
l[h+7]=J[c+28];M[h+7]=J[c+29];P[h+7]=J[c+30];c+=R<<2;S+=R}return 0};g.$s.S$=function(J,v){v[0]=J[32]+J[0];
v[1]=J[33]+J[1];v[2]=J[34]+J[2];v[3]=J[35]+J[3];v[4]=J[36]+J[4];v[5]=J[37]+J[5];v[6]=J[38]+J[6];v[7]=J[39]+J[7];
v[8]=J[40]+J[8];v[9]=J[41]+J[9];v[10]=J[42]+J[10];v[11]=J[43]+J[11];v[12]=J[44]+J[12];v[13]=J[45]+J[13];
v[14]=J[46]+J[14];v[15]=J[47]+J[15];v[16]=J[48]+J[16];v[17]=J[49]+J[17];v[18]=J[50]+J[18];v[19]=J[51]+J[19];
v[20]=J[52]+J[20];v[21]=J[53]+J[21];v[22]=J[54]+J[22];v[23]=J[55]+J[23];v[24]=J[56]+J[24];v[25]=J[57]+J[25];
v[26]=J[58]+J[26];v[27]=J[59]+J[27];v[28]=J[60]+J[28];v[29]=J[61]+J[29];v[30]=J[62]+J[30];v[31]=J[63]+J[31];
v[32]=J[0]-J[32];v[33]=J[1]-J[33];v[34]=J[2]-J[34];v[35]=J[3]-J[35];v[36]=J[4]-J[36];v[37]=J[5]-J[37];
v[38]=J[6]-J[38];v[39]=J[7]-J[39];v[40]=J[8]-J[40];v[41]=J[9]-J[41];v[42]=J[10]-J[42];v[43]=J[11]-J[43];
v[44]=J[12]-J[44];v[45]=J[13]-J[45];v[46]=J[14]-J[46];v[47]=J[15]-J[47];v[48]=J[16]-J[48];v[49]=J[17]-J[49];
v[50]=J[18]-J[50];v[51]=J[19]-J[51];v[52]=J[20]-J[52];v[53]=J[21]-J[53];v[54]=J[22]-J[54];v[55]=J[23]-J[55];
v[56]=J[24]-J[56];v[57]=J[25]-J[57];v[58]=J[26]-J[58];v[59]=J[27]-J[59];v[60]=J[28]-J[60];v[61]=J[29]-J[61];
v[62]=J[30]-J[62];v[63]=J[31]-J[63];J[0]=v[16]+v[0];J[1]=v[17]+v[1];J[2]=v[18]+v[2];J[3]=v[19]+v[3];
J[4]=v[20]+v[4];J[5]=v[21]+v[5];J[6]=v[22]+v[6];J[7]=v[23]+v[7];J[8]=v[24]+v[8];J[9]=v[25]+v[9];J[10]=v[26]+v[10];
J[11]=v[27]+v[11];J[12]=v[28]+v[12];J[13]=v[29]+v[13];J[14]=v[30]+v[14];J[15]=v[31]+v[15];J[16]=v[0]-v[16];
J[17]=v[1]-v[17];J[18]=v[2]-v[18];J[19]=v[3]-v[19];J[20]=v[4]-v[20];J[21]=v[5]-v[21];J[22]=v[6]-v[22];
J[23]=v[7]-v[23];J[24]=v[8]-v[24];J[25]=v[9]-v[25];J[26]=v[10]-v[26];J[27]=v[11]-v[27];J[28]=v[12]-v[28];
J[29]=v[13]-v[29];J[30]=v[14]-v[30];J[31]=v[15]-v[31];v[0]=J[8]+J[0];v[1]=J[9]+J[1];v[2]=J[10]+J[2];
v[3]=J[11]+J[3];v[4]=J[12]+J[4];v[5]=J[13]+J[5];v[6]=J[14]+J[6];v[7]=J[15]+J[7];v[8]=J[0]-J[8];v[9]=J[1]-J[9];
v[10]=J[2]-J[10];v[11]=J[3]-J[11];v[12]=J[4]-J[12];v[13]=J[5]-J[13];v[14]=J[6]-J[14];v[15]=J[7]-J[15];
J[0]=v[4]+v[0];J[1]=v[5]+v[1];J[2]=v[6]+v[2];J[3]=v[7]+v[3];J[4]=v[0]-v[4];J[5]=v[1]-v[5];J[6]=v[2]-v[6];
J[7]=v[3]-v[7];J[8]=v[12]+v[8];J[9]=v[13]+v[9];J[10]=v[14]+v[10];J[11]=v[15]+v[11];J[12]=v[8]-v[12];
J[13]=v[9]-v[13];J[14]=v[10]-v[14];J[15]=v[11]-v[15];v[0]=J[2]+J[0];v[1]=J[3]+J[1];v[2]=J[0]-J[2];v[3]=J[1]-J[3];
v[4]=J[6]+J[4];v[5]=J[7]+J[5];v[6]=J[4]-J[6];v[7]=J[5]-J[7];v[8]=J[10]+J[8];v[9]=J[11]+J[9];v[10]=J[8]-J[10];
v[11]=J[9]-J[11];v[12]=J[14]+J[12];v[13]=J[15]+J[13];v[14]=J[12]-J[14];v[15]=J[13]-J[15];J[0]=v[1]+v[0];
J[1]=v[0]-v[1];J[2]=v[3]+v[2];J[3]=v[2]-v[3];J[4]=v[5]+v[4];J[5]=v[4]-v[5];J[6]=v[7]+v[6];J[7]=v[6]-v[7];
J[8]=v[9]+v[8];J[9]=v[8]-v[9];J[10]=v[11]+v[10];J[11]=v[10]-v[11];J[12]=v[13]+v[12];J[13]=v[12]-v[13];
J[14]=v[15]+v[14];J[15]=v[14]-v[15]};g.$s.acx=function(){var J="",co=64,v="v",x="t",o="a",R=5,h,r,l;
for(h=co>>1;h>0;h>>=1,R--){for(r=0;r<co;r++){l=(r>>R&1)!=0;if(l){J+=x+"["+r+"] = "+v+"["+(-h+r)+"] - "+v+"["+r+"];  "}else{J+=x+"["+r+"] = "+v+"["+(h+r)+"] + "+v+"["+r+"];  "}}o=v;
v=x;x=o;J+="\n"}console.log(J)};g.$s.aCl=function(co,J,v){var x=J,o=v,R=x,r=0,h,M,P;while(co>>r!=2)r++;
var l=r;for(h=co>>1;h>0;h>>=1,r--){for(M=0;M<co;M++){P=(M>>r&1)!=0;if(P)o[M]=x[-h+M]-x[M];else o[M]=x[h+M]+x[M]}R=x;
x=o;o=R}if((l&1)==1)for(h=0;h<co;h++)v[h]=x[h]};g.eS={};g.eS.QG=function(J,v,x,o,R,r,l,M,P){var S=Date.now(),c=new Uint32Array(J.buffer),b=new Uint32Array(v.buffer),w=l/x,U=M/o,F=1/w,Y=1/U,A=new Float64Array(2),G=3,n=1/G,E=1/(G*G),K=0,e=0,$=x,N=o;
if(R){K=R.x;e=R.y;$=R.r;N=R.$}for(var k=0;k<N;k++)for(var V=0;V<$;V++){var X=K+V,Q=e+k,h=Q*x+X,L=h<<1,_=h<<2;
g.eS.a3i(r,l,M,(X+.5)*w,(Q+.5)*U,A);var a=A[0]*F,T=A[1]*Y;if(a==0&&T==0)b[h]=c[h];else{g.O.ft(X+a+.5,Q+T+.5,c,x,o,b,h,P)}}};
g.eS.a3i=function(J,v,x,o,R,r){o-=.499999;R-=.499999;var l=~~o,M=~~R,P=o-l,S=R-M,c=(1-S)*(1-P),b=(1-S)*P,w=S*(1-P),U=S*P,F=l<v-1?l+1:l,Y=M<x-1?M+1:M,A=M*v+l<<1,G=M*v+F<<1,n=Y*v+l<<1,E=Y*v+F<<1;
r[0]=c*J[A]+b*J[G]+w*J[n]+U*J[E];r[1]=c*J[A+1]+b*J[G+1]+w*J[n+1]+U*J[E+1]};g.eS.aiz=function(J,v,x,o,R){var r=1/J,l=[-1,1,-J,J],M=o.length;
for(var P=0;P<M;P++){var h=o[P],S=h<<1,c=P<<1,b=~~(h*r),w=h-J*b,U=x[S],F=x[S+1],Y=0,A=0;if(w!=0&&w!=J-1){var G=h-1<<1,n=h+1<<1,E=x[G],K=x[n],e=x[G+1],$=x[n+1],N=U-(E+K)*.5,k=F-(e+$)*.5;
Y-=N*R;A-=k*R}if(b!=0&&b!=v-1){var G=h-J<<1,n=h+J<<1,E=x[G],K=x[n],e=x[G+1],$=x[n+1],N=U-(E+K)*.5,k=F-(e+$)*.5;
Y-=N*R;A-=k*R}x[S]=U+Y;x[S+1]=F+A}};g.eS.avZ=function(J,v){var x=J+","+v;if(g.eS.ab4==x)return g.eS.awv;
var o=g.eS.awv=[];g.eS.ab4=x;for(var h=0;h<=1e3;h++){var R=h*.001,r=Math.sqrt(R),l=Math.exp(-4*r),M=.96*(1-r*r),P=v*((1-J)*l+J*M);
o[h]=P}return o};g.eS.ab4="";g.eS.awv=[];g.eS.af9=function(J,v,x,o,R,r,l,M,P,S,c,b,w){var U=Math.max(0,Math.floor(R-l-1)),F=Math.min(v,Math.ceil(R+l+1)),Y=Math.max(0,Math.floor(r-l-1)),A=Math.min(x,Math.ceil(r+l+1)),G=2*v,n=l*l,E=1/l,K=0;
if(w&&(o==3||o==6))P=-P;var e=g.eS.avZ(M,P);for(var $=Y;$<A;$++)for(var N=U;N<F;N++){var h=$*v+N,k=h<<1,V=(R-N)*E,X=(r-$)*E,Q=V*V+X*X;
if(Q<1){b[K]=h;var L=e[~~(Q*1e3)];if(o==1){J[k]=J[k]*(1-L*.05);J[k+1]=J[k+1]*(1-L*.05)}else{var _=0,a=0,Z,W,D,C;
if(o==0){_=S*L;a=c*L}else if(o==2){}else if(o==3){_=L*X;a=-L*V}else if(o==4){_=L*V;a=L*X}else if(o==5){_=-L*V;
a=-L*X}else if(o==6){_=c*L;a=-S*L}var T=J[k],f=J[k+1];if(N==0||N!=v-1&&_<0){Z=1+J[k+2]-T;D=J[k+3]-f}else{Z=T-J[k-2]+1;
D=f-J[k-1]}if($==0||$!=x-1&&a<0){W=J[k+G]-T;C=1+J[k+G+1]-f}else{W=T-J[k-G];C=f-J[k-G+1]+1}J[k]=-(Z*_+W*a-T);
J[k+1]=-(D*_+C*a-f)}K++}}};g.eS.ay0=function(J){var v=J[0],x=J[0],o=J[1],R=J[1];for(var h=0;h<J.length;
h+=2){var r=J[h],l=J[h+1];if(r<v)v=r;else if(r>x)x=r;if(l<o)o=l;else if(l>R)R=l}return[v,o,x,R]};g.a29=function(J,v,x,o,R){function r(u,iH,s,bV){return Math.sqrt((u-s)*(u-s)+(iH-bV)*(iH-bV))}function l(u,iH){return u>=0&&u<v&&iH>=0&&iH<x}function M(u){if(u<0)return 0;
if(u>=v)return v-1;return u}function P(u){if(u<0)return 0;if(u>=x)return x-1;return u}function S(h,u){var iH=u[3]*(1/255),s=o[h]+u[0]*iH;
if(s>255)s=255;o[h]=s;s=o[h+1]+u[1]*iH;if(s>255)s=255;o[h+1]=s;s=o[h+2]+u[2]*iH;if(s>255)s=255;o[h+2]=s}function c(u,iH,s){if(!d(u,iH))return;
if(s[3]<0)s[3]=0;S((iH*v+u)*4,s)}function b(u){var iH=u.slice(0,3);iH[3]=0;return iH}var w=v/800;function U(u){return Math.round(u*w)}function F(){for(var h=0;
h<=300;h++){y[h]=Y(h)}}function Y(x){var u=.8,iH=.2,s=u*iH,bV=x/60%2-1,jU=s*(1-bV*bV),hx=iH-s,eX;if(x<60){eX=[s+hx,jU,0]}else if(x<120){eX=[jU,s,0]}else if(x<180){eX=[0,s,jU]}else if(x<240){eX=[0,jU,s]}else if(x<300){eX=[jU,0,s]}else{eX=[s,0,jU]}return[(eX[0]+hx)*255,(eX[1]+hx)*255,(eX[2]+hx)*255]}function A(x){return y[~~x]}function G(u){return 1-n(u)}function n(u){return u-~~u}function E(u,iH,s,bV){D(u,iH,s,0,iH+1,1,bV)}function K(u,iH,s,bV,jU,hx){D(u,iH,s,0,bV,1,jU,hx)}function e(u){for(var h=0;
h<o.length;h+=4){S(h,u)}}function $(u,iH,s,bV,jU,hx,eX,et){N(u,iH,s,bV,jU,1,hx,eX,et)}function N(u,iH,s,bV,jU,hx,eX,et,f7){if(hx==null)hx=.5;
if(eX==null)eX=0;if(et==null)et=0;if(f7==null)f7=!1;var iY=u.x,cd=u.y,jV=s.slice(0),g2=~~(s[3]*t);bV=bV*t;
if(!f7){iH=C(iH);jU=C(jU);eX=C(eX);et=C(et)}var gV=M(iY-iH),fD=M(iY+iH);for(var j4=gV;j4<=fD;j4++){var dQ=j4-iY,eO=Math.floor(Math.sqrt(iH*iH-dQ*dQ)),a7=P(cd-eO),cc=P(cd);
for(var ad=a7;ad<=cc;ad++){var jC=r(j4,ad,iY,cd);if(jC>iH||jC<=iH-jU)break;var iJ=(jC-iH+jU)/jU;jV[3]=g2-bV*(hx==1?iJ:Math.pow(iJ,hx));
S((ad*v+j4)*4,jV)}a7=P(cd+eO);for(var ad=a7;ad>cc;ad--){var jC=r(j4,ad,iY,cd);if(jC>iH||jC<=iH-jU)break;
var iJ=(jC-iH+jU)/jU;jV[3]=g2-bV*(hx==1?iJ:Math.pow(iJ,hx));S((ad*v+j4)*4,jV)}}if(eX>0){D(u,iH+eX,jV,jV[3],eX,1,0,0,!0)}if(et>0){D(u,iH-jU,p(s),-s[3],et,1,0,0,!0)}}function k(u,iH,s,bV,jU,hx){D(u,iH,s,s[3],iH+1,1,bV,jU,hx)}function V(u,iH,s,bV,jU){if(jU==null)jU=!1;
var hx=u.x,eX=u.y;bV*=t;if(!jU){iH=C(iH);s=C(s)}var et=M(hx-iH),f7=M(hx+iH);for(var iY=et;iY<f7;iY++){var cd=iY-hx,jV=~~Math.sqrt(iH*iH-cd*cd),g2=P(eX-jV),gV=P(eX);
for(var fD=g2;fD<=gV;fD++){var j4=r(iY,fD,hx,eX);if(j4>iH||j4<=iH-s)break;var dQ=(iH-j4)/s,eO=A(300*dQ);
eO[3]=bV;S((fD*v+iY)*4,eO)}g2=P(eX+jV);for(var fD=g2;fD>gV;fD--){var j4=r(iY,fD,hx,eX);if(j4>iH||j4<=iH-s)break;
var dQ=(iH-j4)/s,eO=A(300*dQ);eO[3]=bV;S((fD*v+iY)*4,eO)}}}function X(i,u){var iH=i.B5,s=i.kL,bV=u.slice(0),jU=u[3]*t,hx=Math.abs(s.y-iH.y)>Math.abs(s.x-iH.x);
if(hx){var eX=iH.x;iH.x=iH.y;iH.y=eX;eX=s.x;s.x=s.y;s.y=eX}if(iH.x>s.x){var eX=iH;iH=s;s=eX}var et=s.x-iH.x,f7=s.y-iH.y,iY=et==0?1:f7/et,cd=Math.round(iH.x),jV=iH.y+iY*(cd-iH.x),g2=G(iH.x+.5),gV=cd,fD=~~jV;
if(hx){bV[3]=jU*G(jV)*g2;c(fD,gV,bV);bV[3]=jU*n(jV)*g2;c(fD+1,gV,bV)}else{bV[3]=jU*G(jV)*g2;c(gV,fD,bV);
bV[3]=jU*n(jV)*g2;c(gV,fD+1,bV)}var j4=jV-iY;cd=Math.round(s.x);jV=s.y+iY*(cd-s.x);g2=n(s.x+.5);var dQ=cd,eO=~~jV;
if(hx){bV[3]=jU*G(jV)*g2;c(eO,dQ,bV);bV[3]=jU*n(jV)*g2;c(eO+1,dQ,bV)}else{bV[3]=jU*G(jV)*g2;c(dQ,eO,bV);
bV[3]=jU*n(jV)*g2;c(dQ,eO+1,bV)}if(hx){for(var a7=gV+1;a7<=dQ-1;a7++){bV[3]=jU*G(j4);c(~~j4,a7,bV);bV[3]=jU*n(j4);
c(~~j4+1,a7,bV);j4+=iY}}else{for(var a7=gV+1;a7<=dQ-1;a7++){bV[3]=jU*G(j4);c(a7,~~j4,bV);bV[3]=jU*n(j4);
c(a7,~~j4+1,bV);j4+=iY}}}function Q(u,iH,s,bV){for(var h=0;h<4;h++){var jU=u.D3(iH+1.3*h,s);X(jU,bV,1)}}function aG(u,iH){this.x=Math.round(u);
this.y=Math.round(iH)}var L=Math.PI/180;aG.prototype.D3=function(u,iH){u=u*L;var s=this.x+iH*Math.cos(u),bV=this.y+iH*Math.sin(u);
return new _(this.x,this.y,s,bV)};aG.prototype.auP=function(u,iH){u=u*L;var s=this.aN+iH*Math.cos(u),bV=this.Ds+iH*Math.sin(u);
return new aG(s,bV)};function _(u,iH,s,bV){this.B5=new aG(u,iH);this.kL=new aG(s,bV)}_.prototype.CA=function(u){var iH=u*this.B5.x+(1-u)*this.kL.x,s=u*this.B5.y+(1-u)*this.kL.y;
return new aG(iH,s)};var a=$,T=k,f=E,Z=K,W=V,D=N,C=U,d=l,p=b,y=[];F();for(var h=0;h<J.length;h++){o[h]=J[h]}var i=new _(v*R[2],x*R[3],v/2,x/2),t=R[1],O=[];
O[0]=function q(){var u=[80,40,15,60],s=0,bV=0;f(i.CA(1.4),260,u,10);f(i.CA(1),100,[240,50,50,30],30);
T(i.CA(1),60,[255,40,0,40]);var iH=[255,255,255,255];D(i.CA(1),70,iH,iH[3],58,.5);f(i.CA(1),12,iH);iH[3]=40;
a(i.CA(1),150,iH,iH[3],150);for(var h=0;h<40;h++){s+=Math.random()*25;bV=Math.random()*C(300)+C(100);
var jU=i.CA(1).D3(s,bV);X(i.CA(1).D3(s,bV),[110,110,110,30])}T(i.CA(1),130,[255,255,255,8]);var hx=[170,30,23,70];
Z(i.CA(1),70,hx,1,3,3);var eX=[60,60,130,40];f(i.CA(.47),44,eX,5);f(i.CA(.43),22,eX,3);eX[3]=16;f(i.CA(.53),15,eX,2);
var et=[138,94,42,100];f(i.CA(.2),16,et,2);var f7=[130,255,170,180];T(i.CA(0),4,f7);T(i.CA(-.25),5,f7);
et=[150,90,0,50];a(i.CA(-.45),55,p(et),-et[3],40,2);f(i.CA(-.42),35,et,2);f(i.CA(-.5),15,et,2);W(i.CA(-1.28),145,11,70);
var iY=A(0);iY[3]=50;a(i.CA(-1.28),149,iY,iY[3],4);iY=A(300);iY[3]=50;a(i.CA(-1.28),155-1,p(iY),-iY[3],3);
var cd=[130,130,10,50];Z(i.CA(-1),73,cd,3,2);var jV=[40,130,70,40];a(i.CA(-1),70,p(jV),-jV[3],35);jV=[40,170,60,50];
f(i.CA(-.7),25,jV,4);var jV=[70,110,50,60];a(i.CA(1.3),30,p(jV),-jV[3],11,3);eX=[0,50,210,80];T(i.CA(-.72),20,eX)};
O[1]=function z(){T(i.CA(1),150,[240,70,70,60]);f(i.CA(1),100,[200,60,60,40],30);var u=[255,255,255,255],iH=0,s=0;
D(i.CA(1),75,u,u[3],63);f(i.CA(1),12,u);T(i.CA(1),270,[200,200,200,20],10);for(var h=0;h<10;h++){iH+=10+Math.random()*40;
s=Math.random()*C(250)+C(80);var bV=i.CA(1).D3(iH,s);X(bV,[110,110,110,35])}iH=5;s=100;for(var h=0;h<12;
h++){iH+=30;Q(i.CA(1),iH,s,[90,90,90,40])}var jU=[150,40,23,100];Z(i.CA(1),70,jU,1,3,3);var hx=[30,100,60,40];
T(i.CA(-.9),180,[255,255,255,20]);f(i.CA(-.9),140,hx,15);var eX=[170,80,25,15];Z(i.CA(-.9),120,eX,1,4,4);
var et=[110,240,190,200];T(i.CA(-.6),3,et);et[3]=100;T(i.CA(-.6),7,et);var f7=[230,120,40,85];T(i.CA(-.73),9,f7);
var iY=[60,60,190,50];f(i.CA(.3),28,iY,6);iY[3]=25;f(i.CA(.34),20,iY,3)};O[2]=function jw(){var u=[255,255,255,255],s=0,bV=0;
f(i.CA(1),13,u);D(i.CA(1),150,u,u[3],137);var iH=[120,80,35,20];f(i.CA(1.4),260,iH,10);for(var h=0;h<40;
h++){s+=5+Math.random()*30;bV=Math.random()*C(300);X(i.CA(1).D3(s,bV),[110,110,110,20])}var jU=[10,30,255,30];
f(i.CA(1),70,jU,50);var hx=[15,90,170,15];f(i.CA(1.5),60,hx);var eX=[220,220,20,50];f(i.CA(-1.15),8,eX,2);
var u=[255,255,255,40];T(i.CA(-1.18),6,u);T(i.CA(-1.18),4,u);eX=[110,110,10,8];a(i.CA(-1.2),32,p(eX),-eX[3],20,3);
var et=[5,0,16,255];for(var h=0;h<4;h++){f(i.CA(-1.36),10,et,3)}var f7=[90,200,150,20],iY=f7.slice(0);
iY[3]*=2;f(i.CA(-1.32),7,iY,3);f(i.CA(-1.36),7,iY,3);f(i.CA(-1.4),7,iY,3);var u=[230,230,230,100];T(i.CA(-1.36),2,u);
u[3]=3;f(i.CA(-.55),10,u);eX=[120,100,10,18];f(i.CA(-.55),160,eX,8);f(i.CA(-.55),80,eX,4);f7[3]=3;iY[3]=6;
a(i.CA(-.49),13,p(iY),-iY[3],13,2);a(i.CA(-.55),13,p(iY),-iY[3],13,2);f7[3]=20;f(i.CA(.15),25,f7,3);
eX[3]=100;T(i.CA(-.52),3,eX);eX=[200,200,50,40];f(i.CA(.27),1,eX,4);var cd=[150,40,23,30];a(i.CA(1),80,p(cd),-cd[3],2,1)};
return O[R[0]]()};g.gf={};g.gf.E3=function(J){var v=J.length,co=J[0].length,x=new Array(co);for(var h=0;
h<co;h++)x[h]=new Array(v);for(var h=0;h<co;h++)for(var o=0;o<v;o++)x[h][o]=J[o][h];return x};g.gf.aA=function(J,v){var x=J.length,co=J[0].length,o=new Array(x);
for(var h=0;h<x;h++)o[h]=new Array(co);for(var h=0;h<x;h++)for(var R=0;R<co;R++)o[h][R]=J[h][R]-v[h][R];
return o};g.gf.add=function(J,v){var x=J.length,co=J[0].length,o=new Array(x);for(var h=0;h<x;h++)o[h]=new Array(co);
for(var h=0;h<x;h++)for(var R=0;R<co;R++)o[h][R]=J[h][R]+v[h][R];return o};g.gf.multiply=function(J,v){var x=J.length,o=J[0].length,co=v[0].length;
if(o!=v.length)throw"e";var R=new Array(x);for(var h=0;h<x;h++)R[h]=new Array(co);if((o&1)!=0)for(var h=0;
h<x;h++){var r=J[h],l=R[h];for(var M=0;M<co;M++){var P=0;for(var S=0;S<o;S++)P+=r[S]*v[S][M];l[M]=P}}else for(var h=0;
h<x;h++){var r=J[h],l=R[h];for(var M=0;M<co;M++){var P=0;for(var S=0;S<o;S+=2)P+=r[S]*v[S][M]+r[S+1]*v[S+1][M];
l[M]=P}}return R};g.gf.dy=function(J,v){var x=J.length,co=J[0].length,o=new Array(x);for(var h=0;h<x;
h++){var R=0;for(var r=0;r<co;r++)R+=J[h][r]*v[r];o[h]=R}return o};g.gf.YU=function(J,v){var x=[];for(var h=0;
h<J;h++){x.push([]);for(var o=0;o<v;o++)x[h].push(0)}return x};g.gf.a4C=function(J){for(var h=0;h<J.length;
h++)console.log(JSON.stringify(J[h]))};g.gf.afb=function(J){var v=[];for(var h=0;h<J.length;h++)v.push(J[h].join(","));
return"["+v.join(";")+"]"};g.gf.eU=function(J,v){var x=J.length;for(var o=0;o<x;o++){var R=0,r=Number.NEGATIVE_INFINITY;
for(var h=o;h<x;h++)if(Math.abs(J[h][o])>r){R=h;r=Math.abs(J[h][o])}g.gf.aIX(J,o,R);for(var h=o+1;h<x;
h++){if(J[o][o]==0)return 1;var l=J[h][o]/J[o][o];for(var M=o;M<x+1;M++)J[h][M]-=J[o][M]*l}}for(var h=x-1;
h>=0;h--){if(J[h][h]==0)return 1;var P=J[h][x]/J[h][h];v[h]=P;for(var M=h-1;M>=0;M--){J[M][x]-=J[M][h]*P;
J[M][h]=0}}return 0};g.gf.aIX=function(J,v,x){var o=J[v];J[v]=J[x];J[x]=o};g.gf.a3P=function(J){var v=J.length,x=g.gf.YU(v,v);
for(var h=0;h<v;h++)x[h][h]=J[h];return x};g.gf.axe=function(J){var v=J.length,x=J[0].length,o=new Array(v);
for(var h=0;h<v;h++){o[h]=0;for(var R=0;R<x;R++)o[h]+=J[h][R];o[h]/=x}return o};g.gf.PX=function(J){var v=0;
for(var h=0;h<J.length;h++)v+=J[h]*J[h];return Math.sqrt(v)};g.$G={};g.$G.Da=function(J){var v=~~(J+.5);
return v<0?0:v>255?255:v};g.$G.E2=function(J,v,x){function o(P){return Math.max(0,Math.min(1,P))}var R=J.z.length;
for(var h=0;h<R;h++){var r=J.z[h],l=J.H[h],M=J.c[h];v.z[h]=o(x[0]*r+x[1]*l+x[2]*M+x[3]);v.H[h]=o(x[4]*r+x[5]*l+x[6]*M+x[7]);
v.c[h]=o(x[8]*r+x[9]*l+x[10]*M+x[11])}};g.$G.agO=function(J,v,x){var o=g.u3(J),R=o==8?255:o==16?65535:1,r=1/R,l=J.length;
function M(b){return Math.max(0,Math.min(1,b))}for(var h=0;h<l;h+=4){var P=J[h]*r,S=J[h+1]*r,c=J[h+2]*r;
v[h]=R*M(x[0]*P+x[1]*S+x[2]*c+x[3]);v[h+1]=R*M(x[4]*P+x[5]*S+x[6]*c+x[7]);v[h+2]=R*M(x[8]*P+x[9]*S+x[10]*c+x[11])}};
g.$G.aEP=function(J){var v=J[0]+J[1]+J[2],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(v==1){var o=J.indexOf(1);
x[o]=x[o+4]=x[o+8]=1}else{x[0]=J[0];x[5]=J[1];x[10]=J[2]}return x};g.$G.jL=function(J,v,x){return[1,0,0,J,0,1,0,v,0,0,1,x,0,0,0,1]};
g.$G.RE=function(J,v,x){return[J,0,0,0,0,v,0,0,0,0,x,0,0,0,0,1]};g.$G.a6t=function(J){return[J[0],J[1],J[2],J[4],J[5],J[6],J[8],J[9],J[10]]};
g.$G.ya=function(J){return[J[0],J[1],J[2],0,J[3],J[4],J[5],0,J[6],J[7],J[8],0,0,0,0,1]};g.$G.Gr=function(J,v){return[J[0]*v[0]+J[1]*v[1]+J[2]*v[2]+J[3]*v[3],J[4]*v[0]+J[5]*v[1]+J[6]*v[2]+J[7]*v[3],J[8]*v[0]+J[9]*v[1]+J[10]*v[2]+J[11]*v[3],J[12]*v[0]+J[13]*v[1]+J[14]*v[2]+J[15]*v[3]]};
g.$G.E3=function(J){var v=[];v[0]=J[0];v[1]=J[4];v[2]=J[8];v[3]=J[12];v[4]=J[1];v[5]=J[5];v[6]=J[9];
v[7]=J[13];v[8]=J[2];v[9]=J[6];v[10]=J[10];v[11]=J[14];v[12]=J[3];v[13]=J[7];v[14]=J[11];v[15]=J[15];
return v};g.$G.add=function(J,v){var x=J.slice(0);for(var h=0;h<16;h++)x[h]+=v[h];return x};g.$G.multiply=function(J,v){var x=[];
x[0]=J[0]*v[0]+J[1]*v[4]+J[2]*v[8]+J[3]*v[12];x[1]=J[0]*v[1]+J[1]*v[5]+J[2]*v[9]+J[3]*v[13];x[2]=J[0]*v[2]+J[1]*v[6]+J[2]*v[10]+J[3]*v[14];
x[3]=J[0]*v[3]+J[1]*v[7]+J[2]*v[11]+J[3]*v[15];x[4]=J[4]*v[0]+J[5]*v[4]+J[6]*v[8]+J[7]*v[12];x[5]=J[4]*v[1]+J[5]*v[5]+J[6]*v[9]+J[7]*v[13];
x[6]=J[4]*v[2]+J[5]*v[6]+J[6]*v[10]+J[7]*v[14];x[7]=J[4]*v[3]+J[5]*v[7]+J[6]*v[11]+J[7]*v[15];x[8]=J[8]*v[0]+J[9]*v[4]+J[10]*v[8]+J[11]*v[12];
x[9]=J[8]*v[1]+J[9]*v[5]+J[10]*v[9]+J[11]*v[13];x[10]=J[8]*v[2]+J[9]*v[6]+J[10]*v[10]+J[11]*v[14];x[11]=J[8]*v[3]+J[9]*v[7]+J[10]*v[11]+J[11]*v[15];
x[12]=J[12]*v[0]+J[13]*v[4]+J[14]*v[8]+J[15]*v[12];x[13]=J[12]*v[1]+J[13]*v[5]+J[14]*v[9]+J[15]*v[13];
x[14]=J[12]*v[2]+J[13]*v[6]+J[14]*v[10]+J[15]*v[14];x[15]=J[12]*v[3]+J[13]*v[7]+J[14]*v[11]+J[15]*v[15];
return x};g.$G.SV=function(J){var v=[];v[0]=J[5]*J[10]*J[15]-J[5]*J[14]*J[11]-J[6]*J[9]*J[15]+J[6]*J[13]*J[11]+J[7]*J[9]*J[14]-J[7]*J[13]*J[10];
v[1]=-J[1]*J[10]*J[15]+J[1]*J[14]*J[11]+J[2]*J[9]*J[15]-J[2]*J[13]*J[11]-J[3]*J[9]*J[14]+J[3]*J[13]*J[10];
v[2]=J[1]*J[6]*J[15]-J[1]*J[14]*J[7]-J[2]*J[5]*J[15]+J[2]*J[13]*J[7]+J[3]*J[5]*J[14]-J[3]*J[13]*J[6];
v[3]=-J[1]*J[6]*J[11]+J[1]*J[10]*J[7]+J[2]*J[5]*J[11]-J[2]*J[9]*J[7]-J[3]*J[5]*J[10]+J[3]*J[9]*J[6];
v[4]=-J[4]*J[10]*J[15]+J[4]*J[14]*J[11]+J[6]*J[8]*J[15]-J[6]*J[12]*J[11]-J[7]*J[8]*J[14]+J[7]*J[12]*J[10];
v[5]=J[0]*J[10]*J[15]-J[0]*J[14]*J[11]-J[2]*J[8]*J[15]+J[2]*J[12]*J[11]+J[3]*J[8]*J[14]-J[3]*J[12]*J[10];
v[6]=-J[0]*J[6]*J[15]+J[0]*J[14]*J[7]+J[2]*J[4]*J[15]-J[2]*J[12]*J[7]-J[3]*J[4]*J[14]+J[3]*J[12]*J[6];
v[7]=J[0]*J[6]*J[11]-J[0]*J[10]*J[7]-J[2]*J[4]*J[11]+J[2]*J[8]*J[7]+J[3]*J[4]*J[10]-J[3]*J[8]*J[6];v[8]=J[4]*J[9]*J[15]-J[4]*J[13]*J[11]-J[5]*J[8]*J[15]+J[5]*J[12]*J[11]+J[7]*J[8]*J[13]-J[7]*J[12]*J[9];
v[9]=-J[0]*J[9]*J[15]+J[0]*J[13]*J[11]+J[1]*J[8]*J[15]-J[1]*J[12]*J[11]-J[3]*J[8]*J[13]+J[3]*J[12]*J[9];
v[10]=J[0]*J[5]*J[15]-J[0]*J[13]*J[7]-J[1]*J[4]*J[15]+J[1]*J[12]*J[7]+J[3]*J[4]*J[13]-J[3]*J[12]*J[5];
v[11]=-J[0]*J[5]*J[11]+J[0]*J[9]*J[7]+J[1]*J[4]*J[11]-J[1]*J[8]*J[7]-J[3]*J[4]*J[9]+J[3]*J[8]*J[5];v[12]=-J[4]*J[9]*J[14]+J[4]*J[13]*J[10]+J[5]*J[8]*J[14]-J[5]*J[12]*J[10]-J[6]*J[8]*J[13]+J[6]*J[12]*J[9];
v[13]=J[0]*J[9]*J[14]-J[0]*J[13]*J[10]-J[1]*J[8]*J[14]+J[1]*J[12]*J[10]+J[2]*J[8]*J[13]-J[2]*J[12]*J[9];
v[14]=-J[0]*J[5]*J[14]+J[0]*J[13]*J[6]+J[1]*J[4]*J[14]-J[1]*J[12]*J[6]-J[2]*J[4]*J[13]+J[2]*J[12]*J[5];
v[15]=J[0]*J[5]*J[10]-J[0]*J[9]*J[6]-J[1]*J[4]*J[10]+J[1]*J[8]*J[6]+J[2]*J[4]*J[9]-J[2]*J[8]*J[5];var x=J[0]*v[0]+J[1]*v[4]+J[2]*v[8]+J[3]*v[12];
for(var h=0;h<16;h++)v[h]/=x;return v};g.$G.a2d=function(J){var v=[],x=J[5]*J[10]*J[15]-J[5]*J[14]*J[11]-J[6]*J[9]*J[15]+J[6]*J[13]*J[11]+J[7]*J[9]*J[14]-J[7]*J[13]*J[10],o=-J[4]*J[10]*J[15]+J[4]*J[14]*J[11]+J[6]*J[8]*J[15]-J[6]*J[12]*J[11]-J[7]*J[8]*J[14]+J[7]*J[12]*J[10],R=J[4]*J[9]*J[15]-J[4]*J[13]*J[11]-J[5]*J[8]*J[15]+J[5]*J[12]*J[11]+J[7]*J[8]*J[13]-J[7]*J[12]*J[9],r=-J[4]*J[9]*J[14]+J[4]*J[13]*J[10]+J[5]*J[8]*J[14]-J[5]*J[12]*J[10]-J[6]*J[8]*J[13]+J[6]*J[12]*J[9];
return J[0]*x+J[1]*o+J[2]*R+J[3]*r};g.$G.am=function(J,v,x,o){var R=Math.sin(o),r=Math.cos(o),l=1/Math.sqrt(J*J+v*v+x*x);
J*=l;v*=l;x*=l;return g.$G.ya([J*J*(1-r)+r,J*v*(1-r)-x*R,J*x*(1-r)+v*R,J*v*(1-r)+x*R,v*v*(1-r)+r,v*x*(1-r)-J*R,J*x*(1-r)-v*R,v*x*(1-r)+J*R,x*x*(1-r)+r])};
g.$G.qU=g.$G.ya([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
g.$G.auH=g.$G.ya([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
g.$G.adb=g.$G.ya([1.3459433,-.2556075,-.0511118,-.5445989,1.5081673,.0205351,0,0,1.2118128]);g.$G.aeD=g.$G.ya([2.1861968,-.8165993,-.3530805,-.8443876,1.7943237,.024049,.0479222,-.1018347,1.2792565]);
g.$G.a7H=g.$G.SV(g.$G.qU);g.Mx={};g.Mx.GX=new Uint32Array(1);g.Mx.a2S=function(J,v,x,o,R,r){var l=new Uint32Array(J),M=0,P=g.Mx.GX;
if(P.length<v*4)g.Mx.GX=P=new Uint32Array(v*4);var S=new Float64Array(P.buffer);for(var h=0;h<v;h+=2){var c=R[h],b=R[h+1],w=r[h],U=r[h+1];
P[M]=b;S[M+2>>1]=w;P[M+1]=l[c];l[c]=M+1;M+=4;P[M]=c;S[M+2>>1]=U;P[M+1]=l[b];l[b]=M+1;M+=4}return{dE:P,apc:S,aGU:l}};
g.Mx.eU=function(J,v,x,o,R,r,l){var M=1,P=g.Mx.a2S(J,v,x,o,R,r),S=P.dE,c=P.apc,b=P.aGU,w=new Uint32Array(J),U=new g.Mx.rH(J),Y=1,K=0;
U.push(x);U.push(o);var F=new g.Mx.rH(J),A=new Uint8Array(J),G=new Uint32Array(J);A[x]=1;A[o]=2;var n=new Uint32Array(J),E=new Uint32Array(J);
E[x]=E[o]=0;n[x]=n[o]=1;while(!0){var e=-1,L=0,f=1e30;while(!U.U2()&&e==-1){var $=U.top(),N=A[$],k=b[$]-1;
while(k!=-1){var V=S[k],X=A[V],Q=k^N-1<<2;if(c[Q+2>>1]!=0){if(X==0){g.Mx.r1($,k,V,A,G,E,n);U.push(V)}else if(X==N&&n[V]<=n[$]&&E[V]>E[$])g.Mx.r1($,k,V,A,G,E,n);
else if(X!=N){e=Q}}k=S[k+1]-1}if(e!=-1)break;U.pop()}if(e==-1){break}Y++;var _=e;while(_!=-1){w[L]=_;
L++;_=G[S[_^4]]-1}var a=L>>1;for(var h=0;h<a;h++){var T=w[h];w[h]=w[L-h-1];w[L-h-1]=T}_=G[S[e]]-1;while(_!=-1){w[L]=_^4;
L++;_=G[S[_^4]]-1}for(var h=0;h<L;h++)f=Math.min(f,c[w[h]+2>>1]);K+=f;if(K>=l)return{xz:null,up:K};for(var h=0;
h<L;h++){var Z=w[h],W=Z^4,$=S[W],V=S[Z];c[Z+2>>1]-=f;c[W+2>>1]+=f;if(c[Z+2>>1]==0&&A[$]==A[V]){if(A[$]==1){G[V]=0;
F.push(V)}if(A[$]==2){G[$]=0;F.push($)}}}while(!F.U2()){var $=F.pop(),N=A[$],k=b[$]-1,D=N==1?4:0,C=0,d=0,p=1e9;
while(k!=-1){var V=S[k],y=k^4,Q=k^D;if(A[V]==N&&c[Q+2>>1]>0&&g.Mx.a6j(V,x,o,G,S,Y,n,E)+1<p){C=V;d=y;
p=E[V]+1}k=S[k+1]-1}if(d!=0){g.Mx.r1(C,d,$,A,G,E,n);continue}k=b[$]-1;while(k!=-1){var V=S[k],Q=k^D;
if(A[V]==N){if(c[Q+2>>1]>0){U.push(V)}if(G[V]==k+1){G[V]=0;F.push(V)}}k=S[k+1]-1}A[$]=0;U.remove($)}}var i=[];
for(var h=0;h<v;h+=2){var $=R[h],V=R[h+1];if(A[$]==1&&A[V]!=1){i.push(h>>1)}if(A[V]==1&&A[$]!=1){i.push(v+h>>1)}}return{xz:i,up:K}};
g.Mx.r1=function(J,v,x,o,R,r,l){o[x]=o[J];R[x]=v+1;r[x]=r[J]+1;l[x]=l[J]};g.Mx.a6j=function(J,v,x,o,R,r,l,M){var P=J,S=o[J]-1,c=0;
while(S!=-1&&l[J]!=r){J=R[S^4];S=o[J]-1;c++}if(S==-1&&J!=v&&J!=x)return 1e9;var b=M[J]+c;c=0;S=o[P]-1;
while(P!=J){M[P]=b-c;c++;l[P]=r;P=R[S^4];S=o[P]-1}return b};g.Mx.ah_=function(J,v,x,o,R,r){var l=g.Mx.a2S(J,v,x,o,R,r),M=l.dE,P=l.apc,S=l.aGU,c=0,b=0,w=new Uint32Array(J*2),U=new g.Mx.aDd(J),F=0;
while(!0){U.reset();U.push(x);for(var h=0;h<J;h++)w[h<<1]=0;while(!U.U2()){var Y=U.pop(),A=S[Y]-1;while(A!=-1){F=M[A];
if(w[F<<1]==0&&P[A+2>>1]>0&&F!=x){w[F<<1]=Y+1;w[(F<<1)+1]=A;U.push(F)}A=M[A+1]-1}if(w[o<<1]!=0){break}}if(w[o<<1]==0){break}var G=1e30;
F=o;while(!0){var n=w[F<<1]-1;if(n==-1)break;var E=w[(F<<1)+1];G=Math.min(G,P[E+2>>1]);F=n}F=o;while(!0){var n=w[F<<1]-1;
if(n==-1)break;var E=w[(F<<1)+1],K=E^4;P[E+2>>1]-=G;P[K+2>>1]+=G;F=n}c+=G}var e=[];for(var h=0;h<v;h+=2){var n=R[h],F=R[h+1];
if((w[n<<1]!=0||n==x)&&w[F<<1]==0&&F!=x){e.push(h>>1)}if((w[F<<1]!=0||F==x)&&w[n<<1]==0&&n!=x){e.push(v+h>>1)}}return{xz:e,up:c}};
g.Mx.aDd=function(J){J|=J>>1;J|=J>>2;J|=J>>4;J|=J>>8;J|=J>>16;this.MC=new Uint32Array(J+1);this.tD=J;
this.v8=0;this.BO=0};g.Mx.aDd.prototype={push:function(J){var v=this.BO;this.MC[v]=J;this.BO=v+1&this.tD},pop:function(){var J=this.v8,v=this.MC[J];
this.v8=J+1&this.tD;return v},U2:function(){return this.v8==this.BO},reset:function(){this.v8=0;this.BO=0}};
g.Mx.rH=function(J){J|=J>>1;J|=J>>2;J|=J>>4;J|=J>>8;J|=J>>16;this.MC=new Uint32Array(J+1);this.N7=new Uint32Array(J+1);
this.tD=J;this.v8=0;this.BO=0};g.Mx.rH.prototype={top:function(){return this.MC[this.v8]},aqv:function(){return this.MC[this.BO]},push:function(J){if(this.N7[J]!=0)return;
this.N7[J]=this.BO+1;var v=this.BO;this.MC[v]=J;this.BO=v+1&this.tD},pop:function(){var J=this.v8,v=this.MC[J];
this.N7[v]=0;this.v8=J+1&this.tD;return v},U2:function(){return this.v8==this.BO},remove:function(J){var v=this.N7[J]-1;
if(v==-1)return;this.N7[J]=0;if(v==this.v8){this.pop();return}var x=this.pop();this.MC[v]=x;this.N7[x]=v+1},xH:function(h){return h+this.tD+1&this.tD}};
g.Mx.aiX=function(J,v,x){var o=g.Mx.Yz(J,v,x);if(v<o-1)g.Mx.aiX(J,v,o-1);if(o<x)g.Mx.aiX(J,o,x)};g.Mx.Yz=function(J,v,x){var o=J[v+x>>>1];
while(v<=x){while(J[v]<o)v++;while(J[x]>o)x--;if(v<=x){g.Mx.iL(J,v,x);v++;x--}}return v};g.Mx.iL=function(J,v,x){var o=J[v];
J[v]=J[x];J[x]=o};g.lr=function(){var J,v;function x(l,M,co){var P=co-1,S=M+co;J[co-2]=l[S-2];v[0]=l[S-1];
var c=Math.max;for(var h=1;h<P;h++){J[co-2-h]=c(J[co-1-h],l[S-2-h]);v[h]=c(v[h-1],l[S-1+h])}for(var h=0;
h<P;h++)l[M+h]=c(J[h],v[h])}function o(l,M,co){var P=co-1,S=Math.ceil(M/P)*P;for(var c=0;c<S;c+=P)x(l,c,co)}function R(l,M,P,S,co,c){M.set(l);
if(co==1)return;J=g.C(co-1);v=g.C(co-1);var b=co>>>1,w=g.C(Math.ceil(Math.max(P,S)/(co-1))*(co-1)+(co-2)),U=new Uint8Array(w.buffer,0,P);
if(!c)g.SV(M);for(var F=0;F<S;F++){w.fill(0);w.set(new Uint8Array(M.buffer,F*P,P),b);o(w,P,co);M.set(U,F*P)}for(var Y=0;
Y<P;Y++){w.fill(0);for(var F=0;F<S;F++)w[F+b]=M[F*P+Y];o(w,S,co);for(var F=0;F<S;F++)M[F*P+Y]=w[F]}if(!c)g.SV(M)}function r(l,M,P,S,co,c){var b=g.C(P*S);
for(var w=0;w<4;w++){g.Vi(l,b,w);if(w==3)g.SV(b);R(b,b,P,S,co,c);if(w==3)g.SV(b);g.Os(b,M,w)}}return{qP:R,aIo:r}}();
g.Fw={};g.Fw.ayr=function(J){for(var h=0;h<J.length;h++)g.Fw.IG(J,h)};g.Fw.IG=function(J,h){J[h].v.keyShapeInvalidated={t:"bool",v:!0}};
g.Fw.aoK=function(J){for(var h=0;h<J.length;h++)J[h].v.keyOriginIndex.v=h};g.Fw.e$=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
g.Fw.yL=function(J,v,x){J=J.v;var o={Rctn:2,Ln:4,Elps:5},R=o[J.classID],r=J.topLeft?g.Fw.asU(J):null,l=null,M=0,P=[!1,!1,0,0,0];
if(R==4){var S=J.Strt.v,c=J.End.v;l=[S.Hrzn.v.val,S.Vrtc.v.val,c.Hrzn.v.val,c.Vrtc.v.val];M=J.Wdth.v.val;
for(var h=0;h<2;h++){var b=J[h==0?"StrA":"EndA"];if(b==null)continue;b=b.v;P[h]=b.On.v;P[2]=b.Wdth.v;
P[3]=b.Lngt.v;P[4]=b.Cncv.v.val}}if(R==null)return null;return g.Fw.Ci(R,R==4?null:g.Fw.pA(J,v,x),r,l,M,P)};
g.Fw.XW=function(J,v,x,o,R,r,l){var M={classID:J,unitValueQuadVersion:{t:"long",v:1}};if(v)g.Fw.TE(M,["Left","Top","Rght","Btom"],v);
if(x)g.Fw.TE(M,["topLeft","topRight","bottomRight","bottomLeft"],x);if(J=="Ln"){M.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:o[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:o[1]}}}},M.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:o[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:o[3]}}}},M.Wdth={t:"UntF",v:{type:"#Pxl",val:R}};
for(var h=0;h<2;h++){var P=h==0?"StrA":"EndA";M[P]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:l[h]},Wdth:{t:"doub",v:l[2]},Lngt:{t:"doub",v:l[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:l[4]}}}}}}if(r)M.Nm={t:"TEXT",v:r};
return{t:"Objc",v:M}};g.Fw.a7L=function(J,v){var x=g.Fw.Jv(J),o=J[2]-J[0],R=J[3]-J[1],r=Math.sqrt(o*o+R*R),l=[0,0,r,0,r,v,0,v],M=new bC;
M.rotate(-x);M.translate(J[0],J[1]);g.b.u(l,M,l);return l};g.Fw.Ci=function(J,v,x,o,R,r){var l=g.Fw.e$(),M=l.v,P;
delete M.keyShapeInvalidated;M.keyOriginType={t:"long",v:J};M.keyOriginResolution={t:"doub",v:75};if(J==4){M.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:o[0]},Vrtc:{t:"doub",v:o[1]}}};
M.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:o[2]},Vrtc:{t:"doub",v:o[3]}}};P=g.Fw.a7L(o,R);
var S=g.b.ni(P);v=[S.x,S.y,S.x+S.r,S.y+S.$];M.keyOriginLineWeight={t:"doub",v:R};if(r)g.Fw.axm(M,r)}else P=[v[0],v[1],v[2],v[1],v[2],v[3],v[0],v[3]];
M.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};g.Fw.Uj(M,"keyOriginBoxCorners",P);var c={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
M.keyOriginShapeBBox={t:"Objc",v:c};g.Fw.aB7(M,v);if(x!=null){var b={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
M.keyOriginRRectRadii={t:"Objc",v:b};g.Fw.iy(M,x)}return l};g.Fw.u=function(J,v,x,o){var R=g.O.a3h(v),r=g.O.a3D(v),l=g.O.f4(v),M=l.o5*l.fn-l.c*l.Mz;
for(var h=0;h<J.length;h++){var P=J[h].v;if(!g.Fw.Cx(P))continue;if(x.length!=0&&x.indexOf(h)==-1)continue;
var S=P.keyOriginType.v,c=v;if(M<0&&S==2){var b=g.Fw.w4(P),w=0;w=b[0];b[0]=b[1];b[1]=w;w=b[2];b[2]=b[3];
b[3]=w;g.Fw.iy(P,b);var U=g.Fw.Js(P,"keyOriginBoxCorners"),F=g.b.ni(U),Y=F.x+F.r/2,A=new bC;A.translate(-Y,0);
A.scale(-1,1);A.translate(Y,0);c=g.O.K1(c,g.O.Mf(A))}var G=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var n=0;n<G.length;n++){var U=g.Fw.Js(P,G[n]);if(U==null)continue;g.O.u(c,U);g.Fw.Uj(P,G[n],U);var F=g.b.ni(U);
g.Fw.aB7(P,[F.x,F.y,F.x+F.r,F.y+F.$]);var E=new bC;E.rotate(-g.Fw.Jv(U));var K={classID:"Trnf"};P.Trnf={t:"Objc",v:K};
var e="xx xy yx yy tx ty".split(" "),$=[E.o5,E.c,E.Mz,E.fn,E.zP,E.jD];for(var N=0;N<6;N++)K[e[N]]={t:"doub",v:$[N]}}if(S==2&&o){var b=g.Fw.w4(P);
for(var n=0;n<4;n++)b[n]=Math.round(b[n]*v[0]);g.Fw.iy(P,b)}var U=g.Fw.Js(P,"keyOriginBoxCorners"),k=U[2]-U[0],V=U[3]-U[1],X=Math.sqrt(k*k+V*V);
k/=X;V/=X;var Q=U[6]-U[0],L=U[7]-U[1],_=Math.sqrt(Q*Q+L*L);Q/=_;L/=_;if(S==4){var a=l.Nf();P.keyOriginLineWeight.v*=a;
var T=g.Fw.He(P);g.O.u(v,T);g.Fw.ad7(P,T);var f=g.Fw.a4t(P);f[2]*=a;f[3]*=a;g.Fw.axm(P,f)}var Z=k*Q+V*L;
if(Math.abs(Z)>.001){g.Fw.IG(J,h)}}};g.Fw.Cx=function(J){var v=J.keyShapeInvalidated,x=J.keyOriginType;
return(v==null||!v.v)&&x!=null&&x.v!=9};g.Fw.abf=function(J){var v=J.keyOriginType.v,x=g.Fw.d2(J),o=x[0],R=x[1],r=x[2],l=x[3],M=new bC,P=J.keyOriginPolyCornerRadius,U;
P=P?P.v:0;var S=g.Fw.Js(J,v==7||v==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),c=g.Fw.a9r(S),b=c[2],w=c[3];
o=-b/2;r=b/2;R=-w/2;l=w/2;M.rotate(-g.Fw.Jv(S));M.zP=c[0];M.jD=c[1];if(v==1||v==2){var F=v==1?0:g.Fw.w4(J);
U=g.I.yu.Rect(o,R,r-o,l-R,F)}else if(v==4){var Y=g.Fw.He(J),A=g.Fw.a4t(J);M=new bC;if(A==null)U=g.I.yu.aY(Y[0],Y[1],Y[2],Y[3],J.keyOriginLineWeight.v);
else U=g.I.yu.Gb(Y[0],Y[1],Y[2],Y[3],J.keyOriginLineWeight.v,A)}else if(v==5){U=g.I.yu.Bd(o,R,r-o,l-R)}else if(v==7||v==8){var G=v==7?3:J.keyOriginPolySides.v;
U=g.I.yu.We(0,0,100,Math.PI/G-Math.PI/2,G,P,r,l)}g.I.Xi(U,M);return U};g.Fw.pY=function(J,v){var x=v.X;
for(var h=0;h<J.length;h++){var o=J[h].v;if(!g.Fw.Cx(o))continue;var R=g.Fw.abf(o),r=g.I.I5(x,h),l=g.I.yq(x,h);
R[2].da=x[r].da;var M=x;x=x.slice(0,r);for(var P=2;P<R.length;P++)x.push(R[P]);for(var P=r+l;P<M.length;
P++)x.push(M[P])}v.X=x;v.px=!0};g.Fw.e6=function(J){var v=1e9,x=-v,o=1e9,R=-o,r=[],l=J.Ng(),M=l[0],P=l[1];
for(var S=0;S<P.length;S++){var c=M[P[S]],b=c.add.vogk;if(b==null)continue;var w=c.add.vmsk.Y;for(var U=0;
U<b.length;U++){var F=b[U].v,G=0;if(!g.Fw.Cx(F))continue;if(P.length==1&&w.length!=0&&w.indexOf(U)==-1)continue;
var Y=F.keyOriginType.v;if(Y==9)continue;var A=g.Fw.d2(F);v=Math.min(v,A[0]);o=Math.min(o,A[1]);x=Math.max(x,A[2]);
R=Math.max(R,A[3]);var n=g.Fw.Js(F,"keyOriginBoxCorners");if(n){var E=g.Fw.a9r(n),K=E[2],e=E[3];A[2]=A[0]+K;
A[3]=A[1]+e;G=g.Fw.Jv(n)}var $=[Y,A,G];r.push($);var N=F.keyOriginPolyCornerRadius;if(Y==2)$.push(g.Fw.w4(F));
if(Y==7||Y==8)$.push(N?N.v:0);if(Y==8)$.push(F.keyOriginPolySides.v)}}return r.length==1?r[0]:[0,v<x?[v,o,x,R]:null,0]};
g.Fw.Jv=function(J){var v=J[2]-J[0],x=J[3]-J[1];return-Math.atan2(-x,v)};g.Fw.a2H=function(J){var v=g.Fw.d2(J);
return g.Fw.Jv(v)};g.Fw.ahF=function(J,v,x){var o=g.Fw.e6(J),R=-1;for(var h=0;h<v.length;h++)if(JSON.stringify(v[h])!=JSON.stringify(o[h]))R=h;
if(R==1||R==2){}var r=J.Ng(),l=r[0],M=r[1];for(var P=0;P<M.length;P++){var S=l[M[P]],c=S.add.vogk;if(c==null)continue;
var b=S.add.vmsk.Y;for(var w=0;w<c.length;w++){var U=c[w].v;if(!g.Fw.Cx(U))continue;if(M.length==1&&b.length!=0&&b.indexOf(w)==-1)continue;
var F=U.keyOriginType.v;if(R==1||R==2){g.Fw.u(c,g.Fw.atm(R,U,o,v),b,!1);break}if(R==3)if(F==2)g.Fw.iy(U,v[3]);
else U.keyOriginPolyCornerRadius={t:"doub",v:v[3]};if(R==4)U.keyOriginPolySides.v=v[4];if(x)g.Fw.IG(c,w)}}};
g.Fw.atm=function(J,v,x,o){var R=o[1],r=x[1],l=(R[2]-R[0])/(r[2]-r[0]),M=(R[3]-R[1])/(r[3]-r[1]),P=new bC;
if(J==1){if(Math.max(Math.abs(l-1),Math.abs(M-1))>1e-8){var S=R[0],c=R[1];if(o[0]!=0){var b=g.Fw.Js(v,"keyOriginBoxCorners");
S=b[0];c=b[1]}P.translate(-S,-c);P.rotate(o[2]);P.scale(l,M);P.rotate(-o[2]);P.translate(S,c)}else{P.translate(-r[0],-r[1]);
P.translate(R[0],R[1])}}else{if(o[0]!=0)R=g.Fw.d2(v);var S=(R[0]+R[2])/2,c=(R[1]+R[3])/2;P.translate(-S,-c);
if(x[0]!=0)P.rotate(x[2]);P.rotate(-o[2]);P.translate(S,c)}return g.O.Mf(P)};g.Fw.a9r=function(J){var v=J[0],x=J[1],o=J[2],R=J[3],r=J[4],l=J[5],M=J[6],P=J[7],S=o-v,c=R-x,b=Math.sqrt(S*S+c*c),S=r-o,c=l-R,w=Math.sqrt(S*S+c*c);
return[(v+r)/2,(x+l)/2,b,w]};g.Fw.Js=function(J,v){var x=J[v];if(x==null)return null;var o=[];x=x.v;
for(var R=0;R<4;R++){var r=x["rectangleCorner"+["A","B","C","D"][R]].v;o.push(r.Hrzn.v,r.Vrtc.v)}return o};
g.Fw.Uj=function(J,v,x){var o=J[v];if(o==null)return null;o=o.v;for(var R=0;R<4;R++){var r="rectangleCorner"+["A","B","C","D"][R];
o[r]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:x[2*R]},Vrtc:{t:"doub",v:x[2*R+1]}}}}};g.Fw.d2=function(J){return g.Fw.pA(J.keyOriginShapeBBox.v)};
g.Fw.pA=function(J,v,x){var o=J.classID,R=J.Left.v,r=J.Rght.v,l=J.Top.v,M=J.Btom.v,P=R.type;if(R.val!=null){R=R.val;
r=r.val;l=l.val;M=M.val}if(P=="#Prc"&&v){R*=v/100;r*=v/100;l*=x/100;M*=x/100}return[R,l,r,M]};g.Fw.ca=function(J,v,x){var o=g.Fw.pA(J,v,x);
return new jj(o[0],o[1],o[2]-o[0],o[3]-o[1])};g.Fw.aB7=function(J,v){g.Fw.TE(J.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],v)};
g.Fw.w4=function(J){var v=J.keyOriginRRectRadii;if(v==null)return[0,0,0,0];return g.Fw.asU(v.v)};g.Fw.asU=function(J){var v=[],x=["topLeft","topRight","bottomRight","bottomLeft"];
for(var o=0;o<4;o++)v.push(J[x[o]].v.val);return v};g.Fw.iy=function(J,v){g.Fw.TE(J.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],v)};
g.Fw.TE=function(J,v,x){var o=J.classID;if(o=="unitRect"||o=="radii"||o=="Rctn"){for(var h=0;h<4;h++)if(x[h]!=null)J[v[h]]={t:"UntF",v:{type:"#Pxl",val:x[h]}}}else{for(var h=0;
h<4;h++)if(x[h]!=null)J[v[h]]={t:"doub",v:x[h]}}};g.Fw.He=function(J){var v=J.keyOriginLineStart.v,x=J.keyOriginLineEnd.v;
return[v.Hrzn.v,v.Vrtc.v,x.Hrzn.v,x.Vrtc.v]};g.Fw.ad7=function(J,v){var x=J.keyOriginLineStart.v,o=J.keyOriginLineEnd.v;
x.Hrzn.v=v[0];x.Vrtc.v=v[1];o.Hrzn.v=v[2];o.Vrtc.v=v[3]};g.Fw.a4t=function(J){var v=[],x=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var h=0;h<5;h++){var o=J["keyOriginLineArr"+x[h]];if(o==null)return null;v[h]=o.v}return v};g.Fw.axm=function(J,v){J.keyOriginLineArrowSt={t:"bool",v:v[0]};
J.keyOriginLineArrowEnd={t:"bool",v:v[1]};J.keyOriginLineArrWdth={t:"doub",v:v[2]};J.keyOriginLineArrLngth={t:"doub",v:v[3]};
J.keyOriginLineArrConc={t:"long",v:v[4]}};g.Fw.aoa=function(J){function v(K,e){return Math.abs(K-e)<.5}function x(K,e){return v(K.x,e.x)&&v(K.y,e.y)}function o(K,e,$,N,k,V,X){for(var h=0;
h<X;h++){var Q=K[e+($+h)%X],L=N[k+(V+h)%X];if(!(x(Q.Z,L.Z)&&x(Q.nQ,L.nQ)&&x(Q._v,L._v)))return!1}return!0}var R=[];
for(var r=0;r<J.length;r++){var l=J[r],P=null;if(l.e!=0&&l.e!=3||l.da==-1)continue;var M=r;if(l.length==4||l.length==8){var S=g.I.an0(J.slice(0,2).concat(J.slice(M,M+l.length+1)));
M=2;if(l.length==4){var c=g.I.kf(S,M+1,4),b=c.x,w=c.y,U=b+c.r,F=w+c.$;if(c.o()>4){if(g.I.GC(S.slice(M-2,M+5)))P=g.Fw.Ci(2,[b,w,U,F],[0,0,0,0]);
else{var Y=-1;for(var h=0;h<4;h++)if(v(S[M+1+h].Z.y,F))Y=h;if(Y!=-1){var A=g.I.yu.Bd(b,w,U-b,F-w),G=o(S,M+1,Y,A,3,0,4);
if(G)P=g.Fw.Ci(5,[b,w,U,F])}}}}if(l.length==8){var c=g.I.kf(S,M+1,8),b=c.x,w=c.y,U=b+c.r,F=w+c.$;if(c.o()>4){var Y=-1;
for(var h=0;h<8;h++)if(v(S[M+1+(h+1&7)].Z.y,w)&&v(S[M+1+(h+2&7)].Z.y,w))Y=h;if(Y!=-1){var n=Math.abs(S[M+1+Y].Z.y-w),E=[n,n,n,n];
if(n>.5){var A=g.I.yu.Rect(b,w,U-b,F-w,E),G=o(S,M+1,Y,A,3,0,8);if(G)P=g.Fw.Ci(2,[b,w,U,F],E)}}}}}R.push(P?P:g.Fw.e$())}return R};
g.b={};g.b.Q=function(J){return{Wp:J.Wp.slice(0),T:J.T.slice(0)}};g.b.amt=function(J){if(J.length<6)return!0;
var v=J.length-4;for(var h=0;h<v;h+=2)if(!g.b.UF(J[h],J[h+1],J[h+2],J[h+3],J[h+4],J[h+5]))return!1;if(!g.b.UF(J[v],J[v+1],J[v+2],J[v+3],J[0],J[1]))return!1;
if(!g.b.UF(J[v+2],J[v+3],J[0],J[1],J[2],J[3]))return!1;return!0};g.b.UF=function(J,v,x,o,R,r){return(v-o)*(R-x)+(x-J)*(r-o)>=0};
g.b.ar2=function(J,v){function x(p,y,k){var $=y[0]-p[0],N=y[1]-p[1],i=g.b.Ak(k[0],k[1],-N,$,p[0],p[1],$,N);
return[k[0]-N*i,k[1]+$*i]}function o(p,y){var $=p[0]-y[0],N=p[1]-y[1];return Math.sqrt($*$+N*N)}J=g.b.ai8(J);
var R=[0,0,0,0],r=J.length,l=[0,0,0,0],M=Math.PI/2,P=Math.atan2(-1,0),U=1e9,F,Y=0;function S(){for(var h=0;
h<4;h++){var G=R[h],n=(G+2)%r,p=J[n]-J[G],y=J[n+1]-J[G+1],i=Math.atan2(y,p),t=P+h*M;if(i<t)t-=2*Math.PI;
l[h]=i-t}}for(var h=0;h<r;h+=2){var c=J[h],b=J[h+1];if(c<J[R[0]])R[0]=h;if(b<J[R[1]+1])R[1]=h;if(c>J[R[2]])R[2]=h;
if(b>J[R[3]+1])R[3]=h}S();var w=g.b.ni(J).o();while(Y<r/2){var A=0;for(var h=0;h<4;h++)if(l[h]<l[A])A=h;
var G=R[A],n=(G+2)%r,E=R[A+2&3],K=R[A+3&3],e=R[A+1&3],c=J[G],$=J[n]-c,b=J[G+1],N=J[n+1]-b,k=J.slice(G,G+2),V=J.slice(n,n+2),X=J.slice(E,E+2),Q=J.slice(K,K+2),L=J.slice(e,e+2),_=x(k,V,X),a=x(Q,[Q[0]-N,Q[1]+$],L),T=o(_,X),f=o(a,L);
if(f*T<U){U=f*T;var Z=x(k,V,Q);F=[Z[0],Z[1],$,N,f,T]}P+=l[A];R[A]=n;S();Y++}var c=F[0],b=F[1],$=F[2],N=F[3],f=F[4],T=F[5],W=Math.sqrt($*$+N*N);
$/=W;N/=W;var D=c+$*f,C=b+N*f,d=[c,b,D,C,D-N*T,C+$*T,c-N*T,b+$*T];while(d[0]>d[2]||Math.abs((d[3]-d[1])/(d[2]-d[0]))>1){d.push(d.shift(),d.shift())}return d};
g.b.ai8=function(J){var v=0;for(var h=0;h<J.length;h+=2)if(J[h]<J[v])v=h;var x=[v];while(!0){var o=x[x.length-1],R=J[o],r=J[o+1],l=x.length==1?x[0]:x[x.length-2],M=J[l],P=J[l+1],w=0,U=1e9,F=0;
if(x.length==1)P+=20;var S=M-R,c=P-r,b=Math.sqrt(S*S+c*c);S/=b;c/=b;for(var h=0;h<J.length;h+=2){if(h==l||h==o)continue;
var Y=J[h],A=J[h+1],G=Y-R,n=A-r,E=Math.sqrt(G*G+n*n);G/=E;n/=E;var K=S*G+c*n;if(K<U||K==U&&E>F){U=K;
w=h;F=E}}if(w==x[0])break;x.push(w)}var e=[];for(var h=0;h<x.length;h++)e.push(J[x[h]],J[x[h]+1]);return e};
g.b.GA=function(J){var v={},x=0,o={M:2,L:2,Q:4,C:6},R="",r="",l={T:[],Wp:[]};for(var h=0;h<J.Wp.length;
h++){var M=J.Wp[h];if(M[0]=="#")R=M;else if(M[0]=="X"){var P=R+r;if(v[P]==null)v[P]={T:[],Wp:[]};g.b.concat(v[P],l);
R="";r="";l={T:[],Wp:[]}}else if(M[0]=="O"&&M[1]=="-")r=M;else if(M=="OX"){if(r!="")r+="-1"}else{l.Wp.push(M);
var S=o[M];if(S==null)S=0;for(var c=0;c<S;c++)l.T.push(J.T[x+c]);x+=S}}return v};g.b.a2w=function(J,v,x){var o=J[v]-J[x-2],R=J[v+1]-J[x-1];
return o*o+R*R<1e-4};g.b.aiK=function(J){var v=[],x=J.T,o=J.Wp.length-1;for(var R=0;R<o;R++){var h=R*6,r=x[h+6]-x[h+0],l=x[h+7]-x[h+1],M=Math.ceil(Math.sqrt(r*r+l*l));
for(var P=0;P<M;P++){var S=P/M,c=1-S,b=c*c*c*x[h+0]+3*c*c*S*x[h+2]+3*c*S*S*x[h+4]+S*S*S*x[h+6],w=c*c*c*x[h+1]+3*c*c*S*x[h+3]+3*c*S*S*x[h+5]+S*S*S*x[h+7];
v.push(b,w)}}return v};g.b.ZX=function(J,v,x){J=g.b.wM(J);var o=J.T,R=J.Wp,r=0,l="",M=0,P=0,r=0,b=null;
for(var h=0;h<R.length;h++){var S=R[h];if(S=="M"){M=o[r];P=o[r+1];r+=2;l=S}if(S=="C"){if(l=="Z"){R.splice(h,0,"M");
o.splice(r,0,M,P);h--;continue}r+=6;l=S}if(S=="Z"){l=S}}var c=[];r=0;for(var h=0;h<R.length;h++){var S=R[h];
if(S=="M"){b={be:r,XV:0,q7:!1};c.push(b);r+=2}if(S=="C"){b.XV++;r+=6}if(S=="Z"&&b!=null){b.q7=!0}}var w=[];
for(var h=0;h<c.length;h++)if(c[h].XV!=0)w.push(c[h]);c=w;for(var h=0;h<c.length;h++){var U=c[h],F=U.be,Y=F+2+U.XV*6,G=0;
U.ZW=g.b.ni(o,F,Y);var A=g.b.a2w(o,F,Y);for(var n=0;n<U.XV;n++){var E=F+n*6,K=E+6;G+=(o[K]-o[E])*(o[K+1]+o[E+1])}if(U.XV==2){var e=function(z,jw,u){var iH=1-u;
return iH*iH*iH*z[jw]+3*iH*iH*u*z[jw+2]+3*iH*u*u*z[jw+4]+u*u*u*z[jw+6]},$=o[F],N=o[F+1],k=o[F+6],V=o[F+7],X=o[F+6],Q=o[F+7],L=e(o,F,.5),_=e(o,F+1,.5),a=e(o,F+6,.5),T=e(o,F+7,.5);
G=(L-$)*(_-N)+(k-L)*(V-_)+(a-k)*(T-V)+(X-a)*(Q-T)}if(!A)G+=(o[F]-o[Y-2])*(o[F+1]+o[Y-1]);U.Hj=G<=0}for(var h=0;
h<c.length-1;h++)for(var E=h+1;E<c.length;E++){var f=c[h],Z=c[E];if(Z.ZW.Db(f.ZW)){c[h]=Z;c[E]=f}}var W=c.length==0?!0:c[0].Hj,D=[{e:6},{e:8,all:0}];
for(var h=0;h<c.length;h++){var U=c[h],F=U.be,Y=F+2+U.XV*6,A=g.b.a2w(o,F,Y);if(U.XV==1)A=!1;var C=U.q7||A?0:3,d=U.Hj==W&&!v?1:0;
if(!v&&h!=0){if(c[h-1].ZW.Db(U.ZW)&&c[h-1].Hj!=U.Hj)d=0;for(var E=0;E<c.length;E++)if(E!=h&&c[E].ZW.Db(U.ZW))d=0}D.push({e:C,length:U.XV+(A?0:1),da:x?0:d,ii:2});
for(var E=0;E<U.XV;E++){var r=F+E*6,p=new aG(o[r],o[r+1]),y=new aG(o[r+2],o[r+3]),i;if(E==0){if(A){i=new aG(o[Y-4],o[Y-3]);
if(aG.Aj(i,p)<1e-5)i=p.Q()}else i=p.Q()}else i=new aG(o[r-2],o[r-1]);D.push({e:C+2,nQ:i,Z:p,_v:y})}if(!A){var t=new aG(o[Y-2],o[Y-1]);
D.push({e:C+2,nQ:new aG(o[Y-4],o[Y-3]),Z:t,_v:t.Q()})}}for(var E=0;E<D.length;E++){var O=D[E];if(O.e>5||O.e==0||O.e==3)continue;
var q=O.nQ.Ym(O.Z)||O._v.Ym(O._v);if(!q){var f=O.nQ.x*(O.Z.y-O._v.y)+O.Z.x*(O._v.y-O.nQ.y)+O._v.x*(O.nQ.y-O.Z.y);
if(Math.abs(f)<1e-6)q=!0}if(q)O.e--}return D};g.b.ns=function(J,v){var x=g.I.Eo(J),o=[];for(var h=2;
h<J.length;h++){var R=J[h].da;if(R!=null){if(R==2||R==0||R==3||R==-1)o.push(R)}}var r=o.length!=0;if((r||v)&&J.length<5e3&&1<x&&x<200)J=g.I.aE(J);
var l=g.b.Am(J);return{fF:l,du:r?1:0}};g.b.Am=function(){function J(o,R,r,l){if(l!=2&&o._v.Ym(o.Z)&&R.nQ.Ym(R.Z)){r.T.push(R.Z.x,R.Z.y);
r.Wp.push("L")}else{var M=o.Z,P=o._v,S=R.nQ,c=R.Z,b=3/2*P.x-1/2*M.x,w=3/2*P.y-1/2*M.y,U=3/2*S.x-1/2*c.x,F=3/2*S.y-1/2*c.y,Y=U-b,A=F-w;
if(l==0&&Y*Y+A*A<.001){r.T.push((b+U)*.5,(w+F)*.5,c.x,c.y);r.Wp.push("Q")}else{r.T.push(P.x,P.y,S.x,S.y,c.x,c.y);
r.Wp.push("C")}}}function v(o,R,h,r,l,M){var P=R[h];o.T.push(P.Z.x,P.Z.y);o.Wp.push("M");for(var S=h;
S<h+r-1;S++)J(R[S],R[S+1],o,M);if(!l)J(R[S],R[h],o,M)}function x(o,R){if(R==null)R=0;var r={T:[],Wp:[]};
for(var h=0;h<o.length;h++){if(o[h].e>5)continue;var l=o[h].length;if(l==0)continue;if(h==o.length-1)break;
var M=o[h].e==3;v(r,o,h+1,l,M,R);if(!M)r.Wp.push("Z");h+=l}return r}return x}();g.b.ah$=function(J){var v=J.T,x=[],o,R=0;
for(var h=0;h<J.Wp.length;h++){var r=J.Wp[h];if(r=="C"){o.push(v[R++],v[R++],v[R++],v[R++],v[R++],v[R++])}else if(r=="Z"){}else{o=[];
if(r!="M"){o.push(r);h++}o.push(v[R++],v[R++]);x.push(o)}}return x};g.b.CK=function(J,v,x,o){if(o==null)o=1e9;
var R=1e9,r=0;for(var h=0;h<J.length;h+=2){var l=v-J[h],M=x-J[h+1],P=l*l+M*M;if(P<R){R=P;r=h>>>1}}return R<o*o?r:-1};
g.b.azg=function(J,v,x,o){for(var h=0;h<J.length;h+=2){var R=J[h],r=J[h+1],l=v[h],M=v[h+1];x[h]=R+(l-R)*o;
x[h+1]=r+(M-r)*o}};g.b.u=function(J,v,x){for(var h=0;h<J.length;h+=2){var o=J[h],R=J[h+1];x[h]=o*v.o5+R*v.Mz+v.zP;
x[h+1]=o*v.c+R*v.fn+v.jD}};g.b.ni=function(J,v,x){if(v==null)v=0;if(x==null)x=J.length;var o=99999999999,R=-o,r=99999999999,l=-r;
for(var h=v;h<x;h+=2){var M=J[h],P=J[h+1];o=Math.min(o,M);r=Math.min(r,P);R=Math.max(R,M);l=Math.max(l,P)}return new jj(o,r,R-o,l-r)};
g.b.aou=function(J,v){var x=Math.max(v.x,Math.min(v.x+v.r,J.x)),o=Math.max(v.y,Math.min(v.y+v.$,J.y)),R=J.x-x,r=J.y-o;
return Math.sqrt(R*R+r*r)};g.b.RN=function(J,v){var x=Math.floor,o=Math.ceil;if(v){x=Math.ceil;o=Math.floor}var R=x(J.x),r=o(J.x+J.r),l=x(J.y),M=o(J.y+J.$);
return new jj(R,l,r-R,M-l)};g.b.jR=function(J,v){return g.b.RN(g.b.ni(J),v)};g.b.ho=function(J,v){var x=J.x,o=J.y,R=J.x+J.r,r=J.y+J.$,l=[x,o,R,o,R,r,x,r];
if(v){var M=v.Q();M.SV();g.b.u(l,M,l)}return{Wp:["M","L","L","L","Z"],T:l}};g.b.concat=function(J,v,x){if(x==null)x=new bC;
for(var h=0;h<v.T.length;h+=2){var o=v.T[h],R=v.T[h+1];J.T.push(o*x.o5+R*x.Mz+x.zP);J.T.push(o*x.c+R*x.fn+x.jD)}for(var h=0;
h<v.Wp.length;h++)J.Wp.push(v.Wp[h])};g.b.reverse=function(J){var v=J.Wp.slice(1),x=v.pop();if(x!="Z")v.push(x);
v.reverse();v=["M"].concat(v);if(x=="Z")v.push("Z");var o=[],R=J.T.length;for(var r=0;r<R;r+=2){o[r]=J.T[R-2-r];
o[r+1]=J.T[R-2-r+1]}return{T:o,Wp:v}};g.b.a9O=function(J,v,x,o,R){function r(w,U,F){return new aG(w.x*(1-F)+U.x*F,w.y*(1-F)+U.y*F)}var l=r(J,v,R),M=r(x,o,R),P=r(v,x,R),S=r(l,P,R),c=r(P,M,R),b=r(S,c,R);
return[l,S,b,c,M]};g.b.wM=function(J){var v=J.T,x=[],o=[],R=0,r=0,l=0,M=0,P=0,S=0,c=0,b=0,w=0,U=0,F=0;
for(var h=0;h<J.Wp.length;h++){var Y=J.Wp[h];if(Y=="M"){r=v[R];l=v[R+1];R+=2;o.push(Y);x.push(r,l);U=r;
F=l}else if(Y=="C"){M=v[R];P=v[R+1];S=v[R+2];c=v[R+3];b=v[R+4];w=v[R+5];R+=6;o.push(Y);x.push(M,P,S,c,b,w);
r=b;l=w}else if(Y=="Q"){M=v[R];P=v[R+1];S=v[R+2];c=v[R+3];R+=4;var A=M-r,G=P-l,n=S-M,E=c-P;o.push("C");
x.push(r+2/3*A,l+2/3*G,M+1/3*n,P+1/3*E,S,c);r=S;l=c}else if(Y=="L"){M=v[R];P=v[R+1];R+=2;if(M!=r||P!=l){o.push("C");
x.push(r,l,M,P,M,P);r=M;l=P}}else{if(Y=="Z"){r=U;l=F}o.push(Y)}}return{Wp:o,T:x}};g.b.abB=function(J){var v=J.T,x=[],o=[],R=0;
for(var h=0;h<J.Wp.length;h++){var r=J.Wp[h];if(r=="Q"){var l=v[R-2],M=v[R-1],P=v[R],S=v[R+1],c=v[R+2],b=v[R+3];
R+=4;var w=P-l,U=S-M,F=c-P,Y=b-S;o.push("C");x.push(l+2/3*w,M+2/3*U,P+1/3*F,S+1/3*Y,c,b)}else{var A=0;
if(r=="M"||r=="L")A=2;else if(r=="C")A=6;for(var G=0;G<A;G++)x.push(v[R+G]);R+=A;o.push(r)}}return{Wp:o,T:x}};
g.b.eo=function(J,v){var x=J.T,o=[],R=[],r=0,l=0,M=0,P=0,S=0,c=0,b=0,w=0,U=0;for(var h=0;h<J.Wp.length;
h++){var F=J.Wp[h];if(F=="M"){l=x[r];M=x[r+1];r+=2;R.push(F);o.push(l,M)}else if(F=="C"){P=x[r];S=x[r+1];
c=x[r+2];b=x[r+3];w=x[r+4];U=x[r+5];r+=6;g.b.m9(l,M,P,S,c,b,w,U,v,R,o,0);l=w;M=U}else R.push(F)}return{Wp:R,T:o}};
g.b.m9=function(J,v,x,o,R,r,l,M,P,S,c,b){var w=Math.sqrt((l-J)*(l-J)+(M-v)*(M-v)),U=Math.sqrt((l-R)*(l-R)+(M-r)*(M-r))+Math.sqrt((R-x)*(R-x)+(r-o)*(r-o))+Math.sqrt((x-J)*(x-J)+(o-v)*(o-v)),F=(w+U)/2;
if(F<=P){S.push("C");c.push(x,o,R,r,l,M)}else{var Y=0,A=0,G=0,n=0,E=0,K=0,e=0,$=0,N=0,k=0,V=0,X=0,Q=0;
A=(J+x)/2;G=(v+o)/2;n=(x+R)/2;E=(o+r)/2;K=(R+l)/2;e=(r+M)/2;$=(A+n)/2;N=(G+E)/2;k=(n+K)/2;V=(E+e)/2;
X=($+k)/2;Q=(N+V)/2;g.b.m9(J,v,A,G,$,N,X,Q,P,S,c,b+1);g.b.m9(X,Q,k,V,K,e,l,M,P,S,c,b+1)}};g.b.KH=function(J,v,x,o,R){var r=Date.now(),l=g.b.a1M(J,v,x);
if(R){console.log("trace polygons",Date.now()-r);r=Date.now()}var M=[];for(var h=0;h<l.length;h++){var P=l[h],S=P[0],c=["M"],b=J[S[1]*v+S[0]];
if(S.length>8)S=g.b.a9e(S,o,P[1]);if(S.length<=4)continue;for(var w=2;w<S.length;w+=2)c.push("L");c.push("Z");
M.push({path:{T:S,Wp:c},color:b,parent:-1,ZW:g.b.ni(S)})}if(R){console.log("simplify polygons",Date.now()-r);
r=Date.now()}for(var h=1;h<M.length;h++){var U=M[h],F=U.path.T,Y=F[0],A=F[1],G=F[2],n=F[3],E=G-Y,K=n-A,e=Y+.5*E-.001*K,$=A+.5*K+.001*E;
for(var w=h-1;w>=0;w--){var N=M[w];if(!N.ZW.Db(U.ZW))continue;if(!dy.mX(N.path.T,e,$))continue;U.parent=w;
break}}if(R){console.log("checking parents",Date.now()-r);r=Date.now()}return M};g.b.a1M=function(J,v,x){var o=v*x,R=new Uint16Array(v*x),l=0;
for(var h=0;h<o;h++)R[h]=J[h];var r=new Uint8Array(v*x);r[1*v+1]=r[(x-1)*v+1]=r[1*v+v-1]=r[(x-1)*v+v-1]=1;
for(var M=1;M<x;M++)for(var P=1;P<v;P++){var h=M*v+P,S=R[h-v-1],c=R[h-v],b=R[h-1],w=R[h],U=S==w&&c==b&&S!=c,F=0;
if(w<b){l=w;w=b;b=l}if(b<c){l=b;b=c;c=l}if(c<S){l=c;c=S;S=l}if(w<b){l=w;w=b;b=l}if(b<c){l=b;b=c;c=l}if(w<b){l=w;
w=b;b=l}if(S!=c)F++;if(c!=b)F++;if(b!=w)F++;if(w!=S)F++;if(F>=3||U)r[h]=1}var Y=[];for(var M=1;M<x;M++)for(var P=1;
P<v;P++){var h=M*v+P;if(R[h]!=R[h-1]){var A=g.b.aFP(R,v,x,P,M),G=[];for(var n=0;n<A.length;n+=2)if(r[A[n+1]*v+A[n]]==1)G.push(n>>>1);
Y.push([A,G]);g.b.rP(R,v,x,P,M)}}return Y};g.b.rP=function(J,v,x,o,R){var r=[R*v+o],l=J[R*v+o];J[R*v+o]=65535;
while(r.length!=0){var h=r.pop();J[h]=0;if(J[h+v]==l){r.push(h+v);J[h+v]=65535}if(J[h-v]==l){r.push(h-v);
J[h-v]=65535}if(J[h-1]==l){r.push(h-1);J[h-1]=65535}if(J[h+1]==l){r.push(h+1);J[h+1]=65535}}};g.b.aFP=function(J,v,x,o,R){var r=[0,-1,1,0,0,1,-1,0],c=1;
function l(w,U,c){var h=S*v+P,F=0;if(c==0)F=h-v;else if(c==1)F=h;else if(c==2)F=h-1;else if(c==3)F=h-v-1;
return J[F]}var M=[],P=o,S=R,b=l(P,S,c);do{M.push(P,S);P+=r[c*2];S+=r[c*2+1];if(l(P,S,c)!=b)c=c+1&3;
else if(l(P,S,c+3&3)!=b)c=c;else if(l(P,S,c+2&3)!=b)c=c+3&3}while(P!=o||S!=R);return M};g.b.a9e=function(J,v,x){if(v==null||v==0)return J;
var o=J.length-2;if(x&&x.length!=0){var R=x[0]*2,r=x[x.length-1]*2,l=R==0?o:R-2,M=J.slice(r);for(var h=0;
h<R;h++)M.push(J[h]);if(R==r)M.push(.9*J[R]+.1*J[l],.9*J[R+1]+.1*J[l+1]);else M.push(J[R],J[R+1]);M=g.b.iq(M,v);
M.pop();M.pop();for(var h=0;h<x.length-1;h++){var P=J.slice(x[h]*2,x[h+1]*2+2);P=g.b.iq(P,v);for(var S=0;
S<P.length-2;S++)M.push(P[S])}return M}var c=J.slice(0);c.push(.9*J[0]+.1*J[o],.9*J[1]+.1*J[o+1]);c=g.b.iq(c,v);
c.pop();c.pop();return c};g.b.iq=function(J,v){var x=J.length-2,o=J[0],R=J[1],r=J[x],l=J[x+1],M=r-o,P=l-R,S=1/Math.sqrt(M*M+P*P),c=r*R-l*o,b=-1,w=-1,U=0;
for(var h=2;h<x;h+=2){var F=J[h],Y=J[h+1],A=Y*Y*1e6+F*F,G=Math.abs(P*F-M*Y+c)*S;if(G>w||G==w&&A>U){w=G;
b=h;U=A}}if(w<v)return[o,R,r,l];var n=g.b.iq(J.slice(0,b+2),v),E=g.b.iq(J.slice(b),v);for(var h=2;h<E.length;
h++)n.push(E[h]);return n};g.b.adU=function(){var J=function(o,R,r,l,M,P){return(R-l)*(M-r)+(r-o)*(P-l)>=0},v=function(o,R,r,l,M,P,S,c){var b=S-r,w=c-l,U=M-r,F=P-l,Y=o-r,A=R-l,G=b*b+w*w,n=b*U+w*F,E=b*Y+w*A,K=U*U+F*F,e=U*Y+F*A,$=1/(G*K-n*n),N=(K*E-n*e)*$,k=(G*e-n*E)*$;
return N>=0&&k>=0&&N+k<1},x=function(o){var co=o.length>>>1,h=0;if(co<3)return[];var R=[],r=[];for(var h=0;
h<co;h++)r.push(h);var l=co;while(l>3){var M=r[(h+0)%l],P=r[(h+1)%l],S=r[(h+2)%l],c=o[2*M],b=o[2*M+1],w=o[2*P],U=o[2*P+1],F=o[2*S],Y=o[2*S+1],A=!1;
if(J(c,b,w,U,F,Y)){A=!0;for(var G=0;G<l;G++){var n=r[G];if(n==M||n==P||n==S)continue;if(v(o[2*n],o[2*n+1],c,b,w,U,F,Y)){A=!1;
break}}}if(A){R.push(M,P,S);r.splice((h+1)%l,1);l--;h=0}else if(h++>3*l)break}R.push(r[0],r[1],r[2]);
return R};return x}();g.b.ap1=function(J,v){var x={},o={Wp:[],T:[]};for(var h=0;h<v.length;h+=3){var R=v[h]*2,r=v[h+1]*2,l=v[h+2]*2;
g.b.Xj(J,R,r,o,x);g.b.Xj(J,R,l,o,x);g.b.Xj(J,r,l,o,x)}return o};g.b.Xj=function(J,v,x,o,R){if(v>x){var r=x;
x=v;v=r}if(R[v+","+x])return;R[v+","+x]=!0;o.Wp.push("M","L");o.T.push(J[v],J[v+1],J[x],J[x+1])};g.b.aqq=function(J,v){var x=[],o=J.length;
for(var h=0;h<o;h+=2){var R=J[h],r=J[h+1],l=J[(h+2)%o],M=J[(h+3)%o];if(M<r){var P=r;r=M;M=P}if(r<v&&v<M){var S=(v-r)/(M-r);
x.push(R+S*(l-R))}}x.sort(function(c,b){return c-b});return x};g.b.aGL=function(J,v,x,o,R,r,l){var M=J-x,P=v-o,S=R-x,c=r-o,b=1/Math.sqrt(M*M+P*P),w=1/Math.sqrt(S*S+c*c),U=M*b,F=P*b,Y=S*w,A=c*w,G=F*l,n=-U*l,E=-A*l,K=Y*l,e=g.b.Ak(G,n,U,F,E,K,Y,A),$=G+U*e,N=n+F*e,e=g.b.Ak(0,0,U,F,$,N,-F,U),k=U*e,V=F*e;
return[Math.sqrt(k*k+V*V),U,F,Y,A]};g.b.aq2=function(J,v,x,o,R,r,l){var M=g.b.aGL(J,v,x,o,R,r,l),P=M[0],S=M[1],c=M[2],b=M[3],w=M[4],U=Math.atan2(S*w-c*b,S*b+c*w);
if(U<0){U=U*-1}var F=Math.PI-U,Y=4/3*Math.tan(F/4),A=x+P*S,G=o+P*c,n=x+P*b,E=o+P*w,K=A+Y*l*-S,e=G+Y*l*-c,$=n+Y*l*-b,N=E+Y*l*-w;
return[0,0,A,G,K,e,$,N,n,E]};g.b.Ak=function(J,v,x,o,R,r,l,M){var P=l*(v-r)-M*(J-R),S=M*x-l*o;if(S==0)return 0;
return P/S};g.b.X8=function(J,v,x,o,R,r){return J*(o-r)+x*(r-v)+R*(v-o)};g.b.aae=function(J){function v(a,T,f,Z,W,D,C,d,p){var y=g.b.Ak(a,T,f,Z,W,D,C,d);
p.push(a+f*y,T+Z*y)}var x=[],o=J.length,R=[];for(var h=0;h<o;h+=2){var r=h==0?o-2:h-2,l=h==o-2?0:h+2,M=J[h],P=J[h+1],S=M-J[r],c=P-J[r+1],b=J[l]-M,w=J[l+1]-P,U=Math.sqrt(S*S+c*c),F=Math.sqrt(b*b+w*w);
R.push(F);var Y=U/(U+F),A=M-S*.5,G=P-c*.5,n=M+b*.5,E=P+w*.5,K=(J[l]+J[r])*.5,e=(J[l+1]+J[r+1])*.5,$=A+Y*(n-A),N=G+Y*(E-G),k=M-$,V=P-N,X=(b*-S+w*-c)/(U*F),Q=(Y-.5)*7,L=1+Q*Y,_=1-Q*(1-Y);
x.push(A+k*L,G+V*L,n+k*_,E+V*_)}return x};g.vD=function(){};g.vD.xB=function(J,v,x,o,R){var r=x.r,l=x.$,M=r*l,P=new Int32Array(M),co=0;
for(var h=0;h<M;h++)if(v[h]!=0){P[h]=co;co++}else if(J[(h<<2)+3]<200){P[h]=-2}else P[h]=-1;if(co==0)return;
var S=new g.wQ(co,co),c=new Array(3*co),b=new Array(3*co);for(var h=0;h<b.length;h++)b[h]=c[h]=0;var w=1/255,U=[-r,-1,1,r],F=[],Y=[];
for(var A=0;A<l;A++)for(var G=0;G<r;G++){var n=A*r+G,E=n<<2,h=P[n],K=h*3,e=0,$=0,N=0;if(h==-1||h==-2)continue;
for(var k=0;k<4;k++){if(k==2){$=N;F[N]=0;Y[N]=h;N++}var V=n+U[k],X=V<<2,Q=P[V];if(k==0&&A==0||k==1&&G==0||k==2&&G==r-1||k==3&&A==l-1||Q==-2)continue;
e++;if(Q==-1){c[K+0]+=J[X+0];c[K+1]+=J[X+1];c[K+2]+=J[X+2]}else{F[N]=-1;Y[N]=Q;N++;if(v[n]==v[V]){c[K+0]+=J[E+0]-J[X+0];
c[K+1]+=J[E+1]-J[X+1];c[K+2]+=J[E+2]-J[X+2]}}}F[$]=e;S.LH(F,Y,N)}for(var h=0;h<M;h++)if(P[h]!=-1){var L=h<<2,_=P[h],a=_*3;
b[a]=J[L+0];b[a+1]=J[L+1];b[a+2]=J[L+2]}var T=Date.now();S.aBp(b,c,o,R);console.log(Date.now()-T);for(var h=0;
h<M;h++){var _=P[h],f=_*3,L=h<<2;if(_==-1||J[L+3]!=255)continue;J[L+0]=~~(.5+Math.max(0,Math.min(255,b[f+0])));
J[L+1]=~~(.5+Math.max(0,Math.min(255,b[f+1])));J[L+2]=~~(.5+Math.max(0,Math.min(255,b[f+2])))}};g.S={};
g.S.aIc=function(J,v){var x=[J],o=[];for(var h=0;h<v.length;h++){var R=v[h],r=!1;for(var l=h+1;l<v.length;
l++){var M=v[l];if(M[0]<=R[0]&&M[1]<=R[1]&&R[2]<=M[2]&&R[3]<=M[3]){r=!0;break}}if(!r)o.push(R)}v=o;for(var h=0;
h<v.length;h++){var R=v[h];for(var l=0;l<x.length;l++){var M=x[l],P=Math.max(R[0],M[0]),S=Math.min(R[2],M[2]),c=Math.max(R[1],M[1]),b=Math.min(R[3],M[3]);
if(P<S&&c<b){var w=[];if(M[1]<R[1]){var U=M.slice(0);U[3]=R[1];w.push(U)}if(M[0]<R[0]){var F=M.slice(0);
F[1]=c;F[2]=R[0];w.push(F)}if(R[2]<M[2]){var Y=M.slice(0);Y[1]=c;Y[0]=R[2];w.push(Y)}if(R[3]<M[3]){var A=[P,b,S,M[3]];
w.push(A)}if(w.length!=0){x[l]=w[0];for(var G=1;G<w.length;G++)x.push(w[G])}}}x.push(R);x=g.S.aFi(x)}x.sort(function(R,M){return R[1]!=M[1]?R[1]-M[1]:R[0]-M[0]});
for(var h=1;h<x.length;h++){var R=x[h-1],M=x[h];if(R[0]==M[0]&&R[1]==M[1]&&R[2]==M[2]&&R[3]==M[3]){x.splice(R[4]==null?h-1:h,1);
h--}}return x};g.S.aFi=function(J){J=J.slice(0);for(var h=0;h<J.length;h++){var v=J[h],x=null;if(v[4]!=null)continue;
for(var o=0;o<J.length;o++){var R=J[o];if(h==o||R[4]!=null)continue;var r=v[0]==R[0],l=v[1]==R[1],M=v[2]==R[2],P=v[3]==R[3];
if(l&&P&&(v[2]==R[0]||v[0]==R[2])){x=[Math.min(v[0],R[0]),v[1],Math.max(v[2],R[2]),v[3]]}if(r&&M&&(v[3]==R[1]||v[1]==R[3])){x=[v[0],Math.min(v[1],R[1]),v[2],Math.max(v[3],R[3])]}if(x){J[h]=x;
J.splice(o,1);break}}if(x){h--}}return J};g.S.Jr=function(J){var v=new jj;for(var h=0;h<J.length;h++)v=v.h0(J[h]);
return v};g.S.amB=function(J,v){var x=g.S.Jr,o=new UnionFind(J.length),$=1e3,N=1e3;for(var h=0;h<J.length;
h++)for(var R=h+1;R<J.length;R++){if(!v)continue;var r=J[h],l=J[R],b=1e9,w=1e9;if(r.Rt(l)){o.link(h,R);
continue}var M=r.x+r.r,P=r.y+r.$,S=l.x+l.r,c=l.y+l.$;if((M<l.x||S<r.x)&&(P<l.y||c<r.y))continue;if(!(P<l.y||c<r.y))b=Math.min(Math.abs(M-l.x),Math.abs(r.x-S));
if(!(M<l.x||S<r.x))w=Math.min(Math.abs(P-l.y),Math.abs(r.y-c));var U=Math.min(b,w),F=Math.min(r.r,r.$,l.r,l.$);
if(U<.3*F)o.link(h,R)}var Y=[],A={};for(var h=0;h<J.length;h++){var G=o.find(h),n=J[h];if(A[G]==null){A[G]=Y.length;
Y.push([])}Y[A[G]].push(n)}var E=[],K=[];for(var h=0;h<Y.length;h++){E.push(x(Y[h]));var e=x(Y[h]);e.xH=h;
K.push(e)}K.sort(function(Z,W){return Math.max(W.$,W.r)-Math.max(Z.$,Z.r)});var k=new NETXUS.RectanglePacker($,N);
while(!0){var V=!1;k.reset($,N);for(var h=0;h<K.length;h++){var X=k.findCoords(K[h].r,K[h].$);if(X){K[h].x=X.x;
K[h].y=X.y}else{$=Math.floor($*1.1);N=Math.floor(N*1.1);V=!0;break}}if(V)continue;break}for(var h=0;
h<Y.length;h++){var Q=K[h],L=Q.xH,_=E[L],a=Y[L],T=Q.x-_.x,f=Q.y-_.y;for(var R=0;R<a.length;R++)a[R].offset(T,f)}};
g.S.ash=function(J){var v=[],x=[],o=function(e,$){return e-$};for(var h=0;h<J.length;h++){var R=J[h];
if(v.indexOf(R[0])==-1)v.push(R[0]);if(v.indexOf(R[2])==-1)v.push(R[2]);if(x.indexOf(R[1])==-1)x.push(R[1]);
if(x.indexOf(R[3])==-1)x.push(R[3])}v.sort(o);x.sort(o);v.push(v[v.length-1]+1);x.push(x[x.length-1]+1);
var r=[],l=v.length-1,M=x.length-1;for(var P=0;P<M;P++){var S=[];r.push(S);for(var c=0;c<l;c++){var b=v[c],w=v[c+1],U=x[P],F=x[P+1],Y=(b+w)/2,A=(U+F)/2,G=-1,n=-1;
for(var h=0;h<J.length;h++){var R=J[h];if(R[0]==b&&R[1]==U)G=h;if(R[0]<Y&&Y<R[2]&&R[1]<A&&A<R[3])n=h}if(G!=-1){var R=J[G],E=1,K=1;
while(v[c+E]<R[2])E++;while(x[P+K]<R[3])K++;S.push([G,R[2]-R[0],R[3]-R[1],E,K])}else if(n!=-1)continue;
else S.push([-1,w-b,F-U,1,1])}}return[v.pop(),x.pop(),r]};g.S.aAs=function(J,v,x,o){var R=g.S.ash(J),r=["<table id=\"Table_01\" width=\""+R[0]+"\" height=\""+R[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],l=R[2];
for(var h=0;h<l.length;h++){var M=l[h];r.push("\t<tr>");for(var P=0;P<M.length;P++){var S=M[P],c=null,b="",w="",U=S[3],F=S[4],G="";
if(S[0]!=-1){var Y=S[0],A=J[Y];if(A.length==5){c=x[A[4]].v;b=c.url.v}w="src=\""+v[Y]+"\"";if(A[4]==null&&o==2)w=""}if(U!=1)G+=" colspan=\""+U+"\"";
if(F!=1)G+=" rowspan=\""+F+"\"";r.push("\t\t<td"+G+">");if(b!="")r.push("\t\t\t<a href=\""+b+"\" target=\""+c.null.v+"\">");
r.push((b==""?"":"\t")+"\t\t\t<img "+w+" width=\""+S[1]+"\" height=\""+S[2]+"\" alt=\""+(c?c.altTag.v:"")+"\"></td>"+(b==""?"":"</a>"))}if(h==l.length-1){r.pop();
r.pop();r.push("\t\t<td></td>")}r.push("\t</tr>")}r.push("</table>");return r.join("\n")};g.Av=function(){};
g.Av.E4=Math.floor(16*window.devicePixelRatio);g.Av.$e={};g.Av.J8=0;g.Av.aO=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
g.Av.av3=["px","in","cm","mm","%"];g.Av.qM=function(J,v,x,o){var R=[1,v,v/2.54,v/25.4,x/100][o];return J*R};
g.Av.Zo=function(J,v,x,o){var R=[1,v,v/2.54,v/25.4,x/100][o];return J/R};g.Av.OV=function(J,v,x,o,R){var r=x.i3.eE,l=[1,v,v/2.54,v/25.4,o/100][r],M=[2,3,2,1,2][r];
J=J/l;var P=Math.round(J),S=r==0&&Math.abs(J-P)<1e-6?P+"":J.toFixed(M);if(R)S+=" "+g.Av.av3[r];return S};
g.Av.aaa=function(J,v,x,o){var R=x.i3.eE,r=[1,v,v/2.54,v/25.4,o/100][R];J=parseFloat(J)*r;return J};
g.Av.a8M=function(J,v){var x=J+","+v;if(g.Av.$e.clr==x)return;var o=Math.round(g.Av.E4*.5);g.Av.J8=o;
var R=g.n2(o,o);R.save();R.font=o*1.5+"px monospace";var r="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var h=0;
h<r.length;h++){R.fillStyle="#"+g.q2(v);R.fillRect(0,0,o,o);R.fillStyle="#"+g.q2(J);R.fillText(r[h],0,o);
g.Av.$e[r[h]]=new Uint8Array(R.getImageData(0,0,o,o).data.buffer)}g.Av.$e.clr=x;R.restore()};g.Av.ay9=function(J,v,x,o){var R=0,r=0,l=4*g.Av.E4;
for(var h=9;h>=0;h--){var M=Math.pow(10,h);if(5*M*J<=l){R=5*M;r=10;break}if(2*M*J<=l){R=2*M;r=4;break}if(1*M*J<=l){R=1*M;
r=o;break}}if(R==0){R=1;r=o}var P=Math.ceil(R*J),S=g.C(P*g.Av.E4*4);g.SX(S,4278190080|x);for(var h=0;
h<g.Av.E4;h++)g.Av.Fl(S,4*h*P,v);for(var h=0;h<P;h++)g.Av.Fl(S,4*((g.Av.E4-1)*P+h),v);if(R==2)r=2;if(R==5)r=5;
if(R>1||R==1&&P>20)for(var h=1;h<r;h++)g.Av.a6L(S,h*(P/r),P,(h&1)==1?.8:.7,v);return{fK:S,step:R}};g.Av.a6L=function(J,v,x,o,R){var v=Math.round(v);
for(var r=Math.round(g.Av.E4*o);r<g.Av.E4-1;r++)g.Av.Fl(J,4*(r*x+v),R)};g.Av.Fl=function(J,v,x){J[v+0]=x>>16&255;
J[v+1]=x>>8&255;J[v+2]=x&255};g.Av.apP=function(J,v,x,o,R,r,l,M){var P=J.SU.r,S=J.SU.$,c=g.Av.E4,b=v&255,w=v>>8&255,U=v>>16&255;
v=Math.round(b*.6)<<16|Math.round(w*.6)<<8|Math.round(U*.6);g.Av.a8M(Math.round(b*.8)<<16|Math.round(w*.8)<<8|Math.round(U*.8),x);
var F=J.NT,Y=J.V,A=J.U1;for(var G=0;G<2;G++){var n=G==0?r:l;J.NT=n[0];J.V=n[1];J.U1=0;var E=this.ay9(J.NT,v,x,M),K=J.hW(0,0),e=J.hW(P,S),$=Math.floor(K.x/E.step)*E.step,N=Math.ceil(e.x/E.step)*E.step,k=Math.floor(K.y/E.step)*E.step,V=Math.ceil(e.y/E.step)*E.step,X=J.Lp($,k),Q=J.Lp(N,k),L=E.step*J.NT,_=Math.ceil(L);
if(G==1){var a=E.fK;E.fK=g.C(a.length*4);g.O.E3(a,E.fK,_,c)}var T=G==0?J.Iz.data:J.Rp.data,f=new jj(0,0,[P,c][G],[c,S][G]),Z=new jj(0,0,[_,c][G],[c,_][G]),W=new jj([0,Math.round(c*.2)][G],[Math.round(c*.08),0][G],g.Av.J8,g.Av.J8),D=(G==0?N-$:V-k)/E.step;
for(var h=0;h<D;h++){if(G==0)Z.x=Math.round(X.x+h*L);else Z.y=Math.round(X.y+h*L);g.sW(E.fK,Z,T,f,Z);
var d=(G==0?$+h*E.step:Math.abs(k+h*E.step)).toString(10);for(var p=0;p<d.length;p++){if(G==0)W.x=Z.x+3+p*Math.round(g.Av.J8*.8);
else W.y=Z.y+3+p*Math.round(g.Av.J8*1.15);var y=g.Av.$e[d[p]];g.sW(y,W,T,f,W)}}}J.NT=F;J.V=Y;J.U1=A;
var i=Math.floor(c*.6),t=new Uint32Array(J.Iz.data.buffer),O=new Uint32Array(J.Rp.data.buffer),q=b<128?4278190080:4294967295;
if(0<o&&o<P)for(var h=0;h<i;h++)t[h*P+o]=q;if(0<R&&R<S)for(var h=0;h<i;h++)O[R*c+h]=q};g.scale={};g.scale.W0=document.createElement("canvas");
g.scale.zJ=g.scale.W0.getContext("2d");g.scale.uY=function(J,v,x){var o=g.scale.W0,R=g.scale.zJ;o.width=v;
o.height=x;var r=new ImageData(new Uint8ClampedArray(J.buffer),v,x);R.putImageData(r,0,0);return R.createPattern(R.canvas,"repeat")};
g.scale.a9x=function(J,v,x,o,R,r,l,M,P){var S=g.scale.avK(J,x,o,R,r,l,M,P);if(v)v.set(S);return new Uint8Array(S.buffer)};
g.scale.avK=function(J,v,x,o,R,r,l,M){var P=g.n2(v,x);P.save();P.rect(0,0,v,x);P.translate(r,l);P.scale(o,R);
if(M!=null)P.rotate(-M);P.fillStyle=J;P.fill();P.restore();return new Uint8Array(P.getImageData(0,0,v,x).data.buffer)};
g.scale.u=function(J,v,x,o,R){var r=g.u3(J),l=x.c==0&&x.Mz==0,M=R.r,P=R.$,S=g.b.ho(v,x).T,c=g.b.jR(S,l).Xt(R),b=c.x,w=c.y,U=b+c.r,F=w+c.$,Y=~~v.x,A=~~v.y,G=~~v.r,n=~~v.$;
if(l)for(var E=w;E<F;E++){var K=x.fn*(E+.5)+x.jD-A,e=~~K*G;for(var $=b;$<U;$++){var N=x.o5*($+.5)+x.zP-Y,h=e+~~N;
if(r==8)o[E*M+$]=J[h];else if(r==16)o[E*M+$]=J[h]>>>8;else o[E*M+$]=J[h]*255}}else for(var E=w;E<F;E++)for(var $=b;
$<U;$++){var k=$+.5,V=E+.5,N=x.o5*k+x.Mz*V+x.zP-Y,K=x.c*k+x.fn*V+x.jD-A;if(0<=N&&0<=K&&N<G&&K<n){var h=~~K*G+~~N;
if(r==8)o[E*M+$]=J[h];else if(r==16)o[E*M+$]=J[h]>>>8;else o[E*M+$]=J[h]*255}}};g.scale.Ka=function(J,v,x,o,R,r){var l=g.u3(J),M=new Uint32Array(J.buffer),P=new Uint32Array(o.buffer),S=R.r,c=R.$,b=g.b.ho(v,x).T,w=r?R:g.b.jR(b).Xt(R),U=w.x,F=w.y,Y=U+w.r,A=F+w.$,G=~~v.x,n=~~v.y,E=~~v.r,K=~~v.$;
x=x.Q();x.translate(-G,-n);var e=x.Xw(new aG(1,0)).aA(x.Xw(new aG(0,0))),$=e.x,N=e.y;for(var k=F;k<A;
k++){var V=x.Xw(new aG(U+.5,k+.5)),X=V.x,Q=V.y,L=(k-R.y)*S+U-R.x;for(var _=U;_<Y;_++){if(r){X=((E<<10)+X)%E;
Q=((K<<10)+Q)%K}if(0<=X&&0<=Q&&X<E&&Q<K){if(l==8)P[L]=M[~~Q*E+~~X];else{var a=(~~Q*E+~~X)*4,T,f,Z,W;
if(l==16){T=J[a]>>>8;f=J[a+1]>>>8;Z=J[a+2]>>>8;W=J[a+3]>>>8}else{T=J[a]*255;f=J[a+1]*255;Z=J[a+2]*255;
W=J[a+3]*255}P[L]=W<<24|Z<<16|f<<8|T}}X+=$;Q+=N;L++}}};g.scale.f0=function(J,v,x,o,R,r,l){if(l<1)g.scale.a3Y(J,v,x,o,R,r,Math.round(1/l));
else g.scale.afx(J,v,x,o,R,r,l)};g.scale.EE=function(J,v,x,o,R,r,l,M){if(M)M=M.Xt(new jj(0,0,v,x));J=new Uint32Array(J.buffer);
o=new Uint32Array(o.buffer);if(l<1)g.scale.a8x(J,v,x,o,R,r,Math.round(1/l),M);else g.scale.az1(J,v,x,o,R,r,l)};
g.scale.afx=function(J,v,x,o,R,r,l){for(var M=0;M<x;M++)for(var P=0;P<v;P++){var S=J[M*v+P],c=Math.min(l,R-P*l),b=Math.min(l,r-M*l);
for(var h=0;h<b;h++)for(var w=0;w<c;w++)o[(l*M+h)*R+l*P+w]=S}};g.scale.a3Y=function(J,v,x,o,R,r,l){for(var M=0;
M<r;M++)for(var P=0;P<R;P++){var S=0,c=Math.min(l,v-P*l),b=Math.min(l,x-M*l);for(var h=0;h<b;h++)for(var w=0;
w<c;w++)S+=J[(l*M+h)*v+(l*P+w)];o[M*R+P]=Math.round(S/(c*b))}};g.scale.az1=function(J,v,x,o,R,r,l){for(var M=0;
M<x;M++)for(var P=0;P<v;P++){var S=J[M*v+P],c=Math.min(l,R-P*l),b=Math.min(l,r-M*l);for(var h=0;h<b;
h++)for(var w=0;w<c;w++)o[(l*M+h)*R+l*P+w]=S}};g.scale.awT=function(J,v,x){return(J>>>x&255)+(v>>>x&255)>>>1};
g.scale.IK=function(J,v){var x=g.scale.awT;return x(J,v,24)<<24|x(J,v,16)<<16|x(J,v,8)<<8|x(J,v,0)};
g.scale.avl=function(J,v,x,o,R,r){var l=g.u3(J);if(l==8){var M=new Uint32Array(J.buffer),P=new Uint32Array(o.buffer);
for(var S=0;S<x;S++){for(var c=0;c<v;c++){var b=S*v+c,w=M[b],U=w,F=w,Y=w;if(c<v-1)U=g.scale.IK(w,M[b+1]);
if(S<x-1)F=g.scale.IK(w,M[b+v]);if(c<v-1&&S<x-1)Y=g.scale.IK(w,M[b+v+1]);var A=(S*R+c)*2;P[A]=w;P[A+1]=U;
P[A+R]=F;P[A+R+1]=Y}}if((R&1)==1)for(var S=0;S<r;S++)P[S*R+R-1]=P[S*R+R-2];var G=R*(r-1);if((r&1)==1)for(var c=0;
c<R;c++)P[G+c]=P[G-R+c]}else{var n=g.scale.aDE,E=g.scale.ask;for(var S=0;S<x;S++){for(var c=0;c<v;c++){var b=S*v+c,A=(S*R+c)*2;
n(J,b,o,A);if(c<v-1)E(J,b,b+1,o,A+1);else n(J,b,o,A+1);if(S<x-1)E(J,b,b+v,o,A+R);else n(J,b,o,A+R);if(c<v-1&&S<x-1)E(J,b,b+v+1,o,A+R+1);
else n(J,b,o,A+R+1)}}if((R&1)==1)for(var S=0;S<r;S++)n(o,S*R+R-2,o,S*R+R-1);var G=R*(r-1);if((r&1)==1)for(var c=0;
c<R;c++)n(o,G-R+c,o,G+c)}};g.scale.aDE=function(J,v,x,o){var R=v<<2,r=o<<2;x[r]=J[R];x[r+1]=J[R+1];x[r+2]=J[R+2];
x[r+3]=J[R+3]};g.scale.ask=function(J,v,x,o,R){var r=v<<2,l=x<<2,M=R<<2;o[M]=(J[r]+J[l])*.5;o[M+1]=(J[r+1]+J[l+1])*.5;
o[M+2]=(J[r+2]+J[l+2])*.5;o[M+3]=(J[r+3]+J[l+3])*.5};g.scale.a8x=function(J,v,x,o,R,r,l,M){var P=0,S=R,c=0,b=r;
if(M){P=Math.floor(M.x/l);S=Math.ceil((M.x+M.r)/l);c=Math.floor(M.y/l);b=Math.ceil((M.y+M.$)/l)}for(var w=c;
w<b;w++)for(var U=P;U<S;U++){var F=0,Y=0,A=0,G=0,n=Math.min(l,v-U*l),E=Math.min(l,x-w*l);for(var h=0;
h<E;h++)for(var K=0;K<n;K++){var e=J[(l*w+h)*v+l*U+K],$=e>>>24;F+=$;Y+=$*(e>>>16&255);A+=$*(e>>>8&255);
G+=$*(e&255)}if(F!=0){var N=1/F;o[w*R+U]=F/(n*E)<<24|Y*N<<16|A*N<<8|G*N}else o[w*R+U]=0}};g.g=function(){function J(M,P,h){return(128&M[h-P-1]&M[h-P]&M[h-2]&M[h-1]&M[h+1]&M[h+P-1]&M[h+P])==0}function v(M,P,h){return(128&M[h-P-P]&M[h-P+1]&M[h+2]&M[h+P+1]&M[h+P+P])==0}function x(M,P,h){return(M[h-P]&M[h-1]&M[h+1]&M[h+P]&128)==0}function o(M,h){return(M[h]&128)!=0}function R(M,P,S,c){var h=0,b=S.r,w=S.$;
if(c)for(var U=0;U<w;U++)for(var F=0;F<b;F++){if(o(M,h)&&(F<2||U<2||F>b-3||U>w-3||((M[h-1]&128)==0||P[h-1]!=0)&&J(M,b,h)||v(M,b,h)))P[h]=255;
h++}else for(var U=0;U<w;U++)for(var F=0;F<b;F++){if(o(M,h)&&(F==0||U==0||F==b-1||U==w-1||x(M,b,h)))P[h]=255;
h++}}function r(M,P,S,c,b){var w=S.r,U=S.$,F=new Uint8Array(P.buffer),Y=new Uint32Array(P.buffer);if(b)for(var A=2;
A<U-2;A++)for(var G=2;G<w-2;G++){var h=A*w+G;if(o(M,h)&&(((M[h-1]&128)==0||Y[h-1]!=0)&&J(M,w,h)||v(M,w,h)))Y[h]=c[(G+A&4)>>>2]}else for(var A=1;
A<U-1;A++)for(var G=1;G<w-1;G++){var h=A*w+G;if(o(M,h)&&x(M,w,h)){Y[h]=c[(G+A&4)>>>2]}}}function l(M,P,S,c,b){var w=S.r,U=S.$,F=new Uint8Array(P.buffer),Y=new Uint32Array(P.buffer),h=0;
if(c==1)for(var A=0;A<U;A++)for(var G=0;G<w;G++,h++){var n=M[h];Y[h]=255-n>>>1<<24|255}else for(var A=0;
A<U;A++)for(var G=0;G<w;G++,h++){var n=M[h];Y[h]=255<<24|(n<<16|n<<8|n)}}return{aw0:R,arA:r,ay6:l}}();
g.tp={};g.tp.im=function(J,v,x){var o,R;if(x==0){o=J.S.Q();R=g.tp.awI}if(x==1){o=J.S.h0(v.S);R=g.tp.h0}if(x==2){o=v.S.Q();
R=g.tp.afn}if(x==3){o=J.S.Xt(v.S);R=g.tp.Xt}if(x==4){o=J.S.h0(v.S);R=g.tp.aIY}if(o.L3())return null;
var r=g.u3(J.N),l=g.C(o.o(),r);g.Cc(v.N,v.S,l,o);var M=g.C(o.o(),r);g.Cc(J.N,J.S,M,o);R(M,l,l);var P=g.X5(l,o);
if(P.L3())return null;if(!P.Ym(o)){var S=g.C(P.o(),r);g.Cc(l,o,S,P);l=S;o=P}return{N:l,S:o}};g.tp.awI=function(J,v,x){for(var h=0;
h<J.length;h++)x[h]=J[h]};g.tp.h0=function(J,v,x){var o=g.JN(g.u3(J));for(var h=0;h<J.length;h++)x[h]=Math.min(J[h]+v[h],o)};
g.tp.afn=function(J,v,x){for(var h=0;h<J.length;h++)x[h]=Math.max(v[h]-J[h],0)};g.tp.Xt=function(J,v,x){var o=g.JN(g.u3(J)),R=1/o;
for(var h=0;h<J.length;h++)x[h]=J[h]*v[h]*R};g.tp.aIY=function(J,v,x){var o=g.JN(g.u3(J)),R=1/o;for(var h=0;
h<J.length;h++)x[h]=Math.min(J[h]+v[h],o)-J[h]*v[h]*R};g.wQ=function(J,v){this.m=[];this._F=[0];this.ZQ=[];
this.yT=[];this.$r=[0];this.JU=[];this.wo=[];this.rows=J;this.cols=v};g.wQ.prototype.Q=function(){var J=this,v=J.rows,x=J.cols,o=new g.wQ(v,x);
o.m=J.m.slice(0);o._F=J._F.slice(0);o.ZQ=J.ZQ.slice(0);o.yT=J.yT.slice(0);o.$r=J.$r.slice(0);o.JU=J.JU.slice(0);
o.wo=J.wo.slice(0);return o};g.wQ.prototype.LH=function(J,v,x){var o=this._F.length-1;for(var h=0;h<x;
h++){var R=J[h],r=v[h];this.m.push(R);this.ZQ.push(r);if(r==o){this.wo.push(R==0?0:1/R)}else{this.yT.push(R);
this.JU.push(r)}}this._F.push(this.m.length);this.$r.push(this.yT.length)};g.wQ.prototype.dy=function(J,v){var x=this,o=x.rows,R=x.m,r=x.ZQ;
if(v==null)v=new Array(o);for(var h=0;h<o;h++){var l=x._F[h],M=x._F[h+1],P=0;while((M-l&3)!=0){P+=R[l]*J[r[l]];
l++}for(var S=l;S<M;S+=4)P+=R[S]*J[r[S]]+R[S+1]*J[r[S+1]]+R[S+2]*J[r[S+2]]+R[S+3]*J[r[S+3]];v[h]=P}return v};
g.wQ.prototype.multiply=function(J){return this.IF(J.E3())};g.wQ.prototype.IF=function(J){var v=this,x=v.rows,o=v.cols,R=J.rows,r=new g.wQ(x,R),l=v.ZQ,M=J.ZQ;
for(var h=0;h<x;h++){var P=[],S=[],c=v._F[h],b=v._F[h+1];for(var w=0;w<R;w++){var U=J._F[w],F=J._F[w+1],Y=0,A=c,G=U;
while(A<b&&G<F){var n=Math.max(l[A],M[G]);while(A<b&&l[A]<n)A++;while(G<F&&M[G]<n)G++;if(A<b&&G<F&&l[A]==M[G])Y+=v.m[A++]*J.m[G++]}if(Y!=0){P.push(Y);
S.push(w)}}r.LH(P,S,P.length)}return r};g.wQ.prototype.E3=function(){var J=this.rows,v=this.cols,x=[];
for(var h=0;h<v;h++)x.push([[],[]]);var o=this.m,R=this._F,r=this.ZQ;for(var h=0;h<J;h++){var l=R[h],M=R[h+1];
for(var P=l;P<M;P++){var S=x[r[P]];S[0].push(o[P]);S[1].push(h)}}var c=new g.wQ(v,J);for(var h=0;h<v;
h++)c.LH(x[h][0],x[h][1],x[h][1].length);return c};g.wQ.prototype.awJ=function(){var J=this.rows,v=this.cols,x=new Array(J),o=this.m,R=this._F,r=this.ZQ;
for(var h=0;h<J;h++){var l=x[h]=new Array(v);for(var M=0;M<v;M++)l[M]=0;var P=R[h],S=R[h+1];for(var c=P;
c<S;c++)l[r[c]]=o[c]}return x};g.wQ.prototype.cP=function(J,v,x,o,R){function r(N,v,k,V){var X=N.length;
for(var h=0;h<X;h++)V[h]=N[h]-v[h]*k}function l(N,v,k,V){var X=N.length,Q=0;while((X-Q&3)!=0){V[Q]=N[Q]+v[Q]*k;
Q++}for(var h=Q;h<X;h+=4){V[h]=N[h]+v[h]*k;V[h+1]=N[h+1]+v[h+1]*k;V[h+2]=N[h+2]+v[h+2]*k;V[h+3]=N[h+3]+v[h+3]*k}}function M(N,v,k){var V=N.length;
for(var h=0;h<V;h++)k[h]=N[h]*v[h]}function P(N,v){var k=N.length,V=0,X=0;while((k-V&3)!=0){X+=N[V]*v[V];
V++}for(var h=V;h<k;h+=4)X+=N[h]*v[h]+N[h+1]*v[h+1]+N[h+2]*v[h+2]+N[h+3]*v[h+3];return X}var S=o!=null?2:1,c=Date.now(),b=0,w=this,U=J.slice(0),F=J.slice(0);
w.dy(J,F);r(v,F,1,U);var Y=this.wo;if(S==0){Y=U.slice(0);Y.fill(1)}var A=U.slice(0);M(Y,U,A);var G=A.slice(0),n=P(U,A);
while(!0){w.dy(G,F);var E=n/P(G,F);l(J,G,E,J);r(U,F,E,U);if((b&7)==0&&Math.sqrt(P(U,U))<x)break;if(S<=1)M(Y,U,A);
else{var K=U.slice(0);o.akk(K,U);R.abJ(A,K)}var e=P(U,A),$=e/n;l(A,G,$,G);n=e;b++}};g.wQ.prototype.aCA=function(J,v,x,o){var R=Date.now(),r=1.96,M=0;
if(x==null)x=5e-6;if(o==null)o=1e9;var l=1-r,co=this.rows,P=this.yT,S=this.$r,c=this.JU,b=this.wo;while(!0){var w=0;
for(var h=0;h<co;h++){var U=v[h],F=S[h],Y=S[h+1];if(Y-F==4)U-=P[F]*J[c[F]]+P[F+1]*J[c[F+1]]+P[F+2]*J[c[F+2]]+P[F+3]*J[c[F+3]];
else for(var A=F;A<Y;A++)U-=P[A]*J[c[A]];var G=J[h]*l+b[h]*U*r,n=G-J[h];w+=n*n;J[h]=G}if(w/co<x||Date.now()>R+o)break}};
g.wQ.prototype.aBp=function(J,v,x,o){var R=Date.now(),r=1.96,M=0;if(x==null)x=5e-5;if(o==null)o=1e9;
var l=1-r,co=this.rows,P=this.yT,S=this.$r,c=this.JU,b=this.wo;while(!0){var w=0;for(var h=0;h<co;h++){var U=h*3,F=v[U],Y=v[U+1],A=v[U+2],G=S[h],n=S[h+1];
for(var E=G;E<n;E++){var K=P[E],e=c[E]*3;F-=K*J[e+0];Y-=K*J[e+1];A-=K*J[e+2]}var $=b[h]*r,N=J[U+0]*l+F*$,k=J[U+1]*l+Y*$,V=J[U+2]*l+A*$,X=N-J[U+0],Q=k-J[U+1],L=V-J[U+2];
w+=.4*X*X+.5*Q*Q+.1*L*L;J[U+0]=N;J[U+1]=k;J[U+2]=V}if(w/co<x||Date.now()>R+o)break}};g.O2={};g.O2.Ep=function(J,v,x){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:J},Vrtc:{t:"doub",v:v},Cnty:{t:"bool",v:x}}}};
g.O2.u=function(J,v){for(var h=0;h<J.length;h++){var x=J[h].v,o=v.Xw(new aG(x.Hrzn.v,x.Vrtc.v));x.Hrzn.v=Math.round(o.x);
x.Vrtc.v=Math.round(o.y)}};g.O2.aoA=function(J,v,x){var co=J.length-1,o=g.gf.YU(co+1,co+2);for(var h=1;
h<co;h++){o[h][h-1]=1/(J[h]-J[h-1]);o[h][h]=2*(1/(J[h]-J[h-1])+1/(J[h+1]-J[h]));o[h][h+1]=1/(J[h+1]-J[h]);
o[h][co+1]=3*((v[h]-v[h-1])/((J[h]-J[h-1])*(J[h]-J[h-1]))+(v[h+1]-v[h])/((J[h+1]-J[h])*(J[h+1]-J[h])))}o[0][0]=2/(J[1]-J[0]);
o[0][1]=1/(J[1]-J[0]);o[0][co+1]=3*(v[1]-v[0])/((J[1]-J[0])*(J[1]-J[0]));o[co][co-1]=1/(J[co]-J[co-1]);
o[co][co]=2/(J[co]-J[co-1]);o[co][co+1]=3*(v[co]-v[co-1])/((J[co]-J[co-1])*(J[co]-J[co-1]));g.gf.eU(o,x)};
g.O2.a1o=function(J,v,x,o){if(J<=v[0])return x[0];if(J>=v[v.length-1])return x[v.length-1];var h=1;while(v[h]<J)h++;
var R=v[h],r=v[h-1],l=x[h],M=x[h-1],P=(J-r)/(R-r),S=o[h-1]*(R-r)-(l-M),c=-o[h]*(R-r)+(l-M),b=(1-P)*M+P*l+P*(1-P)*(S*(1-P)+c*P);
return b};g.O2.ao7=function(J,v,x,o){var R={t$:[J[0]],uM:[v[0]],mZ:[]};o[0]=R;for(var h=1;h<J.length-1;
h++){R.t$.push(J[h]);R.uM.push(v[h]);if(x[h]==!1){g.O2.aoA(R.t$,R.uM,R.mZ);R={t$:[J[h]],uM:[v[h]],mZ:[]}}o[h]=R}R.t$.push(J[h]);
R.uM.push(v[h]);g.O2.aoA(R.t$,R.uM,R.mZ);o[h]=R};g.O2.ayK=function(J,v,x,o){if(J<=v[0])return x[0];if(J>=v[v.length-1])return x[v.length-1];
var h=1;while(v[h]<J)h++;var R=o[h-1];return g.O2.a1o(J,R.t$,R.uM,R.mZ)};g.O2.aEM=function(J){var v={t$:[],uM:[],As:[]};
for(var h=0;h<J.length;h++){v.t$[h]=J[h].v.Hrzn.v;v.uM[h]=J[h].v.Vrtc.v;v.As[h]=J[h].v.Cnty?J[h].v.Cnty.v:!0}return v};
g.O2.vb=function(J,co,v){var x=0,o=255;if(v){x=-1e9;o=1e9}var R=g.O2.aEM(J),r=[];g.O2.ao7(R.t$,R.uM,R.As,r);
var l=new Float32Array(co);for(var h=0;h<co;h++)l[h]=1/255*Math.max(x,Math.min(o,g.O2.ayK(h*(255/(co-1)),R.t$,R.uM,r)));
return l};g.O2.asr=function(J,co,v){var x=Math.round(J.length/20),o=co-J.length,R=v?(J[x]-J[0])/x:0,r=v?J[0]-o*R:J[J.length-1],l=new Float32Array(co);
l.set(J,v?o:0);for(var h=0;h<o;h++)l[h+(v?0:o)]=r+h*R;return l};g.O2.x6=function(J,co,v){var x=g.O2.aEM(J),o=[];
g.O2.ao7(x.t$,x.uM,x.As,o);var R=new Uint8Array(co),r=co/256;for(var h=0;h<co;h++)R[h]=Math.max(0,Math.min(co-1,g.O2.ayK(h*r,x.t$,x.uM,o)));
if(v){R[0]=0;if(R[1]>100)R[1]=.4*R[1];if(R[2]>150)R[1]=.7*R[2]}return R};g.O2.als=function(J,v){var x=new Uint8Array(J.length);
for(var h=0;h<J.length;h++)x[h]=v[J[h]];return x};g.O2.aGY=function(J,v){var x=v.length,o=new Float32Array(x);
for(var h=0;h<x;h++)o[h]=v[~~(J[h]*(x-1))];return o};g.O2.QZ=function(J,v,x){var o=document.createElement("canvas");
o.width=v;o.height=x;var R=o.getContext("2d"),r=g.O2.x6(J,256);R.scale(v/255,x/255);R.fillStyle="#fff";
R.fillRect(0,0,255,255);R.fillStyle="#333";R.beginPath();R.moveTo(0,255);for(var h=0;h<r.length;h++)R.lineTo(h,255-r[h]);
R.lineTo(255,255);R.closePath();R.fill();return o.toDataURL()};g.style={};g.style.stroke=function(J,v,x,o){var R=x.r,r=x.$,l=g.style.Fa(J,R,r);
g.style.dK(v,x,l,x,o)};g.style.dK=function(J,v,x,o,R){var r=v.Xt(o),l=r.r,M=r.$;R+=.5;var P=r.x-v.x,S=r.y-v.y,c=v.r,b=r.x-o.x,w=r.y-o.y,U=o.r;
for(var F=0;F<M;F++){var Y=(F+w)*U+b,A=(F+S)*c+P;for(var G=0;G<l;G++){var n=Math.max(0,Math.min(1,R-x[Y+G]));
J[A+G]=Math.round(n*255)}}};g.style.ag9=function(J,v,x,o){for(var R=0;R<x;R++)for(var r=0;r<v;r++){var l=R*v+r,M=0,P=0,S=J[l];
if(r==0||R==0){M=J[l+1]-S;P=J[l+v]-S}else if(r==x-1||R==v-1){M=S-J[l-1];P=S-J[l-v]}else{M=J[l+1]-J[l-1];
P=J[l+v]-J[l-v]}if(M!=0||P!=0){var c=1/Math.sqrt(M*M+P*P);M*=c;P*=c}o[l+l]=M;o[l+l+1]=P}};g.style.Fa=function(J,v,x){var o=v*x,R=new ArrayBuffer((o+v*4)*4),r=new Float32Array(R,0,o),l=new Uint16Array(R,0,o<<1),M=new Int32Array(R,o*4,v),P=new Int32Array(R,(o+v)*4,v),S=new Int32Array(R,(o+v*2)*4,v),c=new Int32Array(R,(o+v*3)*4,v),b=1/255;
for(let h=0;h<v;++h){let w=-x-v,U=0,F=h,Y=0;for(;Y<x;++Y,F+=v){if(J[F]>128)w=Y,U=J[F];l[F<<1]=Y-w;l[(F<<1)+1]=U}w=l[F+=F-v-v],U=l[F+1];
for(;Y>1;--Y){if(l[F-=v+v]>w)l[F]=++w,l[F+1]=U;else w=l[F],U=l[F+1]}}for(let A=0;A<o;A+=v){var G=A+v,n=l[A<<1]*l[A<<1],E=0;
let K=M[0]=A,e=P[0]=A,$=n,N=$;for(let F=A+1;F<G;++F){var k=l[F<<1]*l[F<<1];while(E&&N>(e-F)*(e-F)+k){e=P[--E],K=M[E],$=l[K<<1]*l[K<<1],N=(e-K)*(e-K)+$}if(E||N<=(e-F)*(e-F)+k){var V=F-K,X=A+Math.floor((V*(F+K-A-A)+k-$)/(V<<1))+1;
if(X<G){e=P[++E]=X,K=M[E]=F,$=k,N=(e-K)*(e-K)+$}}else e=A,K=M[0]=F,$=k,N=(e-K)*(e-K)+$}for(let h=0;h<E;
++h){var Q=M[h]<<1;S[h]=l[Q]*l[Q];c[h]=l[Q+1]}let L=.5-l[(M[E]<<1)+1]*b;for(let F=G-1;F>=A;--F){r[F]=Math.max(0,Math.sqrt((F-K)*(F-K)+$)+L);
if(E&&F==e){e=P[--E],K=M[E],$=S[E],L=.5-c[E]*b}}}return r};g.style.aI3=function(J,v,x){var o=new Float64Array(v*x),R=0,r=v*x;
for(var h=0;h<r;h++)R|=J[h];if(R==0){o.fill(1e9);return}var l=g.style.Zr(J,v,x);for(var M=0;M<x;M++)for(var P=0;
P<v;P++){var h=M*v+P,S=l[h*2],c=l[h*2+1];if(S==0&&c==0){o[h]=0;continue}var b=Math.sqrt(S*S+c*c),w=J[(M+c)*v+P+S]*(1/255);
o[h]=b+.5-w}return o};g.style.aji=function(J,v,x){return(.5-x)*J};g.style.Zr=function(J,v,x,o){var R=new Int16Array(v*x*2);
g.style.aIL(J,R,v,x,128);return R};g.style.aIL=function(J,v,x,o,R){var r=new Int32Array(x*o);g.style.aaZ(J,r,x,o,R);
g.style.ay3(r,v,x,o)};g.style.aaZ=function(J,v,x,o,R){var r=new Int32Array(o);for(var l=0;l<x;l++){var M=x+o;
for(var P=o-1;P>=0;P--){if(J[P*x+l]>R)M=0;else M++;r[P]=M}M=x+o;for(var P=0;P<o;P++){if(J[P*x+l]>R)M=0;
else M++;v[P*x+l]=M<r[P]?-M:r[P]}}};g.style.ay3=function(J,v,x,o){var R=(x+o)*(x+o),r=new Float64Array(x),l=new Uint16Array(x);
for(var M=0;M<o;M++){var P=M*x,S=0;l[0]=0;r[0]=-R;r[1]=+R;for(var c=1;c<x;c++){var b=J[c+P]*J[c+P]+c*c,w=(b-(J[l[S]+P]*J[l[S]+P]+l[S]*l[S]))/(2*c-2*l[S]);
while(w<=r[S]){S--;w=(b-(J[l[S]+P]*J[l[S]+P]+l[S]*l[S]))/(2*c-2*l[S])}S++;l[S]=c;r[S]=w;r[S+1]=R}S=0;
for(var c=0;c<x;c++){while(r[S+1]<c)S++;var U=l[S]-c,F=J[l[S]+P],h=M*x+c<<1;v[h]=U;v[h+1]=F}}};g.style.rh=function(J,v,x){if(x)for(var h=0;
h<J.length;h++){var o=J[h];if(o>0)J[h]=Math.max(0,Math.min(255,o+v*2*(g.style.S_(h)-128)))}else for(var h=0;
h<J.length;h++){var o=J[h];if(o>0)J[h]=Math.max(0,Math.min(255,o+Math.min(o*3,v*2*(g.style.S_(h)-128))))}};
g.style.S_=function(J){J=J^61^J>>16;J=J+(J<<3);J=J^J>>4;J=J*668265261;J=J^J>>15;return J&255};g.CT={};
g.CT.aF=function(J,v,x){var o=J.canvas;if(o.width!=v||o.height!=x){o.width=v;o.height=x}};g.CT.Qg=function(J,v,x,o,R,r){var l=g.u3(R.N),M=l==8?255:l==16?65535:1,P=1/M;
g.CT.aF(J,v,x);if(r==null)r=!1;var S=R.N,c=R.S,b=!R.isEnabled;if(v*x==0)return;var w=new ImageData(v,x),U=w.data,F=1/v,Y=1/x,A=R.color/255;
for(var h=0;h<x;h++)for(var G=0;G<v;G++){var n=(h*v+G)*4,E=Math.round(o.x+G*F*o.r),K=Math.round(o.y+h*Y*o.$),e=0;
if(E<c.x||E>=c.x+c.r||K<c.y||K>=c.y+c.$)e=A;else e=S[(K-c.y)*c.r+(E-c.x)]*P;e=255-R.nJ+e*R.nJ;if(r)e=170+Math.round(.4*(e-170));
U[n]=e;U[n+1]=e;U[n+2]=e;U[n+3]=255}J.putImageData(w,0,0);if(b)g.CT.a6p(J,v,x)};g.CT.a3H={};g.CT.aFF=function(J,v,x,o){var R,r,l;
R=Math.ceil(Math.max(v,x)*.35);r=v-R;l=x-R;var M=o.generativeDocInfo,P=R+"-"+(M?1:0),S=g.CT.a3H[P];if(S==null){var c=g.n2(R,R),b=Math.round(R*.27),w=c.lineWidth=Math.max(1,Math.round(R*.12)),U=w/2;
if(M){c.fillStyle="black";c.fillRect(0,0,R,R);c.beginPath();for(var F=0;F<1;F++)for(var h=0;h<10;h++){var Y=-Math.PI/2+h*2*Math.PI/10,A=((h&1)==0?1:.4)*R*.52,G=.5,n=.52;
G=R*G+Math.cos(Y)*A;n=R*n+Math.sin(Y)*A;if(h==0)c.moveTo(G,n);else c.lineTo(G,n)}c.closePath();c.fillStyle="white";
c.fill()}else{c.fillStyle="#eeeeee";c.fillRect(0,0,R,R);c.strokeRect(1+U,1+U,R-w-2,R-w-2);c.strokeRect(b+U,b+U,R-b-b-w,R-b-b-w)}S=g.CT.a3H[P]=c.getImageData(0,0,R,R)}J.putImageData(S,r,l)};
g.CT.ahQ=[];g.CT.a0M=function(J,v,x){var o,R,r;o=Math.ceil(Math.max(v,x)*.35);R=v-o;r=x-o;var l=g.CT.ahQ[o];
if(l==null){var M=g.n2(o,o);M.fillStyle="#eeeeee";M.fillRect(0,0,o,o);M.lineWidth=1;M.strokeRect(2.5,2.5,o-5,o-5);
var P=new ImageData(3,3),S=P.data;g.SX(S,4278190080);S[4*4]=S[4*4+1]=S[4*4+2]=238;M.putImageData(P,1,1);
M.putImageData(P,o-4,1);M.putImageData(P,1,o-4);M.putImageData(P,o-4,o-4);l=g.CT.ahQ[o]=M.getImageData(0,0,o,o)}J.putImageData(l,R,r)};
g.CT.acq=function(J,v,x,o,R,r){g.CT.aF(J,v,x);var l=v/o.r;if(v*x==0)return;J.fillStyle="#999999";J.setTransform(1,0,0,1,0,0);
J.clearRect(0,0,v,x);J.save();var M=g.CT.aHf;if(M==null)M=g.CT.aHf=gD.gB.ow(!0,!0);M.strokeStyleLineWidth.v.val=1/l;
J.fillStyle="#ffffff";J.scale(l,l);g.I.yz(R.X,J,0,0);g.I.yz(R.X,J,0,0,M);J.restore();if(r){J.save();
var P=v*.4,S=x*.4;J.fillRect(v-P,x-S,P,S);J.beginPath();J.moveTo(v-P/2,x-S);J.lineTo(v-P/2,x);J.setLineDash([3,3]);
J.stroke();J.restore()}};g.CT.abm=function(J,v,x,o,R){g.CT.aF(J,v,x);if(v*x==0)return;J.setTransform(1,0,0,1,0,0);
J.fillStyle="white";J.fillRect(0,0,v,x);var r=R.w,l;if(r.add.SoLd)l=H.ge.t1(r.add.SoLd.nonAffineTransform);
else if(r.add.vmsk)l=r.add.vmsk.hY();else if(r.add.TySh){if(r.QF.m5==null)return;l=g.b.ho(r.QF.m5).T;
g.b.u(l,r.add.TySh.u,l)}var M=g.b.ni(l),P=Math.min(v/M.r,x/M.$),S=M.r*P,c=M.$*P;J.translate(-M.x*P+(v-S)*.5,-M.y*P+(x-c)*.5);
J.scale(P,P);R.rx(o,J,null,null)};g.CT.ans=null;g.CT.GQ=function(J,v,x,o,R,r,l,M,P){g.CT.aF(J,v,x);if(v*x==0)return;
var S=Math.max(v,x),c=g.CT.ans;if(c==null||c.width<S||c.height<S){g.CT.ans=c=new ImageData(S,S)}S=c.width;
var b=c.data,w=o.r/v,U=o.$/x,F=r.x,Y=r.x+r.r,A=r.y,G=r.y+r.$,n=g.u3(R)-8;for(var h=0;h<x;h++)for(var E=0;
E<v;E++){var K=h*S+E,e=K*4,$=~~(o.x+E*w),N=~~(o.y+h*U),k=g.aiI(h,E,2);if($<F||$>=Y||N<A||N>=G||P){b[e]=k;
b[e+1]=k;b[e+2]=k;b[e+3]=255}else{var V=(N-r.y)*r.r+($-r.x)<<2;if(n!=24){var X=(R[V+3]>>>n)*(1/255);
b[e]=(R[V+0]>>>n)*X+k*(1-X);b[e+1]=(R[V+1]>>>n)*X+k*(1-X);b[e+2]=(R[V+2]>>>n)*X+k*(1-X)}else{var X=R[V+3];
b[e]=R[V+0]*X*255+k*(1-X);b[e+1]=R[V+1]*X*255+k*(1-X);b[e+2]=R[V+2]*X*255+k*(1-X)}b[e+3]=255}}if(M!=null)for(var h=0;
h<b.length;h+=4)b[h]=b[h+1]=b[h+2]=b[h+M];J.putImageData(c,0,0);if(l)g.CT.a6p(J,v,x)};g.CT.a2h=function(J,v,x,o){g.CT.aF(J,v,x);
J.fillStyle=g.CT.Eb(o.Clr.v);J.fillRect(0,0,v,x);g.CT.JO(J,v,x)};g.CT.WP=null;g.CT.ajZ=function(J,v,x,o){g.CT.aF(J,v,x);
var R=J.canvas.width,r=J.canvas.height,l=g.CT.WP;if(l==null||l.width!=R||l.height!=r){J.fillStyle="#ffffff";
J.fillRect(0,0,v,x);J.fillStyle="#000000";J.font=""+x*.7+"px serif";J.fillText("T",(v-x*.43)/2,x*.75);
J.fillText("T",(v-x*.43)/2,x*.75);g.CT.WP=J.getImageData(0,0,R,r)}else J.putImageData(l,0,0)};g.CT.aqj=function(J,v,x){g.CT.aF(J,v,x);
J.clearRect(0,0,v,x);J.font=x*.7+"px serif";J.fillText(":(",(v-x*.43)/2,x*.7)};g.CT.aw9=function(J,v,x,o){g.CT.aF(J,v,x);
var R=kC.get(o),r=J.canvas.width,l=g.CT.a7i[r+R];if(l==null){var M=PIMG["adj/"+R],P=d2.pa(M),S=UPNG.decode(P.buffer),c=new Uint8Array(UPNG.toRGBA8(S)[0]),b=new jj(0,0,160,160),w=0,U=r-w*2,F=H.ge.EN([c,b],new bC(U/160,0,0,U/160,0,0)),Y=new jj(0,0,r,r),A=g.C(Y.o()*4);
g.v.Ry("norm",F.buffer,F.S,A,Y,F.S,1);l=g.CT.a7i[r+R]=new ImageData(new Uint8ClampedArray(A.buffer),r,r)}J.putImageData(l,0,0)};
g.CT.a7i={};g.CT.aeG=function(J,v,x,o){g.CT.aF(J,v,x);var R=J.canvas.width,r=J.canvas.height,l=J.getImageData(0,0,R,r);
g.UH.$m(o.Grad.v,new Uint8Array(l.data.buffer),new jj(0,0,R,r),[1/R,0,0,1/r],R/2,r/2,!1,0,16711680,65280);
J.putImageData(l,0,0);g.CT.JO(J,v,x)};g.CT.aja=function(J,v,x,o,R){g.CT.aF(J,v,x);var r=J,l=iD.VC(o.Ptrn.v,R.add.Patt);
if(l==null)return;var M=l.ub[1];g.CT.GQ(J,v,x,M,l.ub[0],M,!1);g.CT.JO(r,v,x)};g.CT.a6p=function(J,v,x){J.strokeStyle="#bb0000";
J.lineWidth=3;J.beginPath();J.moveTo(v*.15,x*.15);J.lineTo(v*.85,x*.85);J.moveTo(v*.85,x*.15);J.lineTo(v*.15,x*.85);
J.closePath();J.stroke()};g.CT.JO=function(J,v,x){J.fillStyle="#eeeeee";J.fillRect(0,x*.75,v,x*.25);
J.beginPath();J.moveTo(0,x*.75);J.lineTo(v,x*.75);J.moveTo(v*.1,x*.875);J.lineTo(v*.9,x*.875);J.moveTo(v*.65,x*.825);
J.lineTo(v*.65,x*.95);J.closePath();J.stroke()};g.CT.Eb=function(J){var v=g.UH.Eb(J),x=Math.round(v.z)<<16|Math.round(v.H)<<8|Math.round(v.c);
return"#"+g.q2(x)};g.I={};g.I.JM=function(J,v,x){var o=[],R=-1;for(var h=0;h<J.length;h++){var r=J[h];
if((r.e==0||r.e==3)&&r.da!=-1)R++;if(r.e>5||r.e==0||r.e==3)continue;if(v!=null&&v.indexOf(R)==-1)continue;
if(x!=null&&x.indexOf(h)==-1)continue;o.push(r.nQ.x);o.push(r.nQ.y);o.push(r.Z.x);o.push(r.Z.y);o.push(r._v.x);
o.push(r._v.y)}return o};g.I.$_=function(J,v,x,o){var R=0,r=-1;for(var h=0;h<v.length;h++){var l=v[h];
if((l.e==0||l.e==3)&&l.da!=-1)r++;if(l.e>5||l.e==0||l.e==3)continue;if(x!=null&&x.indexOf(r)==-1)continue;
if(o!=null&&o.indexOf(h)==-1)continue;l.nQ._h(J[R],J[R+1]);l.Z._h(J[R+2],J[R+3]);l._v._h(J[R+4],J[R+5]);
R+=6}};g.I.Xi=function(J,v,x,o){var R=g.I.JM(J,x,o);g.b.u(R,v,R);g.I.$_(R,J,x,o)};g.I.a4R=function(J,v,x,o){var R=g.I.JM(J,x,o);
g.O.u(v,R);g.I.$_(R,J,x,o)};g.I.a60=function(J,v,x,o){if(o==null){var R=g.I.awA(J,40,x);for(var h=0;
h<R.length;h++)J[h]=R[h]}var r=g.I.JM(J,x,o);g.ZH.u(v,r,g.b.ni(r));g.I.$_(r,J,x,o)};g.I.awA=function(J,v,x){var o=[],R=-1;
for(var h=0;h<J.length;h++){var r=J[h],l=r.length;if(r.e>5){o.push(g.F(r));continue}r=g.F(r);o.push(r);
if(r.da!=-1)R++;if(x&&x.indexOf(R)==-1){o=o.concat(J.slice(h+1,h+1+l))}else{var M=g.I.a4b(J,h+1,l);M=g.b.eo(M,v);
var P=g.I.aFt(M);r.length=P.length;for(var S=0;S<P.length;S++)o.push(P[S])}h+=l}return o};g.I.a4b=function(J,v,x){var o={Wp:["M"],T:[]},R=J[v],r=J[v+x-1];
o.T.push(R.Z.x,R.Z.y);for(var h=1;h<x;h++){var l=J[v+h-1],M=J[v+h];o.Wp.push("C");o.T.push(l._v.x,l._v.y,M.nQ.x,M.nQ.y,M.Z.x,M.Z.y)}o.Wp.push("C");
o.T.push(r._v.x,r._v.y,R.nQ.x,R.nQ.y,R.Z.x,R.Z.y);return o};g.I.aFt=function(J){var v=[],x=J.Wp,o=J.T,R=0,co=o.length;
v.push({e:2,nQ:new aG(o[co-4],o[co-3]),Z:new aG(o[0],o[1]),_v:new aG(o[2],o[3])});for(var h=0;h<x.length-2;
h++){var r=h*6+4;v.push({e:2,nQ:new aG(o[r],o[r+1]),Z:new aG(o[r+2],o[r+3]),_v:new aG(o[r+4],o[r+5])})}return v};
g.I.aCa=function(J){for(var h=0;h<J.length;h++){if(J[h].e>5)continue;var v=J[h].length;if(!(v==4||v==6||v==8)){h+=v;
continue}for(var x=0;x<v;x++){var o=J[h+1+x],R=J[h+1+(x+1)%v],r=Math.min(o.Z.x,R.Z.x),l=Math.min(o.Z.y,R.Z.y),M=0,P=0;
if(o.Z.x<R.Z.x){M=o.Z.y-l;P=M-(R.Z.x-r)}else{M=R.Z.y-l;P=M-(o.Z.x-r)}if(Math.abs(P)<.2*M)return M}}return-1};
g.I.Or=function(J,v,x){function o(w,U){var F=Math.min(w.x,U.x),Y=Math.min(w.y,U.y),A=Math.max(w.x+w.r,U.x+U.r),G=Math.max(w.y+w.$,U.y+U.$);
return new jj(F,Y,A-F,G-Y)}var R=null,r=-1,l=!g.I.xl(J);for(var h=0;h<J.length;h++){var M=J[h];if(M.e>5)continue;
if((M.e==0||M.e==3)&&M.da!=-1)r++;if(v!=null&&v.indexOf(r)==-1)continue;if(h==J.length-1)break;var P=M.e==3,S=M.length,c=M.da,b=g.I.kf(J,h+1,S,P);
if(R==null)R=b;else if(x)R=o(R,b);else if(l){if(v!=null||c==0||c==-1||c==2)R=o(R,b);else if(c==1)R=R;
else if(c==3){R=b;l=!1}}else{if(v!=null||c==0||c==-1||c==1)R=o(R,b);else if(c==2)R=R;else if(c==3)R=R.Xt(b)}h+=S}if(R==null||R.r<0||R.$<0)R=new jj(0,0,0,0);
return R};g.I.a8X=new Float64Array(4);g.I.kf=function(J,h,v,x){var o=g.I.a8X;o[0]=1e30;o[1]=1e30;o[2]=-1e30;
o[3]=-1e30;var R=J[h+v-1];if(!x)g.I.ajK(R.Z.x,R.Z.y,R._v.x,R._v.y,J[h].nQ.x,J[h].nQ.y,J[h].Z.x,J[h].Z.y,o);
for(var r=h;r<h+v-1;r++){var l=J[r],M=J[r+1];g.I.ajK(l.Z.x,l.Z.y,l._v.x,l._v.y,M.nQ.x,M.nQ.y,M.Z.x,M.Z.y,o)}return new jj(o[0],o[1],o[2]-o[0],o[3]-o[1])};
g.I.ajK=function(J,v,x,o,R,r,l,M,P){if(J==x&&v==o&&R==l&&r==M){P[0]=Math.min(P[0],Math.min(J,l));P[1]=Math.min(P[1],Math.min(v,M));
P[2]=Math.max(P[2],Math.max(J,l));P[3]=Math.max(P[3],Math.max(v,M));return}var S=J,c=v,b=J,w=v,U=40,F=1/(U-1);
for(var Y=0;Y<U;Y++){var A=Y*F,G=1-A,n=G*G*G,E=3*G*G*A,K=3*G*A*A,e=A*A*A,$=n*J+E*x+K*R+e*l,N=n*v+E*o+K*r+e*M;
if($<S)S=$;else if($>b)b=$;if(N<c)c=N;else if(N>w)w=N}if(S<P[0])P[0]=S;if(c<P[1])P[1]=c;if(b>P[2])P[2]=b;
if(w>P[3])P[3]=w};g.I.apa=function(J,v){var x=J.length-3,o=v%x,R=Math.floor(o);if(v<0||R>=x)return null;
var r=J[3+R],l=J[3+(R+1)%x],M=r.Z,P=r._v,S=l.nQ,c=l.Z,b=o-R,w=1-b,U=w*w*w*M.x+3*w*w*b*P.x+3*w*b*b*S.x+b*b*b*c.x,F=w*w*w*M.y+3*w*w*b*P.y+3*w*b*b*S.y+b*b*b*c.y;
return new aG(U,F)};g.I.K2=function(J,v){var x=g.b.ns(J),o=x.fF;x.fF=Typr.U.pathToSVG({crds:o.T,cmds:o.Wp},v==null?2:v);
return x};g.I.aE=function(J){g.I.Ja();var v,x=g.I.TO(J),o=[];for(var h=0;h<x.length;h++){var R=x[h][0],r=x[h][1];
if(Math.abs(R.area)<1e-5)o.push(R);else if(v==null)v=R;else{if(!R.closed)R.closed=!0;v=v[r](R);v.remove()}}if(v==null)v=new paper.CompoundPath(o);
else{if(v.segments)v=new paper.CompoundPath(v);for(var h=0;h<o.length;h++){v.addChild(o[h])}}var l=J.slice(0,2);
l=l.concat(g.I.PA(v));g.I.nk(x);g.I.nk([[v]]);if(l[2])l[2].da=1;for(var h=3;h<l.length;h++)if(l[h].da!=null)l[h].da=-1;
return l};g.I.Ja=function(){if(g.I.aHi==null){var J=document.createElement("canvas");paper.setup(J);
g.I.aHi=!0}};g.I.aiV=function(J,v){g.I.Ja();var x=[],o=g.I.TO(J),R=new paper.Path.Rectangle(new paper.Rectangle(v.x,v.y,v.r,v.$));
R.remove();R.fillColor=new paper.Color(1,0,0);for(var h=0;h<o.length;h++){if(R.intersects(o[h][0])||R.contains(o[h][0].children[0].segments[0].point))x.push(h)}g.I.nk(o);
return x};g.I.M$=function(J,v,x,o){g.I.Ja();var R=x?{curves:!0,tolerance:o}:null,r=new paper.Point(v.x,v.y),l=g.I.TO(J);
g.I.nk(l);for(var h=l.length-1;h>=0;h--){var M=l[h][0],P=M.hitTest(r,R);if(P!=null)return{Vn:h,BI:x?P.location.index:null,vT:x?P.location.time:0}}return{Vn:-1}};
g.I.mU=function(J,v,x,o){var R=[[],[],[]];for(var h=0;h<J.length;h++){var r=J[h];if(r.e>5||r.e==0||r.e==3)continue;
var l=v.bB(r.Z),M=v.bB(r.nQ),P=v.bB(r._v);if(x&&x.indexOf(h)==-1){if(o){if(x.indexOf(h-1)==-1)M=!1;if(x.indexOf(h+1)==-1)P=!1}else M=P=!1}if(l)R[0].push(h);
if(M)R[1].push(h);if(P)R[2].push(h)}R[3]=R[0].length+R[1].length+R[2].length;return R};g.I.av9=function(J,v,x){var o=J[v];
for(var R=v+1;R<x;R++)J[R-1]=J[R];J[x-1]=o};g.I.arT=function(J,v,x,o){var h,R,r,l=0;J=J.slice(0);v.sort(function(F,Y){return F-Y});
r=-1;for(h=2;h<J.length;){var M=J[h],P=M.length;if(M.da!=-1)r++;var S=l;while(S<v.length&&v[S]<h+1+P)S++;
if(l!=S){var c=v.slice(l,S);l=S;for(R=0;R<P;R++)if(c.indexOf(h+1+R)!=-1)J[h+1+R]=null;if(M.e==0){var b=c[0]-(h+1);
while(b!=0){g.I.av9(J,h+1,h+1+P);b--}}var w=M;w.length=0;R=0;while(R<P&&J[h+1+R]==null)R++;while(R<P){var U=J[h+1+R];
if(U!=null)w.length++;else if(R<P+1&&J[h+1+R+1]&&o){w=J[h+1+R]={e:0,da:-1,length:0,RO:0,M4:0,ii:1}}R++}if(o)for(R=-1;
R<P;R++)if(J[h+1+R]&&J[h+1+R].e<3)J[h+1+R].e+=3;g.Fw.IG(x,r)}h+=1+P}for(h=0;h<J.length;h++)if(J[h]==null){J.splice(h,1);
h--}r=0;for(h=2;h<J.length;h++){var M=J[h];if(M.length==0){if(J[h+1]&&J[h+1].da==-1)J[h+1].da=M.da;else if(M.da!=-1)x.splice(r,1);
J.splice(h,1);h--}else if(M.length!=null&&M.da!=-1)r++}return J};g.I.a9F=function(J,v){var x=J.slice(0,2),o=-1;
for(var h=2;h<J.length;h++){if((J[h].e==0||J[h].e==3)&&J[h].da!=-1)o++;if(v.indexOf(o)==-1)x.push(J[h])}return x};
g.I.aHj=function(J,v){var x=J.slice(0,2),o=-1;for(var h=2;h<J.length;h++){if((J[h].e==0||J[h].e==3)&&J[h].da!=-1)o++;
if(v.indexOf(o)!=-1)x.push(J[h])}return x};g.I.aAV=function(J){var v=0;for(var h=0;h<J.length;h++)if(J[h].e==0||J[h].e==3)v=h;
return J[v]};g.I.Eo=function(J,v){var x=-1;for(var h=0;h<J.length;h++)if((J[h].e==0||J[h].e==3)&&(v||J[h].da!=-1))x++;
return x+1};g.I.I5=function(J,v,x){var o=-1;for(var h=0;h<J.length;h++)if((J[h].e==0||J[h].e==3)&&(x||J[h].da!=-1)){o++;
if(o==v)return h}return-1};g.I.dA=function(J,v,x){var o=-1;for(var h=0;h<J.length;h++)if((J[h].e==0||J[h].e==3)&&(x||J[h].da!=-1)){if(h>=v)return o;
o++}return o};g.I.yq=function(J,v){var x=-1,o=0;for(var h=0;h<J.length;h++){if((J[h].e==0||J[h].e==3)&&J[h].da!=-1)x++;
if(x==v)o++}return o};g.I.a57=function(J){var v=180;for(var h=0;h<J.length;h++){if(J[h].e!=0&&J[h].e!=3)continue;
var x=J[h].length;if(x<3)continue;for(var o=0;o<x;o++){var R=J[h+1+(o-1+x)%x],r=J[h+1+o],l=J[h+1+(o+1)%x],M=r.Z,P=r.nQ.Ym(M)?R._v:r.nQ,S=r._v.Ym(M)?l.nQ:r._v;
if(M.Ym(P)||M.Ym(S))continue;var c=P.x-M.x,b=P.y-M.y,w=S.x-M.x,U=S.y-M.y,P=Math.atan2(P.y-M.y,P.x-M.x)*180/Math.PI,S=Math.atan2(S.y-M.y,S.x-M.x)*180/Math.PI,F=Math.abs(S-P)%360,Y=F>180?360-F:F;
if(Y<v)v=Y}}return v*Math.PI/180};g.I.PA=function(J){var v=J.segments?[J]:J.children,x=[];for(var h=0;
h<v.length;h++){var o=v[h],R=o.segments,r=o.closed?0:3,l=x.length,M=null;if(R.length<=1)continue;x.push({e:r,length:R.length,da:0,ii:2});
for(var P=0;P<R.length;P++){var S=R[P],c=new aG(S.handleIn.x,S.handleIn.y),b=new aG(S.handleOut.x,S.handleOut.y),w=new aG(S.point.x,S.point.y),U={e:r+1,nQ:w.add(c),Z:w,_v:w.add(b)};
if(M==null)M=U;x.push(U);if(P+1==R.length&&aG.Aj(M.Z,U.Z)<1e-5){x.pop();x[l].length--;M.nQ=U.nQ;if(r==3)for(var F=l;
F<x.length;F++)x[F].e-=3}}}return x};g.I.TO=function(J){g.I.Ja();var v=[],x,o=new paper.Color(1,0,0);
function R(U,M){U.remove();U.closed=!M;U.fillRule="evenodd"}for(var h=0;h<J.length;h++){if(J[h].e>5)continue;
var r=J[h].length,l;if(h==J.length-1)break;var M=J[h].e==3;if(h==2){if(!g.I.p7(J))l="subtract";else l="unite"}else{if(J[h].da==0)l="exclude";
if(J[h].da==1)l="unite";if(J[h].da==2)l="subtract";if(J[h].da==3)l="intersect"}if(J[h].da!=-1){x=new paper.CompoundPath;
v.push([x,l]);x.fillRule="evenodd";x.fillColor=o}var P=[];for(var S=0;S<r;S++){var c=J[h+1+S],b=c.nQ.aA(c.Z),w=c._v.aA(c.Z);
P.push([[c.Z.x,c.Z.y],[b.x,b.y],[w.x,w.y]])}var U=new paper.Path(P);R(U,M);x.addChild(U);h+=r}return v};
g.I.nk=function(J){for(var h=0;h<J.length;h++)J[h][0].remove()};g.I._J=function(J){for(var h=0;h<J.length;
h++){var v=J[h];if(v.Z==null)continue;if(!v.Z.Ym(v.nQ)||!v.Z.Ym(v._v))return!1}return!0};g.I.a1q=function(J){if(J.length<=5)return 0;
var v=0,x=J.length-3-1;for(var h=0;h<x;h++){var o=J[3+h],R=J[3+h+1];if(o.e==0||R.e==0)return 0;v+=(R.Z.x-o.Z.x)*(o.Z.y+R.Z.y)}v+=(J[3].Z.x-J[3+x].Z.x)*(J[3+x].Z.y+J[3+1].Z.y);
return-v*.5};g.I.xl=function(J){var v=J[2],x=!1;if(J.length==2)x=J[1].all==0;else if(J[1].all==1){if(v.da==1||v.da==3)x=!0;
else x=!1}else{if(v.da==1||v.da==3||v.da==0)x=!0;else x=!1}return x};g.I.p7=function(J){var v=g.I.xl(J);
for(var h=3;h<J.length;h++)if(J[h].da==3)v=!0;return v};g.I.aHp=0;g.I.ak$=0;g.I.asd=0;g.I.alU=function(J,v,x,o){if(x.L3())return;
var R=x.o(),G=16384;g.I.aHp+=R;if(R>g.I.ak$){g.I.ak$=R}var r=x.r,l=x.$;if(o==null&&g.I._J(J)&&J[2]&&J[2].da!=2){var M=!0;
for(var h=2;h<J.length;)if(J[h].length==2)h+=3;else{M=!1;break}if(M){return}if(g.I.GC(J)){v.fill(255);
var P=g.I.Or(J);if(P.o()!=R){var S=1-(P.x-x.x),c=1-(P.y-x.y),b=1-(x.x+x.r-(P.x+P.r)),w=1-(x.y+x.$-(P.y+P.$)),U=~~(S*255),F=~~(b*255),Y=~~(c*255),A=~~(w*255);
v.fill(Y,0,r);v[0]=~~(S*c*255);v[r-1]=~~(b*c*255);for(var h=r;h<R;h+=r){v[h]=U;v[h+r-1]=F}v.fill(A,(l-1)*r,l*r);
v[R-r]=~~(S*w*255);v[R-1]=~~(b*w*255)}return}}var n=Math.ceil(r/G),E=Math.ceil(l/G),K=Math.ceil(r/n),e=Math.ceil(l/E),$=Date.now();
for(var N=0;N<E;N++)for(var k=0;k<n;k++){var V=k*K,X=N*e,Q=K,L=e,_=g.n2(Q,L);if(!g.I.xl(J))_.fillRect(0,0,Q,L);
g.I.yz(J,_,-x.x-V,-x.y-X,o);var a=new Uint8Array(_.getImageData(0,0,Q,L).data.buffer);if(Q==r&&L==l)g.Vi(a,v,3);
else g.IX(a,new jj(V,X,Q,L),v,new jj(0,0,r,l))}};g.I.aiD=function(J){var v=!1,x=!1,o=0,R=!1;for(var h=0;
h<J.length;h++){var r=J[h].da;if(r!=null){o++;if(r==-1)v=!0;if(r==1||r==2||r==3)x=!0;if(J[h].e==0)R=!0}}if(!v&&o<20&&R&&x)J=g.I.aE(J);
return J};g.I.yz=function(J,v,x,o,R,r){if(R!=null){J=g.I.aiD(J)}for(var h=0;h<J.length;h++){if(J[h].e>5)continue;
var l=J[h].length;if(l==0)continue;if(h==J.length-1)break;var M=J[h].e==3,P=J[h].da;if(P!=-1&&R==null){var S=["xor","source-over","destination-out","source-in"][P];
v.globalCompositeOperation=S}if(J[h].da!=-1){v.beginPath();if(R)g.I.iJ(gD.gB.Fy(R),v)}g.I.awE(v,J,h+1,l,x,o,M);
if(M){}else v.closePath();if(J[h+1+l]==null||J[h+1+l].da!=-1){if(R){if(r)v.clip();v.stroke()}else v.fill(P==-1?"nonzero":"evenodd")}h+=l}v.globalCompositeOperation="source-over";
v.setLineDash([])};g.I.iJ=function(J,v){var x=J.fk;v.setLineDash(J.Wy);v.lineCap=["butt","round","square"][J.yd];
v.lineJoin=["miter","round","bevel"][J.$h];v.lineWidth=J.Bf==1?x:x*2;v.miterLimit=J.M0};g.I.awE=function(J,v,h,x,o,R,r){var l=v[h],M=null;
J.moveTo(l.Z.x+o,l.Z.y+R);for(var P=h;P<h+x-1;P++){l=v[P];M=v[P+1];if(l.Z.Ym(l._v)&&M.nQ.Ym(M.Z))J.lineTo(M.Z.x+o,M.Z.y+R);
else J.bezierCurveTo(l._v.x+o,l._v.y+R,M.nQ.x+o,M.nQ.y+R,M.Z.x+o,M.Z.y+R)}if(!r){l=v[P];M=v[h];if(l.Z.Ym(l._v)&&M.nQ.Ym(M.Z))J.lineTo(M.Z.x+o,M.Z.y+R);
else J.bezierCurveTo(l._v.x+o,l._v.y+R,M.nQ.x+o,M.nQ.y+R,M.Z.x+o,M.Z.y+R)}};g.I.a0f=function(J,v){var x=[],o=v?4:1;
for(var h=0;h<J.length;h+=2){var R=new aG(J[h],J[h+1]);x.push({e:o,nQ:R.Q(),Z:R.Q(),_v:R.Q()})}return x};
g.I.amz=function(J,v,x){var o=(1-(x!=null?x:25)*.01)*10;if(o>0){for(var h=0;h<v.length;h++){var R=v[h],r=g.I.I5(J,R),l=g.I.yq(J,R),M=J.slice(r,r+l);
g.I.Ja();var P=new paper.Path;P.remove();P.closed=!0;for(var S=1;S<M.length;S++)P.add(new paper.Point(M[S].Z.x,M[S].Z.y));
var c=P.simplify(o);if(c)J.splice(r,l,...g.I.PA(P))}}return J};g.I.Ap=function(J,v,x){var o=g.b.ni(J),R=Math.sqrt(Math.sqrt(o.o()))*.2,r=.2;
J=J.slice(0);var l=J.length,M=v?0:2;for(var P=0;P<5;P++)for(var h=M;h<J.length-M;h+=2){var S=(h-2+l)%l,c=(h+2)%l,b=J[h],w=J[h+1],U=(J[S]+J[c])*.5,F=(J[S+1]+J[c+1])*.5;
J[h]=b+(U-b)*r;J[h+1]=w+(F-w)*r}if(x)return g.I.yu.pv(J,null,!v);g.I.Ja();var Y=new paper.Path;Y.remove();
Y.closed=v;for(var h=0;h<J.length;h+=2)Y.add(new paper.Point(J[h],J[h+1]));Y.simplify(R);var A=[{e:6},{e:8,all:0}];
A=A.concat(g.I.PA(Y));return A};g.I.O3=function(J,v,x){var o=J[v].length,R=J[v].e,r=0,l=J.slice(v+1,v+1+o);
for(var h=0;h<o;h++){var M=x[(h-1+o)%o],P=x[(h+1+o)%o],S=x[h];if(S!=0){var c=l[(h-1+o)%o].Z,b=l[(h+0+o)%o].Z,w=l[(h+1+o)%o].Z,U=aG.Aj(b,c),F=aG.Aj(b,w),Y=g.b.aGL(c.x,c.y,b.x,b.y,w.x,w.y,S)[0],A=Math.min(Y,M==0?U:U/2,P==0?F:F/2);
S*=A/Y;var G=g.b.aq2(c.x,c.y,b.x,b.y,w.x,w.y,S),n={e:R+1,nQ:new aG(G[2],G[3]),Z:new aG(G[2],G[3]),_v:new aG(G[4],G[5])},E={e:R+1,nQ:new aG(G[6],G[7]),Z:new aG(G[8],G[9]),_v:new aG(G[8],G[9])};
J.splice(v+r+1,1,n,E);r++;J[v].length++}r++}};g.I._J=function(J){for(var h=0;h<J.length;h++){var v=J[h],x=v.e;
if(x==1||x==2||x==4||x==5)if(!v.Z.Ym(v.nQ)||!v.Z.Ym(v._v))return!1}return!0};g.I.GC=function(J){if(J.length!=7||J[2].length!=4||!g.I._J(J))return!1;
for(var h=0;h<4;h++){var v=!0;for(var x=0;x<4;x++){var o=J[3+(h+x&3)],R=J[3+(h+x+1&3)];if(o.Z.x!=R.Z.x&&o.Z.y!=R.Z.y)v=!1}if(v)return!0}return!1};
g.I.aFW=function(J){if(J.length<6)return 0;var v=J.length-2,x=0;for(var h=0;h<v;h+=2)x+=(J[h+2]-J[h])*(J[h+1]+J[h+3]);
x+=(J[0]-J[v])*(J[v+1]+J[1]);return-x*.5};g.I.an0=function(J){J=m.e_.w2(J);var v=g.I.Eo(J);for(var x=0;
x<v;x++){var o=g.I.I5(J,x)+1,R=J[o-1].length,r=[];for(var h=0;h<R;h++){var l=J[o+h].Z;r.push(l.x,l.y)}var M=g.I.aFW(r);
if(M<0)g.I.ai_(J,o-1)}return J};g.I.ai_=function(J,v){var x=v+1,o=J[v].length,R=[];for(var h=0;h<o;h++){var r=J[x+h],l=r.nQ;
r.nQ=r._v;r._v=l;R.push(r)}for(var h=0;h<o;h++)J[x+h]=R[o-1-h]};g.I.yu={};g.I.yu.pv=function(J,v,x){var o=[{e:6},{e:8,all:0}],R=null;
o.push({e:x?3:0,da:1,length:0,RO:0,M4:0,ii:1});if(v==0||v==null)R=null;else if(v instanceof Array)R=v;
else{R=[];for(var h=0;h<J.length;h+=2)R.push(v)}o=o.concat(g.I.a0f(J,x));o[2].length=o.length-3;if(R)g.I.O3(o,2,R);
return o};g.I.yu.aG_=function(J,v,x,o,R){var r=[],l=[],M=.553,P=1,S=-1;r.push({e:1,nQ:new aG(0,M),Z:new aG(0,0),_v:new aG(0,-M)});
R+=2;for(var h=0;h<R;h++){var c={e:1};if(h==0){c.Z=new aG(1,-1);c.nQ=new aG(1-M,-1);c._v=new aG(1+M,-1)}else{var b=-(h+2)*Math.PI/2,w=1+((h&1)==1?h-1:h),U=Math.sin(b),F=Math.cos(b);
P+=w*(U-F);S+=w*(F+U);c.Z=new aG(P,S);c.nQ=new aG(P+w*F*M,S-w*U*M);if((h&1)==1)w+=2;c._v=new aG(P-w*F*M,S+w*U*M)}var Y={e:1,nQ:new aG(-c._v.x,-c._v.y),Z:new aG(-c.Z.x,-c.Z.y),_v:new aG(-c.nQ.x,-c.nQ.y)};
r.push(c);if(h<R-2)l.push(Y)}l.reverse();r=r.concat(l);var A=[{e:6},{e:8,all:0}];A.push({e:0,da:1,length:r.length,RO:0,M4:0,ii:1});
A=A.concat(r);var G=new bC(x/R,0,0,x/R,0,0);G.rotate(o);G.translate(J,v);g.I.Xi(A,G);return A};g.I.yu.Rect=function(J,v,x,o,R){var r=[J,v,J+x,v,J+x,v+o,J,v+o];
return g.I.yu.pv(r,R)};g.I.yu.We=function(J,v,x,o,R,r,l,M){var P=[],S=2*Math.PI/R;for(var h=0;h<R;h++)P.push(Math.cos(h*S-o),Math.sin(h*S-o));
if(l!=null){var c=g.b.ni(P),b=c.r,w=c.$,U=l/(b/2),F=M/(w/2);for(var h=0;h<P.length;h+=2){P[h]=(P[h]-(c.x+b/2))*U;
P[h+1]=(P[h+1]-(c.y+w/2))*F}x=1}var Y=new bC(x,0,0,x,0,0);Y.translate(J,v);g.b.u(P,Y,P);return g.I.yu.pv(P,r)};
g.I.yu.axU=function(J,v,x,o,R,r,l){var M=[],P=Math.PI/R;for(var h=0;h<R*2;h++){var S=(h&1)==0?1:l;M.push(S*Math.cos(h*P),S*Math.sin(h*P))}var c=new bC(x,0,0,x,0,0);
c.rotate(o);c.translate(J,v);g.b.u(M,c,M);return g.I.yu.pv(M,r)};g.I.yu.aY=function(J,v,x,o,R){return g.I.yu.ME(0,J,v,x,o,R)};
g.I.yu.aDf=function(J,v,x,o,R,r){return g.I.yu.ME(1,J,v,x,o,R,r)};g.I.yu.Gb=function(J,v,x,o,R,r){return g.I.yu.ME(2,J,v,x,o,R,r)};
g.I.yu.ME=function(J,v,x,o,R,r,l){var M=Math.sqrt((o-v)*(o-v)+(R-x)*(R-x)),P;r/=2;if(J==0)P=[-r,0,r,0,r,M,-r,M];
if(J==1){var S=r*2*l*1.3/1.5,c=r*l;P=[-r,0,r,0,r,M-S,c,M-S,0,M,-c,M-S,-r,M-S]}if(J==2){var S=l[3],c=l[2]/2,b=S*(2/3)*l[4]/100,w=S-b,U=S;
P=[];if(l[0])P.push(-r,w,-c,U,0,0,c,U,r,w);else if(r==0)P.push(0,0);else P.push(-r,0,r,0);if(l[1])P.push(r,M-w,c,M-U,0,M,-c,M-U,-r,M-w);
else if(r==0)P.push(0,M);else P.push(r,M,-r,M)}var F=new bC(1,0,0,1,0,0);F.rotate(Math.atan2(-R+x,o-v)+Math.PI/2);
F.translate(v,x);g.b.u(P,F,P);return g.I.yu.pv(P,0)};g.I.yu.Bd=function(J,v,x,o){var R=[{e:6},{e:8,all:0}],b=.553;
R.push({e:0,da:1,length:4,RO:0,M4:0,ii:1});var r=J,l=v,M=J+x,P=v+o,J=(r+M)/2,v=(l+P)/2,S=(r-M)/2,c=(l-P)/2;
R.push({e:1,nQ:new aG(J-b*S,v-c),Z:new aG(J,v-c),_v:new aG(J+b*S,v-c)});R.push({e:1,nQ:new aG(J+S,v-b*c),Z:new aG(J+S,v),_v:new aG(J+S,v+b*c)});
R.push({e:1,nQ:new aG(J+b*S,v+c),Z:new aG(J,v+c),_v:new aG(J-b*S,v+c)});R.push({e:1,nQ:new aG(J-S,v+b*c),Z:new aG(J-S,v),_v:new aG(J-S,v-b*c)});
return R};g.I.yu.azf=function(J,v,x,o,R){var r=[{e:6},{e:8,all:0}];r.push({e:3,da:1,length:5,RO:0,M4:0,ii:1});
var l=(R-o)/4;for(var h=0;h<5;h++){var M=h*l,P=Math.cos(M),S=Math.sin(M),c=.553*(l/(Math.PI/2)),b=S*c,w=-P*c,U=new aG(P,S);
r.push({e:4,nQ:h==0?U.Q():new aG(P+b,S+w),Z:U,_v:h==4?U.Q():new aG(P-b,S-w)})}var F=new bC;F.rotate(-o);
F.scale(x,x);F.translate(J,v);g.I.Xi(r,F);return r};g.wL={};g.wL.e={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
g.wL.akK={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
g.wL.KV=function(J){var v=J.warpStyle.v.warpStyle;if(v=="warpNone")return!0;else if(v=="warpCylinder")return!1;
else if(v=="warpCustom"){var x=!1,o=g.wL.aF6(J);for(var h=0;h<4;h++)for(var R=0;R<4;R++){var r=o[h*2]-o[(R*4+h)*2],l=o[h*4*2+1]-o[(h*4+R)*2+1];
if(r*r>1||l*l>1)x=!0}return!x}else return J.warpValue.v==0&&J.warpPerspective.v==0&&J.warpPerspectiveOther.v==0};
g.wL.aAT=function(J){var v=g.F(J);v.v.classID="quiltWarp";v.v.deformNumRows={t:"long",v:4};v.v.deformNumCols={t:"long",v:4};
if(v.v.customEnvelopeWarp)g.wL.a8s(v.v,[[0,1],[0,1]]);return v};g.wL.akD=function(J){var v;if(g.wL.V_(J.v)==16)v=g.F(J);
else v={t:"Objc",v:g.wL.C(g.wL.ca(J.v))};v.v.classID="warp";delete v.v.deformNumRows;delete v.v.deformNumCols;
var x=v.v.customEnvelopeWarp;if(x){delete x.v.quiltSliceX;delete x.v.quiltSliceY}return v};g.wL.V_=function(J){return J.deformNumRows.v*J.deformNumCols.v};
g.wL.C=function(J){var v={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(J){v.classID="quiltWarp";v.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:J.y}},Left:{t:"UntF",v:{type:"#Pxl",val:J.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:J.y+J.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:J.x+J.r}}}};
v.uOrder={t:"long",v:4};v.vOrder={t:"long",v:4};v.deformNumRows={t:"long",v:4};v.deformNumCols={t:"long",v:4}}return v};
g.wL.aru=function(J,v,x){for(var h=0;h<J.length;h+=2){var o=J[h],R=J[h+1],r=(1-v)/2,l=1-r,M=r+o*(l-r);
R=.5+(R-.5)*M*2;var P=(1-x)/2,S=1-P,c=P+R*(S-P);o=.5+(o-.5)*c*2;J[h]=o;J[h+1]=R}};g.wL.Xg=function(J,v){return{id:J,type:"UnFl",uID:"#Pxl",arr:v}};
g.wL.a8s=function(J,v){var x=g.wL.ca(J);function o(r,l){r=r.slice(0);var M=r.length,h;for(h=0;h<M;h++)r[h]*=l;
r[0]-=.6;r[M-1]+=.6;return r}var R=J.customEnvelopeWarp.v;R.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[g.wL.Xg("quiltSliceX",o(v[0],x.r))]}};
R.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[g.wL.Xg("quiltSliceY",o(v[1],x.$))]}}};g.wL.asb=function(J){var v=g.wL.ca(J);
function x(l,M){l=l.slice(0);var r=l.length,h,P=1e9,S=-P;for(h=0;h<r;h++){if(l[h]<P)P=l[h];if(l[h]>S)S=l[h]}for(h=0;
h<r;h++)l[h]=(l[h]-P)/(S-P);l[0]=0;l[r-1]=1;return l}var o=J.customEnvelopeWarp.v,R=[],r=["X","Y"];for(var h=0;
h<2;h++)R.push(x(o["quiltSlice"+(h==0?"X":"Y")].v.arr[0].arr.slice(0),h==0?v.r:v.$));return R};g.wL.azT=function(J,v){var x=[],o=[];
for(var h=0;h<v.length;h+=2){x.push(v[h]);o.push(v[h+1])}J.customEnvelopeWarp.v.meshPoints.v.arr=[g.wL.Xg("Hrzn",x),g.wL.Xg("Vrtc",o)]};
g.wL.aF6=function(J){var v=[],x=J.customEnvelopeWarp.v.meshPoints.v.arr,o=x[0].arr,R=x[1].arr;for(var h=0;
h<o.length;h++)v.push(o[h],R[h]);return v};g.wL.Um=function(J,v){var x,o=J.warpStyle.v.warpStyle;if(o=="warpCustom")x=[J.deformNumCols.v,J.deformNumRows.v,g.wL.asb(J),g.wL.aF6(J)];
else{if(v==null)v=g.wL.ca(J);if(v.L3())v.r=v.$=1;if(o=="warpCylinder"){var R=H.ge.t1(J.warpValues);x=g.wL.wL(o,R)}else{var r="warpPerspective";
x=g.wL.wL(o,J.warpValue.v/100,J.warpRotate.v.Ornt=="Hrzn",J[r].v/100,J[r+"Other"].v/100,v.r/v.$)}g.wL.ag1(x[3],v)}return x};
g.wL.ag1=function(J,v){for(var h=0;h<J.length;h+=2){J[h]=v.x+J[h]*v.r;J[h+1]=v.y+J[h+1]*v.$}};g.wL.a7z=function(J){var v=Math.sin(J*Math.PI/2),x=Math.pow(J,1/3.5),o=(1-J)*v+J*x;
o=Math.pow(o,1.045);var R=.1725+.0573*o,r=1-(.96*v+.04*x);r=Math.pow(r,1.27);var l=1/129+(.167684-1/129)*r;
return[R,l]};g.wL.vf=function(J,v){J.warpStyle.v.warpStyle="warpCustom";J.deformNumCols.v=v[0];J.deformNumRows.v=v[1];
var x="customEnvelopeWarp";if(J[x]==null)J[x]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
g.wL.a8s(J,v[2]);g.wL.azT(J,v[3])};g.wL.ca=function(J){var v=J.bounds.v,x=v.Left.v.val,o=v.Rght.v.val,R=v.Top.v.val,r=v.Btom.v.val;
if(x==null){x=v.Left.v,o=v.Rght.v;R=v.Top.v,r=v.Btom.v}return new jj(x,R,o-x,r-R)};g.wL.wL=function(J,v,x,o,R,r){if(J=="warpCylinder"){var l=v,M=l[0],P=l[1],S=l[2],c=l[3],b=l[4],w=l[5],U=l[6],F=[];
for(var Y=0;Y<4;Y++)for(var A=0;A<13;A++)F.push(A/12,Y/3);var G=S-M,n=P-c,E=b*.5*(G/n),K=w*.5*(G/n),e=g.wL.a7z(U),$=[0,0,0,0,0,e[0],.5],N=[0,0,0,0,E*.42,E,E],k=[0,0,0,0,K*.42,K,K];
for(var Y=0;Y<4;Y++)for(var A=0;A<7;A++){var h=Y*13+A;F[h*2]=$[A];var V=N[A],X=1+k[A],Q=Y/3;F[h*2+1]=V*(1-Q)+X*Q}for(var Y=0;
Y<4;Y++)for(var A=0;A<6;A++){var h=Y*13+A,L=Y*13+12-A;F[L*2]=1-F[h*2];F[L*2+1]=F[h*2+1]}var Q=e[1];return[13,4,[[0,Q,.5,1-Q,1],[0,1]],F]}var _=g.ZH.C(0,0,1,1);
if(J!="warpNone"){if(!x)r=1/r;g.wL.a0u(_,J,v,o,R,r);var a=_.slice(0);if(!x)for(var Y=0;Y<4;Y++)for(var A=0;
A<4;A++){_[(Y*4+A)*2]=a[(A*4+Y)*2+1];_[(Y*4+A)*2+1]=a[(A*4+Y)*2]}if(v==0)g.wL.aru(_,o,R);else{var T=new bC;
T.translate(-.5,-.5);g.b.u(_,T,_);g.wL.avW(_,R,o);T.SV();g.b.u(_,T,_)}}return[4,4,[[0,1],[0,1]],_]};
g.wL.a0u=function(J,v,x,o,R,r){var l=new jj(0,0,r,1);for(var h=0;h<J.length;h+=2)J[h]*=r;for(var h=0;
h<4;h++){for(var M=0;M<4;M++){var P=2*(4*h+M),S=J[P]-l.x,c=J[P+1]-l.y,b=S,w=c;if(x!=0){var U=l.r/2,F=l.$/2;
b-=U;w-=F;var Y=b,A=b,G=-F,n=F,E=Math.abs(x),K=Math.tan((1-E)*Math.PI/2),e=Math.sqrt(K*K+1),$=Math.atan2(1,K),N=b/U*$,k=U*e,V=U*e+l.$,X=Math.cos($),Q=Math.sin($),L=g.wL.aEk(X,Q),_=g.wL.a5z(X,Q),a=-K*U+L*k;
if(v=="warpArc"){Y=Math.sin(N)*V;G=K*U-Math.cos($)*V+F;A=Math.sin(N)*k;n=K*U-Math.cos($)*k+F;if(M==1||M==2){Y=M==1?-_*V:_*V;
A=M==1?-_*k:_*k;G=K*U+F-L*V;n=K*U+F-L*k}if(x<0){var T=Y;Y=A;A=T;T=G;G=-n;n=-T}}if(v=="warpArcLower"){if(M==1||M==2){A=M==1?-_*k:_*k;
n=x<0?F-a:F+a}}if(v=="warpArcUpper"||v=="warpArch"||v=="warpBulge"){if(M==1||M==2){Y=M==1?-_*k:_*k;G=x<0?-F+a:-F-a}if(v=="warpArch"){A=Y;
n=G+2*F}if(v=="warpBulge"){A=Y;n=-G}}if(v=="warpFish"||v=="warpFlag"||v=="warpWave"){var f=M;if(v=="warpFlag")f=3-M;
if(f==1){G-=x*4*F;n+=x*4*F}if(f==2){G+=x*4*F;n-=x*4*F}if(v=="warpFlag"||v=="warpWave")G=n-2*F}if(v=="warpRise"){if(M<2)G=-F+x*F*4;
n=G+2*F}var Z=(w+F)/l.$;b=Y+Z*(A-Y);w=G+Z*(n-G);if(v=="warpWave"){if(h==0)w=-F;if(h==3)w=F;if(h==1||h==2)w=2*F*(h/3-.5)*(1/3)+w*(2/3)}if(v=="warpFisheye"){if((h==1||h==2)&&(M==1||M==2)){b=b+4*b*x;
w=w+4*w*x}}if(v=="warpInflate"){var W=2/3;if((h==1||h==2)&&(M==1||M==2)){b=b+.5*b*x;w=w+.5*w*x}else if(h==1||h==2)b=b+W*b*x;
else if(M==1||M==2)w=w+W*w*x}if(v=="warpSqueeze"){var W=2/3;if((h==1||h==2)&&(M==1||M==2)){if(x>0)b=b-W*b*x;
else w=w+W*w*x}else if(h==1||h==2)b=b-W*b*x;else if(M==1||M==2)w=w+W*w*x}if(v=="warpTwist"){if((h==1||h==2)&&(M==1||M==2)){var D=x*Math.PI/2,e=1+Math.abs(x)*2,C=b*Math.cos(D)-w*Math.sin(D),d=b*Math.sin(D)+w*Math.cos(D);
b=C*e;w=d*e}}if(v=="warpShellLower"||v=="warpShellUpper"){if(v=="warpShellUpper"){h=3-h;w=-w}if(h>2||h==2&&(M==0||M==3)){if(x>0){var p=k+h/3*2*F;
b=Math.sin(N)*p;w=-K*U-F+Math.cos(N)*p;if(M==1||M==2){b=M==1?-_*p:_*p;w=-K*U-F+L*p}}else{if((M==1||M==2)&&h==3){b=M==1?-_*k:_*k;
w=K*U-L*k+F}else if(h==2){w=F-F*(2/3)*Math.cos(N);b=b+F*(2/3)*Math.sin(N)}}}if(v=="warpShellUpper"){h=3-h;
w=-w}}b+=U;w+=F}S=b,c=w;J[P]=S+l.x;J[P+1]=c+l.y}}for(var h=0;h<J.length;h+=2)J[h]/=r};g.wL.avW=function(J,v,x){var o=[];
for(var R=0;R<4;R++)o.push(1-x+R/3*2*x);var r=[];for(var R=0;R<4;R++)r.push(1-v+R/3*2*v);var l=[0,0,0,0],M=[0,0,0,0];
for(var h=0;h<4;h++)for(var R=0;R<4;R++){var P=2*(4*h+R),S=J[P],c=J[P+1];l[R]+=S/4;M[R]+=c/4}for(var h=0;
h<4;h++)for(var R=0;R<4;R++){var b=o[R],P=2*(4*h+R),S=J[P],c=J[P+1],w=l[R],U=M[R];J[P]=w+b*(S-w);J[P+1]=U+b*(c-U)}var F=J.slice(0);
for(var h=0;h<4;h++)for(var R=1;R<3;R++){var P=2*(4*h+R),S=J[P],c=J[P+1],Y=P+(R==1?-2:2),A=J[Y],G=J[Y+1];
J[P]=S-A;J[P+1]=c-G}var n=J[0],E=J[1],K=J[8],e=J[9],$=J[16],N=J[17],k=J[24],V=J[25],X=J[6],Q=J[7],L=J[14],_=J[15],a=J[22],T=J[23],f=J[30],Z=J[31],W=X-n,D=Q-E,C=L-K,d=_-e,p=a-$,y=T-N,i=f-k,t=Z-V;
for(var h=0;h<4;h++){var O=2*h*4,q=0,z=0,jw=h==1?.33:.66,u=1-jw;if(h==0){q=W;z=D}if(h==1){q=u*W+jw*-i;
z=u*D+jw*-t}if(h==2){q=u*W+jw*-i;z=u*D+jw*-t}if(h==3){q=-i;z=-t}J[O]=J[O]+q/2;J[O+1]=J[O+1]+z/2;J[O+6]=J[O+6]-q/2;
J[O+7]=J[O+7]-z/2}for(var h=0;h<4;h++)for(var R=1;R<3;R++){var P=2*(4*h+R),S=J[P],c=J[P+1],Y=P+(R==1?-2:2),A=J[Y],G=J[Y+1],b=2*h/3;
J[P]=A+b*S;J[P+1]=G+b*c}for(var h=1;h<3;h++)for(var R=1;R<3;R++){var P=2*(4*h+R),S=J[P],c=J[P+1],iH=h==1?-8:-16,s=h==1?16:8,bV=J[P+iH],jU=J[P+iH+1],hx=J[P+s],eX=J[P+s+1],b=h/3;
S=(1-b)*bV+b*hx;c=(1-b)*jU+b*eX;J[P]=S;J[P+1]=c}g.b.azg(F,J,J,v)};g.wL.aEk=function(J,v){return(4-J)*(1/3)};
g.wL.a5z=function(J,v){return(1-J)*(3-J)/(3*v)};var gk={};gk.awH={x:.34567,y:.3585};gk.aik=[{z:0,M9:.18006,Bl:.26352,t:-.24341},{z:10,M9:.18066,Bl:.26589,t:-.25479},{z:20,M9:.18133,Bl:.26846,t:-.26876},{z:30,M9:.18208,Bl:.27119,t:-.28539},{z:40,M9:.18293,Bl:.27407,t:-.3047},{z:50,M9:.18388,Bl:.27709,t:-.32675},{z:60,M9:.18494,Bl:.28021,t:-.35156},{z:70,M9:.18611,Bl:.28342,t:-.37915},{z:80,M9:.1874,Bl:.28668,t:-.40955},{z:90,M9:.1888,Bl:.28997,t:-.44278},{z:100,M9:.19032,Bl:.29326,t:-.47888},{z:125,M9:.19462,Bl:.30141,t:-.58204},{z:150,M9:.19962,Bl:.30921,t:-.70471},{z:175,M9:.20525,Bl:.31647,t:-.84901},{z:200,M9:.21142,Bl:.32312,t:-1.0182},{z:225,M9:.21807,Bl:.32909,t:-1.2168},{z:250,M9:.22511,Bl:.33439,t:-1.4512},{z:275,M9:.23247,Bl:.33904,t:-1.7298},{z:300,M9:.2401,Bl:.34308,t:-2.0637},{z:325,M9:.24792,Bl:.34655,t:-2.4681},{z:350,M9:.25591,Bl:.34951,t:-2.9641},{z:375,M9:.264,Bl:.352,t:-3.5814},{z:400,M9:.27218,Bl:.35407,t:-4.3633},{z:425,M9:.28039,Bl:.35577,t:-5.3762},{z:450,M9:.28863,Bl:.35714,t:-6.7262},{z:475,M9:.29685,Bl:.35823,t:-8.5955},{z:500,M9:.30505,Bl:.35907,t:-11.324},{z:525,M9:.3132,Bl:.35968,t:-15.628},{z:550,M9:.32129,Bl:.36011,t:-23.325},{z:575,M9:.32931,Bl:.36038,t:-40.77},{z:600,M9:.33724,Bl:.36051,t:-116.45}];
gk.aEi=function(J){var v=gk.aik,x=2*J.x/(1.5-J.x+6*J.y),o=3*J.y/(1.5-J.x+6*J.y),R=0,r=0,l=0;for(;l<31;
l++){R=o-v[l].Bl-v[l].t*(x-v[l].M9);if(l>0&&R<0){break}r=R}while(l>=v.length)l--;R/=Math.sqrt(1+v[l].t*v[l].t);
r/=Math.sqrt(1+v[l-1].t*v[l-1].t);var M=r/(r-R),P=1e6/((v[l].z-v[l-1].z)*M+v[l-1].z),S=x-((v[l].M9-v[l-1].M9)*M+v[l-1].M9),c=o-((v[l].Bl-v[l-1].Bl)*M+v[l-1].Bl),b=Math.sqrt(1+v[l].t*v[l].t),w=1/b,U=v[l].t/b,F=Math.sqrt(1+v[l-1].t*v[l-1].t),Y=1/F,A=v[l-1].t/F,G=(w-Y)*M+Y,n=(U-A)*M+A,E=Math.sqrt(G*G+n*n);
G/=E;n/=E;var K=(S*G+c*n)*-3e3;return{d5:P,A0:K}};gk.O$=function(J,v){var x=gk.aik,o=1e6/J,R=1;for(;
R<31;R++){if(o<x[R].z){break}}var r=(x[R].z-o)/(x[R].z-x[R-1].z),l=(x[R-1].M9-x[R].M9)*r+x[R].M9,M=(x[R-1].Bl-x[R].Bl)*r+x[R].Bl,P=Math.sqrt(1+x[R].t*x[R].t),S=1/P,c=x[R].t/P,b=Math.sqrt(1+x[R-1].t*x[R-1].t),w=1/b,U=x[R-1].t/b,F=(w-S)*r+S,Y=(U-c)*r+c,A=Math.sqrt(F*F+Y*Y);
F/=A;Y/=A;l+=F*v/-3e3;M+=Y*v/-3e3;return{x:1.5*l/(l-4*M+2),y:M/(l-4*M+2)}};gk.aqp=function(J){var v=J[0]+J[1]+J[2];
return{x:J[0]/v,y:J[1]/v}};gk.hh=function(J){return{x:J.x/J.y,y:1,ZM:(1-J.x-J.y)/J.y}};gk.aAj=function(J,v){var x=g.$G.ya([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),o=[J.x,J.y,J.ZM,0],R=[v.x,v.y,v.ZM,0];
o=g.$G.Gr(x,o);R=g.$G.Gr(x,R);var r=R[0]/o[0],l=R[1]/o[1],M=R[2]/o[2],P=g.$G.ya([r,0,0,0,l,0,0,0,M]),S=g.$G.SV(x);
return g.$G.multiply(g.$G.multiply(S,P),x)};g.xf={};g.xf.a8F=function(J,v,x,o,R,r,l,M,P,S){for(var c=0;
c<M;c++)for(var b=0;b<l;b++){var w=3*(c*l+b),U=c+r,F=b+R,Y=J[U*v+F];o[w]=Y;o[w+1]=Y;o[w+2]=Y}};g.xf.f0=function(J,v,x,o,R,r,l,M,P,S){var c=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],b=1/P,w=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],U=new Uint32Array(6);
for(var F=0;F<M;F++){for(var Y=0;Y<l;Y++){var A=3*(F*l+Y),G=F+r,n=Y+R;U[0]=0;U[1]=0;U[2]=0;U[3]=0;U[4]=0;
U[5]=0;for(var h=0;h<16;h+=2){var E=n+w[h],K=G+w[h+1],e=E-P*~~(E*b),$=K-P*~~(K*b),N=S[$*P+e];U[N]+=J[K*v+E];
U[N+3]++}var E=n,K=G,e=E-P*~~(E*b),$=K-P*~~(K*b),N=S[$*P+e];U[N]=J[G*v+n];U[N+3]=1;o[A]=U[0]*c[U[3]];
o[A+1]=U[1]*c[U[4]];o[A+2]=U[2]*c[U[5]]}}};g.xf.aqU=function(J,v,x){for(var h=0;h<x;h+=2)J[v+h]=J[v+h+1];
v=v+x;for(var h=0;h<x;h+=2)J[v+h+1]=J[v+h]};g.xf.aaJ=function(J,v,x,o){for(var h=0;h<o;h+=2){var R=v+h*x;
J[R]=J[R+x];J[R+x+1]=J[R+1]}};g.xf.adA=function(J,v,x,o,R,r){var l=o[R],M=o[R+1],P=o[r],S=o[r+1],c=M+P>>>1;
J[v]=J[v+3]=J[x]=J[x+3]=l;J[v+1]=c;J[v+4]=M;J[x+1]=P;J[x+4]=c;J[v+2]=J[v+5]=J[x+2]=J[x+5]=S};g.xf.a4P=function(J,v,x,o,R,r){var l=r*3;
for(var h=0;h<r;h+=2){var M=v+h,P=R+h*3;g.xf.adA(o,P,P+l,J,M,M+x)}};g.xf.arF=function(J,v,x,o,R,r,l){var M=r*3;
for(var h=0;h<l;h+=2){var P=v+h*x,S=R+h*r*3;g.xf.adA(o,S,S+M,J,P,P+x)}};g.xf.a7m=function(J,h,v){var x=J[h-v-v],o=J[h-v],R=J[h-2],r=J[h-1],l=J[h],M=J[h+1],P=J[h+2],S=J[h+v],c=J[h+v+v],b=Math.abs(o-S),w=Math.abs(r-M),U=Math.abs(l-x)*2+b,F=Math.abs(l-P)*2+w,Y=Math.abs(l-R)*2+w,A=Math.abs(l-c)*2+b,G=Math.min(U,Math.min(F,Math.min(Y,A)));
if(G==U)return o*3+S+l-x>>2;if(G==F)return M*3+r+l-P>>2;if(G==Y)return r*3+M+l-R>>2;return S*3+o+l-c>>2};
g.xf.FO=function(J,v,x,o,R){if(J<v&&v<x||J>v&&v>x)return~~(.5+o+(R-o)*(v-J)/(x-J));else return(o+R>>1)+(v+v-J-x>>2)};
g.xf.ab8=function(J,v,h,x){var o=v[h-x-1],R=v[h-x+1],r=v[h],l=v[h+x-1],M=v[h+x+1],P=J[h-x-1],S=J[h-x+1],c=J[h],b=J[h+x-1],w=J[h+x+1],U=Math.abs(S-b)+Math.abs(J[h-x-x+2]-c)+Math.abs(c-J[h+x+x-2])+Math.abs(R-r)+Math.abs(r-l),F=Math.abs(P-w)+Math.abs(J[h-x-x-2]-c)+Math.abs(c-J[h+x+x+2])+Math.abs(o-r)+Math.abs(r-M);
if(U<F)return g.xf.FO(R,r,l,S,b);else return g.xf.FO(o,r,M,P,w)};g.xf.S8=function(J,v,x,o,R,r){J[v+0]=x[R];
J[v+1]=o[R];J[v+2]=g.xf.ab8(x,o,R,r)};g.xf.gm=function(J,v,x,o,R,r){var l=o[R];J[v+0]=g.xf.FO(o[R-1],l,o[R+1],x[R-1],x[R+1]);
J[v+1]=l;J[v+2]=g.xf.FO(o[R-r],l,o[R+r],x[R-r],x[R+r])};g.xf.s5=function(J,v,x,o,R,r){var l=o[R];J[v+0]=g.xf.FO(o[R-r],l,o[R+r],x[R-r],x[R+r]);
J[v+1]=l;J[v+2]=g.xf.FO(o[R-1],l,o[R+1],x[R-1],x[R+1])};g.xf.mr=function(J,v,x,o,R,r){J[v+0]=g.xf.ab8(x,o,R,r);
J[v+1]=o[R];J[v+2]=x[R]};g.xf.aEs=function(J,v,x,o,R,r,l,M,P){var S=Date.now(),c=2,b=v-2,w=2;if((R&1)==1){c++;
b--}var U=x-2;if((r&1)==1){w++;U--}if(P==1||P==3){c++;b--}var F=J.slice(0);g.xf.aqU(F,0,v);g.xf.aaJ(F,0,v,x);
g.xf.aaJ(F,v-2,v,x);g.xf.aqU(F,(x-2)*v,v);for(var Y=w;Y<U;Y+=2)for(var A=c;A<b;A+=2){var h=Y*v+A,G=g.xf.a7m(F,h,v),n=g.xf.a7m(F,h+v+1,v);
F[h]=Math.max(0,G);F[h+v+1]=Math.max(0,n)}var E=l,K=M;if(r+M==x){K-=2;g.xf.a4P(J,(x-2)*v+R,v,o,(M-2)*l*3,l)}if(R+l==v){E-=2;
g.xf.arF(J,r*v+R+l-2,v,o,(l-2)*3,l,M)}if(P==0)for(var Y=0;Y<K;Y+=2)for(var A=0;A<E;A+=2){var e=(Y+r)*v+A+R,$=(Y*l+A)*3;
g.xf.S8(o,$,J,F,e,v);g.xf.gm(o,$+3,J,F,e+1,v);e+=v;$+=3*l;g.xf.s5(o,$,J,F,e,v);g.xf.mr(o,$+3,J,F,e+1,v)}else if(P==1)for(var Y=0;
Y<K;Y+=2)for(var A=0;A<E;A+=2){var e=(Y+r)*v+A+R,$=(Y*l+A)*3;g.xf.gm(o,$,J,F,e,v);g.xf.S8(o,$+3,J,F,e+1,v);
e+=v;$+=3*l;g.xf.mr(o,$,J,F,e,v);g.xf.s5(o,$+3,J,F,e+1,v)}else if(P==2)for(var Y=0;Y<K;Y+=2)for(var A=0;
A<E;A+=2){var e=(Y+r)*v+A+R,$=(Y*l+A)*3;g.xf.mr(o,$,J,F,e,v);g.xf.s5(o,$+3,J,F,e+1,v);e+=v;$+=3*l;g.xf.gm(o,$,J,F,e,v);
g.xf.S8(o,$+3,J,F,e+1,v)}else if(P==3)for(var Y=0;Y<K;Y+=2)for(var A=0;A<E;A+=2){var e=(Y+r)*v+A+R,$=(Y*l+A)*3;
g.xf.s5(o,$,J,F,e,v);g.xf.mr(o,$+3,J,F,e+1,v);e+=v;$+=3*l;g.xf.S8(o,$,J,F,e,v);g.xf.gm(o,$+3,J,F,e+1,v)}};
g.raw={};g.raw.ayZ=function(J){var v=Date.now(),x=J.width,o=J.height,R=0,r=0,l=x,M=o;if(J.t50829){var P=J.t50829;
R=P[1];r=P[0];l=P[3];M=P[2]}if(J.t50720&&J.t50720[0]*1.2>x){if(J.t50719){var S=J.t50719;R+=S[0]>>1<<1;
r+=S[1]>>1<<1}if(J.t50720){var c=J.t50720;l=R+c[0];M=r+c[1]}}var b=l-R,w=M-r,U=g.raw.akw(J),F=J.t33422,Y=J.t33421;
if(Y){var c=Y[0],A=F.slice(0);for(var G=0;G<c;G++)for(var n=0;n<c;n++){var E=(n+(R&1))%c,K=(G+(r&1))%c;
A[G*c+n]=F[K*c+E]}F=A}if(J.t277[0]==1&&F)g.raw.a3l(U,x,o,J,F);g.raw.eC(2,J,U,x,o);var e=new Float32Array(b*w*3);
if(J.t277[0]==1){if(Y==null){g.xf.a8F(U,x,o,e,R,r,b,w)}else if(Y.length!=2||Y[0]!=2||Y[1]!=2){console.log("Unknown CFA pattern size",Y);
g.xf.f0(U,x,o,e,R,r,b,w,Y[0],F)}else{var $=J.t33422.join(","),N=0;if($=="0,1,1,2")N=0;else if($=="1,0,2,1")N=1;
else if($=="2,1,1,0")N=2;else if($=="1,2,0,1")N=3;else throw"Unknown CFA pattern "+$;if((b&1)!=0||(w&1)!=0)throw"e";
g.xf.aEs(U,x,o,e,R,r,b,w,N)}}else{for(var G=0;G<w;G++)for(var n=0;n<b;n++){var k=((G+r)*x+n+R)*3,V=(G*b+n)*3;
e[V+0]=U[k+0];e[V+1]=U[k+1];e[V+2]=U[k+2]}}var X=e,Q=e.length,L=g.raw.uG(J),_=1/L;for(var h=0;h<Q;h+=3){e[h]=X[h]*_;
e[h+1]=X[h+1]*_;e[h+2]=X[h+2]*_}g.raw.eC(3,J,e,b,w);var a=J.WD,T=b,f=w;if(a==1||a==9){}else{var Z=g.raw.as7(a,b,w),V=0;
T=Z[0];f=Z[1];var W=e.slice(0);for(var G=0;G<f;G++)for(var n=0;n<T;n++){var D=Z[2]*n+Z[3]*G+Z[4],C=Z[5]*n+Z[6]*G+Z[7],k=(C*b+D)*3;
e[V]=W[k];e[V+1]=W[k+1];e[V+2]=W[k+2];V+=3}}return{r3:e,aD9:T,aEC:f}};g.raw.as7=function(J,v,x){var o=v,R=x;
if(!1){}else if(J==0)return[x,v,0,-1,v-1,1,0,0];else if(J==2)return[v,x,-1,0,v-1,0,1,0];else if(J==3)return[v,x,-1,0,v-1,0,-1,x-1];
else if(J==4)return[v,x,1,0,0,0,-1,x-1];else if(J==5)return[x,v,0,1,0,1,0,0];else if(J==6)return[x,v,0,1,0,-1,0,x-1];
else if(J==7)return[x,v,0,-1,v-1,-1,0,x-1];else if(J==8)return[x,v,0,-1,v-1,1,0,0];else throw"unknown orientation "+J};
g.raw.a3l=function(J,v,x,o,R){var r=Date.now(),_=0,f=0;if(g.raw.uG(o)>4e4){for(var h=0;h<J.length;h++)J[h]>>=1;
var l=["t50714","t50715","t50712","t50717"];for(var h=0;h<l.length;h++){var M=o[l[h]];if(M)for(var P=0;
P<M.length;P++)M[P]>>>=1}console.log("remapping to lower bit depth")}var S=~~Math.sqrt(R.length),c=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],b=[];
for(var w=0;w<S;w++)for(var U=0;U<S;U++){var h=w*S+U,F=R[h],Y=4,A=4,G=8,n=0,E=0;for(var P=0;P<18;P+=2){var K=(S+U+c[P])%S,e=(S+w+c[P+1])%S,$=R[e*S+K];
if($==F){}else if(Y==4){Y=$;n=P}else if(A==4&&$!=Y){A=$;E=P;break}}if(A<Y){var N=A;A=Y;Y=N;N=E;E=n;n=N}if(Y<F){var N=Y;
Y=F;F=N;N=n;n=G;G=N}if(A<Y){var N=A;A=Y;Y=N;N=E;E=n;n=N}b[h*3]=c[G+1]*v+c[G];b[h*3+1]=c[n+1]*v+c[n];
b[h*3+2]=c[E+1]*v+c[E]}var k=~~(.996*g.raw.uG(o)),V=~~(.992*g.raw.uG(o)),X=o.t50728;if(X==null||X[0]==0)X=[1,1,1];
var Q=[],L=[0,0,0];for(var w=1;w<x-1;w++)for(var U=1;U<v-1;U++){var h=w*v+U,a=w%S*S+U%S,F=J[h+b[a*3+0]],Y=J[h+b[a*3+1]],A=J[h+b[a*3+2]],T=Math.max(F,Y,A);
if(T>k)Q.push(h);else if(T>V){L[0]+=F;L[1]+=Y;L[2]+=A;_++}}if(Q.length==0)return;if(_/(v*x)<1e-5){console.log("not enough semi-saturated pixels",_);
L=X}if(L[1]<L[f])f=1;if(L[2]<L[f])f=2;var Z=[L[0]/L[f],L[1]/L[f],L[2]/L[f]],W=J.slice(0);for(var D=0;
D<Q.length;D++){var h=Q[D],w=~~(h/v),U=h-w*v,a=w%S*S+U%S,C=Math.min(65535,~~(J[h+b[a*3+f]]*Z[R[a]]));
if(C>W[h])W[h]=C}J.set(W)};g.raw.p2=function(J,v,x,o,R){console.log(R);var r=gk.O$(o[0],o[1]),l=g.raw.ap9(x,r),M=[g.$G.qU,g.$G.auH,g.$G.adb,g.$G.aeD][R],P=g.$G.multiply(M,l),S=Math.pow(2,o[2]+(x.t50730?x.t50730[0]:0));
P=g.$G.multiply(P,g.$G.RE(S,S,S));var c=g.raw.p2.axj[R];if(c==null){c=g.raw.p2.axj[R]=new Float32Array(5e3);
var b=1/[2.4,2.1992,1.8,2.4][R];if(R==0||R==3)for(var h=0;h<5e3;h++)c[h]=g.hR(h*(1/4e3));else for(var h=0;
h<5e3;h++)c[h]=Math.pow(h*(1/4e3),b)}var w=J.length;for(var h=0;h<w;h+=4){var U=J[h],F=J[h+1],Y=J[h+2],A=P[0]*U+P[1]*F+P[2]*Y,G=P[4]*U+P[5]*F+P[6]*Y,n=P[8]*U+P[9]*F+P[10]*Y;
if(A<0)A=0;else if(A>1)A=1;if(G<0)G=0;else if(G>1)G=1;if(n<0)n=0;else if(n>1)n=1;v[h]=c[~~(A*4e3)];v[h+1]=c[~~(G*4e3)];
v[h+2]=c[~~(n*4e3)]}};g.raw.p2.axj=[];g.raw.akw=function(J){var v=J.width,x=J.height,o=v*x*J.t277,R=new Uint16Array(o),r=null,l=0;
g.raw.at2(J,R);g.raw.eC(1,J,R,v,x);if(J.t50712){r=J.t50712;l=r.length-1;if(r[l]>65535)throw"too big values"}var M=g.raw.a8d(J),P=g.raw.aCO(J);
if(r==null)for(var h=0;h<o;h++)R[h]=Math.max(0,R[h]-M);else for(var h=0;h<o;h++){var S=R[h];if(S>l)S=l;
S=r[S];R[h]=Math.max(0,S-M)}return R};g.raw.a8d=function(J){var v=J.t50714,x=v?v[0]:0,o=J.t50715,R=J.t50716;
if(o)x+=o[0][0]/o[0][1];if(R)x+=R[0][0]/R[0][1];return Math.round(x)};g.raw.aCO=function(J){var v=null,x=0;
if(J.t50712){v=J.t50712;x=v.length-1}var o=J.t50717?J.t50717[0]:(1<<J.t258[0])-1;if(v)o=Math.min(o,v[x]);
return o};g.raw.uG=function(J){var v=g.raw.a8d(J),x=g.raw.aCO(J);return x-v};g.raw.at2=function(J,v){var x=v.length,o=J.data,R=J.t258[0];
if(R!=16&&R!=14&&R!=12&&R!=10&&R!=8)throw"Unsupported Bits Per Sample:"+R;R=Math.round(o.length*8/x);
if(R==16&&J.isLE){g.oj(o,v);return}for(var h=0;h<x;h+=2){var r=0,l=0,M=0;if(R==16){r=h<<1;l=o[r]<<8|o[r+1];
M=o[r+2]<<8|o[r+3]}else if(R==14){var P=h*14,S=P>>>3,c=o[S]<<24|o[S+1]<<16|o[S+2]<<8|o[S+3];if((P&7)==0){l=c>>>18;
M=c>>>4&16383}else{l=c>>>14&16383;M=c&16383}}else if(R==12){r=h+(h>>>1);l=o[r]<<4|o[r+1]>>4;M=(o[r+1]&15)<<8|o[r+2]}else if(R==10){var P=h*10,S=P>>>3;
if((P&7)==0){l=(o[S]<<2|o[S+1]>>6)&1023;M=(o[S+1]<<4|o[S+2]>>4)&1023}else{l=(o[S]<<6|o[S+1]>>2)&1023;
M=(o[S+1]<<8|o[S+2]>>0)&1023}}else if(R==8){r=h;l=o[r];M=o[r+1]}v[h]=l;v[h+1]=M}};g.raw.afo=function(J,v,x,o,R,r,l){var M=J-.499999,P=v-.499999,S=~~M,c=~~P,b=M-S,w=P-c,U=(1-w)*(1-b),F=(1-w)*b,Y=w*(1-b),A=w*b,G=(c*o+S)*3,n=((c+1)*o+S)*3,E=U*x[G]+F*x[G+3]+Y*x[n]+A*x[n+3],K=U*x[G+1]+F*x[G+4]+Y*x[n+1]+A*x[n+4],e=U*x[G+2]+F*x[G+5]+Y*x[n+2]+A*x[n+5];
r[l]=E;r[l+1]=K;r[l+2]=e};g.raw.eC=function(J,v,x,o,R){var r=v["t"+[51008,51009,51022][J-1]],c=0;if(r==null)return;
var l=o*R,M=I.m7,P=I.gM,S=new Uint8Array(r),fg=I.m7(S,c);c+=4;for(var b=0;b<fg;b++){var w=M(S,c);c+=4;
var U=M(S,c);c+=4;var F=M(S,c);c+=4;var Y=M(S,c);c+=4;if(!1){}else if(w==1&&J==3){var A=c,G=M(S,A);A+=4;
var n=P(S,A);A+=8;var E=P(S,A);A+=8;var K=P(S,A);A+=8;var e=P(S,A);A+=8;var $=P(S,A);A+=8;var N=P(S,A);
A+=8;A+=(G-1)*8*6;var k=P(S,A);A+=8;var V=P(S,A);A+=8;var X=k*o,Q=V*R,L=Math.max(X,o-X),_=Math.max(Q,R-Q),a=Math.sqrt(L*L+_*_),T=1/a,f=x.slice(0);
for(var Z=0;Z<R;Z++)for(var W=0;W<o;W++){var D=(W+.5-X)*T,C=(Z+.5-Q)*T,d=D*D+C*C,p=n+E*d+K*(d*d)+e*(d*d)*d,y=$*(2*D*C)+N*(d+2*D*D),i=N*(2*D*C)+$*(d+2*C*C),t=Math.min(X+a*(p*D+y),o-1),O=Math.min(Q+a*(p*C+i),R-1),q=(Z*o+W)*3;
g.raw.afo(t,O,f,o,R,x,q)}}else if(w==3&&J==3){var A=c,z=P(S,A);A+=8;var jw=P(S,A);A+=8;var u=P(S,A);
A+=8;var iH=P(S,A);A+=8;var s=P(S,A);A+=8;var k=P(S,A);A+=8;var V=P(S,A);A+=8;var X=k*o,Q=V*R,L=Math.max(X,o-X),_=Math.max(Q,R-Q),a=Math.sqrt(L*L+_*_),T=1/a;
for(var Z=0;Z<R;Z++)for(var W=0;W<o;W++){var D=(W+.5-X)*T,C=(Z+.5-Q)*T,d=D*D+C*C,bV=1+(z+(jw+(u+(iH+s*d)*d)*d)*d)*d,q=(Z*o+W)*3;
x[q]=bV*x[q];x[q+1]=bV*x[q+1];x[q+2]=bV*x[q+2]}}else if(w==4&&J==1){var A=c,jU=M(S,A);A+=4;var hx=M(S,A);
A+=4;for(var h=0;h<l;h++)if(x[h]==jU)x[h]=x[h-2]+x[h+2]>>1}else if(w==5&&J==1){var A=c,eX=M(S,A);A+=4;
var et=M(S,A);A+=4;var f7=M(S,A);A+=4;for(var h=0;h<et;h++){var iY=M(S,A);A+=4;var cd=M(S,A);A+=4;var h=iY*o+cd;
x[h]=x[h-2]+x[h+2]>>1}}else if(w==7&&J==1){var A=c,jV=I.hT(S,A);A+=16;var g2=M(S,A);A+=4;var gV=M(S,A);
A+=4;var fD=M(S,A),j4=M(S,A+4);A+=8;var dQ=M(S,A);A+=4;var eO=new Uint16Array(dQ);for(var h=0;h<dQ;h++)eO[h]=I.H1(S,A+2*h);
var a7=jV.r,cc=jV.$;for(var Z=0;Z<cc;Z+=fD)for(var W=0;W<a7;W+=j4){var h=(jV.y+Z)*o+(jV.x+W);x[h]=eO[x[h]]}}else if(w==8&&J==2){var A=c,jV=I.hT(S,A);
A+=16;var g2=M(S,A);A+=4;var gV=M(S,A);A+=4;var fD=M(S,A),j4=M(S,A+4);A+=8;var ad=M(S,A);A+=4;var jC=[];
for(var h=0;h<=ad;h++)jC[h]=I.gM(S,A+h*8);var iJ=jV.x,kJ=jV.x+jV.r,jr=jV.y,fY=jV.y+jV.$,iR=v.t50717[0],g6=1/iR;
for(var ay=0;ay<gV;ay++)for(var Z=jr;Z<fY;Z+=fD){var q=3*Z*o+g2+ay;for(var W=iJ;W<kJ;W+=j4){var h=q+3*W,cQ=x[h]*g6,aC=jC[ad];
for(var dI=ad;dI>0;dI--)aC=aC*cQ+jC[dI-1];x[h]=Math.max(0,Math.min(65535,~~(aC*iR)))}}}else if(w==9&&J==2){var A=c,jV=I.hT(S,A),jG=!0;
A+=16;var g2=M(S,A);A+=4;var gV=M(S,A);A+=4;var fD=M(S,A),j4=M(S,A+4);A+=8;var fm=M(S,A),hd=M(S,A+4);
A+=8;var ku=P(S,A),cp=P(S,A+8);A+=16;var hp=P(S,A),gA=P(S,A+8);A+=16;var jN=M(S,A);A+=4;if(jN!=1)throw"more than one map plane";
var d4=fm*hd,ey=new Float32Array(d4);for(var dI=0;dI<d4;dI++)ey[dI]=I.Ll(S,A+dI*4);for(var dI=0;dI<d4;
dI++)if(ey[dI]!=1)jG=!1;if(!jG){var a7=jV.r,cc=jV.$,cF=.9999*(hd-1)/a7,f5=.9999*(fm-1)/cc;for(var Z=0;
Z<cc;Z+=fD)for(var W=0;W<a7;W+=j4){var h=(jV.y+Z)*o+(jV.x+W),jW=W*cF,f$=Z*f5,bh=Math.floor(jW),ii=Math.floor(f$),dM=jW-bh,b7=f$-ii,q=ii*hd+bh,bz=ey[q]*(1-dM)+ey[q+1]*dM,cZ=ey[q+hd]*(1-dM)+ey[q+1+hd]*dM,e4=bz*(1-b7)+cZ*b7;
x[h]=Math.max(0,Math.min(65535,~~(x[h]*e4+.5)))}}}else console.log("Unknown opcode "+w+" in OpcodeList"+J+". Length: "+Y);
c+=Y}};g.raw.ap9=function(J,v){var x=gk.hh(v),o=g.raw.a6R(J,v),R=g.$G.SV(o),r=gk.aAj(x,gk.hh(gk.awH)),l=g.$G.multiply(r,R);
return l};g.raw.a1k=function(J){var v=J.t50728,R=1;if(v==null||v[0]==0)v=[1,1,1];var x=v.slice(0);x.push(0);
var o={x:.34567,y:.3585};do{var r=g.$G.SV(g.raw.a6R(J,o)),l=g.$G.Gr(r,x),M=gk.aqp(l);R=Math.abs(o.x-M.x)+Math.abs(o.y-M.y);
o=M}while(R>1e-7);return o};g.raw.a6R=function(J,v){var x=gk.aEi(v),o=g.raw.aaW,R=J.t50778?J.t50778[0]:0,r=J.t50779?J.t50779[0]:0,l=J.t50723,M=J.t50724;
if(l&&l.length==3)l=null;if(M&&M.length==3)M=null;var P=o(J.t50721,J.t50722,R,r,x.d5),S=o(l,M,R,r,x.d5);
P=P||[1,0,0,0,1,0,0,0,1];S=S||[1,0,0,0,1,0,0,0,1];var c=J.t50727?[J.t50727[0],0,0,0,J.t50727[1],0,0,0,J.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return g.$G.multiply(g.$G.ya(c),g.$G.multiply(g.$G.ya(S),g.$G.ya(P)))};g.raw.aaW=function(J,v,x,o,R){if(!J&&!v){return null}else if(J&&!v){return J}else if(R<x){return J}else if(R>o){return v}else{var r=(1/R-1/o)/(1/x-1/o),l=1-r,M=[];
for(var h=0;h<9;h++)M[h]=J[h]*r+v[h]*l;return M}};g.raw.PX={};g.raw.k9=function(J){J*=8;var v=[8,10,12,14,16];
for(var x in CAMS){var o=CAMS[x];if(o.length==4)continue;var R=o[4],r=o[5];for(var h=0;h<v.length;h++)if(R*r*v[h]==J)return[x,v[h]]}var l=[[4e3,3e3]];
for(var h=0;h<l.length;h++){var o=l[h],R=o[0],r=o[1];for(var h=0;h<v.length;h++)if(R*r*v[h]==J)return[o,v[h]]}return null};
g.raw.a9S=function(J){var J=new Uint8Array(J);for(var h=0;h<J.length;h+=2){var v=J[h];J[h]=J[h+1];J[h+1]=v}var x=g.raw.k9(J.length),o=CAMS[x[0]];
if(o==null)o=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,x[0][0],x[0][1]];var R=o[4],r=o[5],l=Math.max(o[2],116),M={data:J,WD:1,width:R,height:r,t256:[R],t257:[r],t258:[x[1]],t277:[1],t33421:[2,2],t33422:g.raw.yP[o[1]],t50706:[1,2,0,0],t50714:[l,l,l,l],t50717:[o[3]],t50721:o[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var h=0;h<9;h++)M.t50721[h]/=1e4;return M};g.raw.a4M=function(J){if(J==null||J.length==0||typeof J[0]=="number")return J;
var v=[];for(var h=0;h<J.length;h++)v[h]=J[h][1]==0?0:J[h][0]/J[h][1];return v};g.raw.yP=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
g.raw.normalize=function(J,v){if(J.t50706!=null||J.t271[0].startsWith("Hasselblad")){var x=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var h=0;h<x.length;h++)if(J["t"+x[h]]!=null)J["t"+x[h]]=g.raw.a4M(J["t"+x[h]]);if(J.t271&&J.t271[0].startsWith("Hasselblad")){J.t50706=[1,2,0,0];
J.t33422=g.raw.yP[1];J.t50723=[1,0,0,0,1,0,0,0,1];J.t50778=[17];if(!J.isLE)for(var h=0;h<J.data.length;
h+=2){var o=J.data[h];J.data[h]=J.data[h+1];J.data[h+1]=o}}if(J.t272&&J.t272[0]=="HERO10 Black"){J.t50728=[.469725,1,.739884];
if(!J.t305[0].startsWith("Adobe")){var R=new Uint16Array(J.data.buffer);for(var h=0;h<R.length;h++)R[h]>>>=2}}return}var r=J.t258[0],l=J.exifIFD,v=new Uint8Array(v);
J.t50706=[1,2,0,0];var M=J.t271[0].trim(),P=J.t272[0].trim();if(J.t50708==null)J.t50708=[M+" "+P];var S=(M+":"+P).toLowerCase().trim(),c=CAMS[S];
if(S=="panasonic:dmc-lx2")c[3]=1<<16;if(c==null){alert("Unknown camera:"+S);if(S.startsWith("canon"))c=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(c!=null){var b=c[2];
J.t50714=[b,b,b,b];if(J.t272=="Canon EOS REBEL T3")c[3]=13584;J.t50717=[c[3]];J.t50721=c[0].slice(0);
for(var h=0;h<9;h++)J.t50721[h]=J.t50721[h]*(1/1e4)}J.t50723=[1,0,0,0,1,0,0,0,1];if(J.t50728==null)J.t50728=[.35,1,.6];
J.t50778=[17];if(M.startsWith("OLYMPUS")||M.startsWith("OM Digital Solutions")){J.t33422=[2,1,1,0];var w=l.t41730,A;
if(w)J.t33422=[w[4],w[5],w[6],w[7]];var U=J.t50341;if(U==null)U=l.t36864;var F=g.raw.aHa(U.buffer,J);
J.data=new Uint8Array(F.buffer);if((J.height&1)==1)J.t50829=[0,0,J.height-1,J.width];var Y=l.makerNote,G=Y.t8256;
if(G)A=G.t256;else A=Y.t12288.t256;if(A)J.t50728=[256/A[0],1,256/A[1]]}else if(J.t271[0].startsWith("SONY")){var n=UTIF["_bin"+(J.isLE?"LE":"BE")],E=J.t28688,X;
if(JSON.stringify(E)!="[8000,10400,12900,14100]")console.log(E);if(E&&E.join("")!="0000"){var K=[0,0,0,0,0,4095],e=new Uint16Array(16385);
for(var h=0;h<4;h++){var $=E[h]>>>2;K[h+1]=$;if($>4095)throw"e"}for(var h=0;h<16385;h++)e[h]=h;for(var h=0;
h<5;h++)for(var N=K[h]+1;N<=K[h+1];N++)e[N]=e[N-1]+(1<<h);var k=v.length*8<J.width*J.height*r;if(k)J.t50712=e}else console.log("no curve");
var V=J.dngPrvt;if(V){var Q=V.t29184[0],L=V.t29185[0],_=(J.isLE?I.eA:I.m7)(V.t29217,0),a=new Uint32Array(v.slice(Q,Q+(L&4294967292)).buffer),T=new Uint32Array(L>>>2);
g.raw.aHv(a,T,L>>>2,_);var f=new Uint8Array(Q+L);f.set(new Uint8Array(T.buffer),Q);var Z=[];UTIF._readIFD(n,f,Q,Z,0,!1);
var W=Z.pop(),D=W.t29458;J.t50728=[D[1]/D[0],1,D[1]/D[3]];J.t50730=[.5];var C=W.t29891;J.t50829=[C[1],C[0],C[3],C[2]]}else if(l.makerNote&&l.makerNote.t8208){var X=l.makerNote,d=X.t8208,p=d.length,y=0,i=new Uint8Array(256);
for(var h=249;h<256;h++)i[h]=h;for(var h=0;h<249;h++)i[h*h*h%249]=h;for(var h=0;h<p;h++)d[h]=i[d[h]];
if(p==6604)y=612;else throw"e";var D=[];for(var h=0;h<3;h++)D.push(I.oV(d,y+h*2));console.log(D);J.t50728=[D[1]/D[0],1,D[1]/D[2]]}else console.log("no white balance");
if(J.width*J.height*1.5==J.t279[0]){b=b>>>2;J.t50714=[b,b,b,b];J.t50717=[c[3]>>>2]}}else if(J.t271[0].startsWith("Canon")){var v=J.data,t=v.slice(0),O=J.t50752,q=[],jw=0;
if(O==null||O[0]==0&&O[1]==0)q.push(J.width);else{for(var h=0;h<O[0];h++)q.push(O[1]);q.push(O[2])}var z=J.width*2,u=J.t50885&&J.t50885[0]==4;
if(!u)for(var iH=0;iH<q.length;iH++){var s=q[iH],bV=2*jw,jU=2*s;for(var hx=0;hx<J.height;hx+=2){var eX=hx*z+bV,et=J.height*bV+hx*jU;
for(var h=0;h<jU;h++){v[eX+h]=t[et+h];v[eX+h+z]=t[et+h+jU]}}jw+=s}else{var f7=new Uint16Array(t.buffer),iY=new Uint16Array(v.buffer);
function cd(g2,gV){iY[gV*3+0]=f7[g2*3+0];iY[gV*3+1]=f7[g2*3+1];iY[gV*3+2]=f7[g2*3+2]}var jV=(O[0]*O[1]+O[2])/J.width;
for(var iH=0;iH<q.length;iH++){var s=Math.round(q[iH]/jV);for(var hx=0;hx<J.height;hx++){var g2=J.height*jw+(jV==3?(hx>>>3)*8+[0,4,1,5,2,6,3,7][hx&7]:hx)*s,gV=hx*J.width+jw;
for(var fD=0;fD<s;fD++)cd(g2+fD,gV+fD)}jw+=s}var j4=new Uint16Array(v.buffer),dQ=new Uint16Array(1),eO=new Int16Array(dQ.buffer);
for(var h=0;h<j4.length;h+=3){var a7=j4[h],cc=j4[h+1],ad=j4[h+2];dQ[0]=cc<<2;cc=eO[0]>>2;dQ[0]=ad<<2;
ad=eO[0]>>2;j4[h+0]=Math.max(0,ad+a7);j4[h+1]=Math.max(0,(a7<<12)-cc*778-(ad<<11)>>12);j4[h+2]=Math.max(0,cc+a7)}}var X=l.makerNote,g2=X.t224;
if(g2){var Q=J.t50719=[g2[5],g2[6]],jC=J.t50720=[g2[7]+1-g2[5],g2[8]+1-g2[6]],iJ=X.t154;if(iJ){Q[0]+=iJ[3];
Q[1]+=iJ[4];jC[0]=iJ[1];jC[1]=iJ[2]}}if(X.t16385){var kJ=X.t16385,jr=kJ.length;if(kJ instanceof Array)kJ=new Uint16Array(kJ);
if(kJ instanceof Uint8Array)kJ=new Int16Array(kJ.slice(0).buffer);var fY=kJ[0];if(jr==1273||jr==1275)fY=66;
var iR=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
iR[-3]=[71,264,662];iR[-4]=[71,333,1385];iR[66]=[63,251,483];iR[32]=[85,343,810];iR[33]=[85,343,810];
iR[34]=[105,363,640];iR[48]=[105,363,640];var g6=iR[fY];if(g6==null){if(jr==582)g6=[25,166,null];if(jr==653)g6=[34,286,null]}var y=g6[0],ay=g6[1],cQ=g6[2];
if(y)J.t50728=[kJ[y+1]/kJ[y],1,kJ[y+1]/kJ[y+3]];if(ay)J.t50714=[kJ[ay],kJ[ay],kJ[ay],kJ[ay]];if(cQ)J.t50717=[kJ[cQ]]}else{J.t50728=[.4,1,.6]}if(u){J.t277=[3];
J.t50728=[1,1,1];J.t50714=[0,0,0,0]}}else if(J.t271[0].startsWith("NIKON")){var X=l.makerNote,aC=J.isLE?I.oV:I.lT,hp=0,gA=0,cF,b7=0;
if(X.t61){var dI=X.t61,fm=[];for(var h=0;h<4;h++)fm[h]=dI[h]/Math.pow(2,14-r);J.t50714=fm}if(X.t3585){var hd=X.t3585,h=0,Q=22;
while(Q<hd.length&&h!=-4){var ku=I.eA(hd,Q);Q+=4;Q+=14;h=I.eA(hd,Q)-4;Q+=4;if(ku==1990472198){if(hd[Q]!=0)throw"Flip"}if(ku==1990472199){var cp=I.oV(hd,Q);
if(cp==0)J.WD=1;else if(cp==270)J.WD=8;else throw"e "+cp}Q+=h}}if(X.t183){var jN=X.t183,jC=[];for(var h=0;
h<6;h++)jC.push(aC(jN,16+h*2));hp=jC[0];gA=jC[1]}if(X.t3614){var d4=X.t3614;hp=I.eA(d4,8);gA=I.eA(d4,12)}if(hp!=0&&Math.max(hp,gA)<Math.max(J.width,J.height)){if(hp<gA){var o=hp;
hp=gA;gA=o}var fD=J.width-hp>>>1,hx=J.height-gA>>>1;J.t50829=[hx,fD,hx+gA,fD+hp]}else J.t50829=[8,8,J.height-8,J.width-56];
var ey=X.t69;if(ey){var jG=ey[1];if((jG&1)==1)jG++;J.t50829=[jG,ey[0],jG+ey[3],ey[0]+ey[2]]}if(X.t12){var f5=g.raw.a4M(X.t12);
cF=[1/f5[0],1,1/f5[1]]}else if(X.t151){var jW=g.raw.a2E(X,151),f$=jW[0],kk=jW[1],bh=jW[2];if(f$=="0100"&&kk>=80){var ii=[];
for(var h=0;h<4;h++)ii.push(aC(bh,68+h*2));cF=[ii[3]/ii[0],1,ii[3]/ii[1]]}else if(f$=="0102"){var ii=[];
for(var h=0;h<4;h++)ii.push(aC(bh,6+h*2));cF=[ii[1]/ii[0],1,ii[1]/ii[3]]}else if(f$=="0103"&&kk>=26){var ii=[];
for(var h=0;h<4;h++)ii.push(aC(bh,16+h*2));cF=[ii[1]/ii[0],1,ii[3]/ii[2]]}else if(f$=="0204"&&kk>=564||f$=="0205"&&kk>=284){var Q=f$=="0204"?6:14,ii=[];
for(var h=0;h<4;h++)ii.push(aC(bh,Q+h*2));cF=[ii[1]/ii[0],1,ii[1]/ii[3]]}else throw"e"}else console.log("no white balance info");
if(P=="NIKON D1")cF=[1,1,1];if(cF)J.t50728=cF;var dM=X.t150?X.t150:X.t140;if(dM){var bz=dM[b7++],cZ=dM[b7++],aI;
if(bz==73||cZ==88)b7+=2110;b7+=8;var e4=1<<r&32767,fI=aC(dM,b7);b7+=2;var e=[];if(fI>1)aI=Math.floor(e4/(fI-1));
if(bz==68&&cZ==32&&aI>0){for(h=0;h<fI;h++){e[h*aI]=aC(dM,b7);b7+=2}for(h=0;h<e4;h++)e[h]=Math.floor((e[h-h%aI]*(aI-h%aI)+e[h-h%aI+aI]*(h%aI))/aI)}else if(bz!=70&&fI<=16385){e4=fI;
for(var h=0;h<fI;h++)e[h]=aC(dM,b7+2*h);b7+=2*fI}var P=J.t272[0];if(e.length!=0)J.t50712=new Uint16Array(e);
if(J.t258[0]==14&&J.t50717&&J.t50717[0]<1e4){console.log("fixing white");J.t50717[0]*=4}}}else if(M.startsWith("FujiFilm")){}else if(M.startsWith("Panasonic")){if(J.t277==null)J.t277=[1]}else alert("Unknown camera "+M)};
g.raw.aHv=function(J,v,x,o){if(0==x)return;var R=new Uint32Array(128),r=new Uint8Array(R.buffer),l=127,M=0,P=0;
for(var l=0;l<4;l++)R[l]=o=(o*15625>>>0)*3125+1>>>0;R[3]=R[3]<<1|(R[0]^R[2])>>>31;for(var l=4;l<127;
l++)R[l]=(R[l-4]^R[l-2])<<1|(R[l-3]^R[l-1])>>>31;for(var l=0;l<127;l++)R[l]=I.m7(r,l*4);for(;x>0;x--){R[l&127]=R[l+1&127]^R[l+1+64&127];
var S=R[l&127],c=J[M];c^=S;v[P]=c;M++;P++;l++}};g.raw.aHu=function(J,v){var x=I.b_(v,0,4),o=g.raw.az0;
for(var h=0;h<o.length;h++)if(o[h][0]==J&&x.startsWith(o[h][1])&&(o[h][2]==0||o[h][2]==v.length))return o[h];
throw"e"};g.raw.aIp=function(J){if(J.t29==null)return[];var v=g.raw.a6B,x=g.raw.a85,o=J.t29[0],R=0,l=0;
for(var h=0;h<o.length;h++){var r=o.charCodeAt(h);R=R*10+(48<=r&&r<=57?r-48:r%10)}var kk=J.t167[0];for(var h=0;
h<4;h++)l^=kk>>>(h<<3)&255;var M=v[R&255],P=x[l&255];return[M,P,96]};g.raw.a2E=function(J,v){var x=J["t"+v],kk=x.length,o=g.raw.aHu(v,x),R=I.b_(x,0,4),r,l=o[4];
if(l==null)r=x.slice(4);else{r=new Uint8Array(kk-l);var M=g.raw.aIp(J),P=M[0],S=M[1],c=M[2];for(var h=0;
h<r.length;h++){S=S+P*c++&255;r[h]=x[l++]^S}}return[R,kk,r]};g.raw.aHa=function(J,v){var x=v.t271[0],o=v.t272[0],R=v.t256[0],r=v.t257[0],l=v.t258[0],M=v.t273[0],P=M,S=new Uint8Array(J),c,b=R-4,w=r,U=S.length-M,A=0,G=0;
function F(){var $=new Uint16Array(4096),co=0;$[co]=3084;for(var h=12;h--;)for(var N=0;N<2048>>h;N++)$[++co]=h+1<<8|h;
return $}function Y(){return S[P++]}function n($,N){var k;if($>25)return 0;if($==0||G<0)return 0;if($<0){A=0;
G=0;return 0}while(G<$){k=Y();if(k==null)break;A=(A<<8)+(255&k);G+=8}k=G==0?0:A<<32-G>>>32-$;if(N){G-=N[k]>>8;
k=255&N[k]}else G-=$;return k}function E(){var $=F();P+=7;n(-1);for(var N=0;N<w;N++){var k=[new Int32Array(3),new Int32Array(3)];
for(var V=0;V<R;V++){var X=k[V&1],h=2*(X[2]<3),Q;for(Q=2+h;(65535&X[0])>>Q+h;Q++);var L=n(3),_=L&3;L=L<<29>>31;
var a=n(12,$);if(a==12)a=n(16-Q)>>>1;var T=n(Q);X[0]=a<<Q|T;var f=(X[0]^L)+X[1];X[1]=f*3+X[1]>>5;X[2]=X[0]>16?0:X[2]+1;
if(V>=b)continue;var Z=c[N*R+V-2],co=c[(N-2)*R+V],W=c[(N-2)*R+V-2];c[N*R+V]=(N<2&&V<2?0:N<2?Z:V<2?co:Z<W&&W<co||co<W&&W<Z?Math.abs(Z-W)>32||Math.abs(co-W)>32?Z+co-W:Z+co>>1:Math.abs(Z-W)>Math.abs(co-W)?Z:co)+(f<<2|_)}}}function K(){var $=R*l/8,N=r+1>>1,V=0,X=0;
$+=$&6>>7;var k=$*8-R*l;for(var Q=0;Q<r;Q++){var L=Q%N*2+~~(Q/N);if(L==1){V=0;P=M-(-N*$&-2048)}for(var _=0;
_<R;_++){for(V-=l;V<0;V+=8){X<<=8;for(var h=0;h<8;h+=8)X|=Y()<<h}var a=X<<64-l-V>>>64-l;c[L*R+_]=a}V-=k}}function e(){var $=!x.startsWith("OLYMPUS")||!x.startsWith("OM Digi")||!x.toLowerCase().startsWith("clauss")&&!o.toLowerCase().startsWith("pix 5oo");
return $&&U<R*r*(l/8)}if(e()){c=new Uint16Array(b*w);E()}else if(R*r*2==v.data.length){c=new Uint16Array(v.data.buffer)}else{c=new Uint16Array(R*r);
K()}return c};g.raw.az0=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
g.raw.a6B=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
g.raw.a85=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
g.eQ={};g.eQ.eQ=function(J,v,x,o,R){if(o==null)o=3;if(R==null)R=!0;var r=J.r,l=J.$,M=1/r,P=r*l,S=Date.now(),c=!1,b=g.eQ.a8u(x,r,l,255,128),w=g.eQ.a8u(x,r,l,0,128),jw=0;
if(c)console.log("extract contours",Date.now()-S);S=Date.now();var U=function(fm,hd){var ku=fm<<2,cp=hd<<2;
return v[ku]+v[ku+1]+v[ku+2]-(v[cp]+v[cp+1]+v[cp+2])};b.sort(U);w.sort(U);var F=g.C(P),Y=g.C(P),A=[],G=new Uint32Array(r*l);
G.fill(4294967295);for(var h=0;h<P;h++)if(x[h]==0)Y[h]=255;else if(x[h]==255)F[h]=255;else{G[h]=A.length;
A.push(h)}var n=b.length,E=w.length,K=A.length;function e(fm,hd,ku,cp){var hp=fm.length,gA=new Array(hp*2);
for(var h=0;h<hp;h++){var Z=fm[h],W=~~(Z*cp),D=Z-W*ku,cQ=Z<<2;gA[h*2]=D<<16|W;gA[h*2+1]=hd[cQ]<<16|hd[cQ+1]<<8|hd[cQ+2]}return gA}var $=e(b,v,r,M),N=e(w,v,r,M),k=e(A,v,r,M);
if(c)console.log("Itemize",Date.now()-S,"Unknown:",K,n,E);S=Date.now();var V=g.style.Zr(F,r,l,!0),X=g.style.Zr(Y,r,l,!0),Q=new Array(K),L=new Array(K),_=new Array(K),a=new Array(K),T=new Array(K);
if(c)console.log("Dist transform",Date.now()-S);S=Date.now();var f=g.eQ.up;for(var h=0;h<K;h++){var Z=A[h],W=~~(Z*M),D=Z-W*r,C=V[Z<<1],d=V[(Z<<1)+1],p=Math.sqrt(C*C+d*d),y=X[Z<<1],i=X[(Z<<1)+1],t=Math.sqrt(y*y+i*i);
Q[h]=1/p;L[h]=1/t;var O=Math.floor(g.v.S_(Z*17)*n),q=Math.floor(g.v.S_(Z*19)*E);_[h]=O;a[h]=q;T[h]=f(k[h*2],k[h*2+1],$[O*2],$[O*2+1],N[q*2],N[q*2+1],Q[h],L[h],1e9)}var z=[-r-1,-r,-r+1,-1,1,r-1,r,r+1];
while(Math.floor(Math.max(n,E)*Math.pow(.5,jw))>1)jw++;for(var u=0;u<o;u++){var iH=0;for(var h=0;h<K;
h++){var Z=A[h],W=~~(Z*M),D=Z-W*r,s=Q[h],bV=L[h],jU=k[h*2],hx=k[h*2+1],eX=T[h],O=_[h],q=a[h],fD=1;if(W!=0&&D!=0&&D!=r-1&&W!=l-1)for(var iY=0;
iY<8;iY++){var cd=G[Z+z[iY]];if(cd==4294967295)continue;var jV=_[cd],g2=a[cd];if(jV==O&&g2==q)continue;
var gV=f(jU,hx,$[jV*2],$[jV*2+1],N[g2*2],N[g2*2+1],s,bV,eX);if(gV<eX){eX=gV;O=jV;q=g2}}for(var j4=0;
j4<jw;j4++){var dQ=~~(n*fD),eO=~~(E*fD);fD*=.5;var a7=g.v.S_(Z+u*17+j4*31),cc=g.v.S_(Z+u*29+j4*63),ad=Math.max(0,O-dQ),jC=Math.min(O+dQ,n-1),iJ=Math.max(0,q-eO),jr=Math.min(q+eO,E-1),jV=ad+~~(a7*(jC-ad)),g2=iJ+~~(cc*(jr-iJ)),gV=f(jU,hx,$[jV*2],$[jV*2+1],N[g2*2],N[g2*2+1],s,bV,eX);
if(gV<eX){eX=gV;O=jV;q=g2}}T[h]=eX;_[h]=O;a[h]=q;iH+=eX}}if(c)console.log(iH);if(c)console.log("iterations",Date.now()-S);
S=Date.now();var fY=x.slice(0);for(var h=0;h<K;h++){var iR=g.eQ.alpha(k[h*2+1],$[_[h]*2+1],N[a[h]*2+1]);
fY[A[h]]=~~(.5+255*iR)}fY=g.wU.aF$(fY,v,new jj(0,0,r,l),16,.01*.01);if(c)console.log("guided filter",Date.now()-S);
S=Date.now();if(R)for(var h=0;h<P;h++)if(x[h]==255||x[h]==0)fY[h]=x[h];var g6=v.slice(0);for(var h=0;
h<K;h++){var ay=A[h],O=b[_[h]],eX=T[h],cQ=ay<<2,aC=fY[ay],dI=(aC>=250?ay:O)<<2;g6[cQ]=v[dI];g6[cQ+1]=v[dI+1];
g6[cQ+2]=v[dI+2]}g.Os(fY,g6,3);if(c)console.log(Date.now()-S);S=Date.now();return g6};g.eQ.up=function(J,v,x,o,R,r,l,M,P){var S=J>>>16,c=J&65535,b=S-(x>>>16),w=c-(x&65535),U=S-(R>>>16),F=c-(R&65535),Y=Math.sqrt(b*b+w*w)*l,A=Math.sqrt(U*U+F*F)*M;
if(Y+A>=P)return 1e9;var G=g.eQ.amH(v,o,r);return G+Y+A};g.eQ.amH=function(J,v,x){var o=J>>>16,R=J>>>8&255,r=J&255,l=v>>>16,M=v>>>8&255,P=v&255,S=x>>>16,c=x>>>8&255,b=x&255,w=g.eQ.alpha(J,v,x),U=o-(w*l+(1-w)*S),F=R-(w*M+(1-w)*c),Y=r-(w*P+(1-w)*b);
return Math.sqrt(U*U+F*F+Y*Y)};g.eQ.alpha=function(J,v,x){var o=J>>>16,R=J>>>8&255,r=J&255,l=v>>>16,M=v>>>8&255,P=v&255,S=x>>>16,c=x>>>8&255,b=x&255,w=l-S,U=M-c,F=P-b,Y=o-S,A=R-c,G=r-b,n=w*w+U*U+F*F,E=n==0?.5:(Y*w+A*U+G*F)/n;
return Math.max(0,Math.min(1,E))};g.eQ.awh=function(J){};g.eQ.a8u=function(J,v,x,o,R){var r=[],l=v-1,M=x-1;
for(var P=1;P<M;P++)for(var S=1;S<l;S++){var h=P*v+S;if(J[h]==o&&(J[h-v-1]==R||J[h-v]==R||J[h-v+1]==R||(J[h-1]==R||J[h+1]==R)||(J[h+v-1]==R||J[h+v]==R||J[h+v+1]==R)))r.push(h)}return r};
g.wU={};g.wU.aui=function(J,v,x,o,R){var r=x.r,l=x.$,M=r*l,P=g.wU.aub,S=g.C(M*4),c;S.fill(255);var b=x,w=J,U=v,F=o;
g.Os(J,S,0);c=g.WU(S,x);c=g.WU(c.r3,c.S);b=c.S;F=o>>>2;console.log(b,F);w=g.C(b.o());g.Vi(c.r3,w,0);
g.Os(v,S,0);c=g.WU(S,x);c=g.WU(c.r3,c.S);U=g.C(b.o());g.Vi(c.r3,U,0);var Y=g.wU.a3m(w,U,b,F,R),A=Y[0],G=Y[1],n=new jj(0,0,b.r*2,b.$*2);
A=P(A,b,n,!0);A=P(A,n,x,!0);G=P(G,b,n,!0);G=P(G,n,x,!0);var E=g.C(M);for(var h=0;h<M;h++)E[h]=Math.max(0,Math.min(255,Math.floor(.5+(A[h]*v[h]+255*G[h]))));
return E};g.wU.Wh=function(J,v,x,o){v.set(J);g.Wh.Go(v,x,o)};g.wU.aub=function(J,v,x,o){var R=x.r,r=x.$,l=v.r,M=v.$,P=g.wU.ft,S=new Float32Array(R*r);
for(var c=0;c<M;c++){var b=(c+c)*R;for(var w=0;w<l;w++){if(!0||w==0||c==0||w==l-1||c==M-1)S[b]=S[b+1]=S[b+R]=S[b+R+1]=J[c*l+w];
else{S[b]=P(w+.25,c+.25,J,l,M);S[b+1]=P(w+.75,c+.25,J,l,M);S[b+R]=P(w+.25,c+.75,J,l,M);S[b+R+1]=P(w+.75,c+.75,J,l,M)}b+=2}}return S};
g.wU.ft=function(J,v,x,o,R){J-=.499999;v-=.499999;var r=Math.floor(J),l=Math.floor(v),M=l*o+r,P=J-r,S=v-l,c=(1-S)*(1-P),b=(1-S)*P,w=S*(1-P),U=S*P;
if(x[M]==null||x[M+o+1]==null){console.log(J,v,o,R);throw"e"}return c*x[M+0]+b*x[M+1]+w*x[M+o+0]+U*x[M+o+1]};
g.wU.a3m=function(J,v,x,o,R){var r=x.r,l=x.$,M=r*l,P=g.wU.a1B,S=g.wU.C,c=g.wU.Wh,b=g.wU.QS,v=P(v,M),J=P(J,M),w=S(M);
c(v,w,x,o);var U=S(M);c(J,U,x,o);var F=S(M);b(v,v,F);c(F,F,x,o);var Y=S(M);b(v,J,Y);c(Y,Y,x,o);var A=S(M),G=S(M);
for(var h=0;h<M;h++){var n=w[h],E=U[h],K=F[h]-n*n,e=Y[h]-n*E,$=e/(K+R),N=E-$*n;A[h]=$;G[h]=N}var k=S(M);
c(A,k,x,o);var V=S(M);c(G,V,x,o);return[k,V]};g.wU.aF$=function(J,v,x,o,R){var r=x.r,l=x.$,M=r*l,P=g.wU.aub,S=Date.now(),c=!1,b=x,w=J,U=v,F=o;
b=new jj(0,0,r>>>2,l>>>2);F=o>>>2;w=g.wU.az9(J,r,l);U=g.wU.adh(v,r,l);if(c)console.log(Date.now()-S);
S=Date.now();var Y=g.wU.a9C(w,U,b,F,R),A=Y[0],G=Y[1],n=Y[2],E=Y[3];if(c)console.log(Date.now()-S);S=Date.now();
var K=g.C(M);for(var e=0;e<l;e++)for(var $=0;$<r;$++){var h=e*r+$,N=(e>>>2)*(r>>>2)+($>>>2),k=h<<2,V=A[N]*v[k]+G[N]*v[k+1]+n[N]*v[k+2]+E[N]*255;
K[h]=Math.max(0,Math.min(255,~~(.5+V)))}if(c)console.log(Date.now()-S);S=Date.now();return K};g.wU.az9=function(J,v,x){var o=v>>>2,R=x>>>2,r=g.C(o*R);
for(var l=0;l<R;l++)for(var M=0;M<o;M++)r[l*o+M]=J[l*v+M<<2];return r};g.wU.adh=function(J,v,x){var o=v>>>2,R=x>>>2,r=g.C(o*R*4);
for(var l=0;l<R;l++)for(var M=0;M<o;M++){var P=l*o+M<<2,S=l*v+M<<4;r[P]=J[S];r[P+1]=J[S+1];r[P+2]=J[S+2];
r[P+3]=J[S+3]}return r};g.wU.a9C=function(J,v,x,o,R){var r=x.r,l=x.$,M=r*l,P=g.wU.a1B,S=g.wU.C,c=g.wU.Wh,b=g.wU.QS,J=P(J,M),w=new g.GH(r*l);
g.Y5(v,w);var v=[P(w.z,M),P(w.H,M),P(w.c,M)],U=g.wU.asC(J,v,x,o,R),F=S(M);c(J,F,x,o);var Y=S(M);b(v[0],J,Y);
c(Y,Y,x,o);var A=S(M);b(v[1],J,A);c(A,A,x,o);var G=S(M);b(v[2],J,G);c(G,G,x,o);var n=S(M),E=S(M),K=S(M),e=S(M);
for(var h=0;h<M;h++){var $=F[h],N=U.VP[h],k=U.kQ[h],V=U.Gz[h],X=Y[h]-N*$,Q=A[h]-k*$,L=G[h]-V*$;n[h]=U.a00[h]*X+U.HL[h]*Q+U.S1[h]*L;
E[h]=U.HL[h]*X+U.am7[h]*Q+U.CH[h]*L;K[h]=U.S1[h]*X+U.CH[h]*Q+U.a9I[h]*L;e[h]=$-n[h]*N-E[h]*k-K[h]*V}c(n,n,x,o);
c(E,E,x,o);c(K,K,x,o);c(e,e,x,o);return[n,E,K,e]};g.wU.asC=function(J,v,x,o,R){var r=x.r,l=x.$,M=r*l,P=g.wU.C,S=g.wU.Wh,c=g.wU.QS,b={};
b.VP=P(M);S(v[0],b.VP,x,o);b.kQ=P(M);S(v[1],b.kQ,x,o);b.Gz=P(M);S(v[2],b.Gz,x,o);var w=P(M);c(v[0],v[0],w);
S(w,w,x,o);var U=P(M);c(v[0],v[1],U);S(U,U,x,o);var F=P(M);c(v[0],v[2],F);S(F,F,x,o);var Y=P(M);c(v[1],v[1],Y);
S(Y,Y,x,o);var A=P(M);c(v[1],v[2],A);S(A,A,x,o);var G=P(M);c(v[2],v[2],G);S(G,G,x,o);b.a00=w;b.HL=U;
b.S1=F;b.am7=Y;b.CH=A;b.a9I=G;for(var h=0;h<M;h++){var n=b.VP[h],E=b.kQ[h],K=b.Gz[h],e=w[h]-n*n+R,$=U[h]-n*E,N=F[h]-n*K,k=Y[h]-E*E+R,V=A[h]-E*K,X=G[h]-K*K+R,Q=k*X-V*V,L=V*N-$*X,_=$*V-k*N,a=e*X-N*N,T=N*$-e*V,f=e*k-$*$,Z=Q*e+L*$+_*N,W=1/Z;
b.a00[h]=Q*W;b.HL[h]=L*W;b.S1[h]=_*W;b.am7[h]=a*W;b.CH[h]=T*W;b.a9I[h]=f*W}return b};g.wU.C=function(J){return new Float32Array(J)};
g.wU.a1B=function(J,v){var x=new Float32Array(v);for(var h=0;h<v;h++)x[h]=J[h]*(1/255);return x};g.wU.QS=function(J,v,x){for(var h=0;
h<J.length;h++)x[h]=J[h]*v[h]};g.cs={};g.cs.jC=function(J,v,x,o){var R=J[v]-x[o],r=J[v+1]-x[o+1],l=J[v+2]-x[o+2];
return Math.sqrt(R*R+r*r+l*l)*(1/441.7)};g.cs.getSelection=function(J,v,x){var o=v*x,R=g.C(o),r=!1,l=Math.round(x*.7),M=1,P=new Uint32Array(12),S=g.C(12);
for(var c=0;c<l;c++)for(var b=0;b<v;b++){if(b<M||c<M||b>v-M-1||c>x-M-1){var h=c*v+b,w=h<<2,U=0;if(c<M)U=4;
else if(b>v-M-1)U=8;P[U]+=J[w];P[U+1]+=J[w+1];P[U+2]+=J[w+2];P[U+3]++;R[h]=255}}for(var h=0;h<12;h+=4)for(var F=0;
F<3;F++)S[h+F]=P[h+F]/P[h+3];var Y=new Float32Array(o);for(var h=0;h<o;h++){var w=h*4,A=g.cs.jC(J,w,S,0),G=g.cs.jC(J,w,S,4),n=g.cs.jC(J,w,S,8),E=Math.max(A,Math.max(G,n));
Y[h]=A+G+n-E}g.cs.Bk(Y);var K=Date.now(),e=new Float32Array(o),$=[],N=g.C(o);for(var h=0;h<3;h++){g.Vi(J,N,h);
var k=new Uint16Array(o);$.push(k);g.cs.ab3(N,R,v,x,k)}if(r)console.log("MBD",Date.now()-K);K=Date.now();
for(var h=0;h<o;h++)e[h]=$[0][h]+$[1][h]+$[2][h];g.cs.Bk(e);for(var h=0;h<o;h++)e[h]+=.4*Y[h];var V=v>>>1,l=x>>>1,X=1/Math.sqrt(V*V+l*l);
for(var c=0;c<x;c++)for(var b=0;b<v;b++){var Q=b-V,L=c-l,_=1-Math.sqrt(Q*Q+L*L)*X;e[c*v+b]*=_}if(r)console.log("Centeredness",Date.now()-K);
K=Date.now();for(var h=0;h<o;h++)R[h]=e[h]*255;var a=Math.round(v/120),T=Math.round(a*.8);if(r)console.log(a,T);
g.lr.qP(R,R,v,x,a+a+1,!1);if(r)console.log("erosion",Date.now()-K);K=Date.now();for(var h=0;h<o;h++)e[h]=R[h];
g.cs.Bk(e);var f=g.C(256);for(var h=0;h<256;h++)f[h]=256/(1+Math.exp(-20*(h/255-.5)));for(var h=0;h<o;
h++){var Z=~~(e[h]*255+.5);R[h]=f[Z]}if(r)console.log("Simoid",Date.now()-K);K=Date.now();return R};
g.cs.Bk=function(J){var v=J.length,x=0;for(var h=0;h<v;h++)x=Math.max(x,J[h]);var o=1/x;for(var h=0;
h<v;h++)J[h]=J[h]*o};g.cs.ab3=function(J,v,x,o,R){var r=x*o,l=J.slice(0),M=J.slice(0);for(var h=0;h<r;
h++)R[h]=v[h]==255?0:65535;g.cs.aBr(J,M,l,R,x,o);g.cs.az$(J,M,l,R,x,o);g.cs.aBr(J,M,l,R,x,o);g.cs.az$(J,M,l,R,x,o);
return R};g.cs.aBr=function(J,v,x,o,R,r){for(var l=1;l<R;l++)g.cs.Bp(l,-1,J,v,x,o);for(var M=1;M<r;M++){g.cs.Bp(M*R,-R,J,v,x,o);
for(var l=1;l<R;l++){var h=M*R+l;g.cs.Bp(h,-1,J,v,x,o);g.cs.Bp(h,-R,J,v,x,o)}}};g.cs.az$=function(J,v,x,o,R,r){for(var l=R-2;
l>=0;l--)g.cs.Bp(R*r-R+l,1,J,v,x,o);for(var M=r-2;M>=0;M--){g.cs.Bp(M*R+R-1,R,J,v,x,o);for(var l=R-2;
l>=0;l--){var h=M*R+l;g.cs.Bp(h,1,J,v,x,o);g.cs.Bp(h,R,J,v,x,o)}}};g.cs.Bp=function(h,J,v,x,o,R){var r=h+J,l=v[h],M=x[r],P=o[r];
if(M<l)M=l;else if(l<P)P=l;var S=M-P;if(R[r]!=65535&&S<R[h]){R[h]=S;x[h]=M;o[h]=P}};g.v0={};g.v0.filter=function(J,v,x,o){var R=v.r,r=v.$,l=R*r,M=o[0],P=o[1],S=o[2],c=o[3],b=o[4],w=o[5],U=o[6],F=Date.now(),Y=new Float32Array(R*r*4);
g.v0.am2(J,R,r,Y);var A=Math.ceil(M*Math.sqrt(-2*Math.log(.1))),G=new ArrayBuffer(l*4),n=new Float32Array(G),E=new Float32Array(l),K=new Float32Array(l);
for(var h=0;h<l;h++){var e=h*4;n[h]=Y[e];E[h]=Y[e+1];K[h]=Y[e+2]}g.Wh.MM(n,v,A*1/2.4,2);g.Wh.MM(E,v,A*1/2.4,2);
g.Wh.MM(K,v,A*1/2.4,2);for(var h=0;h<l;h++){var e=h*4;Y[e]=n[h];Y[e+1]=E[h];Y[e+2]=K[h]}var $=new Uint8Array(G);
for(var h=0;h<l;h++){var e=h*4,N=h*4,n=Y[e],E=Y[e+1],K=Y[e+2],k=Math.sqrt((n-K)*(n-K)+4*E*E),V=(n+K+k)*.5,X=(n+K-k)*.5,Q=X-K,L=E,_=Q*Q+L*L;
if(_!=0){var a=Math.sqrt(_),T=1/a;Q*=T;L*=T}$[N]=128+127*Q;$[N+1]=128+127*L}var f=1.3*P+2,Z=c*(2/10),W=J.slice();
if(gi._E){var D=new Float32Array([1/R,1/r]),C=gi.Et(0,R,r);C.set(W);var d=gi.Et(1,R,r);d.set($);gi.DM(C,v);
if(b){C.EO(v);gi.filter.I7({e:gi.filter.ajm,Mv:D,aH7:1/S,aos:Z},C.z7)}C.EO(v);gi.filter.I7({e:gi.filter.yk,yp:d.qb,Mv:D,H3:f,A$:2},C.z7);
if(b){C.EO(v);gi.filter.I7({e:gi.filter.atl,Mv:D,aEI:new Float32Array(U),akY:w},C.z7)}C.get(x)}else{if(b)g.v0.rh(1/S,Z,W,R,r);
g.v0.yk(W,x,$,R,r,f);if(b)g.v0.aHw(R,r,x,U,w)}var p=l*4;for(var h=3;h<p;h+=4)x[h]=J[h]};g.v0.yk=function(J,v,x,o,R,r){var l=Math.ceil(2*r),M=-1/(2*r*r),P=[],S=1;
for(var h=0;h<l+20;h++)P[h]=Math.exp(h*h*M);var c=[0,0,0,0];for(var b=0;b<R;b++){for(var w=0;w<o;w++){var U=b*o+w,F=U*4,Y=1,A=J[F],G=J[F+1],n=J[F+2],E=J[F+3],K=(x[F]-128)*(1/127),e=(x[F+1]-128)*(1/127),$=K,N=e,k=w==0?.51:.49,V=b==0?.51:.49;
for(var h=0;h<2;h++){var X=w+k,Q=b+V,L=0;while(L<l){if(X<.5||o-.5<X||Q<.5||R-.5<Q)break;var _=~~X,a=~~Q,T=a*o+_,f=T*4,Z=(x[f]-128)*(1/127),W=(x[f+1]-128)*(1/127);
if(Z*$+W*N<0){Z=-Z;W=-W}$=Z;N=W;X+=S*Z;Q+=S*W;if(X<.5||o-.5<X||Q<.5||R-.5<Q)break;var D=~~X,C=~~Q,d=C*o+D<<2;
L+=S;var p=P[~~L];g.O.aFg(X,Q,J,o,R,c);A+=c[0]*p;G+=c[1]*p;n+=c[2]*p;E+=c[3]*p;Y+=p}$=-K;N=-e}var y=1/Y;
v[F]=~~(.5+A*y);v[F+1]=~~(.5+G*y);v[F+2]=~~(.5+n*y);v[F+3]=~~(.5+E*y)}}};g.v0.aHw=function(J,v,x,o,R){for(var r=0;
r<v;r++)for(var l=0;l<J;l++){var M=r*J+l<<2,P=1+g.v0.a9a(l,r,x,J,v,o)*R;x[M]=Math.max(0,Math.min(255,x[M]*P));
x[M+1]=Math.max(0,Math.min(255,x[M+1]*P));x[M+2]=Math.max(0,Math.min(255,x[M+2]*P))}};g.v0.a9a=function(J,v,x,o,R,r){var l=x[(v*o+Math.max(0,J-1))*4+3],M=x[(v*o+Math.min(o-1,J+1))*4+3],P=x[(Math.max(0,v-1)*o+J)*4+3],S=x[(Math.min(R-1,v+1)*o+J)*4+3],c=.7,b=(M-l)*(1/255),w=.7,U=(S-P)*(1/255),F=-b*w,Y=-c*U,A=c*w,G=Math.sqrt(F*F+Y*Y+A*A),n=1/G,E=F*n,K=Y*n,e=A*n,$=r[0]*E+r[1]*K+r[2]*e;
return $};g.v0.rh=function(J,v,x,o,R){function r(M,S,c){return Math.max(S,Math.min(c,M))}for(var l=0;
l<R;l++)for(var M=0;M<o;M++){var P=g.v0.ajg(M+.5,l+.5,J,v);x[(l*o+M)*4+3]=Math.max(0,Math.min(255,P*255))}};
g.v0.ajg=function(J,v,x,o){function R(N,k,V){return(1-V)*N+V*k}var r=(J+613)*x,l=(v+117)*x,M=~~r,P=~~l,S=r-M,c=l-P,b=Math.sin(11),w=Math.cos(M)*b,U=Math.cos(M+1)*b,F=Math.cos(P)*b,Y=Math.cos(P+1)*b,co=g.v0.hash(w,F),A=g.v0.hash(U,F),G=g.v0.hash(w,Y),n=g.v0.hash(U,Y),E=R(co,A,S),K=R(G,n,S),e=R(E,K,c);
e=e<.5?0:1;var $=e+o*g.v0.hash(Math.cos(r)*b,Math.cos(l)*b);return $*(1/3)};g.v0.hash=function(J,v){var x=Math.sin(J*11.697096+v*73.32456)*12157.47691;
return x-Math.floor(x)};g.v0.am2=function(J,v,x,o){var R=[-1,0,1,-2,0,2,-1,0,1],r=[-1,-2,-1,0,0,0,1,2,1],l=v-1,M=x-1,P=v*4;
for(var S=1;S<M;S++)for(var c=1;c<l;c++){var h=S*v+c,b=h*4,w=g.v0.z3(J,b,P,R),U=g.v0.z3(J,b,P,r),F=g.v0.z3(J,b+1,P,R),Y=g.v0.z3(J,b+1,P,r),A=g.v0.z3(J,b+2,P,R),G=g.v0.z3(J,b+2,P,r);
o[b]=w*w+F*F+A*A;o[b+1]=w*U+F*Y+A*G;o[b+2]=U*U+Y*Y+G*G}g.v0.ach(o,v,x)};g.v0.z3=function(J,v,x,o){return J[v-x-4]*o[0]+J[v-x]*o[1]+J[v-x+4]*o[2]+J[v-4]*o[3]+J[v]*o[4]+J[v+4]*o[5]+J[v+x-4]*o[6]+J[v+x]*o[7]+J[v+x+4]*o[8]};
g.v0.ach=function(J,v,x){function o(P,h,S){var c=h*4,b=S*4;P[b]=P[c];P[b+1]=P[c+1];P[b+2]=P[c+2]}var R=v-1,r=x-1;
o(J,v+1,0);o(J,2*v-2,v-1);for(var l=1;l<R;l++)o(J,v+l,l);for(var M=1;M<r;M++){o(J,M*v+1,M*v);o(J,M*v+v-2,M*v+v-1)}for(var l=1;
l<R;l++)o(J,(x-2)*v+l,(x-1)*v+l);o(J,(M-2)*v+1,(M-1)*v);o(J,(M-1)*v-2,M*v-1)};g.V5=function(){function J(S,c,b,w){var U=new Float32Array(S*S),F=S/2;
for(var Y=0;Y<S;Y++)for(var A=0;A<S;A++){var G=A+b-F,n=Y+w-F;U[Y*S+A]=Math.max(0,Math.min(1,c+.5-Math.sqrt(G*G+n*n)))}return U}var v=[],o=null;
function x(S,c,b,w){var U=Math.floor(c*10),F=v[U],Y=S*8,A=Y>>>1;if(F==null){F=v[U]=[];var G=new jj(0,0,Y,Y),n=S/2/(1+.2*c),E=Math.floor(S*U*.1);
for(var K=0;K<2;K++)for(var e=0;e<2;e++){var $=J(Y,n,.25+e*.5,.25+K*.5),N=0;g.Wh.MM($,G,E);while($[Y*A+N]<.005)N++;
if(N!=0)N--;var k=2*(A-N),V=new jj(N,N,k,k),X=new Float32Array(k*k);for(var Q=0;Q<k;Q++)for(var L=0;
L<k;L++)X[Q*k+L]=$[(N+Q)*Y+N+L];F.push([X,V])}}var _=Math.floor(b),a=Math.floor(w),T=b-_,f=w-a,Z=T<.5?1:0,W=f<.5?1:0;
F=F[W*2+Z];var V=F[1].Q();V.x+=_-A;V.y+=a-A;return[F[0],V]}function R(S,c,b){if(o==null){o=new Uint8Array(4e4);
for(var h=0;h<4e4;h++)o[h]=Math.min(255,~~(.5+255*g.zp(h*(1/255))))}var w=S.length;for(var h=0;h<w;h++){var U=S[h],F=~~(255*U);
c[h]=o[F]<<24|b}}function r(S,c,b,w,U){var F=c.Xt(w),Y=Math.max(0,F.x-c.x),A=Math.max(0,F.x-w.x),G=Math.max(0,F.y-c.y),n=Math.max(0,F.y-w.y),E=F.r,K=F.$;
for(var h=0;h<K;h++){var e=(G+h)*c.r+Y,$=(n+h)*w.r+A;for(var N=0;N<E;N++){b[$+N]+=U*S[e+N]}}}var l=-1;
function M(S,c,b,w,U){var F=Math.round(w[1]*c*b*.01),Y=w[2],A=w[3],G=w[4],n=w[5],E=w[6],K=w[7],e=w[8],$=w[9],N=w[10]?w[10]:1,p=!1;
if(Y!=l){v=[];l=Y}var k=Date.now(),V=new jj(0,0,c,b),X=new P(w[0]);if(U)S.fill(0);var Q=new Float32Array(U?S.buffer:c*b);
for(var h=0;h<F;h++){var L=X.get()*c,_=X.get()*b,a=X.get()*A,T=X.get()*Y*4,f=(X.get()+E)*Math.PI*2,Z=X.get()*Y*4,W=(X.get()+2*E)*Math.PI*2;
L+=$*(T*Math.cos(f)+Z*Math.cos(W));_+=$*(T*Math.sin(f)+Z*Math.sin(W));if(e)_=_+E*b*N;var D=x(Y,a,L,_%b),C=G,d=X.get();
if(K)C=.5+.5*G*(.5+.5*Math.sin((2*E+d)*2*Math.PI));r(D[0],D[1],Q,V,C)}if(p)console.log(Date.now()-k,"add floats");
k=Date.now();var y=new Uint8Array(Q.buffer);R(Q,new Uint32Array(y.buffer),n.c<<16|n.H<<8|n.z);if(p)console.log(Date.now()-k,"toInt");
k=Date.now();if(!U){g.v.Ry("scrn",y,V,S,V,V,1);if(p)console.log(Date.now()-k,"blendOver")}}function P(S){this.zE=123456789;
this.KM=987654321;this.pR=4294967295;this.cc(S)}P.prototype.cc=function(h){this.zE=123456789+h&this.pR;
this.KM=987654321-h&this.pR};P.prototype.get=function(){this.KM=36969*(this.KM&65535)+(this.KM>>16)&this.pR;
this.zE=18e3*(this.zE&65535)+(this.zE>>16)&this.pR;var S=(this.KM<<16)+(this.zE&65535)>>>0;S/=4294967296;
return S};return{T5:M}}();g.Ku={};g.Ku.h2=function(J,v,x,o){var R=J[v*2],r=J[v*2+1],l=J[x*2],M=J[x*2+1],P=J[o*2],S=J[o*2+1];
return R*M+l*S+P*r-P*M-l*r-R*S};g.Ku.aBe=function(J,v){var x=[],o=[],R=[],r={};for(var h=0;h<v.length;
h+=3){var l=~~(h*(1/3)),M=v[h+0],P=v[h+1],S=v[h+2],c=g.Ku.h2(J,M,P,S);if(c>0){var b=P;P=S;S=b}var w=r[S+"-"+P],U=r[P+"-"+M],F=r[M+"-"+S],Y=[S,w,l,null],A=[P,U,l,Y],G=[M,F,l,A];
Y[3]=G;if(w)w[1]=Y;if(U)U[1]=A;if(F)F[1]=G;r[S+"-"+M]=G;r[M+"-"+P]=A;r[P+"-"+S]=Y;x[M]=A;R[h]=A;x[P]=Y;
R[h+1]=Y;x[S]=G;R[h+2]=G;o[l]=A}return{K6:x,zI:o,WS:R}};g.Ku.aJ2=function(J){var v=[],x=J.zI;for(var h=0;
h<x.length;h++){var o=x[h];v.push(o[0]);o=o[3];v.push(o[0]);o=o[3];v.push(o[0])}return v};g.Ku.aot=function(J,v,x,o){var R=J[v*2],r=J[v*2+1],l=J[x*2],M=J[x*2+1],P=J[o*2],S=J[o*2+1],c=l-R,b=M-r,w=P-R,U=S-r,F=c*(R+l)+b*(r+M),Y=w*(R+P)+U*(r+S),A=2*(c*(S-M)-b*(P-l));
if(Math.abs(A)<1e-5){var G=Math.min(R,l,P),n=Math.min(r,M,S),E=(Math.max(R,l,P)-G)*.5,K=(Math.max(r,M,S)-n)*.5;
return[G+E,n+K,E*E+K*K,1]}var e=(U*F-b*Y)/A,$=(c*Y-w*F)/A,E=e-R,K=$-r;return[e,$,E*E+K*K,0]};g.Ku.au1=function(J,v,x){var o=x[1],R=x[3],r=R[3],l=o[3],M=l[3],P=x[2],S=o[2],c=x[0],b=o[0],w=R[0],U=l[0],F=g.Ku.aot(J,b,U,w),Y=J[c*2]-F[0],A=J[c*2+1]-F[1],G=Y*Y+A*A>F[2]&&F[3]==0&&g.Ku.h2(J,U,c,w)<0&&g.Ku.h2(J,w,b,U)<0;
if(G){x[0]=w;o[0]=U;x[3]=r;r[3]=l;l[3]=x;o[3]=M;M[3]=R;R[3]=o;R[2]=S;l[2]=P;v.zI[S]=M;v.zI[P]=r;v.K6[b]=l;
v.K6[c]=R}return G};g.Ku.a8D=function(J,v,x){var o=J[v*2]-J[x*2],R=J[v*2+1]-J[x*2+1];return Math.sqrt(o*o+R*R)};
g.Ku.adD=function(J,v,x){var o=x[1],R=x[3],r=R[3],l,M,P=x[2],S,c=x[0],b=r[0],w=R[0],U;if(o){l=o[3];M=l[3];
S=o[2];U=l[0]}var F=J.length>>>1;J[2*F]=(J[2*b]+J[2*c])*.5;J[2*F+1]=(J[2*b+1]+J[2*c+1])*.5;if(!0){var Y=P,A=x,G=v.zI.length,n=[F,null,Y,A],E=[w,n,G,r];
n[1]=E;var K=[F,null,G,E];R[3]=n;r[3]=K;r[2]=G;v.zI[Y]=R;v.zI[G]=K;v.K6[c]=R;v.K6[w]=r;v.WS.push(n,E,K)}if(o){var e=S,$=o,N=G+1;
K[1]=$,$[1]=K;var k=[F,null,e,$],V=[U,k,N,M];k[1]=V;var X=[F,A,N,V];A[1]=X;l[3]=k;M[3]=X;M[2]=N;v.zI[e]=l;
v.zI[N]=M;v.K6[b]=l;v.K6[U]=M;v.WS.push(k,V,X)}v.K6[F]=A};g.Ku.a61=function(J,v){var x=0;while(!0){var o=x;
for(var h=0;h<v.WS.length;h++){var R=v.WS[h];if(R[1]==null)continue;var r=g.Ku.au1(J,v,R);if(r){x++;
break}}if(o==x)break}return x!=0};g.Ku.ap6=function(J,v,x,o){var R=0;for(var h=0;h<o;h++){var r=null,l=0;
for(var M=0;M<v.WS.length;M++){var P=v.WS[M],S=g.Ku.a8D(J,P[0],P[3][3][0])*(P[1]?1:2);if(S>l){r=P;l=S}}if(l>x){g.Ku.adD(J,v,r);
R++}}return R!=0};g.Ku.atv=function(J,v){var x=[],w=0;for(var h=0;h<J.length;h++)x.push(0);for(var h=0;
h<v.WS.length;h++){var o=v.WS[h],R=o[0],r=o[3][3][0],l=J[R*2],M=J[R*2+1],P=J[r*2],S=J[r*2+1],c=l-P,b=M-S;
x[R*2]+=-c;x[R*2+1]+=-b;x[r*2]+=c;x[r*2+1]+=b}for(var h=0;h<J.length;h+=2){var U=h>>>1,F=v.K6[U],o=F,Y=!0;
do{if(o[1]==null){Y=!1;break}o=o[1][3]}while(o!=F);if(Y){var A=.02;J[h]+=A*x[h];J[h+1]+=A*x[h+1];w+=A*(x[h]*x[h]+x[h+1]*x[h+1])}}return w};
g.Ku.a5p=function(J,v,x){var o=g.b.ni(J),R=g.Ku.aBe(J,v);g.Ku.a61(J,R);for(var r=0;r<300;r++){var l=!1,M=!1;
l=g.Ku.ap6(J,R,x,5);if(l)M=g.Ku.a61(J,R);var P=g.Ku.atv(J,R);if(!l&&!M&&P<1e-4){break}}return g.Ku.aJ2(R)};
g.Z1={};g.Z1.aEK=function(J){var v=J.oR,x=J.yB,o=J.D0,R=J.Z3,r=J.eX,l=J.Xl,M=J.Oy,P=g.gf.dy,n,E,K=0;
function S(co){var iH=new Array(co);for(var h=0;h<co;h++)iH[h]=0;return iH}var c=x.length>>>1,b=S(v.R8*2),w=S(v.R8),U=S(v.R8),F=Date.now();
for(var h=0;h<J.yg.length;h++){var Y=v.au6+h,A=v.BK*(l[h*2]+M[h*2]),G=v.BK*(l[h*2+1]+M[h*2+1]);b[Y*2]=A;
b[Y*2+1]=G;w[Y]=A;U[Y]=G}v.axS.cP(R,v.asw.dy(b),.01,n,E);for(var h=0;h<v.asN.WS.length;h++){var e=v.asN.WS[h],$=e[3][3][0],N=e[0],k=e[3][0],V=e[1]?e[1][3][0]:k;
if(e[1]&&$>N)continue;var X=x[$*2],Q=x[$*2+1],L=x[N*2],_=x[N*2+1],a=R[$*2],T=R[$*2+1],f=R[N*2],Z=R[N*2+1],W=R[k*2],D=R[k*2+1],C=R[V*2],d=R[V*2+1],p=[a,T,f,Z,W,D];
if(e[1])p.push(C,d);var y=P(v.ars[K],p),i=y[0],t=y[1],O=1/Math.sqrt(i*i+t*t);i*=O;t*=O;var q=L-X,z=_-Q;
w[K]=i*q+t*z;U[K]=-t*q+i*z;K++}var jw=new Array(c),u=new Array(c);for(var h=0;h<c;h++){jw[h]=r[h*2];
u[h]=r[h*2+1]}v.aCd.cP(jw,v.avC.dy(w),.5);v.aCd.cP(u,v.avC.dy(U),.5);for(var h=0;h<c;h++){r[h*2]=jw[h];
r[h*2+1]=u[h]}};g.Z1.amU=function(J){var v=J.yB,x=J.D0,o=J.yg,R=g.gf.multiply,r=Date.now(),l=g.Ku.aBe(v,x),M=v.length>>>1,P=0,F=0,t=1e3;
for(var h=0;h<l.WS.length;h++)P+=l.WS[h][1]?.5:1;var S=P+o.length,c=[],b=new g.wQ(S*2,M*2),w=new g.wQ(S,M),U=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],Y=[],A=[];
for(var h=0;h<l.WS.length;h++){var G=l.WS[h],n=G[3][3][0],E=G[0],K=G[3][0],e=G[1]?G[1][3][0]:K;if(G[1]&&n>E)continue;
var $=v[n*2],N=v[n*2+1],k=v[E*2],V=v[E*2+1],X=v[K*2],Q=v[K*2+1],L=v[e*2],_=v[e*2+1],a=[[$,N,1,0],[N,-$,0,1],[k,V,1,0],[V,-k,0,1],[X,Q,1,0],[Q,-X,0,1]];
if(G[1])a.push([L,_,1,0],[_,-L,0,1]);var T=g.gf.E3(a),f=R(linear.invert(R(T,a)),T);f.pop();f.pop();c.push(f);
var Z=k-$,W=V-N,D=U[G[1]?1:0];D=g.gf.aA(D,R([[Z,W],[W,-Z]],f));var C=[n*2,n*2+1,E*2,E*2+1,K*2,K*2+1,e*2,e*2+1],d=G[1]?8:6,p=[];
for(var y=0;y<d;y++)p.push([C[y],D[0][y],D[1][y]]);p.sort(function(iH,s){return iH[0]-s[0]});for(var i=0;
i<2;i++){for(var y=0;y<d;y++){Y[y]=p[y][0];A[y]=p[y][1+i]}b.LH(A,Y,d)}if(n<E)w.LH([-1,1],[n,E],2);else w.LH([1,-1],[E,n],2);
F++}for(var h=0;h<o.length;h++){var O=o[h];b.LH([t],[O*2],1);b.LH([t],[O*2+1],1);w.LH([t],[O],1)}var q=b.E3(),z=q.IF(q),jw=w.E3(),u=jw.IF(jw);
return{au6:P,R8:S,asw:q,axS:z,avC:jw,aCd:u,asN:l,ars:c,BK:t}};g.Z1.al_=function(J,v,x,o,R){var r=new jj(0,0,v,x),l=g.C(r.o());
g.Vi(J,l,3);g.round(l,70);var M=g.X5(l,r),P=[.1,.065,.035][o]*Math.max(M.r,M.$),S=R+1,c=v+S*2,b=x+S*2,w=new jj(-S,-S,c,b),U=g.C(w.o());
g.Cc(l,r,U,w);var F=U.slice(0);for(var Y=0;Y<R;Y++){for(var A=1;A<b-1;A++){for(var G=1;G<c-1;G++){var h=A*c+G;
F[h]=U[h-c]|U[h-1]|U[h]|U[h+1]|U[h+c]}}var n=F;F=U;U=n}var E=dy.np(U,c,b,Math.round(M.o()*5e-4)),K=dy.Ng(E),e=new bC(1,0,0,1,-S,-S);
for(var h=0;h<K.length;h++){var $=K[h];g.b.u($.path.T,e,$.path.T);$.yB=g.Z1.a4O($.path);$.D0=g.b.adU($.yB);
$.D0=g.Ku.a5p($.yB,$.D0,P)}return K};g.Z1.a4O=function(J){var v=g.b.aiK(J);v=g.b.a9e(v,1);var x=[],o=v.length;
for(var h=0;h<o;h+=2){var R=v.pop(),r=v.pop();x.push(r,R)}return x};g.Z1.aES=function(J,v,x,o){function R(k,V,X,Q,L){var _=L[k*2]-L[V*2],a=L[k*2+1]-L[V*2+1],T=Math.sqrt(_*_+a*a);
if(X[k].indexOf(V)==-1){X[k].push(V);Q[k].push(T)}if(X[V].indexOf(k)==-1){X[V].push(k);Q[V].push(T)}}var r=J.length>>>1,l=new Array(r);
if(x.length==0){l.fill(0);return l}var M=new Array(r),P=new Array(r);for(var h=0;h<r;h++){M[h]=[];P[h]=[]}for(var h=0;
h<v.length;h+=3){R(v[h],v[h+1],M,P,J);R(v[h],v[h+2],M,P,J);R(v[h+1],v[h+2],M,P,J)}var S=new Float64Array(r*2),c=new Uint32Array(r*2);
S.fill(1e9);var b=new Uint8Array(r);for(var w=0;w<x.length;w++){b.fill(0);var U=["---",[0,x[w]]];while(U.length!=1){var F=g.aqP.Ra(U),Y=F[0],A=F[1];
if(b[A]==1)continue;var G=A<<1;if(Y<S[G]){S[G+1]=S[G];c[G+1]=c[G];S[G]=Y;c[G]=w}else if(Y<S[G+1]){S[G+1]=Y;
c[G+1]=w}b[A]=1;var n=M[A],E=P[A];for(var h=0;h<n.length;h++){var K=n[h];if(b[K]!=1){g.aqP.lU(U,[Y+E[h],K])}}}}for(var h=0;
h<r;h++){var G=h<<1,e=S[G],$=S[G+1],N=1/(e+$);l[h]=(1-e*N)*o[c[G]]+(1-$*N)*o[c[G+1]]}return l};g.Z1.ag$=function(J){var v={Wp:[],T:[]},x=[J];
while(x.length!=0){var o=x.pop(),R=o.ZW;if(o.an8 instanceof Array||o.akM instanceof Array){v.Wp.push("M","L","L","L","Z");
v.T.push(R[0],R[1],R[2],R[1],R[2],R[3],R[0],R[3])}else x.push(o.an8,o.akM)}return v};g.Z1.GU=function(J,v,x,o,R,r,l,M,P,S,c){var b=Math.round(S.length/3),w=new Array(b);
for(var h=0;h<b;h++)w[h]=h;w.sort(function(F,Y){return P[S[F*3]]-P[S[Y*3]]});for(var h=0;h<b;h++){var U=w[h]*3;
g.Z1.aFp(S[U]*2,S[U+1]*2,S[U+2]*2,l,M,J,v,x,o,R,r,c)}};g.Z1.aFp=function(J,v,x,o,R,r,l,M,P,S,c,b){var w=[J,v,x,1.2,1.2,1.2,0],U=[0,0,0,0],F=R[J],Y=R[J+1],A=R[v],G=R[v+1],n=R[x],E=R[x+1],K=A-F,e=G-Y,$=n-F,N=E-Y,k=K*N-$*e+1e-9,V=1/k,X=Math.max(0,Math.min(l-1,o[J])),Q=Math.max(0,Math.min(l-1,o[v])),L=Math.max(0,Math.min(l-1,o[x])),_=Math.max(0,Math.min(M-1,o[J+1])),a=Math.max(0,Math.min(M-1,o[v+1])),T=Math.max(0,Math.min(M-1,o[x+1])),f=F<A?F<n?J:x:A<n?v:x,Z=R[f+1]+.5,W=Math.max(0,Math.floor(Math.min(F,A,n))),D=Math.min(S,Math.ceil(Math.max(F,A,n))),C=Math.max(0,Math.floor(Math.min(Y,G,E))),d=Math.min(c,Math.ceil(Math.max(Y,G,E))),p=1e9;
for(var y=C;y<d;y++){var i=y>Z&&p!=1e9?p:W;p=1e9;for(var t=i;t<D;t++){var O=t+.5-F,q=y+.5-Y,z=(O*N-$*q)*V,jw=(K*q-O*e)*V;
if(z>=0&&jw>=0&&z+jw<=1){if(p==1e9)p=t;var u=1-z-jw,iH=X*u+Q*z+L*jw,s=_*u+a*z+T*jw;if(b){var bV=Math.floor(.5+s)*l+Math.floor(.5+iH),jU=bV<<2,hx=y*S+t<<2;
P[hx]=r[jU];P[hx+1]=r[jU+1];P[hx+2]=r[jU+2];P[hx+3]=r[jU+3]}else{g.O.aFg(iH,s,r,l,M,U);g.Z1.aDo(U,P,y*S+t<<2)}}else if(p!=1e9)break}}};
g.Z1.aDo=function(J,v,x){if(J[3]>250){v[x]=~~(.5+J[0]);v[x+1]=~~(.5+J[1]);v[x+2]=~~(.5+J[2]);v[x+3]=~~(.5+J[3])}else{var o=v[x],R=v[x+1],r=v[x+2],l=v[x+3],M=1-J[3]*(1/255);
v[x]=~~(.5+J[0]+o*M);v[x+1]=~~(.5+J[1]+R*M);v[x+2]=~~(.5+J[2]+r*M);v[x+3]=~~(.5+J[3]+l*M)}};g.Z1.asV=function(){var J=function(x,o,R,r){var l=r[0],M=r[1],P=r[2],S=x[l+0],c=x[l+1],b=x[M+0],w=x[M+1],U=x[P+0],F=x[P+1],Y=b-S,A=w-c,G=U-S,n=F-c,E=o-S,K=R-c,e=Y*n-G*A,$=1/(e+1e-9),N=(E*n-G*K)*$,k=(Y*K-E*A)*$;
if(N>=0&&k>=0&&N+k<=1){r[3]=1-N-k;r[4]=N;r[5]=k;return 1}return 0},v=function(x,o,R,r){var l=[0,0,0,0,0,0];
for(var h=0;h<o.length;h+=3){l[0]=o[h]*2;l[1]=o[h+1]*2;l[2]=o[h+2]*2;if(J(x,R,r,l)==1)return!0}return!1};
return{anU:J,ahg:v}}();g.mp={};g.mp.aI_=function(J,v,x,o){J=J.slice(0);if(o)g.Os(o,J,3);else for(var h=0;
h<J.length;h+=4)J[h+3]=0;var R=g.C(v*x*4),r=!1;g.O.f0(J,v,x,R,[x,v,0,1,0,1,0,0]);return[g.mp.qs(J,v,x,r),g.mp.qs(R,x,v,r)]};
g.mp.u=function(J,v){var x=!1,o=J[0],R=J[1],r=o[1],l=o[2],M=o[3],P=v.r,S=v.$;if(l==P&&M==S)r=r.slice(0);
else if(M!=S){var c=g.C(l*S*4);g.mp.jT(R,S,c,x);r=g.C(l*S*4);g.O.f0(c,S,l,r,[l,S,0,1,0,1,0,0]);if(l!=P){o=g.mp.qs(r,l,S,x);
r=g.C(P*S*4);g.mp.jT(o,P,r,x)}}else if(l!=P){r=g.C(P*M*4);g.mp.jT(o,P,r,x)}for(var h=0;h<r.length;h+=4)r[h+3]=255;
return r};g.mp.qs=function(J,v,x,o){var R=Date.now(),r=new Uint16Array(v*x),S=1;g.mp.aoO(J,v,x,r);var l=g.C(v*x);
g.Vi(J,l,3);for(var M=0;M<x;M++)for(var P=0;P<v;P++)r[M*v+P]+=Math.floor((65535-r[M*v+P])*l[M*v+P]*(1/255));
var c=Math.ceil(v/S),b=new Uint32Array(S),w=new Uint32Array(S),c=Math.floor(v/S);for(var U=0;U<S;U++)w[U]=U<S-1?c:v-(S-1)*c;
for(var M=0;M<x;M++){var h=M*v;for(var U=0;U<S;U++){var c=w[U];for(var P=0;P<c;P++)b[U]+=r[h+P];h+=c}}if(o){console.log(Date.now()-R,"cost");
R=Date.now()}var F=new Uint32Array(v),Y=new Uint32Array(v),A=new Uint32Array(v*x);for(var P=0;P<v;P++){A[(x-1)*v+P]=r[(x-1)*v+P]}for(var M=x-2;
M>=0;M--){var G=M*v;for(var U=0;U<S;U++){var c=w[U];A[G]=r[G]+Math.min(A[G+v],A[G+v+1]);for(var P=1;
P<c-1;P++){var h=G+P;A[h]=r[h]+Math.min(A[h+v-1],Math.min(A[h+v],A[h+v+1]))}G+=c-1;A[G]=r[G]+Math.min(A[G+v-1],A[G+v]);
G++}}if(o){console.log(Date.now()-R,"Building M");R=Date.now()}function n(L,_){return L<_?L:_}function E(h,L){var _=Y[h],a=A[L],T=~~(_*a*1e-4);
return T}var K=new Uint8Array(v*x),e=new Uint32Array(v);for(var h=0;h<v;h++){F[h]=h;Y[h]=r[h]}for(var M=1;
M<x;M++){var $=0,G=M*v;for(var U=0;U<S;U++){var c=w[U],h=G;e[$]=E($,h);var N=e[$]+E($+1,h+1),k=E($,h+1)+E($+1,h);
e[$+1]=n(N,k);for(var P=2;P<c;P++){var h=G+P,V=e[$+P-1]+E($+P-1,h-1),X=e[$+P-2]+E($+P-1,h-2)+E($+P-2,h-1);
e[$+P]=n(V,X)}var P=c-1;while(P>=2){var h=G+P,V=e[$+P-1]+E($+P-1,h-1),X=e[$+P-2]+E($+P-1,h-2)+E($+P-2,h-1);
if(e[$+P]==V){K[h-v]=1;P-=1}else{K[h-v]=0;K[h-v-1]=2;P-=2}}var h=G;if(P==0){K[h-v]=1}else{if(e[$+1]==N){K[h+1-v]=1;
K[h-v]=1}else{K[h+1-v]=0;K[h-v]=2}}G+=c;$+=c}g.mp.ayX(M,v,K,r,F,Y,!0,R)}if(o){console.log(Date.now()-R,"Matching");
R=Date.now()}var Q=r;return[UZIP.adler(J,0,J.length),J,v,x,S,w,b,F,Y,K,Q]};g.mp.jT=function(J,v,x,o){var R=J.slice(0),r=R.shift(),l=R.shift(),M=R.shift(),P=R.shift(),S=R.shift(),c=R.shift(),b=R.shift(),w=R.shift(),U=R.shift().slice(0),F=R.shift(),Y=R.shift(),A=Date.now(),G=Math.abs(M-v),n=Math.floor(G/S),E=new Uint32Array(S),e=0,$=1e9,k=0,V=0,X=0;
for(var K=0;K<S;K++)E[K]=K<S-1?n:G-(S-1)*n;Y.fill(0);for(var N=0;N<M;N++){e=Math.max(e,U[N]);$=Math.min($,U[N])}for(var K=0;
K<S;K++){var Q=c[K],n=E[K];for(var L=0;L<n;L++){var _=0,a=1e9;for(var N=0;N<Q;N++)if(U[V+N]<a){a=U[V+N];
_=V+N}if(v<M)U[_]=1e9;else U[_]*=1.2;if(X<M/3)k+=a;var T=w[_],f=Y[T],Z=f<65280?65280:f+1;if(Z<65280)throw"e";
for(var W=0;W<P;W++){var h=W*M+T;Y[h]=Z;T+=F[h]-1}X++}V+=Q}if(o){console.log(Date.now()-A,"Removing best seams");
A=Date.now()}function D(h,d){var p=h<<2,y=d<<2;x[p]=l[y];x[p+1]=l[y+1];x[p+2]=l[y+2];x[p+3]=l[y+3]}for(var W=0;
W<P;W++){var C=0,h=W*M;for(var N=0;N<v;N++,C++){if(v<M){while(Y[h+C]==65280)C++;D(W*v+N,W*M+C)}else{D(W*v+N,W*M+C);
while(Y[h+C]>=65280){Y[h+C]--;N++;D(W*v+N,W*M+C)}}}}if(o){console.log(Date.now()-A,"Shifting image pixels");
A=Date.now()}};g.mp.ayX=function(J,v,x,o,R,r){var l=0,h=J*v;while(l<v){if(x[h-v]==1){r[l]=r[l]+o[h];
l++;h++}else{var M=R[l];R[l]=R[l+1];R[l+1]=M;var P=r[l];r[l]=r[l+1]+o[h];r[l+1]=P+o[h+1];l+=2;h+=2}}};
g.mp.aoO=function(J,v,x,o){function R(J,h,P){var b=h<<2,w=P<<2,U=J[b]-J[w],F=J[b+1]-J[w+1],Y=J[b+2]-J[w+2];
return Math.abs(U)+Math.abs(F)+Math.abs(Y)}for(var r=1;r<v;r++){var l=R(J,r,r-1);o[r-1]+=l;o[r]+=l}for(var M=1;
M<x;M++){var P=M*v,l=R(J,P,P-v);o[P]+=l;o[P-v]+=l;for(var r=1;r<v;r++){var h=M*v+r,S=R(J,h,h-1),c=R(J,h,h-v);
o[h-v]+=c;o[h-1]+=S;o[h]+=c+S}}for(var M=0;M<x;M++){o[M*v]*=2;o[M*v+v-1]*=2}for(var h=0;h<o.length;h++)if(o[h]==0)o[h]=1};
g.Xh=function(){function J(){return 1953e6+Math.floor(Math.random()*999999)}function v(a,T){var f=T[0]-a[0],Z=T[1]-a[1];
return f*f+Z*Z}function x(a,T,f,Z,W,D,C,d){var p=f-a,y=Z-T,i=g.b.Ak(a,T,p,y,W,D,C-W,d-D),t=[a+i*p,T+i*y],O=i>0?[[[a,T],t,!1,0,1],[[W,D],t,!1,0,5]]:[[[f,Z],t,!1,0,1],[[C,d],t,!1,0,5]];
return O}function o(a,T){var f=x(a[0],a[1],a[2],a[3],a[6],a[7],a[4],a[5]),Z=x(a[0],a[1],a[6],a[7],a[2],a[3],a[4],a[5]),W=[f,Z],D=[f[0][1],Z[0][1]];
for(var h=0;h<2;h++){var C=D[1-h],d=W[h];if(v(d[0][0],C)<v(d[1][0],C)){var p=d[0];d[0]=d[1];d[1]=p}}var y=[J(),0,-1,0,[0,0],f[0],f[1],Z[0],Z[1]],i=e(y,T),t=i[1][0];
y[3]=t;y[4]=i[0][t];y[5][3]=y[6][3]=i[0].indexOf(y[5][1]);y[7][3]=y[8][3]=i[0].indexOf(y[7][1]);if((y[6][3]+1)%3!=y[7][3]){var p=y[5];
y[5]=y[7];y[7]=p;var p=y[6];y[6]=y[8];y[8]=p}for(var h=0;h<4;h++)y[5+h][4]=[1,5,7,3][h];return y}function R(a){var T=a[5],f=a[8],Z=a[6],W=T[0],D=f[0],C=Z[0],d=T[1],p=f[1],y=D[0],i=D[1],t=p[0]-y,O=p[1]-i,q=g.b.Ak(y,i,t,O,C[0],C[1],d[0]-C[0],d[1]-C[1]);
return[W[0],W[1],y,i,y+q*t,i+q*O,C[0],C[1]]}function r(a,T){return a[0]==T[0]&&a[1]==T[1]}function l(a){return{1:0,5:1,7:2,3:3}[a]}function M(a,T,f){var Z=T[5+l(a)],W=Z[1],D=Z[0][0]-W[0],C=Z[0][1]-W[1],d=Math.sqrt(D*D+C*C);
D/=d;C/=d;for(var p=0;p<f.length;p++){var y=f[p];if(y[0]!=T[1]&&y[1]!=T[0])continue;for(var h=0;h<4;
h++){var i=y[5+h],t=i[0];if(!r(W,i[1]))continue;var O=t[0]-W[0],q=t[1]-W[1];d=Math.sqrt(O*O+q*q);O/=d;
q/=d;var z=O*D+q*C;if(Math.abs(z-1)<1e-7)return!0}}return!1}function P(a,T){g.O.u(a,T);return T}function S(a,T){var f=[];
for(var Z=0;Z<a.length;Z++){var W=a[Z],D=W[1];for(var C=0;C<D.length;C++){if(T&&T[Z].indexOf(C)==-1)continue;
var d=D[C],p=[],y=g.O.e6(R(d),new jj(0,0,1,1));for(var h=1;h<=7;h+=2){p[h]=M(h,d,D)}if(!p[1]){if(!p[7])f.push([P(y,[0,0]),Z,C,0]);
f.push([P(y,[.5,0]),Z,C,1])}if(!p[3]){if(!p[1])f.push([P(y,[1,0]),Z,C,2]);f.push([P(y,[1,.5]),Z,C,3])}if(!p[5]){if(!p[3])f.push([P(y,[1,1]),Z,C,4]);
f.push([P(y,[.5,1]),Z,C,5])}if(!p[7]){if(!p[5])f.push([P(y,[0,1]),Z,C,6]);f.push([P(y,[0,.5]),Z,C,7])}}}return f}function c(a){var T=a.length-2,f=0;
for(var h=0;h<T;h+=2)f+=(a[h+2]-a[h])*(a[h+1]+a[h+3]);f+=(a[0]-a[T])*(a[T+1]+a[1]);return-f*.5}function b(a,T,f,Z){}function w(a,h){var T=a[h+2&7]-a[h&7],f=a[h+3&7]-a[h+1&7],Z=1/Math.sqrt(T*T+f*f);
return[T*Z,f*Z]}function U(a){var T=a[2];a[2]=a[6];a[6]=T;var T=a[3];a[3]=a[7];a[7]=T}function F(a,T,f,Z){if(Z==null)Z=0;
var W=T[1],D=R(T),q=null,z,s,bV,ad,jC,O,iJ;if(W==0){if(c(D)<0)U(D);var C=6,d=D[7]+D[1];for(var h=0;h<6;
h+=2){var p=D[h+1]+D[h+3];if(p<d){d=p;C=h}}D=D.slice(C).concat(D.slice(0,C));var y=H.cD.ut(D,f[0],f[1]),i=Math.sqrt(v(D,D.slice(2))),t=Math.sqrt(v(D.slice(4),D.slice(6))),O=(i+t)*.5;
return[D,new jj(0,0,O,O/y)]}for(var h=0;h<a.length&&q==null;h++){z=a[h][1];for(var jw=0;jw<z.length&&q==null;
jw++)if(z[jw][0]==W)q=z[jw]}var u=F(a,q,f,Z+1),iH=u[0];u=u[1];for(var h=0;h<8;h+=2){var jU=iH[h&7],hx=iH[h+1&7],eX=iH[h+2&7],et=iH[h+3&7];
for(var jw=0;jw<8;jw+=2){var f7=D[jw],iY=D[jw+1],cd=D[jw+2&7],jV=D[jw+3&7],g2=Math.abs(g.b.X8(jU,hx,eX,et,f7,iY))+Math.abs(g.b.X8(jU,hx,eX,et,cd,jV));
if(g2<=30){s=jw;bV=h}}}var gV=w(iH,bV),fD=w(D,s),j4=gV[0]-fD[0],dQ=gV[1]-fD[1],eO=j4*j4+dQ*dQ;if(eO<.001){U(D);
s={0:6,2:4,4:2,6:0}[s]}while(s!=(bV+4&7)){D.unshift(D.pop());s=s+1&7}var y=H.cD.ut(D,f[0],f[1]),a7=g.O.e6(iH,u);
a7=g.O.SV(a7);var cc=[D[s],D[s+1],D[s+2&7],D[s+3&7]];g.O.u(a7,cc);var kJ=g.b.ni(cc);if(bV==0||bV==4){O=kJ.r;
iJ=O/y;ad=kJ.x;jC=kJ.y+(bV==0?-iJ:0)}else{iJ=kJ.$;O=iJ*y;jC=kJ.y;ad=kJ.x+(bV==6?-O:0)}return[D,new jj(ad,jC,O,iJ)]}function Y(a,T){function f(t,O,q,z){var jw=P(t,[O,q]);
jw.push(z);return jw}var Z=[];for(var W=0;W<a.length;W++){var D=a[W],C=D[1];for(var d=0;d<C.length;d++){var p=C[d],y=F(a,p,T),i=y[0],t=g.O.e6(i,new jj(0,0,1,1));
Z.push(f(t,.5,0,1));Z.push(f(t,1,.5,3));Z.push(f(t,.5,1,5));Z.push(f(t,0,.5,7));Z.push(f(t,.5,.5,[y?(y[1].r/y[1].$).toFixed(2):""].join(", ")))}}return Z}function A(a,T,f,Z){var W=[T],D=[T];
while(!0){var C=[];for(var h=0;h<a.length;h++){var d=a[h],p=!1;for(var y=0;y<W.length;y++){if(d[1]==a[W[y]][0]||d[0]==a[W[y]][1])C.push(h)}}var i=W.length;
for(var h=0;h<C.length;h++){var t=C[h],d=a[t];if(D.indexOf(t)!=-1)continue;D.push(t);var O=F([[10,a]],d,Z);
if(O[1].Rt(f))W.push(t)}if(i==W.length)break}return W}function G(a,T,f){var Z=f[0],W=f[1],D=T.x-a[0],C=T.y-a[1],d=g.b.Ak(a[0],a[1],D,C,W[0],W[1],Z[0]-W[0],Z[1]-W[1]);
return[a[0]+d*D,a[1]+d*C]}function n(a,T,f){a=g.F(a);var Z=a[T[1]][1][T[2]],W=T[3]>=8,D=T[3]&7;if((D&1)==0)return a;
var C=l(D);if(D==1||D==7){var d=Z[5+C],p=Z[5+2-C],y=Z[5+(D==1?3:1)],i=Z[5+(D==1?1:3)],t=d[1],O=G(t,f,p);
if(!W&&v(O,p[1])<v(i[0],p[1]))return a;d[0]=p[0]=O;y[0]=G(t,f,y)}else{var y=Z[5+C],t=y[1],d=Z[5+(D==3?0:2)],O=G(t,f,d);
if(!W&&v(O,d[1])>v(d[0],d[1]))return a;if(Math.sign(d[1][0]-d[0][0])!=Math.sign(d[1][0]-O[0]))return a;
y[0]=O}return a}function E(a,T,f){var Z=T[0]-a[0],W=T[1]-a[1],D=g.b.Ak(f[0],f[1],-W,Z,a[0],a[1],Z,W);
return[f[0]-W*D,f[1]+Z*D]}function K(a,T,f){var Z=f[0],W=f[1],P=E(a,T,f),D=P[0],C=P[1],d=E(a,f,T),p=g.b.Ak(D,C,Z-D,W-C,T[0],T[1],d[0]-T[0],d[1]-T[1]);
return[D+(Z-D)*p,C+(W-C)*p]}function e(a,T){var f=a[5][1],Z=a[7][1],W=K(f,Z,T),D=[f,Z,W];D.sort(function(p,y){return p[0]-y[0]});
if(c([D[0][0],D[0][1],D[1][0],D[1][1],D[2][0],D[2][1]])<0){var C=D[1];D[1]=D[2];D[2]=C}var d=[D.indexOf(f),D.indexOf(Z),D.indexOf(W)];
return[D,d]}function $(a,T,f){a=g.F(a);var Z=T[1],W=a[Z][1][T[2]],D=T[3];if((D&1)!=1)return a;var C=e(W,f),d=C[1][2],p=C[0][d],y=g.F(W);
a[Z][1].push(y);y[0]=J();y[1]=W[0];y[2]=-10+D;y[3]=d;y[4]=p;if(D==1||D==5){y[7][3]=y[8][3]=d;y[7][1]=y[8][1]=p;
if(D==5){y[5][0]=y[7][0]=W[6][0];y[8][0]=R(W).slice(4,6)}}else{y[5][3]=y[6][3]=d;y[5][1]=y[6][1]=p;if(D==3){y[5][0]=y[7][0]=W[8][0];
y[6][0]=R(W).slice(4,6)}}return a}function N(a,T,f){a=g.F(a);var Z=T[1],W=a[Z][1][T[2]],D=W[2]+10,C=D+4&7,d=D==1||D==5,p=W[5+l(d?7:1)][1],y=W[5+l(C)][0],i=W[5+l(D)][0];
W[2]=(d?90:0)+(v(y,p)<v(i,p)?180:0);var t=o(R(W),f);for(var h=5;h<9;h++)W[h]=t[h];return a}function k(a,T,f){var co=a.length>>1,Z,W=a[2*co-3]-f,D=a[2*co-2]-T,C=a[2*co-1]-f,d=!1,p=0;
for(var h=0;h<co;h++){Z=D;W=C;D=a[2*h]-T;C=a[2*h+1]-f;if(W==C)continue;d=C>W}for(var h=0;h<co;h++){Z=D;
W=C;D=a[2*h]-T;C=a[2*h+1]-f;if(W<0&&C<0)continue;if(W>0&&C>0)continue;if(Z<0&&D<0)continue;if(W==C&&Math.min(Z,D)<=0)return!0;
if(W==C)continue;var y=Z+(D-Z)*-W/(C-W);if(y==0)return!0;if(y>0)p++;if(W==0&&d&&C>W)p--;if(W==0&&!d&&C<W)p--;
d=C>W}return(p&1)==1}function V(a,T,f,Z,W){var D=null;for(var C=0;C<a.length;C++){var d=a[C][1];for(var p=0;
p<d.length;p++){var y=R(d[p]);if(k(y,T,f)||W&&W[0]==C&&W[1]==p&&D==null){D=[C,p];if(Z){var i=F(a,d[p],Z),t=g.O.e6(i[0],i[1]),O=[T,f];
t=g.O.SV(t);g.O.u(t,O);D.push(O)}}}}return D}function X(a,T){for(var f=0;f<a.length;f++){var Z=a[f][1],W=T[f];
if(W.length==0)continue;var D=Q(Z,W);for(var C=0;C<Z.length;C++){if(D.indexOf(Z[C][0])!=-1){Z.splice(C,1);
C--}}}for(var f=0;f<a.length;f++)if(a[f][1].length==0){a.splice(f,1);f--}return a}function Q(a,T){var f=[];
for(var h=0;h<10;h++)for(var Z=0;Z<a.length;Z++){var W=a[Z];if(T.indexOf(Z)!=-1||f.indexOf(W[1])!=-1)if(f.indexOf(W[0])==-1)f.push(W[0])}return f}function L(a){var T=I.b_(a,0,a.length),f=T.split("\n").slice(1);
function Z(){return parseFloat(f.shift())}function W(){var f7=[Z(),Z()];D(1);return f7}function D(co){for(var h=0;
h<co;h++)f.shift()}var C=[],d=Z();for(var p=0;p<d;p++){var y=Z(),i=Z(),t=[];C.push([y,t]);for(var O=0;
O<i;O++){var q=Z(),z=Z(),jw=Z(),u=Z(),iH=W(),s=[q,z,jw,u,iH];t.push(s);for(var h=0;h<4;h++){var bV=W(),jU=W(),hx=Z()==1,eX=Z(),et=Z();
s.push([bV,jU,hx,eX,et])}}}return C}function _(a){function T(i){f.push(i[0],i[1],"")}var f=["tNaF203"];
f.push(a.length);for(var Z=0;Z<a.length;Z++){f.push(a[Z][0]);var W=a[Z][1];f.push(W.length);for(var D=0;
D<W.length;D++){var C=W[D];f.push(C[0],C[1],C[2],C[3]);T(C[4]);for(var h=0;h<4;h++){var d=C[5+h];T(d[0]);
T(d[1]);f.push(d[2]?1:0,d[3],d[4])}}}var p=f.join("\n"),y=new Uint8Array(p.length);I.cO(y,0,p);return y}return{KE:L,Ce:_,aCM:R,aFf:o,ew:S,aCB:n,Yi:Y,aDP:function(a,T){return T&&(T[3]&1)==0&&a[T[1]][1].length==1},dp:function(a,T){return T&&(T[3]&1)==1},lM:F,aq3:$,a4g:N,a7V:X,pD:Q,A8:V,l3:A}}();
g.aIq=function(){var J=0,v=0,o=15,r=256;function x(c,b,w,U,F,Y){var A=(F-1)*b,G=Y*b;return c[G+U]-c[G+w-1]-c[A+U]+c[A+w-1]}var R=Math.round(o/8),l=[];
function M(c,b){for(var w=0;w<b.length;w++){var U=b[w],F=0,Y=0,A=c[U.FY],G=A.WK,n=A.BK,E=A.mq;for(var K=-o;
K<=o;K++)for(var e=-o;e<=o;e++){var $=e+U.abY,N=K+U.aqk;if(e*e+K*K>o*o||$<0||N<0||$>=n||N>=n)continue;
var k=G[N*n+$];F+=e*k;Y+=K*k}U.YN=Math.atan2(Y,F)}}function P(c,b,w,U,F){var Y=~~(c+.5),A=~~(b+.5);return x(w,U,Y-R,Y+R,A-R,A+R)}function S(c,b,w,U,F){J=U;
v=F;if(l.length==0){var Y=new g.v.AH(16200817),E=8,K=0;function A(iH){var X=iH[0]-iH[2],Q=iH[1]-iH[3];
return X*X+Q*Q}function G(){var iH=0,s=0;while(iH===0)iH=Y.get();while(s===0)s=Y.get();return Math.sqrt(-2*Math.log(iH))*Math.cos(2*Math.PI*s)}var n=G,e=[];
while(K!=r){var $=Math.max(-o,Math.min(o,n()*E)),N=Math.max(-o,Math.min(o,n()*E)),k=Math.max(-o,Math.min(o,n()*E)),V=Math.max(-o,Math.min(o,n()*E)),X=$-k,Q=N-V,L=Math.sqrt(X*X+Q*Q);
if(L<3||L>12)continue;l.push($,N,k,V);K++}}var _=20;for(var a=0;a<b.length;a++){var T=b[a],f=c[T.FY],Z=f.RT,w=f.WK,U=f.BK,F=f.mq,W=T.abY,D=T.aqk,C=T.YN,d=Math.cos(C),p=Math.sin(C),y=new Uint8Array(r>>>3);
T._g=y;for(var h=0;h<r;h++){var i=h*4,$=l[i+0],N=l[i+1],k=l[i+2],V=l[i+3],t=d*$-p*N,O=p*$+d*N,q=d*k-p*V,z=p*k+d*V,jw=P(W+t,D+O,Z,U,F),u=P(W+q,D+z,Z,U,F);
y[h>>>3]|=(jw<u?0:1)<<(h&7)}}}return{a9T:M,a0H:S}}();g.aE2=function(){function J(v,x){var o=[[9]],R=Date.now(),r=[];
for(var l=0;l<v.length;l++){var M=v[l],P=M.RT,S=M.BK,c=M.mq,U=9,E=1,T=24;if(P==null)continue;var b=new Float32Array(S*c),w=new Uint8Array(S*c),F=U>>>1,Y=F>>>1,A=Math.round(U/3);
if(A!=U/3)throw"e";var G=1/(U*U),n=1.2*(U/9);for(var K=F+1;K<c-F;K+=E)for(var e=F+1;e<S-F;e+=E){var $=g.D$(P,S,e-Y,e+Y,K-F,K+F)-3*g.D$(P,S,e-Y,e+Y,K-F+A,K+F-A),N=g.D$(P,S,e-F,e+F,K-Y,K+Y)-3*g.D$(P,S,e-F+A,e+F-A,K-Y,K+Y),k=e-F+1,V=e+F-1,X=K-F+1,Q=K+F-1,L=g.D$(P,S,k,e-1,X,K-1)+g.D$(P,S,e+1,V,K+1,Q)-g.D$(P,S,e+1,V,X,K-1)-g.D$(P,S,k,e-1,K+1,Q),_=(N*$-.9*L*(.9*L))*(G*G);
b[K*S+e]=Math.abs(_);w[K*S+e]=_<0?0:1}var a=S*E;for(var K=T;K<c-T;K+=E)for(var e=T;e<S-T;e+=E){var h=K*S+e,f=b[h];
if(f<16)continue;if(b[h-E]>=f||b[h+E]>=f)continue;if(b[h-a-E]>=f||b[h-a]>=f||b[h-a+E]>=f)continue;if(b[h+a-E]>=f||b[h+a]>=f||b[h+a+E]>=f)continue;
r.push({x:~~(e*M.jE+.5),y:~~(K*M.jE+.5),abY:e,aqk:K,FY:l,K:f,ax4:w[h],hO:n})}}if(x!=null){r.sort(function(i,t){return t.K-i.K});
r=r.slice(0,x)}return r;var Z=[];for(var h=0;h<r.length;h++){var W=!0,D=r[h];for(var C=0;C<r.length;
C++){var d=r[C];if(C!=h&&d.K>D.K&&(d.FY==D.FY+1||d.FY==D.FY-1)){var p=D.x-d.x,y=D.y-d.y;if(p*p+y*y<5){W=!1;
break}}}if(W)Z.push(D)}console.log(r.length,Z.length);return Z}return{a3T:J}}();g.Xr={};g.Xr.aBK=function(J){var v=J.length,x=g.Xr.amm(J,!1),R=0,r=1;
throw"e";var o=[];for(var h=0;h<v;h++)o[h]=g.Xr.azd(x[h]);var l=J[0][1],M=g.Xr.match(x[R],x[r],o[r]);
console.log(M.length);var P=Math.max(Math.min(M.length,40),M.length*.54);P=Math.min(P,200);var S=M.slice(0,P),c=g.G4.asZ(x[R],x[r],S,l.r,l.$),b=g.G4.awr(c,[0,0,0],1),w=l.r/2,U=l.$/2,F=1/Math.max(w,U);
for(var h=0;h<1;h++){var Y=S[h],A=x[R][Y[0]],G=x[r][Y[1]],n=g.G4.aac(b,F*(A.x-w),F*(A.y-U),F*(G.x-w),F*(G.y-U))}var E=g.G4.aBZ(c,l),K=[];
for(var h=0;h<2;h++){var e=E[h],$=[e[0][0],e[0][1],e[0][2],e[1][0],e[1][1],e[1][2],e[2][0],e[2][1]],N=H.ge.lI(J[h],null,$);
K.push([N.buffer,N.S])}return[g.Xr.aDT(K[0],K[1],x[R],x[r],S,c,E,l)]};g.Xr.a3=function(J,v){var x=J.length,o=!1,R=Date.now(),r=g.Xr.amm(J,!1,1e4);
if(o)console.log("Descriptors ready",Date.now()-R);R=Date.now();for(var h=0;h<x;h++){var l=J[h][1];for(var M=0;
M<r[h].length;M++){r[h][M].x+=l.x;r[h][M].y+=l.y}}if(o)console.log("shifted",Date.now()-R);R=Date.now();
var P=[];for(var h=0;h<x;h++)P[h]=g.Xr.azd(r[h]);if(o)console.log("trees built",Date.now()-R);R=Date.now();
var S=[];for(var h=0;h<x-1;h++)for(var M=h+1;M<x;M++){var c=g.Xr.match(r[h],r[M],P[M]);if(o)console.log("Matches found",h,M,c.length);
c=c.slice(0,c.length>>>1);if(c.length<10)continue;var b=g.Xr.ab0(r[h],r[M],c,2);S.push([h,M,c,b])}S.sort(function(V,X){return X[2].length-V[2].length});
if(o)console.log("Matches found",Date.now()-R);R=Date.now();var w=[],U=new UnionFind(x);for(var h=0;
h<S.length;h++){var F=S[h],Y=U.find(F[0]),A=U.find(F[1]);if(Y!=A){w.push(F);U.link(Y,A)}}var G=[];for(var h=0;
h<x;h++)G[h]=[1,0,0,0,1,0,0,0];var n=[0],E=new Uint8Array(x);E[n[0]]=1;while(n.length!=0){var A=n.pop(),b=G[A],K=[];
for(var h=0;h<w.length;h++){var F=w[h],e=F[0],$=F[1];if(e==A&&E[$]==0){G[$]=g.O.K1(b,F[3]);n.push($);
E[$]=1}if($==A&&E[e]==0){G[e]=g.O.K1(b,g.O.SV(F[3]));n.push(e);E[e]=1}}}if(v==null){var N=[];for(var h=0;
h<x;h++)N.push([G[h][2],h]);N.sort(function(V,X){return V[0]-X[0]});v=N[N.length>>>1][1]}var k=g.O.SV(G[v]);
for(var h=0;h<x;h++)G[h]=g.O.K1(G[h],k);if(o)console.log("Transforms reordered",Date.now()-R);R=Date.now();
return G};g.Xr.amm=function(J,v,x){var o=[],R=!1;for(var h=0;h<J.length;h++){var r=J[h][0],l=J[h][1],M=l.r,P=l.$,S=g.C(l.o());
g.dF(r,S);var c=Date.now(),b=g.Xr.ayH(S,l,!0);if(R)console.log("Pyramid built ---------------",Date.now()-c);
c=Date.now();var w=g.aE2.a3T(b,x);if(R)console.log("SURF Generation",Date.now()-c);c=Date.now();if(!v){g.aIq.a9T(b,w);
if(R)console.log("ORB Orientations",Date.now()-c);c=Date.now();g.aIq.a0H(b,w,S,M,P);if(R)console.log("ORB Descriptors",Date.now()-c);
c=Date.now()}o.push(w)}return o};g.Xr.ayH=function(J,v,x){var o=[],R=[J,v];g.To(R);if(x){var r=g.a2D(J,v),l=r.S,M=[r.r3,l];
g.To(M)}for(var h=0;h<R.length;h++){var P=R[2*h],S=R[2*h+1],c=S.r,b=S.$,w=Math.min(c,b);if(w<30)break;
if(w<1600)o.push({WK:P,BK:c,mq:b,jE:1<<h,RT:g.vV(P,c,b)});if(!x)continue;var P=M[2*h],S=M[2*h+1],c=S.r,b=S.$,w=Math.min(c,b);
if(w<30)break;if(w<1600)o.push({WK:P,BK:c,mq:b,jE:(1<<h)*3/2,RT:g.vV(P,c,b)})}return o};g.Xr.ab0=function(J,v,x,o){var R=Date.now(),r,l=0,M=0,P=x.length,S=new Float64Array(2);
for(var c=0;c<3e3;c++){var b=~~(Math.random()*P),w=~~(Math.random()*P),U=~~(Math.random()*P),F=~~(Math.random()*P),a=0,T=0;
if(b==w||b==U||b==F||w==U||w==F||U==F)continue;var Y=x[b],A=x[w],G=x[U],n=x[F],E=J[Y[0]],K=v[Y[1]],e=J[A[0]],$=v[A[1]],N=J[G[0]],k=v[G[1]],V=J[n[0]],X=v[n[1]],Q=[E.x,E.y,e.x,e.y,N.x,N.y,V.x,V.y],L=[K.x,K.y,$.x,$.y,k.x,k.y,X.x,X.y],_=g.O.aGQ(Q,L);
if(_[0]==0&&_[1]==0&&_[3]==0&&_[4]==0)continue;var f=P-l+2;for(var h=0;h<P&&h-a<f;h++){var Z=J[x[h][0]],W=v[x[h][1]];
g.O.jf(W.x,W.y,_,S);var D=S[0]-Z.x,C=S[1]-Z.y,d=D*D+C*C;if(d<o){a++;T+=d}}if(a>l||a==l&&T<M){r=_;l=a;
M=T}}return r};var fg=new Uint8Array(256);for(var h=0;h<256;h++){var kk=0,co=h;while(co!=0){co=co&co-1;
kk++}fg[h]=kk}g.Xr.a8e=function(J,v,x){var o=0,R=J.length;for(var h=0;h<R&&o<x;h++)o+=fg[J[h]^v[h]];
return o};g.Xr.aJ7=function(J,v,x,top,o){if(o[x]==1)return;var R=g.Xr.a8e(J._g,v._g,top[0]);if(R<top[0]){if(R<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=R;top[3]=x}else{top[0]=R;top[1]=x}}o[x]=1};g.Xr.azd=function(J){var v=[],x=[],o=[[],[]],R=4;
for(var h=0;h<J.length;h++)(J[h].ax4==0?v:x).push(h);for(var r=0;r<2;r++){var l=new Array(R),M=[],P=r==0?v:x,S=P.length/256,c=[];
for(var b=0;b<32;b++){var w=new Array(256),Y=0;for(var U=0;U<256;U++)w[U]=[];for(var U=0;U<P.length;
U++){var F=P[U];w[J[F]._g[b]].push(F)}for(var U=0;U<256;U++)Y+=Math.abs(w[U].length-S);c.push([Y,b,w])}c.sort(function(A,G){return A[0]-G[0]});
var M=[],l=[];o[r]=[M,l];for(var h=0;h<R;h++){M.push(c[h][1]);l.push(c[h][2])}}return o};g.Xr.match=function(J,v,x){var o=[],R=new Uint16Array(v.length);
R.fill(65535);var r=new Uint8Array(v.length),top=new Uint32Array(4),l=[];for(var M=0;M<J.length;M++){var P=J[M],S=P._g;
top.fill(1e6);r.fill(0);var c=x[P.ax4];for(var b=0;b<c[1].length;b++){var w=c[1][b][S[c[0][b]]];for(var U=0;
U<w.length;U++){var F=w[U];g.Xr.aJ7(P,v[F],F,top,r)}}if(top[2]<50&&top[2]<top[0]*.5){var Y=R[top[3]];
if(Y==65535){R[top[3]]=o.length;o.push([M,top[3],top[2]])}else if(top[2]<o[Y][2]){o[Y]=[M,top[3],top[2]]}}}o.sort(function(A,G){return A[2]-G[2]});
return o};g.Xr.a6F=function(J){var v=new jj;for(var h=0;h<J.length;h++)v=v.h0(J[h][1]);var x=g.C(v.o()*4);
for(var h=0;h<J.length;h++)g.v.Ry("norm",J[h][0],J[h][1],x,v,v,1);return[x,v]};g.Xr.aDT=function(J,v,x,o,R,r,l,M){var P=J[1].Q(),S=P.Q();
P.x=P.y=0;var c=v[1].Q(),b=c.Q();c.x=c.y=0;c.x=P.r;var w=P.h0(c),U=b.y-S.y,F=g.C(w.o()*4);g.sW(J[0],P,F,w);
g.sW(v[0],new jj(c.x,c.y+U,c.r,c.$),F,w);var Y=document.createElement("canvas");Y.width=w.r;Y.height=w.$;
var A=Y.getContext("2d");A.lineWidth=.5;A.putImageData(new ImageData(new Uint8ClampedArray(F.buffer),w.r,w.$),0,0);
if(r){var G=r[0],n=g.gf.E3(G),E=P.r,K=M.r;for(var h=0;h<R.length;h++){var e=R[h],J=x[e[0]],v=o[e[1]];
A.strokeStyle="#"+"ff0000";A.beginPath();var $=g.G4.a4_(n,l[0],v,0,K),N=g.G4.a4_(G,l[1],J,0,K);A.moveTo(-S.x+$[0],-S.y+$[1]);
A.lineTo(-S.x+$[2],-S.y+$[3]);A.moveTo(E-b.x+N[0],-b.y+U+N[1]);A.lineTo(E-b.x+N[2],-b.y+U+N[3]);A.stroke()}}if(R){var k=R.length;
for(var h=0;h<k;h++){var e=R[h],J=x[e[0]],v=o[e[1]];A.strokeStyle="#"+"ffff00"}}var V=new Uint8Array(A.getImageData(0,0,w.r,w.$).data.buffer);
if(!1){for(var X=0;X<2;X++){var Q=X==0?x:o,L=X*P.r;for(var h=0;h<Q.length;h++){var _=Q[h],a=~~_.x,T=~~_.y,f=(T*w.r+a+L)*4;
V[f+1]=V[f+2]=_.aw8*60;V[f+0]=0;V[f+3]=255}}}return[V,w]};g.bO={};g.bO.list=[[[22,4,1],0],[[22,4,0],0],["Dual Axis",0],["Diagonal",0],[[22,5,9],0],[[12,93,5],0],[[12,93,2],0],["Parallel",0],[[19,0,1],1],["Mandala",2]];
g.bO.ac$=["BasicPath","Radial","Mandala","RectangularTile"];g.bO.c9=function(J,v){var x=.28*.5,o=[{Wp:["M","L"],T:[.5,.1,.5,.9]},{Wp:["M","L"],T:[.1,.5,.9,.5]},{Wp:["M","L","M","L"],T:[.5,.1,.5,.9,.1,.5,.9,.5]},{Wp:["M","L"],T:[.1,.1,.9,.9]},{Wp:["M","C","C"],T:[.5,.1,.4,.2,.4,.4,.5,.5,.6,.6,.6,.8,.5,.9]},{Wp:["M","C","C","C","C"],T:[.5,.25,.5+x,.25,.75,.5-x,.75,.5,.75,.5+x,.5+x,.75,.5,.75,.5-x,.75,.25,.5+x,.25,.5,.25,.5-x,.5-x,.25,.5,.25]},null,{Wp:["M","L","M","L"],T:[.35,.1,.35,.9,.65,.1,.65,.9]}],M=.4;
if(o[J])return o[J];if(J==6){var R="m418 377c30 0 16-55-28-48-78 12-76 160 54 166 135 6 204-212 34-302-135-71-303 53-296 214 8 177 170 240 236 243",r=Typr.U.SVGToPath(R);
r={T:r.crds,Wp:r.cmds};g.b.u(r.T,new bC(1/840,0,0,1/840,0,0),r.T);return r}var l={Wp:[],T:[]},P=2*Math.PI/v;
for(var h=0;h<v;h++){l.Wp.push("M","L");l.T.push(.5,.5,.5+Math.sin(h*P)*M,.5-Math.cos(h*P)*M)}return l};
g.bO.US=function(J,v){var x=Math.PI*.5+Math.atan2(J.y-v.y,v.x-J.x),o=new bC;o.translate(-J.x,-J.y);o.rotate(-x);
o.scale(-1,1);o.rotate(x);o.translate(J.x,J.y);return o};g.bO.al7=function(J,v,x){var o=[new bC];if(x==null)return o;
var R=x[0],r=x[1],l=x[2];if(R==0){var M=g.I.Eo(l,!0),P=g.I.I5(l,0,!0),S=l[P].length;if(M==1){if(S==2){o.push(g.bO.US(l[P+1].Z,l[P+2].Z))}else{var c=g.b.Am(l);
c=g.b.wM(c);var b=g.b.aiK(c),w=g.b.CK(b,J.x,J.y),co=new aG(b[w*2],b[w*2+1]),U=J.x-co.x,F=J.y-co.y,Y=new aG(co.x-F,co.y+U);
o.push(g.bO.US(co,Y))}}if(M==2){var A=g.I.I5(l,1,!0),G=l[A].length;if(S==2&&G==2){var n=l[P+1].Z,E=l[P+2].Z,K=l[A+1].Z,e=l[A+2].Z,$=g.b.Ak(n.x,n.y,E.x-n.x,E.y-n.y,K.x,K.y,e.x-K.x,e.y-K.y),N=g.bO.US(n,E);
o.push(N);var k=g.bO.US(K,e);o.push(k);if(0<$&&$<1){N=N.Q();N.concat(k);o.push(N)}}else alert("two curves")}}if(R==1||R==2){o=[];
var V=l[3].Z,X=l[4].Z;for(var h=0;h<r;h++){var Q=new bC;Q.translate(-V.x,-V.y);Q.rotate(h*Math.PI*2/r);
Q.translate(V.x,V.y);o.push(Q);if(R==2){Q=Q.Q();Q.concat(g.bO.US(V,X));o.push(Q)}}}if(R==3){o=[];for(var L=-1;
L<2;L++)for(var _=-1;_<2;_++){var Q=new bC;Q.translate(_*v.r,L*v.$);o.push(Q)}}return o};g.stack={};
g.stack.stack=function(J,v,x){var o=J.length,R=v.length;if(o==1){v.set(J[0]);return}if(x=="avrg"||x=="stdv"||x=="summ"||x=="vari"){var r=1/o;
for(var h=0;h<R;h++){var l=0;for(var M=0;M<o;M++)l+=J[M][h];var P=~~(l*r+.5);if(x=="avrg"||(h&3)==3)v[h]=P;
else if(x=="summ")v[h]=255*Math.pow(Math.min(255,l)*(1/255),1/2.4);else{var S=0;for(var M=0;M<o;M++){var c=J[M][h]-P;
S+=c*c}var b=Math.sqrt(S*r)*(1/255);if(x=="stdv")v[h]=255*Math.pow(b,1/2.4);else v[h]=255*Math.pow(b*b,1/2.4)}}}else if(x=="maxx"){for(var h=0;
h<R;h++){var w=0;for(var M=0;M<o;M++)w=Math.max(w,J[M][h]);v[h]=w}}else if(x=="minn"){for(var h=0;h<R;
h++){var w=255;for(var M=0;M<o;M++)w=Math.min(w,J[M][h]);v[h]=w}}else if(x=="medn"||x=="rang"){var U=function(G,n){return G-n},F=new Array(o),Y=0,A=0;
if((o&1)==0){A=o>>>1;Y=A-1}else{Y=A=o>>>1}for(var h=0;h<R;h++){for(var M=0;M<o;M++)F[M]=J[M][h];F.sort(U);
if(x=="medn")v[h]=F[Y]+F[A]>>>1;else v[h]=(h&3)==3?F[o-1]:F[o-1]-F[0]}}else console.log(x)};g.wc={};
g.wc.aBk=function(J,v,x,o){var R=Date.now(),r=new Uint32Array(v*x),l=new Uint8Array(v*x);while(!0){l.fill(0);
r.fill(0);var M=[],P=0;for(var S=0;S<x;S++){for(var c=0;c<v;c++){var h=S*v+c;if(l[h]==0){var b=M.length,w=g.wc.rP(J,v,x,c,S,l,r,b);
M.push([b,c,S,w[0],w[1],J[h]]);if(w[0]<o)P++}}}if(P==0)break;var U=M.length,F=new UnionFind(U),Y=[];
for(var h=0;h<U;h++)Y.push([]);for(var h=0;h<U;h++){var w=M[h],A=w[4],G=0,n=0;if(w[3]>=o)continue;var b=w[0];
for(var E=0;E<A.length;E+=2){var K=r[A[E+1]*v+A[E]],e=M[K];if(e[3]>n){n=e[3];G=K}}if(F.find(b)!=F.find(G)){F.link(b,G);
Y[b].push(G);Y[G].push(b)}}var $=new Uint32Array(U);$.fill(4294967295);var N=new Uint32Array(U);for(var h=0;
h<U;h++){if($[h]!=4294967295||Y[h].length==0)continue;var k=[h],V=[h],X=h,Q=M[h][3];while(V.length!=0){var L=V.pop(),_=Y[L];
for(var E=0;E<_.length;E++){var a=_[E];if(k.indexOf(a)==-1){k.push(a);V.push(a);var T=M[a];if(T[3]>Q){Q=T[3];
X=a}}}}for(var E=0;E<k.length;E++){$[k[E]]=X;var f=M[X];N[k[E]]=J[f[2]*v+f[1]]}}for(var S=0;S<x;S++)for(var c=0;
c<v;c++){var h=S*v+c,Z=$[r[h]];if(Z!=4294967295)J[h]=N[Z]}}};g.wc.rP=function(J,v,x,o,R,r,l,M){var P=[o,R],S=J[R*v+o],c=0,b=[];
r[R*v+o]=1;while(P.length!=0){var w=P.pop(),U=P.pop(),h=w*v+U;l[h]=M;c++;if(w!=x-1)if(J[h+v]==S){if(r[h+v]==0){P.push(U,w+1);
r[h+v]=1}}else b.push(U,w+1);if(w!=0)if(J[h-v]==S){if(r[h-v]==0){P.push(U,w-1);r[h-v]=1}}else b.push(U,w-1);
if(U!=v-1)if(J[h+1]==S){if(r[h+1]==0){P.push(U+1,w);r[h+1]=1}}else b.push(U+1,w);if(U!=0)if(J[h-1]==S){if(r[h-1]==0){P.push(U-1,w);
r[h-1]=1}}else b.push(U-1,w)}return[c,b]};g.wc.amh=function(J,v,x){var o=new Uint32Array(v*x);for(var h=0;
h<o.length;h++)o[h]=J[h];var R=[];for(var r=0;r<x;r++){for(var l=0;l<v;l++){var h=r*v+l,M=o[h];if(M<1e3){var P=g.wc.aCg(o,v,x,l,r,1e3+R.length);
R.push([l,r,M,P,0])}}}for(var h=0;h<o.length;h++)o[h]-=1e3;var S=new Float32Array(v*x);S.fill(v+x);for(var r=0;
r<x;r++)for(var l=0;l<v;l++){var h=r*v+l,M=o[h];if(l==0||r==0||o[h-1]!=M||o[h-v]!=M)S[h]=0;else{var c=Math.min(S[h],S[h-1]+1,S[h-v]+1);
if(o[h-v-1]==M)c=Math.min(c,S[h-v-1]+1.414);S[h]=c}}for(var r=x-1;r>=0;r--)for(var l=v-1;l>=0;l--){var h=r*v+l,M=o[h];
if(l==v-1||r==x-1||o[h+1]!=M||o[h+v]!=M)S[h]=0;else{var c=Math.min(S[h],S[h+1]+1,S[h+v]+1);if(o[h+v+1]==M)c=Math.min(c,S[h+v+1]+1.414);
S[h]=c}}for(var r=0;r<x;r++)for(var l=0;l<v;l++){var h=r*v+l,b=R[o[h]];if(S[h]>b[4]){b[4]=S[h];b[0]=l;
b[1]=r}}return R};g.wc.aCg=function(J,v,x,o,R,r){var l=[o,R],M=J[R*v+o],P=0;J[R*v+o]=4294967295;while(l.length!=0){var R=l.pop(),o=l.pop(),h=R*v+o;
P++;J[h]=r;if(R<x-1&&J[h+v]==M){l.push(o,R+1);J[h+v]=4294967295}if(R>0&&J[h-v]==M){l.push(o,R-1);J[h-v]=4294967295}if(o>0&&J[h-1]==M){l.push(o-1,R);
J[h-1]=4294967295}if(o<v-1&&J[h+1]==M){l.push(o+1,R);J[h+1]=4294967295}}return P};g.wc.aq7=function(J,v,x,o,R){var r=g.wc.afs(J.buffer,v,x)._I,l=Date.now(),M=[];
for(var h=0;h<r.length;h++){var P=r[h],S=1;for(var c=0;c<S;c++)M.push(P.Mz)}var b=new Uint32Array(M),w=UPNG.quantize.getKDtree(new Uint8Array(b.buffer),o),U=[v,1,-v,-1,v+1,-v+1,-v-1,v-1,v+v,2,-v-v,-2,v+v-1,v+v+1,v+2,-v+2,-v-v+1,-v-v-1,-v-2,v-2,v+v+2,-v-v+2-v-v-2,v+v-2],F=new Uint8Array(v*x),Y=J;
for(var A=0;A<x;A++)for(var G=0;G<v;G++){var h=A*v+G<<2,n=Y[h]*(1/255),E=Y[h+1]*(1/255),K=Y[h+2]*(1/255),e=Y[h+3]*(1/255),$=g.wc.rl(w,n,E,K,e,R);
if($==null){var N=[],k=0;while(k<20){var V=A*v+G+U[k]<<2,X=Y[V]*(1/255),Q=Y[V+1]*(1/255),L=Y[V+2]*(1/255),_=Y[V+3]*(1/255),a=g.wc.rl(w,X,Q,L,_,.005);
if(a!=null){if(N.indexOf(a)==-1){N.push(a);a.vO=1}else a.vO++}k++}N.sort(function(e,K){return K.vO-e.vO});
while(N.length!=0&&N[N.length-1].vO<3)N.pop();if(N.length==0)$=g.wc.rl(w,n,E,K,e,100);else if(N.length==1)$=N[0];
else if(N.length==2){var T=N[0],f=N[1],Z=T.est.q,W=f.est.q,D=W[0]-Z[0],C=W[1]-Z[1],d=W[2]-Z[2],p=W[3]-Z[3],y=n-Z[0],i=E-Z[1],t=K-Z[2],O=e-Z[3],q=D*D+C*C+d*d+p*p,z=y*y+i*i+t*t+O*O,jw=(y*D+i*C+t*d+O*p)/q,u=z-jw*jw*q;
if(u<.5)$=jw<.5?T:f;else{$=g.wc.rl(w,n,E,K,e,100)}}else{var T=N[0],f=N[1],iH=N[2],Z=T.est.q,W=f.est.q,s=iH.est.q,bV=Z[0]-s[0],jU=Z[1]-s[1],hx=Z[2]-s[2],eX=Z[3]-s[3],et=W[0]-s[0],f7=W[1]-s[1],iY=W[2]-s[2],cd=W[3]-s[3],jV=s[0]-n,g2=s[1]-E,gV=s[2]-K,fD=s[3]-e,j4=bV*bV+jU*jU+hx*hx+eX*eX,dQ=bV*et+jU*f7+hx*iY+eX*cd,eO=jV*bV+g2*jU+gV*hx+fD*eX,a7=bV*et+jU*f7+hx*iY+eX*cd,cc=et*et+f7*f7+iY*iY+cd*cd,ad=jV*et+g2*f7+gV*iY+fD*cd,jC=1/(dQ*a7-j4*cc),jw=(cc*eO-ad*dQ)*jC,iJ=(ad*j4-eO*a7)*jC,kJ=1-jw-iJ,jr=Math.max(jw,iJ,kJ);
if(jr==jw)$=T;else if(jr==iJ)$=f;else $=iH}}F[h>>2]=$.ind}return{D0:F,_I:w[1]}};g.wc.afs=function(J,v,x){var o=[],R={},r=v-1,l=x-1,M=0,P=new Uint32Array(J),S=[-v-1,-v,-v+1,-1,1,v-1,v,v+1,v+v,2,-v-v,-2,v+v-1,v+v+1,v+2,-v+2,-v-v+1,-v-v-1,-v-2,v-2,v+v+2,-v-v+2-v-v-2,v+v-2];
for(var c=1;c<l;c++)for(var b=1;b<r;b++){var w=c*v+b,U=P[w],F=!0;for(var h=0;h<8;h++)F=F&&P[w+S[h]]==U;
if(F){M++;var Y=R[U];if(Y==null){R[U]=o.length;o.push({Mz:U,Kv:1})}else o[Y].Kv++}}return{_I:o,ani:M}};
g.wc.rl=function(J,v,x,o,R,r){var l=UPNG.quantize.getNearest(J[0],v,x,o,R);return g.wc.a9K(l,v,x,o,R)<r?l:null};
g.wc.a9K=function(J,v,x,o,R){var r=J.est.q,l=v-r[0],M=x-r[1],P=o-r[2],S=R-r[3];return l*l+M*M+P*P+S*S};
(function(){g.wc.Ap=function(M,P,S,c,b){var w=M.Lo,U=P*S,F=M.ku,Y=M.D0,A=o(c,Y,w,U),G=new UnionFind(w),N=0;
for(var n=1;n<S;n++)for(var E=1;E<P;E++){var h=n*P+E,K=Y[h],e=0;if((e=Y[h-1])!=K&&A[e]==A[K]&&J(F,0,K*6,e*6)<b)G.link(K,e);
if((e=Y[h-P])!=K&&A[e]==A[K]&&J(F,0,K*6,e*6)<b)G.link(K,e)}var $=new Uint16Array(w);$.fill(65535);var k=new Uint16Array(w);
for(var h=0;h<w;h++){var V=G.find(h);if($[V]==65535)$[V]=N++;k[h]=$[V]}var X=new Uint16Array(U);for(var h=0;
h<U;h++)X[h]=k[Y[h]];return{D0:X,Lo:N}};g.wc.h_=function(M,P,S){var c=g.C(P),b=M.length;for(var h=0;
h<b;h++){var w=S[h];if(w==0||w==255){var U=M[h],F=2-(w>>>7),Y=c[U]=c[U]|F;if(Y==3)return U}}return-1};
function J(M,P,S,c){var b=1/M[S+5],w=1/M[c+5],U=M[S]*b-M[c]*w,F=M[S+1]*b-M[c+1]*w,Y=M[S+2]*b-M[c+2]*w,A=M[S+3]*b-M[c+3]*w,G=M[S+4]*b-M[c+4]*w,n=Math.sqrt(U*U+F*F+Y*Y),E=Math.sqrt(A*A+G*G);
return~~(n+P*E+.5)}function v(M,P){var h=0,S=M.length;while(h!=S&&M[h]!=P)h+=2;return h==S?-1:h}function x(M,h){if(h==M.length-2){M.pop();
M.pop()}else{M[h+1]=M.pop();M[h]=M.pop()}}g.wc.auB=function(M,P,S,c,b){var w=new Uint32Array(b*4400),U=[];
for(var h=0;h<b;h++)U.push([]);for(var F=0;F<S;F++)for(var Y=0;Y<P;Y++){var h=F*P+Y,A=h<<2,G=c[h],n=0,E=M[A]>>>4,K=M[A+1]>>>4,e=M[A+2]>>>4;
w[G*4400+(E<<8|K<<4|e)]++;w[G*4400+4096]++;w[G*4400+4100+(E<<4|K)]++;w[G*4400+4360+E]++;if(Y!=0&&(n=c[h-1])!=G&&v(U[G],n)==-1){U[G].push(n,0);
U[n].push(G,0)}if(F!=0&&(n=c[h-P])!=G&&v(U[G],n)==-1){U[G].push(n,0);U[n].push(G,0)}}for(var h=0;h<b;
h++){var e=U[h];for(var $=0;$<e.length;$+=2)e[$+1]=l(w,h,e[$])}return[w,U]};function o(M,P,S,c){var b=g.C(S);
for(var h=0;h<c;h++){var w=M[h];if(w==0||w==255)b[P[h]]=2-(w>>>7)}return b}g.wc.ahI=function(M,P,S,c,b,w,U){var F=P*S,Y=U[0],A=U[1],G=new UnionFind(c),n=o(b,M,c,F),E=-1,K=!0,e=0;
for(var h=0;h<c;h++)if(n[h]==1){if(E==-1)E=h;else G.link(h,E)}if(E==-1){for(var h=0;h<F;h++)w[h]=b[h]==255?255:0;
return}while(K){while(K){K=!1;for(var h=0;h<c;h++){if(n[h]==0){var $=R(A[h]);if(n[$]==1){n[h]=n[$];K=!0;
G.link(h,$)}}}}K=!0;e=0;while(K){K=!1;for(var h=0;h<c;h++){if(n[h]==0){var $=R(A[h]);if(n[$]==0){var N=h*4400,k=$*4400;
for(var V=0;V<4400;V+=2){Y[N+V]+=Y[k+V];Y[N+V+1]+=Y[k+V+1]}r(A,Y,h,$);e++;n[$]=3;K=!0;G.link(h,$)}}}}K=e!=0}var X=G.find(E);
for(var h=0;h<c;h++)n[h]=G.find(h)==X?255:0;for(var h=0;h<F;h++){w[h]=n[M[h]]}for(var h=0;h<F;h++){var $=b[h];
if($==0||$==255)w[h]=$}};function R(M){var P=0,S=0,c=M.length;for(var b=0;b<c;b+=2){var w=M[b+1];if(w>S){S=w;
P=b}}return M[P]}function r(M,P,S,c){var b=M[S],w=M[c];x(b,v(b,c));x(w,v(w,S));for(var h=0;h<w.length;
h+=2){var U=w[h],F=M[U];x(F,v(F,c));if(v(F,S)==-1){F.push(S,0);b.push(U,0)}}for(var h=0;h<b.length;h+=2){var U=b[h],F=M[U],Y=l(P,S,U);
b[h+1]=Y;F[v(F,S)+1]=Y}}function l(M,P,S){var c=0,b=4096,w=P*4400,U=S*4400;for(var F=0;F<16;F++){if(M[w+4360+F]==0||M[U+4360+F]==0)continue;
for(var Y=0;Y<16;Y++){var A=F<<4|Y;if(M[w+4100+A]==0||M[U+4100+A]==0)continue;var G=w+(A<<4),n=U+(A<<4);
for(var h=0;h<16;h++)c+=Math.sqrt(M[G+h]*M[n+h])}}var E=c/Math.sqrt(M[w+b]*M[U+b]);return~~(999.99999*E)}}());
g.wc.ZS=function(){var J,v,x,l=0,M=0;function o(U,F,Y){var A=[],G=Y,n=Y,E=Y>>>2;for(var K=0;K<F;K++)for(var e=0;
e<U;e++){var $=~~((e+.5)*G),N=~~((K+.5)*n),k=1e9,V=Math.max(0,$-E),X=Math.min(v,$+E+1),Q=Math.max(0,N-E),L=Math.min(x,N+E+1);
for(var _=Q;_<L;_++)for(var a=V;a<X;a++){var T=R(a,_);if(T<k){$=a;N=_;k=T}}A.push($,N)}return A}function R(U,F){var Y=(F*v+U)*4,A=v*4,G=r(Y-4,Y)+r(Y,Y+4),n=r(Y-A,Y)+r(Y,Y+A);
return G+n}function r(U,F){var Y=J[U]-J[F],A=J[U+1]-J[F+1],G=J[U+2]-J[F+2];return Y*Y+A*A+G*G}function P(U,F,Y,A){M++;
if(A<l)l=A;U[A].push(F,Y)}function S(U){M--;while(U[l].length==0)l++}function c(U,F,Y,A,G){var n=(Y*v+F)*4,E=A[G+5],K=1/E,e=J[n]*E-A[G],$=J[n+1]*E-A[G+1],N=J[n+2]*E-A[G+2],k=F*E-A[G+3],V=Y*E-A[G+4],X=Math.sqrt(e*e+$*$+N*N),Q=Math.sqrt(k*k+V*V);
return~~((X+U*Q)*K+.5)}function b(U,F,Y,A,G){J=U;v=F;x=Y;l=0;M=0;var n=v*x,E=Math.round(Math.min(v,x)/(A?A:30));
if(E==0)E=1;var K=(G?G:30)/E,e=Math.floor(v/E),$=Math.floor(x/E),N=new Uint16Array(n);for(var h=0;h<n;
h++)N[h]=65535;var k=o(e,$,E),V=k.length>>>1;if(V>65535)throw V;var X=new Uint32Array(V*6),Q=[];for(var h=0;
h<1e3+x;h++)Q.push([]);var L=1e3*700/(v*x),_=Math.floor($*L);_=Math.min($,Math.max(4,_));_=$;var X=new Uint32Array(V*6);
for(var a=0;a<$;a+=_){var T=Math.min(a+_,$);for(var f=a;f<T;f++)for(var Z=0;Z<e;Z++){var h=f*e+Z;P(Q,k[h*2+1]<<16|k[h*2],h,0)}var W=Math.min(x,T*E);
if(a+_>=$)W=x;w(X,Q,N,K,W)}J=null;return{D0:N,Lo:V,ku:X,a02:K}}function w(U,F,Y,A,G){while(M!=0){S(F);
var n=F[l].pop(),E=F[l].pop(),K=E>>>16,e=E&65535,h=K*v+e;if(Y[h]==null)throw"e";if(Y[h]==65535){var $=n*6,N=h<<2;
Y[h]=n;U[$]+=J[N];U[$+1]+=J[N+1];U[$+2]+=J[N+2];U[$+3]+=e;U[$+4]+=K;U[$+5]++;if(K!=G-1&&Y[h+v]==65535)P(F,K+1<<16|e,n,c(A,e,K+1,U,$));
if(K!=0&&Y[h-v]==65535)P(F,K-1<<16|e,n,c(A,e,K-1,U,$));if(e!=0&&Y[h-1]==65535)P(F,K<<16|e-1,n,c(A,e-1,K,U,$));
if(e!=v-1&&Y[h+1]==65535)P(F,K<<16|e+1,n,c(A,e+1,K,U,$))}}}b.eo=function(U,F,Y,A,G,n){J=U;v=F;x=Y;var E=A.Lo=A.Lo+1,K=A.D0,e=A.ku,$=A.ku=new Uint32Array(E*6);
$.set(e,0);var N=K[G[1]*v+G[0]];for(var h=0;h<K.length;h++)if(K[h]==N)K[h]=65535;for(var h=0;h<6;h++)$[N*6+h]=0;
var k=[];for(var h=0;h<1e3+x;h++)k.push([]);for(var h=0;h<G.length;h+=2)P(k,G[h+1]<<16|G[h],N,0);for(var h=0;
h<n.length;h+=2)P(k,n[h+1]<<16|n[h],E-1,0);w($,k,K,A.a02,x);J=null};return b}();g.a9A={};g.a9A.a9w=function(){var J=11,v=7,x=J>>>1,co=v>>>1,o=2,R=2e3/o,r=[],M=null,P="";
function l(c,b,w){var U=(c[b+0]-c[w+0])*(1/255),F=(c[b+1]-c[w+1])*(1/255),Y=(c[b+2]-c[w+2])*(1/255),A=(c[b+3]-c[w+3])*(1/255),G=U*U*.125+F*F*.25+Y*Y*.5+A*A;
return r[~~(G*R)]}function S(c,b,w,U,F,Y){var A=Date.now(),G=g.C(b*w);g.dF(c,G);var n=UZIP.adler(G,0,b*w);
if(n!=P){var E=g.vV(G,b,w);M=g.C(b*w*4);P=n;var K=[1,1/9,1/25,1/49,1/81];for(var e=0;e<w;e++)for(var $=0;
$<b;$++)for(var h=0;h<4;h++){var N=Math.max(1,$-h),k=Math.min(b-1,$+h),V=Math.max(1,e-h),X=Math.min(w-1,e+h),Q=g.D$(E,b,N,k,V,X);
if(isNaN(Q))throw $+","+e+","+h+","+Q;M[(e*b+$)*4+h]=Q*K[h]}}if(gi._E){var L=gi.Et(0,b,w);L.set(c);var _=gi.Et(1,b,w);
_.set(M);var a=gi.Et(2,b,w);gi.DM(a);gi.filter.I7({e:gi.filter.aak,Mv:new Float32Array([1/b,1/w]),a8m:_.qb,aHt:F,azb:Y},L.qb);
a.get(U)}else{for(var h=0;h<2e3;h++)r[h]=Math.exp(-(h/2e3)*o*(100+(1-F)*(1-F)*1e4));var T=co+2;for(var e=T;
e<w-T;e++)for(var $=T;$<b-T;$++){var f=0,Z=0,W=0,D=0;for(var C=0;C<J;C++)for(var d=0;d<J;d++){var p=$+d-x,y=e+C-x;
if(p==$&&y==e||p<T||y<T||p>=b-T||y>=w-T)continue;var i=l(M,(e*b+$)*4,(y*b+p)*4),t=y*b+p<<2;f+=i*c[t+0];
Z+=i*c[t+1];W+=i*c[t+2];D+=i}if(D==0){continue}var O=1/D,q=(e*b+$)*4;U[q+0]=~~((1-Y)*O*f+Y*U[q+0]);U[q+1]=~~((1-Y)*O*Z+Y*U[q+1]);
U[q+2]=~~((1-Y)*O*W+Y*U[q+2])}}}return S}();g.a72=function(){var J=6,v=J>>>1,x=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],o=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function R(Y,A){var G=!1,n=Y.length,E=A[0],N=5,V=0,X=0;for(var h=1;h<n;h++)E=E.h0(A[h]);if((E.r&1)!=0)E.r++;
if((E.$&1)!=0)E.$++;var K=E.r,e=E.$,$=Math.max(K,e);while($>>>N>8&&N<10)N++;var k=1<<N;if(K%k!=0)V=k-K%k;
if(e%k!=0)X=k-e%k;E.rz(V>>>1,X>>>1);K=E.r;e=E.$;if(K%k!=0||e%k!=0)throw"e";var Q=Date.now(),L=[],_=g.C(E.o()),a=[],T=K*e,f=new Float32Array(K*e*2);
for(var h=0;h<n;h++){var Z=A[h],W=g.C(Z.o());g.dF(Y[h],W);_.fill(0);g.Cc(W,Z,_,E);L.push(_.slice(0));
var D=Z.x-E.x,C=Z.y-E.y,d=D+Z.r-2,p=C+Z.$;for(var y=0;y<Z.$;y++){var i=(y+C)*K;for(var t=0;t<D;t++)_[i+t]=_[i+D];
for(var t=d;t<K;t++)_[i+t]=_[i+d-1]}for(var t=0;t<K;t++){for(var y=0;y<C;y++)_[y*K+t]=_[C*K+t];for(var y=p;
y<e;y++)_[y*K+t]=_[(p-1)*K+t]}var O=new Float32Array(K*e*2);a.push(O);for(var q=0;q<T;q++)O[q*2]=_[q]*(1/255);
P(O,f,K,e,N);r(O,K,e,N)}if(G)console.log("to gray, decompose",Date.now()-Q);Q=Date.now();var z=g.C(K*e);
for(var y=0;y<e;y++)for(var t=0;t<K;t++){var jw=0,u=0,iH=y*K+t<<1;for(var h=0;h<n;h++){var s=a[h],bV=s[iH],jU=s[iH+1],hx=bV*bV+jU*jU;
if(hx>u){u=hx;jw=h}}z[iH>>>1]=jw}if(G)console.log("max abs value",Date.now()-Q);Q=Date.now();l(z,K,e,N);
M(z,K,e);if(G)console.log("denoise",Date.now()-Q);Q=Date.now();var eX=f.slice(0);for(var y=0;y<e;y++)for(var t=0;
t<K;t++){var h=y*K+t,iH=h<<1,et=a[z[h]];eX[iH]=et[iH];eX[iH+1]=et[iH+1]}S(eX,f,K,e,N);if(G)console.log("compose",Date.now()-Q);
Q=Date.now();for(var q=0;q<T;q++){var hx=eX[q*2]*255,jw=0,u=1e9;for(var h=0;h<n;h++){var f7=Math.abs(L[h][q]-hx);
if(f7<u){u=f7;jw=h}L[h][q]=0}L[jw][q]=255}if(G)console.log("toRGB",Date.now()-Q);Q=Date.now();return[L,E]}function r(Y,A,G,n){var E=A>>>n,K=G>>>n,e=1e-4;
for(var $=0;$<G;$++)for(var N=0;N<A;N++){if(N<E&&$<K)continue;var k=($*A+N)*2,V=Y[k],X=Y[k+1],Q=V*V+X*X;
if(Q<e)V=X=0;else{var L=(Q-e)/Q;V*=L;X*=L}Y[k]=V;Y[k+1]=X}}function l(Y,A,G,n){for(var E=0;E<n;E++){var K=A>>>E,e=G>>>E,$=K>>>1,N=e>>>1;
for(var k=0;k<N;k++)for(var V=0;V<$;V++){var X=k*A+$+V,Q=(k+N)*A+$+V,L=(k+N)*A+V,_=Y[X],a=Y[Q],T=Y[L];
if(_==a==T){}else if(_==a)Y[L]=_;else if(a==T)Y[X]=a;else if(_==T)Y[Q]=_}}}function M(Y,A,G){for(var n=1;
n<G-1;n++)for(var E=1;E<A-1;E++){var h=n*A+E,K=Y[h-A],e=Y[h-1],$=Y[h],N=Y[h+1],k=Y[h+A],V=K==e&&K==N||K==N&&N==k||N==k&&e==k||K==e&&k==e;
if(V)Y[h]=K==e?K:e==N?e:K;else if($>K&&$>e&&$>N&&$>k)Y[h]=K+e+N+k>>>2;else if($<K&&$<e&&$<N&&$<k)Y[h]=K+e+N+k>>>2}}function P(Y,A,G,n,E){for(var h=0;
h<E;h++){var K=G>>>h,e=n>>>h;c(Y,A,G,n,K,e)}}function S(Y,A,G,n,E){for(var h=E-1;h>=0;h--){var K=G>>h,e=n>>h;
b(Y,A,G,n,K,e)}}function c(Y,A,G,n,E,K){U(Y,A,G,n,E,K,!0);U(A,Y,G,n,E,K,!1)}function b(Y,A,G,n,E,K){F(Y,A,G,n,E,K,!0);
F(A,Y,G,n,E,K,!1)}function w(Y,A,G,n,E,K){var e=G*n+A<<1;Y[e]=E;Y[e+1]=K}function U(Y,A,G,n,E,K,e){var kk=e?E:K,$=e?K:E,N=$>>>1;
for(var k=0;k<kk;k++){for(var V=0;V<$;V+=2){var X=0,Q=0,L=0,_=0,a=V>>>1;for(var T=0;T<6;T++){var f=V+T-3;
if(f<0)f=$+f;if(f>=$)f=f-$;var Z=(e?f*G+k:k*G+f)<<1,W=Y[Z],D=Y[Z+1],C=x[T],d=o[T];X+=W*C[0]-D*C[1];Q+=D*C[0]+W*C[1];
L+=W*d[0]-D*d[1];_+=D*d[0]+W*d[1]}if(e){w(A,k,a,G,X,Q);w(A,k,a+N,G,L,_)}else{w(A,a,k,G,X,Q);w(A,a+N,k,G,L,_)}}}}function F(Y,A,G,n,E,K,e){var kk=e?E:K,$=e?K:E,N=$>>>1,k,V,X,Q;
for(var L=0;L<kk;L++){for(var _=0;_<$;_++){var a=0,T=0;for(var f=_+3&1;f<6;f+=2){var Z=_-f+3>>1;if(Z<0)Z=N+Z;
if(Z>=N)Z=Z-N;if(e){k=L;V=Z;X=L;Q=Z+N}else{V=L;k=Z;Q=L;X=Z+N}var W=V*G+k<<1,D=Q*G+X<<1,C=Y[W],d=Y[W+1],p=Y[D],y=Y[D+1],i=x[f],t=o[f];
a+=C*i[0]+p*t[0];a+=d*i[1]+y*t[1];T+=d*i[0]+y*t[0];T-=C*i[1]+p*t[1]}if(e)w(A,L,_,G,a,T);else w(A,_,L,G,a,T)}}}return{qP:R}}();
g.ar1=function(){var J=Math.floor(12e3/8),v=UPNG.quantize.findNearest,x,o,R,r;function l(w,U,F,Y){var A=[w,new jj(0,0,U,F)],n;
g.DV(A);var G=Date.now(),E=U+F>>>1;for(var h=E<1e3?2:4;h>=0;h-=2){var K=A[h+1],o=K.r,R=K.$;if(n==null){n=new Uint8Array(o*R);
v(A[h],n,Y)}M(A[h],o,R,Y,n);if(h!=0){var e=A[h-1],$=e.r,N=e.$,k=new Uint8Array($*N);for(var V=0;V<N;
V++)for(var X=0;X<$;X++)k[V*$+X]=n[(V>>>1)*o+(X>>>1)];n=k}}return n}function M(w,U,F,Y,A){x=w;o=U;R=F;
r=Y;var G=r.length>>>2,n=[-1,-o,1,o],E=[-1,-o,-o+1,2,o+1,o],K=[-1,-o,1,o+1,o+o,o-1],e=8,$=o+R>>>1,N=1e9;
while($>512){e>>=1;$>>=1}e=Math.max(1,Math.min(4,e));for(var k=0;k<e;k++){var V=0;for(var X=0;X<R;X++)for(var Q=0;
Q<o;Q++){if(c(A,Q,X)<2)continue;var L=X*o+Q,_=A[L],a=1e9,T=0,f=Q==0||X==0||Q>o-3||X>R-3;if(f){a=1e9;
for(var h=0;h<G;h++){A[L]=h;var Z=b(A,Q,X,2);if(Z<a){a=Z;T=h}}A[L]=T;if(T==_&&Q+1<o&&A[L+1]==_){a=1e9;
for(var h=0;h<G;h++){A[L]=A[L+1]=h;var Z=b(A,Q,X,2)+b(A,Q+1,X,2);if(Z<a){a=Z;T=h}}A[L]=A[L+1]=T}if(T==_&&X+1<R&&A[L+o]==_){a=1e9;
for(var h=0;h<G;h++){A[L]=A[L+o]=h;var Z=b(A,Q,X,2)+b(A,Q,X+1,2);if(Z<a){a=Z;T=h}}A[L]=A[L+o]=T}}else{a=1e9;
T=-1;for(var h=0;h<4;h++){var W=A[L+n[h]];if(W==T)continue;A[L]=W;var Z=b(A,Q,X,2);if(Z<a){a=Z;T=W}}A[L]=T;
if(T==_&&Q+1<o&&A[L+1]==_){a=1e9;T=-1;for(var h=0;h<6;h++){var W=A[L+E[h]];if(W==T)continue;A[L]=A[L+1]=W;
var Z=b(A,Q,X,2)+b(A,Q+1,X,2);if(Z<a){a=Z;T=W}}A[L]=A[L+1]=T}if(T==_&&X+1<R&&A[L+o]==_){a=1e9;T=-1;for(var h=0;
h<6;h++){var W=A[L+K[h]];if(W==T)continue;A[L]=A[L+o]=W;var Z=b(A,Q,X,2)+b(A,Q,X+1,2);if(Z<a){a=Z;T=W}}A[L]=A[L+o]=T}}V+=a}}}function P(w){var U=0;
for(var F=0;F<R;F++)for(var Y=0;Y<o;Y++)U+=b(w,Y,F,1);return U/(o*R)}function S(w,U,F){var h=F*o+U,Y=h*4,A=w[h]*4,G=x[Y]-r[A],n=x[Y+1]-r[A+1],E=x[Y+2]-r[A+2],K=x[Y+3]-r[A+3];
return G*G+n*n+E*E+K*K}function c(w,U,F){if(U<0||U>=o||F<0||F>=R)throw"e";var h=F*o+U,Y=w[h],A=0;if(F>0&&Y!=w[h-o])A+=2;
if(U>0&&Y!=w[h-1])A+=2;if(U<o-1&&Y!=w[h+1])A+=2;if(F<R-1&&Y!=w[h+o])A+=2;if(F>0&&U>0&&Y!=w[h-o-1])A++;
if(F<R-1&&U>0&&Y!=w[h+o-1])A++;if(F>0&&U<o-1&&Y!=w[h-o+1])A++;if(F<R-1&&U<o-1&&Y!=w[h+o+1])A++;return A}function b(w,U,F,Y){return S(w,U,F)+c(w,U,F)*Y*J}return l}();
var dy=function(){function J(){this.o=0;this.XV=0;this.Pb={};this.b6=[];this.TZ=1e5;this.T9=1e5;this.jQ=-1;
this.Jp=-1;this.color=0}function v(co){this.h=co;this.Y8=new Array(co);this.Mz=new Array(co*6);this.aHq=0;
this.xd=new Array(co*2);this.alpha=new Array(co);this.oA=new Array(co);this.U3=new Array(co)}function x(R,r,l,M){function P(A,G,R,r){return R[r*G+A]}function S(h){var N=R.length;
while(h<N&&R[h]==0)h++;return h<N?h:-1}function c(A,G,N){for(var h=2;h<5;h++){var k=0;for(var V=-h+1;
V<=h-1;V++){k+=P(A+V,G+h-1,R,r)==N?1:-1;k+=P(A+h-1,G+V-1,R,r)==N?1:-1;k+=P(A+V-1,G-h,R,r)==N?1:-1;k+=P(A-h,G+V,R,r)==N?1:-1}if(k>0)return 1;
else if(k<0)return 0}return 0}function b(N,F){var Y=new J,A=N,G=F,k=0,V=1,X;Y.color=R[F*r+N];Y.sign=P(N,F,R,r)==Y.color?"+":"-";
while(1){Y.b6.push(A,G);if(A>Y.jQ)Y.jQ=A;if(A<Y.TZ)Y.TZ=A;if(G>Y.Jp)Y.Jp=G;if(G<Y.T9)Y.T9=G;Y.XV++;A+=k;
G+=V;Y.o-=A*V;if(A==N&&G==F)break;var Q=P(A+(k+V-1>>1),G+(V-k-1>>1),R,r)==Y.color,L=P(A+(k-V-1>>1),G+(V+k-1>>1),R,r)==Y.color;
if(L&&!Q){if(M.CR=="right"||M.CR=="black"&&Y.sign=="+"||M.CR=="white"&&Y.sign=="-"||M.CR=="majority"&&c(A,G,Y.color)||M.CR=="minority"&&!c(A,G,Y.color)){X=k;
k=-V;V=X}else{X=k;k=V;V=-X}}else if(L){X=k;k=-V;V=X}else if(!Q){X=k;k=V;V=-X}}return Y}var w=0,U=[];
while(!0){var w=S(w);if(w==-1)break;var F=Math.floor(w/r),Y=b(w-F*r,F);for(var h=0;h<Y.b6.length-2;h+=2){var A=Y.b6[h],G=Y.b6[h+1],n=G*r+A;
if(A==Y.b6[h+2]&&G+1==Y.b6[h+3]&&R[n]!=0)dy.fill(n,R,r,0)}if(Y.o>M.as$)U.push(Y)}for(var h=0;h<U.length;
h++)U[h].parent=-1;var E=Date.now();for(var h=1;h<U.length;h++){var K=U[h];for(var e=h-1;e>=0;e--){var $=U[e];
if(K.TZ<$.TZ||K.jQ>$.jQ||K.T9<$.T9||K.Jp>$.Jp)continue;if(!dy.mX($.b6,K.b6[0]+.5,K.b6[1]+.5))continue;
K.parent=e;break}}return U}function o(R,r){function l(k,V,X,Q,L){this.x=k;this.y=V;this.zT=X;this.r0=Q;
this.zy=L}function M(k,co){return(co+k)%co}function P(k,V,X,Q){return k*Q-X*V}function S(k,V,X,Q){return k*X+V*Q}function c(k,V,X){if(k<=X)return k<=V&&V<X;
else return k<=V||V<X}function b(k,V,X){var Q=0;Q+=V*k[0]*V;Q+=V*k[1]*X;Q+=V*k[2];Q+=X*k[3]*V;Q+=X*k[4]*X;
Q+=X*k[5];Q+=k[6]*V;Q+=k[7]*X;Q+=k[8];return Q}function w(k,V,X){return V+k*(X-V)}function U(k,V,X,Q){var L=Math.sign(X-k),_=-Math.sign(Q-V);
return L*(X-k)-_*(Q-V)}function F(k,V){return Math.sqrt(k*k+V*V)}function Y(k,V,X,Q,L){var _=1-k;return _*_*_*V+3*(_*_*k)*X+3*(k*k*_)*Q+k*k*k*L}function A(k,V,X,Q,L,_,a,T){var f=P(k,V,a,T),Z=P(X,Q,a,T),W=P(L,_,a,T),D=f-2*Z+W,C=-2*f+2*Z,d=f,p=C*C-4*D*d;
if(D==0||p<0)return-1;var y=Math.sqrt(p),i=(-C+y)/(2*D),t=(-C-y)/(2*D);if(i>=0&&i<=1)return i;else if(t>=0&&t<=1)return t;
else return-1}function G(N){var h,k,V;N.KZ=N.b6[0];N.aIs=N.b6[1];N.wD=[];var X=N.wD;X.push(new l(0,0,0,0,0));
for(h=0;h<N.XV;h++){k=N.b6[h<<1]-N.KZ;V=N.b6[(h<<1)+1]-N.aIs;X.push(new l(X[h].x+k,X[h].y+V,X[h].zT+k*V,X[h].r0+k*k,X[h].zy+V*V))}}function n(N){var co=N.XV,k=N.b6,V,X=new Array(co),Q=new Array(co),L=new Array(4),_,a,T,f,Z,W,D,C,d,p,y,h,i,t,O,q,z,jw,u=0;
N.s3=new Array(co);for(h=co-1;h>=0;h--){if(k[h<<1]!=k[u<<1]&&k[(h<<1)+1]!=k[(u<<1)+1])u=h+1;Q[h]=u}for(h=co-1;
h>=0;h--){var iH=M(h+1,co)<<1;L[0]=L[1]=L[2]=L[3]=0;V=(3+3*(k[iH]-k[h<<1])+(k[iH+1]-k[(h<<1)+1]))/2;
L[V]++;_=0;a=0;T=0;f=0;u=Q[h];t=h;while(1){y=0;V=(3+3*Math.sign(k[u*2]-k[t*2])+Math.sign(k[u*2+1]-k[t*2+1]))/2;
L[V]++;if(L[0]&&L[1]&&L[2]&&L[3]){X[h]=t;y=1;break}d=k[u*2]-k[h*2];p=k[u*2+1]-k[h*2+1];if(P(_,a,d,p)<0||P(T,f,d,p)>0){break}if(Math.abs(d)<=1&&Math.abs(p)<=1){}else{Z=d+(p>=0&&(p>0||d<0)?1:-1);
W=p+(d<=0&&(d<0||p<0)?1:-1);if(P(_,a,Z,W)>=0){_=Z;a=W}Z=d+(p<=0&&(p<0||d<0)?1:-1);W=p+(d>=0&&(d>0||p<0)?1:-1);
if(P(T,f,Z,W)<=0){T=Z;f=W}}t=u;u=Q[t];if(!c(u,h,t)){break}}if(y==0){D=Math.sign(k[u*2]-k[t*2]);C=Math.sign(k[u*2+1]-k[t*2+1]);
d=k[t*2]-k[h*2];p=k[t*2+1]-k[h*2+1];O=P(_,a,d,p);q=P(_,a,D,C);z=P(T,f,d,p);jw=P(T,f,D,C);i=1e7;if(q<0){i=Math.floor(O/-q)}if(jw>0){i=Math.min(i,Math.floor(-z/jw))}X[h]=M(t+i,co)}}i=X[co-1];
N.s3[co-1]=i;for(h=co-2;h>=0;h--){if(c(h+1,X[h],i)){i=X[h]}N.s3[h]=i}for(h=co-1;c(M(h+1,co),i,N.s3[h]);
h--){N.s3[h]=i}}function E(N){function k(N,h,V){var co=N.XV,d=N.b6,p=N.wD,y,i,t,O,q,Q,z,jw,C,u,iH,s,bV,jU,hx=0;
if(V>=co){V-=co;hx=1}if(hx==0){y=p[V+1].x-p[h].x;i=p[V+1].y-p[h].y;O=p[V+1].r0-p[h].r0;t=p[V+1].zT-p[h].zT;
q=p[V+1].zy-p[h].zy;Q=V+1-h}else{y=p[V+1].x-p[h].x+p[co].x;i=p[V+1].y-p[h].y+p[co].y;O=p[V+1].r0-p[h].r0+p[co].r0;
t=p[V+1].zT-p[h].zT+p[co].zT;q=p[V+1].zy-p[h].zy+p[co].zy;Q=V+1-h+co}iH=(d[h<<1]+d[V<<1])/2-d[0];s=(d[(h<<1)+1]+d[(V<<1)+1])/2-d[1];
jU=d[V<<1]-d[h<<1];bV=-(d[(V<<1)+1]-d[(h<<1)+1]);z=(O-2*y*iH)/Q+iH*iH;jw=(t-y*s-i*iH)/Q+iH*s;C=(q-2*i*s)/Q+s*s;
u=bV*bV*z+2*bV*jU*jw+jU*jU*C;return Math.sqrt(u)}var h,V,X,Q,co=N.XV,L=new Array(co+1),_=new Array(co+1),a=new Array(co),T=new Array(co+1),f=new Array(co+1),Z=new Array(co+1),W,D,C;
for(h=0;h<co;h++){C=M(N.s3[M(h-1,co)]-1,co);if(C==h){C=M(h+1,co)}if(C<h){a[h]=co}else{a[h]=C}}V=1;for(h=0;
h<co;h++){while(V<=a[h]){T[V]=h;V++}}h=0;for(V=0;h<co;V++){f[V]=h;h=a[h]}f[V]=co;X=V;h=co;for(V=X;V>0;
V--){Z[V]=h;h=T[h]}Z[0]=0;L[0]=0;for(V=1;V<=X;V++){for(h=Z[V];h<=f[V];h++){D=-1;for(Q=f[V-1];Q>=T[h];
Q--){W=k(N,Q,h)+L[Q];if(D<0||W<D){_[h]=Q;D=W}}L[h]=D}}N.D=X;N.axC=new Array(X);for(h=co,V=X-1;h>0;V--){h=_[h];
N.axC[V]=h}}function K(N){function k(N,h,W,a,T,eX){var co=N.XV,et=N.wD,f7=0,C;while(W>=co){W-=co;f7+=1}while(h>=co){h-=co;
f7-=1}while(W<0){W+=co;f7-=1}while(h<0){h+=co;f7+=1}var iY=et[W+1].x-et[h].x+f7*et[co].x,cd=et[W+1].y-et[h].y+f7*et[co].y,jV=et[W+1].r0-et[h].r0+f7*et[co].r0,g2=et[W+1].zT-et[h].zT+f7*et[co].zT,gV=et[W+1].zy-et[h].zy+f7*et[co].zy,D=W+1-h+f7*co;
a[eX]=iY/D;a[eX+1]=cd/D;var fD=(jV-iY*iY/D)/D,j4=(g2-iY*cd/D)/D,dQ=(gV-cd*cd/D)/D,eO=(fD+dQ+Math.sqrt((fD-dQ)*(fD-dQ)+4*j4*j4))/2;
fD-=eO;dQ-=eO;if(Math.abs(fD)>=Math.abs(dQ)){C=Math.sqrt(fD*fD+j4*j4);if(C!=0){T[eX]=-j4/C;T[eX+1]=fD/C}}else{C=Math.sqrt(dQ*dQ+j4*j4);
if(C!=0){T[eX]=-dQ/C;T[eX+1]=j4/C}}if(C==0){T[eX]=T[eX+1]=0}}var V=N.D,X=N.axC,co=N.XV,Q=N.b6,L=N.KZ,_=N.aIs,a=new Array(V*2),T=new Array(V*2),f=new Array(V),Z=new Array(3),h,W,D,C,i,t,O,q,z,jw,u;
N.Pb=new v(V);for(h=0;h<V;h++){W=X[M(h+1,V)];W=M(W-X[h],co)+X[h];a[h<<1]=0;a[(h<<1)+1]=0;T[h<<1]=0;T[(h<<1)+1]=0;
k(N,X[h],W,a,T,h<<1)}for(h=0;h<V;h++){f[h]=[0,0,0,0,0,0,0,0,0];var d=T[h<<1]*T[h<<1]+T[(h<<1)+1]*T[(h<<1)+1],p=1/d;
if(d!=0){Z[0]=T[(h<<1)+1];Z[1]=-T[h<<1];Z[2]=-Z[1]*a[(h<<1)+1]-Z[0]*a[h<<1];for(C=0;C<3;C++){f[h][C*3+0]=Z[C]*Z[0]*p;
f[h][C*3+1]=Z[C]*Z[1]*p;f[h][C*3+2]=Z[C]*Z[2]*p}}}var y=[0,0,0,0,0,0,0,0,0];for(h=0;h<V;h++){y[0]=y[1]=y[2]=y[3]=y[4]=y[5]=y[6]=y[7]=y[8]=y[9]=0;
var iH=Q[X[h]<<1]-L,s=Q[(X[h]<<1)+1]-_,bV=0,jU=0;W=M(h-1,V);for(C=0;C<9;C+=3){y[C+0]=f[W][C+0]+f[h][C+0];
y[C+1]=f[W][C+1]+f[h][C+1];y[C+2]=f[W][C+2]+f[h][C+2]}while(1){var hx=y[0]*y[4]-y[1]*y[3];if(hx!=0){bV=(-y[2]*y[4]+y[5]*y[0])/hx;
jU=(y[2]*y[3]-y[5]*y[0])/hx;break}if(y[0]>y[4]){Z[0]=-y[1];Z[1]=y[0]}else if(y[4]){Z[0]=-y[4];Z[1]=y[3]}else{Z[0]=1;
Z[1]=0}var d=Z[0]*Z[0]+Z[1]*Z[1],p=1/d;Z[2]=-Z[1]*s-Z[0]*iH;for(C=0;C<3;C++){y[C*3+0]+=Z[C]*Z[0]*p;y[C*3+1]+=Z[C]*Z[1]*p;
y[C*3+2]+=Z[C]*Z[2]*p}}i=Math.abs(bV-iH);t=Math.abs(jU-s);if(i<=.5&&t<=.5){N.Pb.xd[h<<1]=bV+L;N.Pb.xd[(h<<1)+1]=jU+_;
continue}O=b(y,iH,s);z=iH;jw=s;if(y[0]!=0){for(u=0;u<2;u++){jU=s-.5+u;bV=-(y[1]*jU+y[2])/y[0];i=Math.abs(bV-iH);
q=b(y,bV,jU);if(i<=.5&&q<O){O=q;z=bV;jw=jU}}}if(y[4]!=0){for(u=0;u<2;u++){bV=iH-.5+u;jU=-(y[3]*bV+y[5])/y[4];
t=Math.abs(jU-s);q=b(y,bV,jU);if(t<=.5&&q<O){O=q;z=bV;jw=jU}}}for(C=0;C<2;C++){for(D=0;D<2;D++){bV=iH-.5+C;
jU=s-.5+D;q=b(y,bV,jU);if(q<O){O=q;z=bV;jw=jU}}}N.Pb.xd[h<<1]=z+L;N.Pb.xd[(h<<1)+1]=jw+_}}function e(N){var k=N.Pb.h,V=N.Pb,h,X,Q,L,_,a,T,f,Z;
for(h=0;h<k;h++){X=M(h+1,k);Q=M(h+2,k);var W=V.xd[h<<1],D=V.xd[(h<<1)+1],C=V.xd[Q<<1],d=V.xd[(Q<<1)+1],p=V.xd[X<<1],y=V.xd[(X<<1)+1],i=w(.5,C,p),t=w(.5,d,y);
_=U(W,D,C,d);if(_!=0){L=P(p-W,y-D,C-W,d-D)/_;L=Math.abs(L);a=L>1?1-1/L:0;a=a*(1/.75)}else{a=4/3}V.oA[X]=a;
var O=3*X<<1;if(a>=r.azF){V.Y8[X]=0;V.Mz[O+0]=V.Mz[O+1]=0;V.Mz[O+2]=p;V.Mz[O+3]=y;V.Mz[O+4]=i;V.Mz[O+5]=t}else{if(a<.55){a=.55}else if(a>1){a=1}var q=.5+.5*a;
V.Y8[X]=1;V.Mz[O]=w(q,W,p);V.Mz[O+1]=w(q,D,y);V.Mz[O+2]=w(q,C,p);V.Mz[O+3]=w(q,d,y);V.Mz[O+4]=i;V.Mz[O+5]=t}V.alpha[X]=a;
V.U3[X]=.5}V.a7v=1}function $(N){function k(){this.l0=0;this.e1=0;this.vc=0;this.GZ=0;this.e2=0;this.t=0;
this.hO=0;this.alpha=0}function V(N,h,W,cc,ad,z,jw){var Q=N.Pb.h,jC=N.Pb.Mz,iJ=N.Pb.xd;if(h==W)return 1;
var kJ=h,p=M(h+1,Q),jr=M(kJ+1,Q),g2=iJ[h<<1],gV=iJ[(h<<1)+1],fY=iJ[p<<1],iR=iJ[(p<<1)+1],g6=z[jr];if(g6==0)return 1;
var ay=F(g2-fY,gV-iR);for(kJ=jr;kJ!=W;kJ=jr){var jr=M(kJ+1,Q),cQ=M(kJ+2,Q),aC=iJ[jr<<1],dI=iJ[(jr<<1)+1],fm=iJ[cQ<<1],hd=iJ[(cQ<<1)+1];
if(z[jr]!=g6)return 1;if(Math.sign(P(fY-g2,iR-gV,fm-aC,hd-dI))!=g6)return 1;if(S(fY-g2,iR-gV,fm-aC,hd-dI)<ay*F(aC-fm,dI-hd)*-.999847695156)return 1}var ku=M(h,Q)*3+2<<1,cp=M(h+1,Q)<<1,hp=M(W,Q)<<1,gA=M(W,Q)*3+2<<1,eX=jC[ku],et=jC[ku+1],jN=iJ[cp],d4=iJ[cp+1],ey=iJ[hp],jG=iJ[hp+1],cF=jC[gA],f5=jC[gA+1],u=iJ[0],iH=iJ[1];
ku=W*3+2<<1;var jW=jC[ku],f$=jC[ku+1],y=jw[W]-jw[h];y-=P(jW-u,f$-iH,jW-u,f$-iH)/2;if(h>=W){y+=jw[Q]}var bh=jN-eX,ii=d4-et,dM=ey-eX,b7=jG-et,bz=cF-eX,cZ=f5-et,e4=P(bh,ii,dM,b7),fI=P(bh,ii,bz,cZ),aI=P(dM,b7,bz,cZ),iV=e4+aI-fI;
if(fI==e4)return 1;var q=aI/(aI-iV),O=fI/(fI-e4),k6=fI*q/2;if(k6==0)return 1;var bq=y/k6,i=2-Math.sqrt(4-bq/.3);
cc.e1=w(q*i,eX,jN);cc.vc=w(q*i,et,d4);cc.GZ=w(O*i,cF,ey);cc.e2=w(O*i,f5,jG);cc.alpha=i;cc.t=q;cc.hO=O;
jN=cc.e1;d4=cc.vc;ey=cc.GZ;jG=cc.e2;cc.l0=0;for(kJ=M(h+1,Q);kJ!=W;kJ=jr){jr=M(kJ+1,Q);var cq=iJ[kJ<<1],ib=iJ[(kJ<<1)+1],aC=iJ[jr<<1],dI=iJ[(jr<<1)+1];
q=A(jN-eX,d4-et,ey-jN,jG-d4,cF-ey,f5-jG,aC-cq,dI-ib);if(q<-.5)return 1;var jD=Y(q,eX,jN,ey,cF),eL=Y(q,et,d4,jG,f5),ay=F(aC-cq,dI-ib);
if(ay==0)return 1;var hK=P(aC-cq,dI-ib,jD-cq,eL-ib)/ay;if(Math.abs(hK)>ad)return 1;if(S(aC-cq,dI-ib,jD-cq,eL-ib)<0||S(cq-aC,ib-dI,jD-aC,eL-dI)<0){return 1}cc.l0+=hK*hK}for(kJ=h;
kJ!=W;kJ=jr){jr=M(kJ+1,Q);var ku=kJ*3+2<<1,cp=jr*3+2<<1,fU=jC[ku],ju=jC[ku+1],aF=jC[cp],e6=jC[cp+1];
q=A(jN-eX,d4-et,ey-jN,jG-d4,cF-ey,f5-jG,aF-fU,e6-ju);if(q<-.5)return 1;var jD=Y(q,eX,jN,ey,cF),eL=Y(q,et,d4,jG,f5),ay=F(aF-fU,e6-ju);
if(ay==0)return 1;var hK=P(aF-fU,e6-ju,jD-fU,eL-ju)/ay,hB=P(aF-fU,e6-ju,iJ[jr<<1]-fU,iJ[(jr<<1)+1]-ju)/ay;
hB*=.75*N.Pb.alpha[jr];if(hB<0){hK=-hK;hB=-hB}if(hK<hB-ad)return 1;if(hK<hB){cc.l0+=(hK-hB)*(hK-hB)}}return 0}var X=N.Pb,Q=X.h,L=X.xd,_=new Array(Q+1),a=new Array(Q+1),T=new Array(Q+1),f=new Array(Q+1),Z,h,W,D,C=new k,d,p,y,i,t,O,q,z=new Array(Q),jw=new Array(Q+1);
for(h=0;h<Q;h++){if(X.Y8[h]=="CURVE"){var u=L[M(h-1,Q)<<1],iH=L[(M(h-1,Q)<<1)+1],s=L[h<<1],bV=L[(h<<1)+1],jU=L[M(h+1,Q)<<1],hx=L[(M(h+1,Q)<<1)+1];
z[h]=Math.sign(P(s-u,bV-iH,jU-s,hx-bV))}else{z[h]=0}}y=0;jw[0]=0;var eX=X.xd[0],et=X.xd[1];for(h=0;h<Q;
h++){p=M(h+1,Q);if(X.Y8[p]=="CURVE"){i=X.alpha[p];var f7=h*3+2<<1,iY=p*3+2<<1,cd=X.Mz[f7],jV=X.Mz[f7+1],g2=L[p<<1],gV=L[(p<<1)+1],fD=X.Mz[iY],j4=X.Mz[iY+1];
y+=.3*i*(4-i)*P(g2-cd,gV-jV,fD-cd,j4-jV)/2;y+=P(cd-eX,jV-et,fD-eX,j4-et)/2}jw[h+1]=y}_[0]=-1;a[0]=0;
T[0]=0;for(W=1;W<=Q;W++){_[W]=W-1;a[W]=a[W-1];T[W]=T[W-1]+1;for(h=W-2;h>=0;h--){D=V(N,h,M(W,Q),C,r.aDq,z,jw);
if(D){break}if(T[W]>T[h]+1||T[W]==T[h]+1&&a[W]>a[h]+C.l0){_[W]=h;a[W]=a[h]+C.l0;T[W]=T[h]+1;f[W]=C;C=new k}}}Z=T[Q];
t=new v(Z);O=new Array(Z);q=new Array(Z);W=Q;for(h=Z-1;h>=0;h--){var dQ=M(W,Q),eO=h*3+0<<1,a7=dQ*3+0<<1;
if(_[W]==W-1){t.Y8[h]=X.Y8[dQ];t.Mz[eO]=X.Mz[a7];t.Mz[eO+1]=X.Mz[a7+1];t.Mz[eO+2]=X.Mz[a7+2];t.Mz[eO+3]=X.Mz[a7+3];
t.Mz[eO+4]=X.Mz[a7+4];t.Mz[eO+5]=X.Mz[a7+5];t.xd[h<<1]=X.xd[dQ<<1];t.xd[(h<<1)+1]=X.xd[(dQ<<1)+1];t.alpha[h]=X.alpha[dQ];
t.oA[h]=X.oA[dQ];t.U3[h]=X.U3[dQ];O[h]=q[h]=1}else{t.Y8[h]="CURVE";t.Mz[eO]=f[W].e1;t.Mz[eO+1]=f[W].vc;
t.Mz[eO+2]=f[W].GZ;t.Mz[eO+3]=f[W].e2;t.Mz[eO+4]=X.Mz[a7+4];t.Mz[eO+5]=X.Mz[a7+5];t.xd[h<<1]=w(f[W].hO,X.Mz[a7+4],L[dQ<<1]);
t.xd[(h<<1)+1]=w(f[W].hO,X.Mz[a7+5],L[(dQ<<1)+1]);t.alpha[h]=f[W].alpha;t.oA[h]=f[W].alpha;O[h]=f[W].hO;
q[h]=f[W].t}W=_[W]}for(h=0;h<Z;h++){p=M(h+1,Z);t.U3[h]=O[h]/(O[h]+q[p])}t.a7v=1;N.Pb=t}for(var h=0;h<R.length;
h++){var N=R[h];G(N);n(N);E(N);K(N);e(N);if(r.agh)$(N)}}return{a6H:x,a5G:o}}();dy.np=function(J,v,x,o){var R={CR:"minority",as$:o,agh:!0,azF:1,aDq:.2},r=dy.a6H(J,v,x,R);
dy.a5G(r,R);return r};dy.Ng=function(J){var v=[];for(var h=0;h<J.length;h++){var x=J[h],o=x.Pb,R=["M"],r=[o.Mz[(o.h-1)*6+4],o.Mz[(o.h-1)*6+5]];
for(var l=0;l<o.h;l++){var M=l*6;if(o.Y8[l]==1){R.push("C");for(var P=0;P<6;P++)r.push(o.Mz[M+P])}else if(o.Y8[l]==0){R.push("L");
for(var P=2;P<4;P++)r.push(o.Mz[M+P])}}R.push("Z");v.push({parent:x.parent,color:x.color,path:{T:r,Wp:R}})}return v};
dy.mX=function(J,v,x){var co=J.length>>1,o,R=J[2*co-3]-x,r=J[2*co-2]-v,l=J[2*co-1]-x,M=l>R,P=0;for(var h=0;
h<co;h++){o=r;R=l;r=J[2*h]-v;l=J[2*h+1]-x;if(R==l)continue;M=l>R}for(var h=0;h<co;h++){o=r;R=l;r=J[2*h]-v;
l=J[2*h+1]-x;if(R<0&&l<0)continue;if(R>0&&l>0)continue;if(o<0&&r<0)continue;if(R==l&&Math.min(o,r)<=0)return!0;
if(R==l)continue;var S=o+(r-o)*-R/(l-R);if(S==0)return!0;if(S>0)P++;if(R==0&&M&&l>R)P--;if(R==0&&!M&&l<R)P--;
M=l>R}return(P&1)==1};dy.fill=function(J,v,x,o){var R=v[J],r=[J],l=0;while(l<r.length){var M=r[l];l++;
v[M]=o;if(v[M-x]==R){r.push(M-x);v[M-x]=254}if(v[M-1]==R){r.push(M-1);v[M-1]=254}if(v[M+1]==R){r.push(M+1);
v[M+1]=254}if(v[M+x]==R){r.push(M+x);v[M+x]=254}}};var hI=function(){function J(M){return Math.max(0,Math.min(1,M))}function v(M,P){var S=P<0?-P:P;
if(M>1)M=.99;M=M*.99;var c=Math.pow(S/5,.16),b=Math.pow(2,S<1?S:1+(S-1)*.8);if(P<0)b=1/b;M=c*(1-Math.pow(1-M,b))+(1-c)*M;
return M}function x(M,P){var S=P/100;M=M*.99;M=S*(.5-.5*Math.cos(M*Math.PI))+(1-S)*M;return M}var o=g.$G.am(1,1,1,-.3),R=g.$G.SV(o);
function r(M,P,S,c,b,w,U){var F=M[S],Y=M[S+1],A=M[S+2],G=g.$G.Gr(o,[F,Y,A,1]);F=G[0];Y=G[1];A=G[2];F=v(F,c);
Y=v(Y,c);A=v(A,c);var G=g.$G.Gr(R,[F,Y,A,1]);F=G[0];Y=G[1];A=G[2];F=J(F);Y=J(Y);A=J(A);F=x(F,b);Y=x(Y,b);
A=x(A,b);var n=hz.aH1(F,Y,A,w);F=n[0];Y=n[1];A=n[2];F=J(F);Y=J(Y);A=J(A);if(U){var E=new Uint8Array(4);
E[0]=~~(.5+F*255);E[1]=~~(.5+Y*255);E[2]=~~(.5+A*255);kC.vY(U,E,E,new jj(0,0,1,1));F=E[0]/255;Y=E[1]/255;
A=E[2]/255}P[S]=F;P[S+1]=Y;P[S+2]=A}function l(M,P,S,c,b){var w=b.Temp?b.Temp.v:0,U=b.Tint?b.Tint.v:0,F=b.Ex12?b.Ex12.v:0,Y=b.Cr12?b.Cr12.v:0,A=b.Vibr?b.Vibr.v:0,G=b.Strt?b.Strt.v:0,n=hz.e6(w,U),E=null;
F+=n.ayO;if(A!=0||G!=0)E=kC.f2("vibA",{Strt:b.Strt,vibrance:b.Vibr});var K=Date.now();if(c!=M)c.set(M);
if(F!=0||Y!=0||w!=0||U!=0||E){var e=17,$=1/(e-1),N=e*e*e,k=new Array(N*3);for(var V=0;V<e;V++)for(var X=0;
X<e;X++)for(var Q=0;Q<e;Q++){var h=V*e*e+X*e+Q,L=h*3;k[L]=V*$;k[L+1]=X*$;k[L+2]=Q*$}for(var h=0;h<N;
h++)r(k,k,h*3,F,Y,n,E);console.log(Date.now()-K,"making LUT");K=Date.now();ICC.U.applyLUT(k,e,c,c);console.log(Date.now()-K,"applying LUT");
K=Date.now()}}return l}();function cK(){}cK.KE=function(J,v){var x=new Uint8Array(J),o=0,R=v.split("/").pop().split(".")[0];
function r(A){for(var h=0;h<A.length;h++)A[h].v.Nm.v=R+"/"+A[h].v.Nm.v.split("/").pop()}var l={En:[],pm:[],list:[]},M=I.H1(x,o);
o+=2;if(M<=2){l=cK.a9s(x);r(l.list);return l}var P=I.H1(x,o);o+=2;var S=I.b_(x,o,8);o+=8;var c=I.m7(x,o);
o+=4;if(c>0)l.En=cK.awW(x,o,c,P,M);o+=c;var b=I.b_(x,o,8);o+=8;var w=I.m7(x,o);o+=4;if(w>0)l.pm=ev.u4(x,o,w);
o+=w;var U=I.b_(x,o,8);o+=8;var F=I.m7(x,o);o+=4;if(F>0){var Y={};cG.gN(x,Y,o+4);l.list=Y.Brsh.v}o+=F;
var A=l.list;for(var h=0;h<A.length;h++){br.PX.check(A[h].v)}r(A);return l};cK._1=function(J,v){J.v.Nm.v=v};
cK.a9s=function(J){var v={En:[],pm:[],list:[]},x=0,o=I.H1(J,x);x+=2;var R=I.H1(J,x);x+=2;for(var h=0;
h<R;h++){var r=I.H1(J,x);x+=2;var l=I.m7(J,x);x+=4;var M=x;if(r==2){var P={};v.En.push(P);var S=I.m7(J,M);
M+=4;var c=I.H1(J,M);M+=2;if(o==2){var b=I.B1(J,M);M+=4+b.length*2+2}P.id=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f";
M++;M+=8;P.Yf=I.hT(J,M);M+=16;var w=I.H1(J,M);M+=2;var U=J[M];M++;var F=hE.oz(!1,w,J,P.Yf.r,P.Yf.$,M,U);
F=g.N2(F,8);cK.a3u(P,F);var Y=br.qF(P.id),A=Y.Brsh.v;A.Dmtr.v.val=P.Yf.r;A.Spcn.v.val=c;v.list.push({t:"Objc",v:Y})}x+=l}return v};
cK.o4=function(J){var v=new i3,x=0,o=0;I.Sj(v,x,6);x+=2;I.Sj(v,x,2);x+=2;var R={},r=[],l={},M=[];for(var h=0;
h<J.list.length;h++){var P=J.list[h].v,S=P.Brsh.v;if(S.classID=="sampledBrush")R[S.sampledData.v]=!0;
if(P.Txtr)l[P.Txtr.v.Idnt.v]=!0}for(var h=0;h<J.En.length;h++)if(R[J.En[h].id])r.push(J.En[h]);for(var h=0;
h<J.pm.length;h++)if(R[J.pm[h].id])M.push(J.pm[h]);I.ko(v,x,"8BIMsamp");x+=8;x+=4;o=x;x=cK.a2v(v,x,r);
I.TB(v,o-4,x-o);I.ko(v,x,"8BIMpatt");x+=8;x+=4;o=x;x=ev.jz(v,x,M);I.TB(v,o-4,x-o);var c=g.F(J.list);
for(var h=0;h<c.length;h++)c[h].v.Nm.v=c[h].v.Nm.v.split("/").pop();var b={classID:"null",Brsh:{t:"VlLs",v:c}};
I.ko(v,x,"8BIMdesc");x+=8;x+=4;o=x;I.TB(v,x,16);x+=4;x+=cG.ks(v,b,x);I.TB(v,o-4,x-o);return v.data.slice(0,x).buffer};
cK.awW=function(J,v,x,o,R){var r=I.m7,l=I.hT,M=v+x,P=[];while(v<M){var S={};P.push(S);var c=r(J,v);v+=4;
var b=v,w=I.xs(J,v);v+=w.length;S.id=w.tw;if(o==1){v+=9;S.Yf=l(J,v);v+=16}else{v+=7;var U=r(J,v);v+=4;
S.Yf=l(J,v);v+=16;var F=r(J,v);v+=4;v+=F*4;var Y=r(J,v);v+=4;var A=r(J,v);v+=4;var G=l(J,v);v+=16}var n=I.H1(J,v);
v+=2;var E=J[v];v+=1;var K=hE.oz(!1,n,J,S.Yf.r,S.Yf.$,v,E);K=g.N2(K,8);cK.a3u(S,K);if(c%4!=0)c+=4-c%4;
v=b+c}return P};cK.a3u=function(J,v){var x=J.Yf.Q();x.x=x.y=0;J.ub=[v,x]};cK.a2v=function(J,v,x){var o=I.TB,R=I._x;
for(var h=0;h<x.length;h++){var r=x[h],l=v+4,P=56,c=1;v+=4;I.ES(J,v,r.id);v+=r.id.length+2;J.Cb(v,1);
J.data[v]=1;v+=3;o(J,v,3);v+=4;var M=v;v+=4;R(J,v,r.Yf);v+=16;o(J,v,P);v+=4;v+=P*4;o(J,v-4,1);var S=v;
v+=4;o(J,v,8);v+=4;R(J,v,r.Yf);v+=16;I.Sj(J,v,8);v+=2;J.Cb(v,1);J.data[v]=c;v++;var b=r.ub[0];J.Cb(v,r.Yf.o()*2);
v=hE.Cl(!1,b,J.data,r.Yf.r,r.Yf.$,v,c);J.Cb(v,8);v+=8;var w=v-l;o(J,l-4,w);o(J,M,w-49);o(J,S,w-305);
if(w%4!=0)v+=4-w%4}return v};function k1(){}k1.KE=function(J,v){var x=new Uint8Array(J),o=[],R=0,r=I.H1(x,R);
R+=2;if(r!=4){throw"Unknown version of curves: "+r}var l=I.H1(x,R);R+=2;for(var h=0;h<l;h++){var M=k1.a5K(x,R);
R+=2+2*M.length;o.push(M)}if(R!=x.length){var P=I.b_(x,R,4);R+=4;var S=I.H1(x,R);R+=2;var c=I.H1(x,R);
R+=2;if(c!=0)throw"extra curves for channels"}var b=k1.aht(o,0);b.presetKind={t:"long",v:3};b.presetFileName={t:"TEXT",v:v.split("/").pop().split(".")[0]};
return[b]};k1.a_=function(J,v,x,o){var R=o?I.eA:I.m7,r=v,l=[],M=J[v];v+=3;var P=R(J,v);v+=4;for(var h=0;
h<4;h++){var S=P>>>h&1;if(S){if(M==0){var c=k1.a5K(J,v,o);v+=2+2*c.length}else{var c=k1.aue(J,v);v+=256}l.push(c)}else l.push(M==0?[0,0,255,255]:k1.a1E())}var b=k1.aht(l,M);
return b};k1.aht=function(J,v){var x=a8.ow("curv");for(var h=0;h<4;h++){if(v==0){var o=J[h],R=[];for(var r=0;
r<o.length;r+=2)R.push(g.O2.Ep(o[r],o[r+1],!0));k1.tM(x,h,R)}else k1.tM(x,h,J[h])}return x};k1.Df=function(J,v,x){var o=[];
for(var h=0;h<4;h++){var R=k1.Tc(x,h);if(R.length==256)o.push(R);else{var r=[];for(var l=0;l<R.length;
l++)r.push(R[l].v.Hrzn.v,R[l].v.Vrtc.v);o.push(r)}}var M=v,P=o[0].length==256?1:0;J.Cb(v,3);J.data[v]=P;
J.data[v+1]=0;J.data[v+2]=1;v+=3;I.TB(J,v,15);v+=4;for(var h=0;h<4;h++){var S=o[h];if(P==0){k1.ake(J,v,S);
v+=2+2*S.length}else{k1.atV(J,v,S);v+=256}}return v-M};k1.a1E=function(){var J=[];for(var h=0;h<256;
h++)J.push(h);return J};k1.tM=function(J,v,x){var o=je.za("CrvA",v);if(x.length<256)o.Crv={t:"VlLs",v:x};
else{o.Mpng={t:"VlLs",v:[]};for(var h=0;h<256;h++)o.Mpng.v[h]={t:"long",v:x[h]}}o={t:"Objc",v:o};if(J.Adjs==null)J.Adjs={t:"VlLs",v:[]};
var R=J.Adjs.v,r=je.a1(R,v);if(r==-1)R.push(o);else R[r]=o};k1.Tc=function(J,v){var x=J.Adjs?J.Adjs.v:[],o=je.a1(x,v);
if(o==-1){if(x.length==0||x[0].v.Crv)return[g.O2.Ep(0,0,!0),g.O2.Ep(255,255,!0)];if(x[0].v.autoMachineLearning||x[0].v.AuCo)return[g.O2.Ep(0,0,!0),g.O2.Ep(128,160,!0),g.O2.Ep(255,255,!0)];
var R=[];for(var h=0;h<256;h++)R.push(h);return R}var r=x[o].v;if(r.Crv)return r.Crv.v;if(r.Mpng){var R=[];
for(var h=0;h<256;h++)R.push(r.Mpng.v[h].v);return R}return[g.O2.Ep(0,0,!0),g.O2.Ep(255,255,!0)]};k1.a5K=function(J,v,x){var o=x?I.$y:I.H1,R=[],r=o(J,v);
v+=2;for(var l=0;l<r;l++){var M=o(J,v);v+=2;var P=o(J,v);v+=2;R.push(P,M)}return R};k1.ake=function(J,v,x){var o=x.length/2;
I.Sj(J,v,o);v+=2;for(var R=0;R<o;R++){I.Sj(J,v,x[R*2+1]);v+=2;I.Sj(J,v,x[R*2+0]);v+=2}};k1.aue=function(J,v){var x=[];
for(var h=0;h<256;h++)x.push(J[v+h]);return x};k1.atV=function(J,v,x){J.Cb(v,256);for(var h=0;h<256;
h++)J.data[v+h]=x[h]};function ic(){}ic.a_=function(J,v,x,o){var R={},r=o?I.$y:I.H1,l=o?I.oV:I.lT,M=r(J,v);
v+=2;R.UZ=J[v]==1;v++;v++;R.Hu=[l(J,v),l(J,v+2),l(J,v+4)];v+=6;R.LR=[l(J,v),l(J,v+2),l(J,v+4)];v+=6;
R.Kr=[];for(var h=0;h<6;h++){var P={};P.no=[l(J,v),l(J,v+2),l(J,v+4),l(J,v+6)];v+=8;P.ha=[l(J,v),l(J,v+2),l(J,v+4)];
v+=6;R.Kr.push(P)}var S=a8.ow("hue2"),c=R;if(S.Clrz==null)S.Clrz={t:"bool",v:!1};S.Clrz.v=c.UZ;for(var h=0;
h<7;h++){var b=h==0?c.UZ?c.Hu:c.LR:c.Kr[h-1];ic.tM(S,h,b)}return S};ic.asJ=function(J){return{classID:"Hst2",H:{t:"long",v:J[0]},Strt:{t:"long",v:J[1]},Lght:{t:"long",v:J[2]}}};
ic.a1=function(J,v){for(var h=0;h<J.length;h++){var x=J[h].v.LclR;if(v==0&&x==null||x!=null&&x.v==v)return h}return-1};
ic.tM=function(J,v,x){var o=v==0?x:x.ha,R=ic.asJ(o);if(v!=0){var r=x.no;R.LclR={t:"long",v:v},R.BgnR={t:"long",v:r[0]};
R.BgnS={t:"long",v:r[1]};R.EndS={t:"long",v:r[2]};R.EndR={t:"long",v:r[3]}}R={t:"Objc",v:R};var l=J.Adjs.v,M=ic.a1(l,v);
if(M==-1)l.push(R);else l[M]=R};ic.Tc=function(J,v){var x=J.Adjs.v,o=ic.a1(x,v);if(o==-1){if(v==0)return[0,0,0];
else return[{no:[315,345,15,45],ha:[0,0,0]},{no:[15,45,75,105],ha:[0,0,0]},{no:[75,105,135,165],ha:[0,0,0]},{no:[135,165,195,225],ha:[0,0,0]},{no:[195,225,255,285],ha:[0,0,0]},{no:[255,285,315,345],ha:[0,0,0]}][v-1]}var R=x[o].v,r=[R.H.v,R.Strt.v,R.Lght.v];
if(v==0)return r;return{ha:r,no:[R.BgnR.v,R.BgnS.v,R.EndS.v,R.EndR.v]}};ic.Df=function(J,v,x){var o={UZ:x.Clrz?x.Clrz.v:!1,Kr:[]};
o.Hu=o.LR=ic.Tc(x,0);for(var h=1;h<7;h++)o.Kr.push(ic.Tc(x,h));var R=2+2+12+6*14,r=J.data;J.Cb(v,R);
I.fN(r,v,2);v+=2;r[v]=o.UZ?1:0;v++;v++;I.nS(r,v+0,o.Hu[0]);I.nS(r,v+2,o.Hu[1]);I.nS(r,v+4,o.Hu[2]);v+=6;
I.nS(r,v+0,o.LR[0]);I.nS(r,v+2,o.LR[1]);I.nS(r,v+4,o.LR[2]);v+=6;for(var h=0;h<6;h++){var l=o.Kr[h].no,M=o.Kr[h].ha;
I.nS(r,v+0,l[0]);I.nS(r,v+2,l[1]);I.nS(r,v+4,l[2]);I.nS(r,v+6,l[3]);v+=8;I.nS(r,v+0,M[0]);I.nS(r,v+2,M[1]);
I.nS(r,v+4,M[2]);v+=6}return R};function je(){}je.KE=function(J,v){var x=new Uint8Array(J),o=2,R=v?I.$y:I.H1,r=[];
for(var h=0;h<29;h++){var l=[];r.push(l);for(var M=0;M<5;M++)l.push(R(x,o+h*10+M*2))}o+=29*10;if(o<x.length){var P=I.uE(x,o,v);
o+=4;var S=R(x,o);o+=2;var c=R(x,o);o+=2;var b=c-29;for(var h=0;h<b;h++){var l=[];r.push(l);for(var M=0;
M<5;M++)l.push(R(x,o+h*10+M*2))}}var w=a8.ow("levl");for(var h=0;h<4;h++)je.tM(w,h,r[h]);return w};je.za=function(J,h){var v=["Cmps","Rd","Grn","Bl"],x={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:v[h]}}]};
return{classID:J,Chnl:x}};je.a1=function(J,v){var x={Cmps:0,Rd:1,Grn:2,Bl:3};for(var h=0;h<J.length;
h++){var o=J[h].v,R=x[o.Chnl.v[0].v.enum];if(R==v)return h}return-1};je.tM=function(J,v,x){var o=je.za("LvlA",v);
o.Inpt={t:"VlLs",v:[{t:"long",v:x[0]},{t:"long",v:x[1]}]};o.Otpt={t:"VlLs",v:[{t:"long",v:x[2]},{t:"long",v:x[3]}]};
o.Gmm={t:"doub",v:x[4]/100};o={t:"Objc",v:o};var R=J.Adjs.v,r=je.a1(R,v);if(r==-1)R.push(o);else R[r]=o};
je.Tc=function(J,v){var x=[0,255,0,255,100],o=J.Adjs.v,R=je.a1(o,v);if(R==-1)return x;var r=o[R].v;if(r.Inpt){x[0]=r.Inpt.v[0].v;
x[1]=r.Inpt.v[1].v}if(r.Otpt){x[2]=r.Otpt.v[0].v;x[3]=r.Otpt.v[1].v}if(r.Gmm){x[4]=Math.round(r.Gmm.v*100)}return x};
je.o4=function(J,v){var x=[],o=0;for(var h=0;h<4;h++)x.push(je.Tc(v,h));while(x.length<29)x.push([0,255,0,255,100]);
J.Cb(0,2+10*29);I.fN(J.data,o,2);o+=2;for(var h=0;h<29;h++){var R=x[h];for(var r=0;r<5;r++)I.fN(J.data,o+h*10+r*2,R[r])}o+=29*10;
if(x.length==29)return o;J.Cb(o,8+10*(x.length-29));I.cO(J.data,o,"Lvls");o+=4;I.fN(J.data,o,3);o+=2;
I.fN(J.data,o,x.length);o+=2;var l=x.length-29;for(var h=0;h<l;h++){var R=x[29+h];for(var r=0;r<5;r++)I.fN(J.data,o+h*10+r*2,R[r])}o+=10*l;
return o};function fy(){}fy.KE=function(J,v){var x=new Uint8Array(J),o=2,R=v.split("/").pop().split(".")[0],r={Ue:[],Kg:[]},l=I.b_(x,o,4);
o+=4;var M=I.H1(x,o);o+=2;var P=I.m7(x,o);o+=4;r.Ue=ev.u4(x,o,P);o+=P;var S=I.m7(x,o);o+=4;for(var h=0;
h<S;h++){var c=I.m7(x,o);o+=4;var b=o,w={eZ:{},x0:{}};r.Kg.push(w);o+=4;o+=cG.gN(x,w.eZ,o);w.eZ.Nm.v=R+"/"+w.eZ.Nm.v.split("=").pop();
o+=4;o+=cG.gN(x,w.x0,o);o=b+c;var U=w.x0.blendOptions,F=w.x0.Lefx;if(U&&Object.keys(U.v).length>1){}if(F){if(F.v.masterFXSwitch==null)F.v.masterFXSwitch={t:"bool",v:!0};
aw.kH(F.v)}}return r};fy._1=function(J,v){J.eZ.Nm.v=v};fy.o4=function(J){var v=new i3,x=0;I.Sj(v,x,2);
x+=2;I.ko(v,x,"8BSL");x+=4;I.Sj(v,x,3);x+=2;var o=x;x+=4;x=ev.jz(v,x,J.Ue);I.TB(v,o,x-o-4);var R=J.Kg.length;
I.TB(v,x,R);x+=4;for(var h=0;h<R;h++){x+=4;var r=x,l=J.Kg[h];I.TB(v,x,16);x+=4;var M=l.eZ.Nm.v;l.eZ.Nm.v=l.eZ.Nm.v.split("/").pop();
x+=cG.ks(v,l.eZ,x);l.eZ.Nm.v=M;var P=l.x0.Lefx;if(P){l.x0.Lefx=g.F(P);aw.SM(l.x0.Lefx.v)}I.TB(v,x,16);
x+=4;x+=cG.ks(v,l.x0,x);if(P)l.x0.Lefx=P;I.TB(v,r-4,x-r)}return v.data.slice(0,x).buffer};function f1(){}f1.a_=function(J,v,x,o){var R=o?I.$y:I.H1,r=o?I.oV:I.lT,l=R(J,v);
v+=2;var M={};M.Sv=R(J,v)==1;v+=2;M.LA=[];for(var h=0;h<10;h++){var P=[];M.LA.push(P);for(var S=0;S<4;
S++)P.push(r(J,v+S*2));v+=8}var c=a8.ow("selc");c.Mthd.v.CrcM=M.Sv?"Absl":"Rltv";for(var h=1;h<10;h++)f1.tM(c,h-1,M.LA[h]);
return c};f1.Pa="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");f1.za=function(J,h){var v=["Cmps","Rd","Grn","Bl"],x={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:v[h]}}]};
return{classID:J,Chnl:x}};f1.a1=function(J,v){var x=f1.Pa;for(var h=0;h<J.length;h++){var o=J[h].v,R=x.indexOf(o.Clrs.v.Clrs);
if(R==v)return h}return-1};f1.tM=function(J,v,x){var o=["Cyn","Mgnt","Ylw","Blck"],R={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:f1.Pa[v]}}};
for(var r=0;r<4;r++)R[o[r]]={t:"UntF",v:{type:"#Prc",val:x[r]}};R={t:"Objc",v:R};var l=J.ClrC.v,M=f1.a1(l,v);
if(M==-1)l.push(R);else l[M]=R};f1.Tc=function(J,v){var x=[0,0,0,0],o=J.ClrC.v,R=f1.a1(o,v);if(R==-1)return x;
var r=["Cyn","Mgnt","Ylw","Blck"];for(var h=0;h<4;h++)if(o[R].v[r[h]])x[h]=o[R].v[r[h]].v.val;return x};
f1.Df=function(J,v,x){var o={Sv:x.Mthd.v.CrcM=="Absl",LA:[[0,0,0,0]]};for(var h=0;h<9;h++)o.LA.push(f1.Tc(x,h));
J.Cb(v,84);I.fN(J.data,v,1);v+=2;I.fN(J.data,v,o.Sv?1:0);v+=2;for(var h=0;h<10;h++){var R=o.LA[h];for(var r=0;
r<4;r++)I.nS(J.data,v+r*2,R[r]);v+=8}return 84};function b0(){}b0.ow=function(){return{ZW:new jj(0,0,50,50),eZ:"",lG:"play",X:g.I.yu.pv([.1,.1,.9,.5,.1,.9],0)}};
b0.KE=function(J,v){J=new Uint8Array(J);var x=0,o=[],R=v.split("/").pop().split(".")[0],r=Date.now(),l=I.b_(J,0,4);
x+=4;var M=I.m7(J,x);x+=4;var P=I.m7(J,x);x+=4;for(var h=0;h<P;h++){var S=I.B1(J,x);x+=S.length*2+4+2;
if((S.length&1)==0)x+=2;x=b0.aon(J,x,S,o);o[h].lG=R+"/"+o[h].lG}return o};b0.aon=function(J,v,x,o){var R=I.m7(J,v);
v+=4;var r=I.m7(J,v);v+=4;var l=v,M=I.xs(J,l).tw;l+=M.length+1;var P=I.hT(J,l);l+=16;var S=b0.Kt(J,l,r-(l-v)),c=g.I.JM(S),b=g.b.ni(c),w=1/b.r,U=1/b.$;
g.I.Xi(S,new bC(w,0,0,U,-b.x*w,-b.y*U));o.push({lG:x,eZ:M,X:S,ZW:P});v+=r;return v};b0._1=function(J,v){J.lG=v};
b0.o4=function(J){var v=new i3,x=0;I.ko(v,x,"cush");x+=4;I.TB(v,x,2);x+=4;I.TB(v,x,J.length);x+=4;for(var h=0;
h<J.length;h++){var o=J[h],R=o.lG.split("/").pop()+"\0";I.Jm(v,x,R);x+=4+R.length*2;if((R.length&1)==1)x+=2;
I.TB(v,x,1);x+=4;x+=4;var r=x;I.ES(v,x,o.eZ);x+=o.eZ.length+1;I._x(v,x,o.ZW);x+=16;v.Cb(x,o.X.length*26);
b0.pM(v.data,x,o.X,1,1);x+=o.X.length*26;var l=x-r;if((l&3)!=0)l+=4-(l&3);I.TB(v,r-4,l);x=r+l}return v.data.slice(0,x).buffer};
b0.avh=function(J){var v=[];for(var h=0;h<J.length;h++){var x=J[h],o=x.e,R={type:o};v.push(R);if(o==6){}else if(o==8)R.all=x.all;
else if(o==0||o==3){R.length=x.length;R.frule=x.da;R.third=x.ii;R.prmA=x.RO;R.prmB=x.M4}else{R.c=[x.nQ.x,x.nQ.y,x.Z.x,x.Z.y,x._v.x,x._v.y]}}return v};
b0.att=function(J){var v=[];for(var h=0;h<J.length;h++){var x=J[h],o=x.type,R={e:o};v.push(R);if(o==6){}else if(o==8)R.all=x.all;
else if(o==0||o==3){R.length=x.length;R.da=x.frule;R.ii=x.third;R.RO=x.prmA;R.M4=x.prmB}else{var r=x.c;
R.nQ=new aG(r[0],r[1]);R.Z=new aG(r[2],r[3]);R._v=new aG(r[4],r[5])}}return v};b0.Kt=function(J,v,x,o,R,r){if(o==null)o=1;
if(R==null)R=1;var l=r?I.avm:I.aql;function M(n,E,K){var e=l(n,E)*K,$=Math.round(e);return Math.abs(e-$)<1e-6?$:e}var P=r?I.oV:I.lT,S=r?I.eA:I.m7,c=[],b=Math.floor(x/26);
for(var h=0;h<b;h++){var w=v+h*26,U={},F=0;c.push(U);U.e=P(J,w);w+=2;if(U.e==6){F=24}if(U.e==8){U.all=P(J,w);
w+=2;F=22}if(U.e==0||U.e==3){U.length=P(J,w);w+=2;U.da=P(J,w);w+=2;U.ii=P(J,w);w+=2;U.RO=S(J,w);w+=4;
U.M4=S(J,w);w+=4;F=10}if(U.e==1||U.e==2||U.e==4||U.e==5){var Y,A;A=M(J,w,R);w+=4;Y=M(J,w,o);w+=4;U.nQ=new aG(Y,A);
A=M(J,w,R);w+=4;Y=M(J,w,o);w+=4;U.Z=new aG(Y,A);A=M(J,w,R);w+=4;Y=M(J,w,o);w+=4;U._v=new aG(Y,A);F=0}for(var G=0;
G<F;G++)if(J[w+G]!=0){console.log("Unexpected non-zero byte!",U,G,J[w+G])}}return c};b0.pM=function(J,v,x,o,R){var r=I.nS,l=I.axH,M=x.length;
for(var h=0;h<M;h++){var P=v+h*26,S=x[h];r(J,P,S.e);P+=2;if(S.e==6){}if(S.e==8)r(J,P,S.all);if(S.e==0||S.e==3){r(J,P,S.length);
P+=2;r(J,P,S.da);P+=2;r(J,P,S.ii);P+=2}if(S.e==1||S.e==2||S.e==4||S.e==5){l(J,P,S.nQ.y/R);P+=4;l(J,P,S.nQ.x/o);
P+=4;l(J,P,S.Z.y/R);P+=4;l(J,P,S.Z.x/o);P+=4;l(J,P,S._v.y/R);P+=4;l(J,P,S._v.x/o);P+=4}}};function kO(){}kO.apT=function(J,v,x,o){var R=o.split(".")[0];
if(v+3<J.length){var r={},P=0;aw.kC(J,v,J.length,r);var l=r.phry.hierarchy.v,M=[[]];for(var h=0;h<l.length;
h++){var top=M[M.length-1],S=l[h].v,c=S.classID;if(c=="Grup"){var b=[];M.push(b);top.push([S.Nm.v,null,b,!0])}else if(c=="preset"){top.push(x[P]);
P++}else if(c=="groupEnd"){M.pop()}}var w=kO.an1(M[0],kO);return[[R,null,M[0],!0]]}else{for(var h=0;
h<x.length;h++){var U=x[h][0].split("/");if(U.length>1){R=U[U.length-2];x[h][0]=U.pop().split("=").pop()}}return[[R,null,x,!0]]}};
kO.an1=function(J,v){var x=[],o=[];kO.n$(J,x,o);var R=new Uint8Array(v.o4(x)),r=new i3;r.Cb(0,R.length);
r.data.set(R,0);var l={phry:{classID:"null",hierarchy:{t:"VlLs",v:o}}},M=aw.Jf(r,R.length,l);return r.data.slice(0,M)};
kO.n$=function(J,v,x){for(var h=0;h<J.length;h++){var o=J[h];if(o[1]==null){x.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:o[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
kO.n$(o[2],v,x);x.push({t:"Objc",v:{classID:"groupEnd"}})}else{x.push({t:"Objc",v:{classID:"preset"}});
v.push(o)}}};kO.KE=function(J,v){var x=new Uint8Array(J),o=[],R=0;if(I.b_(x,0,4)=="ASEF")R=kO.ayv(x,o);
else{R=kO.aep(x,R,o);if(R+3<x.length){o=[];R=kO.aep(x,R,o)}}return kO.apT(x,R,o,v)};kO.ayv=function(J,v){var x=8,o=I.m7(J,x),R,r=null,l,M,P,S;
x+=4;for(var c=0;c<o;c++){var b=I.H1(J,x);x+=2;var w=I.m7(J,x);x+=4;var U=x+w;if(b==49153||b==1){var F=I.H1(J,x);
x+=2;var Y=I.Gq(J,x,F-1);x+=F*2;if(b==1)R=Y;else r=Y}if(b==1){var A=I.b_(J,x,4);x+=4;l=I.Ll(J,x);x+=4;
M=I.Ll(J,x);x+=4;P=I.Ll(J,x);x+=4;if(A=="RGB "){}else if(A=="CMYK"){S=I.Ll(J,x);x+=4;var G=UDOC.C.cmykToRgb([l,M,P,S]);
l=G[0];M=G[1];P=G[2]}else alert("Unknown color space: "+A);v.push([(r?r+" : ":"")+R,{z:l*255,H:M*255,c:P*255}])}x=U}return x};
kO.aep=function(J,v,x){var o=I.H1,R=I.lT,r=o(J,v);v+=2;var l=o(J,v);v+=2;for(var h=0;h<l;h++){var M=kO.qn(J,v),P="clr"+h;
v+=10;if(r==2){P=I.B1(J,v);v+=4+P.length*2+2}x.push([P,M])}return v};kO.qn=function(J,v,x){var o=x?I.$y:I.H1,R=x?I.oV:I.lT,r=o(J,v),F=null;
v+=2;var l=o(J,v);v+=2;var M=o(J,v);v+=2;var P=o(J,v);v+=2;var S=o(J,v);v+=2;var c=1/65535,b=255/65535,w=100/65535,U=255/1e4;
if(r==0)F={z:l*b,H:M*b,c:P*b};else if(r==1){F=g.Pu(l*c,M*c,P*c);F.z*=255;F.H*=255;F.c*=255}else if(r==2)F=g.UH.Eb({classID:"CMYC",Cyn:{t:"doub",v:100-l*w},Mgnt:{t:"doub",v:100-M*w},Ylw:{t:"doub",v:100-P*w},Blck:{t:"doub",v:100-S*w}});
else if(r==7){var Y=g.XL(l/100,R(J,v-6)/100,R(J,v-4)/100);F=Y}else if(r==8){F={z:255-l*U,H:255-M*U,c:255-P*U}}else if(r==18){var A=255*l/16384;
F={z:A,H:A,c:A}}else{throw r}return F};kO.o4=function(J){var v=new i3,x=0,o=I.Sj;for(var R=1;R<3;R++){o(v,x,R);
x+=2;o(v,x,J.length);x+=2;for(var h=0;h<J.length;h++){var r=J[h];v.Cb(x,10);kO.yN(v.data,x,r[1]);x+=10;
if(R==2){var l=r[0]+"\0";I.Jm(v,x,l);x+=4+l.length*2}}}return v.data.slice(0,x).buffer};kO.yN=function(J,v,x){var o=65535/255,R=I.fN;
R(J,v,0);R(J,v+2,Math.round(x.z*o));R(J,v+4,Math.round(x.H*o));R(J,v+6,Math.round(x.c*o));R(J,v+8,0)};
kO.QZ=function(J,v,x){var o=J[1],R=255<<24|o.c<<16|o.H<<8|o.z,r=new Uint32Array(v*x);r.fill(R);var l=UPNG.encode([r.buffer],v,x);
return"data:image/png;base64,"+d2.vd(l)};function j5(){}j5.KE=function(J){var v=new Uint8Array(J),x=4,o={};
o.hX=I.B1(v,x);x+=4+o.hX.length*2+2;o.exp=v[x++]==1;o.SU=[];var R=I.m7(v,x);x+=4;for(var h=0;h<R;h++){var r={};
o.SU.push(r);r.Vn=I.H1(v,x);x+=2;r.shift=v[x++]==1;r.adu=v[x++]==1;r.color=I.H1(v,x);x+=2;r.hX=I.B1(v,x);
x+=4+r.hX.length*2+2;r.exp=v[x++]==1;r.SU=[];var l=I.m7(v,x);x+=4;for(var M=0;M<l;M++){var P={};r.SU.push(P);
P.exp=v[x++]==1;P.i=v[x++]==1;P.anj=v[x++]==1;P.aBE=v[x++];var S=I.b_(v,x,4);x+=4;if(S=="TEXT"){P.QI=j5.ahE(v,x);
x+=4+P.QI.length}else if(S=="long"){P.QI=I.b_(v,x,4);x+=4}else throw"e";P.H4=j5.ahE(v,x);x+=4+P.H4.length;
var c=I.a$(v,x);x+=4;if(c==-1){P._g={};var b=cG.gN(v,P._g,x);x+=b}}}console.log(o);var w=new Uint8Array(j5.o4(o));
for(var h=0;h<w.length;h++)if(w[h]!=v[h]&&I.b_(v,h+1,4)!="None"){console.log(v.length,w.length);var U=4*(h>>>2)-16;
console.log(I.W$(v,U,64));console.log(I.W$(w,U,64));console.log(v.slice(U,U+64));console.log(w.slice(U,U+64));
throw"i"}return[o]};j5.ahE=function(J,v){var x=I.m7(J,v);return I.b_(J,v+4,x)};j5.awR=function(J,v,x){I.TB(J,v,x.length);
I.ko(J,v+4,x)};j5.o4=function(J){var v=new i3,x=0;I.TB(v,x,16);x+=4;I.Jm(v,x,J.hX+"\0");x+=4+J.hX.length*2+2;
v.Cb(x,1);v.data[x++]=J.exp?1:0;var o=J.SU.length;I.TB(v,x,o);x+=4;for(var h=0;h<o;h++){var R=J.SU[h];
I.Sj(v,x,R.Vn);x+=2;v.Cb(x,2);v.data[x++]=R.shift?1:0;v.data[x++]=R.adu?1:0;I.Sj(v,x,R.color);x+=2;I.Jm(v,x,R.hX+"\0");
x+=4+R.hX.length*2+2;v.Cb(x,1);v.data[x++]=R.exp?1:0;var r=R.SU.length;I.TB(v,x,r);x+=4;for(var l=0;
l<r;l++){var M=R.SU[l];v.Cb(x,4);v.data[x++]=M.exp?1:0;v.data[x++]=M.i?1:0;v.data[x++]=M.anj?1:0;v.data[x++]=M.aBE;
var P="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(M.QI)!=-1;I.ko(v,x,P?"long":"TEXT");
x+=4;if(!P){j5.awR(v,x,M.QI);x+=4+M.QI.length}else{I.ko(v,x,M.QI);x+=4}j5.awR(v,x,M.H4);x+=4+M.H4.length;
I.K3(v,x,M._g?-1:0);x+=4;if(M._g){var S=cG.ks(v,M._g,x);x+=S}}}return v.data.slice(0,x).buffer};function eV(){}eV.KE=function(J){var v=new Uint8Array(J),x=0,o=I.m7(v,x),P;
x+=4;var R=I.b_(v,x,8);x+=8;var r=I.eA(v,x);x+=4;var l=I.eA(v,x);x+=4;var M=I.eA(v,x);x+=4;console.log(r,l,M);
if(o==2){P=new Float32Array(J,32,J.byteLength-32>>>2)}else if(o==3||o==4){P=new Float32Array(l*M*2);
var S=0,c=0,b=!0;x=o==3?32:16+8+40;while(x<v.length){var w=I.eA(v,x);x+=4;if(b)c+=w;else{for(var h=0;
h<w;h++){P[S+c+h<<1]=I.Dm(v,x);P[(S+c+h<<1)+1]=I.Dm(v,x+4);x+=8}c+=w}b=!b;if(w!=0&&c==l){S+=l;c=0;b=!0;
if(S==l*M)break}}}else throw"unknown Mesh version: "+o;return{BK:l,mq:M,map:P}};eV.Ce=function(J){var v=J.BK,x=J.mq,o=J.map,R=new Uint8Array(32+x*v*8+x*8),r=0,l=0;
I.Cu(R,r,3);r+=4;I.cO(R,r,"yfqLhseM");r+=8;I.u1(R,r,2);r+=4;I.u1(R,r,v);r+=4;I.u1(R,r,x);r+=4;I.u1(R,r,0);
r+=4;I.u1(R,r,1);r+=4;for(var M=0;M<x;M++){I.u1(R,r,0);r+=4;I.u1(R,r,v);r+=4;for(var P=0;P<v;P++){I._z(R,r,o[l]);
I._z(R,r+4,o[l+1]);l+=2;r+=8}}return R.buffer};function aY(){}aY.KE=function(J){var v=new Uint8Array(J),x=0,o=I.b_(v,x,4);
x+=4;var R=I.H1(v,x);x+=2;var r=I.m7(v,x);x+=4;var l=[];for(var h=0;h<r;h++){var M=I.m7(v,x);x+=4;var P={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
l.push(P);var S=I.B1(v,x);P.Nm.v=S;x+=4+S.length*2+2;var c=I.H1(v,x);x+=2;var b=I.H1(v,x);x+=2;for(var w=0;
w<b;w++){var U=g.O2.Ep(0,0,!0);U.v.Vrtc.v=I.H1(v,x);x+=2;U.v.Hrzn.v=I.H1(v,x);x+=2;P.Crv.v.push(U)}if(M==1){}else if(M==2){for(var w=0;
w<b;w++){P.Crv.v[w].v.Cnty.v=v[x]==1;x+=1}}else throw"error";var F=I.m7(v,x);x+=4;var Y=I.m7(v,x);x+=4}return l};
aY._1=function(J,v){J.Nm.v=v};aY.o4=function(J){var v=new i3,x=0;I.ko(v,x,"8BFS");x+=4;I.Sj(v,x,1);x+=2;
I.TB(v,x,J.length);x+=4;for(var h=0;h<J.length;h++){I.TB(v,x,2);x+=4;var o=J[h];I.Jm(v,x,o.Nm.v+"\0");
x+=4+o.Nm.v.length*2+2;I.Sj(v,x,2);x+=2;var R=o.Crv.v.length;I.Sj(v,x,R);x+=2;for(var r=0;r<R;r++){var l=o.Crv.v[r];
I.Sj(v,x,l.v.Vrtc.v);x+=2;I.Sj(v,x,l.v.Hrzn.v);x+=2}v.Cb(x,R);for(var r=0;r<R;r++){v.data[x]=o.Crv.v[r].v.Cnty.v;
x++}I.TB(v,x,0);x+=4;I.TB(v,x,0);x+=4}return v.data.slice(0,x).buffer};function ev(){}ev.KE=function(J,v){var x=new Uint8Array(J),o=4,R=v.split("/").pop().split(".")[0],r=I.H1(x,o);
o+=2;var l=I.m7(x,o);o+=4;var M=[];for(var h=0;h<l;h++){var P={};M.push(P);o=ev.a6l(x,o,P);P.name=R+"/"+P.name.split("=").pop()}return M};
ev._1=function(J,v){J.name=v};ev.o4=function(J){var v=new i3,x=0;I.ko(v,x,"8BPT");x+=4;I.Sj(v,x,1);x+=2;
I.TB(v,x,J.length);x+=4;for(var h=0;h<J.length;h++){var o=J[h],R=o.name;o.name=o.name.split("/").pop();
x=ev.abI(v,x,o);o.name=R}return v.data.slice(0,x).buffer};ev.u4=function(J,v,x,o){var R=o?I.eA:I.m7,r=v+x,l=[];
while(v<r){var M={},P=R(J,v);v+=4;var S=v;v=ev.a6l(J,v,M,o);if(!M.ub[1].L3())l.push(M);if(P%4!=0)P+=4-P%4;
v=S+P}return l};ev.jz=function(J,v,x){for(var h=0;h<x.length;h++){var o=x[h];v+=4;var R=v;v=ev.abI(J,v,o);
var r=v-R;I.TB(J,R-4,r);if(r%4!=0)R+=4-r%4;v=R+r}return v};ev.a6l=function(J,v,x,o){var R=o?I.eA:I.m7,r=o?I.$y:I.H1,l=o?I.VE:I.B1,M=R(J,v);
v+=4;if(M!=1)alert("Unknown version of pattern");var P=R(J,v);v+=4;if(P!=1&&P!=2&&P!=3)console.log("Unsupported mode of pattern: "+P);
var S=r(J,v);v+=2;var c=r(J,v);v+=2;var b=new jj(0,0,c,S);x.name=l(J,v);v+=4+2*x.name.length+2;var w=J[v];
v++;x.id=I.b_(J,v,w);v+=x.id.length;var U=-1;if(P==2){U=v;v+=3*256+4}var F=new g.GH(c*S);v=ev.aAN(J,v,F,o);
if(P==2){for(var h=0;h<F.z.length;h++){var Y=3*F.z[h];F.z[h]=J[U+Y+0];F.H[h]=J[U+Y+1];F.c[h]=J[U+Y+2]}}var A=g.C(b.o()*4);
g.$P(F,A);x.ub=[A,b];return v};ev.abI=function(J,v,x){var o=x.ub[0],R=x.ub[1];I.TB(J,v,1);v+=4;I.TB(J,v,3);
v+=4;I.Sj(J,v,R.$);v+=2;I.Sj(J,v,R.r);v+=2;I.Jm(J,v,x.name+"\0");v+=4+2*x.name.length+2;I.SR(J,v,x.id.length);
v++;I.ko(J,v,x.id);v+=x.id.length;var r=new g.GH(R.o());g.Y5(o,r);v=ev.a1l(J,v,r,R);return v};ev.aAN=function(J,v,x,o){var R=o?I.eA:I.m7,r=o?I.$y:I.H1,l=v,M={Yf:null,xY:[],aJ8:null,o2:null},P=R(J,v);
v+=4;var S=R(J,v);v+=4;M.Yf=I.hT(J,v,o);v+=16;var c=R(J,v);v+=4;for(var h=0;h<c+2;h++){var b=R(J,v);
v+=4;if(b==0)continue;var w=R(J,v);v+=4;if(w==0)continue;var U=R(J,v);v+=4;var F=I.hT(J,v,o);v+=16;var Y=r(J,v);
v+=2;var A=J[v];v++;var G=hE.oz(!1,U,J,F.r,F.$,v,A,w,o);G=g.N2(G,8);if(h<c)M.xY.push(G);if(h==c)M.aJ8=G;
if(h==c+1)M.o2=G;v+=w-23}if(!M.Yf.L3()){if(M.xY[0])x.z=M.xY[0];if(M.xY[1])x.H=M.xY[1];else x.H=M.xY[0].slice(0);
if(M.xY[2])x.c=M.xY[2];else x.c=M.xY[0].slice(0);if(M.o2)x.o5=M.o2;else x.o5.fill(255)}return v};ev.a1l=function(J,v,x,o){var R=v,r={Yf:o,xY:[x.z,x.H,x.c],aJ8:null,o2:x.o5};
I.TB(J,v,3);v+=4;I.TB(J,v,0);v+=4;I._x(J,v,o);v+=16;I.TB(J,v,24);v+=4;for(var h=0;h<24+2;h++){var l=v,M=h<3||h==25?1:0;
I.TB(J,v,M);v+=4;if(M==0)continue;I.TB(J,v,0);v+=4;I.TB(J,v,8);v+=4;I._x(J,v,o);v+=16;I.Sj(J,v,8);v+=2;
I.SR(J,v,1,1);v++;var P=h<3?r.xY[h]:r.o2;J.Cb(v,o.o()+2);v=hE.Cl(!1,P,J.data,o.r,o.$,v,1);I.TB(J,l+4,v-l-8)}I.TB(J,R+4,v-R-8);
return v};function cb(){}cb.KE=function(J,v){var x=new Uint8Array(J),R=0;if(x[0]==71)return cb.aAH(x);
var o=v.split("/").pop().split(".")[0],r=I.b_(x,R,4);R+=4;var l=I.H1(x,R);R+=2;var M=[];if(l<=3){var P=I.H1(x,R);
R+=2;for(var h=0;h<P;h++){var S=x[R++],c=I.b_(x,R,S);R+=S;var b=cb.avJ(x,R,c),w=b[0];R=b[1];M.push(w)}}else{var b={},U=cG.gN(x,b,R+4),F=b.GrdL.v;
for(var h=0;h<F.length;h++)M[h]=F[h].v.Grad.v;R+=4+U}for(var h=0;h<M.length;h++)M[h]=[M[h].Nm.v,M[h]];
return kO.apT(x,R,M,v)};cb._1=function(J,v){J.Nm.v=v};cb.o4=function(J){var v=new i3,x=0;I.ko(v,x,"8BGR");
x+=4;I.Sj(v,x,5);x+=2;I.TB(v,x,16);x+=4;var o={classID:"null",GrdL:{t:"VlLs",v:[]}},R=o.GrdL.v;for(var h=0;
h<J.length;h++){var r=g.F(J[h]);r[1].Nm.v=r[0];R[h]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:r[1]}}}}x+=cG.ks(v,o,x);
return v.data.slice(0,x).buffer};cb.avJ=function(J,v,x,o){var R={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:x},Trns:{t:"VlLs",v:[]}},r=o?I.$y:I.H1,l=o?I.eA:I.m7,M=r(J,v);
v+=2;if(M==0)throw"e";for(var h=0;h<M;h++){var P=l(J,v),S=l(J,v+4),c=kO.qn(J,v+8,o),b={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:c.z},Grn:{t:"doub",v:c.H},Bl:{t:"doub",v:c.c}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:P},Mdpn:{t:"long",v:S}}};
R.Clrs.v.push(b);v+=20}var w=r(J,v);v+=2;for(var h=0;h<w;h++){var P=l(J,v),S=l(J,v+4),U=r(J,v+8),b={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*U/255)}},Lctn:{t:"long",v:P},Mdpn:{t:"long",v:S}}};
R.Trns.v.push(b);v+=10}var F=r(J,v);v+=2;R.Intr.v=F==2?r(J,v):4096;v+=2;var Y=r(J,v);v+=2;return[R,v]};
cb.aaH=function(J,v,x){var o=x.Clrs.v.length;I.Sj(J,v,o);v+=2;for(var h=0;h<o;h++){var R=x.Clrs.v[h];
I.TB(J,v,R.v.Lctn.v);I.TB(J,v+4,R.v.Mdpn.v);I.Sj(J,v+8,0);var r=g.UH.YK(g.UH.Eb(R.v.Clr.v)),l=[r.Rd.v,r.Grn.v,r.Bl.v,0];
for(var M=0;M<4;M++)I.Sj(J,v+10+M*2,Math.round(65535*(l[M]/255)));v+=20}var P=x.Trns.v.length;I.Sj(J,v,P);
v+=2;for(var h=0;h<P;h++){var R=x.Trns.v[h];I.TB(J,v,R.v.Lctn.v);I.TB(J,v+4,R.v.Mdpn.v);I.Sj(J,v+8,Math.round(255*R.v.Opct.v.val/100));
v+=10}I.Sj(J,v,2);v+=2;I.Sj(J,v,x.Intr.v);v+=2;I.Sj(J,v,32);v+=2;return v};cb.aAH=function(J){var v=I.Aq(J,0,J.length).split("\n"),x=parseFloat(v[2]),o=[],R=JSON.parse(gD.Sy[gD.order.indexOf("GrFl")]).Grad.v;
R.Intr.v=0;R.Nm.v=v[1];for(var h=0;h<x;h++){var r=v[3+h].split(" ").map(parseFloat),l=r[11],M=r[12];
o.push([r[0],r.slice(3,6),r[6]]);if(M!=0){var P=g.qz(r[3],r[4],r[5]),S=g.qz(r[7],r[8],r[9]),c=P.mq,b=S.mq;
if(M==1&&c>b)b++;if(M==2&&c<b)c++;var w=Math.round(Math.abs(b-c)*7);if(w>1)for(var U=0;U<w;U++){var F=1-(U+1)/(w+1),Y=1-F,A=g.Pu(F*c+Y*b,F*P.hO+Y*S.hO,F*P.Bl+Y*S.Bl);
o.push([F*r[0]+Y*r[2],[A.z,A.H,A.c],F*r[6]+Y*r[10]])}}o.push([r[2],r.slice(7,10),r[10]])}o.sort(function(G,n){return G[0]-n[0]});
g.UH.w5(o,R);return[R]};cb.QZ=function(J,v,x){var o=H.La.QZ(J[1],v,x,Math.PI/4,16777215,0);return o};
function jf(){}jf.KE=function(J){var v=new Uint8Array(J),x=[],o=[],R=[],r=[],l=[],M=0,P=I.b_(v,M,4);
M+=4;var S=I.m7(v,M);M+=4;var c=I.m7(v,M);M+=4;while(M<v.length){var b=I.b_(v,M,4);M+=4;var w=I.b_(v,M,4);
M+=4;var U=I.m7(v,M);M+=4;if(w=="tppa"){o=ev.u4(v,M,U);M+=U}else if(w=="tpbd"){R=cK.awW(v,M,U,1,1);M+=U}else if(w=="tptp"){var F=I.m7(v,M);
M+=4;for(var h=0;h<F;h++){var Y=I.B1(v,M);M+=6+Y.length*2;M+=4;var A={};M+=cG.gN(v,A,M);x.push([Y,A])}while((M&3)!=0)M++}else if(w=="tpsh"){var G=M,n=v.slice(M,M+U);
while(M<G+U){var E=I.m7(v,M);M+=4;M=b0.aon(v,M,"Shape",r)}M=G+U}else if(w=="tpst"){var G=M;M+=4;while(M<G+U){var K=I.m7(v,M);
M+=4;var e=M,$=I.m7(v,M);M+=4;var A={eZ:{},x0:{}};l.push(A);M+=4;M+=cG.gN(v,A.eZ,M);M+=4;M+=cG.gN(v,A.x0,M);
M=e+K;var N=A.x0.Lefx;if(N){if(N.v.masterFXSwitch==null)N.v.masterFXSwitch={t:"bool",v:!0};aw.kH(N.v)}}M=G+U}else{console.log(v.slice(M-8,M+64));
console.log(I.b_(v,M-8,64));throw w}}return{En:R,pm:o,list:x,avk:r,Kg:l}};jf._1=function(J,v){J[0]=v};
jf.o4=function(J){var v=new i3,x=0;I.ko(v,x,"8BTP");x+=4;I.TB(v,x,3);x+=4;I.TB(v,x,1);x+=4;var o=[J.pm,J.En,J.list];
for(var h=0;h<3;h++){if(o[h].length==0)continue;I.ko(v,x,"8BIM");x+=4;var R=["tppa","tpbd","tptp"][h];
I.ko(v,x,R);x+=4;var r=x;x+=4;if(R=="tppa"){x=ev.jz(v,x,J.pm)}else if(R=="tpbd"){x=cK.a2v(v,x,J.En)}else if(R=="tptp"){I.TB(v,x,J.list.length);
x+=4;for(var l=0;l<J.list.length;l++){var M=J.list[l];I.Jm(v,x,M[0]+"\0");x+=6+M[0].length*2;I.TB(v,x,16);
x+=4;x+=cG.ks(v,M[1],x)}}I.TB(v,r,x-r-4);while((x&3)!=0)x++;v.Cb(x,0)}return v.data.slice(0,x).buffer};
function go(){}go.KE=function(J,v){var x=new Uint8Array(J),o;if(I.m7(x,0)==x.length)o="icc";else if(x[0]=="<".charCodeAt(0))o="look";
else if(I.CD(x,"LUT_3D_SIZE")!=-1)o="cube";else o="3DL";if(o!="icc"){var R=go.a1F(x,o),r=go.aCs(R[0],R[1]);
x=r}var l=[];for(var h=0;h<x.length;h++)l.push(x[h]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:v?v:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:l}}]};
go.o4=function(J){var v=J[0],x=new Uint8Array(v.profile.v);return x.buffer};go._1=function(J,v){J.Nm.v=v};
go.aCs=function(J,v){var x=new i3,o=128;x.Cb(0,128);var R=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var h=0;h<R.length;h++)x.data[h]=R[h];var r=["desc","A2B0"],l=r.length,M=128+4+l*12;I.TB(x,o,l);
o+=4;for(var P=0;P<l;P++){var S=r[P];I.ko(x,o,S);o+=4;I.TB(x,o,M);o+=4;var c=M;if(S=="desc"){I.ko(x,c,"mluc");
c+=4;c+=4;I.TB(x,c,1);c+=4;I.TB(x,c,12);c+=4;I.ko(x,c,"enUS");c+=4;var b="ICC by Photopea\0",w=b.length*2+2;
I.TB(x,c,w);c+=4;I.TB(x,c,28);c+=4;x.Cb(c,w);for(var h=0;h<b.length;h++)x.data[c+h*2+1]=b.charCodeAt(h);
c+=w}if(S=="A2B0"){I.ko(x,c,"mAB ");c+=4;c+=4;x.Cb(c,4);x.data[c]=3;x.data[c+1]=3;c+=4;x.Cb(c,4*5);c+=4*3;
I.TB(x,c,c+8-M);c+=4;c+=4;x.Cb(c,20);x.data[c]=J;x.data[c+1]=J;x.data[c+2]=J;c+=16;x.data[c]=2;c+=4;
var U=J*J*J*3;x.Cb(c,U*2);for(var h=0;h<U;h++)I.fN(x.data,c+h*2,Math.max(0,Math.min(65535,Math.round(v[h]*65535))));
c+=U*2}var F=c-M;while((F&3)!=0)F++;I.TB(x,o,F);o+=4;M+=F}I.TB(x,0,M);return x.data.slice(0,M)};go.a1F=function(J,v){v="LUTFormat"+v.toUpperCase();
var x=[],o=0,R=I.Aq(J,0,J.length),r="";for(var h=0;h<J.length&&r=="";h++){if(J[h]==10)r="\n";else if(J[h]==13){r="\r";
if(J[h+1]==10)r+="\n"}}if(v=="LUTFormatCUBE"){var l=R.split(r);for(var h=0;h<l.length;h++){if(l[h]==""||l[h][0]=="#")continue;
var M=l[h].split(" "),P=M[0];if(P=="LUT_3D_SIZE"){o=parseInt(M[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(P)!=-1)continue;
x.push(parseFloat(M[0]),parseFloat(M[1]),parseFloat(M[2]))}x=go.azG(o,x)}else if(v=="LUTFormat3DL"){var l=R.split(r),S=1/4095;
for(var h=0;h<l.length;h++){var c=l[h];if(c==""||c=="3DMESH"||c.startsWith("Mesh")||c[0]=="#")continue;
var M=c.split(" "),P=M[0];if(o==0){o=M.length;continue}x.push(parseFloat(M[0])*S,parseFloat(M[1])*S,parseFloat(M[2])*S)}}else if(v=="LUTFormatLOOK"){var b=new DOMParser,w=b.parseFromString(R,"text/xml"),U=w.getElementsByTagName("LUT")[0],F=U.children[0].textContent;
o=parseInt(JSON.parse(F));var Y=U.children[1].textContent;Y=Y.replace(/"/g,"").replace(/\s/g,"");var A=3*o*o*o,G=A*4,n=new Uint8Array(G);for(var h=0;h<G;h++){var E=Y.charCodeAt(h*2),K=Y.charCodeAt(h*2+1),e=E<58?E-48:E-55,$=K<58?K-48:K-55;n[h]=(e<<4)+$}for(var h=0;h<A;h++)x.push(I.Dm(n,h<<2));x=go.azG(o,x)}else throw v;return[o,x]};go.ad_=function(J,v,x){var o=["#Created by www.Photopea.com","TITLE \""+x+"\"","","#LUT size","LUT_3D_SIZE "+v,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],R=6;
for(var h=0;h<J.length;h+=3){o.push(J[h].toFixed(R)+" "+J[h+1].toFixed(R)+" "+J[h+2].toFixed(R))}o.push("");
return I.xU(o.join("\n")).buffer};go.azG=function(J,v){var x=[],o=J*J*J;for(var h=0;h<o;h++)x.push(0,0,0);
for(var R=0;R<J;R++)for(var r=0;r<J;r++)for(var l=0;l<J;l++){var h=3*(l+r*J+R*J*J),M=3*(R+r*J+l*J*J);
x[M]=v[h];x[M+1]=v[h+1];x[M+2]=v[h+2]}return x};function cG(){}cG.gN=function(J,v,x,o,R,r){var l=x,c;
if(R==null)R=0;var M=r?I.eA:I.m7,P=r?I.aV:I.a$,S=r?I.VE:I.B1,b=M(J,x);if(b==0){c="";x+=4}else{c=S(J,x);
x+=4+2*c.length+2}if(c!="")v.__name=c;v.classID=cG.bg(J,x,r);if(o)console.log("\t".repeat(R),"- reading descriptor",v.classID,x);
x+=cG.tO(J,x,r);var w=P(J,x);x+=4;for(var h=0;h<w;h++){var U=cG.bg(J,x,r);x+=cG.tO(J,x,r);var F=cG.a0P(J,x,o,R,r);
v[U]=F;x+=F.size;delete F.size}return x-l};cG.ks=function(J,v,x,o){var R=x,r=v.__name;if(r==null)r="";
r+="\0";I.Jm(J,x,r);x+=4+2*r.length;cG.LI(J,x,v.classID);x+=cG.tO(J.data,x);I.K3(J,x,Object.keys(v).length-1-(v.__name==null?0:1));
x+=4;for(var l in v){if(l=="classID")continue;if(l=="__name")continue;cG.LI(J,x,l);x+=cG.tO(J.data,x);
x+=cG.ahU(J,x,v[l])}return x-R};cG.a0P=function(J,v,x,o,R){var r=v,l=I.uE(J,v,R);v+=4;var M=R?I.$c:I.gM,P=R?I.eA:I.m7,S=R?I.aV:I.a$,c=R?I.VE:I.B1,b={size:0,t:l,v:null};
if(x)console.log("\t".repeat(o),"reading key",l,r);switch(l){case"obj ":case"VlLs":b.v=[];var w=P(J,v);
v+=4;for(var h=0;h<w;h++){var U=cG.a0P(J,v,x,o+1,R);v+=U.size;delete U.size;b.v.push(U)}break;case"UntF":b.v={type:I.uE(J,v,R),val:M(J,v+4)};
v+=12;break;case"doub":{b.v=M(J,v);v+=8;break}case"bool":b.v=J[v]==1;v+=1;break;case"long":b.v=S(J,v);
v+=4;break;case"comp":b.v=S(J,v+4);v+=8;break;case"Objc":b.v={};var F=cG.gN(J,b.v,v,x,o+1,R);v+=F;break;
case"TEXT":var Y=P(J,v);if(Y==0){b.v="";v+=4}else{b.v=c(J,v);v+=4+b.v.length*2+2}break;case"enum":var A=cG.bg(J,v,R);
v+=cG.tO(J,v,R);var G=cG.bg(J,v,R);v+=cG.tO(J,v,R);b.v={};b.v[A]=G;break;case"tdta":var n=S(J,v);v+=4;
b.v=Array.from(J.slice(v,v+n));v+=n;break;case"ObAr":var E=P(J,v);v+=4;var K=c(J,v);v+=4+2*K.length+2;
if(K!="")throw K;var e=cG.bg(J,v,R);v+=4+Math.max(4,e.length);b.v={classID:e,arr:[]};var $=P(J,v);v+=4;
for(var h=0;h<$;h++){var e=cG.bg(J,v,R);v+=4+Math.max(4,e.length);var A=I.uE(J,v,R);v+=4;var N=I.uE(J,v,R);
v+=4;var k={id:e,type:A,uID:N,arr:[]};b.v.arr.push(k);var V=P(J,v,4);v+=4;for(var X=0;X<V;X++){var Q=M(J,v);
v+=8;k.arr.push(Q)}}break;case"Pth ":if(R)throw"e";var L=v,n=I.m7(J,v);v+=4;var _=I.b_(J,v,4);v+=4;var a=I.eA(J,v);
v+=4;var T=I.afZ(J,v);v+=4+T.length*2;b.v={sig:_,pth:T};break;case"Clss":case"type":case"rele":var T=c(J,v);
v+=4+T.length*2+2;var f=cG.bg(J,v,R);v+=4+Math.max(4,f.length);b.v={classID:f};if(T!="")b.v.__name=T;
if(l=="rele"){b.v.val=S(J,v);v+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var Z=cG.eL[l],T=c(J,v);
v+=4+T.length*2+2;if(T.length!=0){console.log("String found",l,T)}b.v={};for(var h=0;h<Z.length;h++){var f=cG.bg(J,v,R);
v+=4+Math.max(4,f.length);b.v[Z[h]]=f}if(l=="name"){var T=c(J,v);v+=4+T.length*2+2;b.v.val=T}if(l=="indx"||l=="Idnt"){b.v.val=P(J,v);
v+=4}break;case"alis":var n=P(J,v);v+=4;b.v=I.b_(J,v,n);v+=n;break;default:{console.log("unknown oskey: "+l+", "+r);
throw"e";return b}}if(x){console.log("\t".repeat(o),b.v);console.log("\t".repeat(o),"======",v)}b.size=v-r;
return b};cG.eL={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
cG.ahU=function(J,v,x){var o=v,R=x.t;x=x.v;I.ko(J,v,R);v+=4;switch(R){case"obj ":case"VlLs":I.K3(J,v,x.length);
v+=4;for(var r=0;r<x.length;r++){var l=cG.ahU(J,v,x[r]);v+=l}break;case"UntF":I.ko(J,v,x.type);I.pH(J,v+4,x.val);
v+=12;break;case"doub":I.pH(J,v,x);v+=8;break;case"bool":I.SR(J,v,x?1:0,1);v+=1;break;case"long":I.K3(J,v,x);
v+=4;break;case"comp":I.K3(J,v+4,x);v+=8;break;case"Objc":var l=cG.ks(J,x,v);v+=l;break;case"TEXT":I.Jm(J,v,x+"\0");
v+=4+x.length*2+2;break;case"enum":var M=Object.keys(x)[0],P=x[M];cG.LI(J,v,M);v+=cG.tO(J.data,v);cG.LI(J,v,P);
v+=cG.tO(J.data,v);break;case"tdta":I.TB(J,v,x.length);v+=4;I.aJ(J,v,x);v+=x.length;break;case"ObAr":I.TB(J,v,x.arr[0].arr.length);
v+=4;I.Jm(J,v,"\0");v+=6;cG.LI(J,v,x.classID);v+=4+Math.max(4,x.classID.length);I.TB(J,v,x.arr.length);
v+=4;for(var h=0;h<x.arr.length;h++){var S=x.arr[h];cG.LI(J,v,S.id);v+=4+Math.max(4,S.id.length);I.ko(J,v,S.type);
v+=4;I.ko(J,v,S.uID);v+=4;I.TB(J,v,S.arr.length);v+=4;for(var r=0;r<S.arr.length;r++){I.pH(J,v,S.arr[r]);
v+=8}}break;case"Pth ":var c=x.pth.length*2+4+8;I.TB(J,v,c);v+=4;I.ko(J,v,x.sig);v+=4;I.Te(J,v,c);v+=4;
I.alJ(J,v,x.pth);v+=x.pth.length*2+4;break;case"Clss":case"type":case"rele":var b=x.__name;if(b==null)b="";
I.Jm(J,v,b+"\0");v+=4+b.length*2+2;var w=x.classID;cG.LI(J,v,w);v+=4+Math.max(4,w.length);if(R=="rele"){I.K3(J,v,x.val);
v+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var U=cG.eL[R],F="";if(R=="name"&&x.classID=="Grdn")F="Gradient";
I.Jm(J,v,F+"\0");v+=4+F.length*2+2;for(var h=0;h<U.length;h++){var w=x[U[h]];cG.LI(J,v,w);v+=4+Math.max(4,w.length)}if(R=="name"){I.Jm(J,v,x.val+"\0");
v+=4+x.val.length*2+2}if(R=="indx"||R=="Idnt"){I.TB(J,v,x.val);v+=4}break;case"alis":var c=x.length;
I.TB(J,v,c);v+=4;I.ko(J,v,x);v+=c;break;default:console.log("unknown oskey: "+R);v=o;break}return v-o};
cG.bg=function(J,v,x){var o=x?I.aV:I.a$,R=o(J,v);if(R>1e3)throw"e";if(R==0)return I.uE(J,v+4,x).trim();
return I.b_(J,v+4,R).trim()};cG.tO=function(J,v,x){var o=x?I.aV:I.a$,R=o(J,v);return R==0?8:4+R};cG.LI=function(J,v,x){var o="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),R=4<x.length||o.indexOf(x)!=-1;
I.K3(J,v,R?x.length:0);I.ko(J,v+4,x);if(x.length<4&&!R){var r="";for(var h=x.length;h<4;h++)r+=" ";I.ko(J,v+4+x.length,r)}};
cG.aFc=function(J){var v={};for(var x in J){if(x=="classID")v[x]=J[x];else if(x=="__name")v[x]=J[x];
else v[x]=cG.aFo(J[x])}return v};cG.aFo=function(J){if(J.t=="Objc")return cG.aFc(J.v);else if(J.t=="VlLs"){var v=[];
for(var h=0;h<J.v.length;h++)v.push(cG.aFo(J.v[h]));return v}else if(J.t=="UntF")return J.v.val;else return J.v};
function aw(){}aw.kC=function(J,v,x,o,R,r,l){var M=l?I.eA:I.m7,P=l?I.aV:I.a$,S=l?I.$y:I.H1,c=l?I.oV:I.lT,b=l?I.adO:I.Ih,w=l?I.$c:I.gM,U=l?I.Dm:I.Ll,F=l?I.afZ:I.aX;
while(v<x){var Y=I.uE(J,v,l);v+=4;if(Y!="8BIM"&&Y!="8B64"){console.log("layer information signature error! "+Y,"PSB = "+R);
alert("Error in PSD file: wrong signature.");return x}var A=I.uE(J,v,l);v+=4;var G=M(J,v);v+=4;var n=R&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(A)!=-1;
if(n){G=G<<32|P(J,v);v+=4}var E=["lrFX","PlLd"];if(E.indexOf(A)!=-1){if(G%4!=0)G+=4-G%4;v+=G;continue}switch(A){case"iOpa":o[A]=J[v];
break;case"brst":o[A]=[1,1,1];for(var h=0;h<G;h+=4)o[A][M(J,v+h)]=0;break;case"knko":o[A]=J[v];break;
case"infx":o[A]=J[v];break;case"clbl":o[A]=J[v];break;case"lmgm":o[A]=J[v];break;case"vmgm":o[A]=J[v];
break;case"fcmy":o[A]=J[v];break;case"lyid":o[A]=M(J,v);break;case"lsct":o[A]={e:M(J,v)};if(G>=12)o[A].gR=I.uE(J,v+8,l);
break;case"lsdk":o.lsct={e:M(J,v)};break;case"lyvr":o[A]=M(J,v);break;case"lnsr":var K={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
o[A]=I.uE(J,v,l);break;case"lspf":o[A]=M(J,v);break;case"lclr":o[A]=S(J,v);break;case"luni":o[A]=F(J,v);
break;case"fxrp":o[A]=new aG(w(J,v),w(J,v+8));break;case"phry":case"artb":case"artd":o[A]={};cG.gN(J,o[A],v+4,!1,null,l);
break;case"SoCo":o[A]={};cG.gN(J,o[A],v+4,!1,null,l);break;case"GdFl":o[A]={};cG.gN(J,o[A],v+4,!1,null,l);
aw.P6(o[A],A);break;case"PtFl":o[A]={};cG.gN(J,o[A],v+4,!1,null,l);aw.P6(o[A],A);break;case"CgEd":o[A]={};
cG.gN(J,o[A],v+4,!1,null,l);break;case"brit":var e=o.brit=a8.ow("brit"),$={};e.Brgh.v=c(J,v);e.Cntr.v=c(J,v+2);
e.useLegacy.v=!0;break;case"levl":var N=J.buffer.slice(v,v+G);o[A]=je.KE(N,l);break;case"curv":o[A]=k1.a_(J,v,G,l);
break;case"expA":var k=c(J,v),V=o[A]=a8.ow("expA");V.Exps.v=U(J,v+2);V.Ofst.v=U(J,v+6);V.gammaCorrection.v=U(J,v+10);
break;case"vibA":o[A]={};cG.gN(J,o[A],v+4,!1,null,l);break;case"hue2":o[A]=ic.a_(J,v,G,l);break;case"blnc":var V=o[A]=a8.ow(A);
V.PrsL.v=J[v+18]==1;var X=["ShdL","MdtL","HghL"];for(var h=0;h<3;h++)for(var Q=0;Q<3;Q++)V[X[h]].v[Q].v=c(J,v+h*6+Q*2);
break;case"blwh":var L={};cG.gN(J,L,v+4,!1,null,l);var V=a8.ow(A),_="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var h=0;h<_.length;h++){V[_[h]]=L[_[h]];delete L[_[h]]}o[A]=V;break;case"phfl":var V=o[A]=a8.ow(A),a=V.Clr.v,k=S(J,v);
if(k==3){var T=[M(J,v+2),M(J,v+6),M(J,v+10)],f=32768,Z=g.alw(T[0]/f,T[1]/f,T[2]/f);a.Lmnc.v=Z.jj;a.A.v=Z.o5;
a.B.v=Z.c}if(k==2){var W=S(J,v+2);if(W!=7)throw"e";a.Lmnc.v=c(J,v+4)/100;a.A.v=c(J,v+6)/100;a.B.v=c(J,v+8)/100}var D=v+2+(k==3?12:10);
V.Dnst.v=M(J,D);D+=4;V.PrsL.v=J[D]==1;break;case"mixr":var C={SJ:S(J,v+2)==1,K:[]};for(var h=0;h<20;
h++)C.K.push(c(J,v+4+h*2));o[A]=kC.vB(C);break;case"clrL":case"rplc":o[A]={};cG.gN(J,o[A],v+6,!1,null,l);
break;case"nvrt":o[A]={};break;case"post":o[A]=a8.ow("post");o[A].Lvls.v=S(J,v);break;case"thrs":o[A]=a8.ow("thrs");
o[A].Lvl.v=S(J,v);break;case"grdm":var d=v,p=S(J,d);d+=2;var y=J[d]==1,i=J[d+1]==1;d+=2;var t=I.uE(J,d,l);
if(t=="Perc"||t=="Gcls"||t=="Lnr "||t=="Smoo"||t=="\0\0\x0B\x1D")d+=4;var O=F(J,d);d+=4+O.length*2;var q=cb.avJ(J,d,O,l),z=q[0];
d=q[1];var jw=S(J,d);d+=2;var u=M(J,d);d+=4;var iH=S(J,d)==1;d+=2;var s=S(J,d)==1;d+=2;var bV=M(J,d);
d+=4;var jU=S(J,d);d+=2;var hx=[],eX=[];for(var h=0;h<4;h++){hx.push({t:"long",v:~~(S(J,d+h*2)*100/32768)});
eX.push({t:"long",v:~~(S(J,d+h*2+8)*100/32768)})}d+=16;var et=S(J,d);d+=2;if(jw==1)z={classID:"Grdn",Nm:{t:"TEXT",v:O},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:iH},VctC:{t:"bool",v:s},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:u},Smth:{t:"long",v:bV},Mnm:{t:"VlLs",v:hx},Mxm:{t:"VlLs",v:eX}};
var f7=a8.ow("grdm");f7.Rvrs.v=y;f7.Grad.v=z;o[A]=f7;break;case"selc":o[A]=f1.a_(J,v,G,l);break;case"vmsk":case"vsms":var iY=o.vmsk=new m.e_,cd=P(J,v+4),jV=(cd>>0&1)==1;
iY.DE=(cd>>1&1)==0;iY.isEnabled=(cd>>2&1)==0;iY.X=b0.Kt(J,v+8,G-8,r.r,r.$,l);break;case"shmd":o[A]={};
var g2=M(J,v),D=v+4;for(var h=0;h<g2;h++){var Y=I.uE(J,D,l);D+=4;var gV=I.uE(J,D,l);D+=4;var fD=J[D];
D++;if(Math.max(J[D],J[D+1])!=0)throw"e";D+=3;var j4=M(J,D);D+=4;if(gV=="cust"||gV=="cmls"||gV=="extn"||gV=="mlst"){var dQ=M(J,D);
if(dQ!=16)D+=4;if(M(J,D)==16){var L={};cG.gN(J,L,D+4,!1,null,l);o[A][gV]=L;if(gV=="cmls")H._3.am5(o[A][gV])}}else{console.log("unknown shmd key: "+gV+", size: "+j4)}D+=j4}break;
case"shpa":var k=M(J,v),eO=M(J,v+4);if(eO!=0)console.log("some patterns present!");break;case"TySh":var a7=o[A]={},k=S(J,v);
a7.u=I.iH(J,v+2,l);var cc=S(J,v+2+48);a7.gZ={};try{var ad=cG.gN(J,a7.gZ,v+56)}catch(gw){o[A]=null;break}var jC=bI.aeR();
for(var iJ in jC)if(a7.gZ[iJ]==null)a7.gZ[iJ]=jC[iJ];a7.Pd={};var kJ=cG.gN(J,a7.Pd,v+56+ad+6,!1,null,l);
a7.yW=I.ahu(J,v+56+ad+6+kJ);a7.vv=iU.KE(a7.gZ.EngineData.v);bI.aBU(a7.vv.EngineDict.StyleRun.RunArray);
if(a7.vv.ResourceDict==null)a7.vv.ResourceDict=g.F(a7.vv.DocumentResources);delete a7.gZ.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var jr=M(J,v),fY=M(J,v+4);o.lmfx={};var ad=cG.gN(J,o.lmfx,v+8,!1,null,l);
aw.kH(o.lmfx);break;case"FMsk":o[A]=J.slice(v,v+G);break;case"Txt2":o[A]={};o[A].raw=J.slice(v,v+G);
o[A].x1=dS.KE(o[A].raw);break;case"Patt":o[A]=ev.u4(J,v,G,l);break;case"SoLd":var iR=I.uE(J,v,l),g6=M(J,v+4),ay=M(J,v+8),cQ=o[A]={},aC=cG.gN(J,cQ,v+12,null,null,l),dI=cQ.warp,fm=cQ.quiltWarp;
if(fm==null)fm=cQ.quiltWarp=g.wL.aAT(dI);delete cQ.warp;var hd=fm.v.warpStyle.v.warpStyle,ku=fm.v.warpValues;
if(hd!="warpCylinder"&&ku){fm.v.warpValue={t:"doub",v:ku.v[0].v};delete fm.v.warpValues}if(cQ.nonAffineTransform==null)cQ.nonAffineTransform=g.F(cQ.Trnf);
if(cQ.Impr==null)cQ.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var g6=M(J,v);
o[A]={};var aC=cG.gN(J,o[A],v+4,!1,null,l);break;case"vscg":var gV=I.uE(J,v,l),g6=M(J,v+4);o[gV]={};
var aC=cG.gN(J,o[gV],v+8,!1,null,l);aw.P6(o[gV],gV);break;case"vogk":var cp=M(J,v),g6=M(J,v+4);o[A]={};
var aC=cG.gN(J,o[A],v+8,!1,null,l);o[A]=o[A].keyDescriptorList.v;for(var h=0;h<o[A].length;h++){var hp=o[A][h].v;
if(!g.Fw.Cx(hp))continue;if(hp.keyOriginBoxCorners==null){var gA=g.Fw.d2(hp);hp.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var jN=[gA[0],gA[1],gA[2],gA[1],gA[2],gA[3],gA[0],gA[3]];if(hp.keyOriginType.v==4)jN=g.Fw.a7L(g.Fw.He(hp),hp.keyOriginLineWeight.v);
g.Fw.Uj(hp,"keyOriginBoxCorners",jN)}}break;case"lnk2":case"lnkD__":case"lnk3__":o[A]=[];var d=v;while(d<v+G){var d4=new m.Hg;
o[A].push(d4);var ey=b(J,d);d+=8;var jG=d;d4.e=I.uE(J,d,l);d+=4;if(d4.e!="liFD"){alert("Unknown Linked Layer type: "+d4.e);
break;throw d4.e}d4.x5=M(J,d);d+=4;var cF=I.xs(J,d);d+=1+cF.tw.length;d4.KK=cF.tw;var f5=l?I.VE:I.B1;
d4.d8=f5(J,d);d+=4+d4.d8.length*2+2;d4.It=I.uE(J,d,l);d+=4;d4.C6=I.uE(J,d,l);d+=4;var jW=b(J,d);d+=8;
d4.open=J[d];d+=1;if(d4.open!=0){var f$={},ad=cG.gN(J,f$,d+4,null,null,l);if(ad%4!=0)ad+=4-ad%4;console.log(f$);
d+=ad+4}d4.open=0;d4.raw=J.slice(d,d+jW);d=jG+ey;if(ey%4!=0)d+=4-ey%4}break;case"FEid":var d=v;o[A]=[];
var bh=d+G,k=M(J,d);d+=4;while(d<bh){var ey=b(J,d);d+=8;var q={};o[A].push(q);q.id=I.xs(J,d).tw;d+=q.id.length+1;
var k=M(J,d);d+=4;d+=4;var ii=M(J,d);d+=4;q.S=I.hT(J,d,l);d+=16;var dM=M(J,d);d+=4;var b7=M(J,d);d+=4;
var bz=new g.GH(0);for(var h=0;h<b7+2;h++){var cZ=M(J,d);d+=4;if(cZ!=0){var e4=b(J,d),fI=null;d+=8;if(h<3||h==25){fI=hE.DF(!0,dM,J,q.S.r,q.S.$,d,e4,l)}if(h==0)bz.z=fI;
if(h==1)bz.H=fI;if(h==2)bz.c=fI;if(h==25)bz.o5=fI;d+=e4}}q.buffer=g.C(q.S.o()*4,dM);g.$P(bz,q.buffer);
var aI=J[d];d++;if(aI!=0){q.pR=new m.V1;q.pR.S=I.hT(J,d,l);d+=16;var iV=b(J,d);d+=8;var fI=hE.DF(!0,dM,J,q.pR.S.r,q.pR.S.$,d,iV,l);
q.pR.N=fI;q.pR.color=255;q.pR.Zv();d+=iV}if(ey%4!=0)d+=4-ey%4}break;case"Lr16":ih.XT(r,J,v,l);break;
case"Lr32":ih.XT(r,J,v,l);break;case"Anno":o[A]=[];var k6=v,bq=v+4,eO=M(J,bq);bq+=4;for(var h=0;h<eO;
h++){var ey=M(J,bq);bq+=4;var cq=I.uE(J,bq,l);bq+=4;if(cq!="txtA")throw cq;var ib=J[bq++],jD=J[bq++],eL=S(J,bq);
bq+=2;var hK=I.hT(J,bq,l);bq+=16;var fU=I.hT(J,bq,l);bq+=16;var a=kO.qn(J,bq,l);bq+=10;var ju=I.xs(J,bq);
bq+=ju.length;var aF=I.xs(J,bq);bq+=aF.length;var e6=I.xs(J,bq);bq+=e6.length;var hB=M(J,bq);bq+=4;var h0=I.uE(J,bq,l);
bq+=4;var aD=M(J,bq);bq+=4;var hy=l?I.K0:I.Gq,kD=hy(J,bq+2,aD-2>>1);bq+=aD;o[A].push([hK.x,hK.y,a,ju.tw,kD])}break;
default:break}var en="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry".split(",");
if(en.indexOf(A)==-1)if(G%4!=0)console.log("size not multiple of 4!!!",A);if(A!="luni"&&A!="TySh"&&A!="tySh"&&A!="lfx2"&&A!="iOpa"&&A!="SoCo")if(G%4!=0)G+=4-G%4;
v+=G}var $=o.CgEd;if($){var e=o.brit;if(e){e.Brgh.v=$.Brgh?$.Brgh.v:0;e.Cntr.v=$.Cntr?$.Cntr.v:0;e.useLegacy.v=$.useLegacy?$.useLegacy.v:0}delete o.CgEd}var jp=[];
for(var h=0;h<jp.length;h++)delete o[jp[h]];return v};aw.Jf=function(J,v,x,o,R){if(x.SoLd){var r={};
for(var l in x){if(l=="SoLd")r.PlLd={};r[l]=x[l]}x=r}for(var M in x)if(x[M]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+M+"\" tag was present with a null value.");delete x[M]}for(var M in x){var P=o&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(M)!=-1,c=0;
I.ko(J,v,P?"8B64":"8BIM");v+=4;var S=v;I.ko(J,v,M);v+=4;I.K3(J,v,0);v+=P?8:4;switch(M){case"iOpa":I.SR(J,v,x[M],1);
c=4;break;case"brst":c=0;for(var h=0;h<3;h++)if(x[M][h]==0){I.TB(J,v+c,h);c+=4}break;case"knko":I.SR(J,v,x[M],1);
c=4;break;case"infx":I.SR(J,v,x[M],1);c=4;break;case"clbl":I.SR(J,v,x[M],1);c=4;break;case"lmgm":I.SR(J,v,x[M],1);
c=4;break;case"vmgm":I.SR(J,v,x[M],1);c=4;break;case"fcmy":I.SR(J,v,x[M],1);c=4;break;case"lyid":I.TB(J,v,x[M]);
c=4;break;case"lsct":I.TB(J,v,x[M].e);c=4;if(x[M].gR){I.ko(J,v+4,"8BIM");I.ko(J,v+8,x[M].gR);c=12}break;
case"lyvr":I.TB(J,v,x[M]);c=4;break;case"lnsr":I.ko(J,v,x[M]);c=4;break;case"lspf":I.TB(J,v,x[M]);c=4;
break;case"lclr":I.Sj(J,v,x[M]);c=8;break;case"luni":I.Jm(J,v,x[M]);c=4+2*x[M].length;break;case"fxrp":I.pH(J,v,x[M].x);
I.pH(J,v+8,x[M].y);c=16;break;case"phry":case"artb":case"artd":I.TB(J,v,16);c=cG.ks(J,x[M],v+4)+4;break;
case"SoCo":I.TB(J,v,16);c=cG.ks(J,x[M],v+4)+4;break;case"GdFl":I.TB(J,v,16);c=cG.ks(J,x[M],v+4)+4;break;
case"PtFl":I.TB(J,v,16);c=cG.ks(J,x[M],v+4)+4;break;case"CgEd":var b={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},w=b,U=x[M];
w.Brgh.v=U.Brgh.v;w.Cntr.v=U.Cntr.v;w.useLegacy.v=U.useLegacy.v;I.TB(J,v,16);c=cG.ks(J,b,v+4)+4;break;
case"brit":J.Cb(v,8);c=8;break;case"levl":var F=new i3;c=je.o4(F,x[M]);I.aJ(J,v,F.data);break;case"curv":c=k1.Df(J,v,x[M]);
break;case"expA":c=14;J.Cb(v,14);I.fN(J.data,v,1);I.PL(J.data,v+2,x[M].Exps?x[M].Exps.v:0);I.PL(J.data,v+6,x[M].Ofst?x[M].Ofst.v:0);
I.PL(J.data,v+10,x[M].gammaCorrection?x[M].gammaCorrection.v:1);break;case"vibA":I.TB(J,v,16);c=cG.ks(J,x[M],v+4)+4;
break;case"hue2":c=ic.Df(J,v,x[M]);break;case"blnc":c=19;J.Cb(v,c);var Y=["ShdL","MdtL","HghL"];for(var h=0;
h<3;h++){var A=x[M][Y[h]].v;for(var G=0;G<3;G++)A.push(I.nS(J.data,v+h*6+G*2,A[G].v))}J.data[v+18]=x[M].PrsL.v?1:0;
break;case"blwh":var b={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},n="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var h=0;h<n.length;h++){b[n[h]]=x[M][n[h]]}I.TB(J,v,16);c=cG.ks(J,b,v+4)+4;break;case"phfl":I.Sj(J,v,2);
var E=x[M].Clr.v;I.Sj(J,v+2,7);I.Sj(J,v+4,Math.round(E.Lmnc.v*100));I.Sj(J,v+6,Math.round(E.A.v*100));
I.Sj(J,v+8,Math.round(E.B.v*100));I.Sj(J,v+10,0);var K=v+2+10;J.Cb(K,5);I.Cu(J.data,K,x[M].Dnst.v);K+=4;
J.data[K]=x[M].PrsL.v?1:0;K++;c=K-v;break;case"mixr":c=44;J.Cb(v,c);var e=kC.zd(x[M]);I.fN(J.data,v,1);
I.fN(J.data,v+2,e.SJ?1:0);for(var h=0;h<20;h++)I.nS(J.data,v+4+h*2,e.K[h]);break;case"clrL":case"rplc":I.Sj(J,v,1);
I.TB(J,v+2,16);c=cG.ks(J,x[M],v+6)+6;break;case"nvrt":c=0;break;case"post":I.Sj(J,v,x[M].Lvls.v);c=2;
break;case"thrs":I.Sj(J,v,x[M].Lvl.v);c=2;break;case"grdm":var $=x[M].Rvrs?x[M].Rvrs.v:!1,N=!1,k=867527939,V=!1,X=!1,Q=2048,L=[0,0,0,0],_=[32768,32768,32768,32768],a=x[M].Grad.v,T,f,Z=a.Clrs==null?1:0;
if(Z==0){T=a;f=JSON.parse(gD.Zg.ag8).v}else{T=a8.ow("grdm").Grad.v;f=a}J.Cb(v,4);I.fN(J.data,v,1);J.data[v+2]=$?1:0;
J.data[v+3]=N?1:0;var W=v+4;I.Jm(J,W,a.Nm.v);W+=4+a.Nm.v.length*2;W=cb.aaH(J,W,T);I.Sj(J,W,Z);W+=2;I.TB(J,W,f.RndS.v);
W+=4;I.Sj(J,W,f.ShTr.v?1:0);W+=2;I.Sj(J,W,f.VctC.v?1:0);W+=2;I.TB(J,W,f.Smth.v);W+=4;I.Sj(J,W,3);W+=2;
for(var h=0;h<4;h++)I.Sj(J,W+h*2,L[h]);W+=8;for(var h=0;h<4;h++)I.Sj(J,W+h*2,_[h]);W+=8;W+=2;c=W-v;break;
case"selc":c=f1.Df(J,v,x[M]);break;case"FMsk":I.aJ(J,v,x[M]);c=x[M].length;break;case"Txt2":var D=new i3,C=dS.Ce(x[M].x1,D),d=D.data.slice(0,C);
I.aJ(J,v,d);c=d.length;break;case"vmsk":var p=x[M],y=0;I.TB(J,v,3);if(!p.DE)y+=1<<1;if(!p.isEnabled)y+=1<<2;
I.TB(J,v+4,y);c=8;var i=p.X.length;J.Cb(v+8,i*26);b0.pM(J.data,v+8,p.X,R.r,R.$);c+=i*26;break;case"shmd":I.TB(J,v,Object.keys(x[M]).length);
var K=v+4;for(var t in x[M]){I.ko(J,K,"8BIM");K+=4;I.ko(J,K,t);K+=4;I.TB(J,K,0);K+=4;I.TB(J,K,0);K+=4;
I.TB(J,K,16);K+=4;var O=cG.ks(J,x[M][t],K);if(O%4!=0)O+=4-O%4;I.TB(J,K-8,O+4);K+=O}c=K-v;break;case"TySh":var K=v;
I.GS(J,K,1);K+=2;var q=x[M],D=new i3;q.vv.DocumentResources=g.F(q.vv.ResourceDict);var C=iU.Ce(q.vv,D),d=D.data.slice(0,C);
q.gZ.EngineData={t:"tdta",v:d};var z=q.vv.EngineDict.Editor.Text;q.gZ.Txt.v=z.substring(0,z.length-1);
I.adS(J,K,q.u);K+=48;I.GS(J,K,50);K+=2;I.TB(J,K,16);K+=4;K+=cG.ks(J,q.gZ,K);I.GS(J,K,1);K+=2;I.TB(J,K,16);
K+=4;K+=cG.ks(J,q.Pd,K);I.a6W(J,K,q.yW);K+=16;c=K-v;break;case"lmfx":I.TB(J,v,0);I.TB(J,v+4,16);var b=g.F(x[M]),jw=!1;
aw.SM(b);for(var h=0;h<gD.Lw.length;h++)if(b[gD.Lw[h]]!=null)jw=!0;I.ko(J,S,jw?"lmfx":"lfx2");c=cG.ks(J,b,v+8)+8;
break;case"Patt":var K=ev.jz(J,v,x[M]);c=K-v;break;case"PlLd":var u=v;J.Cb(v,60);var A=x.SoLd;I.ko(J,v,"plcL");
I.TB(J,v+4,3);var iH=J.data[v+8]=A.Idnt.v.length;I.ko(J,v+9,A.Idnt.v);var K=v+9+iH,s=[1,1,16,2];for(var h=0;
h<4;h++)I.TB(J,K+h*4,s[h]);K+=16;s=H.ge.t1(A.nonAffineTransform);for(var h=0;h<8;h++)I.pH(J,K+h*8,s[h]);
K+=64;I.TB(J,K,0);I.TB(J,K+4,16);var bV=g.wL.akD(A.quiltWarp).v;K+=8+cG.ks(J,bV,K+8);c=K-v;break;case"SoLd":var A=x[M],jU=A.quiltWarp;
A.warp=g.wL.akD(jU);if(g.wL.V_(jU.v)==16)delete A.quiltWarp;I.ko(J,v,"soLD");I.TB(J,v+4,4);I.TB(J,v+8,16);
c=cG.ks(J,A,v+12)+12;A.quiltWarp=jU;delete A.warp;break;case"vstk":case"pths":I.TB(J,v,16);c=cG.ks(J,x[M],v+4)+4;
break;case"vscg__":I.ko(J,v,x[M].key);I.TB(J,v+4,16);c=cG.ks(J,x[M].K,v+8)+8;break;case"vogk":I.TB(J,v,1);
I.TB(J,v+4,16);g.Fw.aoK(x[M]);for(var h=0;h<x[M].length;h++){var hx=x[M][h].v.keyOriginResolution;if(hx)hx.v=R.Bt}var eX={classID:"null",keyDescriptorList:{t:"VlLs",v:x[M]}};
c=cG.ks(J,eX,v+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var W=v;for(var h=0;h<x[M].length;h++){var et=x[M][h],f7=W;
I.S4(J,W,0);W+=8;I.ko(J,W,et.e);W+=4;I.TB(J,W,et.x5);W+=4;J.Cb(W,1);J.data[W]=et.KK.length;W++;I.ko(J,W,et.KK);
W+=et.KK.length;I.Jm(J,W,et.d8+"\0");W+=4+et.d8.length*2+2;I.ko(J,W,et.It);W+=4;I.ko(J,W,et.C6);W+=4;
I.S4(J,W,et.raw.length);W+=8;J.Cb(W,1);J.data[W]=et.open;W++;I.aJ(J,W,et.raw);W+=et.raw.length;I.TB(J,W,1);
W+=4;W+=11;var iY=W-f7-8;I.S4(J,f7,iY);if(iY%4!=0){J.Cb(W,4-iY%4);W+=4-iY%4}}c=W-v;break;case"FEid":var W=v;
I.TB(J,W,3);W+=4;for(var cd=0;cd<x[M].length;cd++){var jV=x[M][cd];W+=4;var g2=W;W+=4;I.ES(J,W,jV.id);
W+=jV.id.length+1;I.TB(J,W,1);W+=4;var gV=g.C(jV.S.o(),R.depth),fD=jV.S,j4=g.C(fD.o(),R.depth);W+=4;
var dQ=W;W+=4;I._x(J,W,fD);W+=16;I.TB(J,W,R.depth);W+=4;I.TB(J,W,24);W+=4;for(var h=0;h<24+2;h++){var eO=-1;
if(h==0)eO=0;if(h==1)eO=1;if(h==2)eO=2;if(h==25)eO=3;I.TB(J,W,eO!=-1?1:0);W+=4;if(eO!=-1){g.Vi(jV.buffer,gV,eO);
g.Cc(gV,jV.S,j4,fD);W+=4;var a7=W;W+=4;J.Cb(W,fD.o()+2);W=hE.pL(!0,j4,J.data,fD.r,fD.$,W,3);I.TB(J,a7,W-(a7+4))}}I.TB(J,dQ,W-(dQ+4));
J.Cb(W,1);J.data[W]=jV.pR?1:0;W++;if(jV.pR!=null){var cc=fD,ad=g.C(cc.o(),R.depth);ad.fill(g.JN(R.depth)*jV.pR.color/255);
g.Cc(jV.pR.N,jV.pR.S,ad,cc);I._x(J,W,cc);W+=16;W+=4;var jC=W;W+=4;J.Cb(W,cc.o()+2);W=hE.pL(!0,ad,J.data,cc.r,cc.$,W,3);
I.TB(J,jC,W-(jC+4))}var iY=W-(g2+4);I.TB(J,g2,iY);if(iY%4!=0)W+=4-iY%4}c=W-v;break;case"Lr16":case"Lr32":var iJ=ih.ajY(R,J,v,[],!1);
c=iJ-v;break;case"Anno":var iJ=v,kJ=x[M].length;I.Sj(J,iJ,2);I.Sj(J,iJ+2,1);iJ+=4;I.TB(J,iJ,kJ);iJ+=4;
for(var h=0;h<kJ;h++){var jr=x[M][h],fY=jr[0],iR=jr[1],g6=iJ;iJ+=4;I.ko(J,iJ,"txtA");iJ+=4;J.Cb(iJ,2);
J.data[iJ]=1;J.data[iJ+1]=28;iJ+=2;I.Sj(J,iJ,1);iJ+=2;I._x(J,iJ,new jj(fY,iR,17,21));iJ+=16;I._x(J,iJ,new jj(fY+8,iR+10,241,141));
iJ+=16;J.Cb(iJ,10);kO.yN(J.data,iJ,jr[2]);iJ+=10;iJ+=I.ES(J,iJ,jr[3]);iJ+=I.ES(J,iJ,"");iJ+=I.ES(J,iJ,"D:20211012120233+01'00'");
var ay=jr[4].length*2;I.TB(J,iJ,12+2+ay);iJ+=4;I.ko(J,iJ,"txtC");iJ+=4;I.TB(J,iJ,2+ay);iJ+=4;J.Cb(iJ,2);
J.data[iJ]=254;J.data[iJ+1]=255;iJ+=2;I.a0L(J,iJ,jr[4]);iJ+=ay;I.TB(J,g6,iJ-g6)}c=iJ-v;break;default:console.log("unknown layer tag: "+M+", size: "+c);
v-=12;continue}var cQ=["Txt2","artd","extd","pths"];if(cQ.indexOf(M)==-1)if(c%4!=0)c+=4-c%4;if(P)I.S4(J,v-8,c);
else I.TB(J,v-4,c);if(M!="luni"&&M!="TySh")if(c%4!=0)c+=4-c%4;v+=c}return v};aw.kH=function(J){for(var h=0;
h<gD.order.length;h++){var v=gD.order[h],x=gD.Lw[h];if(J[x]==null)J[x]={t:"VlLs",v:[]};if(J[v]!=null){J[x].v.push(J[v]);
delete J[v]}var o=[];for(var R=0;R<J[x].v.length;R++){var r=J[x].v[R];if(r.v.present==null||r.v.present.v==!0)o.push(r)}J[x].v=o}};
aw.SM=function(J){for(var h=0;h<gD.order.length;h++){var v=gD.order[h],x=gD.Lw[h],o=J[x].v.length;if(o==0){delete J[x];
continue}if(o==1){J[v]=J[x].v[0];delete J[x];continue}}};aw.P6=function(J,v){if(v=="GdFl"){if(J.Angl==null)J.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(J.Algn==null)J.Algn={v:!0,t:"bool"};if(J.Scl==null)J.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(J.Ofst==null)J.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(J.Rvrs==null)J.Rvrs={v:!1,t:"bool"};if(J.Dthr==null)J.Dthr={v:!1,t:"bool"}}if(v=="PtFl"){if(J.Algn==null)J.Algn={v:!0,t:"bool"};
if(J.Angl==null)J.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(J.Scl==null)J.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(J.phase==null)J.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};aw.Q=function(J,v){var x={};
if(J=="TySh"){x.u=v.u.Q();x.gZ=g.F(v.gZ);x.Pd=g.F(v.Pd);x.yW=v.yW.Q();x.vv=g.F(v.vv);if(v.add)x.add={vmsk:v.add.vmsk.Q(),vogk:g.F(v.add.vogk)};
return x}else if(J=="fxrp")return v.Q();else if(J=="vmsk")return v.Q();else return g.F(v)};function hG(J,v){}hG.KE=function(J,v,x,o,R){o=hG.aCr(J,v,x,o,R);
return o};hG.Ce=function(J,v,x,o,R){o=hG.axG(J,v,x,o,R);return o};hG.aCr=function(J,v,x,o,R){var r=o;
J.S=I.hT(x,o,R);o+=16;var l=R?I.$y:I.H1,M=R?I.oV:I.lT,P=l(x,o);o+=2;J.AJ=[];var S=v.Tb,c=R?I.adO:I.Ih,b=R?I.eA:I.m7,w=S?c:b;
for(var h=0;h<P;h++){J.AJ[h]={id:M(x,o),length:w(x,o+2)};o+=S?10:6}var U=I.uE(x,o,R);o+=4;if(U!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(U));
alert("Error in Photoshop file: wrong signature.");throw"e"}J.gR=I.uE(x,o,R);o+=4;J.fc=x[o];o+=1;J.Hv=x[o]==1;
o+=1;J.eW=x[o];o+=1;if(x[o]!=0)console.log("error in filler!");o+=1;var F=b(x,o);o+=4;var Y=o;o=hG.aF1(J,x,o,R);
o=hG.abA(J,x,o,R);var A=I.xs(x,o);J.name=A.tw;o+=A.length;if(A.length%4!=0)o+=4-A.length%4;o=aw.kC(x,o,Y+F,J.add,S,v,R);
if(J.add.lsct){if(J.add.lsct.gR)J.gR=J.add.lsct.gR;J.add.lsct=J.add.lsct.e}return o};hG.axG=function(J,v,x,o,R){var r=o;
I._x(x,o,J.S);o+=16;var l=v.add.fcmy==1,M=J.aiw(l);I.Sj(x,o,M.length);o+=2;var P=v.Tb;R.push(o);for(var h=0;
h<M.length;h++){I.GS(x,o,M[h]);if(P)I.S4(x,o+2,0);else I.TB(x,o+2,0);o+=P?10:6}I.ko(x,o,"8BIM");o+=4;
I.ko(x,o,J.gR);o+=4;I.SR(x,o,J.fc,1);o+=1;I.SR(x,o,J.Hv?1:0,1);o+=1;I.SR(x,o,J.eW,1);o+=1;I.SR(x,o,0,1);
o+=1;var S=o;I.TB(x,o,0);o+=4;var c=o;o=hG.aIa(J,x,o);o=hG.ayy(J,x,o);var b=I.ES(x,o,J.name.slice(0,255));
o+=b;if(b%4!=0)o+=4-b%4;if(J.add.lsct){J.add.lsct={e:J.add.lsct};if(J.gR=="pass"){J.add.lsct.gR="pass";
J.gR="norm"}}if(J.gR=="pass")J.add.lsct={e:J.add.lsct,gR:"pass"};if(J.add.brit)J.add.CgEd=J.add.brit;
o=aw.Jf(x,o,J.add,P,v);delete J.add.CgEd;if(J.add.lsct){if(J.add.lsct.gR)J.gR=J.add.lsct.gR;J.add.lsct=J.add.lsct.e}var w=o-c;
I.TB(x,S,w);return o};hG.aF1=function(J,v,x,o){var R=o?I.eA:I.m7,r=R(v,x);x+=4;if(r==0)return x;var l=x;
J.pR=new m.V1;J.pR.S=I.hT(v,x,o);x+=16;J.pR.color=v[x];x+=1;var M=hG.aEx(J.pR,v,x);x+=1;if(M){var P=!1,S=255,c=0,b=255,w=0;
for(var h=0;h<J.AJ.length;h++)if(J.AJ[h].id==-3)P=!0;if(P){J.pW=hG.aC6(v,x,o);x+=18}var U=x,F=v[x];x++;
var Y=o?I.$c:I.gM;if(F>>0&1){S=v[x];x++}if(F>>1&1){c=Y(v,x);x+=8}if(F>>2&1){b=v[x];x++}if(F>>3&1){w=Y(v,x);
x+=8}if((x-U&1)==1)x++;J.t7=[S,c,b,w]}else{if(r==20)x+=2;else{J.pW=hG.aC6(v,x,o);x+=18}}return l+r};
hG.aIa=function(J,v,x){I.TB(v,x,0);x+=4;if(J.pR==null)return x;var o=J.q9(),R=J.add.vmsk,r=x,l=!0;I.TB(v,x,0);
I._x(v,x,J.pR.S);x+=16;I.SR(v,x,J.pR.color);x+=1;hG.a8$(J.pR,v,x,l);x+=1;if(l){if(J.pW){hG.axW(v,x,J.pW);
x+=18}var M=x;I.SR(v,x,R?15:3);x+=1;I.SR(v,x,o?o.nJ:255);x+=1;I.pH(v,x,o?o.p5:0);x+=8;if(R){I.SR(v,x,R?R.nJ:255);
x+=1;I.pH(v,x,R?R.p5:0);x+=8}if((x-M&1)==1)x++}I.TB(v,r-4,x-r);return x};hG.aC6=function(J,v,x){var o=new m.V1;
hG.aEx(o,J,v);v+=1;o.color=J[v];v+=1;o.S=I.hT(J,v,x);v+=16;return o};hG.axW=function(J,v,x){hG.a8$(x,J,v,!1);
v+=1;I.SR(J,v,x.color);v+=1;I._x(J,v,x.S);v+=16};hG.aEx=function(J,v,x){var o=v[x];J.DE=(o>>0&1)==0;
J.isEnabled=(o>>1&1)==0;J.mw=(o>>3&1)==1;return o>>4&1};hG.a8$=function(J,v,x,o){var R=0;if(!J.DE)R+=1<<0;
if(!J.isEnabled)R+=1<<1;if(J.mw)R+=1<<3;if(o)R+=1<<4;I.SR(v,x,R)};hG.abA=function(J,v,x,o){var R=o?I.eA:I.m7,r=R(v,x);
x+=4;for(var h=0;h<r;h++)J.BF[h]=v[x+h];return x+r};hG.ayy=function(J,v,x){I.TB(v,x,J.BF.length);x+=4;
v.Cb(x,40);for(var h=0;h<40;h++){v.data[x+h]=J.BF[h]}return x+40};function hE(){}hE.KE=function(J,v,x,o,R){o=hE.abn(J,v,x,o,R);
return o};hE.o4=function(J,v,x,o,R,r,l){o=hE.asL(J,v,x,o,R,r,l);return o};hE.abn=function(J,v,x,o,R){var r=v.nV,l=J.AJ,M={},P=o;
for(var h=0;h<l.length;h++){var S=l[h],c=S.id,b=S.length,w;if(c==-2&&J.pR==null)c=-1;if(c==-3)w=J.pW.S;
else if(c==-2)w=J.pR.S;else w=J.S;var U=hE.DF(v.Tb,v.g8,x,w.r,w.$,o,b,R);U=g.N2(U,v.depth);o+=b;if(c==-3)J.pW.N=U;
else if(c==-2)J.pR.N=U;else M["c"+c]=U}var F=new g.GH(0);F.o5=null;if(r==3){F.z=M.c0;F.H=M.c1;F.c=M.c2;
F.o5=M["c-1"]}else if(r==1){F.z=M.c0;F.H=M.c0;F.c=M.c0;F.o5=M["c-1"]}else if(r==4){var Y=v.tA.r1039,A=null,G=M.c0,n=M.c1,E=M.c2,K=M.c3;
if(Y){var A=Y.a4l,e=17;if(A==null){var $=ICC.R(Y.buffer);if($.header.spaceIn=="RGB "){}else A=Y.a4l=ICC.U.sampleLUT($,e)}}if(A){var N={z:G,H:n,c:E,o5:K},k=g.C(G.length*4,v.depth);
g.$P(N,k);g.SV(k);ICC.U.applyLUT4(A,e,k,k);g.Y5(k,N)}else{for(var h=0;h<G.length;h++){var V=1-G[h]*(1/255),X=1-n[h]*(1/255),Q=1-E[h]*(1/255),L=1-K[h]*(1/255),_=g.D4([V,X,Q,L]);
G[h]=Math.floor(.5+_[0]*255);n[h]=Math.floor(.5+_[1]*255);E[h]=Math.floor(.5+_[2]*255)}}F.z=G;F.H=n;
F.c=E;F.o5=M["c-1"]}if(F.z==null)F.z=g.C(0);if(F.o5==null&&F.z!=null){F.o5=F.z.slice(0);F.o5.fill(g.JN(g.u3(F.o5)))}if(F.H==null)F.H=F.z.slice(0);
if(F.c==null)F.c=F.z.slice(0);J.buffer=g.C(Math.max(0,J.S.o()*4),v.depth);g.$P(F,J.buffer);return o};
hE.asL=function(J,v,x,o,R,r,l){var M=v.aiw(l),P=v.buffer,S=null,c=g.u3(P),b=g.C(v.S.o(),c);if(l){S=g.C(v.S.o(),c);
g.Vi(P,S,3);P=P.slice(0);g.aDY(P)}for(var h=0;h<M.length;h++){var w=M[h],U;if(w==-3)U=v.pW.S;else if(w==-2)U=v.pR.S;
else U=v.S;var F=b;if(w==-3)F=v.pW.N;if(w==-2)F=v.pR.N;if(w==-1){if(S)F=S;else g.Vi(P,b,3)}if(w==0)g.Vi(P,b,0);
if(w==1)g.Vi(P,b,1);if(w==2)g.Vi(P,b,2);if(w==3)g.Vi(P,b,3);x.Cb(o,U.o()*3+4);var Y=o;o=hE.pL(J,F,x.data,U.r,U.$,o,c!=8||r[1]?3:1);
var A=o-Y;if(J)I.adM(x.data,R+h*10+2,A);else I.Cu(x.data,R+h*6+2,A)}return o};hE.DF=function(J,v,x,o,R,r,l,M){var P=M?I.$y:I.H1,S=P(x,r);
r+=2;var c=hE.oz(J,v,x,o,R,r,S,l-2,M);return c};hE.pL=function(J,v,x,o,R,r,l){I.nS(x,r,l);r+=2;r=hE.Cl(J,v,x,o,R,r,l);
return r};hE.oz=function(J,v,x,o,R,r,l,M,P){var S,c=o*R*(v>>>3),b=c&3,w=c+(b==0?0:4-b);if(M<=0){return g.C(w,v)}if(l==0){S=g.C(c);
S.set(new Uint8Array(x.buffer,r,c));if(v==16)for(var h=0;h<c;h+=2){var U=S[h];S[h]=S[h+1];S[h+1]=U}if(v==32)for(var h=0;
h<c;h+=4){var U=S[h];S[h]=S[h+3];S[h+3]=U;U=S[h+1];S[h+1]=S[h+2];S[h+2]=U}r+=c}else if(l==1){S=g.C(c);
var F=J?4:2,Y=hE.acY(x,S,o,R,r,r+F*R,F,P);r+=F*R+Y}else if(l==2||l==3){var A=new Uint8Array(x.buffer,r+2,M-6),G=g.C(w);
UZIP.inflateRaw(A,G);if(l==3){if(v==8)for(var n=0;n<R;n++){var E=n*o+1,K=E+o-1,e=G[E-1];for(var $=E;
$<K;$++){e+=G[$];G[$]=e&255}}else if(v==16)for(var n=0;n<R;n++){var E=n*o,K=E+o,e=0;for(var $=E;$<K;
$++){var N=$<<1;e+=G[N]<<8|G[N+1];G[N]=e&255;G[N+1]=e>>>8}}else{var k=o,V=G.slice(0,k*4);for(var n=0;
n<R;n++){var E=n*k*4+1,K=E+k*4-1,e=G[E-1];for(var $=E;$<K;$++){e+=G[$];G[$]=e&255}var X=n*k*4;for(var $=0;
$<k;$++){V[4*$+3]=G[X+$];V[4*$+2]=G[X+k+$];V[4*$+1]=G[X+k+k+$];V[4*$]=G[X+k+k+k+$]}G.set(V,X)}}}if(G.length==w)S=G;
else{S=g.C(w);for(var h=0;h<G.length;h++)S[h]=G[h]}}else S=g.C(w);if(v==16)S=new Uint16Array(S.buffer);
if(v==32)S=new Float32Array(S.buffer);return S};hE.Cl=function(J,v,x,o,R,r,l){var M=o*R,P=g.u3(v);if(P!=8)v=new Uint8Array(v.buffer);
var S=v;if(l==0)for(var h=0;h<M;h++)x[r++]=S[h];else if(l==1){var c=J?4:2,b=hE.a1z(S,x,o,R,r,r+c*R,c);
r+=c*R+b}else if(l==2||l==3){function w(V,h){return V[h+1]<<8|V[h]}if(l==3){if(P==8)for(var U=0;U<R;
U++){var F=U*o,Y=F+o;for(var A=Y-1;A>F;A--)S[A]=S[A]-S[A-1]+256&255}else if(P==16)for(var U=0;U<R;U++){var F=U*o,Y=F+o;
for(var A=Y-1;A>F;A--){var G=A<<1,n=w(S,G)-w(S,G-2)+65536&65535;S[G]=n>>>8;S[G+1]=n&255}var E=S[F*2];
S[F*2]=S[F*2+1];S[F*2+1]=E}else if(P==32){var K=o,e=S.slice(0,K*4);for(var U=0;U<R;U++){var $=U*K*4;
for(var A=0;A<K;A++){var N=$+4*A;e[A]=S[N+3];e[K+A]=S[N+2];e[K+K+A]=S[N+1];e[K+K+K+A]=S[N]}for(var A=K*4-1;
A>0;A--)e[A]=e[A]-e[A-1]+256&255;S.set(e,$)}}}x[r]=120;x[r+1]=156;r+=2;var k=pako.deflateRaw(S,{aGo:4});
x.set(k,r);r+=k.length+4}else console.log("Unknown compression: "+l);return r};hE.acY=function(J,v,x,o,R,r,l,M){if(!(J instanceof Uint8Array)||!(v instanceof Uint8Array))throw"e";
var P=r,S=o|0;if(M){if(l==2)for(var h=0;h<S;h++){var c=I.$y(J,R+(h<<1));hE.sK(J,r,c,v,h*x,x);r+=c}else for(var h=0;
h<S;h++){var c=I.eA(J,R+(h<<2));hE.sK(J,r,c,v,h*x,x);r+=c}}else{if(l==2)for(var h=0;h<S;h++){var c=I.H1(J,R+(h<<1));
hE.sK(J,r,c,v,h*x,x);r+=c}else for(var h=0;h<S;h++){var c=I.m7(J,R+(h<<2));hE.sK(J,r,c,v,h*x,x);r+=c}}return r-P};
hE.a1z=function(J,v,x,o,R,r,l){var M=r;if(l==2)for(var h=0;h<o;h++){var P=hE.ag5(J,h*x,x,v,r);I.fN(v,R+h*2,P);
r+=P}else for(var h=0;h<o;h++){var P=hE.ag5(J,h*x,x,v,r);I.Cu(v,R+h*4,P);r+=P}return r-M};hE.ag5=function(J,v,co,x,o){var R,r,l,M,P,kk,S;
M=v+co;for(l=v,r=o;co>0;l=R,co-=kk){S=co<128?co:128;if(l<=M-3&&J[l+1]==J[l+0]&&J[l+2]==J[l+0]){for(R=l+3;
R<l+S&&J[R]==J[l+0];)++R;kk=R-l;x[r++]=1+256-kk;x[r++]=J[l+0]}else{for(R=l;R<l+S;)if(R<=M-3&&J[R+1]==J[R+0]&&J[R+2]==J[R+0])break;
else++R;kk=R-l;x[r++]=kk-1;for(var h=0;h<kk;h++)x[r+h]=J[l+h];r+=kk}}return r-o};hE.sK=function(J,v,x,o,R,r){for(var l=0;
l<x;){var co=J[v++];if(co>=128){var M=J[v++],P=R+(257-co);o.fill(M,R,P);R=P;l+=2}else{for(var h=0;h<=co;
h++)o[R+h]=J[v+h];v+=co+1;R+=co+1;l+=1+1+co}}};function ih(){}ih.i0=function(J,v,x){return;var o="",R=v;
while(R!=0){var r=R%1e3+"";while(r.length<3)r="0"+r;o=(o==""?r:r+" ")+o;R=Math.floor(R/1e3)}while(o.startsWith("0")&&o!="0")o=o.slice(1);
while(o.length<11)o=" "+o;console.log("===",o,"\t".repeat(J),": "+x)};ih.a7y=function(J){var v={tA:{},add:{},depth:8},o=0,R=0,M;
v.Tb=!1;v.g8=8;var x=new Uint8Array(J);R=ih.ZR(v,x,o);o=R;R=ih.amI(v,x,o);o=R;var r=I.m7(x,o);o+=4+r;
var l=v.Tb?8:4;if(v.Tb)M=I.Ih(x,o);else M=I.m7(x,o);o+=l+M;R=ih.amE(v,x,o);return[{P0:new jj(0,0,v.r,v.$),data:v.buffer.buffer}]};
ih.KE=function(J,v){v.Tb=!1;var x=new Uint8Array(J),o=0,R=0,M=0,z,jw,f7=null,j4=!1,dQ=!0,eO=!1,a7=0,hB=0;
R=ih.ZR(v,x,o);ih.i0(0,R-o,"PSD Header");o=R;R=ih.amI(v,x,o);ih.i0(0,R-o,"Color Mode Data");o=R;R=ih.aA0(v,x,o);
ih.i0(0,R-o,"Image Resources");o=R;var r=o;R=ih.aGm(v,x,o);ih.i0(0,R-o,"Layer And Mask Info");o=R;var r=o;
R=ih.amE(v,x,o);ih.i0(0,R-o,"Merged Image");o=R;if(v.k.length==0){var l=v.qL();l.v7("Background");v.k.push(l);
l.buffer=v.buffer.slice(0);l.S=new jj(0,0,v.r,v.$)}for(var h=0;h<v.k.length;h++){var R=v.k[h],P=R.add.lsct;
if(P==h2.lj)M++;else if(P==h2.Uk||P==h2.Le)M--}while(M<0){v.k.unshift(v.V4());M++}if(v.tA.r1005){v.Bt=I.Ta(v.tA.r1005,0)}if(v.tA.r1026){var x=v.tA.r1026;
for(var h=0;h<x.length;h+=2){var R=v.k[h>>>1];if(R)R.C3=I.H1(x,h)}}if(v.tA.r1072){var x=v.tA.r1072;for(var h=0;
h<x.length;h++){var R=v.k[h];if(R)R._4=x[h]==1}}if(v.tA.r1032){v.HC=ih.agY(v.tA.r1032,0)}delete v.tA.r1036;
v.G$(v.tA.r1039);if(v.tA.r1050){var S=I.m7,c=v.tA.r1050,b=I.m7(c,0);if(b==6){var w=4,U=I.hT(c,w);w+=16;
var F=I.aX(c,w);w+=4+F.length*2;var Y=S(c,w);w+=4;var A=v.ek;for(var h=0;h<Y;h++){var G=H.mT.I8(),E;
A.push(G);G=G.v;G.sliceID.v=S(c,w);w+=4;G.groupID.v=S(c,w);w+=4;var n=S(c,w);w+=4;if(n==1){E=S(c,w);
w+=4}var F=I.aX(c,w);w+=4+F.length*2;var K=S(c,w);w+=4;var e=[S(c,w),S(c,w+4),S(c,w+8),S(c,w+12)];w+=16;
H.mT.bA(A,A.length-1,e);var $=G.url.v=I.aX(c,w);w+=4+$.length*2;var N=G.null.v=I.aX(c,w);w+=4+N.length*2;
var k=G.Msge.v=I.aX(c,w);w+=4+k.length*2;var V=G.altTag.v=I.aX(c,w);w+=4+V.length*2;G.cellTextIsHTML.v=c[w]==1;
w++;var X=G.cellText.v=I.aX(c,w);w+=4+X.length*2;var Q=S(c,w);w+=4;var L=S(c,w);w+=4;var _=c.slice(w,w+4);
w+=4;if(n!=2)A.pop()}}else if(b==8){var a={},T=new jj(0,0,v.r,v.$);cG.gN(c,a,8,!1);var c=v.ek=a.slices.v;
for(var h=0;h<c.length;h++){var f=H.mT.X4(c,h),Z=new jj(f[0],f[1],f[2]-f[0],f[3]-f[1]);if(c[h].v.origin.v.ESliceOrigin!="userGenerated"||Z.Xt(T).L3()){c.splice(h,1);
h--}}}}if(v.tA.r1058){var W=v.tA.r1058,D=UTIF.decode(W.buffer,{parseMN:!1,debug:!1});ef.Zc(D[0],v.b5);
delete v.tA.r1058}if(v.tA.r1060){var C=I.Aq(v.tA.r1060);ef.Ur(C,v.b5);delete v.tA.r1060}if(v.tA.r1065){var x=v.tA.r1065;
v.eG={};cG.gN(x,v.eG,4,!1)}if(v.tA.r1069){var x=v.tA.r1069,d=[];for(var h=2;h<x.length;h+=4){var E=I.m7(x,h);
for(var p=0;p<v.k.length;p++){var R=v.k[p];if(R.add.lyid==E&&R.add.lsct!=3&&d.indexOf(p)==-1)d.push(p)}}v.Y=d}if(v.tA.r1073){var x=v.tA.r1073,w=0,y=I.a$(x,w);
w+=4;var i=I.a$(x,w);w+=4;for(var h=0;h<i;h++){v.Ql.push({y:y>=2?I.Ll(x,w+2):I.Ta(x,w+2),x:y>=2?I.Ll(x,w+6):I.Ta(x,w+6)});
w+=14}delete v.tA.r1073}if(v.tA.r1074){v.Vj={};cG.gN(v.tA.r1074,v.Vj,4,!1);delete v.tA.r1074}if(v.tA.r1025){var t=v.tA.r1025;
delete v.tA.r1025;var O=b0.Kt(t,0,t.length,v.r,v.$),q=new m.e_;q.X=O;v.h1[0]=d7.bl("Work Path",{vmsk:q})}if(v.tA.r3000){z={};
cG.gN(v.tA.r3000,z,4,!1);delete v.tA.r3000}if(v.add.pths){jw=v.add.pths;delete v.add.pths}for(var u=0;
u<=997;u++){var iH="r"+(2e3+u),t=v.tA[iH];if(t==null)break;var O=b0.Kt(t,0,t.length,v.r,v.$),s="Path "+u,bV=[0,0];
if(jw){var jU=jw.pathList.v[u].v,hx=jU.pathSymmetryClass;if(hx){hx=hx.v;var eX=hx.pathSymmetryMode.v.pathSymmetryModeEnum.slice(16),Y=hx.pathSymmetryCount;
bV=[g.bO.ac$.indexOf(eX),Y?Y.v:0]}s=jU.pathUnicodeName.v}var et=z?z.keyRootDescriptorList.v[u].v.keyDescriptorList.v:m.Tr(O),q=new m.e_;
q.X=O;v.h1.push(d7.bl(s,{vmsk:q,vogk:et},bV));delete v.tA[iH]}if(jw){var iY=jw.pathSymmetrySelectedPath;
if(iY)f7=v.h1[iY.v+1]}for(var h=0;h<v.h1.length;h++)if(v.h1[h].N_[0]==3){v.h1.splice(h,1);h--}if(f7){if(f7.N_[0]==3)v.dZ=!0;
else v.KG=v.h1.indexOf(f7)}delete v.Tb;if(v.tA.r4000){v.Xh=g.Xh.KE(v.tA.r4000)}var cd=v.tA.r7000,jV=v.tA.r7001;
if(cd){var g2=I.Aq(cd);v.AB=ih.asx(g2)}if(jV){var g2=I.Aq(jV);v.VI=ih.awQ(g2)}delete v.tA.r7000;delete v.tA.r7001;
var T=new jj(0,0,v.r,v.$),gV=v.add.Txt2,fD=gV;if(fD){fD=fD.x1;if(fD._DocumentResources==null)fD=ca.a0c(fD)}var cc=-1;
for(var h=0;h<v.k.length;h++){var R=v.k[h],ad=R.add.lsct,jC=R.add.vmsk,iJ=R.q9();if(ad==h2.lj){a7++;
R.add.lspf=0}else if(ad==h2.Uk||ad==h2.Le)a7--;if(R.name==""){R.name="Layer "+(h+1);eO=!0}if(eO&&R.tX()&&R.gR=="norm")R.gR="pass";
if(R.Ov()&&R.V0(v)==null)delete R.add.SoLd;if(R.Ov()&&R.V0(v).pR){var kJ=R.V0(v);kJ.pR.isEnabled=R.add.SoLd.filterFX.v.filterMaskEnable.v}if(jC&&R.Id()){var jr=gD.gB.ow(!0);
if(R.add.vstk==null)R.add.vstk=g.F(jr);else{var fY="strokeStyleLineDashSet";if(R.add.vstk[fY]==null)R.add.vstk[fY]=g.F(jr[fY])}R.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
R.add.vstk.strokeStyleResolution.v=v.Bt}if(jC&&(R.add.vogk==null||g.I.Eo(jC.X)!=R.add.vogk.length))R.Tr();
if(!1){var iR=R.add.vogk,g6=!0;for(var ay=0;ay<iR.length;ay++){var cQ=iR[ay].v.keyShapeInvalidated;if(cQ==null||cQ.v==!1)g6=!1}if(g6)R.Tr()}if(R.add.SoLd&&R.S.L3()){console.log("redrawing smart instance");
R.IY(v,null,null,!0,!0)}if(iJ==null&&R.pR!=null){if(R.pR.mw==!1){R.pR.mw=!0;R.pW=R.pR.Q()}}iJ=R.q9();
if(R.t7){var jr=R.t7,q=jC;if(iJ){iJ.nJ=jr[0];iJ.p5=jr[1]}if(q){q.nJ=jr[2];q.p5=jr[3]}R.t7=null}if(iJ!=null&&jC!=null&&(iJ.p5+jC.p5!=0||iJ.nJ+jC.nJ!=2*255))R.B0(v);
else if(jC!=null&&!R.Id())R.B0(v);else if(iJ&&iJ.nJ!=255&&R.Id())R.B0(v);var aC=R.add.artb;if(aC&&aC.artboardBackgroundType==null)aC.artboardBackgroundType={t:"long",v:1};
if(aC&&a7!=0)delete R.add.artb;var dI=R.add.vstk;if(R.Id()&&(R.S.L3()||jC&&jC.p5!=0||dI&&!dI.fillEnabled.v&&(!dI.strokeEnabled.v||dI.strokeStyleLineWidth.v.val==0)))R.dM(v);
if(R.add.TySh){j4=!0;if(!R.S.L3())dQ=!1}if(R.add.TySh&&fD){cc++;var fm=R.add.TySh.vv,hd=bI.JG(fm),ku=fD._DocumentObjects._TextObjects;
if(ku.length<=cc){console.log("Txt2 incomplete");continue}var cp=ku[cc]._Model,hp=cp._StyleRun?cp._StyleRun._RunArray:[],gA=fm.EngineDict.StyleRun.RunArray;
for(var jN=0;jN<gA.length;jN++){var d4=gA[jN].StyleSheet.StyleSheetData;if(hp[jN]==null)continue;var ey=hp[jN]._RunData._StyleSheet._Features;
if(ey){if(ey._BaselineDirection)d4.BaselineDirection=parseInt(ey._BaselineDirection.slice(1));if(ey._FillBackgroundFlag)d4._FillBackgroundFlag=ey._FillBackgroundFlag;
if(ey._FillBackgroundColor)d4._FillBackgroundColor={Type:1,Values:d1.gL(ey._FillBackgroundColor._Color._Values)};
var P=bI.Wk;for(var p=0;p<P.length;p++)if(ey[P[p]]!=null)d4[P[p]]=ey[P[p]];var jG=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset"];
for(var p=0;p<jG.length;p++)if(ey[jG[p]]!=null)d4[jG[p]]=parseFloat(ey[jG[p]].slice(1));if(ey._MiterLimit!=null)d4._MiterLimit=Math.max(d4._MiterLimit,1);
if(ey._LineDashArray!=null)d4._LineDashArray=d1.gL(ey._LineDashArray)}}var cF=fm.EngineDict.ParagraphRun.RunArray,f5=cp._ParagraphRun._RunArray;
if(f5==null)f5=[];var jW=Math.min(f5.length,cF.length);for(var p=0;p<jW;p++){var f$=cF[p].ParagraphSheet.Properties,bh=fD._DocumentResources._ParagraphSheetSet._Resources,ii=f5[p]._RunData._ParagraphSheet;
if(typeof ii=="string")ii=bh[parseInt(ii.slice(1))]._Resource;var dM=ii._Parent==null?ii:bh[parseInt(ii._Parent.slice(1))]._Resource;
ii=ii._Features;dM=dM._Features;var b7=ii._ParagraphDirection;if(b7==null)b7=dM._ParagraphDirection;
if(b7)f$._Direction=parseInt(b7.slice(1));if(ii._ComposerEngine)f$._ComposerEngine=parseInt(ii._ComposerEngine.slice(1))}if(cp._AlternateGlyphRun){var f5=cp._AlternateGlyphRun._RunArray,jW=f5.length,bz=fm.EngineDict.AlternateGlyphRun=bI.aBx();
for(var p=0;p<jW;p++){var ii=f5[p],cZ={},e4=ii._RunData._AlternateGlyphSheet;if(e4)cZ.Glyph=parseInt(e4._Glyph.slice(1));
bz.RunArray.push(cZ);bz.RunLengthArray.push(parseInt(ii._Length.slice(1)))}}var fI=fD._DocumentResources,aI=fI._TextFrameSet._Resources,iV=aI[cc]._Resource,k6=iV._Data,bq=new bC(1,0,0,1,0,0);
if(iV._0){var cq=parseFloat(iV._0[0].slice(1)),jD=parseFloat(iV._0[1].slice(1));bq.translate(cq,jD)}if(hd){bq.translate(hd[0],hd[1]);
bI.lC(fm,[0,0,hd[2]-hd[0],hd[3]-hd[1]])}else{if(iV._Bezier&&iV._Bezier._Points){var O=iV._Bezier._Points,cq=parseFloat(O[0].slice(1)),jD=parseFloat(O[1].slice(1));
if(cq!=0||jD!=0){bq.translate(cq,jD)}}}if(iV._Data&&iV._Data._FrameMatrix){var eL=iV._Data._FrameMatrix;
eL=eL.map(function(hy){return parseFloat(hy.slice(1))});bq.concat(new bC(eL[0],eL[1],eL[2],eL[3],eL[4],eL[5]))}bq.concat(R.add.TySh.u);
R.add.TySh.u=bq;var K=k6._Type?parseInt(k6._Type.slice(1)):0;if(K==2||K==1&&k6._PathData&&k6._PathData._Spacing=="i-3")if(iV._Bezier){var hK=function(hy){return parseFloat(hy.slice(1))},O=iV._Bezier._Points.map(hK);
if(hd)g.b.u(O,new bC(1,0,0,1,-hd[0],-hd[1]),O);var fU=k6._PathData?k6._PathData._Reversed:!1,ju=k6._TextOnPathTRange;
if(ju==null)ju=["f-3","f-3"];fm.Curve={Points:O,TextOnPathTRange:ju.map(hK),Reversed:fU==null?!1:fU};
R.add.TySh.add={vmsk:new m.e_,vogk:null};bI.ff(R.add.TySh)}if(k6._LineOrientation=="i2")fm._LineOrientation=2}}H._3.RW(v,!0);
var aF={},h0=[];for(var h=0;h<v.k.length;h++){var aD=v.k[h].add.lyid;if(aD==null)continue;var hB=Math.max(hB,aD);
if(aF[aD]!=null)h0.push(h);else aF[aD]=!0}for(var h=0;h<h0.length;h++)v.k[h0[h]].add.lyid=hB+1+h};ih.agY=function(J,v){v+=12;
var x=I.m7(J,v),o=[];v+=4;x=Math.min(x,Math.floor((J.length-v)/5));for(var h=0;h<x;h++){var R=Math.min(J[v+h*5+4],1),r=I.a$(J,v+h*5)/32;
o.push([R,r])}return o};ih.asx=function(J){var v=new DOMParser,x=v.parseFromString(J,"text/xml").firstChild.children[0],o=x.getElementsByTagName("variables");
if(o.length==0)return[];o=o[0].children;var R=[],r="varName trait docRef placementMethod align valign clip".split(" ");
for(var l=0;l<o.length;l++){var M=o[l],P={};R.push(P);for(var S=0;S<r.length;S++){var c=r[S],b=M.getAttribute(c);
if(b==null)continue;P[c]=b}}return R};ih.awQ=function(J){var v=new DOMParser,x=v.parseFromString(J,"text/xml").firstChild.children,o=[[]];
if(x==null)return o;for(var h=0;h<x.length;h++){var R=x[h],r=[];o.push(r);for(var l=0;l<R.children.length;
l++){var M=R.children[l];if(h==0)o[0].push(M.tagName);r.push(M.textContent)}}return o};ih.Ce=function(J,v,x){H._3.vx(J);
H._3.RW(J,!1);J.Tb=x[3]==!0;var o=[],R=[],A=0,n=1,F=16,g2=0;for(var h=0;h<J.k.length;h++){var r=J.k[h];
if(r.Ov()&&r.V0(J).pR){r.add.SoLd.filterFX.v.filterMaskEnable.v=r.V0(J).pR.isEnabled}if(r.add.TySh){var l=r.add.TySh.vv,M=bI.eP(l);
r.add.TySh.gZ.TextIndex={t:"long",v:o.length};o.push(l);if(M==2)bI.bi(r.add.TySh)}var P=r.add.vstk;if(P)P.strokeStyleResolution.v=J.Bt;
if(r.Id()||x[2]&&r.add.SoLd){R[h]=[r.S,r.buffer];r.S=new jj;r.buffer=g.C(0);if(r.add.SoLd){var S=r.V0(J);
if(S!=null){R[h].push(S.buffer);S.buffer=g.C(S.buffer.length)}}}}if(o.length>0){var c=J.add.Txt2?J.add.Txt2.x1:null;
if(J.add.Txt2==null)J.add.Txt2={};J.add.Txt2.x1=d1.asg(o,null,c)}var b=[J.add.lnk2,J.add.FEid,J.add.Patt],w=J.ad8(J.k);
J.a6C(w);J.tA.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);I.axi(J.tA.r1005,0,J.Bt);I.axi(J.tA.r1005,8,J.Bt);
if(J.Ql.length>0){var U=J.Ql;J.tA.r1073=new Uint8Array(8+U.length*14);I.Wz(J.tA.r1073,0,3);I.Wz(J.tA.r1073,4,U.length);
for(var h=0;h<U.length;h++){var F=8+14*h;I.nS(J.tA.r1073,F,14);I.PL(J.tA.r1073,F+2,U[h].y);I.PL(J.tA.r1073,F+6,U[h].x);
I.nS(J.tA.r1073,F+10,-1);I.nS(J.tA.r1073,F+12,8)}}if(J.XP()){J.tA.r1022=new Uint8Array([0,3+J.ac.length-1,0])}else delete J.tA.r1022;
var Y=new Uint8Array(J.k.length*2),G=new Uint8Array(J.k.length);for(var h=0;h<J.k.length;h++){var r=J.k[h],E=r.C3,K=r._4?1:0;
I.fN(Y,h*2,E);G[h]=K;if(E>A)A=E;if(K==0)n=0}if(A>0)J.tA.r1026=Y;if(n<1)J.tA.r1072=G;var e=J.HC,$=e.length,N=J.tA.r1032=new Uint8Array(16+5*$);
I.Cu(N,0,1);I.Cu(N,4,576);I.Cu(N,8,576);I.Cu(N,12,$);for(var h=0;h<$;h++){I.Wz(N,F,Math.round(e[h][1]*32));
N[F+4]=e[h][0];F+=5}if(x[4]!=!0){var k=[J.rv(),new jj(0,0,J.r,J.$)],V=0;g.DV(k);while(k[V+1].o()>200*200)V+=2;
var X=d2.s$("jpg"),Q=k[V+1],L=new Uint8Array(X.lS([[k[V].buffer,null,J.Bt]],Q.r,Q.$)),N=J.tA.r1036=new Uint8Array(28+L.length);
I.Cu(N,0,1);I.Cu(N,4,Q.r);I.Cu(N,8,Q.$);I.Cu(N,12,Q.r*3);I.Cu(N,16,Q.o()*3);I.Cu(N,20,L.length);I.fN(N,24,24);
I.fN(N,26,1);N.set(L,28)}var _=g.LQ(J.buffer);if(J.add.fcmy)_=!1;var a=[];if(_)a.push({name:"Transparency",qt:{z:255,H:0,c:0},s1:100,QJ:1});
a=a.concat(J.ac);delete J.tA.r1045;delete J.tA.r1006;delete J.tA.r1077;var T=new i3;F=0;var f=new Uint8Array(4+a.length*13);
f[3]=1;for(var h=0;h<a.length;h++){var Z=a[h],W=Z.name+"\0";I.Jm(T,F,W);F+=4+W.length*2;var D=4+h*13;
kO.yN(f,D,Z.qt);f[D+11]=Z.s1;f[D+12]=Z.QJ}if(F!=0)J.tA.r1045=T.data.slice(0,F);J.tA.r1077=f;for(var h=0;
h<J.ek.length;h++)J.ek[J.ek.length-h-1].v.sliceID.v=2+h*3;var C={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:J.ek}},T=new i3;
I.TB(T,0,8);I.TB(T,4,16);var d=cG.ks(T,C,8);J.tA.r1050=T.data.slice(0,d+8);var T=new i3;I.TB(T,0,16);
var d=cG.ks(T,J.eG,4);J.tA.r1065=T.data.slice(0,d+4);if(J.Vj){var T=new i3;I.TB(T,0,16);var d=cG.ks(T,J.Vj,4);
J.tA.r1074=T.data.slice(0,d+4)}var p=J.Y;N=J.tA.r1069=new Uint8Array(2+p.length*4);I.fN(N,0,p.length);
for(var h=0;h<p.length;h++)I.Cu(N,2+4*h,J.k[p[h]].add.lyid);delete J.tA.r1058;delete J.tA.r1060;if(Object.keys(J.b5).length!=0){var y=[[Math.round(J.Bt*1e4),1e4]],i=[{t274:[1],t282:y,t283:y,t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
ef.Ac(J.b5,i[0],x[0]&&x[1]);J.tA.r1058=new Uint8Array(UTIF.encode(i));var t=ef.tu(J.b5);J.tA.r1060=I.xU(t)}var O=[],q=[],z=J.h1.slice(0);
if(J.dZ){var jw=b0.att([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),u=new m.e_;
u.X=jw;z.push(d7.bl("Tile Symmetry 1",{vmsk:u,vogk:m.Tr(jw)},[3,1]))}var iH=J.dZ?J.h1.length-1:J.KG-1;
for(var h=0;h<z.length;h++){var s=z[h],jw=s.add.vmsk.X;if(h==0&&jw.length==2)continue;var bV=g.C(jw.length*26);
b0.pM(bV,0,jw,J.r,J.$);var jU=h==0?1025:2e3+h-1;J.tA["r"+jU]=bV;if(h!=0){var hx={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:s.name}},eX=hx.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryMode"+g.bO.ac$[s.N_[0]]}}}};
if(s.N_[1]!=0)eX.v.pathSymmetryCount={t:"long",v:s.N_[1]};O.push({t:"Objc",v:hx});q.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:s.add.vogk}}})}}if(O.length!=0){J.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:O}};
if(iH!=-1)J.add.pths.pathSymmetrySelectedPath={t:"long",v:iH};q={classID:"null",keyRootDescriptorList:{t:"VlLs",v:q}};
var T=new i3;I.TB(T,0,16);var d=cG.ks(T,q,4);J.tA.r3000=T.data.slice(0,d+4)}else{delete J.add.pths;delete J.tA.r3000}if(J.Xh&&J.Xh.length!=0){J.tA.r4000=g.Xh.Ce(J.Xh)}if(J.AB.length!=0){var et="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var h=0;h<J.AB.length;h++){var f7=J.AB[h],iY=[];for(var jU in f7)iY.push(jU+"=\""+f7[jU]+"\"");et+="<variable "+iY.join(" ")+">\n</variable>\n"}et+="</variables>\n</variableSet>\n</variableSets>";
J.tA.r7000=I.xU(et)}if(J.VI.length!=0){var et="<sampleDataSets psdPath=\""+J.name+"\">\n";for(var h=1;
h<J.VI.length;h++){var cd=J.VI[h];et+="<sampleDataSet dataSetName=\"Data Set "+h+"\">\n";for(var jV=0;
jV<cd.length;jV++)et+="<"+J.VI[0][jV]+">"+cd[jV].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+J.VI[0][jV]+">\n";
et+="</sampleDataSet>\n"}et+="</sampleDataSets>";J.tA.r7001=I.xU(et)}g2=ih.adZ(J,v,g2,3+a.length);g2=ih.akl(J,v,g2);
g2=ih.a8z(J,v,g2);g2=ih.a5m(J,v,g2,x,_);g2=ih.a44(J,v,g2,x[0],_);var gV=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var h=0;h<gV.length;h++)delete J.tA["r"+gV[h]];for(var h=0;h<J.k.length;h++){var r=J.k[h];if(r.Id()||x[2]&&r.add.SoLd){r.S=R[h][0];
r.buffer=R[h][1];if(R[h][2]){var S=r.V0(J);R[h].push(S.buffer);S.buffer=R[h][2]}}}J.a6C(b);H._3.RW(J,!0);
delete J.Tb;return g2};ih.ZR=function(J,v,x){var o=I.b_(v,x,4);x+=4;if(o!="8BPS")alert("invalid header signature: "+o);
var R=I.H1(v,x);x+=2;J.Tb=R==2;if(R!=1&&R!=2)alert("invalid version: "+R);x+=6;J.RU=I.H1(v,x);x+=2;J.$=I.a$(v,x);
x+=4;J.r=I.a$(v,x);x+=4;J.g8=I.H1(v,x);if(bD)J.depth=J.g8;x+=2;J.nV=I.H1(v,x);x+=2;return x};ih.adZ=function(J,v,x,o){var R=J.add.fcmy==1;
v.Cb(0,64);I.cO(v.data,x,"8BPS");x+=4;I.fN(v.data,x,J.Tb?2:1);x+=2;I.Cu(v.data,x,0);x+=4;I.fN(v.data,x,0);
x+=2;I.fN(v.data,x,o+(R?1:0));x+=2;I.Wz(v.data,x,J.$);x+=4;I.Wz(v.data,x,J.r);x+=4;I.fN(v.data,x,J.depth);
x+=2;I.fN(v.data,x,R?4:3);x+=2;return x};ih.amI=function(J,v,x){var o=I.a$(v,x);x+=4;if(o!=0)J.HS=v.slice(x,x+o);
x+=o;return x};ih.akl=function(J,v,x){if(J.depth==32){var o=new Uint8Array([104,100,114,116,0,0,0,3,62,107,133,31,0,0,0,2,0,0,0,7,0,76,0,105,0,110,0,101,0,97,0,114,0,0,0,2,0,2,0,0,0,0,0,255,0,255,1,1,0,0,0,0,0,0,0,0,65,128,0,0,0,0,0,1,0,0,0,0,63,128,0,0,104,100,114,97,0,0,0,6,0,0,0,0,65,160,0,0,65,240,0,0,0,0,0,0,0,0,0,0,63,128,0,0,0,0,0,0,0,0]);
I.K3(v,x,o.length);x+=4;v.Cb(x,o.length);v.data.set(o,x);x+=o.length}else{I.K3(v,x,0);x+=4}return x};
ih.aA0=function(J,v,x){var o=I.m7(v,x),R=0;x+=4;var r=[];while(R<o){var l=I.b_(v,x+R,4);R+=4;var M=I.H1(v,x+R);
R+=2;var P=I.xs(v,x+R);R+=P.length;if(l=="MeSa"&&(M==7e3||M==7001)){}else if(l!="8BIM"){r.push(M);console.log("Unknown Image Resources signature: "+l+", ID: "+M)}var S=I.m7(v,x+R);
R+=4;if(J.tA["r"+M]!=null)console.log("--- two resources with same ID");J.tA["r"+M]=I.Ms(v,x+R,S);R+=S+(S&1)}for(var h=0;
h<r.length;h++)delete J.tA["r"+r[h]];delete J.tA.r1092;return x+o};ih.a8z=function(J,v,x){var o=x,l=0;
x+=4;var R=[];for(var r in J.tA){R.push(parseInt(r.slice(1)))}R.sort(function(b,w){return b-w});for(var h=0;
h<R.length;h++){var M=R[h];I.ko(v,x+l,M==7e3||M==7001?"MeSa":"8BIM");l+=4;I.Sj(v,x+l,M);l+=2;var P=I.ES(v,x+l,"");
l+=P;var S=J.tA["r"+M],c=S.length;I.TB(v,x+l,c);l+=4;I.aJ(v,x+l,S);l+=c;if(c%2==1)l++}I.TB(v,o,l);return x+l};
ih.aGm=function(J,v,x){var o=x,R,r,l=J.Tb?8:4;if(J.Tb)R=I.Ih(v,x);else R=I.m7(v,x);x+=l;if(R==0)return o+l;
r=ih.azD(J,v,x);ih.i0(1,r-x,"Layer Info");x=r;r=ih.afE(J,v,x);ih.i0(1,r-x,"Global Layer Mask Info");
x=r;r=aw.kC(v,x,o+l+R,J.add,J.Tb,J);ih.i0(1,r-x,"Project Add Info");x=r;return o+l+R};ih.a5m=function(J,v,x,o,R){var r=x;
I.TB(v,x,0);x+=4;if(J.Tb){I.TB(v,x,0);x+=4}x=ih.asA(J,v,x,o,R);x=ih.any(J,v,x);var l=J.add;if(J.depth!=8){l={};
l["Lr"+J.depth]={};for(var M in J.add)l[M]=J.add[M]}x=aw.Jf(v,x,l,J.Tb,J);if(J.Tb)I.S4(v,r,x-r-8);else I.TB(v,r,x-r-4);
return x};ih.azD=function(J,v,x){var o,R=J.Tb?8:4;if(J.Tb)o=I.Ih(v,x);else o=I.m7(v,x);x+=R;if(o!=0)ih.XT(J,v,x);
return x+o};ih.XT=function(J,v,x,o){var R=x,r=o?I.oV:I.lT,l=r(v,x);x+=2;var M=Math.abs(l);for(var h=0;
h<M;h++){var P=new m;x=hG.KE(P,J,v,x,o);J.k[h]=P}var S=new jj(0,0,J.r,J.$);for(var h=0;h<M;h++){var c=J.k[h],b=c.q9(),w=hE.KE(c,J,v,x,o);
if(w-x>8)ih.i0(2,w-x,"Lay: "+c.getName());x=w;ih.avy(c,S);if(b)ih.avy(b,S)}};ih.avy=function(J,v){};
ih.asA=function(J,v,x,o,R){var r=x,l=J.Tb;x+=l?8:4;if(J.depth==8)x=ih.ajY(J,v,x,o,R);var M=x-r-(l?8:4);
if(M%2!=0)M++;if(l)I.S4(v,r,M);else I.TB(v,r,M);return r+M+(l?8:4)};ih.ajY=function(J,v,x,o,R){var r=J.k.length;
I.GS(v,x,R?-r:r);x+=2;var l=[];for(var h=0;h<r;h++)x=hG.Ce(J.k[h],J,v,x,l);for(var h=0;h<r;h++)x=hE.o4(J.Tb,J.k[h],v,x,l[h],o,J.add.fcmy==1);
return x};ih.afE=function(J,v,x){var o=I.m7(v,x);x+=4;x+=o;return x};ih.any=function(J,v,x){var o=I.TB(v,x,0);
x+=4;return x};ih.amE=function(J,v,x){var o=J.nV,R="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),r=[1,1,1,3,4,1,1,3],l,Y;
delete J.add.fcmy;if(o!=3){if(o==1||o==2||o==4)console.log("Project will be converted from "+R[o]+" to "+R[3]+" mode.");
else{alert("Color mode "+R[o]+" is not supported yet :(")}if(o==4)J.add.fcmy=1}if(J.tA.r1045){l=[];var M=J.tA.r1045,P=0;
while(P<M.length){var S=I.B1(M,P);l.push(S);P+=4+2+S.length*2}}var c=r[o]+(l==null||l[0]=="Transparency"?1:0),b=J.r,w=J.$,U=b*w,F=I.H1(v,x);
x+=2;J.buffer=g.C(U*4,J.depth);g.sS(J.buffer,1);var A=x;for(var G=0;G<J.RU;G++){if(F==0){Y=hE.oz(J.Tb,J.g8,v,b,w,x,F);
Y=g.N2(Y,J.depth);x+=U*(J.g8>>>3)}else if(F==1){var n=J.g8==8?1:J.g8==16?2:4;Y=g.C(U*n);var E=J.Tb?4:2;
if(G==0)x+=J.RU*w*E;x+=hE.acY(v,Y,b*n,w,A+G*w*E,x,E);if(J.g8==16){for(var h=0;h<Y.length;h+=2){var K=Y[h];
Y[h]=Y[h+1];Y[h+1]=K}Y=new Uint16Array(Y.buffer)}if(J.g8==32){for(var h=0;h<Y.length;h+=4){var K=Y[h];
Y[h]=Y[h+3];Y[h+3]=K;K=Y[h+1];Y[h+1]=Y[h+2];Y[h+2]=K}Y=new Float32Array(Y.buffer)}Y=g.N2(Y,J.depth)}else{console.log("unknown compression of image data: ",F);
return}if(G<c){g.Os(Y,J.buffer,G);if(J.RU==1&&G==0){g.Os(Y,J.buffer,1);g.Os(Y,J.buffer,2)}}else{var e=new m.V1,$=G-c,N=G-r[J.nV];
e.name=l?l[N]:"Alpha";if(e.name=="Quick Mask"){e.nX=!0;J.Dk.push($)}e.S=new jj(0,0,b,w);e.N=Y;e.color=0;
e.Zv();J.ac[$]=e;if(J.tA.r1077){var M=J.tA.r1077.slice(4+N*13);e.qt=kO.qn(M,0);e.s1=M[11];e.QJ=M[12];
if(e.QJ==2)e.nX=!0}}}J.RU=4;if(J.nV==2)for(var h=0;h<U;h++){var k=h*4,V=J.buffer[k];J.buffer[k]=J.HS[0+V];
J.buffer[k+1]=J.HS[256+V];J.buffer[k+2]=J.HS[512+V]}return x};ih.a44=function(J,v,x,o,R){var r=1,l=16,M=J.r,P=J.$,c,b,w;
I.Sj(v,x,r);x+=2;if(J.depth!=8)o=!0;var S=M*P;if(!o){b=new g.GH(M*P);g.Y5(J.buffer,b);var U=b.z,F=b.H,Y=b.c,A=b.o5;
for(var h=0;h<S;h++){var G=A[h]*(1/255);U[h]=~~(U[h]*G+255*(1-G));F[h]=~~(F[h]*G+255*(1-G));Y[h]=~~(Y[h]*G+255*(1-G))}w=[b.z,b.H,b.c];
if(J.add.fcmy==1){w.push(g.C(S));var n=J.buffer.slice(0);g.aDY(n);g.Y5(n,{z:w[0],H:w[1],c:w[2],o5:w[3]})}if(R)w.push(b.o5)}else{c=g.C(S,J.depth);
if(J.depth==16)c.fill(65535);w=[c,c,c];if(J.add.fcmy==1)w.push(c);if(R)w.push(c)}for(var h=0;h<J.ac.length;
h++){w.push(J.ac[h].PP(new jj(0,0,J.r,J.$)))}var E=x;for(var K=0;K<w.length;K++){v.Cb(x,M*P+4);c=w[K];
if(r==0||r==2||r==3)x=hE.Cl(J.Tb,c,v.data,M,P,x,r);else{var e=new Uint8Array(c.buffer),$=M*(J.depth>>>3),N=J.Tb?4:2;
if(K==0)x+=w.length*P*N;var k=x;x+=hE.a1z(e,v.data,$,P,E+K*P*N,x,N)}}return x};function iU(){}iU.KE=function(J){var v={};
iU.QM(J,v,0,0);return v};iU.Ce=function(J,v){var x=0;x=iU.p0(J,v,x,0);return x};iU.QM=function(J,v,x,o){while(J[x]!="<".charCodeAt(0))x++;
x+=2;while(!0){if(J[x]=="/".charCodeAt(0)){x++;var R=I.indexOf(J," ".charCodeAt(0),x,x+50),r=I.indexOf(J,"\n".charCodeAt(0),x,x+50);
if(r==-1)r=Infinity;if(R==-1)R=Infinity;var l=Math.min(r,R),M=I.b_(J,x,l-x),P=iU.ey(J,l+1,o+1,M);v[M]=P.K;
x=l+1;x+=P.size}else if(J[x]==">".charCodeAt(0)){x+=2;break}else{var S=J[x];if(S==10||S==9||S==32)x++;
else{console.log("unknown byte: "+S+", char: "+String.fromCharCode(S),x);x++}}}return x};iU.p0=function(J,v,x,o){I.ko(v,x,"<<\n");
x+=3;var R=iU.aAd;for(var r in J){I.SR(v,x,"\t".charCodeAt(0),o+1);x+=o+1;I.ko(v,x,"/"+r);x+=1+r.length;
if(R(J[r])||J[r]instanceof Array){I.ko(v,x," ");x++}else{I.ko(v,x,"\n");x++;I.SR(v,x,"\t".charCodeAt(0),o+1);
x+=o+1}x=iU.Hk(J[r],v,x,o+1);I.ko(v,x,"\n");x++}I.SR(v,x,"\t".charCodeAt(0),o);x+=o;I.ko(v,x,">>");x+=2;
return x};iU.ey=function(J,v,x,o){var R=v,r={size:0,K:0};while(!0){while(J[v]==" ".charCodeAt(0)||J[v]=="\t".charCodeAt(0)||J[v]=="\n".charCodeAt(0))v++;
if(J[v]=="<".charCodeAt(0)){r.K={};v=iU.QM(J,r.K,v,x+1);break}else if(J[v]=="(".charCodeAt(0)){v+=3;
var l=v;while(!0){if(J[l-1]!="\\".charCodeAt(0)&&J[l]==")".charCodeAt(0)&&(J[l+1]=="\n".charCodeAt(0)||J[l+1]==" ".charCodeAt(0)))break;
else l++}r.K=I.adY(J,v,l);v=l+2;break}else if(J[v]=="[".charCodeAt(0)){v++;r.K=[];while(J[v]==" ".charCodeAt(0)||J[v]=="\t".charCodeAt(0)||J[v]=="\n".charCodeAt(0))v++;
while(J[v]!="]".charCodeAt(0)){var M=iU.ey(J,v,x+1,o);r.K.push(M.K);v+=M.size;while(J[v]==" ".charCodeAt(0)||J[v]=="\t".charCodeAt(0)||J[v]=="\n".charCodeAt(0))v++}v++;
break}else{var P=I.indexOf(J," ".charCodeAt(0),v,v+50),S=I.indexOf(J,"\n".charCodeAt(0),v,v+50);if(S==-1)S=Infinity;
if(P==-1)P=Infinity;var c=I.b_(J,v,Math.min(P,S)-v).trim(),b=parseFloat(c);if(!isNaN(b)){r.K=parseFloat(c);
v=Math.min(P,S)+1;break}else if(c=="true"||c=="false"){r.K=c=="true";v=Math.min(P,S)+1;break}else if(c=="null"||c=="NaN"||c=="undefined"){r.K=0;
v=Math.min(P,S)+1;break}else{console.log("unknown identifier: "+c);throw"e"}v=Math.min(P,S)+1}}r.size=v-R;
return r};iU.Hk=function(J,v,x,o){if(J instanceof Array){var R=J.length==0||typeof J[0]=="number";if(R){I.ko(v,x,"[ ");
x+=2;for(var h=0;h<J.length;h++){var r=J[h]+" ";I.ko(v,x,r);x+=r.length}I.ko(v,x,"]");x+=1}else{I.ko(v,x,"[\n");
x+=2;for(var h=0;h<J.length;h++){I.SR(v,x,"\t".charCodeAt(0),o);x+=o;x=iU.Hk(J[h],v,x,o);I.ko(v,x,"\n");
x++}I.SR(v,x,"\t".charCodeAt(0),o);x+=o;I.ko(v,x,"]");x+=1}}else if(J instanceof Object){x=iU.p0(J,v,x,o)}else if(typeof J=="string"){I.ko(v,x,"(");
x++;I.SR(v,x,254);x++;I.SR(v,x,255);x++;x=I.avn(v,x,J);I.ko(v,x,")");x+=1}else{var r=J+"";I.ko(v,x,r);
x+=r.length}return x};iU.aAd=function(J){var v=typeof J;return v=="string"||v=="number"||v=="boolean"};
function dS(){}dS.KE=function(J){var v={};dS.afJ(J,v,0,0);return v};dS.Ce=function(J,v){var x=0;I.ko(v,x," ");
x++;x=dS.ayS(J,v,x,0);x--;v.Cb(x,2);v.data[x]=v.data[x+1]=0;x+=2;return x};dS.QM=function(J,v,x,o){while(J[x]!="<".charCodeAt(0)){x++;
console.log("Å¡ipka")}x+=2;x=dS.afJ(J,v,x,o);return x};dS.p0=function(J,v,x,o){I.ko(v,x,"<< ");x+=3;x=dS.ayS(J,v,x,o);
I.ko(v,x,">>");x+=2;return x};dS.Bz=function(J){return J==9||J==10||J==32};dS.afJ=function(J,v,x,o){while(!0){while(dS.Bz(J[x])||J[x]==0)x++;
if(x>=J.length)break;if(J[x]=="/".charCodeAt(0)){x++;var R=x;while(!dS.Bz(J[R]))R++;var r=I.b_(J,x,R-x);
x=R+1;var l=dS.ey(J,x,o,r);v["_"+r]=l.K;x+=l.size}else if(J[x]==">".charCodeAt(0)){x+=2;break}else{var M=J[x];
console.log(I.b_(J,x,x+100));console.log("unknown byte: "+M+", char: "+String.fromCharCode(M)+", offset: "+x);
x++;throw"e";return-1}}return x};dS.ayS=function(J,v,x,o){for(var R in J){var r=R.substring(1,R.length);
I.ko(v,x,"/"+r);x+=1+r.length;I.ko(v,x," ");x++;x=dS.Hk(J[R],v,x,o+1,r);I.ko(v,x," ");x++}return x};
dS.ey=function(J,v,x,o){var R=v,r={e:"",size:0,K:0};while(dS.Bz(J[v]))v++;if(J[v]=="<".charCodeAt(0)){r.e="Object";
r.K={};v=dS.QM(J,r.K,v,x+1)}else if(J[v]=="(".charCodeAt(0)){r.e="String";v++;if(J[v]==")".charCodeAt(0)){r.K="e";
v++}else if(J[v]==254&&J[v+1]==255){v+=2;var l=v,M=0;while(!0){if(J[l]==")".charCodeAt(0)&&J[l-1]!="\\".charCodeAt(0))break;
else l+=1}r.K="s"+I.adY(J,v,l);v=l+2}else{var l=v;while(J[l]!=")".charCodeAt(0))l++;r.K="s"+I.b_(J,v,l-v);
v=l+1}}else if(J[v]=="[".charCodeAt(0)){v++;r.K=[];r.e="Array";while(dS.Bz(J[v]))v++;while(J[v]!="]".charCodeAt(0)){var P=dS.ey(J,v,x+1,o);
if(P==-1)return-1;r.K.push(P.K);v+=P.size;delete P.size;while(dS.Bz(J[v]))v++}v++}else{var S=v;while(!dS.Bz(J[S]))S++;
var c=I.b_(J,v,S-v),b=parseFloat(c);if(!isNaN(b)&&c.indexOf(".")!=-1){r.e="Float";var w=parseFloat(c);
r.K="f"+w}else if(!isNaN(b)&&c.indexOf(".")==-1){r.e="Integer";r.K="i"+parseInt(c)}else if(c=="true"||c=="false"){r.e="Boolean";
r.K=c=="true"}else if(c.charAt(0)=="/"){r.e="BString";r.K=c}else if(c=="NaN"||c=="undefined"){r.e="Float";
r.K="f0"}else{console.log("unknown value",JSON.stringify(c));throw"e"}v=S+1}r.size=v-R;return r};dS.auD=function(J){if(J==Math.round(J))return J+".0";
var v=J.toFixed(5);while(v.endsWith("0")&&v[v.length-2]!=".")v=v.slice(0,v.length-1);if(0<J&&J<1)v=v.slice(1);
if(-1<J&&J<0)v="-"+v.slice(2);return v};dS.Hk=function(J,v,x,o,R){var r=typeof J=="string"?J.charAt(0):"";
if(J instanceof Array){I.ko(v,x,"[ ");x+=2;for(var h=0;h<J.length;h++){x=dS.Hk(J[h],v,x,o,"");I.ko(v,x," ");
x++}I.ko(v,x,"]");x+=1}else if(J instanceof Object){x=dS.p0(J,v,x,o)}else if(r=="e"){I.ko(v,x,"()");
x+=2}else if(r=="s"){I.ko(v,x,"(");x++;if(R=="97"){I.ko(v,x,J.slice(1));x+=J.length-1}else{I.SR(v,x,254);
x++;I.SR(v,x,255);x++;x=I.avn(v,x,J.slice(1))}I.ko(v,x,")");x++}else if(r=="/"){I.ko(v,x,J);x+=J.length}else if(r=="f"){var l=parseFloat(J.substring(1)),M=dS.auD(l);
I.ko(v,x,M);x+=M.length}else if(r=="i"){I.ko(v,x,J.substring(1));x+=J.length-1}else{var M=J+"";I.ko(v,x,M);
x+=M.length}return x};function I(){}I.agW=function(co){var J="";for(var h=3;h>=0;h--)J+=String.fromCharCode(co>>h*8&255);
return J};I.ayn=function(J){var co=0;for(var h=J.length-1;h>=0;h--)co|=J.charCodeAt(h)<<(3-h)*8;return co};
I.indexOf=function(J,v,x,o){if(x==null)x=0;if(o==null)o=J.length;o=Math.min(o,J.length);for(var h=x;
h<o;h++)if(J[h]==v)return h;return-1};I.CD=function(J,v,x){if(x==null)x=0;var o=v.length,R=J.length-o;
if(typeof v=="string"){var r=[];for(var h=0;h<o;h++)r.push(v.charCodeAt(h));v=r}if(v.length>0){var l=v[0];
for(var h=x;h<R;h++)if(J[h]==l){var M=!0;for(var P=1;P<o;P++)if(v[P]!=J[h+P]){M=!1;break}if(M)return h}}return-1};
I.adY=function(J,v,x){var o=[],r="";while(v<x){var R=J[v++];if(R=="\\".charCodeAt(0))o.push(J[v++]);
else o.push(R)}for(var h=0;h<o.length;h+=2)r+=String.fromCharCode(o[h]<<8|o[h+1]);return r};I.a9g=function(J,v,x){var o=new Uint8Array(2);
for(var h=0;h<x.length;h++){I.fN(o,0,x.charCodeAt(h));if(o[0]==")".charCodeAt(0)||o[0]=="(".charCodeAt(0)||o[0]=="\\".charCodeAt(0)){J[v]="\\".charCodeAt(0);
v++}J[v]=o[0];v++;if(o[1]==")".charCodeAt(0)||o[1]=="(".charCodeAt(0)||o[1]=="\\".charCodeAt(0)){J[v]="\\".charCodeAt(0);
v++}J[v]=o[1];v++}return v};I.avn=function(J,v,x){J.Cb(v,4*x.length);return I.a9g(J.data,v,x)};I.K0=function(J,v,x){var o="";
for(var h=0;h<x;h++){var R=J[v++]|J[v++]<<8;o+=String.fromCharCode(R)}return o};I.Gq=function(J,v,x){var o="";
for(var h=0;h<x;h++){var R=J[v++]<<8|J[v++];o+=String.fromCharCode(R)}return o};I.aqt=function(J,v,x){for(var h=0;
h<x.length;h++){var o=x.charCodeAt(h);I.nU(J,v+2*h,o)}};I.a1V=function(J,v,x){for(var h=0;h<x.length;
h++){var o=x.charCodeAt(h);I.fN(J,v+2*h,o)}};I.a0L=function(J,v,x){J.Cb(v,2*x.length);I.a1V(J.data,v,x)};
I.aqr=function(J,h,v){var x=[],o=0,R=0;v+=h;while(h<v){o=J[h++];if((o&128)==0)R=o;else if((o&224)==192){R=(o&31)<<6;
o=J[h++];R|=o&63}else if((o&240)==224){R=(o&15)<<12;o=J[h++];R|=(o&63)<<6;o=J[h++];R|=o&63}else if((o&248)==240){R=(o&7)<<18;
o=J[h++];R|=(o&63)<<12;o=J[h++];R|=(o&63)<<6;o=J[h++];R|=o&63}else throw"e";x.push(R)}return x};I.aqJ=window.TextDecoder?new window.TextDecoder("utf8"):null;
I.Aq=function(J,v,x){if(v==null)v=0;if(x==null)x=J.length;if(I.aqJ&&v==0&&x==J.length)return I.aqJ.decode(J);
var o=I.aqr(J,v,x),R=o.length;for(var h=0;h<R;h++)o[h]=String.fromCharCode(o[h]);return o.join("")};
I.aoY=window.TextEncoder?new window.TextEncoder("utf8"):null;I.xU=function(J){if(I.aoY)return I.aoY.encode(J);
var v=new Uint8Array(J.length*4),x=I.Ez(J,v,0);return v.slice(0,x)};I.Ez=function(J,v,x){var o=J.length,h=0;
for(var R=0;R<o;R++){var r=J.charCodeAt(R);if((r&4294967295-(1<<7)+1)==0){v[x+h]=r;h++}else if((r&4294967295-(1<<11)+1)==0){v[x+h]=192|r>>6;
v[x+h+1]=128|r>>0&63;h+=2}else if((r&4294967295-(1<<16)+1)==0){v[x+h]=224|r>>12;v[x+h+1]=128|r>>6&63;
v[x+h+2]=128|r>>0&63;h+=3}else if((r&4294967295-(1<<21)+1)==0){v[x+h]=240|r>>18;v[x+h+1]=128|r>>12&63;
v[x+h+2]=128|r>>6&63;v[x+h+3]=128|r>>0&63;h+=4}else throw"e"}return h};I.sq=function(J,v){var x=I.m7(J,v),o=I.Aq(J,v+4,x-1);
return{hO:o,hm:4+x}};I.afZ=function(J,v){var x=I.eA(J,v),o=I.K0(J,v+4,x);return o};I.aX=function(J,v){var x=I.m7(J,v),o=I.Gq(J,v+4,x);
return o};I.B1=function(J,v){var x=I.m7(J,v),o=I.Gq(J,v+4,x-1);return o};I.VE=function(J,v){var x=I.eA(J,v),o=I.K0(J,v+4,x-1);
return o};I.akr=function(J,v,x){I.u1(J,v,x.length);v+=4;I.aqt(J,v,x)};I.axg=function(J,v,x){I.Cu(J,v,x.length);
v+=4;I.a1V(J,v,x)};I.Jm=function(J,v,x){J.Cb(v,4+2*x.length);I.axg(J.data,v,x)};I.alJ=function(J,v,x){J.Cb(v,4+2*x.length);
I.akr(J.data,v,x)};I.W$=function(J,v,x){var o=[];for(var h=0;h<x;h++)o.push(String.fromCharCode(J[v+h]));
return o};I.auk=function(J,v,x){var o=!1,R=J.length-x.length;for(var h=v;h<R;h++){for(var r=0;r<x.length;
r++){if(J[h+r]!=x.charCodeAt(r))break;if(r==x.length-1)return h}}};I.uE=function(J,v,x){var o=I.b_(J,v,4);
if(x)o=o.split("").reverse().join("");return o};I.b_=function(J,v,x){var o="";for(var h=0;h<x;h++)o+=String.fromCharCode(J[v+h]);
return o};I.cO=function(J,v,x){for(var h=0;h<x.length;h++)J[v+h]=x.charCodeAt(h)};I.ko=function(J,v,x){J.Cb(v,x.length);
I.cO(J.data,v,x)};I.aFr=function(J,v,x){var o="";for(var h=0;h<x;h++){var R=J[v+h];if(R<10)o+="  ";else if(R<100)o+=" ";
o+=R+", "}return o};I.H1=function(J,v){return J[v]<<8|J[v+1]};I.fN=function(J,v,co){J[v]=co>>8&255;J[v+1]=co&255};
I.Sj=function(J,v,co){J.Cb(v,4);I.fN(J.data,v,co)};I.Ta=function(J,v){var x=I.H1(J,v),o=I.H1(J,v+2);
return x+o*(1/65536)};I.axi=function(J,v,co){var x=Math.floor(co),o=Math.floor((co-x)*65536);I.fN(J,v,x);
I.fN(J,v+2,o)};I.$y=function(J,v){return J[v+1]<<8|J[v]};I.nU=function(J,v,co){J[v+1]=co>>8&255;J[v]=co&255};
I.AW=function(J,v,co){J.Cb(v,4);I.nU(J.data,v,co)};I.lT=function(J,v){I.C9[0]=J[v+1];I.C9[1]=J[v];return I.O1[0]};
I.oV=function(J,v){I.C9[0]=J[v];I.C9[1]=J[v+1];return I.O1[0]};I.nS=I.fN;I.GS=I.Sj;I.a$=function(J,v){I.lA[0]=J[v+3];
I.lA[1]=J[v+2];I.lA[2]=J[v+1];I.lA[3]=J[v];return I.x9[0]};I.Wz=function(J,v,co){I.x9[0]=co;J[v+3]=I.lA[0];
J[v+2]=I.lA[1];J[v+1]=I.lA[2];J[v+0]=I.lA[3]};I.K3=function(J,v,co){J.Cb(v,4);I.Wz(J.data,v,co)};I.Jy=function(J,v,x,o){x[o+0]=J[v+0];
x[o+1]=J[v+1];x[o+2]=J[v+2];x[o+3]=J[v+3]};I.eA=function(J,v){I.Jy(J,v,I.lA,0);return I.aIv[0]};I.u1=function(J,v,co){I.aIv[0]=co;
I.Jy(I.lA,0,J,v)};I.Te=function(J,v,co){J.Cb(v,4);I.u1(J.data,v,co)};I.aV=function(J,v){I.Jy(J,v,I.lA,0);
return I.x9[0]};I.aI1=function(J,v,co){I.x9[0]=co;I.Jy(I.lA,0,J,v)};I.aIj=function(J,v,co){J.Cb(v,4);
I.aI1(J.data,v,co)};I.m7=function(J,v){var x=J[v]*(256*256*256)+(J[v+1]<<16|J[v+2]<<8|J[v+3]);return x};
I.Cu=function(J,v,co){J[v]=co>>24&255;J[v+1]=co>>16&255;J[v+2]=co>>8&255;J[v+3]=co>>0&255};I.TB=function(J,v,co){J.Cb(v,4);
I.Cu(J.data,v,co)};I.Ih=function(J,v){return I.m7(J,v)<<32|I.m7(J,v+4)};I.adM=function(J,v,co){I.Cu(J,v,co>>16>>16);
I.Cu(J,v+4,co&4294967295)};I.S4=function(J,v,co){J.Cb(v,8);I.adM(J.data,v,co)};I.adO=function(J,v){return I.eA(J,v+4)|I.eA(J,v)<<32};
I.gM=function(J,v){var x=new Uint8Array(8);for(var h=0;h<8;h++)x[h]=J[v+7-h];var o=new Float64Array(x.buffer);
return o[0]};I.$c=function(J,v){var x=new Uint8Array(8);for(var h=0;h<8;h++)x[h]=J[v+h];var o=new Float64Array(x.buffer);
return o[0]};I.Xa=function(J,v,co){var x=new Float64Array(1);x[0]=co;var o=new Uint8Array(x.buffer);
for(var h=0;h<4;h++){var R=o[h];o[h]=o[7-h];o[7-h]=R}for(var h=0;h<8;h++)J[v+h]=o[h]};I.pH=function(J,v,co){J.Cb(v,8);
I.Xa(J.data,v,co)};I.Ll=function(J,v){I.lA[0]=J[v+3];I.lA[1]=J[v+2];I.lA[2]=J[v+1];I.lA[3]=J[v+0];return I.zG[0]};
I.Dm=function(J,v){I.lA[0]=J[v+0];I.lA[1]=J[v+1];I.lA[2]=J[v+2];I.lA[3]=J[v+3];return I.zG[0]};I.PL=function(J,v,co){I.zG[0]=co;
J[v+0]=I.lA[3];J[v+1]=I.lA[2];J[v+2]=I.lA[1];J[v+3]=I.lA[0]};I.a1G=function(J,v,co){J.Cb(v,4);I.PL(J.data,v,co)};
I._z=function(J,v,co){I.zG[0]=co;J[v+0]=I.lA[0];J[v+1]=I.lA[1];J[v+2]=I.lA[2];J[v+3]=I.lA[3]};I.amj=function(J,v,co){J.Cb(v,4);
I._z(J.data,v,co)};I.aql=function(J,v){var x=I.a$(J,v),o=x*(1/(1<<24));return o};I.avm=function(J,v){var x=I.aV(J,v),o=x*(1/(1<<24));
return o};I.axH=function(J,v,x){var o=Math.floor(x*(1<<24));I.Wz(J,v,o)};I.azs=function(J,v,x){J.Cb(v,4);
I.axH(J.data,v,x)};I.xs=function(J,v){var x=J[v],o=I.b_(J,v+1,x);x+=1-x%2;return{tw:o,length:x+1}};I.a3V=function(J,v,x){var o=x.length;
J[v]=o;I.cO(J,v+1,x);if(o%2==0){J[v+1+o]=0;++o}return o+1};I.ES=function(J,v,x){J.Cb(v,x.length+2);return I.a3V(J.data,v,x)};
I.iH=function(J,v,x){var o=x?I.$c:I.gM,R=new bC;R.o5=o(J,v+0*8);R.c=o(J,v+1*8);R.Mz=o(J,v+2*8);R.fn=o(J,v+3*8);
R.zP=o(J,v+4*8);R.jD=o(J,v+5*8);return R};I.op=function(J,v,x){I.Xa(J,v+0*8,x.o5);I.Xa(J,v+1*8,x.c);
I.Xa(J,v+2*8,x.Mz);I.Xa(J,v+3*8,x.fn);I.Xa(J,v+4*8,x.zP);I.Xa(J,v+5*8,x.jD)};I.adS=function(J,v,x){J.Cb(v,48);
I.op(J.data,v,x)};I.ahu=function(J,v){var x=I.Ll(J,v),o=I.Ll(J,v+4),R=I.Ll(J,v+8),r=I.Ll(J,v+12);return new jj(x,o,R-x,r-o)};
I.at6=function(J,v,x){I.PL(J,v,x.x);I.PL(J,v+4,x.y);I.PL(J,v+8,x.x+x.r);I.PL(J,v+12,x.y+x.$)};I.a6W=function(J,v,x){J.Cb(v,16);
I.at6(J.data,v,x)};I.hT=function(J,v,x){var o=x?I.aV:I.a$,R=o(J,v),r=o(J,v+4),l=o(J,v+8),M=o(J,v+12);
return new jj(r,R,M-r,l-R)};I.aaN=function(J,v,x){I.Wz(J,v,x.y);I.Wz(J,v+4,x.x);I.Wz(J,v+8,x.y+x.$);
I.Wz(J,v+12,x.x+x.r)};I._x=function(J,v,x){J.Cb(v,16);I.aaN(J.data,v,x)};I.Ms=function(J,v,x){var o=new Uint8Array(x);
for(var h=0;h<x;h++)o[h]=J[v+h];return o};I.am$=function(J,v,x){J.set(x,v)};I.aJ=function(J,v,x){J.Cb(v,x.length);
I.am$(J.data,v,x)};I.a0D=function(J,v,x,co){if(!co)co=1;for(var h=0;h<co;h++)J[v+h]=x};I.SR=function(J,v,x,co){if(!co)co=1;
J.Cb(v,co);I.a0D(J.data,v,x,co)};I.O1=new Int16Array(1);I.C9=new Uint8Array(I.O1.buffer);I.x9=new Int32Array(1);
I.aIv=new Uint32Array(I.x9.buffer);I.lA=new Uint8Array(I.x9.buffer);I.zG=new Float32Array(I.x9.buffer);
function k3(){}k3.KE=function(J,v){var x=new Uint8Array(J),o=0,R=I.b_(x,o,9),M=4,P=100;o+=9;var r=I.b_(x,o,4);
o+=4;o++;v.r=I.m7(x,o);o+=4;v.$=I.m7(x,o);o+=4;var l=I.m7(x,o);o+=4;if(l!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(r)==-1){P=I.m7(x,o);o+=4;if(parseInt(r.slice(1))>=7){P=P}else alert("Unknown XCF version: "+r);
M=8}var S={};o=k3.Rq(x,o,S);var c=[];o=k3.RK(x,o,c,M);var b=[];o=k3.RK(x,o,b,M);v.Mt=0;for(var h=0;h<c.length;
h++)k3.afA(x,c[h],v,S,M,P);while(v.Mt>0){v.k.push(v.V4());v.Mt--}v.k.reverse();delete v.Mt;v.buffer=g.C(v.r*v.$*4);
if(v.k.length==0)console.log("No layers!!!");for(var h=0;h<b.length;h++){var w=k3.atP(x,b[h],S,M,P);
if(w.f5[kN.aAy])v.g={N:w.WK,S:new jj(0,0,v.r,v.$)}}};k3.afA=function(J,v,x,o,R,r){var l=x.qL(),M=I.m7(J,v),b=0;
v+=4;var P=I.m7(J,v);v+=4;l.S=new jj(0,0,M,P);var S=I.m7(J,v);v+=4;var c=I.sq(J,v);v+=c.hm;l.v7(c.hO);
var w={};v=k3.Rq(J,v,w);if(w[kN.abv]){var U=w[kN.abv];b=U.length/4-1}if(w[kN.RD]){l.S.x=I.a$(w[kN.RD],0);
l.S.y=I.a$(w[kN.RD],4)}if(w[kN.ay5]){l.fc=I.m7(w[kN.ay5],0)}if(w[kN.ah3]){l.add.lsct=h2.Uk;l.eW=24}if(w[kN.aAv]){var F=I.m7(w[kN.aAv],0);
l.gR=kN.aFN[F];if(l.tX()&&l.gR=="norm")l.gR="pass"}if(w[kN.aIn]){if(I.m7(w[kN.aIn],0)==0)l.eW+=2}if(w[kN.a4z]){var Y=I.m7(w[kN.a4z],0);
l.add.lsct=Y&1==1?h2.Uk:h2.Le}if(w[kN.rN]){var A=w[kN.rN];for(var G in A){var n=A[G];if(G=="gimp-text-layer"){var E=k3.aBL(n),K=E.text,e=E.font,$=E.color,N=E["font-size"];
if(K==null&&E.markup){var k=new DOMParser,V=k.parseFromString(E.markup,"image/svg+xml");while(V.firstChild!=null&&V.firstChild.tagName!=null){V=V.firstChild;
var X=V.getAttribute("font"),Q=V.getAttribute("foreground"),L=V.getAttribute("size");if(X!=null)e=X;
if(Q!=null){Q=CSS.qn(Q);$=[1,Q.z/255,Q.H/255,Q.c/255]}if(L!=null){N=""+parseFloat(L)/245}}K=V.textContent}l.add.lnsr="rend";
l.add.TySh=bI.Q6(0,0);l.add.TySh.yW=new jj(0,0,100,100);l.add.TySh.u=new bC(1,0,0,1,l.S.x,l.S.y);var _=l.add.TySh.vv;
bI.Cq(_,0,K);var a=bI.Ni(_,0,0),T=E.justify,f=E["line-spacing"];if($)a.iz.FillColor={Type:1,Values:[1,parseFloat($[1]),parseFloat($[2]),parseFloat($[3])]};
if(N){N=Math.round(parseFloat(N));a.iz.FontSize=N;l.add.TySh.u.jD+=Math.min(17,N*.17)}if(f){f=Math.round(parseFloat(f)+a.iz.FontSize*1.2);
a.iz.Leading=f;a.iz.AutoLeading=!1}if(T)a.u7.Justification=["left","right","center","fill"].indexOf(T);
if(e&&e!="Sans-serif"){var Z=e.toLowerCase(),W="bold italic semi extra regular condensed light".split(" "),D=Z.length;
for(var h=0;h<W.length;h++){var C=Z.indexOf(W[h]);if(C!=-1&&C<D&&Z[C-1]==" ")D=C}if(D!=Z.length)e=e.slice(0,D-1).split(" ").join("")+"-"+e.slice(D).split(" ").join("");
bI.ud(a,e)}bI.qc(_,0,K.length,a);var d=E["box-width"],p=E["box-height"],y=d?parseFloat(d):l.S.r,i=p?parseFloat(p):l.S.$;
bI.IN(_,1);bI.lC(_,[0,0,Math.ceil(y),Math.ceil(i)])}else console.log("Unknown property "+G)}}while(x.Mt>b){x.k.push(x.V4());
x.Mt--}x.Mt=b;if(l.add.lsct==h2.Uk||l.add.lsct==h2.Le)x.Mt++;var t=R==4?I.m7:I.Ih,O=t(J,v);v+=R;var z=t(J,v);
v+=R;if(l.rn()){l.buffer=g.C(l.S.o()*4);var jw=new g.GH(l.S.o());k3.aj1(J,O,jw,o,R,r);g.$P(jw,l.buffer)}if(z!=0){l.pR=new m.V1;
var u=k3.atP(J,z,o,R,r);l.pR.N=u.WK;l.pR.S=l.S.Q();if(w[kN.acQ])l.pR.isEnabled=I.m7(w[kN.acQ],0)==1;
l.pR.color=l.pR.N[0];l.pR.Zv()}if(l.tX())l.S=new jj;x.k.push(l)};k3.aBL=function(J){var v="("+I.Aq(J,0,J.length-1)+")",x=[],o={};
k3.a3j(v,1,x);k3.aF8(x,o);return o};k3.aF8=function(J,v){for(var h=0;h<J.length;h++){var x=J[h],o=x[0];
if(x.length==2)v[o]=x[1];else v[o]=x.slice(1)}};k3.a3j=function(J,v,x){while(!0){if(v>=J.length)throw"e";
var o=J.charAt(v);v++;if(o=="("){var R=[];v=k3.a3j(J,v,R);x.push(R)}else if(o==" "||o=="\n"||o=="\r"){}else if(o==")")return v;
else if(o=="\""){var r=v;while(!0){var l=J[v];v++;if(l=="\"")break;if(l=="\\")v++}x.push(JSON.parse(J.slice(r-1,v)))}else{var r=v-1;
while(J[v]!=" "&&J[v]!=")")v++;x.push(J.slice(r,v))}}};k3.atP=function(J,v,x,o,R){var r=I.m7(J,v);v+=4;
var l=I.m7(J,v);v+=4;var M=I.sq(J,v);v+=M.hm;var P={};v=k3.Rq(J,v,P);var S=new g.GH(r*l),c=o==4?I.m7:I.Ih,b=c(J,v);
v+=o;k3.aj1(J,b,S,x,o,R);return{WK:S.z,f5:P}};k3.aj1=function(J,v,x,o,R,r){var l=I.m7(J,v);v+=4;var M=I.m7(J,v);
v+=4;var P=I.m7(J,v);v+=4;var S=R==4?I.m7:I.Ih,c=S(J,v);v+=R;k3.asB(J,c,x,o,P,R,r)};k3.asB=function(J,v,x,o,R,r,l){var M=I.m7(J,v),c=0,h=0;
v+=4;var P=I.m7(J,v);v+=4;var S=new jj(0,0,M,P);if(l==100||l==150)c=1;else if(l==200||l==250)c=2;else if(l==300||l==350)c=4;
else if(l==500||l==550)c=2;else if(l==600||l==650)c=4;else if(l==700||l==750)c=8;else{alert("unsupported bit depth "+l);
throw"e"}var b=R/c,c=Math.round(R/b),w=[];v=k3.RK(J,v,w,r);var U=new g.GH(64*64*c),F=new jj,Y=o[kN.alY][0],A=[U.z,U.H,U.c,U.o5];
if(b==3)U.o5.fill(255);var G=Date.now();if(w.length!=0)for(var n=0;n<P;n+=64)for(var E=0;E<M;E+=64){var K=Math.min(M-E,64),e=Math.min(P-n,64),$=K*e;
F._h(E,n,K,e);k3.atM(J,w[h++],$*c,Y,b,A);if(l==100||l==150){}else if(l==250){for(var N=0;N<b;N++){var k=A[N];
for(var V=0;V<$;V++){var X=k[V]<<8|k[$+V];k[V]=Math.min(X>>>8,255)}}}else if(l==600){var Q=k3.a9c(),L=new Uint32Array(1),_=new Float32Array(L.buffer);
for(var N=0;N<b;N++){var k=A[N];for(var V=0;V<$;V++){L[0]=k[V]<<24|k[$+V]<<16|k[($<<1)+V]<<8|k[($<<1)+$+V]<<0;
var a=_[0];if(a<0)a=0;else if(a>1)a=1;k[V]=Q[~~(.5+a*1e3)]}}}else console.log("unknown data format",l);
g.Rk(U,F,x,S)}};k3.a9c=function(){var J=k3.a8N;if(J!=null)return J;J=k3.a8N=new Uint8Array(1001);for(var h=0;
h<1001;h++)J[h]=~~(.49+255*g.hR(h*.001));return J};k3.atM=function(J,v,x,o,R,r){if(o==1){for(var l=0;
l<R;l++){var M=r[l],P=0;while(P<x){var co=J[v];v++;if(co<127){var S=J[v];v++;co++;for(var h=0;h<co;h++)M[P+h]=S}else if(co==127){var c=J[v];
v++;var b=J[v];v++;var S=J[v];v++;co=c<<8|b;for(var h=0;h<co;h++)M[P+h]=S}else if(co==128){var c=J[v];
v++;var b=J[v];v++;co=c<<8|b;for(var h=0;h<co;h++)M[P+h]=J[v+h];v+=co}else{co=256-co;for(var h=0;h<co;
h++)M[P+h]=J[v+h];v+=co}P+=co}}}else if(o==2){var w=pako.inflate(J.slice(v)),U=Math.round(w.length/x);
for(var h=0;h<x;h++){var F=h*U;r[0][h]=w[F];r[1][h]=w[F+1];r[2][h]=w[F+2];r[3][h]=U==3?255:w[F+3]}}else alert("Unknown compression "+o)};
k3.RK=function(J,v,x,o){var R=o==4?I.m7:I.Ih;while(!0){var r=R(J,v);v+=o;if(r==0)break;else x.push(r)}return v};
k3.Rq=function(J,v,x){while(!0){var o=I.m7(J,v);v+=4;var R=I.m7(J,v);v+=4;if(o==kN.adl)break;else if(o==kN.rN)x[o]=k3.apC(J,v,v+R);
else x[o]=I.Ms(J,v,R);v+=R}return v};k3.apC=function(J,v,x){var o={};while(v<x){var R=I.sq(J,v);v+=R.hm;
var r=I.m7(J,v);v+=4;if(r!=1)console.log("unknown flags",r);var l=I.m7(J,v);v+=4;o[R.hO]=I.Ms(J,v,l);
v+=l}return o};var kN={adl:0,a2e:1,afj:2,awY:3,aAy:4,aoQ:5,ay5:6,aAv:7,aIn:8,av0:9,aIU:10,acQ:11,atL:12,aeb:13,aA1:14,RD:15,aq8:16,alY:17,aw2:18,akE:19,a7U:20,rN:21,arX:22,axs:23,af2:24,aiN:25,aEr:26,a46:27,agC:28,ah3:29,abv:30,a4z:31,adP:32,aH0:33,ali:34,ae5:35,ako:36,a5n:37,a5B:38,au_:0,aws:1,au5:2,aCx:3,a7W:1,a2p:2,alF:0,aBo:1,aHS:1};
kN.aFN="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var bg=function(){var J=!1,v,x,G=0,K;function o(){var N=I.b_(v,x,4);x+=4;return N[3]+N[2]+N[1]+N[0]}function R(){var N=I.b_(v,x,4);
x+=4;return N}function r(){var N=v[x];x+=1;return N}function l(){var N=I.$y(v,x);x+=2;return N}function M(){var N=I.eA(v,x);
x+=4;return N}function P(){var N=I.aV(v,x);x+=4;return N}function S(){var N=I.eA(v,x);x+=8;return N}function c(){var N=I.Dm(v,x);
x+=4;return N}function b(){var N=I.$c(v,x);x+=8;return N}function w(){var N=I.$y(v,x),k=I.Aq(v,x+2,N);
x+=2+N;return k}function U(){var N=I.eA(v,x),k=I.Aq(v,x+4,N);x+=4+N;return k}function F(N){x=N;var k=[];
while(x!=0){var V=R();if(V!="#FT4"&&V!="#FT3"&&V!="#FT2")throw V;var X=S(),Q=S(),L=S(),_=S(),a=S(),T=M(),f=M(),Z=M(),W=l(),D=r(),C={};
k.push(C);for(var h=0;h<T;h++){var d=M(),p=r();if(p!=0&&p!=1&&p!=2)throw p;var y=[];if(p==0||p==1){var i=S(),t=S(),O=S(),q=M(),z=r(),jw=M(),u=V!="#FT4"?0:M(),iH=null;
if(V=="#FAT"||V=="#FT2"){switch(z){case 1:z=1;break;case 2:z=65;break;case 3:z=129;break;case 4:z=193;
break;default:z=0;break}}if(p==0)iH=w();y=[i,t,O,z,iH]}C["i"+d]=[p,y]}for(var h=0;h<W;h++){var s=l(),bV=l(),jU=S(),hx=I.b_(v,x,s);
x+=s}x=X}k.reverse();for(var eX=1;eX<k.length;eX++){var C=k[eX],et=k[eX]=g.F(k[eX-1]);for(var f7 in C){var iY=C[f7];
if(iY[0]==0)et[f7]=iY;else if(iY[0]==1){iY[1][4]=et[f7][1][4];et[f7]=iY}else if(iY[0]==2)delete et[f7]}}var cd=k.pop(),jV=[];
for(var f7 in cd)jV.push(cd[f7][1]);jV.sort(function(g2,gV){return g2[0]-gV[0]});return jV}function Y(N,k,V,X){while(x<v.length){var Q=r(),T=null;
if(Q==0){if(X){var L=r();if(L!=2){var _=o()}if(L==0)x+=4;X=!1;continue}else{break}}var a=o();if(J)console.log("  ".repeat(k),Q,Q&127,a,N._type);
if(Q>127)T=A(Q,k,V);else T=n(Q,k,V);if(J)console.log("  ".repeat(k),T);N[a]=T}}function A(N,k,V){var X=[];
N=N&127;if(N==43)x+=4;var Q=M();if(N==50){var L=o(),_=l();if(_!=1)throw"e";for(var h=0;h<Q;h++){var a={_status:"NotShared",_type:L};
X.push(a);var T=r();if(T!=0&&T!=1)throw T;Y(a,k+1,V)}}else if(N==41){if(Q>8)throw Q;for(var h=0;h<Q;
h++)X.push((v[x]>>>h&1)==1);x++}else for(var h=0;h<Q;h++){X.push(n(N,k,V,h!=0));if(N==42)N=2}return X}function n(N,k,V,X){var Q=null;
if(N==49){Q={};var L=r();if(L!=0){var _=M();if(V==null){Q._id=_;Q._status=["Shared","Link"][L-1]}if(V&&L==2)Q=V[_];
if(L==1){if(V)V[_]=Q;var a=r(),T=!1;if(a>1)throw a;Q._type=o();if(J)console.log("  ".repeat(k),"new",Q._type,a,x);
if(a==0){while(!0){var f=l();if(f!=0&&f!=1&&f!=2&&f!=3&&f!=4)throw f;if(v[x]!=0){T=!0;break}var Z=l();
if(Z==512)break;var W=o();if(Z==256)break}}Y(Q,k+1,V,T)}}}else if(N==50){Q={_status:"NotShared"};if(r()==1){Q._type=o();
x+=2;Y(Q,k+1,V)}}else if(N==1)Q={type:"byte",value:r()};else if(N==2)Q={type:"uint16",value:l()};else if(N==3)Q={type:"uint32",value:M()};
else if(N==4)Q={type:"uint64",value:S()};else if(N==7)Q={type:"int32",value:P()};else if(N==8)Q={type:"int64",value:S()};
else if(N==9)Q={type:"float32",value:c()};else if(N==10)Q={type:"float64",value:b()};else if(N==21)Q={type:"Vec2i",value:[M(),M()]};
else if(N==23)Q={type:"Vec4i",value:[M(),M(),M(),M()]};else if(N==33)Q={type:"Vec4f",value:[c(),c(),c(),c()]};
else if(N==36)Q={type:"Vec2",value:[b(),b()]};else if(N==38)Q={type:"Vec4",value:[b(),b(),b(),b()]};
else if(N==40)Q={type:"Vec6",value:[b(),b(),b(),b(),b(),b()]};else if(N==41)Q={type:"bool",value:r()!=0};
else if(N==42)Q={type:"Enum",value:M()};else if(N==43)Q={type:"string",value:U()};else if(N==44){if(X!=!0)G=l();
Q={type:"curv16",value:[b(),G==12?[r(),r(),r(),r()]:[M(),M()]]}}else if(N==45){var D=M();Q={type:"buff",value:v.slice(x,x+D)};
x+=D}else if(N==47){Q={type:"uint32",value:M()}}else if(N==48){var C=[],d=l();if(d!=1)throw d;while(!0){if(v[x]==135){var p=A(r(),k+1,V),y=A(r(),k+1,V),i=A(r(),k+1,V);
C.push([p,y,i])}else{var t=1;if(v[x]==3){r();t=M()}for(var h=0;h<t;h++){if(r()!=41)throw"e";var _=r();
if(_!=0&&_!=1)throw _;if(r()!=172)throw"e";var O=M(),q=l(),z=[];C.push(z);if(q!=18)throw q;if(O>4e3)throw O;
for(var jw=0;jw<O;jw++)z.push([b(),b(),r(),r()])}}if(v[x]==0){x++;break}}Q={type:"curve",value:C}}else if(N==51){Q={type:"EmbeddedData"};
Q[o()]=U()}else if(N==52)Q={type:"uint32",value:M()};else if(N==56)Q={type:"Color32",value:[r(),r(),r(),r()]};
else if(N==60)Q={type:"ColorGRAY",value:[c(),c()]};else if(N==68)Q={type:"ColorRGBA",value:[c(),c(),c(),c()]};
else if(N==72)Q={type:"ColorCMYK",value:[c(),c(),c(),c(),c()]};else{throw N}return N==49||N==50||N==51?Q:Q.value}function E(N){var k=0,V=N.length;
for(var h=0;h<V;h+=4){N[h]=k=k+N[h];N[h+1]=k=k+N[h+1];N[h+2]=k=k+N[h+2];N[h+3]=k=k+N[h+3]}}function e(N){v=N;
x=4;var k=M(),V=R();if(V!="nsrP")throw V;var V=R();if(V!="#Inf")throw V;var X=S();K=S();var Q=S(),L=S(),_=S(),a=M(),T=M(),V=R();
if(V!="Prot")throw V;var a=M(),f=F(X),Z={},W=Date.now();for(var D=0;D<f.length;D++){var C=f[D],d=C[3],q=null;
x=C[0];var V=R();if(V!="#Fil")throw V;var y=d>>>5&1,i=d&3,t=d&192;switch(t){case 64:t=1;y=0;break;case 128:t=2;
break;case 192:t=3;break;default:t=0;y=0}var O=new Uint8Array(v.buffer,x,C[2]);if(i==0)q=O;else if(i==1)q=pako.inflate(O);
else if(i==2)q=d2.s9.Hy(O,C[1]);else throw i;if(y==0){if(t==1)E(q);if(t==2)throw"e"}else if(y==1){if(t==2)E(q);
else throw t}else throw y;Z[C[4]]=q}return Z}function $(N){var k=e(new Uint8Array(N));v=k["doc.dat"];
x=16;var V={};Y(V,0,[]);return[k,V,K]}return{ajW:$}}();function cW(){}cW.KE=function(){function J(Y,A){var G=Date.now(),n=bg.ajW(Y),E=n[0],K=n[1],e=n[2],$=K.DocR,N=$.DfSz,k=$.Chld;
if(k.length!=1)console.log(k);var V=k[0],X=V.SprB;k=V.Chld;if(X){A.r=~~X[2];A.$=~~X[3]}else{A.r=1920;
A.$=1080}A.buffer=g.C(A.r*A.$*4);var Q=[0,{}];for(var h=0;h<k.length;h++)r(k[h],A,E,new bC,Q,[],0);A.Dy(Q[0]);
console.log(Date.now()-G,"Document created");G=Date.now()}function v(Y){return new bC(Y[0],Y[3],Y[1],Y[4],Y[2],Y[5])}function x(Y,A){var G=A.Xfrm;
G=G?v(G):new bC;G.concat(Y);return G}function o(Y){var A={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[Y];
return A?A:"norm"}function R(Y,A){var G=Y[A],n=Y.DsMa;if(G==null&&n)G=n[A];return G}function r(Y,A,G,n,E,K,e){var $=Y._type,N=Y.Chld,k=A.qL();
k.v7(Y.Desc==null||Y.Desc==""?$=="Grup"?"Folder":"Layer":Y.Desc);var V=R(Y,"Visi");if(V!=null)k.G0(V);
var X=R(Y,"Opac");if(X!=null)k.fc=Math.round(255*X);var Q=R(Y,"FOpc");if(Q!=null)k.add.iOpa=Math.round(255*Q);
var L=R(Y,"Blnd");if(L!=null)k.gR=o(L);if(Y.BFFl&&Y.BFFl[0])K.push(Y.BFFl[0]);var _=x(n,Y),a=$=="ShpN"||$=="PCrv";
if(N){A.k.push(A.V4());k.add.lsct=h2.Uk;if(k.gR=="norm")k.gR="pass";k.eW=24;if(V!=null)k.G0(V);if($=="ShpN"&&e==0){var T=Y.ShpB;
k.$V(new jj(T[0]+_.zP,T[1]+_.jD,Math.round(_.o5*(T[2]-T[0])),Math.round(_.fn*(T[3]-T[1]))));E[0]++;k.add.artb.Clr={t:"Objc",v:g.UH.YK({z:255,H:255,c:255})};
var f=K[0];for(var h=0;h<K.length;h++)if(K[h].FDeF._type!="FilN")f=K[h];if(f.FDeF._type=="FilS"){k.add.artb.Clr=S(f.FDeF.Colr);
k.add.artb.artboardBackgroundType.v=4}}var Z=Y.Shpe?Y:null;if(Z==null)Z=Y.DsMa&&Y.DsMa.Shpe?Y.DsMa:null;
if(Z){var W=M(Z);if(W.X.length!=7){k.add.vmsk=W;g.I.Xi(W.X,_);k.Tr();k.B0(A)}}for(var h=0;h<N.length;
h++)r(N[h],A,G,_,E,K,e+1)}else if($=="Rstr"||$=="ImgN"||$=="MRst"){var D=R(Y,"Bitm"),C=D.Bckg,d=Date.now(),p;
if(C==null){p=b(D,G,E[1]);k.S=p[2].Q();k.buffer=p[1].slice(0);k.S.x+=_.zP;k.S.y+=_.jD}if(C||_.Nf()!=1){var y,i=0,t=0;
if(C){var O=G[C.Data],q=I.CD(O,"ataD")+4,z=I.eA(O,q);q+=4;y=O.slice(q,q+z)}else{i=k.S.x-_.zP;t=k.S.y-_.jD;
if(p[3]==null)p[3]=new Uint8Array(d2.s$("PNG").lS([[k.buffer.buffer]],k.S.r,k.S.$));y=p[3].slice(0)}var jw=A.P2(y,k.getName(),0,0);
jw.eW=k.eW;jw.fc=k.fc;k=jw;var u=new bC;u.translate(i,t);u.concat(_);var iH=k.S.Q();iH.x=iH.y=0;var s=g.b.ho(iH).T;
g.b.u(s,u,s);k.add.SoLd.Trnf=H.ge.y7(s);k.add.SoLd.nonAffineTransform=H.ge.y7(s);k.IY(A,!1)}}else if($=="TxtA"||$=="TxtF"){k.add.lnsr="rend";
k.add.TySh=bI.Q6(0,0);k.add.TySh.yW=new jj(0,0,100,100);var bV=Y.TxtH?Y:Y.DsMa,jU=bV.TxtH.FrmB,hx=1,eX=1,et=k.add.TySh.u=new bC,g2=0;
et.translate(jU[0],jU[1]);et.concat(_);if($=="TxtF"){var f7=Math.atan2(-et.c,et.o5);et.rotate(-f7);hx=et.o5;
eX=et.fn;et.fn=et.o5=1;et.rotate(f7)}var iY=k.add.TySh.vv,cd=bV.StSt;if(cd==null)cd=bV.StMa.StSt;var jV=cd.Blok;
if(jV.length!=1)throw"e";for(var gV=0;gV<jV.length;gV++){var fD=jV[gV],j4=g2,dQ=0,eO=fD.Glyp.Utf8;if(eO==null)continue;
eO=eO.replace(/\u2028/g,"\n");eO=eO.replace(/\u2029/g,"\n");eO=eO.slice(0,eO.length-1);if(eO=="")continue;
k.v7(eO.slice(0,255));bI.Cq(iY,g2,eO);g2+=eO.length;var a7=fD.GAtt.Runs,cc=fD.PAtt.Runs[0],ad=cc.Item.Ints[0];
for(var jC=0;jC<a7.length;jC++){var iJ=a7[jC],kJ=iJ.Indx,jr=iJ.Item,fY=jr.Objs,iR=bI.Ni(iY,j4,1);iR.u7.Justification=ad==0?0:ad==1?2:1;
bI.ud(iR,jr.DFnt.Post);iR.iz.FontSize=jr.Doub[0];for(var h=0;h<fY.length;h++){var g6=fY[h];if(g6._type=="FDsc"){var ay=g6.FDeF;
if(ay._type=="FilS"){var cQ=c(ay.Colr);iR.iz.FillColor={Type:1,Values:[1,cQ[0],cQ[1],cQ[2]]}}}}bI.qc(iY,j4+dQ,j4+Math.min(kJ,eO.length),iR);
dQ=kJ}}bI.IN(iY,1);bI.lC(iY,[0,0,Math.round((jU[2]-jU[0])*hx*1.02),Math.round((jU[3]-jU[1])*eX*1.2)]);
A.C4=!0}else if(a){k.eW|=16;var aC=k.add.vstk=gD.gB.ow(!0),W=k.add.vmsk=M(Y);g.I.Xi(W.X,_);var f=K[0];
for(var h=0;h<K.length;h++)if(K[h].FDeF._type!="FilN")f=K[h];if(f){var dI=f.FDeF,fm=dI._type;if(fm=="FilS")k.add.SoCo={classID:"null",Clr:S(dI.Colr)};
else if(fm=="FilG"){var hd=k.add.GdFl=JSON.parse(gD.Sy[gD.order.indexOf("GrFl")]);P(f,hd,g.I.Or(W.X))}else if(fm=="FilN"){k.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:0,H:0,c:0})}};
aC.fillEnabled.v=!1}else console.log(fm)}if(Y.LILn){var ku=Y.LILn[0].LDeL,cp=ku.Wght;if(cp!=0){aC.strokeEnabled.v=!0;
aC.strokeStyleLineWidth.v.val=cp;var dI=Y.LIFl[0].FDeF,fm=dI._type;if(fm=="FilS")aC.strokeStyleContent.v.Clr=S(dI.Colr);
else if(fm=="FilN")aC.strokeEnabled.v=!1}}k.Tr();k.B0(A)}else if($=="RcRA"){var hp=Y.AdjP,gA="hue2",jN=k.add[gA]=a8.ow(gA);
l(jN,hp)}else console.log($);var d4=Y.AdCh,ey=[];if(d4)for(var h=0;h<d4.length;h++){var jG=d4[h],cF=jG._type;
if(cF=="ShpN"||cF=="PCrv"){var W=k.add.vmsk=M(jG),f5=x(_,jG);g.I.Xi(W.X,f5);k.Tr();k.B0(A)}else if(jG.AdjP){var hp=jG.AdjP,jW=hp._type;
console.log(jW);var f$={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[jW];
if(f$==null){console.log(hp);continue}var bh=a8.Hs(f$,{});ey.push(bh);var jN=bh.v.Fltr.v;if(jW=="LevP"){var ii=je.Tc(jN,0);
ii[0]=hp.OutB*255;ii[1]=hp.OutW*255;je.tM(jN,0,ii)}else if(jW=="WhBP"){var ii=je.Tc(jN,2);ii[4]=100+hp.WBTi*20;
je.tM(jN,2,ii);var ii=je.Tc(jN,3);ii[4]=100+hp.WBTi*200;je.tM(jN,3,ii)}else if(jW=="HSSP"){var ii=ic.Tc(jN,0);
ii[0]=Math.round(hp.HueA*256);ii[1]=Math.round(hp.SatA*256);ii[2]=Math.round(hp.LumA*256);ic.tM(jN,0,ii)}else if(jW=="RecP"){l(jN,hp)}else if(jW=="B&CP"){jN.Brgh.v=Math.round(hp.Brig*100);
jN.Cntr.v=Math.round(hp.Ctrs*100-100)}else if(jW=="PosP"){jN.Lvls.v=hp.Post}else if(jW=="VibP"){jN.vibrance.v=hp.Vibr-100;
jN.Strt.v=Math.round(hp.Satu*100)}else if(jW=="ExpP"){jN.Exps.v=hp.Expo;jN.gammaCorrection.v=hp.Gamm/2.2}else if(jW=="ThrP"){jN.Lvl.v=Math.round(hp.Thre*255)}else if(jW=="CrvP"){var dM=hp.Mast["Cnt "],b7=hp.Mast.Vals,ii=k1.Tc(jN,0),bz=ii[0];
for(var cZ=0;cZ<dM;cZ++){var e4=ii[cZ]=g.F(bz);e4.v.Hrzn.v=Math.round(b7[cZ]*255);e4.v.Vrtc.v=Math.round(b7[4+cZ]*255)}k1.tM(jN,0,ii)}}else console.log(jG)}if(ey.length!=0&&k.add.SoLd){k.add.SoLd.filterFX=a8.Ky();
A.Dj({id:k.add.SoLd.placed.v,S:new jj,buffer:g.C(1),pR:new m.V1});k.add.SoLd.filterFX.v.filterFXList.v=ey;
k.IY(A,!1)}var fI=Y.FiEf;if(fI&&fI.length!=0){var aI=k.add.lmfx=JSON.parse(gD.default);for(var h=0;h<gD.order.length;
h++)aI[gD.Lw[h]]={t:"VlLs",v:[]};for(var iV=0;iV<fI.length;iV++){var k6=fI[iV],bq=k6._type,cq={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[bq],hd=cq?JSON.parse(gD.Sy[gD.order.indexOf(cq)]):null,ib=1;
if(bq=="ColO"){hd.Clr=S(k6.Colr)}else if(bq=="GrdO"){P(k6.GrFl,hd)}else if(bq=="Shad"||bq=="InnS"||bq=="OutG"||bq=="InnG"){hd.Clr=S(k6.Colr);
hd.blur.v.val=Math.round(k6.Radi);var jD=k6.Comp;if(jD!=null){if(jD>.5)ib=1-.5*(jD-.5);else hd.Ckmt.v.val=Math.round(100*(.5-jD))}if(k6.Offs!=null){hd.Dstn.v.val=k6.Offs;
hd.lagl.v.val=Math.round(180-k6.Angl*180/Math.PI);hd.uglg.v=!1}}else if(bq=="Strk"){if(k6.Ftyp==0)hd.Clr=S(k6.Colr);
else{P(k6.GrFl,hd);hd.PntT.v.FrFl="GrFl"}hd.Sz.v.val=Math.round(k6.Radi)}else if(bq=="PhgB"||bq=="BevE"){hd.blur.v.val=Math.round(k6.Radi);
if(bq=="BevE")hd.bvlS.v.BESl="PlEb"}else if(bq=="Gaus"){if(a&&k6.Enab){k.add.vmsk.p5=k6.Radi/2.4;k.add.vmsk.px=!0;
k.Tr();k.B0(A)}}if(cq){hd.enab.v=k6.Enab;if(hd.Md&&k6.BlnM!=null)hd.Md.v.BlnM=gX.Pp(o(k6.BlnM));if(hd.Opct&&k6.Opac!=null)hd.Opct.v.val=Math.round(ib*k6.Opac*100);
var eL=gD.Lw[gD.order.indexOf(cq)];aI[eL].v.unshift({t:"Objc",v:hd})}}}if(Y.BFFl&&Y.BFFl[0])K.pop();
A.k.push(k)}function l(Y,A){Y.Clrz.v=!0;var G=ic.Tc(Y,0);G[0]=Math.round(A.RecH*360);G[1]=Math.round(A.RecS*100);
G[2]=Math.round(A.RecL*100);ic.tM(Y,0,G)}function M(Y){var A=new m.e_,G=Y._type;if(Y.ShpB==null&&Y.Crvs==null)Y=Y.DsMa;
if(G=="PCrv"){var n=Y.Crvs.Data,E=[],K=[];for(var h=0;h<n.length;h++){var e=n[h],$=e.length%3;if($!=1){e=$==2?e[0][2]!=0?e.slice(0,e.length-1):e.slice(1):e.slice(1,e.length-1)}for(var N=0;
N<e.length;N++){var k=e[N],V=k[2];if(V!=0)E.push(N==0?"M":"C");K.push(k[0],k[1])}}A.X=g.b.ZX({T:K,Wp:E},!0)}else{var X=Y.ShpB,Q=Y.Shpe,L=Q._type,_=X[2]-X[0];
if(L=="ShpE"){A.X=g.I.yu.Bd(X[0],X[1],X[2]-X[0],X[3]-X[1])}else if(L=="ShNR"){var a=[0,0,0,0];if(Q.CTyp){a=Q.ShCR.slice(0);
for(var h=0;h<4;h++)a[h]*=X[2]-X[0];for(var h=1;h<4;h++)a[h]=a[0]}A.X=g.I.yu.Rect(X[0],X[1],X[2]-X[0],X[3]-X[1],a)}else if(L=="ShpT"){A.X=g.b.ZX({Wp:["M","L","L","Z"],T:[X[0],X[3],X[2],X[3],X[0]+_*.5,X[1]]},!0)}else if(L=="ShTz"){A.X=g.b.ZX({Wp:["M","L","L","L","Z"],T:[X[0]+_*Q.PosL,X[1],X[0]+_*Q.PosR,X[1],X[2],X[3],X[0],X[3]]},!0)}else{console.log("--",L);
A.X=g.I.yu.Rect(X[0],X[1],X[2]-X[0],X[3]-X[1],[0,0,0,0])}}return A}function P(Y,A,G){var n=Y.FDeF,E=Y.FDeX;
if(E)E=v(E);var K=n.Grad,e=K.Cols;A.Type.v.GrdT=n.Type==0?"Lnr":"Rdl";var $=[];for(var h=0;h<e.length;
h++){var N=c(e[h]);$.push([K.Posn[h][0],N])}A.Grad.v.Intr.v=0;g.UH.w5($,A.Grad.v);var k=K.Posn,V=new aG(k[0][0],k[0][1]),X=new aG(k[1][0],k[1][1]);
if(E){var Q=new bC;if(G==null)Q.translate(-.5,-.5);Q.concat(E);if(G==null)Q.translate(.5,.5);V=Q.Xw(V);
X=Q.Xw(X)}if(n.Type==0)V=new aG((V.x+X.x)/2,(V.y+X.y)/2);g.UH.eb(V,X,G?G:new jj(0,0,1,1),A)}function S(Y){var A=c(Y);
return{t:"Objc",v:g.UH.YK({z:A[0]*255,H:A[1]*255,c:A[2]*255})}}function c(Y){var A=Y._col,G=Y._type;
if(G=="HSLA"){var n=g.aS(A[0],A[1],A[2]);return[n.z,n.H,n.c,A[3]]}else if(G=="RGBA")return A;else if(G=="CMYK")return g.D4(A);
else if(G=="GRAY")return[A[0],A[1],A[2]];else if(G=="Pant")return Y.srgb._col;else{console.log(A);throw G}}function b(Y,A,G){var n=Y.Frmt,T="";
if(n!=0&&n!=1&&n!=4&&n!=6)throw n;var E=Y.BmpW,K=Y.BmpH,e=n==1?128:256,$=n==4?5:n==0||n==1?4:1,N=Math.ceil(E/e),k=Math.ceil(K/256),V=new jj(0,0,N,k),X=new jj;
for(var h=0;h<$;h++){var Q=new Uint8Array(Y["Sta"+(h+1)]);for(var L=0;L<Q.length;L++)if(Q[L]==1)Q[L]=0;
var _=g.X5(Q,V);X=X.h0(_)}var a=[];for(var h=0;h<$;h++){var Q=new Uint8Array(Y["Sta"+(h+1)]),f=g.C(X.o());
g.Cc(Q,V,f,X);a[h]=[];for(var L=0;L<f.length;L++)a[h][L]=f[L];T+=JSON.stringify(a[h])+","+JSON.stringify(Y["Idx"+(h+1)])+","}if(G[T]==null){var Z=X.r*e,W=X.$*256,D=new Array($);
for(var h=0;h<$;h++){var Q=D[h]=new Uint8Array(Z*W);w(Q,Y["Idx"+(h+1)],a[h],A,Z,W,e)}var C=g.C(Z*W*4);
if(n==0||n==1)g.$P({z:D[0],H:D[1],c:D[2],o5:D[3]},C);else if(n==4){for(var h=0;h<D[0].length;h++){var d=h*4,p=D[0][h]*(1/255),y=D[1][h]*(1/255),i=D[2][h]*(1/255),t=D[3][h]*(1/255),O=UDOC.C.cmykToRgb([p,y,i,t]);
C[d]=O[0]*255;C[d+1]=O[1]*255;C[d+2]=O[2]*255;C[d+3]=D[4][h]}}else{C.fill(255);g.QR(D[0],C)}var q=new jj(0,0,Z,W),z={buffer:C,S:q};
g.oo(z);G[T]=[z.S,z.buffer]}var _=G[T][2]=G[T][0].Q();_.x+=X.x*e;_.y+=X.y*256;return G[T]}function w(Y,A,G,n,E,K,e){var $=0,N=E>>>(e==256?8:7),k=K>>>8;
for(var V=0;V<k;V++)for(var X=0;X<N;X++){var Q=X*e,L=V*256,_=V*N+X,a=L*E+Q,T=G[_];if(T<=1){}else if(T==2)U(Y,a,255,E,e,256);
else if(T==4){var f=A[$];$++;var Z=n[f.Data.DatI],W=f.Rect;if(W==null)W=[0,0,e,256];F(Y,(L+W[1])*E+Q+W[0],Z,W[1]*e+W[0],E,e,W[2]-W[0],W[3]-W[1])}else console.log(T)}}function U(Y,A,G,n,E,K){var e=A+n*K;
for(;A<e;A+=n){var $=A+E;for(var N=A;N<$;N++){Y[N]=G}}}function F(Y,A,G,n,E,K,e,$){var N=A+E*$,k=n+K*$;
for(;A<N&&n<k;A+=E,n+=K){for(var h=0;h<e;h++)Y[A+h]=G[n+h]}}return J}();function bb(){}bb.KE=function(J,v){var x=bb,o=fC.parse(J),r=0;
if(o.pages.length>1)console.log(o.pages.length,"pages");var R=[],l=new jj;for(var M=0;M<o.pages.length;
M++){var P=o.pages[M],S=P.layers,c=x.ni(S,M),w=!1;if(c.o()>8e3*8e3||c.r>3e4||c.$>3e4){x.aDW(S,!0);var b=x.ni(S,M);
if(b.o()>=c.o())x.aDW(S,!1)}c=x.ni(S,M);for(var U=0;U<S.length;U++){var F=S[U];if(x.dR(F)=="artboard")w=!0}if(!w){console.log("no artboard");
var Y={};for(var A in P)Y[A]=P[A];Y._class="group";P.layers=[Y]}R.push(c.Q());if(c.L3())continue;c.x=0;
c.y=r;r+=c.$+200;l=l.h0(c)}var G={};if(o.foreignSymbols)for(var h=0;h<o.foreignSymbols.length;h++){var n=o.foreignSymbols[h].symbolMaster;
G[n.symbolID]={yA:n}}x.a7G(o.pages,G,v);for(var E in G){var F=G[E].yA,K=x.aGO(F.layers)}var e=bb.i5(l,8192*8192);
v.C4=!0;v.r=Math.round(l.r/e);v.$=Math.round(l.$/e);v.buffer=g.C(v.r*v.$*4);v.Dy(o.pages[0].layers.length);
v.mW={};v.E1=[];r=0;for(var M=0;M<o.pages.length;M++){var $=o.pages[M],c=R[M],N=new bC(e,0,0,e,c.x,c.y-r);
x.BZ($.layers,v,N,o,G,{},[]);r+=c.$+200}delete v.mW;delete v.E1;if(e!=1)alert("File scaled down "+e+"x");
v.anp()};bb.a0w=0;bb.dR=function(J){return J._class?J._class:J.$class};bb.i5=function(J,v){var x=1;while(Math.round(J.r/x)*Math.round(J.$/x)>v||Math.max(Math.round(J.r/x),Math.round(J.$/x))>3e4)x++;
if(window.axk)return x;if(x!=1&&!window.confirm("Your image is quite large ("+J.r+" x "+J.$+" px).\n"+"Press OK to scale it down "+x+"x, or Cancel to keep the size."))x=1;
return x};bb.ni=function(J,v){var x=[],o=bb;for(var R=0;R<J.length;R++){var r=J[R],l=o.hT(r.frame);if(v==0||o.dR(r)=="artboard")x.push(l)}return g.S.Jr(x)};
bb.aDW=function(J,v){var x=[],o=bb;for(var R=0;R<J.length;R++){var r=J[R],l=o.hT(r.frame);l.r+=150;l.$+=150;
x.push(l)}var M=g.S.Jr(x);g.S.amB(x,v);var P=g.S.Jr(x);if(P.o()*1.5<M.o()||M.r>3e4&&P.r<=3e4||M.$>3e4&&P.$<=3e4){alert("Re-arranging artboards");
for(var R=0;R<J.length;R++){var S=x[R],r=J[R],c=r.frame;c.x=S.x;c.y=S.y}}};bb.a7G=function(J,v,x){if(J==null)return;
var o=bb;for(var R=0;R<J.length;R++){var r=J[R],l=o.dR(r);if(["page","artboard","group"].indexOf(l)!=-1)o.a7G(r.layers,v,x);
else if(l=="symbolMaster")v[r.symbolID]={yA:r}}};bb.aGO=function(J){var v=bb;for(var x=0;x<J.length;
x++){var o=J[x],R=v.dR(o),r=null;if(["page","artboard","group"].indexOf(R)!=-1)r=v.aGO(o.layers);if(R=="symbolMaster"||R=="symbolInstance")r=o;
if(r!=null)return r}return null};bb.BZ=function(J,v,x,o,R,r,l){if(J==null)return;var M=bb,P=[];for(var S=0;
S<J.length;S++){var c=J[S],b=c.frame?M.hT(c.frame):null,w=c.style,G="",N=null,k=!1;if(w==null){console.log("no styles")}var U=M.ahO(c,x),F=M.dR(c),Y=F=="shapeGroup"||F=="shapePath"||F=="rectangle"||F=="oval"||F=="triangle"||F=="polygon",A=["page","artboard","group"].indexOf(F)!=-1;
if(F=="shapeGroup"){for(var h=0;h<c.layers.length;h++)if(M.dR(c.layers[h])=="shapeGroup")A=!0}var n=c.exportOptions;
if(n){var E=n.exportFormats;if(E==null)E=n.sizes;if(F!="artboard"&&(E&&E.length!=0)){var K=E[0].scale}}var e=v.qL();
e.G0(c.isVisible);var $=c.name;if(!(typeof $=="string"))$=F;e.v7(G+$.slice(0,250));if(w!=null)N=M.azo(o,v,w,b,U,e.getName(),Y||F=="artboard"||A);
if(F=="rectangle"&&w&&w.fills&&w.fills[0]){var V=w.fills[0];if(V.fillType==4&&V.patternFillType>1&&V.image!=null)k=!0}if(c.shouldBreakMaskChain){while(P.length!=0)M.afC(P.pop(),v)}if(A){e.add.lsct=c.layerListExpandedType==2?h2.Uk:h2.Le;
e.gR="pass";e.eW=24;e.G0(c.isVisible);v.k.push(v.V4());if(F=="artboard"){var X=b.Q(),Q=U.Nf();X.x=-Math.floor(U.zP/Q);
X.y=-Math.floor(U.jD/Q);X.r=Math.floor(X.r/Q);X.$=Math.floor(X.$/Q);e.$V(X);var L=c.backgroundColor,_=L?{z:255*L.red,H:255*L.green,c:255*L.blue}:{z:255,H:255,c:255};
e.add.artb.Clr={t:"Objc",v:g.UH.YK(_)};e.add.artb.artboardBackgroundType={t:"long",v:4}}M.BZ(c.layers,v,U,o,R,r,l)}else if(Y&&!k){var a=N!=null&&N.frameFXMulti.v.length==1;
e.add.vmsk=new m.e_;e.add.vstk=gD.gB.ow(!0,a);var T=w?w.fills:null,f=w?M.avu(o,T,b,U,e.getName(),v,M.cR(l,c.do_objectID+"_image")):[];
if(f.length==0){if(a)e.add.vstk.fillEnabled.v=!1;else e.add.iOpa=0;e.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:0,H:0,c:0})}}}else{var Z=f[0],W=null,D=null;
if(Z.e=="SoFi"){W="SoCo";D=gD.AG}if(Z.e=="GrFl"){W="GdFl";D=gD.Zy}if(Z.e=="patternFill"){W="PtFl";D=gD.eH}if(W!=null){e.add[W]={classID:"null"};
for(var h=0;h<D.length;h++){var C=D[h];e.add[W][C]=Z.K.v[C]}var d=Z.K.v.Opct.v.val;if(a&&d==0)e.add.vstk.fillEnabled.v=!1;
else e.add.iOpa=Math.round(255*d/100)}}e.eW|=16;e.add.vmsk.X=M.Yw(c.layers?c.layers:[c],c.layers?U:x);
var p=w?w.blur:null;if(p&&p.isEnabled&&p.type<=1)e.add.vmsk.p5=p.radius;if(e.add.vmsk.X.length==2){console.log("shape with no content:",e.getName())}if(a){var y=N.frameFXMulti.v[0].v,i=e.add.vstk,t=w.borders[0];
N.frameFXMulti.v=[];iD.a3K(y,i);var O=w.borderOptions,q=w.miterLimit;if(O)gD.gB.write(i,{yd:O.lineCapStyle,$h:O.lineJoinStyle,Wy:O.dashPattern,M0:q})}e.Tr();
e.B0(v)}else if(F=="bitmap"||k){if(!k&&c.image==null)continue;var z=k?w.fills[0]:null,jw=k?z.image.bdata:c.image.bdata,u=v.P2(jw,e.getName(),0,0);
u.eW=e.eW;e=u;var p=w?w.blur:null,s=w?w.colorControls:null;if(p||s){e.add.SoLd.filterFX=a8.Ky();v.Dj({id:e.add.SoLd.placed.v,S:new jj,buffer:g.C(1),pR:new m.V1});
var T=e.add.SoLd.filterFX.v.filterFXList.v;if(p){var bV=a8.Hs("GsnB",{});bV.v.enab.v=p.isEnabled;bV.v.Fltr.v.Rds.v.val=p.radius;
T.push(bV)}if(s){var jU=s.brightness,hx=s.contrast,eX=s.hue,f7=s.saturation;if(eX!=0||f7!=1){var bV=a8.Hs("hue2",{});
bV.v.enab.v=s.isEnabled;ic.tM(bV.v.Fltr.v,0,[Math.round(eX*180/Math.PI),Math.round((f7-1)*100),0]);T.push(bV)}if(jU!=0||hx!=1){var bV=a8.Hs("brit",{});
bV.v.enab.v=s.isEnabled;hx=hx-1;if(hx>0)hx/=2;var iY=bV.v.Fltr.v;iY.Brgh.v=Math.round(jU*255);iY.Cntr.v=Math.round(hx*255);
iY.useLegacy.v=!0;T.push(bV)}}}if(k){var cd=z.patternFillType;if(cd==3){var jV=e.S.r/e.S.$,g2=b.r/b.$;
if(jV<g2){U.translate(-(b.r*(1-jV/g2))/2,0);U.scale(g2/jV,1)}else{U.translate(0,-(b.$*(1-g2/jV))/2);
U.scale(1,jV/g2)}}}b.x=b.y=0;var gV=g.b.ho(b).T;U.SV();g.b.u(gV,U,gV);e.add.SoLd.Trnf=H.ge.y7(gV);e.add.SoLd.nonAffineTransform=H.ge.y7(gV);
e.IY(v,!1)}else if(F=="text"){if(c.attributedString==null)continue;var fD=U.Q(),j4,dQ,jC=0;fD.SV();fD.o5=fD.fn=Math.min(fD.o5,fD.fn);
e.add.lnsr="rend";e.add.TySh=bI.Q6(0,0);e.add.TySh.yW=new jj(0,0,b.r,b.$);e.add.TySh.u=fD;var eO=c.attributedString;
if(eO.archivedAttributedString)eO=eO.archivedAttributedString;var a7=eO.NSString;if(a7==null)a7=eO.string;
if(a7==null)a7="";if(a7["NS.string"])a7=a7["NS.string"];if(r[c.do_objectID]!=null)a7=r[c.do_objectID];
var cc=M.cR(l,c.do_objectID+"_stringValue");if(cc)a7=cc.value;if(eO.attributes!=null){j4=[];dQ=[];var ad=eO.attributes;
for(var h=0;h<ad.length;h++){j4.push(ad[h].length,h);dQ.push(ad[h].attributes)}}else if(eO.NSAttributeInfo==null){j4=[a7.length,0];
dQ=[eO.NSAttributes]}else{j4=eO.NSAttributeInfo["NS.data"];dQ=eO.NSAttributes;j4=bb.aoR(j4,dQ)}for(var h=0;
h<j4.length;h+=2)jC+=j4[h];if(jC!=a7.length){while(jC>a7.length){j4[j4.length-2]--;jC--;if(j4[j4.length-2]==0){j4.pop();
j4.pop()}}j4[j4.length-2]+=a7.length-jC}a7=a7.replace(/\u2028/g,"\n");a7=a7.replace(/\u2029/g,"\n");
a7=a7.replace(/\r/g,"\n");var iJ=e.add.TySh.vv;bI.Cq(iJ,0,a7);if(a7!=""){var kJ=c.textBehaviour,jr=w.textStyle,fY=jr?jr.verticalAlignment:0,iR=M.a1Y(iJ,j4,dQ,a7),Q=fD.Nf(),g6=bI.Ni(iJ,0,1),aC=0;
if(g6.iz.Font){var ay=g6.t6[g6.iz.Font].Name;if(ay=="FontAwesome"||ay=="Ionicons")iR*=.87}var cQ=g6.iz.AutoLeading?0:g6.iz.Leading*.6,dI=Math.max(iR,cQ)*Q,fm=b.r,hd=b.$;
if(kJ==0){bI.IN(iJ,0);var ku=bI.EF(g6.u7);if(ku==1)aC=fm*Q;if(ku==2)aC=fm*Q*.5;if(fY==0)dI*=1;else dI*=.9}else{bI.IN(iJ,1);
bI.lC(iJ,[0,0,Math.round(fm),Math.round(hd)]);if(kJ==2&&fY==0)dI=dI*.2;else if(kJ==2&&fY==1){dI=Q*.5*(hd-g6.iz.FontSize)}else if(kJ==1&&fY==0)dI=dI*.2;
else dI=dI*.35}e.add.TySh.u.translate(aC,dI)}}else if(F=="symbolInstance"||F=="symbolMaster"){var cp=c.symbolID;
if(r[c.do_objectID])cp=r[c.do_objectID].symbolID;var hp=M.cR(l,c.do_objectID+"_symbolID");if(hp)cp=hp.value;
if(cp=="")continue;var gA={};for(var C in r)gA[C]=r[C];if(c.overrides)for(var C in c.overrides)gA[C]=c.overrides[C];
var jN=l.slice(0);if(c.overrideValues)jN=jN.concat(c.overrideValues);var d4=R[cp];if(d4==null){console.log("Unknown master master",c.symbolID);
continue}var ey=bb.hT(d4.yA.frame),jG=ey.r/b.r,cF=ey.$/b.$,f5=U.Q();f5.scale(jG,cF);e.add.lsct=h2.Le;
e.gR="pass";e.eW=24;e.G0(c.isVisible);v.k.push(v.V4());var jW=d4.yA;if(v.E1.indexOf(jW)==-1){v.E1.push(jW);
M.BZ(jW.layers,v,f5,o,R,gA,jN);v.E1.pop()}}else if(F=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+F,c);continue}if(w&&w.contextSettings){var f$=w.contextSettings,bh=f$.blendMode;
if(bh<M.bd.length){e.gR=gX.qI[gX.EZ.indexOf(M.bd[bh])];if(A&&e.gR=="norm")e.gR="pass"}e.fc=Math.round(e.fc*f$.opacity)}if(N!=null){e.add.lmfx=N}v.k.push(e);
if(c.hasClippingMask&&J.length>1){P.push(e);v.k.push(v.V4())}}while(P.length!=0)M.afC(P.pop(),v)};bb.cR=function(J,v){for(var h=0;
h<J.length;h++)if(J[h].overrideName.startsWith(v))return J[h]};bb.aoR=function(J,v){var x=0,o=[];while(x+1<J.length){var R=J[x];
x++;if(R>127){R+=128*(J[x]-1);x++;if(J[x-1]>127){R+=128*(J[x]-1);x++}}var r=J[x];x++;o.push(R,r)}return o};
bb.a1Y=function(J,v,x,o){var R=bb,r=0,c=0,b=0;for(var h=0;h<o.length;h++){var l=o.charCodeAt(h),M=1473<=l&&l<=1479||1488<=l&&l<=1514||1520<=l&&l<=1524,P=1569<=l&&l<=1594||1600<=l&&l<=1749;
if(M||P)r++}var S=r>o.length/2;for(var h=0;h<v.length;h+=2){var w=v[h],e=14,$="DejaVuSans";if(w==0)continue;
var U=v[h+1],F=x[U],Y=bI.Ni(J,c,c+w-1),A=F.NSColor;if(A==null){var A=F.MSAttributedStringColorDictionaryAttribute;
if(A==null)A=F.MSAttributedStringColorAttribute;if(A==null)A="0 0 0";else A=[A.red,A.green,A.blue].join(" ")}else if(R.dR(A)=="MSArchivedColor")A=A.dr+" "+A.dg+" "+A.db;
else if(A.NSRGB){A=A.NSRGB;A=I.b_(A,0,A.length-1)}else if(A.NSCMYK){A=A.NSCMYK;A=I.b_(A,0,A.length-1);
A=A.split(" ").map(parseFloat);var G=1-A[0],n=1-A[1],E=1-A[2],K=1-A[3];A=G*K+" "+n*K+" "+E*K}else if(A.NSWhite){A="1 1 1"}A=A.split(" ");
Y.iz.FillColor={Type:1,Values:[1,parseFloat(A[0]),parseFloat(A[1]),parseFloat(A[2])]};var N=F.MSAttributedStringFontAttribute;
if(F.NSFont){e=F.NSFont.NSSize;$=F.NSFont.NSName}else if(N){if(N.attributes){N=N.attributes;e=N.size;
$=N.name}else{var k=N.NSFontDescriptorAttributes;if(k==null)k=N.UIFontDescriptorAttributes;N=k;e=N.NSFontSizeAttribute;
$=N.NSFontNameAttribute}if($==null)$="DejaVuSans"}var b=Math.max(b,e);Y.iz.FontSize=Math.round(e);bI.ud(Y,$);
var V=F.NSKern;if(V==null)V=F.kerning;if(V!=null)Y.iz.Tracking=Math.round(1e3*V/e);if(F.NSUnderline!=null)Y.iz.Underline=F.NSUnderline>0;
var X=F.NSStrikethrough;if(X==null)X=F.strikethroughStyle;if(X!=null)Y.iz.Strikethrough=X>0;if(F.MSAttributedStringTextTransformAttribute==1)Y.iz.FontCaps=2;
var Q=F.NSParagraphStyle;if(Q==null)Q=F.paragraphStyle;if(Q){var L=Q.paragraphSpacing;if(L!=null){Y.u7.SpaceAfter=L}var _=Q.NSAlignment;
if(_==null)_=Q.alignment;if(_!=null){var a=0;if(!1){}else if(_==1)a=1;else if(_==2)a=2;else if(_==4)a=0;
else{a=_;console.log("unknown align",_)}if(S&&a<2)a=1-a;Y.u7.Justification=a}var T=Q.NSMinLineHeight;
if(T==null)T=Q.minimumLineHeight;if(T!=null){Y.iz.AutoLeading=!1;Y.iz.Leading=T}}Y.u7._Direction=S?1:0;
bI.qc(J,c,c+w,Y);c+=w}return b};bb.azo=function(J,v,x,o,R,r,l){var M=bb,P=JSON.parse(gD.default),S=!1;
for(var h=0;h<gD.order.length;h++)P[gD.Lw[h]]={t:"VlLs",v:[]};var c=x.fills,b=M.avu(J,c,o,R,r,v);for(var w=0;
w<2;w++){var U=x[["shadows","innerShadows"][w]];if(U==null)continue;var F=["DrSh","IrSh"][w],Y=gD.Lw[gD.order.indexOf(F)];
for(var h=0;h<U.length;h++){var A=U[h];if(!A.isEnabled)continue;var G=A.contextSettings;if(G&&G.opacity==0||A.color.alpha==0)continue;
var n=JSON.parse(gD.Sy[gD.order.indexOf(F)]);P[Y].v.unshift({t:"Objc",v:n});S=!0;n.Clr.v=M.qn(A.color);
n.blur.v.val=Math.round(A.blurRadius/R.Nf());var E=R.Q();E.zP=E.jD=0;E.SV();var K=E.Xw(new aG(A.offsetX,A.offsetY)),e=Math.sqrt(K.x*K.x+K.y*K.y);
n.Dstn.v.val=Math.round(e);n.lagl.v.val=Math.round(Math.atan2(K.y,-K.x)*(180/Math.PI));if(n.layerConceals)n.layerConceals.v=b.length!=0;
M.ZC(A,n)}}var $=x.borders;if($!=null&&(b.length==0||x.blur==null||!x.blur.isEnabled))for(var h=0;h<$.length;
h++){var N=$[h];if(!N.isEnabled)continue;var n=JSON.parse(gD.Sy[gD.order.indexOf("FrFX")]),Y=gD.Lw[gD.order.indexOf("FrFX")];
P[Y].v.unshift({t:"Objc",v:n});S=!0;n.Clr.v=M.qn(N.color);if(N.fillType!=0&&N.gradient){var k=M.ace(N.gradient,o,R,r),V=["Type","Angl","Ofst","Scl"];
for(var h=0;h<V.length;h++)n[V[h]]=k[V[h]];n.Grad.v=k.Grad.v;n.PntT.v.FrFl="GrFl"}n.Sz.v.val=Math.round(N.thickness/R.Nf());
n.Styl.v.FStl=["CtrF","InsF","OutF"][N.position];M.ZC(N,n)}for(var h=l?1:0;h<b.length;h++){var X=b[h],Y=gD.Lw[gD.order.indexOf(X.e)];
P[Y].v.unshift(X.K);S=!0}return S?P:null};bb.avu=function(J,v,x,o,R,r,l){if(v==null)return[];var M=bb,P=[];
for(var h=0;h<v.length;h++)if(v[h].isEnabled)P.push(v[h]);v=P;var S=[];for(var h=0;h<v.length;h++){var c=v[h],b=null,w=null;
if(c.fillType==0){b="SoFi";var U=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);w={t:"Objc",v:U};w.v.Clr.v=M.qn(c.color)}else if(c.fillType==1){b="GrFl";
w={t:"Objc",v:M.ace(c.gradient,x,o,R)}}else if(c.fillType==4&&c.image!=null){var F=c.image;if(l)F=l.value;
var Y=d2.e4(F.bdata.buffer);if(Y=="fpng")Y="png";if(Y!=null&&Y!="pdf"&&Y!="eps"){var A,e=0,$=0,N=0;if(r.mW[F.key])A=r.mW[F.key];
else{var G={data:new ArrayBuffer(4),P0:new jj(0,0,1,1)};try{G=d2.s$(Y).lx(F.bdata)[0]}catch(gw){}A={};
A.id=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f";A.name="someImage";A.ub=[new Uint8Array(G.data),G.P0];r.Mk(A);
r.mW[F.key]=A}var n=A.ub[1],U=JSON.parse(gD.Sy[gD.order.indexOf("patternFill")]);b="patternFill";w={t:"Objc",v:U};
var E=c.patternFillType,K=c.patternTileScale;U.Algn.v=!0;U.Ptrn.v.Idnt.v=A.id;if(E==0){e=K*n.r/Math.min(n.r,n.$);
$=-o.zP;N=-o.jD}else{e=Math.max(x.r/n.r,x.$/n.$);$=-o.zP-(n.r*e-x.r)/2;N=-o.jD-(n.$*e-x.$)/2}U.Scl.v.val=100*e*(1/o.Nf());
U.phase.v.Hrzn.v=Math.round($/o.Nf());U.phase.v.Vrtc.v=Math.round(N/o.Nf())}}else if(c.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",c.fillType);
if(b!=null){M.ZC(c,w.v);S.push({e:b,K:w})}}return S};bb.a8K=function(J){var v=bb,x=new jj(0,0,1,1);J=J.slice(0);
while(!0){var o=!1;for(var h=0;h<J.length-1;h++){var R=J[h],r=J[h+1],l=null,M=R.contextSettings;if(R.fillType==0&&(M==null||M.opacity==1&&M.blendMode==0)&&R.color.alpha==1){var P="norm",S=1,M=r.contextSettings;
if(M){S=M.opacity;P=gX.kF(v.bd[M.blendMode])}if(r.fillType==0){l=g.F(r);v.a1s(l.color,R.color,l.color,x,P,S)}if(r.fillType==1){l=g.F(r);
var c=l.gradient.stops;for(var b=0;b<c.length;b++)v.a1s(c[b].color,R.color,c[b].color,x,P,S)}if(l!=null&&l.contextSettings){var M=l.contextSettings;
M.opacity=1;M.blendMode=0}}if(l!=null){J.splice(h,0,l);o=!0;break}}if(!o||J.length<2)break}return J};
bb.a1s=function(J,v,x,o,R,r){var l=bb,M=g.C(4);l.aej(J,M);var P=g.C(4);l.aej(v,P);g.v.Ry(R,M,o,P,o,o,r);
l.azq(P,x)};bb.aej=function(J,v){v[0]=255*J.red;v[1]=255*J.green;v[2]=255*J.blue;v[3]=255*J.alpha};bb.azq=function(J,v){v.red=J[0]/255;
v.green=J[1]/255;v.blue=J[2]/255;v.alpha=J[3]/255};bb.afC=function(J,v){J=J.Q();J.eW=24;J.v7("Mask by "+J.getName());
v.k.push(J);J.add.lsct=h2.Uk;J.add.lyid=v.bm();delete J.add.lmfx;delete J.add.SoCo;delete J.add.GdFl;
delete J.add.PtFl;delete J.add.iOpa;if(J.add.vmsk)J.add.vmsk.px=!0;J.Tr();J.B0(v);if((J.eW&16)==16)J.eW-=16;
if((J.eW&2)==2)J.eW-=2;J.gR="pass";J.fc=255};bb.bd="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
bb.ace=function(J,v,x,o){x=x.Q();x.SV();x.zP=x.jD=0;var R=x.Nf(),w=0,U=0;x.scale(1/R,1/R);var r=bb,l=JSON.parse(gD.Sy[gD.order.indexOf("GrFl")]),M=l.Grad.v;
M.Intr.v=0;if(J==null)return l;var P=J.gradientType,S=r.HJ(J.from),c=r.HJ(J.to);S.offset(-.5,-.5);c.offset(-.5,-.5);
S=x.Xw(S);c=x.Xw(c);var b=Math.atan2(-(c.y-S.y),c.x-S.x);l.Type.v.GrdT=["Lnr","Rdl","Angl"][P];l.Scl.v.val=100*aG.Aj(S,c);
if(P==0){l.Angl.v.val=180/Math.PI*b;l.Scl.v.val=100*aG.Aj(S,c);w=(S.x+c.x)/2;U=(S.y+c.y)/2}if(P==1){l.Scl.v.val=200*aG.Aj(S,c);
w=S.x;U=S.y}if(P==2){l.Angl.v.val=180/Math.PI*(b-Math.PI/2)}var F=l.Ofst.v;F.Hrzn.v.val=w*100;F.Vrtc.v.val=U*100;
var Y=[];for(var h=0;h<J.stops.length;h++){var A=J.stops[h],G=A.color;Y.push([A.position,G?[G.red,G.green,G.blue]:[0,0,0],G.alpha])}g.UH.w5(Y,M);
return l};bb.ZC=function(J,v){var x=bb,o=1,R=J.contextSettings;if(R!=null){v.Md.v.BlnM=x.bd[R.blendMode];
o*=R.opacity}else v.Md.v.BlnM=x.bd[0];v.enab.v=J.isEnabled;if(v.uglg!=null)v.uglg.v=!1;if(J.color!=null)o*=J.color.alpha;
v.Opct.v.val=Math.round(o*100)};bb.qn=function(J){return g.UH.YK(J?{z:J.red*255,H:J.green*255,c:J.blue*255}:{z:0,H:0,c:0})};
bb.Yw=function(J,v){var x=bb,o=[{e:6},{e:8,all:0}];for(var R=0;R<J.length;R++){var r=J[R],l=r.booleanOperation,M=0,P=r._class,F=!1;
if(P=="group"||P=="text"||P=="symbolInstance"||P=="slice"){console.log(P+" inside ShapeGroup");continue}if(l==-1)M=0;
else if(l==0)M=1;else if(l==1)M=2;else if(l==2)M=3;else if(l==3)M=0;if(R==0)M=1;var S=bb.hT(r.frame),c=x.ahO(r,v),b=r.path?r.path:r,w=[{e:0,length:0,da:M,ii:2,RO:0,M4:0}],U=b.points;
for(var h=0;h<U.length;h++){var Y=U[h],A=x.HJ(Y.curveTo),G=x.HJ(Y.point),n=x.HJ(Y.curveFrom);F=F||Y.hasCurveFrom&&!n.Ym(G)||Y.hasCurveTo&&!A.Ym(G)}var E=[];
if(!F){var K=[],co=U.length;if(co==0)continue;for(var h=0;h<co;h++){E[h]=U[h].cornerRadius;var Y=x.HJ(U[h].point);
K.push(Y.x,Y.y)}c.scale(1/S.r,1/S.$);c.SV();g.b.u(K,c,K);w=g.I.yu.pv(K,E).slice(2);w[0].da=M}else{var e=U.length;
w[0].length=e;for(var h=0;h<e;h++){var Y=U[h],$=Y.curveMode,N=x.HJ(Y.point);w[1+h]={e:$==2||$==4?1:2,nQ:Y.hasCurveTo?x.HJ(Y.curveTo):N.Q(),Z:N,_v:Y.hasCurveFrom?x.HJ(Y.curveFrom):N.Q()}}c.scale(1/S.r,1/S.$);
c.SV();g.I.Xi(w,c);var E=[];for(var h=0;h<e;h++){var Y=U[h],$=Y.curveMode,k=Y.cornerRadius;if($==1&&k!=0)E.push(k);
else E.push(0)}}if(!b.isClosed)for(var h=0;h<w.length;h++)w[h].e+=3;o=o.concat(w);var V=x.dR(r);if(c.c==0&&c.Mz==0){var X=c.zP,Q=c.jD,L=X+c.o5,_=Q+c.fn,a=[X,Q,L,_]}}return o};
bb.ahO=function(J,v){var x=v.Q(),o=J.frame?bb.hT(J.frame):null;if(o)x.translate(-o.x-o.r/2,-o.y-o.$/2);
if(J.isFlippedHorizontal)x.scale(-1,1);if(J.isFlippedVertical)x.scale(1,-1);x.rotate(-J.rotation*(Math.PI/180));
if(o)x.translate(o.r/2,o.$/2);return x};bb.HJ=function(J){J=J.slice(1,J.length-1).split(",");return new aG(parseFloat(J[0]),parseFloat(J[1]))};
bb.hT=function(J){return new jj(J.x,J.y,J.width,J.height)};bb.aaN=function(J){return{_class:"rect",constrainProportions:!1,x:J.x,y:J.y,width:J.r,height:J.$}};
function h7(){}h7.KE=function(J,v){var x=Date.now(),o=h7,R=UZIP.parse(J),r=JSON.parse(I.Aq(R.manifest)),l=JSON.parse(I.Aq(R["resources/graphics/graphicContent.agc"])).resources,M=[],P=[],S=r.children;
for(var h=0;h<S.length;h++){var c=S[h];if(c.name=="artwork"){var b=c.children;for(var w=0;w<b.length;
w++){var U=b[w],F=JSON.parse(I.Aq(R["artwork/"+U.path+"/graphics/graphicContent.agc"])),Y=F.children;
if(Y.length==0){}else if(Y.length==1){if(U["uxdesign#bounds"]){U._node=Y[0];M.push(U)}}else{var A=Y[0],G=A.transform,n=A.shape;
if(n==null)n={x:0,y:0,width:1e3,height:1e3};if(n.type=="path"){var E=g.b.jR(Typr.U.SVGToPath(n.path).crds);
n={x:E.x,y:E.y,width:E.r,height:E.$}}n=g.F(n);if(G){n.x+=G.tx;n.y+=G.ty}U["uxdesign#bounds"]=n;U._node={type:"artboard",artboard:{children:Y}};
P.push(U)}}}}if(M.length==0)M=P;var K=[],e=new jj;for(var h=0;h<M.length;h++){var U=M[h],$=bb.hT(U["uxdesign#bounds"]);
K.push($);e=e.h0($)}var N=bb.i5(e,8192*8192);v.C4=!0;v.r=Math.round(e.r/N);v.$=Math.round(e.$/N);v.buffer=g.C(v.r*v.$*4);
v.Dy(M.length);var k=new bC(N,0,0,N,e.x,e.y);v.mW={};for(var h=0;h<M.length;h++){var U=M[h],$=bb.hT(U["uxdesign#bounds"]),V=U._node,X=k.Q(),Q=$.Q(),L=X.Nf();
X.translate(-$.x,-$.y);Q.x=-Math.floor(X.zP/L);Q.y=-Math.floor(X.jD/L);Q.r=Math.floor(Q.r/L);Q.$=Math.floor(Q.$/L);
X.translate($.x,$.y);h7.Sm(V,v,X,l,R,Q);var _=v.k[v.k.length-1];_.v7(U.name);_.$V(Q);if(h!=M.length-1)_.add.lsct=h2.Le}delete v.mW};
h7.iH=function(J){if(J==null)return new bC;return new bC(J.a,J.b,J.c,J.d,J.tx,J.ty)};h7.Sm=function(J,v,x,o,R,r){var l=h7,M=J.type,P=J[M],S=J.style,c=l.iH(J.transform),F,Y="none",A,G="none",n,E;
c.SV();var b=x.Q();b.concat(c);var w=v.qL(),U=J.name;w.v7(U?U.slice(0,250):"Layer");if(J.visible!=null)w.G0(J.visible);
if(S){F=S.stroke;Y=F?F.type:"none";A=S.fill;G=A?A.type:"none";if(A&&Object.keys(A).length==1)G="none";
n=S.filters;E=S.clipPath;if(E&&o.clipPaths[E.ref])E=o.clipPaths[E.ref].children;else E=null;if(S.opacity!=null)w.fc=Math.round(255*S.opacity);
if(G=="solid"&&A.color.alpha)w.fc=Math.round(w.fc*A.color.alpha);if(n){w.add.lmfx=l.apB(n);for(var h=0;
h<n.length;h++)if(n[h].type=="uxdesign#blur"){var K=n[h],e=K.params,$=e.brightnessAmount;if($==null)$=0;
$=Math.abs($/100);if((K.visible==null||K.visible==!0)&&e.backgroundEffect)w.fc=Math.round(w.fc*($+(1-$)*e.fillOpacity))}}if(G=="pattern"&&A.pattern.meta.ux.uid=="")G="none"}if(E==null&&J.meta&&J.meta.ux&&J.meta.ux.clipPathResources)E=J.meta.ux.clipPathResources.children;
if(M=="artboard"||M=="group"){if(E){var N=E[0],k=N.shape,V=k!=null&&k.type=="rect"&&k.width*k.height>4e6;
if(N.type!="text"&&!V){if(k){var c=l.iH(N.transform);c.SV();var X=b.Q();X.concat(c);w.add.vmsk=new m.e_;
w.add.vmsk.X=l.Yw(k);X=X.Q();X.SV();g.I.Xi(w.add.vmsk.X,X);w.Tr();w.B0(v)}}else if(!V)alert("Clipping by text has been ignored")}w.add.lsct=h2.Uk;
w.gR="pass";w.eW=24;if(J.visible!=null)w.G0(J.visible);v.k.push(v.V4());var Q=P.children,L=A;if(L)L=L.color;
if(L)L=L.value;if(A){if(M=="artboard"&&G=="solid"){w.$V(new jj(0,0,10,10));w.add.artb.Clr={t:"Objc",v:g.UH.YK({z:L.r,H:L.g,c:L.b})};
w.add.artb.artboardBackgroundType={t:"long",v:4}}else{var _=v.qL();_.v7("BACKGROUND");_.eW|=16;_.add.vstk=gD.gB.ow();
_.add.vmsk=new m.e_;_.add.vmsk.X=l.Yw({type:"rect",x:r.x,y:r.y,width:r.r,height:r.$});l.XB(A,G,b,r,r,_,v,o,R);
_.Tr();_.B0(v);v.k.push(_)}}for(var h=0;h<Q.length;h++){h7.Sm(Q[h],v,b,o,R,r)}}else if(M=="shape"&&(P.type=="rect"&&(P.r==null||P.r==0)||P.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(P.path)))&&G=="pattern"&&(Math.abs(P.width/P.height-A.pattern.width/A.pattern.height)<.01||S.fill.pattern.meta.ux.scaleBehavior=="fill")){var a=A.pattern,T=a.meta.ux,f=T.uid,Z=R["resources/"+f];
if(Z==null){console.log(a);return}var W=v.P2(Z,w.getName(),0,0);W.eW=w.eW;W.fc=w.fc;w=W;var D=g.I.Or(l.Yw(P),null),C=g.b.ho(new jj(0,0,a.width,a.height)).T,d=new bC;
d.scale(a.width/D.r,a.height/D.$);if(T.offsetX)d.translate(-T.offsetX*a.width,0);if(T.offsetY)d.translate(0,-T.offsetY*a.height);
b.concat(d);b.SV();g.b.u(C,b,C);w.add.SoLd.Trnf=H.ge.y7(C);w.add.SoLd.nonAffineTransform=H.ge.y7(C);
w.IY(v,!1)}else if(M=="shape"){w.eW|=16;w.add.vstk=gD.gB.ow();w.add.vmsk=new m.e_;w.add.vmsk.X=l.Yw(P);
var D=g.I.Or(w.add.vmsk.X,null),X=b.Q();X.SV();g.I.Xi(w.add.vmsk.X,X);var y=g.I.Or(w.add.vmsk.X,null);
if(Y=="none"){}else{var i=F.color.value,t,O;t="SoFi";var q=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);
O={t:"Objc",v:q};O.v.Clr.v=g.UH.YK({z:i.r,H:i.g,c:i.b});var z=F.align,jw=F.cap;if(z==null)z="center";
var u=w.add.vstk;u.strokeEnabled.v=!0;u.strokeStyleLineWidth.v.val=F.width;if(z)u.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gD.gB.r8[["inside","center","outside"].indexOf(z)];
if(jw)u.strokeStyleLineCapType.v.strokeStyleLineCapType=gD.gB.Ee[["butt","round","square"].indexOf(jw)];
var s=["SoFi","GrFl","patternFill"].indexOf(t),bV=[gD.AG,gD.Zy,gD.eH][s];u.strokeStyleContent.v={classID:gD.gB.dP[0]};
var jU=u.strokeStyleContent.v={classID:gD.gB.dP[s]};for(var h=0;h<bV.length;h++)jU[bV[h]]=O.v[bV[h]]}if(n)for(var h=0;
h<n.length;h++)if(n[h].type=="uxdesign#blur"&&n[h].visible){var hx=n[h];w.add.vmsk.p5=hx.params.blurAmount}l.XB(A,G,b,D,y,w,v,o,R);
w.Tr();w.B0(v)}else if(M=="text"&&J.text){var eX=J.text,et=eX.frame,f7=S.font,iY=S.textAttributes,c=b.Q(),j4=0;
c.SV();w.add.lnsr="rend";w.add.TySh=bI.Q6(0,0);w.add.TySh.yW=new jj(0,0,100,100);w.add.TySh.u=c;var cd=w.add.TySh.vv,jV=eX.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
bI.Cq(cd,0,jV);if(jV!=""){var g2=bI.Ni(cd,0,1),gV=f7.postscriptName;if(gV==null)gV=f7.family;bI.ud(g2,gV);
g2.iz.FontSize=Math.round(f7.size);if(G=="solid"){var i=A.color.value;g2.iz.FillColor={Type:1,Values:[1,i.r/255,i.g/255,i.b/255]}}if(iY){if(iY.paragraphAlign)g2.u7.Justification=["left","right","center"].indexOf(iY.paragraphAlign);
if(iY.letterSpacing)g2.iz.Tracking=Math.round(iY.letterSpacing);if(iY.lineHeight){g2.iz.AutoLeading=!1;
g2.iz.Leading=Math.round(iY.lineHeight)}}bI.qc(cd,0,jV.length,g2)}var fD=J.meta.ux.rangedStyles;if(fD)for(var h=0;
h<fD.length;h++){var P=fD[h],dQ=Math.min(P.length,jV.length-j4);if(h==fD.length-1)dQ=jV.length-j4;var g2=bI.Ni(cd,j4,j4+dQ),gV=P.postscriptName;
if(gV==null)gV=P.family;if(gV!=null)bI.ud(g2,gV);var eO=P.textScript,a7=P.underline,cc=P.fontSize,K=P.fill,ad=P.textTransform;
if(eO&&eO!="none")g2.iz.FontBaseline=eO=="superscript"?1:2;if(a7!=null)g2.iz.Underline=a7;if(cc!=null)g2.iz.FontSize=Math.round(cc);
if(ad!=null)g2.iz.FontCaps=ad=="uppercase"?2:0;if(ad=="lowercase"){bI.u9(cd,j4,j4+dQ);bI.Cq(cd,j4,jV.slice(j4,j4+dQ).toLowerCase())}if(K!=null){var jC=K.value;
g2.iz.FillColor={Type:1,Values:[1,(jC>>>16&255)/255,(jC>>>8&255)/255,(jC>>>0&255)/255]}}bI.qc(cd,j4,j4+dQ,g2);
j4+=dQ}if(et.type=="area"||et.type=="autoHeight"){var iJ=et.width,kJ=et.height;bI.IN(cd,1);bI.lC(cd,[0,0,iJ,kJ!=null?kJ:iJ*2])}}else if(M=="syncRef"){var jr=J.syncSourceGuid,fY=o.meta.ux.symbols,iR=l.Rm(fY,jr);
if(iR){var g6=b.Q();g6.concat(l.iH(iR.transform));h7.Sm(iR,v,g6,o,R,r)}return}else console.log(M,J);
v.k.push(w)};h7.Rm=function(J,v){for(var h=0;h<J.length;h++){var x=J[h],o=x.group;if(x.id==v)return x;
if(o){var R=h7.Rm(o.children,v);if(R)return R}}return null};h7.Yw=function(J){var v=J.type,x=[{e:6},{e:8,all:0}];
if(v=="rect"){var o=J.r,R=J.x,r=J.y,l=J.width,M=J.height;x=g.I.yu.Rect(R,r,l,M,o?o:0)}else if(v=="circle"){var o=J.r;
x=g.I.yu.Bd(J.cx-o,J.cy-o,2*o,2*o)}else if(v=="ellipse"){var P=J.rx,S=J.ry;x=g.I.yu.Bd(J.cx-P,J.cy-S,2*P,2*S)}else if(v=="path"||v=="compound"){var c=Typr.U.SVGToPath(J.path);
x=g.b.ZX({Wp:c.cmds,T:c.crds},!1)}else if(v=="line"){var b=J.x1,w=J.x2,U=J.y1,F=J.y2;x=g.I.yu.pv([b,U,w,F],0,!0)}else if(v=="polygon"){var Y=J.points,A=[];
for(var h=0;h<Y.length;h++)A.push(Y[h].x,Y[h].y);x=x.concat(g.I.yu.pv(A,0,!1).slice(2))}else console.log(v,J);
return x};h7.apB=function(J){var v=JSON.parse(gD.default);for(var h=0;h<gD.order.length;h++)v[gD.Lw[h]]={t:"VlLs",v:[]};
for(var h=0;h<J.length;h++){var x=J[h],o=x.type,R=x.params,r=x.visible;if(o=="dropShadow"){var l=gD.Lw[gD.order.indexOf("DrSh")],M=JSON.parse(gD.Sy[gD.order.indexOf("DrSh")]);
v[l].v.unshift({t:"Objc",v:M});var P=R.dropShadows;if(P.length!=1)throw"e";var S=P[0],c=S.color,b=c.value,w=S.dx,U=S.dy;
M.Clr.v=g.UH.YK({z:b.r,H:b.g,c:b.b});M.Opct.v.val=Math.round((c.alpha!=null?c.alpha:1)*100);M.uglg.v=!1;
M.enab.v=r!=null?r:!0;M.lagl.v.val=Math.round(180/Math.PI*Math.atan2(U,-w));M.Dstn.v.val=Math.round(Math.sqrt(w*w+U*U));
M.blur.v.val=Math.round(S.r*2.3)}}return v};h7.XB=function(J,v,x,o,R,r,l,M,P){var S=h7;r.add.vstk.fillEnabled.v=v!="none";
if(v=="none"){r.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:0,H:0,c:0})}}}else{var c,b,w;if(v=="solid"){var U=J.color.value;
c="SoCo";b=gD.AG;var F=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);w={t:"Objc",v:F};w.v.Clr.v=g.UH.YK({z:U.r,H:U.g,c:U.b})}else if(v=="gradient"){c="GdFl";
b=gD.Zy;var F=JSON.parse(gD.Sy[gD.order.indexOf("GrFl")]),Y=F.Grad.v,K,e,$;Y.Intr.v=0;var A=J[v],G=A.ref?M.gradients[A.ref]:A.meta.ux.gradientResources,n=["linear","radial","angular"].indexOf(G.type),E=G.stops;
F.Type.v.GrdT=["Lnr","Rdl","Angl"][n];if(n==0){var K=new aG(A.x1,A.y1),e=new aG(A.x2,A.y2);K.x=e.x+.5*(K.x-e.x);
K.y=e.y+.5*(K.y-e.y)}else{var K=new aG(A.cx,A.cy),e=new aG(A.cx+A.r,A.cy)}$=R;if(A.units=="objectBoundingBox"){var N=new bC(o.r,0,0,o.$,o.x,o.y);
K=N.Xw(K);e=N.Xw(e)}var N=S.iH(A.transform);K=N.Xw(K);e=N.Xw(e);N=x.Q();N.SV();K=N.Xw(K);e=N.Xw(e);g.UH.eb(K,e,$,F);
var k=[];for(var h=0;h<E.length;h++){var V=E[h],X=V.color,U=X.value,Q=X.alpha;if(Q==null)Q=1;k.push([V.offset,[U.r/255,U.g/255,U.b/255],Q])}g.UH.w5(k,Y);
w={t:"Objc",v:F}}else if(v=="pattern"){c="PtFl";b=gD.eH;var F=JSON.parse(gD.Sy[gD.order.indexOf("patternFill")]),C;
w={t:"Objc",v:F};var L=J[v],_=L.meta.ux,a=_.uid,T=P["resources/"+a].buffer,f=_.flipX,Z=_.flipY,W=a+f+Z,D=d2.e4(T);
if(l.mW[W])C=l.mW[W];else{var d=new jj(0,0,L.width,L.height),p;if(d.L3()||D==null){d=new jj(0,0,1,1);
p=new ArrayBuffer(4)}else{var y=d2.s$(D);if(y.KY){var i=new d7;y.lx(T,i);p=i.rv().buffer}else{try{var t=y.lx(T)[0];
p=t.data;d=t.P0}catch(gw){p=new ArrayBuffer(d.o()*4)}}}C={};C.id=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f";
C.name="someImage";C.ub=[new Uint8Array(p),d];if(f)g.O.Ot(C.ub[0].slice(0),C.ub[0],d.r,d.$);if(Z)g.O.av5(C.ub[0].slice(0),C.ub[0],d.r,d.$);
l.Mk(C);l.mW[W]=C}var O=x.Q();O.SV();O.translate(o.x,o.y);var q=o.r,z=o.$,jw=C.ub[1].r,u=C.ub[1].$,s=Math.max(q/jw,z/u);
if(_.scale)s*=_.scale;var bV=new bC;bV.translate(-jw/2,-u/2);bV.scale(1/jw,1/u);if(_.offsetX!=null)bV.translate(_.offsetX,_.offsetY);
bV.scale(jw,u);bV.scale(s,s);bV.translate(q/2,z/2);bV.concat(O);iD.aGJ(C,F,0,0,1e3,bV)}else console.log(v);
if(c!=null){r.add[c]={classID:"null"};for(var h=0;h<b.length;h++){var jU=b[h];r.add[c][jU]=w.v[jU]}}}};
var hb=function(){function J(A){return A.tagName?A.tagName.split(":").pop():null}function v(A,G,n){if(n&&n[0]==null)n=null;
A=new Uint8Array(A);var E,D=1;if(A[0]==255&&A[1]==254)E=I.K0(A,2,(A.length>>>1)-1);else E=I.Aq(A,0,A.length);
var K=new DOMParser,e=K.parseFromString(E,"image/svg+xml"),$=e.getElementsByTagName("style")[0];if($)$=Typr.U.SVG.cssMap($.textContent);
else $={};var N=e.firstChild;while(J(N)!="svg")N=N.nextSibling;var k=new jj(0,0,100,100),V=N.getAttribute("viewBox"),X=N.getAttribute("width"),Q=N.getAttribute("height"),L=X!=null?parseFloat(X):parseFloat(Q),_=Q!=null?parseFloat(Q):parseFloat(X);
if(V){var a=x(V);k.x=a[0];k.y=a[1];k.r=a[2];k.$=a[3];if(X!=null){var T=a[2]/a[3],f=L/_;if(f>T){var Z=a[3]*f-k.r;
k.x-=Z/2;k.r+=Z}if(f<T){var W=a[2]/f-k.$;k.y-=W/2;k.$+=W}}}else if(X!=null||Q!=null){k.r=L;k.$=_}k=g.b.RN(k);
while(n&&Math.max(k.r*D,k.$*D)<Math.max(n[0],n[1]))D++;while(n==null&&Math.max(k.r,k.$)*D>8192)D*=.5;
G.C4=!0;G.r=~~(k.r*D);G.$=~~(k.$*D);var C=new bC(D,0,0,D,-k.x*D,-k.y*D),d={x0:b(N),aGR:$,Jo:0};o(e,N.children,G,C,d,new bC,0);
if(G.k.length==0){var p=G.qL();p.v7("Layer");G.k.push(p)}}function x(A){var G=" ";if(A.indexOf(",")!=-1)G=",";
return A.split(G).map(parseFloat)}function o(A,G,n,E,K,e,$,N){var k=["display","opacity","fill-opacity","filter","clip-path"],V=0;
for(var X=0;X<G.length;X++){var Q=G[X],L=J(Q),_=Q.getAttribute("id"),f=13,d=1,i="clip-path",t=null,jU=0;
if(_==null)_=Q.getAttribute("data-name");var a=b(Q,K.aGR);for(var T in K.x0)if(k.indexOf(T)==-1&&a[T]==null)a[T]=K.x0[T];
if(a["font-size"])f=l(a["font-size"],f);var Z=P(Q);if(Q.getAttribute("dx"))Z.zP+=l(Q.getAttribute("dx"),f);
if(Q.getAttribute("dy"))Z.jD+=l(Q.getAttribute("dy"),f);Z.concat(E);var W=Q.getAttribute("visibility"),D=a.display,C=n.qL();
if(W=="hidden"||D=="none")C.G0(!1);C.v7(_!=null?_.split(":::")[0]:"Layer");if(a.opacity)d*=parseFloat(a.opacity);
if(a["fill-opacity"]){var p=parseFloat(a["fill-opacity"]);if(p!=0)d*=p}C.fc=Math.round(255*d);if(a["mix-blend-mode"]){var y=gX.YR.indexOf(a["mix-blend-mode"]);
if(y!=-1)C.gR=gX.qI[y]}if(Q.getAttribute(i)==null)i="mask";if(Q.getAttribute(i)!=null||a["clip-path"]){var O=Q.getAttribute(i);
if(O==null)O=a["clip-path"];O=O.slice(4,O.length-1);var q=A.getElementById(O.slice(1));if(q){var z=q.children;
t=n.qL();t.v7("Clip-Path"+(_?": "+_:""));t.add.lsct=$<2?h2.Uk:h2.Le;t.gR="pass";t.eW=24;var jw=t.add.vmsk=new m.e_;
n.k.push(n.V4());var u=[];if(q.getAttribute(i)){var O=q.getAttribute(i);O=O.slice(4,O.length-1);u=A.getElementById(O.slice(1)).children}for(var h=0;
h<z.length;h++){var iH=P(z[h]);iH.concat(Z);var s=r(n,A,z[h],!1).slice(2);g.I.Xi(s,iH);jw.X=jw.X.concat(s)}for(var h=0;
h<u.length;h++){var iH=P(z[h]);iH.concat(Z);var s=r(n,A,u[h],!1).slice(2);for(var bV=0;bV<s.length;bV++)if(s[h].da!=null)s[h].da=3;
g.I.Xi(s,iH);jw.X=jw.X.concat(s)}for(var h=0;h<jw.X.length;h++)if(jw.X[h].da!=null)jw.X[h].da=0;t.Tr();
t.B0(n);$++}}if(a.filter&&a.filter!="none"){var hx=a.filter,et,f7,iY,jV=!1,g2=!1,gV=!1;hx=hx.slice(5,hx.length-1);
var eX=A.getElementById(hx),cd=[0,0,0,.5],fD=Z.Nf();if(eX)for(var h=0;h<eX.children.length;h++){var j4=eX.children[h],dQ=J(j4);
if(dQ=="feGaussianBlur"){jV=!0;et=parseFloat(j4.getAttribute("stdDeviation"))*fD}if(dQ=="feColorMatrix"){var eO=j4.getAttribute("values");
if(eO){eO=eO.split(" ").map(parseFloat);cd=[eO[4],eO[9],eO[14],eO[18]]}}if(dQ=="feComposite"){gV=!0}if(dQ=="feOffset"){g2=!0;
var a7=j4.getAttribute("dx"),cc=j4.getAttribute("dy");f7=parseFloat(a7?a7:0)*fD;iY=parseFloat(cc?cc:0)*fD}}if(jV&&(gV||g2)){var ad=gV?"IrSh":"DrSh";
if(ad=="IrSh"){C.add.iOpa=0}var jC=JSON.parse(gD.Sy[gD.order.indexOf(ad)]);jC.blur.v.val=Math.round(et*2.4);
var iJ=Math.sqrt(f7*f7+iY*iY);jC.uglg.v=!1;jC.Dstn.v.val=Math.round(iJ);jC.lagl.v.val=Math.round(Math.atan2(iY,-f7)*(180/Math.PI));
jC.Clr.v=g.UH.YK({z:cd[0]*255,H:cd[1]*255,c:cd[2]*255});jC.Opct.v.val=Math.round(cd[3]*100);R(C,gD.Lw[gD.order.indexOf(ad)],jC)}else if(jV)jU=et}if(L=="g"||L=="a"||L=="svg"||L=="switch"||(L=="text"||L=="textPath")&&Q.children.length>0||L=="symbol"&&N){if(L=="text")e=S(Q,e);
var kJ=Q.getAttribute("viewBox"),jr=Q.getAttribute("width"),fY=Q.getAttribute("height");if(L=="svg"&&jr&&fY&&kJ==null)kJ="0 0 "+jr+" "+fY;
if(kJ&&jr&&fY){var iR=x(kJ),g6=S(Q),ay=new bC;ay.translate(-iR[0],-iR[1]);ay.scale(parseFloat(jr)/iR[2],parseFloat(fY)/iR[3]);
ay.translate(g6.zP,g6.jD);ay.concat(Z);Z=ay}var cQ=Q.children.length,aC=K.x0;K.x0=a;var dI=K.Jo;K.Jo=Math.max(K.Jo,jU);
var fm=L!="text"&&L!="textPath"||cQ>1;if(fm){var hd=C.jh();C.add.lsct=$<2&&hd&&(_==null||!_.endsWith(":::"))?h2.Uk:h2.Le;
C.gR="pass";C.eW=24;C.G0(hd);n.k.push(n.V4())}o(A,Q.children,n,Z,K,e,$+1);if(fm)n.k.push(C);else{var ku=n.k[n.k.length-1];
ku.fc=C.fc;ku.gR=C.gR}K.Jo=dI;K.x0=aC}else if(L=="use"){var ay=S(Q);ay.concat(Z);var cp=U(Q),hp=A.getElementById(cp.slice(1));
if(hp){var aC=K.x0;K.x0=a;if(a.filter)hp.setAttribute("filter",a.filter);o(A,[hp],n,ay,K,e,$+1,!0);K.x0=aC}}else if(L=="path"||L=="rect"||L=="circle"||L=="ellipse"||L=="polygon"||L=="polyline"||L=="line"){C.eW|=16;
var jw=C.add.vmsk=new m.e_,gA=a.fill,jN=gA=="none"||a["fill-opacity"]&&parseFloat(a["fill-opacity"])==0,d4=a["fill-rule"]=="evenodd"?1:0;
jw.X=r(n,A,Q,d4==1,jN);jw.da=d4;g.I.Xi(jw.X,Z);var ey=a.stroke,jG=a["stroke-width"],cF=a["stroke-dasharray"],f5=a["stroke-linejoin"];
if(f5==null)f5="miter";var jW=a["stroke-linecap"];if(jW==null)jW="butt";var f$=a["stroke-miterlimit"];
if(f$==null)f$=4;else f$=parseFloat(f$);var bh=a["paint-order"],ii=!(ey==null||ey=="none"||ey=="null"),dM=C.add.vstk=gD.gB.ow(null,ii),b7=a["stroke-opacity"]?parseFloat(a["stroke-opacity"]):1;
if(ii){var bz=M(A,ey,Z,jw.X,n),cZ=["SoFi","GrFl","patternFill"].indexOf(bz.e),e4=bz.K.v.Opct.v,iV=1;
if(e4.val!=100||b7!=1&&jN){C.fc=Math.round(b7*C.fc*e4.val/100);e4.val=100;b7=1}var fI=[gD.AG,gD.Zy,gD.eH][cZ],aI=dM.strokeStyleContent.v={classID:gD.gB.dP[cZ]};
for(var h=0;h<fI.length;h++)aI[fI[h]]=bz.K.v[fI[h]];jG=jG?parseFloat(jG):1;if(bh&&bh.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){iV=2;
jG/=2}var k6={$h:["miter","round","bevel"].indexOf(f5),yd:["butt","round","square"].indexOf(jW),fk:jG,M0:f$};
if(cF!=null&&cF!="none")k6.Wy=cF.split(",").map(parseFloat);gD.gB.write(dM,k6,Z.Nf());dM.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gD.gB.r8[iV];
dM.strokeStyleOpacity.v.val=100*b7;if(bz.sN)C.add._sstl=bz.sN}C.add.vstk.fillEnabled.v=!jN;if(jN){C.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:0,H:0,c:0})}}}else{var bz=M(A,gA,Z,jw.X,n),bq=null,cq=null;
if(bz.e=="SoFi"){bq="SoCo";cq=gD.AG}if(bz.e=="GrFl"){bq="GdFl";cq=gD.Zy}if(bz.e=="patternFill"){bq="PtFl";
cq=gD.eH}if(bq!=null){var e4=bz.K.v.Opct.v;if(e4.val!=100){C.fc=Math.round(C.fc*e4.val/100);e4.val=100}C.add[bq]={classID:"null"};
for(var h=0;h<cq.length;h++){var T=cq[h];C.add[bq][T]=bz.K.v[T]}}if(bz.sN)C.add._fstl=bz.sN}var ib=Math.max(jU,K.Jo);
if(ib!=0)C.add.vmsk.p5=ib;C.Tr();C.B0(n);n.k.push(C)}else if((L=="text"||L=="tspan")&&Q.textContent!=""){e=S(Q,e);
var ay=e.Q(),iY=0;ay.concat(Z);if(L=="tspan"&&e.x!=0){}else ay.translate(V,0);if(Q.children.length>0){var jD=b(Q.children[0],K.aGR);
for(var T in jD)if(k.indexOf(T)==-1)a[T]=jD[T]}var eL=a["xml:space"],hK=Q.textContent;if(eL=="preserve")hK=hK.replace(/\t/g," ").replace(/\n/g," ");
if(_==null)C.v7(hK);C.add.lnsr="rend";C.add.TySh=bI.Q6(0,0);C.add.TySh.yW=new jj(0,0,100,100);C.add.TySh.u=ay.Q();
var fU=C.add.TySh.vv;bI.Cq(fU,0,hK);if(L=="tspan")V+=f*hK.length*.5*ay.Nf();var gA=a.fill,ju=a["font-weight"],aF=a["font-family"],e6=a["text-decoration"],ey=a.stroke,jG=a["stroke-width"],hB=a["dominant-baseline"];
if(hB=="text-before-edge")iY=f;else if(hB=="middle")iY=f/2;else if(hB=="hanging")iY=f;if(iY!=0)C.add.TySh.u.translate(0,iY);
var h0=bI.Ni(fU,0,1);if(gA&&gA!="none"){var cd=CSS.qn(gA);h0.iz.FillColor={Type:1,Values:[1,cd.z/255,cd.H/255,cd.c/255]}}if(e6=="underline")h0.iz.Underline=!0;
h0.iz.FontSize=Math.round(f);bI.ud(h0,"LiberationSans");if(ju=="bold")bI.ud(h0,"LiberationSans-Bold");
if(aF){aF=aF.split(",")[0].trim();if(aF[0]=="\"")aF=aF.slice(1);if(aF[aF.length-1]=="\"")aF=aF.slice(0,aF.length-1);
var aD=aF+":"+(ju?ju:"normal"),hy={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(hy[aD])bI.ud(h0,hy[aD]);else bI.ud(h0,aF)}if(a["text-anchor"])h0.u7.Justification=["start","end","middle"].indexOf(a["text-anchor"]);
bI.qc(fU,0,hK.length,h0);if(ey==null||ey=="none"){}else{var jC=JSON.parse(gD.Sy[gD.order.indexOf("FrFX")]);
jC.Clr.v=g.UH.YK(CSS.qn(ey));jC.Sz.v.val=Math.round(parseFloat(jG)*ay.Nf());R(C,"frameFXMulti",jC)}n.k.push(C)}else if(L=="image"){var cp=U(Q);
if(cp&&cp.slice(0,4)=="data"){var kD=d2.pa(cp),en=kD,jp=n.P2(en,C.getName(),0,0);jp.eW=C.eW;C=jp;var d4=C.S.Q();
d4.x=d4.y=0;var ij=Q.getAttribute("width"),dD=Q.getAttribute("height");if(ij)d4.r=parseFloat(ij);if(dD)d4.$=parseFloat(dD);
var am=S(Q);am.concat(Z);var bE=g.b.ho(d4).T;g.b.u(bE,am,bE);C.add.SoLd.Trnf=H.ge.y7(bE);C.add.SoLd.nonAffineTransform=H.ge.y7(bE);
C.IY(n,!1);n.k.push(C)}}else console.log("unknown tag: "+L,Q.children.length,Q.textContent.length);if(t!=null){n.k.push(t);
$--}}}function R(A,G,n){var E=A.add.lmfx;if(E==null){var E=A.add.lmfx=JSON.parse(gD.default);for(var h=0;
h<gD.order.length;h++)E[gD.Lw[h]]={t:"VlLs",v:[]}}E[G].v.push({t:"Objc",v:n})}function r(A,G,n,E,K){var e=[{e:6},{e:8,all:0}],$=J(n);
if($=="use"){var N=U(n),k=G.getElementById(N.slice(1)),V=new bC;if(J(k)!="rect")V=S(k);V.concat(P(k));
e=r(A,G,k,E,K);g.I.Xi(e,V)}else if($=="path"){var X=n.getAttribute("d");if(X==null)return e;var Q=Typr.U.SVGToPath(X);
e=g.b.ZX({T:Q.crds,Wp:Q.cmds},E,K)}else if($=="rect"){var L=n.getAttribute("rx"),_=new aG(0,0);F("x",n,A,_,!0);
F("y",n,A,_,!1);var a=new aG(0,0);F("width",n,A,a,!0);F("height",n,A,a,!1);e=g.I.yu.Rect(_.x,_.y,a.x,a.y,L?parseFloat(L):0)}else if($=="circle"||$=="ellipse"){var T=[0,0,0,0],f=["cx","cy","rx","ry","r"];
for(var h=0;h<5;h++){var Z=n.getAttribute(f[h]);if(Z){Z=parseFloat(Z);if(h<4)T[h]=Z;else T[2]=T[3]=Z}}e=g.I.yu.Bd(T[0]-T[2],T[1]-T[3],2*T[2],2*T[3])}else if($=="polygon"||$=="polyline"||$=="line"){var W;
if($=="line")W=[n.getAttribute("x1"),n.getAttribute("y1"),n.getAttribute("x2"),n.getAttribute("y2")].map(parseFloat);
else W=n.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
e=g.I.yu.pv(W,0,$!="polygon")}return e}function l(A,G){if(A.endsWith("em"))return G*parseFloat(A.slice(0,A.length-2));
else return parseFloat(A)}function M(A,G,n,E,K){var e,$,N,k=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]),V=g.I.Or(E),X=G!=null?G.indexOf("("):-1;
if(X!=-1){var Q=G.indexOf(")"),L=G.slice(0,X).trim(),_=G.slice(X+1,Q).trim();if(_.charAt(0)=="'"||_.charAt(0)=="\"")_=_.slice(1,_.length-1);
if(L=="url"){if(_.charAt(0)=="#"){var a=A.getElementById(_.slice(1));if(a&&J(a).toLowerCase().endsWith("gradient")){N=Y(A,a,n,V,E);
var T=gd.wi(N,E);e="GrFl";$={t:"Objc",v:T}}else if(a&&J(a).toLowerCase()=="pattern"&&a.children[0]&&J(a.children[0])=="use"){e="SoFi";
$={t:"Objc",v:k};var f=a.children[0],Z=P(f),W=U(f),D=A.getElementById(W.slice(1)),C=d2.pa(U(D)).buffer,d=d2.s$(d2.e4(C)),p=d.lx(C)[0],y={};
y.id=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f";y.name="someImage";y.ub=[new Uint8Array(p.data),p.P0];K.Mk(y);
var k=JSON.parse(gD.Sy[gD.order.indexOf("patternFill")]);k.Scl.v.val=Math.round(100*V.r*Z.o5);var i=k.phase.v;
i.Hrzn.v=Math.round(V.x+Z.zP*V.r);i.Vrtc.v=Math.round(V.y+Z.jD*V.$);k.Ptrn.v.Idnt.v=y.id;e="patternFill";
$={t:"Objc",v:k}}else{e="SoFi";$={t:"Objc",v:k}}}else console.log("unknown url",_)}else if(L=="rgb"||L=="rgba"||L=="hsla"){e="SoFi";
$={t:"Objc",v:k};$.v.Clr.v=g.UH.YK(CSS.qn(G));if(L=="rgba"||L=="hsla")$.v.Opct.v.val=Math.round(100*parseFloat(G.split(",").pop()))}else console.log("unknown fill",G)}else{e="SoFi";
$={t:"Objc",v:k};var q=CSS.qn(G);$.v.Clr.v=g.UH.YK(q);if(q.o5!=null)$.v.Opct.v.val=Math.round(100*q.o5/255)}return{e:e,K:$,sN:N}}function P(A){var G=new bC,n=A.getAttribute("transform");
if(n)G=c(n);var E=A.getAttribute("style");if(E!=null){var K={};w(K,E,["transform"]);E=K.transform;if(E)G.concat(c(E))}return G}function S(A,G){var n=new bC,E=A.getAttribute("x"),K=A.getAttribute("y");
if(E)n.zP=parseFloat(E);else if(G)n.zP=G.zP;if(K)n.jD=parseFloat(K);else if(G)n.jD=G.jD;return n}function c(A){var G=Typr.U.SVG.readTrnf(A);
return new bC(G[0],G[1],G[2],G[3],G[4],G[5])}function b(A,G){var n={},E="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var h=0;h<E.length;h++){var K=A.getAttribute(E[h]);if(K!=null&&K!="inherit")n[E[h]]=K}var e=A.getAttribute("class");
if(G!=null&&e!=null&&G["."+e]!=null)w(n,G["."+e],E);var $=A.getAttribute("id");if(G!=null&&$!=null&&G["#"+$]!=null)w(n,G["#"+$],E);
var N=A.getAttribute("style");if(N!=null)w(n,N,E);return n}function w(A,G,n){G=G.trim().split(";");for(var h=0;
h<G.length;h++){var E=G[h].split(":"),K=E[0]?E[0].trim():"",e=E[1]?E[1].trim():"";for(var $=0;$<n.length;
$++)if(K==n[$]&&e!="inherit")A[n[$]]=e}}function U(A){var G=A.getAttribute("xlink:href");if(G==null)G=A.getAttribute("href");
if(G==null)G=A.getAttribute("xl:href");return G}function F(A,G,n,E,K){var e=G.getAttribute(A);if(e==null)return;
var $=parseFloat(e);if(e.endsWith("%"))$*=(K?n.r:n.$)/100;if(K)E.x=$;else E.y=$}function Y(A,G,n,E,K){var e=F,$=new bC,N=G.getAttribute("gradientTransform"),_=!1;
if(N)$=c(N);$.concat(n);var k=J(G)=="linearGradient"?0:1,V=new aG(0,0),X=new aG(1,0),Q=V.Q();if(k==0){var L=new jj(0,0,1,1);
e("x1",G,L,V,!0);e("y1",G,L,V,!1);e("x2",G,L,X,!0);e("y2",G,L,X,!1);Q._h(V.x,V.y)}if(k==1){if(G.getAttribute("cx"))V.x=parseFloat(G.getAttribute("cx"));
if(G.getAttribute("cy"))V.y=parseFloat(G.getAttribute("cy"));X._h(V.x,V.y);Q._h(V.x,V.y);if(G.getAttribute("r"))X.x+=parseFloat(G.getAttribute("r"));
if(G.getAttribute("fx"))Q.x=parseFloat(G.getAttribute("fx"));if(G.getAttribute("fy"))Q.y=parseFloat(G.getAttribute("fy"))}var a=G;
while(!0){if(a.getAttribute("gradientUnits")=="userSpaceOnUse")_=!0;var T=U(a);if(T==null)break;a=A.getElementById(T.slice(1))}if(!_)$=new bC(E.r,0,0,E.$,E.x,E.y);
$=gd.ps(V,X,$);var f=gd.vg(k,$,K);gd.D8(f,V,X,Q);var Z=G.children,W=f[1]=[];if(Z.length==0){var D=U(G);
if(D==null)throw"gradient has no stops";var C=A.getElementById(D.slice(1));if(C==null){console.log(D.slice(1))}else W=f[1]=Y(A,C,$,E,K)[1]}else for(var h=0;
h<Z.length;h++){var d=Z[h],p=b(d),y=p["stop-color"],i=p["stop-opacity"],t=d.getAttribute("offset");if(y==null)y="#000000";
i=i==null?1:parseFloat(i);var O=t?parseFloat(t):0;if(t&&t.endsWith("%"))O/=100;y=CSS.qn(y);if(y.o5!=null)i*=y.o5/255;
W.push([O,[y.z/255,y.H/255,y.c/255],parseFloat(i),.5])}return f}return{KE:v}}();hb.o4=function(){var J=null,v="",x="",o;
function R(V,X,Q,L){var _=[],Z=" { ",W=" } ",D=!1;J=X;x=X.sd?"":"\t";v=X.sd?"":" ";var a=X.a3p,T=X.a4h;
o=du==0?new jj(0,0,V.r,V.$):V.Sd();if(L!=null){o=V.root.children[L].w.Gf();a=o.r;T=o.$}_.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[o.x,o.y,o.r,o.$].join(" ")+"\" width=\""+a+"\" height=\""+T+"\">");
if(!X.sd)_.push(r(1)+"<title>"+n(V.name.split(".")[0])+"</title>");var f={ne:[],SU:[],Ik:0,gV:0,aW:0,Tw:{},w0:{},Si:0,Kg:{},a8v:{},md:0,rr:[]};
F(V,f,V.root.children,1,X,Q,L);if(f.ne.length!=0){_.push(r(1)+"<defs>");_=_.concat(f.ne);_.push(r(1)+"</defs>")}_.push(r(1)+"<style>");
if(X.sd){Z="{";W="}"}for(var h=0;h<V.k.length;h++)if(V.k[h].add.TySh)D=!0;if(D&&!X.adf&&!X.avp)_.push(r(2)+"tspan"+Z+"white-space:pre"+W);
for(var C in f.Kg)_.push(r(2)+"."+C+Z+f.Kg[C]+W);_.push(r(1)+"</style>");_=_.concat(f.SU);_.push("</svg>");
_=_.join(X.sd?"":"\n");return I.xU(_)}function r(co){var V="";for(var h=0;h<co;h++)V+=x;return V}function l(co,V){if(V==null)V=1;
var X=""+parseFloat(co.toFixed(V));if(X.startsWith("0."))X=X.slice(1);return X}function M(V,X){var Q=V.add.lmfx;
if(Q)Q=Q[X].v[0];if(Q)Q=Q.v;if(Q&&!Q.enab.v)Q=null;return Q}function P(V,X){var Q=M(V,"frameFXMulti");
if(Q){var L=Q.Sz.v.val;if(Q.Styl.v.FStl=="OutF"){X.push("paint-order:stroke fill markers");L*=2}U(X,CSS.Jg(Q.Clr.v),1);
if(L!=1)X.push("stroke-width: "+L);X.push("stroke-linejoin: round;")}}var S="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function c(V){var X=S.length,Q="";for(var L=1;L<10;L++){var _=(X-10)*~~Math.pow(X,L-1);if(V<_){for(var h=0;
h<L;h++){var a=h==L-1?10:0,T=X-a,f=V%T;Q=S[f+a]+Q;V=Math.floor((V-f)/T)}break}V-=_}return Q}function b(V,X,Q,L){if(V.length!=0){if(L==null)L="s";
var _=V.join(";"),a=X.a8v[_];if(a==null){a=J.sd?c(X.md):L+X.md;X.md++;X.a8v[_]=a;X.Kg[a]=_}if(Q)Q.push(a);
return a}}function w(V){if(J.sd&&V.length==7&&V[0]=="#"){if(V[1]==V[2]&&V[3]==V[4]&&V[5]==V[6])V="#"+V[1]+V[3]+V[5]}return V}function U(V,X,Q){X=w(X);
if(X!="#000"||Q==1)V.push((Q==0?"fill:":"stroke:")+v+X)}function F(V,X,Q,L,_,a,T){var f=!1;for(var Z=0;
Z<Q.length;Z++){var W=Q[Z].w,D=W.add.lsct;if(W.pT)continue;if(W.add.artb&&T!=null&&Z!=T)continue;if(!W.Hv&&Q[Z+1]&&Q[Z+1].w.Hv&&W.Id()&&W.add.vmsk){var C=[];
K(W,W.add.vmsk,X,C);X.SU.push(r(L)+"<g "+C[0]+">");L++;f=!0}else if(!W.Hv&&Q[Z-1]&&Q[Z-1].w.Hv&&f){L--;
X.SU.push(r(L)+"</g>");f=!1}var d=W.add.vmsk,p=W.add.vogk,y=W.add.vstk,i=W.add.TySh;if(d&&!d.isEnabled)d=y=null;
var t=[];if(!_.hidden&&!W.jh())continue;var O=W.fc/255,q=W.add.iOpa?W.add.iOpa/255:1;if(W.tX()){O*=q;
q=1}if(O!=1)t.push("opacity:"+v+l(O));if(q!=1)t.push("fill-opacity:"+v+l(q));if(W.gR!="norm"){var z=gX.YR[gX.qI.indexOf(W.gR)];
if(z!=null)t.push("mix-blend-mode:"+v+z)}if(!W.jh())t.push("display:"+v+"none");var C=[],jw=[],u=W.getName(),iH=u.indexOf(" .");
if(!_.sd)C.push("id=\""+n(u)+"\"");var s=iD.anB(W.add.lmfx,W.add),bV=s[0],jU=s[1],hx=W.add.SoLd;if(hx&&hx.filterFX){var eX=hx.filterFX.v;
if(eX.enab.v&&eX.filterFXList.v.length!=0)hx=null}var et=[];if(d&&!W.Id()&&!W.tX())K(W,d,X,et);if(et.length!=0)X.SU.push(r(L)+"<g "+G(et,jw)+">");
if(W.tX()){var f7=Q[Z].children;if(f7.length==1&&f7[0].w.add.SoLd&&!_.HM){}else{var iY=d,cd=f7.length==0?null:f7[f7.length-1].w;
if(du==1&&cd&&cd.pT&&cd.jh())iY=cd.add.vmsk;K(W,iY,X,C);if(t.length!=0)C.push("style=\""+t.join(";")+"\"");
if(bV){var jV=CSS.Jg(bV.Clr.v),g2="f"+X.gV;X.gV++;X.SU.push(r(L)+"<filter id=\""+g2+"\">");X.SU.push(r(L+1)+"<feFlood flood-color=\""+jV+"\" flood-opacity=\""+l(bV.Opct.v.val/100,2)+"\" />");
X.SU.push(r(L+1)+"<feBlend mode=\""+gX.YR[gX.qI.indexOf(gX.kF(bV.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
X.SU.push(r(L+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");X.SU.push(r(L)+"</filter>");
C.push("filter=\"url(#"+g2+")\"")}var gV=G(C,jw),fD=_.sd&&gV=="";if(!fD)X.SU.push(r(L)+"<g"+(gV==""?"":" "+gV)+">");
F(V,X,f7,L+1,_,a);if(!fD)X.SU.push(r(L)+"</g>")}}else if(W.Id()&&d==null){e(V,t,W.add,X,o,_);if(t.length!=0)C.push("style=\""+t.join(";")+"\"");
X.SU.push(r(L)+"<rect width=\""+o.r+"\" height=\""+o.$+"\" "+G(C,jw)+"/>")}else if(d&&W.Id()&&W.add.PtFl==null){e(V,t,W.add,X,dp,_,d.X);
b(t,X,jw);var j4,dQ=null,eO=0,a7;if(p.length!=0){j4=p[0].v;dQ=j4.keyOriginType;if(dQ)dQ=dQ.v;if(dQ==2){var cc=g.Fw.w4(j4);
eO=cc[0];for(var h=0;h<3;h++)if(eO!=cc[h+1])dQ=null}}if(p.length==1&&dQ==5&&Math.abs(g.Fw.a2H(j4))<1e-4){var ad=g.Fw.d2(j4),jC=(ad[0]+ad[2])/2,iJ=(ad[1]+ad[3])/2,kJ=jC-ad[0],jr=iJ-ad[1],fY=Math.abs(kJ-jr)<.01,iR=fY?"r=\""+l(kJ)+"\"":"rx=\""+l(kJ)+"\" ry=\""+l(jr)+"\"";
a7="<"+(fY?"circle":"ellipse")+" "+G(C,jw)+" cx=\""+l(jC)+"\" cy=\""+l(iJ)+"\" "+iR+"/>"}else if(p.length==1&&dQ==2&&eO!=0&&Math.abs(g.Fw.a2H(j4))<1e-4){var ad=g.Fw.d2(j4),g6=ad[0],ay=ad[1],cQ=ad[2]-ad[0],aC=ad[3]-ad[1],dI="";
if(g6!=0)dI+=" x=\""+l(g6)+"\"";if(ay!=0)dI+=" y=\""+l(ay)+"\"";dI+=" width=\""+l(cQ)+"\"";dI+=" height=\""+l(aC)+"\"";
dI+=" rx=\""+l(eO)+"\"";a7="<rect "+G(C,jw)+dI+"></rect>"}else{var fm,hd;if(du==0){var ku=g.I.K2(d.X,1);
fm=ku.fF;hd=ku.du}else{var cp=g.b.Am(d.X);fm=Typr.U.pathToSVG({crds:cp.T,cmds:cp.Wp},1);hd=d.da}if(hd!=0){C.push("fill-rule=\"evenodd\"")}a7="<path "+G(C,jw)+" d=\""+fm+"\"/>"}X.SU.push(r(L)+a7)}else if(i&&_.adf){v=_.sd?"":" ";
var hp=i.vv,gA=new fc(hp,a,i.gZ),jN=null;if(bV)jN=CSS.Jg(bV.Clr.v);if(jU){var ad=W.S.Q();k(jU,X,ad,_);
jN="url(#g"+X.Ik+")"}if(jN)t.push("fill:"+v+jN);P(W,t);var cp=h4.xZ(gA,i,!0),d4=g.b.GA(cp);for(var ey in d4){var jG=t.slice(0),cF=jw.slice(0),f5=C.slice(0);
if(jN==null){U(jG,ey.slice(0,7),0);if(ey.length>7){var jW=h4.akz(ey.slice(7));U(jG,N(jW.T0),1);$(jW,jG)}}b(jG,X,cF);
var f$=d4[ey],bh=Typr.U.pathToSVG({crds:f$.T,cmds:f$.Wp},1);X.SU.push(r(L)+"<path "+G(f5,cF)+(_.sd?"":" "+A(i))+" d=\""+bh+"\"/>")}}else if(i&&!_.avp){var hp=i.vv,ii=i.u.Q(),jN=null;
t.push("transform:"+v+E(ii));var dM=bI.FB(hp),gA=new fc(hp,a,i.gZ);P(W,t);if(t.length!=0)C.push("style=\""+t.join(";")+"\"");
X.SU.push(r(L)+"<text "+G(C,jw)+" >");if(bV)jN=CSS.Jg(bV.Clr.v);if(jU){var ad=W.S.Q();ad.x-=ii.zP;ad.y-=ii.jD;
k(jU,X,ad,_);jN=" url(#g"+X.Ik+")"}for(var h=0;h<gA.u7.length;h++){var b7=gA.u7[h];if(b7.uk.length==1&&b7.uk[0].Oe)continue;
for(var bz=0;bz<b7.W9.length;bz++){var cZ=b7.W9[bz],iJ=b7.fw.y+cZ.fw.y,e4=b7.uk[cZ.start].start,fI=b7.uk[cZ.end-1].end,aI=bI.anw(hp,e4,fI),iV="";
for(var k6=0;k6<aI.length;k6++){var bq=gA.fj(e4),cq=aI[k6],ib=bI.Ni(hp,e4,e4),jD=ib.t6[ib.iz.Font].Name,ey=bI.Eb(ib.iz.FillColor),eL=Math.round(ib.iz.FontSize),hK=dM.slice(e4,e4+cq);
if(ib.iz.FontCaps==2)hK=hK.toUpperCase();var fU=new bC;fU.translate(bq.Yf.x,-iJ);var ju=[];CSS.auF(ju,ib,null,!0,!0,jN);
var aF=b(ju,X,null,"t");aF=aF?" class=\""+aF+"\"":"";var jC=bq.Yf.x,e6=Y(ib,hK);iV+="<tspan "+(k6==0?"x=\""+l(bq.Yf.x)+"\"":"")+" y=\""+l(iJ)+"\""+aF+e6+">"+n(hK)+"</tspan>";
e4+=cq}X.SU.push(r(L+1)+iV)}}X.SU.push(r(L)+"</text>")}else if(hx&&_.HM&&bV==null){var g2=hx.Idnt.v,hB=0,h0=hx.Crop?hx.Crop.v:null;
console.log(h0);if(X.w0[g2]!=null)hB=X.w0[g2];else{X.Si++;hB=X.Si;X.w0[g2]=X.Si;var aD=V.pB(g2,h0),en="";
if(aD==null)return;var hy=aD.Vs,kD=d2.e4(aD.raw.buffer);console.log(kD);if(kD=="pdf"){var jp=new d7("h");
d2.s$("PDF").lx(aD.raw.buffer,jp);jp.HQ();jp.wW();jp.Ai();jp.er();if(hx.Crop&&hx.Crop.v==1){H.cD.xK(jp,jp.root.ca(jp,!0))}var ij=d2.s$("SVG").lS(jp,jp.r,jp.$,null,{rr:a});
en="data:image/svg+xml;base64,"+d2.vd(ij)}else if(kD=="jpg"||kD=="png"||kD=="gif"||kD=="svg"){var dD={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
en="data:"+dD[kD]+";base64,"+d2.vd(aD.raw.buffer)}else{en=d2.IR(hy[0].buffer,hy[1].r,hy[1].$)}var am=hx.Sz.v;
X.ne.push(r(2)+"<image width=\""+am.Wdth.v+"\" height=\""+am.Hght.v+"\" id=\"img"+hB+"\" href=\""+en+"\"/>")}var bE=g.O.aQ(hx);
if(t.length!=0)C.push("style=\""+t.join(";")+"\"");var as=G(C,jw);X.SU.push(r(L)+"<use "+as+" href=\"#img"+hB+"\" transform=\""+E(bE)+"\"/>")}else if(!W.S.L3()&&(_.HM||i)){if(t.length!=0)C.push("style=\""+t.join(";")+"\"");
var as=G(C,jw),gs=W.buffer;if(bV)gs=iD.ayP(gs,bV,W.S);var hd=W.S;X.Si++;var en=d2.IR(gs.buffer,hd.r,hd.$,"png",null,!0);
X.ne.push(r(2)+"<image "+A(i)+" width=\""+W.S.r+"\" height=\""+W.S.$+"\" id=\"img"+X.Si+"\" href=\""+en+"\"/>");
X.SU.push(r(L)+"<use "+as+" href=\"#img"+X.Si+"\" x=\""+hd.x+"\" y=\""+hd.y+"\"/>")}if(et.length!=0)X.SU.push(r(L)+"</g>")}if(f){L--;
X.SU.push(r(L)+"</g>");f=!1}}function Y(V,X){var Q=V.iz.Tracking,L="";if(Q!=null&&Q!=0){Q=Math.round(Q*V.iz.FontSize/1e3);
L=" dx=\"0";for(var _=1;_<X.length;_++)L+=" "+Q;L+="\" "}return L}function A(V){if(V==null)return"";
var X=V.vv,Q=bI.FB(X);Q=n(Q.slice(0,Q.length-1));return"aria-label=\""+Q+"\" "}function G(V,X){if(X.length!=0)V.push("class=\""+X.join(" ")+"\"");
return V.join(" ")}function n(V){return String(V).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function E(V){var X=[V.o5,V.c,V.Mz,V.fn,V.zP,V.jD];
for(var h=0;h<6;h++)X[h]=l(X[h],3);return"matrix("+X.join(",")+")"}function K(V,X,Q,L){if(X||V.add.artb){var _;
if(X)_=g.I.K2(X.X).fF;else{var a=V.Gf(),T=g.b.ho(a);_=Typr.U.pathToSVG({crds:T.T,cmds:T.Wp},1)}Q.aW++;
L.push("clip-path=\"url(#cp"+Q.aW+")\"");Q.ne.push(r(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+Q.aW+"\">");
Q.ne.push(r(3)+"<path d=\""+_+"\"/>");Q.ne.push(r(2)+"</clipPath>")}}function e(V,X,Q,L,_,a,T){var f=Q.vmsk,Z=Q.lmfx,W=[];
if(f&&f.p5!=0){var D=l(f.p5);if(L.Tw[D]==null){L.gV++;L.Tw[D]=L.gV;L.ne.push(r(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+L.gV+"\"> <feGaussianBlur stdDeviation=\""+D+"\"/> </filter>")}W.push("url(#f"+L.Tw[D]+")")}if(Z)for(var h=0;
h<gD.order.length;h++){var C=gD.order[h],d=gD.Lw[h],y=Z[d].v;console.log(Z);for(var i=0;i<y.length;i++){var t=y[i].v,O=t.classID;
if(!t.enab.v||!Z.masterFXSwitch.v)continue;if(O=="OrGl"||O=="DrSh"){L.gV++;W.push("url(#f"+L.gV+")");
var q=0,z=0,jw=t.blur.v.val/2.4,u=t.Opct.v.val/100;if(O=="DrSh"){var iH=t.uglg&&t.uglg.v?V.AR():t.lagl.v.val;
iH=iH*(Math.PI/180);var s=t.Dstn.v.val;q=-Math.cos(iH)*s;z=Math.sin(iH)*s}if(O=="OrGl")u/=t.Inpr.v.val/100;
var bV="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+L.gV+"\" >";bV+="<feDropShadow dx=\""+q+"\" dy=\""+z+"\" stdDeviation=\""+jw+"\" flood-color=\""+CSS.Jg(t.Clr.v)+"\" flood-opacity=\""+l(u)+"\"/>";
bV+="</filter>";L.ne.push(r(2)+bV)}}}if(W.length!=0)X.push("filter:"+v+W.join(" "));var jU=Q.vstl;if(jU==null)jU=d7.RF(Q,V);
for(var h=0;h<2;h++){var hx=h==0?jU.sN:jU.T0;if(hx.length==0){if(h==0)X.push("fill:"+v+"none")}else if(hx.length==3)U(X,N(hx),h);
else{k(hx,L,_,a,T);U(X,"url(#g"+L.Ik+")",h)}}if(jU.T0.length!=0){$(jU,X)}}function $(V,X){var Q=V.yd,L=V.$h,_=V.fk,a=V.Bf,T=V.Wy;
if(a==2){_*=2;X.push("paint-order:stroke fill markers")}if(Q!=0)X.push("stroke-linecap:"+v+["butt","round","square"][Q]);
if(L!=0)X.push("stroke-linejoin:"+v+["miter","round","bevel"][L]);else if(V.M0!=4)X.push("stroke-miterlimit:"+V.M0);
if(_!=1)X.push("stroke-width:"+v+l(_));if(T.length!=0)X.push("stroke-dasharray:"+v+T.join(","))}function N(V){return CSS.yN({z:V[0]*255,H:V[1]*255,c:V[2]*255})}function k(V,X,Q,L,_){if(_==null)_=g.I.yu.Rect(Q.x,Q.y,Q.r,Q.$);
if(!(V instanceof Array))V=gd.bI(V,_);X.Ik++;var a=V[0],T=(a==1?"radial":"linear")+"Gradient",f=r(2)+"<"+T+" id=\"g"+X.Ik+"\"",Z="";
if(L.sd){if(X.Ik==1)X.ne.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");Z=" href=\"#P\""}else Z=" gradientUnits=\"userSpaceOnUse\"";
var W=gd.zv(V,_),D=[new aG(0,0),new aG(1,0)];Z+=" gradientTransform=\""+E(W)+"\"";var C=L.sd?2:3;if(a==0)X.ne.push(f+" x2=\"1\""+Z+">");
if(a==1){if(V[2][6]!=0){var d=V[2][5]*Math.PI/180,p=V[2][6];X.ne.push(f+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+l(Math.cos(d)*p,C)+"\" fy=\""+l(-Math.sin(d)*p,C)+"\""+Z+">")}else X.ne.push(f+" cx=\"0\" cy=\"0\" r=\"1\""+Z+">")}var y=V[1];
for(var h=0;h<y.length;h++){var i=y[h],t=i[0],O=i[1],q=i[2];q=q==1?"":" stop-opacity=\""+l(q,C)+"\"";
var z=t==0&&L.sd?"":" offset=\""+l(t,C)+"\"",jw=N(O);jw=L.sd&&jw=="#000000"?"":" stop-color=\""+w(jw)+"\"";
X.ne.push(r(3)+"<stop"+z+jw+q+"/>")}X.ne.push(r(2)+"</"+T+">")}hb.op=E;return R}();hb.yu=function(J,v,x,o,R){var r=[],l=hb.yu,M=!1,P={BK:J,mq:v,mf:[!0,!0,!0],Az:!1,cc:x,au0:0};
P.LO=Math.round(Math.max(J,v)*(.02+l.kb(P)*.03));P.Ej=l.aEj(P);P.Ps=l.aFx(P.Ej,(l.kb(P)<.5?-1:1)*(.2+l.kb(P)*.3));
if(l.kb(P)<.5){var S=P.Ej;P.Ej=P.Ps;P.Ps=S}P.aiG=l.kb(P)<.4&&l.arV(P.Ps,{z:1,H:1,c:1})>.3;P.aa5=l.kb(P)<.5?0:1;
r.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+J+" "+v+"\" width=\""+J+"\" height=\""+v+"\">");
P.GF=o[Math.floor(l.Y0(P)*o.length)];P.vs=o[Math.floor(l.Y0(P)*o.length)];r.push("<style>");r.push("@font-face {  font-family: "+P.GF[2]+";  src: url("+f6.Lu("rsrc/fonts/"+P.GF[5])+");  }");
r.push("@font-face {  font-family: "+P.vs[2]+";  src: url("+f6.Lu("rsrc/fonts/"+P.vs[5])+");  }");r.push("</style>");
var c=[0,0,J,v],b=c;if(R==null)r.push("<path style=\"fill: "+l.ZK(P.Ej)+"\" d=\""+l.Rect(c[0],c[1],c[2]-c[0],c[3]-c[1])+"\" id=\"Background\" />");
else{P.Az=!0;l.a82(P,c,r,R)}if(l.kb(P)<.25&&!P.Az){P.mf[0]=P.mf[2]=!1;l.acT(c,P,r);b=c}else if(l.kb(P)<.25||P.Az)b=c;
else{var w=.52+l.kb(P)*.2;if(l.kb(P)<.5)w=1-w;var U=c.slice(0),F=c.slice(0);if(l.kb(P)<.5)U[2]=F[0]=Math.round(w*J);
else U[3]=F[1]=Math.round(w*v);if(l.kb(P)<.5){var S=U;U=F;F=S}b=U;l.a5I(P,F,r,R)}l.aJg(P,b,r);r.push("</svg>");
r=r.join("\n");var Y=g.C(Math.round(r.length*1.5)),A=I.Ez(r,Y,0);return[Y.buffer.slice(0,A),P.fK]};hb.yu.acT=function(J,v,x){var o=hb.yu,R=J[2]-J[0],r=J[3]-J[1];
if(o.kb(v)<.5){x.push("<path id=\"Border\" style=\"fill: "+o.ZK(v.Ps)+"\" d=\""+o.as0(J[0],J[1],J[2]-J[0],J[3]-J[1],v.LO)+"\" />")}else{var l=o.kb(v)<.5?0:1,M=(l==0?r:R)/4,P=o.Zz(v,l,J,x,M,!0),P=o.Zz(v,l+2,J,x,M,!0,P)}};
hb.yu.aJg=function(J,v,x){var o=hb.yu,R="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),r=2*Math.floor(o.kb(J)*R.length/2),l=v[2]-v[0],M=v[3]-v[1],S=0,b=0;
J.Xz=(J.BK+l)*.5*(.04+o.kb(J)*.05);J.Xz=Math.min(J.Xz,M*.4,l*.12);J.Xz=Math.round(J.Xz);var P=Math.min(J.Xz*R[r].length*(.35+.3*o.kb(J)),l*.9),c=(v[1]+v[3])/2,w=g.lq(J.Ej)<.85?{z:1,H:1,c:1}:{z:.1,H:.1,c:.1};
if(o.kb(J)<.25&&J.mf[0]){b=0;S=v[0]+J.LO}else if(o.kb(J)<.33&&J.mf[2]){b=2;S=v[2]-J.LO}else{b=1;S=(v[0]+v[2])/2}var U=w.z==1?"0,0,0":"255,255,255",F=J.Az&&o.kb(J)<1;
if(F){var Y=v[0],A=l,G=c-J.Xz*1.1,n=J.Xz*2.2,E=.7;if(b==1&&o.kb(J)<.5){Y=G=.2*Math.min(l,M);A=l-2*G;
n=M-G-G}else if(o.kb(J)<.7){Y=G=0;A=l;n=M;E=.25}x.push("<path id=\"Strip\" style=\"fill: rgb("+U+"); opacity: "+E+"\" d=\""+o.Rect(Y,G,A,n)+"\" />")}if(o.kb(J)<.4){var K=J.Xz*.07;
K*=1.5+o.kb(J)*1;if(b==-1&&l/M<3&&!F){x.push("<path id=\"Bar-bottom\" style=\"fill: "+o.ZK(w)+"\" d=\""+o.Rect(S-P/2,c+J.Xz*1.1-K/2,P,K)+"\" />");
x.push("<path id=\"Bar-top\"    style=\"fill: "+o.ZK(w)+"\" d=\""+o.Rect(S-P/2,c-J.Xz*1.1-K/2,P,K)+"\" />")}if(b!=1){x.push("<path id=\"Bar\" style=\"fill: "+o.ZK(w)+"\" d=\""+o.Rect(S-K/2,c-J.Xz*.8,K,J.Xz*.8*2)+"\" />");
S+=(b==0?1:-1)*J.Xz/3}}var e=J.Xz*.4;x.push(o.a5_(R[r+1],S,c+e*1.6,e,w,b,J.vs));x.push(o.a5_(R[r],S,c+J.Xz*.04,J.Xz,w,b,J.GF))};
hb.yu.a5I=function(J,v,x,o){var R=v[2]-v[0],r=v[3]-v[1],l=Math.max(R,r),M=Math.min(R,r),P=hb.yu;if(l/M<5&&!J.Az&&!1){P.a82(J,v,x,o)}else if(P.kb(J)<0)x.push("<path style=\"fill: "+P.ZK(J.Ps)+"\" d=\""+P.Rect(v[0],v[1],R,r)+"\" />");
else{var S=0;if(v[3]!=J.mq)S=0;if(v[2]!=J.BK)S=3;if(v[0]!=0)S=1;if(v[1]!=0)S=2;var c=S+2&3;if(l/M<3){var b=P.an_(c),w=b[Math.round(P.kb(J)*(b.length-1))],U=w.ox.slice(0,4),F=U.indexOf(1);
w=g.F(w);var Y=-1;if(U!="0000"){var A=new bC;if(w.ox[5]=="0"){if(F==3&&S==1){Y=1;A.scale(-1,1)}else Y=F}else{var G=c;
while(G==c)G=Math.floor(P.kb(J)*4)&3;A.rotate((-F+G)*Math.PI/2)}P.u(w,A)}var n=P.ni(w),E=R-2*J.LO,K=r-2*J.LO;
if(Y!=-1){if((Y&1)==0)K-=J.LO;else E-=J.LO}var e=Math.min(E/n.r,K/n.$),$=new bC;$.translate(-n.x,-n.y);
$.scale(e,e);var N=(R-n.r*e)/2,k=(r-n.$*e)/2;if(Y!=-1){if(Y==3)N=0;if(Y==0)k=0;if(Y==1)N=R-n.r*e;if(Y==2)k=r-n.$*e}$.translate(v[0]+N,v[1]+k);
P.YP(J,w,$,J.Ps,x)}else{P.Zz(J,S,v,x,1e9)}}};hb.yu.a82=function(J,v,x,o){var R=v[2]-v[0],r=v[3]-v[1],l=Math.max(R,r),M=Math.min(R,r),P=hb.yu,S=P.Y0(J),c,b,w,U=o[0]instanceof ArrayBuffer;
if(U){c="data:image/jpg;base64,"+aB.sg(o[0]);b=o[1];w=o[2]}else{var F=Math.floor(S*o.length),Y=o[F];
J.fK=Y;c=Y.webformatURL;b=Y.webformatWidth;w=Y.webformatHeight}var A=v[0],G=v[1],n=R,E=r;if(R/r>b/w){E=n*w/b;
G=G-(E-r)/2}else{n=E*b/w;A=A-(n-R)/2}if(U){x.push("<defs>");x.push("<image width=\""+b+"\" height=\""+w+"\" id=\"Background\" href=\""+c+"\" />");
x.push("</defs>");var K=n/b;x.push("<use href=\"#Background\" transform=\""+hb.op(new bC(K,0,0,K,A,G))+"\" />")}else{var e="cp"+Math.random();
x.push("<clipPath id=\""+e+"\">");x.push("<path style=\"fill: "+P.ZK(J.Ps)+"\" d=\""+P.Rect(v[0],v[1],R,r)+"\" />");
x.push("</clipPath>");x.push("<image  clip-path=\"url(#"+e+")\" xlink:href=\""+c+"\" x=\""+A+"\" y=\""+G+"\" width=\""+n+"\" height=\""+E+"\" />")}};
hb.yu.a5_=function(J,v,x,o,R,r,l){var M=hb.yu;return"<text x=\""+v+"\" y=\""+x+"\" style=\"fill:"+M.ZK(R)+"; font-size:"+o+"px; text-anchor:"+["start","middle","end"][r]+"; font-family:"+l[2]+";\"><tspan>"+J+"</tspan></text>"};
hb.yu.YP=function(J,v,x,o,R){var r=hb.yu,l=[];for(var h=0;h<v.J7.length;h++){l.push(o);if(J.aiG){o=(h&1)==J.aa5?{z:1,H:1,c:1}:l[0]}}R.push("<g id=\""+v.ox.split("-")[2]+":::\" style=\"transform: "+hb.op(x)+";\" >");
for(var h=0;h<v.J7.length;h++){var M=v.J7[h];o=l.pop();R.push("<path style=\"fill: "+(o?r.ZK(o):"#"+M[0])+"\" d=\""+Typr.U.pathToSVG({crds:M[1].T,cmds:M[1].Wp})+"\" />")}R.push("</g>")};
hb.yu.aiv=function(){if(SHPS[0].ox)return;for(var h=0;h<SHPS.length;h++){var J=SHPS[h],v=J[1],x=[];for(var o=0;
o<v.length;o++){var R=v[o],r=Typr.U.SVGToPath(R[1]);x.push([R[0],{Wp:r.cmds,T:r.crds}])}SHPS[h]={ox:J[0],J7:x}}};
hb.yu.an_=function(J){var v=SHPS;hb.yu.aiv();var x=[];for(var h=0;h<v.length;h++){var o=v[h],R=o.ox.slice(0,4);
if(R=="0000"){x.push(o);continue}if(["1000","0100","0010","0001"].indexOf(R)==-1)continue;var r=R.indexOf("1");
if(o.ox[5]=="0"&&J==r&&r!=3)continue;x.push(o)}return x};hb.yu.Zz=function(J,v,x,o,R,r,l){var M=SHPS,n,E;
hb.yu.aiv();var P=hb.yu,S=[];for(var h=0;h<M.length;h++){var c=M[h],b=c.ox.slice(0,4);if(["1110","1101","1011","0111"].indexOf(b)==-1)continue;
var w=b.indexOf("0")+2&3;if(c.ox[5]=="0")if(r==!0||v!=w&&!(v==1&&w==3))continue;S.push(c)}var U=l!=null?l:Math.floor(P.kb(J)*S.length),c=S[U],c=g.F(c),b=c.ox.slice(0,4),w=b.indexOf("0")+2&3;
if(w==3&&v==1)g.u(c,new bC(1,0,0,-1,0,1e3));var F=new bC;F.translate(-500,-500);F.rotate(-w*Math.PI/2);
F.translate(500,500);P.u(c,F);var Y=x[3]-x[1],A=x[2]-x[0],G=P.ni(c);if(G.y<0){G.$+=G.y;G.y=0}if(G.y>0){G.$+=G.y;
G.y=0}if((v&1)==0){E=Y;n=A}else{n=Y;E=A}var K=Math.min(Math.min(.5+.5*P.kb(J))*Math.min(A,Y),R)/G.$,e=Math.ceil(n/(1e3*K)),$=new bC,N=new bC;
N.scale(K,K);if(v==0||v==2){N.translate(-(A/2),-(Y/2));N.rotate(-v*Math.PI/2);N.translate(A/2+x[0],Y/2+x[1])}else{N.rotate(Math.PI/2);
N.scale(1,-1);N.translate(x[0],x[1]);if(v==1){N.scale(-1,1);N.translate(A,0)}}o.push("<g id=\"Border-"+["top","right","bottom","left"][v]+":::\">");
for(var h=0;h<e;h++){var k=$.Q();k.concat(N);P.YP(J,c,k,J.Ps,o);$.translate(1e3-2,0)}o.push("</g>");
return U};hb.yu.Rect=function(J,v,x,o){return Typr.U.pathToSVG({crds:[J,v,J+x,v,J+x,v+o,J,v+o],cmds:["M","L","L","L","Z"]})};
hb.yu.as0=function(J,v,x,o,R){var r=[J,v,J+x,v,J+x,v+o,J,v+o];J+=R;v+=R;x-=2*R;o-=2*R;r.push(J,v,J,v+o,J+x,v+o,J+x,v);
return Typr.U.pathToSVG({crds:r,cmds:"M L L L Z M L L L Z".split(" ")})};hb.yu.aFx=function(J,v){var x=g.jk(J.z,J.H,J.c);
x.hm=Math.max(.1,Math.min(.9,x.hm+v));return g.aS(x.mq,x.hO,x.hm)};hb.yu.aBW=function(J,v){var x=g.jk(J.z,J.H,J.c);
x.mq+=v;return g.aS(x.mq,x.hO,x.hm)};hb.yu.ac6=function(J){var v=g.jk(J.z,J.H,J.c);v.hm=1-v.hm;return g.aS(v.mq,v.hO,v.hm)};
hb.yu.arV=function(J,v){var x=J.z-v.z,o=J.H-v.H,R=J.c-v.c;return Math.sqrt(x*x+o*o+R*R)};hb.yu.aEj=function(J){var v=hb.yu;
return{z:v.kb(J),H:v.kb(J),c:v.kb(J)}};hb.yu.ZK=function(J){return CSS.yN({z:J.z*255,H:J.H*255,c:J.c*255})};
hb.yu.ni=function(J){var v=J.J7,x=new jj;for(var h=0;h<v.length;h++)x=x.h0(g.b.ni(v[h][1].T));return x};
hb.yu.u=function(J,v){var x=J.J7;for(var h=0;h<x.length;h++)g.b.u(x[h][1].T,v,x[h][1].T)};hb.yu.kb=function(J){J.au0++;
var v=J.au0&3;if(v==0)J.cc=hb.yu.us(J.cc);var x=J.cc>>>8*v&255;return x*(.99999999/255)};hb.yu.Y0=function(J){var v=hb.yu.us(J.cc);
J.cc=hb.yu.us(v);return v*(1/4294967295)};hb.yu.us=function(J){J=(J^61^J>>>16)>>>0;J=J+(J<<3)>>>0;J=(J^J>>>4)>>>0;
J=J*668265261>>>0;J=(J^J>>>15)>>>0;return J};var fC={};fC.parse=function(J){var v=new Uint8Array(J),x=null;
if(v[0]==80&&v[1]==75){var o=Date.now(),R=UZIP.parse(v.buffer),x=R["document.json"];x=JSON.parse(I.Aq(x,0,x.length));
fC.ir(x,R)}else{var r=ae.parse(J);x=fC.afM(r[2][0][1])}return x};fC.ir=function(J,v){var x=typeof J;
if(x=="string"||x=="number"||x=="boolean"||J==null)return J;if(J instanceof Array){for(var h=0;h<J.length;
h++)J[h]=fC.ir(J[h],v);return J}var o=J._class;if(o==null)return J;if(o=="MSJSONFileReference"){var R=J._ref;
if(!1){}else if(v[R+".json"]!=null){var r=v[R+".json"],l=r.length;for(var h=0;h<l;h++)if(r[h]==11||r[h]==3)r[h]=32;
var M=I.Aq(r,0,l);J=JSON.parse(M)}else if(v[R+".png"]!=null)return{key:R.split("/").pop(),bdata:v[R+".png"]};
else if(v[R+".jpg"]!=null)return{key:R.split("/").pop(),bdata:v[R+".jpg"]};else if(v[R+".pdf"]!=null)return{key:R.split("/").pop(),bdata:v[R+".pdf"]};
else if(v[R]!=null)return{key:R.split("/").pop(),bdata:v[R]};else{console.log(J,v);return}}else if(o=="MSAttributedString"){var M=atob(J.archivedAttributedString._archive),P=M.length,S=new Uint8Array(P);
for(var h=0;h<P;h++)S[h]=M.charCodeAt(h);J.archivedAttributedString=fC.afM(S)}for(var c in J)J[c]=fC.ir(J[c],v);
return J};fC.aBP=function(J,v,x,o,R){if(J instanceof Uint8Array)return null;if(o.indexOf(J)!=-1)return null;
o.push(J);if(J==v)return x;for(var r in J){x.push(r);var l=fC.aBP(J[r],v,x,o,R);if(l){console.log(J,l);
throw"e"}x.pop()}};fC.afM=function(J){var v=kd.parse(J,0),x=v.$objects,o=new Uint8Array(x.length),R=fC.ty(x,o,v.$top.root);
for(var h=0;h<x.length;h++)if(o[h]==0&&h!=0){console.log(h,x[h]);fC.aBP(R,h,[],[],typeof x[h])}for(var h=0;
h<x.length;h++){var r=x[h];if(r._class&&(r._class=="bitmap"||r._class=="fill"&&r.fillType==4&&(r.image||r.imageSHA))){var l=r.image,M=r.imageSHA,P=null,S=null;
if(l=="$null")l=null;if(M=="$null")M=null;if(l&&l.data){S=l.sha1["NS.bytes"];S=btoa(I.b_(S,0,S.length));
P=l.data instanceof Uint8Array?l.data:l.data["NS.bytes"]}else if(l==null&&M==null){var c=d2.s$("PNG").lS([[g.C(4).buffer]],1,1);
P=new Uint8Array(c)}else{var b=(R.assets?R.assets.imageCollection:R.images).images;if(M)S=M instanceof Uint8Array?M:M["NS.bytes"];
else S=l.sha1["NS.bytes"];S=btoa(I.b_(S,0,S.length));var P=b[S].data;if(P["NS.bytes"])P=P["NS.bytes"]}P=new Uint8Array(P.buffer.slice(P.byteOffset,P.byteOffset+P.length));
delete r.imageSHA;r.image={key:S,bdata:P}}}return R};fC.aEV=function(J){return J.slice(0,11)=="MSImmutable"?"MS"+J.slice(11):J};
fC.ty=function(J,v,x){var o=J[x];if(v[x]==1){return o}v[x]=1;if(typeof o=="string")return o;if(typeof o=="number")return o;
if(typeof o=="boolean")return o;if(o instanceof Array)return o;if(o instanceof Uint8Array){return o}if(J[o.$class]==null){if(o.$class==null&&o["NS.data"]!=null)return o;
console.log(x,o);throw"e"}var R=J[o.$class],r=fC.aEV(R.$classname);v[o.$class]=1;o.$class=r;if(fC.aog[r]){delete o.$class;
o._class=fC.aog[r]}var l=fC.ty;if(r=="NSMutableArray"||r=="NSArray"){var M=[];if(o["NS.objects"]!=null)for(var h=0;
h<o["NS.objects"].length;h++)M.push(l(J,v,o["NS.objects"][h]));else for(var h=0;o["NS.object."+h]!=null;
h++)M.push(l(J,v,o["NS.object."+h]));J[x]=M;return M}if(r=="NSDictionary"||r=="NSMutableDictionary"){var P={$class:r};
if(o["NS.keys"]!=null)for(var h=0;h<o["NS.keys"].length;h++){var S=l(J,v,o["NS.keys"][h]);if(S instanceof Uint8Array)S=btoa(fC.$X.b_(S,0,S.length));
else if(typeof S!="string"&&typeof S!="number")S=btoa(fC.$X.b_(S["NS.bytes"],0,S["NS.bytes"].length));
P[S]=l(J,v,o["NS.objects"][h])}else for(var h=0;o["NS.key."+h]!=null;h++){var S=l(J,v,o["NS.key."+h]);
if(S instanceof Uint8Array)S=btoa(fC.$X.b_(S,0,S.length));else if(typeof S!="string"&&typeof S!="number")S=btoa(fC.$X.b_(S["NS.bytes"],0,S["NS.bytes"].length));
P[S]=l(J,v,o["NS.object."+h])}for(var c in o)delete o[c];for(var c in P)o[c]=P[c];return o}if(r=="NSURL")return{$class:r,base:l(J,v,o["NS.base"]),relative:l(J,v,o["NS.relative"])};
if(fC.aEa.indexOf(r)!=-1){J[x]=l(J,v,o.array_do);return J[x]}if(o.do_objectID!=null)o.do_objectID=l(J,v,o.do_objectID);
if(fC.ab7.indexOf(r)!=-1)return o;var b=fC.alx[r];if(b==null){console.log(J,o);throw"unknown class "+r}for(var h=0;
h<b.length;h++)if(o[b[h]]!=null)o[b[h]]=l(J,v,o[b[h]]);if(r=="MSTextLayer"){var w=o,U,F,Y,A;if(w.attributedString)U=w.attributedString.archivedAttributedString;
else U=w.storage;A=U.NSString;if(typeof A!="string")A=I.Aq(A["NS.bytes"],0,A["NS.bytes"].length);if(U.NSAttributeInfo)F=U.NSAttributeInfo["NS.bytes"];
else{var G=A.length,n=[];while(G>0){var E=Math.min(100,G);n.push(E,0);G-=E}F=new Uint8Array(n)}Y=U.NSAttributes instanceof Array?U.NSAttributes:[U.NSAttributes];
var K={$class:"NSAttributedString",NSString:A,NSAttributes:Y};w.attributedString={_class:"MSAttributedString",archivedAttributedString:K};
K.NSAttributeInfo={$class:"NSMutableData","NS.data":F};delete w.storage}return o};fC.$X={H1:function(J,v){return J[v+1]<<8|J[v]},m7:function(J,v){return J[v+3]<<24|J[v+2]<<16|J[v+1]<<8|J[v]},b_:function(J,v,x){var o="";
for(var h=0;h<x;h++)o+=String.fromCharCode(J[v+h]);return o}};fC.aog={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
fC.aEa=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
fC.ab7="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
fC.alx={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var kd={};kd.parse=function(J,v){var x=I.b_(J,v,8);v+=8;var o=J.length-32,R=kd.parse.aAW(J,o),r=[];if(R.gU==1){var v=o-R.gU*R.x8;
for(var h=0;h<R.x8;h++)r.push(J[v+h])}else if(R.gU==2){var v=o-R.gU*R.x8;for(var h=0;h<R.x8;h++)r.push(I.H1(J,v+h*2))}else if(R.gU==4){var v=o-R.gU*R.x8;
for(var h=0;h<R.x8;h++)r.push(I.m7(J,v+h*4))}else{throw"e"}var l=kd.parse.ty(J,r,R.root,R);return l};
kd.parse.ty=function(J,v,x,o){var R=kd.$X,r=o.amQ,l=r==4?R.m7:r==2?R.H1:R.aiT,M=kd.parse,P=v[x],S=J[P],c=S>>4,b=S&15,U=null;
P+=1;if([4,5,6,10,12,13].indexOf(c)!=-1&&b==15){var w=M.a$(J,P);P+=w.XV;b=w.K}if(!1){}else if(c==0)U=b==8?!1:b==9?!0:null;
else if(c==1)U=M.a$(J,P-1).K;else if(c==2)U=1<<b==4?I.Ll(J,P):I.gM(J,P);else if(c==3)U=I.gM(J,P);else if(c==4)U=new Uint8Array(J.buffer,P,b);
else if(c==5)U=I.b_(J,P,b);else if(c==6)U=I.Gq(J,P,b);else if(c==8){U=0;for(var h=0;h<b+1;h++)U=U<<8|J[P+h]}else if(c==10){U=[];
for(var h=0;h<b;h++)U.push(M.ty(J,v,l(J,P+r*h),o))}else if(c==12){U=[];for(var h=0;h<b;h++)U.push(M.ty(J,v,l(J,P+r*h),o))}else if(c==13){U={};
for(var h=0;h<b;h++){var F=M.ty(J,v,l(J,P+r*h),o),Y=M.ty(J,v,l(J,P+r*(b+h)),o);U[F]=Y}}else throw"unknown mask "+c;
return U};kd.parse.a$=function(J,v){var x=1<<(J[v]&15),o=0;for(var h=0;h<x;h++)o=o<<8|J[v+1+h];return{K:o,XV:x+1}};
kd.parse.aAW=function(J,v){var x={};v+=6;x.gU=J[v];v++;x.amQ=J[v];v++;v+=4;x.x8=I.m7(J,v);v+=4;v+=4;
x.root=I.m7(J,v);v+=4;v+=4;x.arJ=I.m7(J,v);v+=4;return x};kd.$X={aiT:function(J,v){return J[v]},H1:function(J,v){return J[v]<<8|J[v+1]},m7:function(J,v){return J[v]<<24|J[v+1]<<16|J[v+2]<<8|J[v+3]},b_:function(J,v,x){var o="";
for(var h=0;h<x;h++)o+=String.fromCharCode(J[v+h]);return o}};var ae={parse:function(J){var v=new Uint8Array(J),x=ae.ZR(v),o=[],R=new Uint8Array(v.length),r=[];
o.push(r);ae.BL(v,x,1,R,r);for(var h=0;h<r.length;h++){var l=[];o.push(l);ae.BL(v,x,r[h][3],R,l,h==11);
r[h][3]=h+1}return o},BL:function(J,v,x,o,R,r){x--;var l=x*v.pI+(x==0?100:0),M=J[l],P=ae.H1(J,l+1),S=ae.H1(J,l+3),c=ae.H1(J,l+5),w=0;
if(c==0)c=65536;var b=J[l+7];l+=8;if(M==2||M==5){w=ae.m7(J,l);l+=4}for(var U=0;U<S;U++){var F=x*v.pI+ae.H1(J,l+2*U),Y=-1,A=0,G=0,n=0;
if(M==2||M==5){Y=ae.m7(J,F);F+=4}if(M==2||M==10||M==13){A=ae.Kk(J,F);F+=A.XV}if(M==5||M==13){G=ae.Kk(J,F);
F+=G.XV}if(M==2||M==5){ae.BL(J,v,Y,o,R,r);continue}var E=v.pI-(x==0?100:0),K=A.Bl,e=M==13?E-35:Math.floor((E-12)*64/255)-23,$=Math.floor((E-12)*32/255)-23,N=$+(K-$)%(E-4);
if(K<=e){ae.oj(J,F,o,0,K)}else{var k=N<=e?N:$,V=0;ae.oj(J,F,o,0,k);V+=k;n=ae.m7(J,F+k);while(n!=0){var X=(n-1)*v.pI;
n=ae.m7(J,X);var Q=Math.min(v.pI-4,K-V);ae.oj(J,X+4,o,V,Q);V+=Q}}R.push(ae.aFq(o,K))}if(w!=0)ae.BL(J,v,w,o,R,r)},aFq:function(J,v){var x=0,o=ae.Kk(J,x);
x+=o.XV;var R=[],r=[];while(x<o.Bl){var l=ae.Kk(J,x);x+=l.XV;R.push(l.Bl)}if(x!=o.Bl)throw"e";for(var h=0;
h<R.length;h++){var l=R[h];if(!1){}else if(l==0)r.push(null);else if(l==1){r.push(ae.ahe(J,x));x+=1}else if(l==2){r.push(ae.lT(J,x));
x+=2}else if(l==3){r.push(ae.aa3(J,x));x+=3}else if(l==4){r.push(ae.a$(J,x));x+=4}else if(l==5){r.push(ae.m7(J,x+2));
x+=6}else if(l==6){r.push(ae.m7(J,x)+":"+ae.m7(J,x+4));x+=8}else if(l==7){r.push(ae.axE(J,x));x+=8}else if(l==8)r.push(0);
else if(l==9)r.push(1);else if(l>=12&&(l&1)==0){var M=l-12>>1,P=new Uint8Array(M);ae.oj(J,x,P,0,M);r.push(P);
x+=M}else if(l>=13&&(l&1)==1){var M=l-13>>1;r.push(ae.Aq(J,x,M));x+=M}else throw"unknonw type "+l}return r},ZR:function(J){if(!(J[18]==1&&J[19]==1&&J[20]==0&&J[21]==64&&J[22]==32&&J[23]==32))throw"unexpected SQL3 header";
var v={Sl:ae.b_(J,0,15),pI:ae.H1(J,16),aBa:ae.m7(J,24),size:ae.m7(J,28),aHc:ae.m7(J,32),aym:ae.m7(J,36),ai1:ae.m7(J,40),abC:ae.m7(J,44),aab:ae.m7(J,48),abN:ae.m7(J,52),aqu:ae.m7(J,56),aus:ae.m7(J,60),a2x:ae.m7(J,64)!=0,abQ:ae.m7(J,68),aob:ae.m7(J,92),a3c:ae.m7(J,96)};
if(v.pI==1)v.pI=65536;if(v.aqu!=1)throw"unsupported text encoding "+v.aqu;return v},ayU:function(J,v){return J[v]<<16|J[v+1]<<8|J[v+2]},aa3:function(J,v){var x=ae.ayU(J,v),o=x&8388608;
return o?-(16777215-x+1):x},ahe:function(J,v){ae.sV[0]=J[v];return ae.aBM[0]},a$:function(J,v){var x=ae.sV;
for(var h=0;h<4;h++)x[h]=J[v+3-h];return ae.a0a[0]},lT:function(J,v){var x=ae.sV;x[0]=J[v+1];x[1]=J[v];
return ae.aFa[0]},H1:function(J,v){return J[v]<<8|J[v+1]},m7:function(J,v){var x=ae.sV;for(var h=0;h<4;
h++)x[h]=J[v+3-h];return ae.afY[0]},axE:function(J,v){var x=ae.sV;for(var h=0;h<8;h++)x[h]=J[v+7-h];
return ae.a9j[0]},Kk:function(J,v){var x=v,co=0;while(!0){var o=J[v];v++;co=co*128+(o&127);if(o<128)break}return{Bl:co,XV:v-x}},b_:function(J,v,x){var o="";
for(var h=0;h<x;h++)o+=String.fromCharCode(J[v+h]);return o},Aq:function(J,v,x){var o="";for(var h=0;
h<x;h++)o+="%"+ae.amq(J[v+h].toString(16));try{o=decodeURIComponent(o);return o}catch(gw){return o}},oj:function(J,v,x,o,R){if(R!=0&&(J[v+R-1]==null||x[o+R-1]==null)){console.log(v,o,R);
throw"e"}for(var h=0;h<R;h++)x[o+h]=J[v+h]},amq:function(co){return co.length<2?"0"+co:co}};ae.sV=new Uint8Array(8);
ae.aBM=new Int8Array(ae.sV.buffer);ae.aFa=new Int16Array(ae.sV.buffer);ae.a0a=new Int32Array(ae.sV.buffer);
ae.afY=new Uint32Array(ae.sV.buffer);ae.a9j=new Float64Array(ae.sV.buffer);ae.anZ=function(J,v){var x=J[0],o={};
for(var h=0;h<x.length;h++){var R=x[h],r=R[1];if(R[0]!="table")continue;var l=R[4];l=l.slice(l.indexOf("(")+1,l.indexOf(")"));
l=l.split(",");for(var M=0;M<l.length;M++){var P=l[M].trim().split(" ")[0];if(v&&P.startsWith(r))P=P.slice(r.length);
l[M]=P}var S=o[r]=[],c=J[R[3]];for(var M=0;M<c.length;M++){var b=c[M],w={};S.push(w);for(var U=0;U<l.length;
U++){if(w[l[U]]!=null)throw"e";w[l[U]]=b[U]}}}return o};function c7(J,v,x){this.C_=J;this.cy=v;this.avr=x;
this.d0=new aG(0,0);this.FV=-1;this.B6=0;this.tB=0;this.Xk=new jj;this.NB=[];this.w1=null;this.anf=null;
this.nD=null;this.zQ=null;this.mn=null;this.a3X=null}c7.prototype.StartPage=function(J,v,x,o,R){var r=this.cy,l=r.Nf(),M=1,P=(x-J)*(o-v);
if(R!=null)P=R;while(P*l*l/(M*M)>2*8192*8192)M++;r.scale(1/M,1/M);this.anf=[J,v,x,o];var M=r.Nf();J=Math.round(J*M);
v=Math.round(v*M);x=Math.round(x*M);o=Math.round(o*M);var S=this.C_,c=this.nD;if(c==null){r.zP=-J}else{var b=c[2]-c[0]+30,w=Math.round(x-J)+30;
if(this.d0.x+b+w>8192){r.zP=-J;this.d0.x=0;this.d0.y+=this.tB+120;this.tB=0}else{r.zP+=b;this.d0.x+=b}}r.jD=this.d0.y+(this.avr?o:-v);
this.tB=Math.max(this.tB,Math.round(o-v));this.nD=[J,v,x,o];this.aaU=[];S.k.push(S.V4())};c7.prototype.StartTGroup=function(J){this.WA();
var v=this.C_;v.k.push(v.V4());var x=c7.ji[J.bmode];if(x==null)x="norm";var o=v.qL();o.v7("<Group>");
o.add.lsct=h2.Uk;o.gR=x=="norm"?"pass":x;o.eW=24;o.fc=Math.round(255*J.ca);this.aaU.push(o)};c7.prototype.EndTGroup=function(){this.C_.k.push(this.aaU.pop())};
c7.prototype.aiF=function(){var J=this.C_,v=J.k[J.k.length-1];return v};c7.prototype.ahR=function(){var J=this.C_,v=J.qL();
v.v7("Path "+J.k.length);this.C_.k.push(v);v.eW|=16;v.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:0,H:0,c:0})}};
v.add.vmsk=new m.e_;v.add.vstk=gD.gB.ow();return v};c7.prototype.J$=function(J){var v={T:J.crds,Wp:J.cmds},x=g.b.ZX(v,!1);
g.I.Xi(x,this.cy);return x};c7.agn=function(J,v){for(var h=0;h<J.length;h++)if(J[h].da!=null)J[h].da=v};
c7.jO=function(J){return g.UH.YK({z:J[0]*255,H:J[1]*255,c:J[2]*255})};c7.R6=function(J){return new bC(J[0],J[1],J[2],J[3],J[4],J[5])};
c7.prototype.Stroke=function(J){if(this.FV!=-1&&this.FV!=this.B6)return;if(J.pth.cmds.length<=1)return;
var v=this.J$(J.pth),l=null;if(v.length<=2)return;this.rG(J);c7.agn(v,-1);v[2].da=1;var x=this.aiF(),o=gD.gB.ow(null,!0),R=J.ctm,r={};
c7.aEO(r,J);gD.gB.write(o,r,Math.sqrt(Math.abs(R[0]*R[3]-R[1]*R[2]))*this.cy.Nf());if(!(J.COLR instanceof Array)){l=g.b.ni(J.pth.crds);
var M=g.b.ho(l);g.b.u(M.T,this.cy,M.T);l=g.b.ni(M.T)}var P=c7.XH(J.COLR,this.cy,v),S=["SoFi","GrFl","patternFill"].indexOf(P.e),c=[gD.AG,gD.Zy,gD.eH][S],b=o.strokeStyleContent.v={classID:gD.gB.dP[S]};
for(var h=0;h<c.length;h++)b[c[h]]=P.K.v[c[h]];var w=x!=null&&x.add.vmsk!=null&&!x.tX(),U=w&&!x.add.vstk.fillEnabled.v&&JSON.stringify(o)==x.add.vsjs;
if(U){var F=x.add.vmsk.X;for(var h=2;h<v.length;h++)F.push(v[h])}else{var Y=w&&!x.add.vstk.strokeEnabled.v&&m.e_.aF7(x.add.vmsk.X,v,!0);
if(Y){x.add.vstk=o;o.fillEnabled.v=!0}else{x=this.ahR();x.add.vmsk.X=v;x.add.vstk=o;x.add.vsjs=JSON.stringify(o)}}};
c7.aEO=function(J,v){J.fk=v.lwidth;J.M0=v.mlimit;J.Wy=v.dash.slice(0);J.v4=v.doff;J.$h=v.ljoin;J.yd=v.lcap;
J.Bf=1};c7.ve=function(J,v){v.lwidth=J.fk*(J.Bf==2?2:1);v.mlimit=J.M0;v.doff=J.v4;v.ljoin=J.$h;v.lcap=J.yd;
v.sal=J.Bf;v.dash=J.Wy.slice(0);if(v.dash.length==1&&v.dash[0]==0)v.dash=[]};c7.prototype.Fill=function(J,v){if(this.FV!=-1&&this.FV!=this.B6)return;
if(J.ca==0)return;var x=J.pth.cmds;if(x.length==0)return;if(x.length==2&&JSON.stringify(x)=="[\"M\",\"L\"]")return;
var o=g.b.ni(J.pth.crds),R=g.b.ni(J.cpth.crds);if(o.Xt(R).L3())return;var r=J.pth,l=UDOC.G.isBox(r,[o.x,o.y,o.x+o.r,o.y+o.$]),M=J.cpth,P=UDOC.G.isBox(M,[R.x,R.y,R.x+R.r,R.y+R.$]);
if(l&&P&&o.o()>R.o()*2){var S=o.Xt(R),c=S.x,b=S.y,w=c+S.r,U=b+S.$;r={cmds:["M","L","L","L","Z"],crds:[c,b,w,b,w,U,c,U]};
o=S}else if(this.zQ==null&&UDOC.G.isBox(r,[o.x,o.y,o.x+o.r,o.y+o.$])&&o.Db(R)){r=M;o=R}else this.rG(J);
var F=this.J$(r),Y=c7.XH(J.colr,this.cy,F),A=this.aiF(),G=A!=null&&A.fc==Math.round(255*J.ca)&&A.add.vstk!=null&&!A.add.vstk.strokeEnabled.v&&A.add.SoCo&&Y.e=="SoFi"&&JSON.stringify(A.add.SoCo.Clr.v)==JSON.stringify(Y.K.v.Clr.v);
if(G){var n=!1;for(var h=0;h<F.length;h++){if(F[h].da==0||F[h].da==2)n=!0}if(n){var E=g.b.ni(g.I.JM(A.add.vmsk.X)),K=g.b.ni(g.I.JM(F));
G=E.Xt(K).L3()}}if(G){var e=A.add.vmsk.X;for(var h=2;h<F.length;h++)e.push(F[h])}else{A=this.ahR();delete A.add.SoCo;
A.add.vmsk.X=m.e_.w2(F);c7.XB(J.colr,A,this.cy,F);c7.a2u(J,A)}};c7.XB=function(J,v,x,o){var R=c7.XH(J,x,o),r=null,l=null;
v.add.vstk.fillEnabled.v=!0;if(R.e=="SoFi"){r="SoCo";l=gD.AG}if(R.e=="GrFl"){r="GdFl";l=gD.Zy}if(R.e=="patternFill"){r="PtFl";
l=gD.eH}if(r!=null){v.add[r]={classID:"null"};for(var h=0;h<l.length;h++){var M=l[h];v.add[r][M]=R.K.v[M]}if(r=="GdFl")v.add._fstl=R.sN}};
c7.prototype.rG=function(J){var v=this.C_,x=J.cpth,o=x.cmds.join(""),R=x.crds,r=o+" "+R.join(","),l=UDOC.G.isBox(x,this.anf);
if(l&&this.zQ==null)return;if(r==this.zQ)return;this.WA();if(!l){this.zQ=r;v.k.push(v.V4());var M=v.qL();
M.v7("Mask");M.add.lsct=h2.Le;M.gR="pass";M.eW=24;var P=M.add.vmsk=new m.e_;P.X=this.J$(J.cpth);if(UDOC.G.isBox(x)){this.mn=g.I.Or(P.X);
this.mn.rz(3,3)}else this.mn=null;this.a3X=M}};c7.prototype.WA=function(){var J=this.C_;if(this.zQ!=null){var v=J.k.length-1,h=v,x=!1;
while(h>=0&&J.k[h].add.lsct!=h2.lj)h--;var o=this.mn;if(o){var R=new jj,r=v;while(r>h){R=J.k[r].xD(this.C_,!1,!0);
r--}x=o.Db(R)}if(x){this.NB.splice(h,1);J.k.splice(h,1)}else{J.k.push(this.a3X)}this.zQ=null}};c7.XH=function(J,v,x){var o,R,r;
if(J.length!=null){o="SoFi";var l=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);R={t:"Objc",v:l};R.v.Clr.v=c7.jO(J)}else{var M=c7.aAf(J,v,x);
o="GrFl";R={t:"Objc",v:gd.wi(M,x)};r=M}return{e:o,K:R,sN:r}};c7.aAf=function(J,v,x){var o=c7.R6(J.mat);
o.concat(v);var R=new aG(0,0),r=new aG(0,0),l=new aG,M=J.crds,P=J.typ=="rad"?1:0;if(P==1){var S=.7;l.x=M[0];
l.y=M[1];R.x=M[3];R.y=M[4];r.x=R.x;r.y=R.y;r.x+=M[5]}else{R.x=M[0];R.y=M[1];r.x=M[2];r.y=M[3];l._h(R.x,R.y)}o=gd.ps(R,r,o);
var c=gd.vg(P,o,x);gd.D8(c,R,r,l);c[1]=g.F(J.grad);return c};c7.prototype.PutText=function(J,v,x,o){var R=v.charCodeAt(0),U=null;
if(this.FV!=-1&&this.FV!=this.B6)return;if(v.length==0||v.length==1&&(R==0||R==8203))return;this.rG(J);
var r=this.C_,l=J.font,M=Math.round(255*J.ca);if(J.font.Tmode==3)M=0;var P=c7.R6(J.ctm);P.concat(this.cy);
var S=c7.R6(l.Tm);S.concat(P);var c=S.Nf(),b=new bC(1/c,0,0,-1/c,0,0);b.concat(S);var w=l.Tfs*c,F=r.k.length-1;
while(F>=0&&r.k[F].add.TySh==null)F--;if(b.c*b.c+b.Mz*b.Mz<.001&&o==null&&F>=0&&r.k[F].add.TySh&&r.k[F].fc==M){var Y=r.k[F],A=this.NB[F],G=Y.add.TySh.u,n=(b.zP-A.agc)/w,E=Math.abs(n),K=G.o5==b.o5&&G.c==b.c&&G.Mz==b.Mz&&G.fn==b.fn,e=b.jD-A.V7,$=K&&Math.abs(e)<1e-5&&E<1;
if($){U=Y;if(n>.2&&[".",",","?",":","!"].indexOf(v)==-1){v=" "+v;x+=.5}}else if(K&&0<e&&e<w*1.7&&A.a5A==w){U=Y;
this.a3_(A);A.V7=b.jD;A.agj=b.zP;v="\n"+v}}if(U==null){F=r.k.length;this.NB[F]={nh:[],jU:0,agc:b.zP,V7:b.jD,agj:b.zP,Eg:"",a5A:w};
U=r.qL();r.k.push(U);U.add.lnsr="rend";U.add.TySh=bI.Q6(0,0);U.add.TySh.u=b}var A=this.NB[F];A.jU+=x*w;
A.Eg+=v;A.agc=b.zP+x*w;var N=U.add.TySh.vv,k=bI.FB(N);if(o){bI.IN(N,1);var V=[0,0,Math.ceil(o[0]*c),Math.ceil(o[1]*c)];
bI.lC(N,V)}var X=k.length-1,Q=X+v.length;bI.Cq(N,X,v);if(this.w1==null)this.w1=bI.Ni(N,X,X);var L=this.w1;
L.iz.FontSize=Math.round(w);L.iz.Tracking=Math.round(l.Tc*100);L.iz.Underline=l.Tun==1;L.iz.FillColor={Type:1,Values:[1,J.colr[0],J.colr[1],J.colr[2]]};
if(l.Tal!=null)L.u7.Justification=l.Tal;if(A.nh.length!=0){L.iz.AutoLeading=!1;L.iz.Leading=A.V7-A.nh[A.nh.length-1].y}var _=l.Tf;
_=_.replace(/#2B/g,"+");_=_.replace(/#2C/g,"-");_=_.split("+").pop();var a={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(a[_])_=a[_];bI.ud(L,_);bI.qc(N,X,Q-1,L);U.n9();U.fc=M};c7.prototype.a3_=function(J){J.nh.push({BK:J.jU,t:J.Eg.slice(J.nh.length==0?0:1)+"\n",x:J.agj,y:J.V7,hO:J.a5A});
J.jU=0;J.Eg=""};c7.prototype.XI=function(J,v,x){return new Uint8Array(d2.s$("PNG").lS([[J.buffer,0]],v,x))};
c7.prototype.PutImage=function(J,v,x,o,R,r,l){if(this.FV!=-1&&this.FV!=this.B6)return;var M=this.C_,P=J.font.Tmode;
if(P==7&&M.k[M.k.length-1].add.TySh){return}this.rG(J);var S=c7.R6(J.ctm);S.concat(this.cy);var c=new bC(1/x,0,0,-1/o,0,1);
c.concat(S);S=c;v=c7.a4d(v,x,o,r,!1);if(R)R=c7.a4d(R,x,o,l,!0);if(R==null){if(v.length==x*o*4)v=this.XI(v,x,o)}else{v=this.aeY(v,x,o,r,!1);
R=this.aeY(R,x,o,l,!0);var b=g.C(x*o);g.Vi(R,b,0);g.Os(b,v,3);v=this.XI(v,x,o)}var w=M.P2(v,"Bitmap",0,0),U=new jj(0,0,x,o),F=g.b.ho(U).T;
g.b.u(F,S,F);w.add.SoLd.Trnf=H.ge.y7(F);w.add.SoLd.nonAffineTransform=H.ge.y7(F);w.IY(M,!1);c7.a2u(J,w);
M.k.push(w)};c7.a2u=function(J,v){v.fc=Math.round(255*J.ca);var x=c7.ji[J.bmode];if(x==null)console.log("Unknown blend mode",x);
else v.gR=x};c7.ji={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
c7.ajw=function(J){if(J=="pass")J="norm";for(var v in c7.ji)if(c7.ji[v]==J)return v;return"/Normal"};
c7.a4d=function(J,v,x,o,R){var r=d2.e4(J.buffer);if(r=="jpg"){try{J=new Uint8Array(d2.s$("JPG").al0(J.buffer))}catch(gw){J=new Uint8Array(v*x*4)}}else if(r=="jb2"){J=new Uint8Array(d2.s$("JPG").lx(J.buffer,o,R)[0].data)}else if(J.length!=v*x*4){var l=new Uint8Array(v*x*4),M=Math.ceil(v/8),P=new Uint8Array(x*M);
UTIF.decode._decodeG4(J,0,J.length,P,0,v,1);var S=P[0]==(R?255:0);for(var c=0;c<x;c++){var b=M*c;for(var w=0;
w<v;w++){var h=c*v+w,U=h*4,F=(P[b+(w>>3)]>>7-(w&7)&1)*255;if(S)F=255-F;l[U]=F;l[U+1]=F;l[U+2]=F;l[U+3]=255}}J=l}return J};
c7.prototype.aeY=function(J,v,x,o,R){if(J.length!=v*x*4){var r=d2.e4(J.buffer);if(r=="jb2")throw"e";
var l=d2.s$(r);if(l==null||r=="tga")l=d2.s$("jpg");J=new Uint8Array(l.lx(J,o,R)[0].data)}return J};c7.prototype.ShowPage=function(){var J=this.C_;
this.B6++;var v=this.nD;this.WA();var x=J.qL();J.k.push(x);var o=new jj(Math.round(this.d0.x),Math.round(this.d0.y),Math.round(v[2]-v[0]),Math.round(v[3]-v[1]));
if(o.L3())o.r=o.$=2e3;this.Xk=this.Xk.h0(o);x.$V(o);x.add.artb.artboardBackgroundType.v=1;x.v7("Page "+this.B6);
x.add.lsct=h2.Le;x.gR="pass";x.eW=24};c7.prototype.Print=function(J){console.log("Print:",J)};c7.prototype.Done=function(){var J=this.C_;
if(this.B6==1)J.k[J.k.length-1].add.lsct=h2.Uk;J.Dy(this.B6);for(var h=0;h<J.k.length;h++){var v=J.k[h],x=v.add.vmsk,o=v.add.TySh,R=this.NB[h];
v.Tr();delete v.add.vsjs;if(x){var r=!1;for(var l=0;l<x.X.length;l++){var M=x.X[l];if((M.e==0||M.e==3)&&M.length>32767)r=!0}if(r){J.k.splice(h,1);
h--;continue}}v.B0(J);if(o&&R&&R.nh.length!=0){this.a3_(R);var P=o.vv,S=R.nh.length,c=R.nh[0],b=1e9,w=-1e9,$="";
for(var l=0;l<S;l++){var U=R.nh[l];b=Math.min(b,U.x);w=Math.max(w,U.x+U.BK)}var F=[];for(var l=0;l<S;
l++){var U=R.nh[l],Y=-1,A=c.hO*.1,G=Math.abs(U.x-b),n=Math.abs(U.x+U.BK-w),E=Math.abs(G-n);if(E<A)Y=2;
if(n<A){Y=1;if(U.x!=b)if(l!=0&&R.nh[l-1].x==U.x||l!=S-1&&R.nh[l+1].x==U.x)Y=-1}if(G<A)Y=0;if(U.BK==w-b)Y=3;
F.push(Y)}var K=[!1,!1,!1];for(var l=0;l<S;l++){var Y=F[l];if(Y==3)Y=l==0?F[l+1]:F[l-1];if(Y==3)Y=0;
F[l]=Y;K[Y]=!0}var e=(w-b)*.05;if(K[0]&&!K[1])w+=e;if(!K[0]&&K[1])b-=e;if(!K[0]&&!K[1]){b-=e;w+=2*e}bI.IN(P,1);
o.u.jD-=c.hO*.7;o.u.zP=Math.round(b);bI.lC(P,[0,0,Math.ceil(w-b),Math.ceil(R.nh[S-1].y-c.y+c.hO*2)]);
for(var l=0;l<S;l++){var U=R.nh[l],Y=F[l],N=0;if(Y==-1){Y=0;N=Math.round(U.x-b)}var k=$.length,V=k+U.t.length;
$+=U.t;var X={t6:[],iz:{},u7:{Justification:Y,StartIndent:N}};bI.qc(o.vv,k,V-1,X)}}if(o){var P=o.vv;
bI.afU(P);var Q=bI.FB(P).split("\n");for(var l=0;l<Q.length-1;l++){var U=Q[l],L=0;for(var _=0;_<U.length;
_++){var a=U.charCodeAt(_);if(1473<=a&&a<=1524)L++}if(L>U.length/2){Q[l]=U.split("").reverse().join("");
var T=P.EngineDict.ParagraphRun.RunArray[l].ParagraphSheet.Properties;T._Direction=1;T.Justification=bI.EF(T)}}bI.in(P,Q.join("\n"))}}J.C4=!0;
J.r=this.Xk.r;J.$=this.Xk.$;J.buffer=g.C(this.Xk.o()*4)};var fv={};fv.U8=null;fv.o4=function(J,v,x,o,R,r){var l=du==0?new jj(0,0,J.r,J.$):J.Sd();
if(R==null)R=l.r;if(r==null)r=l.$;fv.U8=J;var M=[[J.root,l,null]];if(du==0&&J.add.artd){var P=J.root.children,S=[],c=!0;
for(var h=0;h<P.length;h++){var b=P[h].w,w=b.add.artb,U=null;if(w==null){c=!1;break}var F=w.artboardBackgroundType.v;
if(F!=1&&F!=3)U=b.f1();S.push([P[h],b.Gf(),U])}if(c)M=S}if(du==1){var Y=J.add.arts;M=[];for(var h=0;
h<Y.length;h++)M.push([J.root,g.b.jR(Y[h].ZW),null])}var A=v[0];A=A.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
A=A.split(" ");var G=[];for(var h=0;h<A.length;h++){var n=A[h];if(n=="-"){var E=G.pop(),K=parseInt(A[h+1]);
while(E<K){G.push(E);E++}}else G.push(parseInt(n))}A=G;for(var h=0;h<A.length;h++)if(isNaN(A[h])||A[h]<1||A[h]>M.length){A.splice(h,1);
h--}var e=R/l.r,$=r/l.$,N=e*72/J.Bt,k=$*72/J.Bt,V=v[5];if(V==null)V=0;var X=72*V,Q=72*V;for(var L=0;
L<M.length;L++){var h=L;if(v[2])h=M.length-1-L;if(A.length!=0&&A.indexOf(h+1)==-1)continue;var _=M[h][0],a=M[h][1];
if(!_.w.jh())continue;var T=Math.round(a.r*N+2*X),f=Math.round(a.$*k+2*Q);x.StartPage(0,0,T,f);var Z=UDOC.getState(),W=new bC;
W.translate(-a.x,-a.y-a.$);W.scale(N,-k);W.translate(X,Q);if(M[h][2]){var D=M[h][2],C=X*N,d=Q*k,p=C+a.r*N,y=d+a.$*k;
Z.colr=[(D>>>0&255)/255,(D>>>8&255)/255,(D>>>16&255)/255];Z.pth={cmds:["M","L","L","L","Z"],crds:[C,d,p,d,p,y,C,y]};
x.Fill(Z)}if(du==0&&v[3]){var i=g.C(a.o()*4);g.sW(J.rv(),l,i,a);var t=J.Ab();if(t)ICC.U.applyLUT(t[J.add.fcmy==1?5:3],t[2],i,i);
var O=d2.s$("JPG").lS([[i.buffer]],a.r,a.$,[v[1]]);i=new Uint8Array(O);var q=new bC;q.translate(a.x,a.y);
fv.RM(Z,x,i,a,q,W)}else{fv.n$(J,_,Z,x,W,a,v,o);if(X!=0){var C=X,d=Q,p=C+a.r*72/J.Bt,y=d+a.$*72/J.Bt,z=p+X,jw=y+X;
Z.ca=1;Z.colr=[1,1,1];Z.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,jw,z,jw,z,0,C,d,p,d,p,y,C,y]};
x.Fill(Z)}}if(v[6]){var u=[[0,0],[1,0],[1,1],[0,1]],iH=50,s=5,bV=iH*.5,jU=s*.5,hx=a.r*72/J.Bt,eX=a.$*72/J.Bt;
Z.colr=[.1,.1,.1];for(var et in u){var f7=u[et],iY=[et==0||et==3?-1:1,et==0||et==1?-1:1],cd=[X-bV+jU*iY[0]+f7[0]*hx,Q-(iY[1]!=1?s:0)+f7[1]*eX],jV=[X-(iY[0]!=1?s:0)+f7[0]*hx,Q-bV+jU*iY[1]+f7[1]*eX];
Z.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[cd[0],cd[1],cd[0]+iH,cd[1],cd[0]+iH,cd[1]+s,cd[0],cd[1]+s,jV[0],jV[1],jV[0]+s,jV[1],jV[0]+s,jV[1]+iH,jV[0],jV[1]+iH]};
x.Fill(Z)}}var g2=J.ek;for(var gV=0;gV<g2.length;gV++){var fD=g2[gV].v,a=g.wL.ca(fD),j4=g.b.ho(a).T;
g.b.u(j4,W,j4);var dQ=g.b.ni(j4);if(!new jj(0,0,T,f).Db(dQ))continue;if(x.AddAnnot)x.AddAnnot([dQ.x,dQ.y,dQ.x+dQ.r,dQ.y+dQ.$],fD.url.v)}x.ShowPage()}x.Done();
fv.U8=null};fv.HU=function(J){J=g.UH.Eb(J);return[J.z/255,J.H/255,J.c/255]};fv.n$=function(J,v,x,o,R,r,l,M){var P=v.w,S=P.add.lsct,c=P.add.lmfx,K,e,a,f=!1;
if(P.pT)return;var b=P.add.vmsk,w=P.add.vstk,U=P.add.TySh;if(du==1&&!P.tX()&&!r.Rt(g.b.ni(P.tq())))return;
var F=v.children,Y=F&&F.length!=0?F[F.length-1].w:null;if(du==1&&Y&&Y.pT&&Y.jh())b=Y.add.vmsk;if(!P.jh())return;
var A=P.fc/255,G=P.add.iOpa!=null?P.add.iOpa/255:1;x.bmode=c7.ajw(P.gR);var n=x.ca;x.ca=x.CA=A*G;var E=c;
if(E)E=E.solidFillMulti.v[0];if(E)E=E.v;if(E&&!E.enab.v)E=null;var $=P.S;if(P.Aw()&&(!P.tX()||P.QF&&P.QF.ev)){if(P.tX()){K=P.QF.ev;
$=P.QF.aCN}else{K=g.C(P.S.o());g.Vi(P.buffer,K,3)}e=iD.ap(c,P.add.fxrp,K,$,J,$).e;var N=["DrSh","OrGl"];
if(G!=1||w&&!w.fillEnabled.v){var k=K.slice(0);g.SV(k);for(var h=0;h<N.length;h++){var V=e[N[h]];for(var X=0;
X<V.length;X++){var Q=V[X],L=Q.pb.Q();L.x+=$.x;L.y+=$.y;g.YJ(k,$,Q.r3,L)}}}}if(e)fv.aey(P,K,$,e,x,o,R,l,!0);
var _=iD.a5c(P,!1);if(_){o.StartTGroup(x);a=x;x=UDOC.getState()}var T=b&&!P.Id(),Z=P.add.GdFl;if(Z&&Z.Type.v.GrdT!="Lnr"&&Z.Type.v.GrdT!="Rdl"){f=!0}if(T){var W=g.b.ns(b.X,!1),D=W.fF;
g.b.u(D.T,R,D.T);x.cpth={cmds:D.Wp,crds:D.T}}if(P.tX()){for(var h=0;h<v.children.length;h++)fv.n$(J,v.children[h],x,o,R,r,l,M)}else if(P.Id()&&P.add.PtFl==null&&!f){var C=b?b.X:g.I.yu.Rect(0,0,J.r,J.$),d=P.add.vstl,D,y;
if(d==null)d=d7.RF(P.add,J);for(var h=0;h<2;h++){var p=h==0?d.sN:d.T0;if(p&&p.length==4)for(var X=0;
X<p[1].length;X++)p[1][X][1]=fv.cL(p[1][X][1])}c7.ve(d,x);x.lwidth*=R.Nf();for(var h=0;h<x.dash.length;
h++)x.dash[h]*=R.Nf();if(du==0){var W=g.b.ns(C,d.T0==null);D=W.fF;y=W.du}if(du==1){D=g.b.Am(C);y=b.da}g.b.u(D.T,R,D.T);
x.pth={cmds:D.Wp,crds:D.T};for(var X=0;X<2;X++){var h=d.Bf==2?1-X:X,i=h==0?d.sN:d.T0,t=null;if(i.length==0)continue;
else if(i.length==3)t=i;else{var O=gd.zv(i,C);O.concat(R);var q=[0,0,1,0];if(i[0]==1){var z=i[2][5]*Math.PI/180,jw=i[2][6];
q=[Math.cos(z)*jw,-Math.sin(z)*jw,0,0,0,1]}t={typ:["lin","rad"][i[0]],mat:[O.o5,O.c,O.Mz,O.fn,O.zP,O.jD],grad:g.F(i[1]),crds:q}}x[h==0?"colr":"COLR"]=t;
o[h==0?"Fill":"Stroke"](x,y!=0)}}else if(U&&l[4]){var u=U.vv,bV=new fc(u,M,U.gZ),D=h4.xZ(bV,U,!0),jU=g.b.GA(D),hx=null,w=iD.axY(c);
if(w){hx=gD.gB.Fy(w);hx.T0=fv.HU(w.strokeStyleContent.v.Clr.v)}for(var eX in jU){var f7=parseInt(eX.slice(1,7),16),iY=0;
x.colr=E?fv.HU(E.Clr.v):fv.ajX(f7);var cd=jU[eX];g.b.u(cd.T,R,cd.T);cd=g.b.abB(cd);x.pth={cmds:cd.Wp,crds:cd.T};
var d=hx?g.F(hx):null;if(eX.length>7)d=h4.akz(eX.slice(7));if(d)d.fk*=R.Nf();if(d&&d.Bf==2){x.COLR=d.T0;
c7.ve(d,x);o.Stroke(x)}o.Fill(x);if(d&&d.Bf!=2){x.COLR=d.T0;c7.ve(d,x);o.Stroke(x)}}}else if(U){var u=g.F(U.vv);
bI.afU(u);var jV=U.u.Q(),g2=new bC(1,0,0,-1,0,0);g2.concat(jV);g2.concat(R);var gV=bI.FB(u),bV=new fc(u,M,U.gZ);
for(var h=0;h<bV.u7.length;h++){var fD=bV.u7[h];if(fD.uk.length==1&&fD.uk[0].Oe)continue;for(var X=0;
X<fD.W9.length;X++){var j4=fD.W9[X],dQ=fD.fw.y+j4.fw.y,eO=fD.uk[j4.start].start,a7=fD.uk[j4.end-1].end,cc=bI.anw(u,eO,a7);
for(var ad=0;ad<cc.length;ad++){var jC=bV.fj(eO),iJ=cc[ad],kJ=bI.Ni(u,eO,eO),jr=kJ.t6[kJ.iz.Font].Name;
x.font.Tf=jr;var eX=bI.Eb(kJ.iz.FillColor);x.colr=E?fv.HU(E.Clr.v):[eX.z/255,eX.H/255,eX.c/255];var fY=x.font.Tfs=Math.round(kJ.iz.FontSize),iR=gV.slice(eO,eO+iJ);
if(kJ.iz.FontCaps==2)iR=iR.toUpperCase();var O=new bC;O.translate(jC.Yf.x,-dQ);O.concat(g2);x.ctm=[O.o5,O.c,O.Mz,O.fn,O.zP,O.jD];
o.PutText(x,iR,0);for(var g6=0;g6<2;g6++){var ay=kJ.iz[g6==0?"Strikethrough":"Underline"];if(!ay)continue;
var cQ=bV.fj(eO+iJ-1),aC=g6==0?.27:-.2,dI=fY*aC,fm=fY*(aC+.07),iY=cQ.Yf.x+cQ.Yf.r-jC.Yf.x,hd=[0,dI,iY,dI,iY,fm,0,fm];
g.b.u(hd,O,hd);x.pth={cmds:["M","L","L","L","Z"],crds:hd};o.Fill(x)}x.ctm=[1,0,0,1,0,0];eO+=iJ}}}}else if(!P.S.L3()||du==1){var ku,cp,hp=!1,gA=new bC,jN=P.add.SoLd,d4=!0;
if(jN)d4=g.O.Vl(g.O.e6(H.ge.t1(jN.Trnf)));var ey=J.Ab();if(jN&&d4&&ey==null){var jG=jN.Idnt.v,cF=J.pB(jG,jN.Crop?jN.Crop.v:null),f$="";
if(cF==null)return;var f5=cF.Vs,jW=d2.e4(cF.raw.buffer);if(l[7].indexOf(jW)!=-1){ku=cF.raw;hp=!0}else ku=f5[0];
cp=f5[1];gA=g.O.aQ(jN)}else{ku=P.buffer;cp=P.S;gA.translate(cp.x,cp.y);if(ey){ku=ku.slice(0);ICC.U.applyLUT(ey[J.add.fcmy==1?5:3],ey[2],ku,ku)}if(g.QX(ku,cp.r,cp.$)&&l[7]&&l[7].indexOf("jpg")!=-1){var bh=d2.s$("JPG").lS([[ku.buffer]],cp.r,cp.$,[l[1]]);
ku=new Uint8Array(bh);hp=!0}}if(E&&!hp)ku=iD.ayP(ku,E,cp);fv.RM(x,o,ku,cp,gA,R);if(E&&hp){var hd=[0,0,cp.r,0,cp.r,cp.$,0,cp.$];
g.b.u(hd,gA,hd);g.b.u(hd,R,hd);var ii=g.F(x);ii.ca=E.Opct.v.val/100;ii.pth={cmds:["M","L","L","L","Z"],crds:hd};
ii.colr=fv.HU(E.Clr.v);o.Fill(ii)}}if(T)x.cpth=null;if(_){o.EndTGroup();x=a}x.ca=x.CA=n;if(e)fv.aey(P,K,$,e,x,o,R,l,!1)};
fv.cL=function(J){var v=fv.U8;if(v==null)return J;var x=v.Ab();if(x&&v.add.fcmy){return g.D4(g.Cv(J)).slice(0,3)}return J};
fv.HU=function(J){J=g.UH.Eb(J);return fv.cL([J.z/255,J.H/255,J.c/255])};fv.ajX=function(J){return fv.cL([(J>>>16&255)/255,(J>>>8&255)/255,(J&255)/255])};
fv.aey=function(J,v,x,o,R,r,l,M,P){var S=x.Q(),c=v;if(J.add.TySh&&!M[3]&&!M[4])return;var b=R.ca,w=R.bmode;
for(var h=gD.order.length-1;h>=0;h--){var U=gD.order[h];if(U=="GrFl"||U=="SoFi")continue;if((J.add.vmsk||J.add.TySh)&&U=="FrFX")continue;
var F=o[U],Y=h>7||U=="FrFX";if(Y!=P)continue;for(var A=0;A<F.length;A++){var G=F[A];if(G.pb==null)G=G.mM?G.mM:G.gt;
if(G==null)continue;var n=G.pb.Q();n.offset(S.x,S.y);if(!Y){if(!S.Db(n)){var E=S.h0(n),K=g.C(E.o());
g.Cc(c,S,K,E);c=K;S=E}g.YJ(c,S,G.r3,n)}if(Y&&U=="FrFX"&&G.$W)g.YJ(G.$W,n,G.r3,n);var e=new bC;e.translate(n.x,n.y);
R.ca=G.gv;R.bmode=c7.ajw(G.Sx);fv.RM(R,r,G.r3,n,e,l)}}R.ca=b;R.bmode=w};fv.RM=function(J,v,x,o,R,r){var l=new bC;
l.scale(o.r,-o.$);l.translate(0,o.$);l.concat(R);l.concat(r);J.ctm=[l.o5,l.c,l.Mz,l.fn,l.zP,l.jD];v.PutImage(J,x,o.r,o.$);
J.ctm=[1,0,0,1,0,0]};var aq={};aq.KE=function(J){var v=new Uint8Array(J);return aq.Vz(v,0)};aq.Vz=function(J,v){var x=I.m7,o=I.b_,R={KK:o(J,v,4),V:v+8,size:x(J,v+4)},r=R.KK=="FORM"||R.KK=="FOR4"||R.KK=="LIST"||R.KK=="CAT ";
if(r)R.dP=o(J,v+8,4);if(R.size<0||R.V+R.size>J.length)throw"e";if(r){R.sub=[];v+=12;var l=R.V+R.size;
while(v<l){var M=aq.Vz(J,v);R.sub.push(M);var P=M.size&1,S=M.size&3;if(R.KK=="FOR4")P=S==0?0:4-S;v+=8+M.size+P}}return R};
var kP={};kP.KE=function(J,v){var x=new Uint8Array(J);return kP.Vz(x,0,v)};kP.Vz=function(J,v,x){var o=I.eA,R=I.b_,r={KK:R(J,v,4),V:v+8,size:o(J,v+4)};
if(x&&x[r.size]!=null)r.size=x[r.size];if(r.KK=="RIFF"||r.KK=="LIST"){r.dP=R(J,v+8,4)}if(r.size<0||r.V+r.size>J.length)throw"e";
if(r.KK=="RIFF"||r.KK=="LIST"&&(r.dP!="cmpr"&&r.dP!="stlt")){r.sub=[];v+=12;var l=r.V+r.size;while(v<l){var M=kP.Vz(J,v,x);
r.sub.push(M);v+=8+M.size+(M.size&1)}}return r};var hA=function(){function J(q,z){var jw=null;if(q.sub==null)return jw;
for(var h=0;h<q.sub.length;h++){var u=q.sub[h];if(u.KK==z||u.dP==z)jw=u}return jw}function v(q){if(q==32)return 300;
else if(q<49)return 0;else if(q<58)return 100*(q-48);else if(q<65)return 0;return 100*(q-55)}var x;function o(q,z){var jw=new Uint8Array(q);
z.C4=!0;x={};var u=I.b_(jw,0,2);if(u=="WL"){alert("Unsupported CDR version")}else{var iH,s,bV,eX,j4=300,a7=0;
if(u=="PK"){s=UZIP.parse(jw);if(s["content/root.dat"]){jw=s["content/root.dat"];bV=I.Aq(s["content/dataFileList.dat"]).split("\n")}else{jw=s["content/riffData.cdr"];
s=null}}iH=kP.KE(jw.buffer);console.log(iH);var jU=v(jw[11]),hx={data:jw,V:0,RR:jU};hx.Nm=hx.RR<600?16:32;
k(jw,hx,bV,s,iH.sub,0);var et=[];if(s){eX=J(iH,"doc ");R(eX);var f7=iH.sub;for(var h=0;h<f7.length;h++)if(f7[h].dP=="page")et.push(f7[h]);
et=et.slice(1)}else if(iH.sub[3]&&iH.sub[3].KK=="pack"){alert("We dont support this version of CDR files");
return}else if(J(iH,"cmpr")==null){eX=J(iH,"page");et.push(eX);if(J(eX,"mcfg")==null){eX=J(iH,"doc ");
R(eX);et=[];var f7=iH.sub;for(var h=0;h<f7.length;h++)if(f7[h].dP=="page")et.push(f7[h]);et=et.slice(1)}}else{var iY=J(iH,"cmpr").sub;
eX=iY[0];et=[iY.slice(1)[1]];if(J(eX,"filt"))R(eX)}var cd=J(eX,"mcfg").K,jV=cd.ayC,g2=jV.x*.1,gV=jV.x*et.length+g2*(et.length-1),fD=jV.y;
j4/=bb.i5(new jj(0,0,Math.round(gV*j4),Math.round(fD*j4)),8192*8192);var dQ=Math.round(gV*j4),eO=Math.round(fD*j4);
z.r=dQ;z.$=eO;z.buffer=g.C(z.r*z.$*4);for(var h=0;h<et.length;h++){var cc=new bC(j4,0,0,-j4,jV.x*j4/2+a7,jV.y*j4/2);
r(et[h],eX,z,cc);var ad=z.k[z.k.length-1];ad.$V(new jj(Math.round(a7),0,Math.round(jV.x*j4),Math.round(jV.y*j4)));
ad.v7("Page "+(h+1));a7+=jV.x*j4+g2*j4}z.Dy(et.length)}}function R(q){var z=J(q,"filt").sub,jw=J(q,"otlt").sub,u=J(q,"fntt");
if(u)u=u.sub;q.EI={};for(var h=0;h<z.length;h++)q.EI[z[h].sub[0].K.id]=z[h].sub[0].K;q.cl={};for(var h=0;
h<jw.length;h++)q.cl[jw[h].K.id]=jw[h].K;if(u){q.fonts={};for(var h=0;h<u.length;h++)q.fonts[u[h].K.id]=u[h].K}}function r(q,z,jw,u){var iH=q.dP?q.dP:q.KK,s=J(q,"lgob"),bV=J(q,"txsm"),jU=null,hx=null;
if(s){jU=J(s,"trfl");hx=J(s,"loda")}else if(J(q,"lobj"))hx=J(q,"lobj");var eX=jU&&jU.sub[0].gf?jU.sub[0].gf.Q():new bC;
eX.concat(u);var et=jw.qL();if(iH=="page"||iH=="layr"||iH=="grp "){et.v7((iH=="page"?"Page":"Group")+" "+jw.k.length);
et.add.lsct=h2.Uk;et.gR="pass";et.eW=24;var f7=[];if(iH=="page")f7=J(q,"gobj").sub;if(iH=="layr")f7=q.sub.slice(2);
if(iH=="grp ")f7=q.sub.slice(4);if(f7.length==0)return;jw.k.push(jw.V4());for(var h=f7.length-1;h>=0;
h--)r(f7[h],z,jw,u)}else if(iH=="obj "&&hx.K&&hx.K.path){var iY,cd;if(z.EI){iY=z.EI[hx.K.a8o];cd=z.cl[hx.K.ayT]}if(iY==null)iY=hx.K.aD1;
if(cd==null)cd=hx.K.ahG;et=l(jw,hx.K.path,u,eX,iY,cd)}else if(iH=="obj "&&bV){var jV=hx.K.a5i,g2=hx.K.ap4,j4="";
et.add.TySh=bI.Q6(0,0);var gV=eX.Nf();et.add.TySh.u.translate(eX.zP,eX.jD);var fD=et.add.TySh.vv,dQ=bV.K.V5;
if(dQ==null)return;for(var h=0;h<dQ.length;h++){var eO=dQ[h],a7=j4.length;j4+=eO.text+"\n";bI.Cq(fD,a7,eO.text+"\n");
if(eO.text=="")continue;var cc=M(eO.a70,z),ad=cc.amb,jC=z.fonts[ad.am1],iJ=bI.Ni(fD,a7,j4.length);if(cc.align==3)iJ.u7.Justification=1;
else if(cc.align==2)iJ.u7.Justification=2;else iJ.u7.Justification=0;var kJ=cc.fill.K;if(kJ==null)kJ=[0,0,0];
if(jC.yx)bI.ud(iJ,jC.yx);iJ.iz.FillColor={Type:1,Values:[1,kJ[0],kJ[1],kJ[2]]};iJ.iz.FontSize=Math.round(ad.fontSize*u.Nf());
bI.qc(fD,a7,j4.length-1,iJ)}if(g2){bI.IN(fD,0)}else{bI.IN(fD,1);bI.lC(fD,[0,0,Math.round(jV.x*eX.o5),Math.round(-jV.y*eX.fn)])}et.v7(j4.slice(0,10))}else{et=null}if(et)jw.k.push(et)}function l(q,z,jw,u,iH,s){var bV=q.qL();
bV.v7("Object "+q.k.length);bV.eW|=16;var jU=bV.add.vstk=gD.gB.ow();bV.add.vmsk=new m.e_;bV.add.vmsk.X=g.b.ZX(z,!1);
g.I.Xi(bV.add.vmsk.X,u);var hx=iH&&iH.e!=0,eX=hx&&iH.K!=null?iH.K:[0,0,0];c7.XB(eX,bV,u,bV.add.vmsk.X);
jU.fillEnabled.v=hx;if(s&&s.a2k!=1){jU.strokeEnabled.v=!0;jU.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var et=jU.strokeStyleLineWidth.v.val=s.lineWidth*jw.Nf(),f7=s.color;jU.strokeStyleContent.v.Clr.v=g.UH.YK({z:f7[0]*255,H:f7[1]*255,c:f7[2]*255});
if(s.Wy.length!=0)jU.strokeStyleLineDashSet.v=iD.l_(s.Wy,4/et);var iY=s.al4,cd=s.aup;if(cd!=0){var jV=z.T,h=jV.length-4,g2=jV[h],gV=jV[h+1],fD=jV[h+2],j4=jV[h+3],dQ=new bC;
dQ.scale(.15,.15);dQ.rotate(-Math.PI/2+Math.atan2(j4-gV,-(fD-g2)));dQ.translate(fD,j4);dQ.concat(u);
if(x[cd]){var eO=l(q,x[cd],jw,dQ,f7,null);q.k.push(eO)}}}bV.Tr();bV.B0(q);return bV}function M(q,z){var jw=J(z,"stlt").K,u=g.F(jw.yX[q]);
if(u.SO!=0){var iH=jw.yX[u.SO];for(var s in iH)if(u[s]==null||u[s]==0)u[s]=iH[s];delete u.SO}u.align=jw.adc[u.aiW];
u.fill=z.EI[jw.arQ[u.aJb]];u.aiR=z.cl[jw.a9Y[u.a7u]];u.amb=jw.ajv[u.azB];return u}function P(h){var co=h.data[h.V];
h.V+=1;return co}function S(h){var co=I.$y(h.data,h.V);h.V+=2;return co}function c(h){var co=I.eA(h.data,h.V);
h.V+=4;return co}function b(h){var co=I.eA(h.data,h.V);h.V+=8;return co}function w(h){var co=I.oV(h.data,h.V);
h.V+=2;return co}function U(h){var co=I.aV(h.data,h.V);h.V+=4;return co}function F(h){var co=I.$c(h.data,h.V);
h.V+=8;return co}function Y(h){if(h.V>=h.data.length)throw"e";var q=0;while(h.data[h.V+q]!=0)q++;var z=I.b_(h.data,h.V,q);
h.V+=q+1;return z}function A(h){var q="";while(!0){var z=S(h);if(z==0)break;q+=String.fromCharCode(z)}return q}function G(q){var z=c(q),jw=(z&4294901760)>>>16,u=(z&65535)/65535;
return jw+u}function n(q){if(q.RR<600)return Math.PI*w(q)/1800;return Math.PI*U(q)/18e7}function E(q){if(q.RR<1500)return K(q);
else return F(q)/254e3}function K(q){if(q.RR<600)return w(q)/1e3;else return U(q)/254e3}function e(q){if(q.RR<600)return S(q);
else return c(q)}function $(q){if(q.RR<600)return w(q);else return U(q)}function N(q,z,jw){var u="";
for(var h=0;h<jw;h++){for(var iH=0;iH<z;iH+=4){var co=I.eA(q.data,q.V+h*z+iH);u+=(co<500?co:co)+","}u+="\n"}return u}function k(q,z,jw,u,iH,s){var bV,jU,hx;
for(var eX=0;eX<iH.length;eX++){var et=z.RR,f7=iH[eX];z.data=q;z.V=f7.V+(f7.KK=="LIST"?4:0);if(u&&f7.sub==null){bV=c(z);
jU=c(z);hx=c(z);var iY=S(z);if(iY!=0&&iY!=768)throw"e";var cd=S(z);if(cd>32)throw"e";z.V-=16;if(bV!=4294967295){z.data=u["content/data/"+jw[bV]];
z.V=hx}}if(f7.KK=="vrsn"){if(f7.size==16)z.V+=8;var jV=S(z);z.RR=jV;console.log("Version",jV);z.Nm=jV<600?16:32}else if(f7.KK=="DISP"){}else if(f7.KK=="pack"){var g2=c(z),gV=I.b_(z.data,z.V,4),dQ=0;
if(gV!="CPng")throw gV;var fD=new Uint8Array(z.data.buffer,z.V+8+2,f7.size-10-4),j4=pako.inflateRaw(fD);
f7.sub=[];while(dQ<j4.length){var eO=kP.Vz(j4,dQ);dQ=eO.V+eO.size;f7.sub.push(eO)}var a7={data:j4,V:0,RR:et,Nm:z.Nm};
k(j4,a7,jw,u,f7.sub,s+1)}else if(f7.KK=="LIST"&&f7.dP=="cmpr"){var cc=c(z),ad=c(z),jC=c(z),g2=c(z),gV=I.b_(z.data,z.V,4),dQ=0;
if(gV!="CPng")throw gV;var fD=new Uint8Array(z.data.buffer,z.V+8+2,cc-6-8),j4=pako.inflateRaw(fD);z.V+=cc;
fD=new Uint8Array(z.data.buffer,z.V+8+2);var iJ=pako.inflateRaw(fD),kJ=[];for(var jr=0;jr<iJ.length;
jr+=4)kJ.push(I.eA(iJ,jr));f7.sub=[];while(dQ<j4.length){var eO=kP.Vz(j4,dQ,kJ);dQ=eO.V+eO.size;f7.sub.push(eO)}var a7={data:j4,V:0,RR:et,Nm:z.Nm};
k(j4,a7,jw,u,f7.sub,s+1)}else if(f7.KK=="LIST"&&f7.dP=="stlt"||f7.KK=="stlt"){if(bV==4294967295)return;
var fY=z.V,fm="",bh=32;f7.K={};var iR=c(z);if(iR==0)return;f7.K.arQ=Z(z,et>=1300);f7.K.a9Y=Z(z);f7.K.ajv={};
var g6=c(z);for(var h=0;h<g6;h++){var ay=c(z);z.V+=et<1e3?12:20;var cQ=S(z),aC=S(z);z.V+=8;var dI=K(z);
z.V+=et<1e3?12:20;f7.K.ajv[ay]={am1:cQ,a7S:aC,fontSize:dI}}f7.K.adc=Z(z);var hd=c(z);fm+="Intervals\n"+N(z,52,hd)+"\n";
z.V+=52*hd;var ku=c(z);fm+="Set5s\n"+N(z,152,ku)+"\n";z.V+=152*ku;var cp=c(z);fm+="Tabs\n"+N(z,784,cp)+"\n";
z.V+=784*cp;var hp=c(z);fm+="Bullets\n";for(var h=0;h<hp;h++){var gA=z.V,jN=c(z);z.V+=4*3;if(et>1300)z.V+=4;
var d4=c(z);z.V+=4*5;if(et>=1300){var ey=c(z);if(ey){if(c(z))z.V+=64;else z.V+=60}else z.V+=12}else{z.V+=20;
if(et>=1e3)z.V+=8;if(c(z))z.V+=8;z.V+=8}var jG=z.V;z.V=gA;fm+=N(z,jG-gA,1);z.V=jG}fm+="\n";var cF=c(z);
fm+="Indents\n";f7.K.aqN={};for(var h=0;h<cF;h++){var gA=z.V,f5=c(z),jW={};z.V+=12;jW.right=K(z);jW.aqd=K(z);
jW.left=K(z);f7.K.aqN[f5]=jW;var jG=z.V;z.V=gA;fm+=N(z,jG-gA,1);z.V=jG}fm+="\n";var f$=c(z);if(et>=1300)bh+=4;
fm+="Hypens\n"+N(z,bh,f$)+"\n";z.V+=bh*f$;var ii=c(z);fm+="Dropcaps\n"+N(z,28,ii)+"\n";z.V+=28*ii;if(et>800){var dM=c(z);
fm+="Set11s\n"+N(z,28,dM)+"\n";z.V+=12*dM}f7.K.yX={};for(var h=0;h<iR;h++){var b7=c(z);if(b7>3)throw b7;
var bz=c(z),cZ={};cZ.SO=c(z);z.V+=8;var e4=c(z);if(et>=1200)e4*=2;z.V+=e4;cZ.aJb=c(z);cZ.a7u=c(z);if(b7>1){cZ.azB=c(z);
cZ.aiW=c(z);cZ.aJe=c(z);cZ.aag=c(z);if(et>800)cZ.ajA=c(z)}if(b7>2){cZ.aD8=c(z);cZ.atR=c(z);cZ.a6c=c(z);
cZ.aDt=c(z);cZ.acE=c(z)}f7.K.yX[bz]=cZ}}else if(f7.KK=="LIST")k(q,z,jw,u,f7.sub,s+1);else if(f7.KK=="txsm"){f7.K={};
if(et<600)throw"e";if(et<700)throw"e";if(et>=1600){f7.K=f(z);return}if(et>=1500)z.V+=37;else z.V+=36;
if(c(z)){if(et<800)z.V+=32}if(et<800)z.V+=4;f7.K.a4K=c(z);f7.K.V5=[];z.V+=48;if(et>=800){if(c(z)){z.V+=32;
if(et>=1300)z.V+=8}}if(et>=1500)z.V+=12;var b7=c(z),fI=1,aI=!1;if(!b7){if(et>=800)z.V+=4;if(et>800)z.V+=2;
if(et>=1400)z.V+=2;z.V+=24;if(et<800)z.V+=8;fI=c(z)}for(var jr=0;jr<fI;jr++){var iV=c(z),h=0;if(et>=1300&&b7)z.V++;
z.V++;var iR=c(z),k6=[];for(h=0;h<iR;h++){var bq=P(z),ib=0;P(z);var cq=P(z);if(et>=800)ib=P(z);var cZ={};
if(cq&1){cZ.am1=S(z);var jD=S(z);if(jD)cZ.axV=jD}if(cq&2)z.V+=4;if(cq&4)cZ.akT=K(z);if(cq&8)z.V+=4;if(cq&16)z.V+=4;
if(cq&32)z.V+=4;if(cq&64){cZ.aJb=c(z);if(et>=1500)z.V+=48}if(cq&128){cZ.a7u=c(z)}if(ib&8){if(et>=1300){var eL=c(z);
if(z.V+eL*2>=z.data.length){aI=!0;break}z.V+=eL*2}else z.V+=4}if(ib&32){var hK=P(z);if(hK)z.V+=52}if(bq==2)if(et>=1300)z.V+=48;
k6.push(cZ)}if(aI){break}var fU=c(z);if(z.V+fU*4>z.data.length)break;var ju=[];for(h=0;h<fU;h++){var aF=0;
if(et>=1200)aF=b(z)&4294967295;else aF=c(z);ju[h]=aF>>16|aF&1}var e6=fU;if(et>=1200)e6=c(z);var hB=Y(z);
f7.K.V5.push({a70:iV,text:hB,yX:k6})}}else if(f7.KK=="arrw")f7.K=V(z);else if(f7.KK=="font"){var gA=z.V,h0=S(z),aD=S(z),hy="";
z.V+=14;if(z.RR>=1200)hy=A(z);else hy=Y(z);f7.K={id:h0,aGl:aD,name:hy};if(u){var kD=gA+jU;while(z.data[z.V]==0)z.V++;
z.V+=2;var en=A(z);while(z.data[z.V]==0)z.V++;while(z.data[z.V]<=2)z.V+=4;f7.K.yx=A(z)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(f7.KK)!=-1){}else if(f7.KK=="flgs")f7.K=c(z);
else if(f7.KK=="bbox"){var jp=K(z),ij=K(z),dD=K(z),am=K(z);f7.K=new jj(jp,ij,dD-jp,am-ij)}else if(f7.KK=="fild"){var bE=c(z),gs;
if(et>=1300)z.V+=8;var as=S(z);if(as==0){}else if(as==1){z.V+=et>=1300?13:2;gs=t(z)}else if(as==2){z.V+=et>=1300?8:2;
var c8=P(z),iv=0;if(et>=1300){z.V+=17;iv=w(z)}else if(et>=600){z.V+=19;iv=U(z)}else{z.V+=11;iv=w(z)}var bB=n(z),fs=.5+$(z),gm=.5+$(z)-.5;
if(et>=600)z.V+=2;var jt=e(z)&255,hg=P(z)/100;z.V++;var eI=e(z)&65535;if(et>=1300)z.V+=3;var e0=[];for(var h=0;
h<eI;h++){var f2=t(z);if(et>=1400)z.V+=26;else if(et>=1300)z.V+=5;var bM=(e(z)&65535)/100;if(et>=1300)z.V+=3;
e0.push([bM,f2])}gs={typ:c8==1?"lin":"rad",crds:[fs-Math.cos(bB)/2,gm-Math.sin(bB)/2,fs,gm],grad:e0,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",as);
f7.K={id:bE,e:as,K:gs}}else if(f7.KK=="outl"){var ge=c(z);if(et>=1300){var ed=0,fi=0;while(ed!=1){z.V+=fi;
ed=c(z);fi=c(z)}}var d3=S(z),bi=S(z),iQ=S(z);if(et<1300&&et>=600)z.V+=2;var k_=K(z),dY=S(z)/100;if(et>=600)z.V+=2;
var fb=n(z);if(et>=1300)z.V+=46;else if(et>=600)z.V+=52;var gs=t(z);if(et<600)z.V+=10;else z.V+=16;var jk=S(z),hu=z.V,he=[];
for(var h=0;h<jk;++h)he.push(S(z));if(et<600)z.V=hu+20;else z.V=hu+22;var fZ=c(z),gb=c(z);f7.K={id:ge,a2k:d3,aFM:bi,aF2:iQ,lineWidth:k_,color:gs,Wy:he,al4:fZ,aup:gb}}else if(f7.KK=="mcfg"){if(1300<=et)z.V+=12;
else if(900<=et)z.V+=4;else if(600<=et&&et<700)z.V+=28;var aR=0,fx=0;if(et<400){z.V+=2;var jp=K(z),ij=K(z),dD=K(z),am=K(z);
aR=Math.abs(dD-jp);fx=Math.abs(am-ij)}else{aR=K(z);fx=K(z)}f7.K={ayC:new aG(aR,fx)}}else if(f7.KK=="loda"||f7.KK=="lobj"){var fY=z.V,f3=e(z),dR=e(z),gM=e(z),iS=e(z),iT=e(z),bW=[],dX=[],h=0,ao=null;
z.V=fY+gM;while(h<dR)bW[h++]=e(z);z.V=fY+iS;while(h>0)dX[--h]=e(z);f7.K={};for(h=0;h<dR;h++){z.V=fY+bW[h];
var fq=dX[h];if(fq==30){if(et>=400&&iT==1||et<400&&iT==0){f7.K.path=a(z)}else if(et>=400&&iT==2||et<400&&iT==1){f7.K.path=_(z)}else if(et>=400&&iT==3||et<400&&iT==2){f7.K.path=d(z)}else if(iT==37){f7.K.path=C(z)}else if(et>=400&&iT==4||et<400&&iT==3){f7.K.ap4=W(z)}else if(et>=400&&iT==6||et<400&&iT==5){f7.K.a5i=D(z)}else console.log(iT)}else if(fq==20){if(et<400)f7.K.aD1=Q(z);
else f7.K.a8o=c(z)}else if(fq==10){if(et<400)f7.K.ahG=L(z);else f7.K.ayT=c(z)}else if(fq==200)f7.K.ahK=e(z);
else if(fq==100){if(et<400)ao=X(z)}}if(ao&&f7.K.path)g.b.u(f7.K.path.T,ao,f7.K.path.T)}else if(f7.KK=="trfd"){var fY=z.V,f3=e(z),dR=e(z),gM=e(z);
z.V=fY+gM;var bW=[];for(var h=0;h<dR;h++)bW[h]=e(z);for(var h=0;h<dR;h++){z.V=fY+bW[h];if(et>=1300)z.V+=8;
var jm=S(z);if(jm==8){var kT,h_,jp,fX,d5,ij;if(et>=600)z.V+=6;if(et>=500){kT=F(z);h_=F(z);jp=F(z)/(et<600?1e3:254e3);
fX=F(z);d5=F(z);ij=F(z)/(et<600?1e3:254e3)}else throw"e";f7.gf=new bC(kT,fX,h_,d5,jp,ij)}else console.log(jm)}}else if(!1){console.log(f7);
var eR=Math.min(f7.size,32);console.log(I.W$(q,f7.V,eR));console.log(I.aFr(q,f7.V,eR))}}}function V(q){var z=c(q);
q.V+=4;var jw=S(q);q.V+=4;var u=[];for(var iH=0;iH<jw;iH++)u.push(P(q));q.V+=1;var s=[];for(var bV=0;
bV<jw;bV++){var jU=[];jU[1]=K(q);jU[0]=K(q);s.push(jU)}var hx=y(s,u);x[z]=hx}function X(q){var z=0,jw=0,u=0,iH=0,s=0,bV=0;
if(q.RR>=300){var jU=q.V;q.V+=10;var hx=e(q);q.V=jU+hx;z=G(q);jw=G(q);u=U(q)/1e3;iH=G(q);s=G(q);bV=U(q)/1e3}else{u=K(q);
bV=K(q);z=G(q);jw=G(q);u+=G(q)/1e3;iH=G(q);s=G(q);bV+=G(q)/1e3}return new bC(z,jw,iH,s,u,bV)}function Q(q){var z=P(q);
if(z==0)return null;else if(z==1)return t(q);else console.log(z)}function L(q){var z=P(q);z<<=1;var jw=K(q),u=S(q)/100,iH=n(q),s=t(q);
return{a2k:z,lineWidth:jw,color:s,Wy:[],al4:0,aup:0}}function _(q){var z=K(q),jw=K(q),u=n(q),iH=n(q),s=g.b.Am(g.I.yu.Bd(0,0,z,jw));
return s}function a(q){var z=q.RR,jw=E(q),u=E(q),iH=0,s=0,bV=0,jU=0,hx=0,eX=1,et=1;if(z<1500){jU=E(q);
bV=z<900?jU:E(q);s=z<900?jU:E(q);iH=z<900?jU:E(q)}else{var f7=F(q);if(f7!=0)eX=f7;f7=F(q);if(f7!=0)et=f7;
var iY=P(q);q.V+=7;if(iY==0){jU=F(q);hx=P(q);q.V+=15;bV=F(q);q.V+=16;s=F(q);q.V+=16;iH=F(q);var cd=Math.abs(jw*eX/2),jV=Math.abs(u*et/2);
jU*=cd<jV?cd:jV;bV*=cd<jV?cd:jV;s*=cd<jV?cd:jV;iH*=cd<jV?cd:jV}else{jU=E(q);hx=P(q);q.V+=15;bV=E(q);
q.V+=16;s=E(q);q.V+=16;iH=E(q)}}return g.b.Am(g.I.yu.Rect(0,0,jw,u,[iH,s,bV,jU]))}function T(q){var z=c(q);
if(q.RR<1700)z*=2;q.V+=z;return""}function f(q){var z=c(q),u=0;q.V+=37;var jw=c(q);for(var h=0;h<jw;
h++){var iH=c(q);u=iH;q.V+=48;var s=c(q);if(s==1)q.V+=12*4;else q.V+=8;if(!z){q.V+=16;T(q)}}var bV={a4K:u,V5:[]},jU=c(q);
for(var hx=0;hx<jU;hx++){if(q.V>q.data.length)throw"e";var eX=c(q),et=P(q),f7=-1,cc="";if(z){f7=P(q);
if(f7==1)q.V+=64}var iY=T(q),cd=c(q);for(var h=0;h<cd;h++){q.V+=2;var jV=S(q),g2=S(q);if(g2&4){var gV=c(q);
gV*=2;q.V+=gV}if(jV||g2&4){var fD=T(q)}}var j4=c(q),dQ=[];for(var h=0;h<j4;h++){var eO=b(q)&4294967295;
dQ[h]=eO>>16|eO&1}var a7=c(q);for(var h=0;h<j4;h++){var ad=dQ[h]&7,jC=0;if(ad==0||ad==2||ad==4||ad==6)jC=q.data[q.V++];
else if(ad==1||ad==3||ad==5||ad==7)jC=q.data[q.V++]+q.data[q.V++]*256;else throw ad;cc+=String.fromCharCode(jC)}if(hx+1<jU)q.V++;
var iJ=cc.split("\r");for(var h=0;h<iJ.length;h++)bV.V5.push({text:iJ[h],a70:eX,yX:[]})}return bV}function Z(q,z){var jw={},u=c(q);
for(var h=0;h<u;h++){var iH=c(q);q.V+=4;var s=c(q);jw[iH]=s;if(z)q.V+=48}return jw}function W(q){var z=K(q),jw=K(q);
return new aG(z,jw)}function D(q){q.V+=4;var z=K(q),jw=K(q);return new aG(z,jw)}function C(q){q.V+=4;
var z=S(q)+S(q);q.V+=16;var jw=p(q,z);return jw}function d(q){var z=S(q);q.V+=2;return p(q,z)}function p(q,z){var jw=[],u=[];
for(var h=0;h<z;h++)jw.push([K(q),K(q)]);for(var h=0;h<z;h++)u.push(P(q));return y(jw,u)}function y(q,z){var jw={T:[],Wp:[]},u=0,iH=0,s=0;
for(var h=0;h<q.length;h++){var u=q[h][0],iH=q[h][1],bV=z[h];if(!(bV&64)&&!(bV&128)||h==0){jw.T.push(u,iH);
jw.Wp.push("M");s+=2}else if(bV&64&&!(bV&128)){jw.T.push(u,iH);jw.Wp.push("L");s+=2}else if(!(bV&64)&&bV&128){jw.T.push(u,iH);
jw.Wp.push("C");s+=6}else if(bV&64&&bV&128){jw.T.push(u,iH)}}if(s!=jw.T.length)throw"e";return jw}function i(q,z){var jw=I.eA;
z+=8;var u=jw(q,z);z+=4;var iH=jw(q,z);z+=4;z+=4*7;var s=z,bV=g.C(u*iH*4);z+=1024;for(var jU=0;jU<iH;
jU++)for(var hx=0;hx<u;hx++){var h=jU*u+hx,eX=(iH-jU-1)*u+hx,et=q[z+h]<<2,f7=eX<<2;bV[f7+0]=q[s+et+2];
bV[f7+1]=q[s+et+1];bV[f7+2]=q[s+et+0];bV[f7+3]=255}return{r3:bV,S:new jj(0,0,u,iH)}}function t(q){var z=q.RR,jw=0,u=0,iH=0;
if(z>=500){jw=S(q);if(jw==1&&z>=1300)jw=25;if(jw==30){jw=25;u=30}else{u=S(q);q.V+=4}iH=c(q)}else if(z>=400)throw"e";
else{jw=P(q);iH=c(q)}return O(jw,u,iH)}function O(q,z,jw){var u=[0,0,0];if(q==2||q==3||q==9||q==17){var iH=[jw>>>0&255,jw>>>8&255,jw>>>16&255,jw>>>24&255];
if(q==2)for(var h=0;h<4;h++)iH[h]=Math.round(255*iH[h]/100);for(var h=0;h<4;h++)iH[h]/=255;u=UDOC.C.cmykToRgb(iH)}else if(q==1||q==5){u=[jw>>>0&255,jw>>>8&255,jw>>>16&255];
for(var h=0;h<3;h++)u[h]=u[h]/255;if(q==5)u.reverse()}else console.log("Unknown color model "+q,jw,jw.toString(16));
return u}return{KE:o}}(),gP=function(){var J,v,x=new ArrayBuffer(4),o=new Uint8Array(x),R=new Uint32Array(x),r=new Float32Array(x);
function l(w,U){for(var F=0;F<w.length;F++)if(w[F][0]==U)return w[F]}function M(){var w=0,U=0,F=0;do{F=J[v++];
w|=(F&127)<<U;U+=7}while(F&128&&U<35);return w>>>0}function P(w,U,F,Y,A){J=w;v=U;var G=Y[0]=="mesg",n=Y[2],E={},K=1,e=G?1e9:n.length;
while(K<=e){var $=K;if(G){$=M();if($==0)break}var N=l(n,$),k=N[2],V=N[1]==1,X=V?M():1,Q=new Array(X);
if(k==3){if(!V)throw"e";Q=J.slice(v,v+X);v+=X}else for(var h=0;h<X;h++){var L;if((k&1)==1){if(k==1)L=J[v++]==1;
else if(k==3)L=J[v++];else if(k==5){var _=M();L=_&1?~(_>>>1):_>>>1}else if(k==7)L=M();else if(k==9){if(J[v]==0){L=0;
v++}else{o[0]=J[v];o[1]=J[v+1];o[2]=J[v+2];o[3]=J[v+3];var a=R[0];R[0]=a<<23|a>>>9;L=r[0];v+=4}}else if(k==11){var T=S(J,v);
L=T[0];v+=T[1]+1}else throw k}else{var f=F[k>>>1];if(f[0]=="enum"){var Z=M();L=f[2][Z]}else{var W=P(J,v,F,f,A+1);
L=W[0];v=W[1]}}Q[h]=L}E[N[3]]=V?Q:Q[0];K++}return[E,v]}function S(w,U){var F=U;while(w[F]!=0)F++;return[I.Aq(new Uint8Array(w.buffer,U,F-U)),F-U]}function c(w,U){var F=U;
while(w[F]!=0)F++;for(var h=U;h<F;h++)if(w[h]>127)throw"e";return I.b_(w,U,F-U)}function b(w){J=w;v=1;
var U=[];while(v<w.length){var F=v,Y=U.length,A=c(w,v);v+=A.length+1;var G=M();if(G>2)throw"e";var n=M(),E=[];
for(var h=0;h<n;h++){var K=c(w,v);v+=K.length+1;var e=M(),$=M(),N=M();E.push(G==0?K:[N,$,e,K])}U.push([["enum","strc","mesg"][G],A,E])}return U}return{aiJ:b,azL:P}}();
function hU(){}hU.KE=function(J,v){var x=Date.now(),o=new Uint8Array(J),R=8,r,b=0,W=0;if(o[0]==80&&o[1]==75){r=UZIP.parse(J);
o=r["canvas.fig"]}var l=I.eA(o,R);R+=4;var M=[];while(R<o.length){var P=I.eA(o,R);R+=4;var S=o.slice(R,R+P);
if(o[R]==137&&o[R+1]==80){}else S=UZIP.inflateRaw(S);M.push(S);R+=P}var c=gP.aiJ(M[0]);for(var h=0;h<c.length;
h++)if(c[h][1]=="Message")b=h;var w=gP.azL(M[1],0,c,c[b],0)[0],U={BI:{},PK:{},aoD:{},Fk:r},F=w.nodeChanges;
for(var Y=0;Y<F.length;Y++){var A=F[Y],G=A.guid;U.PK[G.sessionID+","+G.localID]=A}for(var Y=0;Y<F.length;
Y++){var A=F[Y],G=A.parentIndex;if(G){var n=hU.Rm(U.PK,G.guid);if(n.children==null)n.children=[];n.children.push(A)}}var E=F[0],K=E.children,e=new jj,$=[],N=[];
for(var G=0;G<K.length;G++){var k=K[G],V=k.children;if(k.name=="Internal Only Canvas"||V==null)continue;
var X=new jj;for(var h=0;h<V.length;h++){var Q=V[h],L=Q.transform,_=Q.size;if(L.m00==1&&L.m10==0&&L.m01==0&&L.m11==1){var a=new jj(L.m02,L.m12,_.x,_.y);
X=X.h0(a)}}var T=e.$==0?0:e.$+100,f=X.Q();f.x=0;f.y=T;e=e.h0(f);$[G]=X;N[G]=T}var Z=bb.i5(new jj(0,0,e.r,e.$),8192*8192);
v.r=Math.round(e.r/Z);v.$=Math.round(e.$/Z);v.buffer=g.C(v.r*v.$*4);for(var G=0;G<K.length;G++){var k=K[G],V=k.children;
if(k.name=="Internal Only Canvas"||V==null)continue;V.sort(hU.aH9);var D=new bC(1,0,0,1,-$[G].x,N[G]-$[G].y);
D.scale(1/Z,1/Z);for(var h=0;h<V.length;h++){var Q=V[h];hU.Sm(Q,[],D,w.blobs,v,0,U);W++}}v.Dy(W);v.C4=!0;
if(Z!=1)alert("File scaled down "+Z+"x")};hU.Sm=function(J,v,x,o,R,r,l){var M=hU,X=!1,Q,a=!1,T,f;v=g.F(v);
var P=J.overrideKey?J.overrideKey:J.guid;for(var h=0;h<v.length;h++){var S=v[h],c=S.guidPath.guids;if(M.a5J(c[0],P)){if(c.length==1){var b={};
for(var w in J)b[w]=S[w]!=null?S[w]:J[w];J=b}else S.guidPath.guids=c.slice(1)}}var U=J.type,F=J.children,Y=J.size,A=J.effects,G=R.qL();
G.v7(J.name);G.G0(J.visible);G.fc=Math.round(J.opacity*255);var n=M.iH(J.transform),E=n.Q();E.concat(x);
if(Y==null)Y={x:0,y:0};var K=new jj(Math.round(E.zP),Math.round(E.jD),Math.round(Y.x*E.Nf()),Math.round(Y.y*E.Nf()));
if(K.r==0||isNaN(K.r))K.r=100;if(K.$==0||isNaN(K.$))K.$=100;var e=J.fillPaints,$=J.inheritFillStyleID;
if($){var b=M.Rm(l.PK,$);if(b)e=b.fillPaints}if(e==null)e=[];var e=M.ahf(e),N=e[0];if(N&&N.type=="IMAGE"&&M.rv(o,hU.K_(N),l,!0)==null)N=null;
var k=J.strokePaints,$=J.inheritFillStyleIDForStroke;if($){var b=M.Rm(l.PK,$);if(b)k=b.fillPaints}if(k==null)k=[];
var k=M.ahf(k),V="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(U)!=-1;
if(V||U=="FRAME"){Q=new m.e_;M.aF5(J,o,Q);X=g.I.GC(Q.X);g.I.Xi(Q.X,E);var L=g.b.RN(g.I.Or(Q.X));if(!L.L3())K=L;
if(l.BI.nT&&N){var _=m.e_.w2(l.BI.nT.X);for(var h=2;h<_.length;h++)if(_[h].da!=null)_[h].da=3;Q.X=Q.X.concat(_.slice(2))}}if(N&&N.type=="IMAGE"){f=N.imageScaleMode;
a=!0;var Z=N.originalImageWidth,W=N.originalImageHeight;if(Z*W==0){var D=M.rv(o,hU.K_(N),l);Z=D.P0.r;
W=D.P0.$}var C=Z/W,d=Y.x/Y.y;T=Math.abs(C-d)}if(U=="FRAME"){}else if(V&&X&&a&&(f=="FIT"||f=="FILL"&&T<=.05||f=="STRETCH"&&T<=.05)){var p=M.rv(o,hU.K_(N),l,!0),y=R.P2(p,G.getName(),0,0);
y.eW=G.eW;y.fc=G.fc;G=y;var i=new jj(0,0,Y.x,Y.y);if(f=="FIT"){var t=N.originalImageWidth,O=N.originalImageHeight,q=Math.min(Y.x/t,Y.y/O),z=t*q,jw=O*q;
i=new jj(i.x+(i.r-z)/2,i.y+(i.$-jw)/2,z,jw)}var u=g.b.ho(i).T;g.b.u(u,E,u);G.add.SoLd.Trnf=H.ge.y7(u);
G.add.SoLd.nonAffineTransform=H.ge.y7(u);var iH=[],A=J.effects,s=N.paintFilter;if(A)for(var h=0;h<A.length;
h++)if(A[h].type=="FOREGROUND_BLUR"){var bV=A[h],jU=a8.Hs("GsnB",{});iH.push(jU);jU.v.enab.v=bV.visible;
jU.v.Fltr.v.Rds.v.val=bV.radius/2.4}if(s&&s.exposure!=0){var jU=a8.Hs("brit",{});iH.push(jU);jU.v.Fltr.v.Brgh.v=Math.round(s.exposure*160);
jU.v.Fltr.v.useLegacy.v=!0}if(s&&s.vibrance!=0){var jU=a8.Hs("vibA",{});iH.push(jU);jU.v.Fltr.v.Strt.v=Math.round(Math.round(s.vibrance*100))}if(iH.length!=0){G.add.SoLd.filterFX=a8.Ky();
R.Dj({id:G.add.SoLd.placed.v,S:new jj,buffer:g.C(1),pR:new m.V1});G.add.SoLd.filterFX.v.filterFXList.v=iH}G.IY(R,!1);
M.a3b(l,G,R)}else if(V){M.apI(G,Q,J,N,k,E,K,o,R,l);if(A)for(var h=0;h<A.length;h++){var bV=A[h];if(bV.type!="FOREGROUND_BLUR")continue;
Q.p5=bV.radius/2.4}G.Tr();G.B0(R)}else if(U=="TEXT"){var hx=J.textData,eX=hx.layoutSize;if(eX==null)eX=J.size;
var et=["LEFT","RIGHT","CENTER"].indexOf(J.textAlignHorizontal);G.add.lnsr="rend";G.add.TySh=bI.Q6(0,0);
G.add.TySh.yW=new jj(0,0,100,100);var f7=E.Q();G.add.TySh.u=f7;var iY=G.add.TySh.vv,cd=hx.characters;
if(J.textCase=="TITLE"){for(var h=0;h<cd.length;h++)if(h==0||cd[h-1]==" "){var jV=cd.slice(0,h),g2=cd.slice(h+1);
cd=jV+cd[h].toUpperCase()+g2}}cd=cd.replace(/\u2028/g,"\n");cd=cd.replace(/\u2029/g,"\n");cd=cd.replace(/\r\n/g," \n");
bI.Cq(iY,0,cd);var gV=J.textAutoResize,fD=hx.baselines;if(gV=="WIDTH_AND_HEIGHT"){var j4=et==0?0:et==1?eX.x:eX.x/2,dQ=fD?fD[0].position.y:J.fontSize;
f7.translate(j4*E.Nf(),dQ*E.Nf());bI.IN(iY,0)}else if(gV=="HEIGHT"||gV=="NONE"||gV==null){var dQ=fD?fD[0].position.y-J.fontSize*.7:0;
f7.translate(0,dQ*E.Nf());bI.IN(iY,1);bI.lC(iY,[0,0,Math.round(eX.x),Math.round((gV=="NONE"?1.8:1)*eX.y)])}else throw gV;
if(cd!=""){var eO=bI.Ni(iY,0,1);M.ae3(J,E,Y,eO,G,o,R,l);bI.qc(iY,0,cd.length,eO);var a7=hx.characterStyleIDs,cc=hx.styleOverrideTable;
if(a7){a7=a7.slice(0);for(var h=0;h<a7.length;h++)if(cd[h]=="\n")a7[h]=-h-1;var ad=[0],jC=0,iJ=0;for(var h=0;
h<a7.length;h++){iJ++;var kJ=a7[h];if(h==0||kJ==a7[h-1]){}else{ad.push(iJ-1,h);iJ=1}}ad.push(iJ);for(var h=0;
h<ad.length;h+=2){var jr=ad[h],fY=ad[h+1];if(cd[jr]=="\n")continue;var kJ=a7[jr];if(kJ!=0){var iR;for(var g6=0;
g6<cc.length;g6++)if(cc[g6].styleID==kJ)iR=cc[g6];var eO=bI.Ni(iY,jr,jr+1);M.ae3(iR,E,Y,eO,G,o,R,l);
bI.qc(iY,jr,jr+fY-1,eO)}}}}}else if(U=="SYMBOL"){}else if(U=="INSTANCE"&&J.symbolData){var ay=J.symbolData,cQ=ay.symbolOverrides,b=M.Rm(l.PK,ay.symbolID);
if(b)F=b.children;else console.log(J.name,"symbol not found",ay.symbolID);v=v.slice(0);for(var h=0;h<cQ.length;
h++)v.push(cQ[h])}else console.log(U);if(!1){}else if(F&&!V){R.k.push(R.V4());var aC=!1,dI=r==0&&U!="SYMBOL"&&U!="INSTANCE";
if(dI){if(K.L3())console.log(K);G.$V(K)}N=e[e.length-1];if(N&&N.type=="IMAGE"&&M.rv(o,hU.K_(N),l,!0)==null)N=null;
if(dI&&N&&N.type=="SOLID"){var fm=N.color;G.add.artb.artboardBackgroundType.v=4;G.add.artb.Clr=M.qn(fm)}else if((N||k[0])&&Q){var hd=R.qL();
hd.v7("Background");M.apI(hd,Q,J,N,k,E,K,o,R,l);hd.Tr();hd.B0(R);R.k.push(hd);aC=!0}F.sort(M.aH9);var ku=l.BI;
l.BI={};for(var cp=0;cp<F.length;cp++)M.Sm(F[cp],v,E,o,R,r+1,l);l.BI=ku;G.add.lsct=!1?h2.Uk:h2.Le;G.gR="pass";
var hp=G.jh();G.eW=24;G.G0(hp);var gA=r!=0&&e.length!=0&&!J.frameMaskDisabled&&J.containerSupportsFillStrokeAndCorners;
if(!aC&&gA&&Q){G.add.vmsk=Q;G.Tr();G.B0(R)}else M.a3b(l,G,R);R.k.push(G)}else if(J.mask){if(Q){l.BI.nT=Q}}else{var jN=[],f$=1;
if(A)for(var d4=0;d4<A.length;d4++){var bV=A[d4],ey=bV.color,jG=bV.type,cF=["DROP_SHADOW","INNER_SHADOW"].indexOf(jG);
if(cF!=-1){var f5=["DrSh","IrSh"][cF],jW=JSON.parse(gD.Sy[gD.order.indexOf(f5)]);jN.push([f5,jW]);jW.enab.v=bV.visible;
jW.Md.v.BlnM=gX.Pp(M.alu(bV.blendMode));jW.Opct.v.val=Math.round(100*ey.a);jW.blur.v.val=Math.round(bV.radius*E.Nf());
jW.Clr=M.qn(ey);var j4=bV.offset.x,dQ=bV.offset.y;jW.uglg.v=!1;jW.lagl.v.val=Math.round(180/Math.PI*Math.atan2(dQ,-j4));
jW.Dstn.v.val=Math.round(Math.sqrt(j4*j4+dQ*dQ)*E.Nf())}}if(U=="TEXT"&&e[0]&&e[0].type!="SOLID")f$=0;
for(var h=f$;h<e.length;h++){var bh=e[h],ii=M.gx(J,bh,E,K,o,R,l);if(ii[0]=="GdFl")jN.push(["GrFl",ii[1]]);
else if(ii[0]=="SoCo")jN.push(["SoFi",ii[1]]);else if(ii[0]=="PtFl")jN.push(["patternFill",ii[1]]);else if(ii[0]=="None"){}else throw ii}if(!V)for(var h=0;
h<k.length;h++){var bh=k[h],ii=M.gx(J,bh,E,K,o,R,l);if(ii[0]=="SoCo"){var jW=JSON.parse(gD.Sy[gD.order.indexOf("FrFX")]);
jN.push(["FrFX",jW]);jW.enab=ii[1].enab;jW.Opct=ii[1].Opct;jW.Md=ii[1].Md;jW.Clr=ii[1].Clr;jW.Sz.v.val=Math.round(J.strokeWeight);
var dM=J.strokeAlign;if(dM)jW.Styl.v.FStl=gD.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(dM)]}}if(jN.length!=0){var b7=JSON.parse(gD.default);
for(var h=0;h<gD.order.length;h++)b7[gD.Lw[h]]={t:"VlLs",v:[]};for(var h=0;h<jN.length;h++){var bz=jN[h],f5=gD.Lw[gD.order.indexOf(bz[0])];
b7[f5].v.unshift({t:"Objc",v:bz[1]})}if(F==null)G.add.lmfx=b7}R.k.push(G)}};hU.apI=function(J,v,x,o,R,r,l,M,P,S){var c=hU;
J.eW|=16;J.add.vmsk=v;var b=J.add.vstk=gD.gB.ow(),w=c.gx(x,o,r,l,M,P,S);b.fillEnabled.v=w[0]!="None";
if(w[0]=="None"){J.add.SoCo=w[1]}else{c.Hc(w,J);J.add[w[0]]=w[1]}var w=c.gx(x,R[0],r,l,M,P,S);if(w[0]!="None"){var b=J.add.vstk;
b.strokeEnabled.v=!0;b.strokeStyleLineWidth.v.val=x.strokeWeight*r.Nf();b.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gD.gB.r8[["INSIDE","CENTER","OUTSIDE"].indexOf(x.strokeAlign)];
var U={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[w[0]],F=["SoFi","GrFl","patternFill"].indexOf(U),Y=[gD.AG,gD.Zy,gD.eH][F];
b.strokeStyleContent.v={classID:gD.gB.dP[0]};var A=x.dashPattern;if(A)b.strokeStyleLineDashSet.v=iD.l_(A,1/x.strokeWeight);
var G=b.strokeStyleContent.v={classID:gD.gB.dP[F]};for(var h=0;h<Y.length;h++)G[Y[h]]=w[1][Y[h]];if(!b.fillEnabled.v)c.Hc(w,J)}};
hU.Hc=function(J,v){var x=J[1].Opct.v.val;if(x!=100)v.fc=Math.round(v.fc/255*(x/100)*255)};hU.aH9=function(J,v){var x=J.parentIndex.position,o=v.parentIndex.position;
return x>o?1:-1};hU.ahf=function(J){for(var h=1;h<J.length;h++){var v=J[h];if(v.type=="IMAGE"&&v.opacity==1){J=J.slice(h);
break}}for(var h=0;h<J.length;h++){var v=J[h],x=v.imageThumbnail,o=v.type=="IMAGE";if(o&&(v.image==null||v.image.dataBlob==null)&&x&&x.dataBlob)v.image=x;
if(!v.visible||o&&v.image==null){J.splice(h,1);h--}}return J};hU.a3b=function(J,v,x){if(J.BI.nT){v.add.vmsk=J.BI.nT.Q();
v.Tr();v.B0(x)}};hU.ae3=function(J,v,x,o,R,r,l,M){var P=J.fontSize,S=J.lineHeight,c=J.fontName,b=J.textAlignHorizontal,w=J.textTracking,U=J.textCase,F=J.textDecoration;
if(P==null)P=o.iz.FontSize;if(c){var Y=c.postscript;if(Y==""){var A=c.family,G=c.style;Y=A.split(" ").join("")+"-"+G}bI.ud(o,Y)}if(P!=null)o.iz.FontSize=Math.round(P);
if(F=="UNDERLINE")o.iz.Underline=!0;if(w)o.iz.Tracking=Math.round(w*1e3);if(U)o.iz.FontCaps=U=="UPPER"?2:0;
if(S&&(S.units!="PERCENT"||S.value!=100)){if(P==null)P=15;var n=S.value;if(S.units=="PERCENT")n=1*P*n/100;
if(S.units=="RAW")n=1*P*n;o.iz.AutoLeading=!1;o.iz.Leading=Math.round(n)}if(b)o.u7.Justification=["LEFT","RIGHT","CENTER"].indexOf(b);
var E=J.fillPaints,K=J.inheritFillStyleID;if(K){var e=hU.Rm(M.PK,K);if(e)E=e.fillPaints}if(E&&E[0]){var $=hU.gx(J,E[0],v,x,r,l,M);
if($[0]=="SoCo"){var N=g.UH.Eb($[1].Clr.v);o.iz.FillColor={Type:1,Values:[1,N.z/255,N.H/255,N.c/255]};
hU.Hc($,R)}}};hU.gx=function(J,v,x,o,R,r,l){var M=hU,P,S,c=J.size;if(c==null)c={x:0,y:0};if(v){var b=v.type,w=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(b);
if(b=="SOLID"){P="SoCo";var U=v.color;S=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);S.Clr=M.qn(U)}else if(w!=-1){var F=JSON.parse(gD.Sy[gD.order.indexOf("GrFl")]),Y=F.Grad.v;
Y.Intr.v=0;F.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][w];var A=[],G=v.stops;for(var h=0;h<G.length;h++){var n=G[h],E=n.color;
A.push([n.position,[E.r,E.g,E.b],E.a])}g.UH.w5(A,Y);var K=M.iH(v.transform);K.SV();var e=K.Q();if(c)e.scale(c.x,c.y);
e.concat(x);var $=new aG(0,.5),N=new aG(1,.5);$=e.Xw($);N=e.Xw(N);if(!0){$.x=N.x+.5*($.x-N.x);$.y=N.y+.5*($.y-N.y)}g.UH.eb($,N,o,F);
if(w==3){if(e.o5*e.fn-e.c*e.Mz<0)F.Rvrs.v=!F.Rvrs.v}P="GdFl";S=F}else if(b=="IMAGE"){var F=JSON.parse(gD.Sy[gD.order.indexOf("patternFill")]),K=M.iH(v.transform);
K.SV();var k=hU.K_(v),V=l.aoD[k];if(V==null){var X=M.rv(R,k,l);V=l.aoD[k]={};V.id=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f";
V.ub=[new Uint8Array(X.data),X.P0];if(K.o5<0){var Q=V.ub[0].slice(0);g.O.Ot(Q,V.ub[0],X.P0.r,X.P0.$)}V.name="someImage";
r.Mk(V)}if(K.o5<0)K.o5=-K.o5;var L=["FILL","FIT","STRETCH","TILE"].indexOf(v.imageScaleMode),_=L==3?v.scale:1;
iD.aGJ(V,F,c.x,c.y,L,x,K,_);P="PtFl";S=F}else if(b=="VIDEO"){P="SoCo";S=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);
S.Clr=M.qn({r:255,g:0,b:255})}else throw b;if(S)S.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(v.opacity*100)}}}if(P==null||v.opacity<.001){P="None";
S={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:0,H:0,c:0})}}}return[P,S]};hU.K_=function(J){var v=J.image,x=v.dataBlob;
if(x==null){x="";for(var h=0;h<20;h++)x+=v.hash[h].toString(16).padStart(2,"0")}return x};hU.rv=function(J,v,x,o){if(J[v]){var R=J[v];
if(o)return R.bytes;if(R.rslt)return R.rslt;var r=R.bytes.buffer;R.rslt=hU.a5P(r);return R.rslt}else{if(x.Fk==null)return null;
if(o)return x.Fk["images/"+v];var r=x.Fk["images/"+v].buffer;if(x.Fk["images/-"+v])return x.Fk["images/-"+v];
x.Fk["images/-"+v]=hU.a5P(r);return x.Fk["images/-"+v]}};hU.a5P=function(J){var v=d2.e4(J);if(v=="fpng")v="png";
var x=d2.s$(v);try{var o=x.lx(J)[0];if(o.depth==16){o.depth=8;o.data=g.N2(new Uint16Array(o.data),8).buffer}return o}catch(gw){return{data:g.C(4),P0:new jj(0,0,1,1)}}};
hU.aF5=function(J,v,x){var o=J.type,R=J.size,r=J.cornerRadius,S;if(r==null)r=0;var l=R.x,M=R.y,P=[r,r,r,r],c=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var h=0;h<4;h++)if(J[c[h]]!=null)P[h]=J[c[h]];if(o=="RECTANGLE"||o=="ROUNDED_RECTANGLE"||o=="FRAME"){S=g.I.yu.Rect(0,0,l,M,P)}else if(o=="ELLIPSE"){var b=J.arcData,w=b?b.startingAngle:0,U=b?b.endingAngle:2*Math.PI,F=b?b.innerRadius:0;
if(w==0&&U>1.999*Math.PI)S=g.I.yu.Bd(0,0,l,M,0);else S=g.I.yu.azf(l/2,M/2,M/2,w,U);if(F!=0&&F!=1){var Y=m.e_.w2(S).slice(3);
Y.reverse();for(var h=0;h<Y.length;h++){var A=Y[h],G=A.nQ;A.nQ=A._v;A._v=G}var n=new bC;n.translate(-l/2,-M/2);
n.scale(F,F);n.translate(l/2,M/2);g.I.Xi(Y,n);S=S.concat(Y);S[2].length*=2}}else if(o=="LINE"){S=g.I.yu.Rect(0,0,l,M,0);
S.pop();S.pop();S[2].length=2}else if(o=="STAR"){S=g.I.yu.axU(l/2,M/2,l/2,2*Math.PI*(1/4),5,0,J.starInnerScale)}else if(o=="REGULAR_POLYGON"){S=g.I.yu.We(.5,.5,.5,Math.PI/2,J.count,0);
var E=new bC;E.scale(l,M);g.I.Xi(S,E)}else if(o=="BOOLEAN_OPERATION"){S=[{e:6},{e:8,all:0}];var K=J.children,e=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(J.booleanOperation);
if(e==-1)throw J;if(K==null)K=[];for(var h=0;h<K.length;h++){var $=K[h],N=new m.e_,k=hU.aF5($,v,N);if(N.X==null)continue;
g.I.Xi(N.X,hU.iH($.transform));S=S.concat(N.X.slice(2))}for(var h=3;h<S.length;h++)if(S[h].da!=null)S[h].da=e}else if(o=="VECTOR"){var V,X,d=3;
if(!0){var Q=J.vectorData;if(Q==null)return;V=Q.normalizedSize;X=Q.vectorNetworkBlob}var L=v[X].bytes,_=new Uint32Array(L.buffer),a=new Float32Array(L.buffer),T=_[0],f=_[1],Z=_[2],W=[],D=[],C=[],p=d+T*3,y=p+f*7;
for(var h=0;h<T;h++){var i=d+h*3,t=new aG(a[i+1],a[i+2]);W.push(t)}for(var h=0;h<f;h++){var O=p+h*7;
D.push([_[O+0],_[O+1],a[O+2],a[O+3],_[O+4],a[O+5],a[O+6]])}for(var h=0;h<Z;h++){var q=_[y+1],z=C[h]=[];
y+=2;for(var jw=0;jw<q;jw++){var u=_[y++],iH=z[jw]=[];for(var s=0;s<u;s++)iH[s]=_[y+s];y+=u}}if(y!=_.length&&y!=_.length-1)throw"e";
if(Z==0){var bV=-1;for(var h=0;h<f;h++){if(bV==-1){}else{var jU=-1;for(var jw=h;jw<f;jw++)if(D[jw][4]==bV)jU=jw;
for(var jw=h;jw<f;jw++)if(D[jw][1]==bV)jU=jw;if(jU!=-1){var hx=0,G=D[jU];D[jU]=D[h];D[h]=G;if(G[1]!=bV){hx=G[1];
G[1]=G[4];G[4]=hx;hx=G[2];G[2]=G[5];G[5]=hx;hx=G[3];G[3]=G[6];G[6]=hx}}}bV=D[h][4]}C.push([[]]);for(var h=0;
h<f;h++)C[0][0].push(h)}var eX=[],et=[];for(var f7=0;f7<C.length;f7++){for(var iY=0;iY<C[f7].length;
iY++){var cd=C[f7][iY],jV=0;if(cd.length>1){var g2=D[cd[0]],gV=D[cd[1]];jV=g2[4]==gV[1]?1:0}for(var h=0;
h<cd.length;h++){var fD=D[cd[h]],j4=1,dQ=4;if(jV==0){j4=4;dQ=1}var eO=W[fD[j4]],a7=W[fD[dQ]];if(h==0){et.push("M");
eX.push(eO.x,eO.y)}et.push("C");eX.push(eO.x+fD[j4+1],eO.y+fD[j4+2],a7.x+fD[dQ+1],a7.y+fD[dQ+2],a7.x,a7.y)}}}S=g.b.ZX({T:eX,Wp:et},!1);
if(r!=0){var P=[],cc=S[2].length;for(var h=0;h<cc;h++)P.push(r);if(g.I._J(S))g.I.O3(S,2,P)}var ad=new bC;
ad.scale(V.x==0?1:R.x/V.x,V.y==0?1:R.y/V.y);g.I.Xi(S,ad)}x.X=S};hU.Rm=function(J,v){return J[v.sessionID+","+v.localID]};
hU.a5J=function(J,v){return J.sessionID==v.sessionID&&J.localID==v.localID};hU.alu=function(J){var v={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[J];
if(v==null)throw J;return v};hU.qn=function(J){return{t:"Objc",v:g.UH.YK({z:J.r*255,H:J.g*255,c:J.b*255})}};
hU.iH=function(J){if(J==null)return new bC;var v=[J.m00,J.m10,J.m01,J.m11,J.m02,J.m12];for(var h=0;h<6;
h++)if(Math.abs(v[h])<1e-20)v[h]=0;return new bC(v[0],v[1],v[2],v[3],v[4],v[5])};function kQ(){}kQ.KE=function(){var J=I.b_;
function v(U,F,Y,A){var G=A?[]:{};while(F<U.length-1&&U[F]!=125){var n=J(U,F,3),E=J(U,F+3,1),K;F+=4;
F++;if(E=="v"){var e=v(U,F,Y+1,n=="ELM"||n=="TIL"||n=="TFS");K=e.K;F=e.V}else if(E=="i"||E=="f"){var $=F;
while(U[$]!=125)$++;var N=J(U,F,$-F);K=E=="i"?parseInt(N,16):parseFloat(N);F=$+1}else if(E=="s"){var k=I.H1(U,F),N="";
F+=2;for(var h=0;h<k;h++)N+=String.fromCharCode(U[F+2*h+1]);K=N;F=F+2*k+1}else if(E=="b"){K=U[F]==49;
F=F+2}else throw"e";if(A)G.push([n,K]);else if(G[n]==null)G[n]=K;else{if(!(G[n]instanceof Array))G[n]=[G[n]];
G[n].push(K)}}F++;return{K:G,V:F}}function x(U,F){var Y=o(U).slice(1),U=F.Clr.v;U.Rd.v=Y[0]*255;U.Grn.v=Y[1]*255;
U.Bl.v=Y[2]*255}function o(U){return[(U>>>24&255)/255,(U>>>16&255)/255,(U>>>8&255)/255,(U>>>0&255)/255]}function R(U,F){var Y=F&4278190080|(F&255)<<16|(F>>>8&255)<<8|F>>>16&255;
g.SX(U,Y)}function r(U,F){var Y=U.TSZ,A=U.WPX,G=U.HPX,n=U.TIL,E=new jj(0,0,A,G),K=g.C(A*G*4),e=0;for(var $=0;
$<G;$+=Y)for(var N=0;N<A;N+=Y){var k=new jj(N,$,Y,Y),V,X=n[e];if(X[0]=="TMC"){V=g.C(k.o()*4);R(V,X[1])}else if(X[0]=="TID"){V=F[X[1]]}g.sW(V,k,K,E);
e++}return[K,E]}function l(U,F){U=new Uint8Array(U);var Y=8,A,G={},f=0;while(Y<U.length){var n=I.m7(U,Y);
Y+=4;var E=J(U,Y,4);Y+=4;if(E=="mkTS"){var K=pako.inflate(U.slice(Y,Y+n)),e=v(K,0,0);A=e.K}else if(E=="mkBT"){var $=I.m7(U,Y+4),N=I.m7(U,Y+8),K=pako.inflate(U.slice(Y+76,Y+n));
if(N==0)for(var h=0;h<K.length;h+=4){var k=K[h],V=K[h+1],X=K[h+2],Q=K[h+3];K[h+3]=k;K[h+2]=Q;K[h+1]=X;
K[h]=V}else{var L=g.C(K.length*4);L.fill(255);g.QR(K,L);K=L}G[$]=K}Y+=n+4}var _=A.PDC,a=_?_ instanceof Array?_:[_]:[A.MKB],T=new jj;
for(var h=0;h<a.length;h++){var Z=a[h];T=T.h0(new jj(0,f,Z.WID,Z.HIT));f+=Z.HIT+100}F.r=T.r;F.$=T.$;
F.buffer=g.C(T.o()*4);F.Dy(a.length);f=0;for(var W=0;W<a.length;W++){F.k.push(F.V4());var Z=a[W],D=Z.WID,C=Z.HIT,d=Z.BGC,p=(Z.LYL?Z:A).LYL.LAY,t=3;
for(var h=0;h<p.length;h++)P(p[h],F,null,G,new bC(1,0,0,1,-Z.XLC,-Z.YLC+f));var y=F.qL();F.k.push(y);
var i=new jj(0,f,D,C);f+=C+100;y.$V(i);if(d>>>24!=0){var O=g.UH.YK({z:d>>>16&255,H:d>>>8&255,c:d>>>0&255});
y.add.artb.Clr={t:"Objc",v:O};t=4}y.add.artb.artboardBackgroundType.v=t;y.v7(Z.PGN?Z.PGN:"Page "+(W+1));
y.add.lsct=h2.Le;y.gR="pass";y.eW=24}}function M(U,F,Y){var A=U[F];return A instanceof Array?A[Y]:A}function P(U,F,Y,A,G){var n=F.qL();
if(U.VIS!=null)n.G0(U.VIS);if(U.VIF!=null)n.G0(U.VIF.VIS);if(U.OPA!=null)n.fc=Math.round(255*U.OPA/1e3);
n.gR=U.CLL||Y=="GRP"?"pass":"norm";if(U.BLD!=null){var E=U.BLD,K={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[E+""];
if(K==null)console.log(U.OBN,E);else n.gR=K;if(E==30)n.fc>>>=1}if(U.CLL){n.v7(U.LNM);F.k.push(F.V4());
var e=U.CLL.CEL;if(e.length==null)e=[e];for(var $=e.length-1;$>=0;$--){var N=e[$].ELM;for(var h=N.length-1;
h>=0;h--)P(N[h][1],F,N[h][0],A,G)}n.add.lsct=U.DIS?h2.Uk:h2.Le;n.eW|=24}else if(Y=="GRP"){var k=n.add.lmfx=c(U.EFL),V;
F.k.push(F.V4());var N=U.ELM,X=U.MRM;if(U.MNA){V=N[0][1];N=N.slice(1)}n.v7("Group: "+N.length+" objects");
for(var h=N.length-1;h>=0;h--)P(N[h][1],F,N[h][0],A,G);if(V){if(U.MRX){var Q=r(V,A),L=n.pR=new m.V1;
L.S=Q[1].Q();L.S.x=V.XLC;L.S.y=V.YLC+G.jD;L.N=g.C(L.S.o());g.Vi(Q[0],L.N,0);g.SV(L.N)}else{S(n,V,G);
n.Tr();n.B0(F)}}if(X){S(n,X.PTH,G);n.Tr();n.B0(F)}n.add.lsct=h2.Le;n.eW|=24}else if(Y=="IMG"){n.v7(U.OBN?U.OBN:"Bitmap");
var Q=r(U,A);n.S=Q[1].Q();n.S.x=U.XLC;n.S.y=U.YLC+G.jD;n.buffer=Q[0]}else if(Y=="TXT"){var _=U.TFS,W="";
n.add.lnsr="rend";n.add.TySh=bI.Q6(0,0);n.add.TySh.yW=new jj(0,0,100,100);var a=new bC(1,0,0,1,U.LFT,U.TOP);
if(U.MTX){var T=U.MTX,L=new bC(T.M00,T.M01,T.M10,T.M11,T.M20,T.M21);a.concat(L)}a.concat(G);n.add.TySh.u=a;
var f=n.add.TySh.vv,Z=bI.Ni(f,0,0),D=M(U,"FON");if(D)bI.ud(Z,D);var C=M(U,"PTS");if(C)Z.iz.FontSize=Math.round(C);
var d=M(U,"ITL");if(d)Z.iz.FauxItalic=d;if(U.PAT)Z.iz.FillColor={Type:1,Values:o(M(U.PAT,"FCL"))};for(var h=0;
h<_.length;h++){var p=_[h][0],y=_[h][1];if(p=="TRN"){y=y.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
y=y.replaceAll("\x03","\n").replaceAll("\r","\n");bI.Cq(f,W.length,y);bI.qc(f,W.length,W.length+y.length,Z);
W+=y}else if(p=="FON")bI.ud(Z,y);else if(p=="PTS")Z.iz.FontSize=Math.round(y);else if(p=="ITL")Z.iz.FauxItalic=y;
else if(p=="UND")Z.iz.Underline=y;else if(p=="FCL")Z.iz.FillColor={Type:1,Values:o(y)};else if(p=="LED"){Z.iz.Leading=y*Z.iz.FontSize;
Z.iz.AutoLeading=!1}else if(p=="JST")Z.u7.Justification=[0,2,1,3,5,4,6,7,8][y]}n.v7(W.slice(0,255));
var i=U.RIT-U.LFT,t=U.BOT-U.TOP;if(U.IMG){P(U.IMG,F,"IMG",A,G);var O=F.k.pop();n.buffer=O.buffer;n.S=O.S.Q()}bI.IN(f,1);
bI.lC(f,[0,0,i,t])}else if(Y=="PTH"){n.v7(U.OBN?U.OBN:"Path");n.eW|=16;var q=!1;S(n,U,G);var z=n.add.vmsk,jw=n.add.vstk,u=g.I.Or(z.X),iH=U.PAT,s=iH.BPL,bV=iH.FPL,jU=iH.TXF;
if(bV&&bV.FEF)z.p5+=bV.FEF/2.4;if(s){var hx=s.CAT;jw.strokeEnabled.v=!0;jw.strokeStyleLineWidth.v.val=s.BDI;
jw.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gD.gB.r8[U.BRP];x(iH.BCL,jw.strokeStyleContent.v);
if(hx!="bc_Basic"&&hx!="bc_Pencil")q=!0}jw.fillEnabled.v=bV!=null;if(bV==null){n.add.SoCo=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);
x(0,n.add.SoCo)}else if(bV.CAT=="fc_Solid"){n.add.SoCo=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);x(U.PAT.FCL,n.add.SoCo)}else if(bV.CAT=="fc_Linear"||bV.CAT=="fc_Circular"||bV.CAT=="fc_Elliptical"){var eX=bV.CAT=="fc_Linear",f7=n.add.GdFl=JSON.parse(gD.Sy[gD.order.indexOf("GrFl")]),iY=f7.Grad.v,cd=[],jV=bV.FGL,g2,gV=[];
if(jV.FGY){var fD=jV.FGY,g2=fD.FG0.FGI,gV=fD.FG1.FGI}else g2=jV.FGV.FGI;for(var h=0;h<g2.length;h++){var j4=g2[h],dQ=o(j4.FGC),eO=1;
if(gV.length==g2.length)eO=o(gV[h].FGC)[0];cd.push([j4.FGP,dQ.slice(1),eO])}f7.Type.v.GrdT=eX?"Lnr":"Rdl";
g.UH.w5(cd,iY);iY.Intr.v=0;var a7=U.PRI?U.PRI:U,cc=new aG(a7.PSX,a7.PSY),ad=new aG(a7.PEX,a7.PEY);if(bV.CAT=="fc_Elliptical"&&a7.PFX!=null){var jC=new aG(a7.PFX,a7.PFY),iJ=aG.Aj(cc,ad),kJ=aG.Aj(cc,jC);
if(kJ<iJ){var jr=iJ;iJ=kJ;kJ=jr}ad=new aG(cc.x+(iJ+kJ)/2,cc.y);if(iJ/kJ<.5)q=!0}if(eX){cc.x=(cc.x+ad.x)/2;
cc.y=(cc.y+ad.y)/2}g.UH.eb(cc,ad,u,f7)}else console.log(bV.CAT);var k=n.add.lmfx=c(U.EFL,z);if(bV&&bV.FTB!=0&&jU){var Q=r(jU.MSK,A),fY={};
fY.id=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f";fY.name="someImage";fY.ub=Q;F.Mk(fY);var iR=Q[0];for(var h=0;
h<iR.length;h+=4){iR[h+3]=255-iR[h];iR[h]=iR[h+1]=iR[h+2]=255}var f7=JSON.parse(gD.Sy[gD.order.indexOf("patternFill")]);
f7.Opct.v.val=Math.round(bV.FTB/10);f7.Algn.v=!0;f7.Ptrn.v.Idnt.v=fY.id;k.patternFillMulti.v.unshift({t:"Objc",v:f7})}if(q&&U.IMG){P(U.IMG,F,"IMG",A,G);
var g6=F.k[F.k.length-1];g6.fc=n.fc;return}n.Tr();n.B0(F)}else if(Y=="URL")return;else{console.log("unknown layer type",Y,U);
n.v7("Layer")}F.k.push(n)}function S(U,F,Y){if(F.PBL==null)return;var A=U.add.vmsk=new m.e_,G=U.add.vstk=gD.gB.ow(!0),n=F.PBL.PBP;
if(!(n instanceof Array))n=[n];for(var E=0;E<n.length;E++){var K=n[E].PBT;if(K==null)continue;if(!(K instanceof Array))K=[K];
var e=n[E].ISC?0:3;A.X.push({e:e,length:K.length,da:0,ii:2,RO:0,M4:0});for(var h=0;h<K.length;h++){var $=K[h],N=$.XLC,k=$.YLC,V=[N,k,N,k,N,k],X="XPC YPC XLC YLC XSC YSC".split(" ");
for(var Q=0;Q<6;Q++){var L=X[Q],_=$[L];if(_!=null)V[Q]=_}A.X.push({e:e+2,Z:new aG(N,k),nQ:new aG(V[0],V[1]),_v:new aG(V[4],V[5])})}}g.I.Xi(A.X,Y)}function c(U,F){var Y=JSON.parse(gD.default);
for(var h=0;h<gD.order.length;h++)Y[gD.Lw[h]]={t:"VlLs",v:[]};if(U==null||U.EPS==null)return Y;var A=U.EPS;
if(!(A instanceof Array))A=[A];for(var h=0;h<A.length;h++){var G=A[h].DCE,n={};for(var E=0;E<G.length;
E++)n[G[E].DCK]=G[E].DCV;if(n.EffectIsVisible=="false")continue;var K=n.mkbFile_WriteOnly_TemporaryEffectUiName;
if(K=="Gaussian Blur..."&&F){F.p5+=parseFloat(n.gaussian_blur_radius);continue}var e=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(K);
if(e==-1){continue}var $=["DrSh","ebbl","IrGl","OrGl"][e],N=gD.Lw[gD.order.indexOf($)],k=JSON.parse(gD.Sy[gD.order.indexOf($)]);
Y[N].v.unshift({t:"Objc",v:k});if($=="DrSh"){k.uglg.v=!1;b(n,"ShadowDistance",k,"Dstn");b(n,"ShadowBlur",k,"blur");
b(n,"ShadowAngle",k,"lagl",180);k.Opct.v.val=100;w(n,"ShadowColor",k,"Clr")}if($=="IrGl"){k.Md.v.BlnM="Nrml";
var V=n.MaskSoftness,X=n.GlowWidth;if(V&&X){V=parseInt(V);X=parseInt(X);k.blur.v.val=X+V;k.Ckmt.v.val=Math.round(100*X/(X+V))}b(n,"BevelContrast",k,"Opct");
w(n,"OuterBevelColor",k,"Clr")}if($=="OrGl"){k.Md.v.BlnM="Nrml";var V=n.MaskSoftness,X=n.GlowWidth;if(V&&X){V=parseInt(V);
X=parseInt(X);k.blur.v.val=X+V}b(n,"BevelContrast",k,"Opct");w(n,"OuterBevelColor",k,"Clr")}if($=="ebbl"){k.uglg.v=!1;
b(n,"BevelWidth",k,"blur");b(n,"AngleSoftness",k,"Sftn");b(n,"BevelContrast",k,"srgR");b(n,"LightAngle",k,"lagl")}}return Y}function b(U,F,Y,A,G){var n=U[F];
if(G==null)G=0;if(n)Y[A].v.val=parseInt(n)+G}function w(U,F,Y,A){var G=U[F];if(G){G=G.slice(1);if(G.length==6)G=G+"ff";
if(G.length!=8)throw"e";var n=o(parseInt(G,16)),E=Y[A].v;E.Rd.v=n[0]*255;E.Grn.v=n[1]*255;E.Bl.v=n[2]*255;
Y.Opct.v.val=Math.round(Y.Opct.v.val/100*n[3]*100)}}return l}();var fa=function(){function J(l){var M=new Uint8Array(l.length);
I.cO(M,0,l);return M}function v(l){var M=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",J("")],P=M.length,c=0;
M.push("<< /AIMetaData  "+(P+2)+" 0 R /AIPrivateData1 "+(P+3)+" 0 R  /AIPrivateData2 "+(P+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
M.push(J(""));M.push(J(""));M.push(l);var S=new i3,b=[];function w(A){I.ko(S,c,A);c+=A.length}w("%PDF-1.5\n");
for(var h=0;h<M.length;h++){b.push(c);w(h+1+" 0 obj\n");var U=M[h];if(typeof U=="string")w(M[h]+"\n");
else{var F=pako.deflate(U);w("<< /Length "+F.length+" /Filter [ /FlateDecode ] >>\nstream\n");S.Cb(c,F.length);
S.data.set(F,c);c+=F.length;w("\nendstream\n")}w("endobj\n")}var Y=c;w("xref\n0 "+(b.length+1)+"\n0000000000 65535 f\r\n");
for(var h=0;h<b.length;h++)w((b[h]+"").padStart(10,"0")+" 00000 n\r\n");w("trailer\n<< /Root 1 0 R /Size "+(b.length+1)+" >>\nstartxref\n"+Y+"\n%%EOF\n");
return S.data.slice(0,c)}function x(l,M){var P=Date.now(),S=new Uint8Array(l),c,b=S[2]==68;if(M)console.log(!b?"EPS":"PDF");
if(b){var w=I.CD(S,"/AIMetaData "),$,N,k;while(S[w]!=60)w--;w--;var U=I.CD(S,">>",w),F=I.b_(S,w+2,U-w-2).split("/"),Y=[];
for(var h=0;h<F.length;h++){var A=F[h],G=A.startsWith("AIPrivateData"),n=A.startsWith("AIPDFPrivateData");
if(!G&&!n)continue;var E=A.trim().split(/\s+/),K=parseInt(E[1]),e=parseInt(E[0].slice(G?13:16));Y.push([e,K])}if(M)console.log("--- map made",Date.now()-P);
P=Date.now();while(!0){var V=FromPDF.indexOfXref(S),X=[],Q=FromPDF.readXrefTrail(S,V,X),L={buff:S,off:0},_=!1;
$=new Array(Y.length);N=!1;k=!1;for(var h=0;h<Y.length;h++){var e=Y[h][0],K=Y[h][1],Z=0;if(X[K]==null){_=!0;
break}var a=FromPDF.getIndirect(K,0,L,X),T=a.buff,f=a["/Filter"];if(f!=null&&typeof f=="string")f=[f];
var W=I.b_(T,Z,Z+20);if(W=="%AI12_CompressedData"){Z+=20;N=!0}else if(W=="%AI24_ZStandard_Data"){Z+=20;
k=!0}T=new Uint8Array(T.buffer,T.byteOffset+Z,T.length-Z);if(f)for(var D=0;D<f.length;D++){var C=f[D];
if(C=="/FlateDecode")T=pako.inflate(T);else if(C=="/ASCIIHexDecode")T=FromPS.F.HexDecode({buff:T,off:0});
else if(C=="/ASCII85Decode")T=FromPS.F.ASCII85Decode({buff:T,off:0});else throw C}$[e-1]=T}if(_){console.log("extra xref after AI");
S=S.slice(0,V);continue}break}if(M)console.log("--- arrays found",Date.now()-P);P=Date.now();var d=I.b_($[0],0,13);
if(d=="%%BoundingBox"||d=="%AI7_Thumbnai")$=$.slice(1);if(d=="%AI24_ZStanda"){$[0]=$[0].slice(20);k=!0}if(I.b_($[0],0,13)=="%AI12_Compres"){$[0]=$[0].slice(20);
N=!0}c=o($);if(M)console.log("--- concatenated",Date.now()-P);P=Date.now();if(N)c=UZIP.inflate(c);if(k)c=d2.s9.Hy(c);
if(M)console.log("--- inflated",Date.now()-P);P=Date.now()}else{var y=I.Aq(S);if(y.indexOf("%AI5_BeginLayer")!=-1){c=S}else{var i=y.split(/[\n\r]+/),t=[],O=!1;
for(var q=0;q<i.length;q++){var z=i[q].trim();if(z=="%AI9_PrivateDataEnd"){O=!1;break}else if(z=="%AI9_DataStream"||z=="%AI24_DataStream"){O=!0}else if(O)t.push(z.slice(1))}var jw=I.xU(t.join("")),u=FromPS.F.ASCII85Decode({buff:jw,off:0});
if(u[0]==120&&u[1]==156)c=UZIP.inflate(u);else c=d2.s9.Hy(u)}}return c}function o(l){var M=0,S=0;for(var h=0;
h<l.length;h++)M+=l[h].length;var P=new Uint8Array(M);for(var h=0;h<l.length;h++){var c=l[h];P.set(c,S);
S+=c.length}return P}function R(l){var M=0,P=[];while(M<l.length){var S=l[M],c=S.charCodeAt(0);if(S==" ")M++;
else if(S==","||S==";"||S==":"){P.push(S);M++;var b=P[P.length-2];if(b=="/ASCII85Decode"){var w=M+1;
while(l[w]!="~"||l[w+1]!=">")w++;w+=2;var U=l.slice(M,w),F=FromPS.F.ASCII85Decode({off:0,buff:I.xU(U)});
P.push(F);M=w}if(b=="/StrokeStyle"||b=="/FillStyle"||b=="/BlendStyle"||b=="/SimpleStyle"||b=="/SmoothShadingStyle"){var w=M+1;
while(l[w]!=";")w++;P.pop();P.pop();P.push(l.slice(M,w));P.push("/String");M=w+1}}else if(S=="("){var w=M+1;
while(!(l[w]==")"&&(l[w-1]!="\\"||l[w-2]=="\\")))w++;var Y=l.slice(M+1,w);P.push(Y);M=w+1}else if(S=="/"||S=="-"||48<=c&&c<=57){var w=M;
while(l[w]!=" ")w++;P.push(l.slice(M,w));M=w}else if(S=="X"&&l[M+1]=="="){var w=M,A=0;while(!0){if(l[w]=="X"&&l[w+1]=="="){A++}if(l[w]=="X"&&l[w+1]=="+"&&l[w+2]==" "){A--;
if(A==0)break}w++}P.push(l.slice(M+3,w));P.push("/String");M=w+2}else{console.log(P);console.log(l.slice(M-600,M+10));
throw S}}return P}function r(l){var M={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},P={},S=R(l.join(" ")),c=[],b=parseFloat;
while(S.length!=0){var w=S.shift();if(w=="/Recorded"||w=="/NotRecorded"){continue}else if(w=="/Dict"){c.pop();
var U=c.pop();c[c.length-1][w]=U}else if(w=="/Execution"){c.pop();var U=c.pop();c[c.length-1][w]=U}else if(w=="/Part"){c.pop();
var U=c.pop(),F=c[c.length-1];if(F[w]==null)F[w]=[];F[w].push(U);S.shift()}else if(w=="/Def"){c.pop();
var Y=c.pop(),A=c[0];if(P[A]==null)P[A]=[];if(A=="/KnownStyle"){Y={val:Y};Y[c.pop()]=c.pop()}c.pop();
P[A].push(Y);S.shift()}else if(w==":"){var A=c.pop();if(A=="/Dictionary"||A=="/ArtDictionary"||A=="/XMLNode"||A=="/Mask"||A=="/ActiveStyle")c.push({});
else if(A=="/CompoundFilter"||A=="/BasicFilter"){c.push({typ:"Filter"})}else if(A=="/SVGFilter"||A=="/KnownStyle"){c.push(A)}else if(A=="/Array"||A=="/Document")c.push([]);
else if(A=="/Binary"){var G=S.shift();if(G!="/ASCII85Decode")throw"e";S.shift();c.push(S.shift())}else if(A=="/XMLUID"||A=="/XMLUIDREF"){S[1]=A}else if(A=="/GObjRef"){c.push(S.shift());
c.push("/String");S.shift();S.shift()}else{console.log(c);console.log(S);throw A}if(S[0]=="/NotRecorded"){S.shift();
S.shift()}}else if(w==","){var n=c.pop(),A,E;if(n[0]=="/"&&n[1]==n[1].toUpperCase()||n==";"){A=n;n=null}else A=c.pop();
if(A=="/Name"){c.push(A);continue}if(M[A]){E=c.slice(c.length-M[A]);for(var h=0;h<M[A];h++)c.pop();var K=c.pop();
K[A]=E;c.push(K);continue}if(A=="/RealPoint"||A=="/RealPointRelToROrigin"){var e=c.pop();E=[b(c.pop()),b(e)]}else if(A=="/RealMatrix"){E=[];
for(var h=0;h<6;h++)E.push(b(c.pop()));E.reverse()}else if(A=="/String"&&typeof c[c.length-1]!="string")E="";
else{var top=c.pop();if(A==";")E=top;else if(A=="/String"||A=="/UnicodeString"||A=="/XMLUID"||A=="/XMLUIDREF"){E=top;
while(typeof c[c.length-1]=="string")E=c.pop()+E}else if(A=="/Int"||A=="/Real")E=b(top);else if(A=="/Bool")E=top=="1";
else throw JSON.stringify(A)}if(c.length==0)throw"e";var K=c.pop();if(n==null&&!(K instanceof Array)){alert("key is null in a Dict");
continue}if(n)K[n]=E;else K.push(E);c.push(K)}else c.push(w)}return c.length==0?P:c[0]}return{aoo:x,aDj:v,a1S:r}}();
function gd(){}gd.KE=function(){function J(Q,L,_){var a=!1,T=Date.now(),f=fa.aoo(Q,a);if(a)console.log("part found",Date.now()-T);
T=Date.now();var Z=k(f),W=Z.Layer,D=Z.Header;if(a)console.log(Z);var C=Z.Setup.TextDocument,d=W[0];d=Z.Layer[0];
if(a)console.log("document parsed",Date.now()-T);T=Date.now();Z.Setup.Gradient=N(Z.Setup.Gradient,f);
if(a)console.log("grads loaded",Date.now()-T);T=Date.now();Z.Setup.Pattern=e(Z.Setup.Pattern,f);if(a)console.log("patts loaded",Date.now()-T);
T=Date.now();Z.Setup.Palette=$(Z.Setup.Palette,f);if(a)console.log("palet loaded",Date.now()-T);T=Date.now();
Z.Setup.DocumentData=K(Z.Setup.DocumentData,f);if(a)console.log("docdata loaded",Date.now()-T);T=Date.now();
Z.Setup.SVGFilter=K(Z.Setup.SVGFilter,f);if(a)console.log("svgfilter loaded",Date.now()-T);T=Date.now();
var p=Z.Setup.ArtStyles;if(p){Z.Setup.ArtStyles=K(p,f)}var y=Z.Setup.Palette;for(var h=0;h<y.length;
h++){var i=y[h],t=i[0],O=i[1][0];if(t==null)t=i[1][1];var q=Z.Setup.Gradient[t];if(O==0)L._I.push([t,i[1][1]]);
if(O==1)L._I.push([t,[q.QJ,q.aez,0,0]]);if(O==2)L._I.push([t,[t,0]])}var z=D.Cropmarks,jw=D.BoundingBox.split(" ").map(parseFloat),u=D.ArtSize?D.ArtSize.split(" ").map(parseFloat):[jw[2]-jw[0],jw[3]-jw[1]];
L.r=Math.round(Math.abs(u[0]));L.$=Math.round(Math.abs(u[1]));var iH=[1,0,0,1,-jw[0]+(L.r-(jw[2]-jw[0]))/2,-jw[1]+(L.$-(jw[3]-jw[1]))/2];
iH[3]=-1;iH[5]=L.$-iH[5];if(z){z=z.split(" ").map(parseFloat);L.r=Math.round(z[2]-z[0]);L.$=Math.round(z[3]-z[1]);
iH=[1,0,0,-1,-z[0],L.$+z[1]]}console.log(Z);var s=Z.Setup.DocumentData,bV=[],jU=[];if(s&&s[0]&&s[0].ArtboardArray){var bV=s[0].ArtboardArray;
if(bV.length!=1)console.log(bV.length,"artboards");var hx=new jj;for(var h=0;h<bV.length;h++){var eX=bV[h],et=eX.PositionPoint1,f7=eX.PositionPoint2,iY=et[0],cd=Math.min(et[1],f7[1]),jV=f7[0],g2=Math.max(et[1],f7[1]),gV=new jj(iY,cd,jV-iY,g2-cd);
jU.push(gV);hx=hx.h0(gV)}L.r=Math.round(hx.r);L.$=Math.round(hx.$);iH[4]=-hx.x;iH[5]=hx.y+L.$}if(s&&s[0]&&s[0]["#document"]){var fD=s[0]["#document"],j4=fD["xmlnode-children"][0];
if(j4&&j4["xmlnode-children"])j4=j4["xmlnode-children"][0];if(j4&&j4["xmlnode-nodename"]=="variableSets"){var dQ=j4["xmlnode-children"][0]["xmlnode-children"],eO=dQ[0],a7=dQ[1],cc=X(eO);
L.AB=ih.asx("<variableSets><variableSet>"+cc+"</variableSet></variableSets>");if(a7){var ad=X(a7),jC=L.VI=ih.awQ(ad);
for(var h=0;h<jC.length;h++)for(var iJ=0;iJ<jC[h].length;iJ++)jC[h][iJ]=jC[h][iJ].trim()}}}var kJ=1/bb.i5(new jj(0,0,L.r,L.$),8192*8192);
while(Math.max(L.r*kJ,L.$*kJ)<800)kJ*=2;while(_&&Math.max(L.r*kJ,L.$*kJ)<Math.max(_[0],_[1]))kJ++;if(du==1)kJ=1;
L.r=Math.round(L.r*kJ);L.$=Math.round(L.$*kJ);L.Bt=Math.round(72*kJ);for(var h=0;h<6;h++)iH[h]*=kJ;var jr=[];
if(bV.length!=[1,0][du]){var fY=du==0?L.k:[];fY.push(L.V4());for(var h=0;h<jU.length;h++){var eX=bV[h],gV=jU[h],iR=L.qL();
iR.v7(eX.Name);fY.push(iR);iR.add.SoCo=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);var g6=iR.add.SoCo.Clr.v;
b(g6,[1,1,1]);var iY=gV.x,cd=gV.y,jV=iY+gV.r,g2=cd+gV.$,ay=[iY,cd,jV,cd,jV,g2,iY,g2];g.b.u(ay,U(iH),ay);
A(iR,{cmds:["M","L","L","L","Z"],crds:ay},L,0);iR.add.vstk=gD.gB.ow(!0);var cQ=g.b.ni(ay);jr.push({ox:eX.Name,ZW:[cQ.x,cQ.y,cQ.x+cQ.r,cQ.y+cQ.$],Y:eX.IsArtboardSelected})}var iR=L.qL();
iR.v7("_Artboards_");iR.add.lsct=h2.Le;iR.gR="pass";iR.eW=24;fY.push(iR)}else jr=[{ox:"Artboard",ZW:[0,0,L.r,L.$],Y:!0}];
if(du==1)L.add.arts=jr;x=[0,0,0];o=[0,0,0];R="SoCo";r="SoCo";for(var aC=0;aC<W.length;aC++){var dI=W[aC];
dI.Raster=v(dI,"Raster");dI.Place=v(dI,"Place");var fm=n(f,dI);l(L,fm,iH,Z,dI,f)}if(du==0)for(var h=0;
h<L.k.length;h++){var iR=L.k[h];if(iR.pT){L.k.splice(h,1);var hd,ku=0;for(var iJ=h;iJ<L.k.length;iJ++){hd=L.k[iJ];
if(hd.add.lsct==h2.lj)ku++;else if(hd.tX())ku--;if(ku==-1)break}hd.add.vmsk=iR.add.vmsk;hd.add.vogk=iR.add.vogk;
hd.B0(L)}}else{}if(_){L.HQ();var cp=L.root.ca();H.cD.xK(L,cp)}if(a)console.log("layers created",Date.now()-T);
T=Date.now()}function v(Q,L){var _=Q.Layer,a=Q[L];if(a==null)a=[];if(_){for(var h=0;h<_.length;h++){var T=_[h],f=T[L]=v(T,L);
a=a.concat(f)}a.sort(function(Z,W){return Z._begin-W._begin})}return a}var x,o,R,r;function l(Q,L,_,a,T,f){var Z=[],W=0,D="",C=!1,d={},p=UDOC.G,y=UDOC.getState(),t="norm",O=1,q=0,z=!1,jw=0,u=!1,iH=!0,s=null,bV=null,jU=!1,hx=0,eX=null,et,f7,iY=0,cd=0,jV=0,j4=0,dQ=!1;
y.ctm=_;var i=gD.Ok.ow(),g2=[0,0],gV=[],fD=[];for(var eO=0;eO<L.length;eO++){var a7=L[eO],jr=1e9;if(a7[0]=="%"){if(a7=="%_/ArtDictionary :"&&hx==0){s=[a7.slice(2)]}else if(s!=null){if(a7=="%_"&&hx==0){var cc=fa.a1S(s),ad=Q.k[Q.k.length-1],jC=cc.AI10_ArtUID,iJ=cc.BBAccumRotation;
if(jC&&!jC.startsWith("XMLID"))ad.v7(V(jC));if(iJ&&ad.add.vmsk==null&&Q.k[Q.k.length-2])ad=Q.k[Q.k.length-2];
if(iJ&&ad.add.vmsk)ad.add.vmsk.xx=parseFloat(iJ);s=null}else{s.push(a7.slice(jU?1:2));if(a7=="%_X=")hx++;
if(a7=="%_X+")hx--;if(a7=="%_/Binary : /ASCII85Decode ,")jU=!0;if(jU&&a7.endsWith("~>"))jU=!1}}else if(eX){et+=(et==""?"":" ")+a7.slice(2);
if(et.endsWith("X#")){eX.push(et.slice(0,et.length-3));et=""}}continue}else if(a7=="/Mesh X!"){eX=[];
et="";continue}else if(a7=="/End X!"){S(eX,y,Q);eX=null;continue}var kJ="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),fY=-1,iR=a7.indexOf("(")!=-1;
for(var h=0;h<kJ.length;h++){var g6=a7.indexOf(" "+kJ[h]+" ");if(g6!=-1&&g6<jr&&!iR){jr=g6;fY=h}}if(fY!=-1){C=!0;
var ay=jr+1+kJ[fY].length;L[eO]=a7.slice(0,ay);var cQ=L[eO+1];if(cQ==null||cQ[0]=="%"||fY>9)L.splice(eO+1,0,a7.slice(ay));
else L[eO+1]=(a7.slice(ay)+" "+cQ).replace(/\s\s+/g," ");eO--;continue}a7=a7.trim();var aC=a7.split(" "),dI=aC[aC.length-1],fm=dI.toLowerCase(),hd=aC.map(parseFloat);
if(dI=="m")p.moveTo(y,hd[0],hd[1]);else if(dI=="L"||dI=="l")p.lineTo(y,hd[0],hd[1]);else if(dI=="V"||dI=="v"){var ku=y.pth.crds,cp=y.cpos[0],hp=y.cpos[1];
p.curveTo(y,cp,hp,hd[0],hd[1],hd[2],hd[3]);var gA=ku.length;ku[gA-6]=cp;ku[gA-5]=hp}else if(dI=="Y"||dI=="y")p.curveTo(y,hd[0],hd[1],hd[2],hd[3],hd[2],hd[3]);
else if(dI=="C"||dI=="c")p.curveTo(y,hd[0],hd[1],hd[2],hd[3],hd[4],hd[5]);else if(dI=="H"||dI=="h"){if(dI==fm)p.closePath(y);
if(!z){var jN=Q.qL();Q.k.push(jN);jN.v7("<Clipping Path>");jN.pT=!0;jN.add.vstk=gD.gB.ow();jN.add.SoCo=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);
A(jN,y.pth,Q,q)}else u=!0}else if(dI=="XR"){q=hd[0]}else if(dI=="Xy"){t=gd.a2N[hd[0]];O=hd[1];if(t==null){t="norm";
console.log("unknown blend mode",hd[0])}}else if(dI=="Xd"){var ad=Q.k[Q.k.length-1];ad.fc=Math.round(255*O);
ad.gR=ad.tX()&&t=="norm"?"pass":t}else if(dI=="AE")iY=hd[0];else if(dI=="Ae")cd=hd[0];else if(dI=="Xw")jV=hd[0];
else if(dI=="*"){var d4=y.pth.crds,ey=y.ctm,g6=d4[0]==d4[2]?0:1;Q.HC.push([g6,d4[g6]]);p.newPath(y)}else if(dI=="XN")f7=a7.split(" ")[0];
else if(dI=="XI"){var jG=T.Raster,cF,f5,jD;if(jG==null||jG.length==0){console.log("no Raster");continue}if(a7!="XI"){continue}else{var jW=jG[W++];
if(jW.Data)jW=jW.Data;var f$=jW._begin,bh=jW._end;while(f[f$]!=88)f$++;f$+=3;cF=f.slice(f$,bh);f5=L[eO-2].split(" ").map(parseFloat)}var ii=f5.slice(8),dM=ii[2],b7=ii[3],bz=dM*b7,cZ=g.C(bz*4);
cZ.fill(255);var e4=ii[7],fI=ii[8],aI=ii[6],iV=Math.ceil(dM*e4*aI/8);if(e4==1){if(aI==8)for(var h=0;
h<bz;h++)for(var k6=0;k6<3;k6++)cZ[4*h+k6]=cF[h];else if(aI==1)for(var bq=0;bq<b7;bq++)for(var cq=0;
cq<dM;cq++)for(var k6=0;k6<3;k6++)cZ[4*(bq*dM+cq)+k6]=255*(cF[bq*iV+(cq>>>3)]>>>7-(cq&7)&1);else throw aI}else if(e4==3)for(var h=0;
h<bz;h++)for(var k6=0;k6<3;k6++)cZ[4*h+k6]=cF[3*h+k6];else if(e4==4||e4==5){for(var h=0;h<bz;h++){cZ[4*h+0]=cF[e4*h+0];
cZ[4*h+1]=cF[e4*h+1];cZ[4*h+2]=cF[e4*h+2];cZ[4*h+3]=cF[e4*h+3]}g.acV(cZ);for(var h=0;h<bz;h++)cZ[h*4+3]=255}else if(e4==7)for(var h=0;
h<bz;h++){cZ[4*h+0]=cF[e4*h+0];cZ[4*h+1]=cF[e4*h+1];cZ[4*h+2]=cF[e4*h+2]}else console.log("unknown number of channels",e4);
if(fI==1){var ib=b7*iV;for(var h=0;h<bz;h++)cZ[4*h+3]=cF[ib+h]}if(dM*b7<700*700)jD="PNG";else if(Math.max(dM,b7)>32768)jD="PNG";
else jD=g.QX(cZ,dM,b7)?"JPG":"PNG";var eL=d2.s$(jD).lS([[cZ.buffer]],dM,b7),hK=Q.P2(new Uint8Array(eL),"<Image>",0,0);
Q.k.push(hK);hK.gR=t;hK.fc=Math.round(255*O);hK.G0(jV==0);var fU=new bC;fU.scale(1,-1);fU.concat(U(f5.slice(1)));
fU.concat(U(y.ctm));var ju=hK.add.SoLd,aF=ju.Sz.v,e6=new jj(0,0,aF.Wdth.v,aF.Hght.v),aC=g.b.ho(e6).T;
g.b.u(aC,fU,aC);hK.add.SoLd.Trnf=H.ge.y7(aC);hK.add.SoLd.nonAffineTransform=H.ge.y7(aC);hK.IY(Q,!1)}else if(dI=="Ln"){Z.push(c(a7))}else if(dI=="u"||dI=="q"||dI=="Lb"){if(dI=="Lb")Q.add.prvw=hd[1];
gV.push(cd==1);fD.push((dI=="Lb"?1-hd[0]:jV)==0);if(z)continue;Q.k.push(Q.V4())}else if(dI=="U"||dI=="Q"||dI=="LB"){if(gV.length==0||fD.length==0)throw eO;
var hB=gV.pop(),h0=fD.pop();if(dI=="LB")hB=iY==1;if(z)continue;var hK=Q.qL();hK.v7((dI=="U"?"<Group>":"<Clip Group>")+D);
if(dI=="LB")hK.v7(Z.pop());hK.add.lsct=hB?h2.Uk:h2.Le;hK.gR="pass";hK.eW=24;hK.G0(h0);Q.k.push(hK);if(dQ){if(Q.k[Q.k.length-3].getName()=="</Layer group>"){Q.k.pop();
Q.k.splice(Q.k.length-2,1)}dQ=!1}}else if(dI=="Bb")iH=hd[0]!=1;else if(dI=="BB"){}else if(dI=="Bm"||dI=="Bc"||dI=="Xm"){}else if(dI=="Bh")g2=hd.slice(2,4);
else if(dI=="Bg"){var aD=a.Setup.Gradient,hy=aD[c(a7)],aC=a7.slice(a7.indexOf(")")+2).split(" ").map(parseFloat);
if(hy==null){console.log("gradient not found");for(var kD in aD){hy=aD[kD];break}}var en=aC[10];if(isNaN(en))en=1;
var jp=aC.slice(0,4);jp.push(en,g2[0],g2[1]);if(Math.max(Math.abs(jp[0]),Math.abs(jp[1]))>20){jp[0]=0;
jp[1]=0;jp[3]=1;console.log("strange gradient")}var ij=[hy.QJ,hy.aez,jp,aC.slice(4,10)];P(ij,"GdFl",iH)}else if(fm=="p"&&a7!="p"){var dD=c(a7);
if(Q.mW[dD]==null){var am=a.Setup.Pattern[dD],bE=am.ZW,dM=Math.round(bE[2]-bE[0]),b7=Math.round(bE[3]-bE[1]),cc=new d7,as=Math.sqrt(Math.abs(_[0]*_[3]-_[1]*_[2])),fU=new bC(1,0,0,-1,-am.ZW[0],b7+am.ZW[1]);
fU.concat(new bC(as,0,0,as,0,0));var gs=[x,o,R,r];x=[0,0,0];o=[0,0,0];R="SoCo";r="SoCo";l(cc,am.nh,[fU.o5,fU.c,fU.Mz,fU.fn,fU.zP,fU.jD],a,T,f);
cc.r=Math.round(dM*as);cc.$=Math.round(b7*as);cc.HQ();cc.Ai();if(du==0){cc.buffer=g.C(cc.r*cc.$*4);cc.er()}x=gs[0];
o=gs[1];R=gs[2];r=gs[3];window.a0U=am.nh;Q.mW[dD]=cc}var c8=a7.slice(a7.indexOf(")")+2),iv=c8.slice(0,c8.indexOf("[")-1).split(" ").map(parseFloat),bB=c8.slice(c8.indexOf("[")+1,c8.indexOf("]")).split(" ").map(parseFloat);
P([dD,[iv,bB]],"patt",dI=="p")}else if(dI=="J"||dI=="j"||dI=="w"||dI=="M"||dI=="d"){var fU=y.ctm,as=Math.sqrt(Math.abs(fU[0]*fU[3]-fU[1]*fU[2]));
for(var h=1;h<aC.length;h++){var fs=aC[h],gm=hd[h-1];if(fs=="w")i.fk=gm*as;if(fs=="j")i.$h=gm;if(fs=="J")i.yd=gm;
if(fs=="M")i.M0=gm;if(fs=="d"){var jt=a7.slice(a7.indexOf("[")+1,a7.indexOf("]")).trim();if(jt.length!=0){var hg=jt.split(" ").map(parseFloat);
i.Wy=hg;for(var k6=0;k6<hg.length;k6++)hg[k6]*=as}else if(jt=="")i.Wy=[]}}}else if(fm=="xa"||fm=="xx"){var eI=Y(a7);
P(eI,"SoCo",dI=="Xa"||dI=="Xx")}else if(fm=="xk"){eI=Y(a7);P(eI,"SoCo",dI=="Xk")}else if(fm=="k"||fm=="x"){eI=Y(a7);
P(eI,"SoCo",dI==fm)}else if(fm=="g"){var eI=[hd[0],hd[0],hd[0]];P(eI,"SoCo",dI==fm)}else if(fm=="n"){if(!z)p.newPath(y)}else if(dI=="*u"){z=!0;
jw=0;fD.push(jV==0)}else if(dI=="*U"||fm=="s"||fm=="f"||fm=="b"){if(dI!="*U"&&z){if(fm=="f"||fm=="b")jw|=1;
if(fm=="s"||fm=="b")jw|=2;continue}if(dI==fm)p.closePath(y);if(dI=="*U"){z=!1}var hK;{hK=Q.qL();hK.eW|=16;
A(hK,y.pth,Q,q);var e0=fm=="f"||fm=="b"||dI=="*U"&&jw&1,f2=fm=="s"||fm=="b"||dI=="*U"&&jw&2,bM=hK.add.vstk=gD.gB.ow(e0,f2),ge=g.F(i);
ge.sN=[];ge.T0=[];if(e0)ge.sN=x;if(f2)ge.T0=o;if(du==0){gD.gB.write(bM,ge);if(R=="SoCo"){hK.add.SoCo=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);
var ed=hK.add.SoCo.Clr.v;b(ed,x)}if(R=="GdFl"){hK.add.GdFl=gd.wi(x,hK.add.vmsk.X)}if(R=="patt"){hK.add.PtFl=M(x,Q)}if(f2){var fi=["SoCo","GdFl","patt"].indexOf(r),d3=fi==0?{Clr:{t:"Objc",v:c7.jO(o)}}:fi==1?gd.wi(o,hK.add.vmsk.X):M(o,Q),bi=[gD.AG,gD.Zy,gD.eH][fi],iQ=bM.strokeStyleContent.v={classID:gD.gB.dP[fi]};
for(var h=0;h<bi.length;h++)iQ[bi[h]]=d3[bi[h]]}}else hK.add.vstl=ge}if(dI=="*U"&&u){hK.pT=!0;u=!1}hK.v7("<"+(dI=="*U"?"Compound ":"")+"Path>"+D);
hK.gR=t;hK.fc=Math.round(255*O);hK.G0(dI=="*U"?fD.pop():jV==0);hK.B0(Q);Q.k.push(hK);p.newPath(y)}else if(dI==","&&aC[0]=="/XMLUID"){var ad=Q.k[Q.k.length-1];
for(var h=0;h<Q.AB.length;h++)if("("+Q.AB[h].docRef+")"==aC[2])Q.AB[h].docRef="id('"+ad.add.lyid+"')"}else if(dI==","&&aC[1]=="/FreeUndo"){j4=hd[0]}else if(dI==","&&aC[1]=="/StoryIndex"){var k_=a.Setup.TextDocument,fx=null;
if(!(k_ instanceof Array))window.aie=k_=a.Setup.TextDocument=E(k_,f);var dY=k_[0],fb=k_[2];if(dY._DocumentResources)dY=k_[0]=ca.aH$(dY);
else ca.a0c(dY);var hK=Q.qL();hK.add.lnsr="rend";hK.add.TySh=bI.Q6(0,0);var jk=hd[0];if(j4==1){for(var h=1;
h<60;h++){var cQ=L[eO+h];if(cQ&&cQ.endsWith("/StoryIndex ,")){jk=parseFloat(cQ.slice(2,cQ.indexOf(" ")));
dQ=!0;break}}j4=0}var hu=d1.a0z(dY),he=hK.add.TySh.vv=hu[jk];if(he==null){console.log("text not found");
dQ=!1;continue}hK.v7(bI.FB(he).slice(0,50));hK.gR=t;hK.fc=Math.round(255*O);hK.G0(jV==0);var fZ=dY._1._1[jk]._1._0[0]._0;
fZ=parseInt(fZ.slice(1));var gb=dY._0._8._0,aR=gb[fZ]._0;if(aR._0)fx=w(aR._0);else if(aR._1)fx=w(aR._1._0);
else fx=w(aR._2._2).slice(3);if(fx.length!=2){var bE=g.b.ni(fx);fx=[bE.x,bE.y];if(bE.o()!=0){bI.IN(he,1);
bI.lC(he,[0,0,Math.round(bE.r),Math.round(bE.$)])}}var f3=new bC,dR=new bC(1,0,0,1,fx[0],fx[1]),gM=new bC(1,0,0,1,-fb[0],-fb[1]),iS=U(y.ctm),iT=new bC;
if(aR._2&&aR._2._2){var _=w(aR._2._2);iT=new bC(_[0],_[1],_[2],_[3],_[4],_[5])}f3.concat(dR);f3.concat(iT);
f3.concat(gM);f3.scale(1,-1);f3.concat(iS);hK.add.TySh.u=f3;Q.k.push(hK);Q.C4=!0}else if(dI=="Tp"){d.gf=U(hd)}else if(dI=="Tf"){d.font=aC[0].slice(2)}else if(dI=="Tk"){var hK=Q.qL();
hK.add.lnsr="rend";var bW=hK.add.TySh=bI.Q6(0,0),he=bW.vv,fU=d.gf.Q(),aF=fU.Nf();fU.concat(U(y.ctm));
var dX=new bC(1/aF,0,0,-1/aF,0,0);dX.concat(fU);bW.u=dX;var ao=c(a7);hK.v7(ao);bI.Cq(he,0,ao);var fq=bI.Ni(he,0,ao.length);
fq.iz.FontSize=aF;fq.iz.FillColor={Type:1,Values:[1,x[0],x[1],x[2]]};bI.ud(fq,d.font);bI.qc(he,0,ao.length,fq);
Q.k.push(hK);Q.C4=!0}else if(C&&hd.length>3){var jm=!1;for(var h=0;h<hd.length;h++)if(isNaN(hd[h]))jm=!0;
if(!jm)L[eO+1]=(a7+" "+L[eO+1]).replace(/\s\s+/g," ")}}}function M(x,Q){if(Q.FC==null)Q.FC={};var L=Q.FC[x[0]];
if(L==null){var _=Q.mW[x[0]],L=Q.FC[x[0]]={};L.id=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f";L.name="someImage";
L.ub=[_.rv(),new jj(0,0,_.r,_.$)];Q.Mk(L)}var a=JSON.parse(gD.Sy[gD.order.indexOf("patternFill")]);a.Ptrn.v.Idnt.v=L.id;
var T=U(x[1][1]),f=-Math.atan2(-T.c,T.o5);a.Angl.v.val=Math.round(f*180/Math.PI);a.Scl.v.val=Math.round(100*T.Nf());
return a}gd.wi=function(Q,L){var _=gd.zv(Q,L),a=[0,0,1,0];if(Q[0]==0)a[0]=.5;g.b.u(a,_,a);var T=JSON.parse(gD.Sy[gD.order.indexOf("GrFl")]),f=T.Grad.v;
f.Intr.v=0;T.Type.v.GrdT=["Lnr","Rdl"][Q[0]];g.UH.w5(Q[1],f);g.UH.eb(new aG(a[0],a[1]),new aG(a[2],a[3]),g.I.Or(L),T);
return T};gd.bI=function(Q,L,_){var a={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[Q.Type.v.GrdT],T=g.I.Or(L);
if(_&&!Q.Algn.v)T=new jj(0,0,_.r,_.$);var f=g.UH.aB9(Q,T),Z=f[0],W=f[1];if(a==0){Z.x-=W.x-Z.x;Z.y-=W.y-Z.y}var D=W.x-Z.x,C=W.y-Z.y,d=Math.sqrt(D*D+C*C),p=new bC;
p.rotate(Math.atan2(-C,D));p.scale(d,d);p.translate(Z.x,Z.y);var y=gd.vg(a,p,L),i=Q.Grad.v;y[1]=g.UH.afW(i,null,null);
return y};gd.ps=function(Q,L,_){var a=aG.Aj(Q,L),T=new bC;T.scale(a,a);T.rotate(-Math.atan2(L.y-Q.y,L.x-Q.x));
T.translate(Q.x,Q.y);if(_)T.concat(_);return T};gd.D8=function(Q,L,_,a,T){if(L&&!a.Ym(L)){var f=Math.atan2(-(_.y-L.y),_.x-L.x);
if(T!=null||f!=0){var Z=new bC;Z.translate(-L.x,-L.y);Z.scale(1,T);Z.rotate(f);Z.translate(L.x,L.y);
Z.SV();a=Z.Xw(a)}var W=Math.atan2(-(a.y-L.y),a.x-L.x);Q[2][5]=W*180/Math.PI;Q[2][6]=aG.Aj(a,L)/aG.Aj(_,L)}};
gd.vg=function(Q,L,_){var a=L.Q(),D,C,d=1;a.SV();var T=m.e_.w2(_);g.I.Xi(T,a);var f=g.I.Or(T),Z=f.r,W=f.$;
if(Q==0){var p=new bC;p.translate(-f.x,-f.y);p.translate(-Z/2,-W/2);var y=gd.alL(Z,W,0);p.scale(1/y,1/y);
p.scale(1/Z,1/W);D=p.zP+.5;C=p.jD+.5;d=p.o5}else{D=-f.x/Z-.5;C=-f.y/W-.5;var i=(D-.5)*Z/2,t=(C-.5)*W/2;
d=1/Math.sqrt(2*(i*i+t*t))}var O=[Q,null,[D,C,0,d,1,0,0],[L.o5,L.c,L.Mz,L.fn,L.zP,L.jD]];return O};gd.zv=function(Q,L){var _=Q[0],a=Q[2],T=Q[3],f=new bC(T[0],T[1],T[2],T[3],T[4],T[5]);
f.SV();var Z=m.e_.w2(L);g.I.Xi(Z,f);var W=g.I.Or(Z),D=W.r,C=W.$,d=a[0],p=a[1],y=a[2]*Math.PI/180,i=a[3],t=new bC;
if(_==0){t.scale(i,i);t.translate(d-.5,p-.5);t.scale(D,C);t.rotate(y);var O=gd.alL(D,C,y);t.scale(O,O);
t.translate(D/2,C/2)}else{var q=(d-.5)*D/2,z=(p-.5)*C/2,O=i*Math.sqrt(2*(q*q+z*z));t.scale(O,O*a[4]);
t.rotate(y);t.translate((d+.5)*D,(p+.5)*C)}t.translate(W.x,W.y);t.concat(new bC(T[0],T[1],T[2],T[3],T[4],T[5]));
return t};function P(Q,L,_){if(_){R=L;x=Q}else{r=L;o=Q}}function S(Q,L,_){var a=UDOC.G,T=[],f=[],Z="/DeviceGray",W=1,D=[],C=1;
for(var d=0;d<Q.length;d++){var p=Q[d];if(p.endsWith(" /CS")){var y=p.indexOf("/NChannel"),i=p.indexOf("/Process");
if(p.startsWith("/DeviceRGB")){Z="/DeviceRGB";W=3}else if(p.startsWith("/DeviceGray")){Z="/DeviceGray";
W=1}else if(p.startsWith("/DeviceCMYK")){Z="/DeviceCMYK";W=4;D=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(y!=-1){Z="/DeviceCMYK";
W=parseInt(p.slice(y-2,y-1));var t=1;for(var h=0;h<W;h++){t=p.indexOf("[",t);D[W-1-h]=p.slice(t+1,t+8).split(" ").map(parseFloat);
t++}}else if(i){Z="/DeviceGray";W=1}else throw p}else if(p[0]=="["){var O=p.indexOf("]"),q=p.slice(1,O).split(" ").map(parseFloat),z=p.slice(O+2),jw,u,iH,s,bV,jU;
if(z=="/Size"||z=="/P"||z=="/R")continue;if(z=="/S"||z=="/A"){jw=q[0];u=q[1];iH=q[2];s=q[3];bV=q[4];
jU=q[5]}else if(z=="/N"){var hx=W+(C==1?0:1),eX;jw=q[hx+0];u=q[hx+1];iH=q[hx+2];s=q[hx+3];bV=q[hx+5];
jU=q[hx+6];if(Z=="/DeviceRGB")eX=q.slice(0,3);else if(Z=="/DeviceGray")eX=[q[0],q[0],q[0]];else if(Z=="/DeviceCMYK"){var et=[0,0,0,0];
for(var h=0;h<W;h++){var f7=q[h],iY=D[h];et[0]+=f7*iY[0];et[1]+=f7*iY[1];et[2]+=f7*iY[2];et[3]+=f7*iY[3]}eX=F(et)}else throw eX;
eX.push(q[W]);f.push([eX,jw,u])}else throw z;T.push([z,bV,jU,jw,u,iH,s])}else if(p=="/E"){var cd=T.slice(0),jV=0;
for(var h=0;h<T.length;h++){var g2=T[h][0];if(g2=="/N"){jV++;continue}var gV=h,fD=h+1;while(T[fD][0]!="/N"&&fD<T.length)fD++;
if(jV==0||jV==3){for(var j4=0;j4<fD-gV;j4++)cd[gV+j4]=T[fD-1-j4]}else for(var j4=gV;j4<fD;j4++){var dQ=cd[j4],eO=dQ[1];
dQ[1]=dQ[5];dQ[5]=eO;eO=dQ[2];dQ[2]=dQ[6];dQ[6]=eO}h=fD-1}T=[];for(var h=0;h<cd.length;h++){var dQ=cd[h];
T.push(dQ[1],dQ[2],dQ[3],dQ[4],dQ[5],dQ[6])}var a7=T.length;a.moveTo(L,T[2],T[3]);for(var h=0;h<a7;h+=6){var iH=T[(h+4)%a7],s=T[(h+5)%a7],bV=T[(h+6)%a7],jU=T[(h+7)%a7],jw=T[(h+8)%a7],u=T[(h+9)%a7];
a.curveTo(L,iH,s,bV,jU,jw,u)}a.closePath(L);T=[]}else if(p.endsWith("/Version"))C=parseFloat(p[0])}var cc=_.qL();
cc.eW|=16;cc.v7("<Mesh>");var ad=cc.add.vstk=gD.gB.ow(!0);A(cc,L.pth,_,0);if(f.length>=2){var jC=0,iJ=0,kJ=0;
for(var h=0;h<f.length;h++)for(var j4=h+1;j4<f.length;j4++){var jr=f[h][0],fY=f[j4][0],iR=jr[0]-fY[0],g6=jr[1]-fY[1],ay=jr[2]-fY[2],cQ=Math.sqrt(iR*iR+g6*g6+ay*ay);
if(cQ>kJ){kJ=cQ;jC=h;iJ=j4}}var aC=f[jC],dI=f[iJ],fm=[[0,aC[0],1,.5],[1,dI[0],1,.5]],hd=U(L.ctm),ku=hd.Xw(new aG(aC[1],aC[2])),cp=hd.Xw(new aG(dI[1],dI[2]));
if(ku.Ym(cp))cp.x+=1;if(du==0){var hp=cc.add.GdFl=JSON.parse(gD.Sy[gD.order.indexOf("GrFl")]),gA=hp.Grad.v;
gA.Intr.v=0;hp.Type.v.GrdT="Lnr";g.UH.w5(fm,gA);var jN=g.b.ni(L.pth.crds);ku.x=(ku.x+cp.x)/2;ku.y=(ku.y+cp.y)/2;
g.UH.eb(ku,cp,jN,hp)}else{var d4=cc.add.vstl=gD.Ok.ow();d4.T0=[];var ey=gd.ps(ku,cp,new bC);d4.sN=gd.vg(0,ey,cc.add.vmsk.X);
d4.sN[1]=fm}}_.k.push(cc);a.newPath(L)}function c(Q){var L=Q.indexOf(")");while(Q[L-1]=="\\")L=Q.indexOf(")",L+1);
return Q.slice(Q.indexOf("(")+1,L).replaceAll("\\","")}function b(Q,x){Q.Rd.v=x[0]*255;Q.Grn.v=x[1]*255;
Q.Bl.v=x[2]*255}function w(Q){var L=[];for(var h=0;h<Q.length;h++)L[h]=parseFloat(Q[h].slice(1));return L}function U(Q){return new bC(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}function F(Q){return g.D4(Q.slice(0,4)).slice(0,3)}function Y(Q){var L=Q.split(" "),_=L[L.length-1],a=_.toLowerCase(),T=L.map(parseFloat),f=null;
if(a=="xa"||a=="xx"||a=="xz"){var f=T[4]==null?T.slice(0,3):[T[4],T[5],T[6]];if(a=="xx"&&T[T.length-2]==2)f=F(T)}else if(a=="g")f=F([0,0,0,1-T[0]]);
else if(a=="x"||a=="k"){if(a=="x"){T.pop();var Z=1-T.pop();for(var h=0;h<4;h++)T[h]*=Z}f=F(T)}else if(a=="xk"){var W=T[T.length-2],D=T[T.length-3];
if(W==0)f=F(T);else if(W==1){f=[T[4],T[5],T[6]];for(var h=0;h<3;h++)f[h]=D*1+(1-D)*f[h]}else throw Q}else throw a;
return f}function A(Q,L,_,a){Q.add.vmsk=new m.e_;if(L.crds.length!=0)Q.add.vmsk.X=G(L);Q.add.vmsk.da=a;
Q.Tr();Q.B0(_)}function G(Q){var L={T:Q.crds,Wp:Q.cmds},_=g.b.ZX(L,!1);return _}function n(Q,L){var _=[],d=0,t=0;
for(var a=0;a<2;a++){var T=L[["Raster","Place"][a]];if(T==null)continue;for(var h=0;h<T.length;h++){for(var f=0;
f<3;f++){var Z=T[h][["Data","Document","PlacedObjectPreview"][f]];if(Z==null)continue;var W=Z._begin,D=Z._end;
if(W>D)W=D;_.push([W,D])}}}_.sort(function(q,z){return q[0]-z[0]});var C=[L._begin];for(var h=0;h<_.length;
h++){var p=_[h],W=p[0]+32;C.push(W,p[1]);d+=p[1]-W}C.push(L._end);var y=L._end-L._begin,i=new Uint8Array(y-d);
for(var h=0;h<C.length;h+=2){var W=C[h],O=C[h+1]-W;i.set(new Uint8Array(Q.buffer,W,O),t);t+=O}return I.Aq(i).split(/\r\n|\r|\n/)}function E(Q,L){if(Q==null)return[];
var _=n(L,Q),a="",T="",f=0,Z;for(var h=2;h<_.length;h++){var W=_[h];if(W[0]=="%"){if(f==0)a+=W.slice(1);
else T+=W.slice(1)}else if(W==";")f++;else if(W.endsWith("/RulerOrigin ,"))Z=W.split(" ").slice(0,2).map(parseFloat)}var D=[a,T],C=[];
for(var h=0;h<2;h++){var d=D[h],p=new Uint8Array(d.length);I.cO(p,0,d);var y=FromPS.F.ASCII85Decode({buff:p,off:0}),i=dS.KE(y);
C.push(i)}C.push(Z);return C}function K(Q,L){if(Q==null)return[];var _=n(L,Q);_=_.slice(1);for(var h=0;
h<_.length;h++){var a=_[h];if(a.startsWith("%AI17_Begin_Content_if_version_gt")||a=="%AI17_Alternate_Content"||a=="%AI17_End_Versioned_Content")_[h]="";
else if(a[0]=="%")_[h]=a.slice(a[1]=="_"?2:1)}var T=fa.a1S(_);return T}function e(Q,L){var _={};if(Q==null)return _;
for(var h=0;h<Q.length;h++){var a=n(L,Q[h]),T=a[1],f=c(T),Z=T.slice(T.lastIndexOf(")")+2).split(" ").map(parseFloat),W=[];
for(var D=2;D<a.length;D++)W.push(a[D].slice(2));_[f]={ZW:Z,nh:W}}return _}function $(Q,L){var _=[],T,f;
if(Q==null)return _;var a=n(L,Q);for(var h=1;h<a.length;h++){var Z=a[h];if(Z=="0 0 Pb"||Z=="PB"||Z==""){}else if(Z.endsWith("Xa")||Z.endsWith("Xz")||Z.endsWith("Xx")||Z.endsWith("Xk")||Z.endsWith(" g")||Z.endsWith(" x")||Z.endsWith(" k"))T=[0,Y(Z)];
else if(Z.endsWith("Xs"))T=[0,[0,0,0]];else if(Z.endsWith("Bg"))T=[1,c(Z)];else if(Z.endsWith("Pg")||Z.endsWith("p"))T=[2,c(Z)];
else if(Z[0]=="(")f=c(Z);else if(Z=="Pc")_.push([f,T]);else if(Z=="0 BB"||Z=="Bb"||Z.endsWith("Bh")){}else throw Z}return _}function N(Q,L){var _={},a,T;
if(Q==null)return _;var f=[];for(var h=0;h<Q.length;h++){var Z=n(L,Q[h]);for(var W=0;W<Z.length;W++){var D=Z[W];
if(D.endsWith("%_Bs")){var C=D.slice(0,D.length-4);if(!C.endsWith(" "))C+=" ";D=C+"%_BS"}if(D[0]=="("){a=c(D);
var d=D.slice(D.lastIndexOf(")")+2).split(" ");T=parseInt(d[0])}else if(D.endsWith("%_BS")){var p=D.split(" "),O,q=1;
p.pop();p=p.map(parseFloat);var y=p.pop(),i=p.pop(),t=p.pop();if(t==0)O=[p[0],p[0],p[0]];else if(t==2||t==4)O=[p[4],p[5],p[6]];
else if(t==1||t==3)O=F(p);else if(t==6){if(p.length==3)O=[p[0],p[0],p[0]];else if(p.length>=8)O=p.slice(4,7);
else O=F(p);q=p.pop()}else{throw t}f.push([y/100,O,q,i/100])}else if(D=="BD"){f.sort(function(z,jw){return z[0]-jw[0]});
_[a]={QJ:T,aez:f};f=[]}}}return _}function k(Q){var L="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),_=Date.now(),a=0,T=[],f={Header:{}},Z=[f],W=Q.length;
while(a<W){var D=a;while(D!=W&&Q[D]!=13&&Q[D]!=10){D++}if(Q[a]==37&&Q[a+1]==95&&Q[a+2]==37)a+=2;if(Q[a]==37&&(Q[a+1]==37||Q[a+1]==65)){var C=I.b_(Q,a,D-a);
if(C=="%%EOF")break;if(C=="%%EndComments"||C=="%EndComments"||C=="%AI5_Begin_NonPrinting"||C=="%AI5_End_NonPrinting--"||C.startsWith("%AI17_Begin_Content_if_version_gt")||C=="%AI17_End_Versioned_Content"){}else{var d=C.indexOf("Begin"),p=Math.max(C.indexOf("_End"),C.indexOf("%End"));
if(d!=-1&&C[d-1]!="%"&&C[d-1]!="_")d=-1;if(d!=-1){var y=C.slice(d+5).split(":")[0],i={_begin:a,_end:a},t=Z[Z.length-1];
if(L.indexOf(y)!=-1){if(t[y]==null)t[y]=[];t[y].push(i)}else{if(t[y]!=null){console.log(Z);throw C}t[y]=i}Z.push(i);
if(C.startsWith("%%BeginData")){D=I.CD(Q,"%%EndData",a)}else if(C.slice(0,15)=="%%BeginDocument")D=I.CD(Q,"%%EndDocument",D);
else if(C=="%AI9_BeginDocumentData")D=I.CD(Q,"%AI9_EndDocumentData",D);else if(C=="%AI11_BeginTextDocument")D=I.CD(Q,"%AI11_EndTextDocument",D)}else if(p!=-1){if(Z.length>1)Z.pop()._end=a}else if(Z.length==1&&(C.startsWith("%AI")||C.startsWith("%%")&&C.indexOf(" ")!=-1)){var O=1;
if(C.startsWith("%AI"))while(C[O]!="_"&&O<C.length)O++;var q=C.indexOf(":");if(q==-1)q=C.indexOf(" ");
var z=C.slice(O+1,q),jw=C.slice(q+1).trim();f.Header[z]=jw}}}a=D;if(Q[a]==13)a++;if(Q[a]==10)a++}return f}function V(Q){var L="";
for(var h=0;h<Q.length;h++){if(Q[h]=="_"&&Q[h+1]=="x"){var co=parseInt(Q.slice(h+2,h+4),16);L+=String.fromCharCode(co);
h+=4}else if(Q[h]=="_")L+=" ";else L+=Q[h]}return L}function X(Q){var L="xmlnode-nodename",_="xmlnode-nodevalue",a="xmlnode-attributes",T="xmlnode-children",f=Q[L].split(":").pop().replace("#",""),Z=Q[a],W=Q[T],D="<"+f;
for(var C in Z)if(C!="xmlns"&&C!="xmlns:v")D+=" "+C.split(":").pop()+"=\""+Z[C][_]+"\"";D+=">"+(W.length==0?"":"\n");
for(var h=0;h<W.length;h++)D+=X(W[h]);if(Q[_])D+=Q[_];return D+"</"+f+">\n"}return J}();gd.alL=function(J,v,x){var o=g.b.ho(new jj(0,0,J,v)).T,R=new bC;
R.rotate(x);g.b.u(o,R,o);var r=g.b.ni(o);return r.r/J};gd.a2N=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
gd.o4=function(){function J(F){var Y=72/F.Bt,A=new bC(Y,0,0,-Y,0,0),G=F.root.children,n=[],E={Hw:[],lp:{},aCt:0},e=16383,s=0,jU=0;
for(var h=0;h<F._I.length;h++){var K=F._I[h];if(K[1].length==4)w(K[1],E,K[0])}for(var h=0;h<G.length;
h++)P(G[h],F,A,E,n,0);var $=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+e+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
$.push("%%BeginSetup\r");$=$.concat(E.Hw);for(pn in F.mW){var N=F.mW[pn],k=F.Bt/72;$.push("%AI3_BeginPattern: ("+pn+")");
$.push("("+pn+") 0 0 "+Math.round(N.r/k)+" "+Math.round(N.$/k));var G=N.root.children,V=[];for(var h=0;
h<G.length;h++)P(G[h],N,A,E,V,1);V=window.a0U;for(var h=0;h<V.length;h++){var X=V[h];$.push(X.startsWith("%_")?X:"%_"+X)}$.push("E","%AI3_EndPattern")}if(F._I.length!=0){$.push("%AI5_BeginPalette","0 0 Pb");
for(var h=0;h<F._I.length;h++){var K=F._I[h],Q="("+K[0]+")",L=K[1].length;if(K[0]=="[Registration]")$.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(L==3)$.push(M(g.Cv(K[1]).concat(K[1]))+" "+Q+" 0 1 Xk");else if(L==4)$.push("Bb","0 0 0 0 Bh",K[1][0]+1+" "+Q+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(L==2)$.push(Q+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");$.push(Q,"Pc")}$.push("PB","%AI5_EndPalette")}$=$.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var _=F.add.arts;for(var h=0;h<_.length;h++){var a=_[h];console.log(a);var T=a.ZW[0]*Y,f=-a.ZW[1]*Y,Z=a.ZW[2]*Y,W=-a.ZW[3]*Y;
$.push("/Dictionary :","("+a.ox+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",e/2+" "+e/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",x(T)+" "+x(f)+" /RealPointRelToROrigin"," (PositionPoint1) ,",x(Z)+" "+x(W)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}$=$.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var D=[],C=[];for(var h=0;h<F.k.length;h++){var d=F.k[h],p=d.add.TySh;if(p){D.push(p.vv);C.push(p)}}if(D.length!=0){var y=d1.asg(D,null,null);
function i(a){return a.map(function(hx){return"f"+hx})}for(var t=0;t<D.length;t++){var p=C[t],O=y._1._1[t],q=O._1._0[0]._0;
q=parseInt(q.slice(1));var z=y._0._8._0[q]._0,jw=p.u.Q();jw.concat(A);jw.scale(1,-1);z._2._2=i([jw.o5,jw.c,jw.Mz,jw.fn,jw.zP,jw.jD])}var u=v(y),iH=v(y);
$.push("%AI11_BeginTextDocument");$.push("/AI11TextDocument : /ASCII85Decode ,");$=$.concat(u);$.push("0.0001 0.0001 /RulerOrigin ,");
$.push(";");$.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");$=$.concat(iH);$.push(";");$.push("%AI11_EndTextDocument")}$.push("%%EndSetup\r");
$=$.concat(n);console.log($.join("\n"));$.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var h=0;h<$.length;h++){var a=$[h];if(typeof a=="string")a=$[h]=I.xU(a);s+=a.length+1}var bV=new Uint8Array(s);
for(var h=0;h<$.length;h++){var a=$[h];bV.set(a,jU);jU+=a.length;bV[jU]=13;jU++}return fa.aDj(bV).buffer}function v(F){var Y=new i3,A=dS.Ce(F,Y)-2,G=U(Y.data.slice(0,A)),n=[];
for(var E=0;E<G.length;E+=100){if(G.length-E<103){n.push("%"+G.slice(E));break}n.push("%"+G.slice(E,E+100))}return n}function x(co){return co.toFixed(3)}function o(F,Y){var A=F.getName(),G=null;
Y.push("%_/ArtDictionary :");if(F.add.vmsk)G=F.add.vmsk.xx;if(F.add.SoLd){var n=g.O.aQ(F.add.SoLd);G=Math.atan2(-n.c,n.o5)}if(F.add.TySh){var n=F.add.TySh.u;
G=Math.atan2(-n.c,n.o5)}if(G!=null&&G!=0)Y.push("%_("+G+") /String (BBAccumRotation) ,");if(F.add.TySh)Y.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!A.startsWith("<")&&!A.endsWith(">")){Y.push("%_/XMLUID : "+R(A)+" ; (AI10_ArtUID) ,")}Y.push("%_;","%_")}function R(F){var Y="";
for(var h=0;h<F.length;h++){var A=F[h],G=F.charCodeAt(h);if(A==" ")Y+="_";else if(A=="."||A==":"||A=="-"||48<=G&&G<=57||65<=G&&G<=90||97<=G&&G<=122||127<G)Y+=A;
else Y+="_x"+G.toString(16).toUpperCase()+"_"}return"("+Y+")"}function r(F,Y,A){A.push(M(F)+" "+Y)}function l(F){return"[ "+M(F)+" ]"}function M(F){return F.map(x).join(" ")}function P(F,Y,A,G,n,E){var K=F.w;
if(E!=0)n.push("0 A",(K.jh()?0:1)+" Xw");if(K.tX()){var e=!1;for(var h=0;h<F.children.length;h++)if(F.children[h].w.pT)e=!0;
var $=K.add.lsct==h2.Uk?1:0;if(E==0){n.push("%AI5_BeginLayer");n.push((K.jh()?1:0)+" "+Y.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
n.push("("+K.getName()+") Ln");n.push($+" AE");o(K,n)}else{n.push($+" Ae");n.push(e?"q":"u")}for(var h=0;
h<F.children.length;h++)P(F.children[h],Y,A,G,n,E+1);if(E==0)n.push("LB","%AI5_EndLayer--");else{n.push(e?"Q":"U");
o(K,n);S(K,n);n.push("0 0 Xd","6 () XW")}}else if(!0){S(K,n);var N=K.add.TySh,k=K.add.vmsk;if(N){n.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",G.aCt+" /StoryIndex ,");
if(bI.eP(N.vv)==1){var V=bI.JG(N.vv),X=g.b.ho(new jj(V[0],V[1],V[2],V[3])).T;g.b.u(X,N.u,X);g.b.u(X,A,X);
n.push("/Art :","X=","1 Ap",X[0]+" "+X[1]+" m",X[2]+" "+X[3]+" L",X[4]+" "+X[5]+" L",X[6]+" "+X[7]+" L",X[0]+" "+X[1]+" L","n","X+","; /ConfiningPath ,")}n.push("2 /TextAntialiasing ,",";");
G.aCt++}else if(K.add.SoLd){var Q,L,_,a=K.add.SoLd,T=a.Idnt.v,f=Y.pB(T,a.Crop?a.Crop.v:null),Z=f.Vs,Q=Z[0],L=Z[1];
_=g.O.aQ(a);var W=new bC(1,0,0,-1,0,0);W.concat(_);W.concat(A);var D=L.o(),C=L.r,d=L.$,p=g.C(D*4+8);
for(var h=0;h<D;h++){var y=h*4,i=h*3;p[i]=Q[y];p[i+1]=Q[y+1];p[i+2]=Q[y+2];p[3*D+h]=Q[y+3]}I.cO(p,D*4,"%EndData");
n.push("%AI5_File:","%AI5_BeginRaster",l([W.o5,W.c,W.Mz,W.fn,W.zP,W.jD])+" 0 0 "+[C,d,C,d].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(D*4+4),"XI",p,"XH","%AI5_EndRaster","N")}else if(k){var t=K.add.vstl,O,q;
if(t){O=t.sN;q=t.T0;if(O.length==0)O=null;if(q.length==0)q=null}var z=g.I.Eo(k.X)>1;if(z)n.push("*u","0 Xw");
if(O){if(O.length==3)r(O,"Xa",n);else if(O.length==4){var jw=b(O,G);n.push("Bb",jw,"2 BB")}else{n.push("("+O[0]+") "+O[1][0].join(" ")+" ["+O[1][1].join(" ")+"] p")}}if(q){var u=A.Nf(),iH=t.Wy.slice(0);
for(var h=0;h<iH.length;h++)iH[h]*=u;n.push(t.yd+" J "+t.$h+" j "+t.fk*u+" w "+x(t.M0)+" M ["+iH.join(" ")+"]0 d");
if(q.length==3)r(q,"XA",n);else if(q.length==4){var jw=b(q,G);n.push("1 Bb",jw,"2 BB")}else{n.push("("+q[0]+") "+q[1][0].join(" ")+" ["+q[1][1].join(" ")+"] P")}}var s=g.b.Am(k.X,1);
g.b.u(s.T,A,s.T);var bV=K.pT?"h\nW\nn":O&&q?"b":O?"f":"s";c(s,bV,k.da,n);if(z)n.push("*U")}o(K,n)}else{var jU=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
n=n.push(jU.join("\n"))}}function S(F,Y){var A=gd.a2N.indexOf(F.gR);if(A==-1)A=0;Y.push(A+" "+x(F.fc/255)+" 0 0 0 Xy")}function c(F,Y,A,G){G.push(A+" XR");
var n=0;for(var E=0;E<F.Wp.length;E++){var K=F.Wp[E],e,$=0,N="";if(K=="M"){$=2;e="m"}if(K=="L"){$=2;
e="l"}if(K=="C"){$=6;e="c"}for(var h=0;h<$;h++)N+=x(F.T[n+h])+" ";n+=$;if($!=0)G.push(N+e);if(E==F.Wp.length-1||F.Wp[E+1]=="M"){G.push(K=="Z"?Y:Y.toUpperCase())}}}function b(F,Y){var A=w(F,Y),G="";
if(F[0]==1)G="0 0 "+F[2].slice(5).map(x).join(" ")+" Bh\n";return G+"1 ("+A+") "+F[2].slice(0,4).map(x).join(" ")+" "+F[3].map(x).join(" ")+" "+x(F[2][4])+" Bg"}function w(F,Y,A){var G=F[0],n=F[1].slice(0),E=G+"-"+JSON.stringify(n);
if(Y.lp[E])return Y.lp[E];console.log(A);var K=Y.lp[E]=A?A:"grd"+Y.Hw.length;Y.Hw.push("%AI5_BeginGradient: ("+K+")","("+K+") "+G+" "+n.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(G==0)n=n.reverse();for(var h=0;h<n.length;h++){var e=n[h];if(e[3]==null)throw"e";var $=g.Cv(e[1]),N=100*e[3],k=$.concat(e[1]).map(x).join(" ")+" 2 "+x(e[2])+" 6 "+N+" "+x(e[0]*100);
Y.Hw.push(k+" %_BS");Y.Hw.push("%_"+k+" Bs")}Y.Hw.push("BD","%AI5_EndGradient");return K}function U(F){var Y=[85*85*85*85,85*85*85,85*85,85,1],A="",G=F.length,n=new Uint8Array(4),E=new Uint32Array(n.buffer);
for(var h=0;h<G;h+=4){var K=G-h;n[3]=F[h];n[2]=K>1?F[h+1]:0;n[1]=K>2?F[h+2]:0;n[0]=K>3?F[h+3]:0;var e=E[0],$=1+Math.min(4,K);
for(var N=0;N<$;N++){var k=Math.floor(e/Y[N]);A+=String.fromCharCode(33+k);e-=k*Y[N]}}return A+"~>"}return J}();
function hC(){}hC.KE=function(){var J,v,x,o,R,r=!0,l=!0,e,$,N;function M(C){return r?I.eA(J,C):I.m7(J,C)}function P(C){return r?I.$y(J,C):I.H1(J,C)}function S(C){return r?I.$c(J,C):I.gM(J,C)}function c(C){return I.$y(J,C)}function b(C){return I.eA(J,C)}function w(C){return I.aV(J,C)}function U(C,d){if(C+d*4>J.length)throw d;
var p=[];for(var h=0;h<d;h++)p.push(M(C+h*4));return p}function F(C,d){var p=[];for(var h=0;h<d;h++)p.push(S(C+h*8));
return p}function Y(C){return b((C+1)*4096-12)}function A(C){return b((C+1)*4096-8)}function G(C,v,d,p){if(o[C]==null)o[C]=[];
o[C].push([p,new Uint8Array(J.buffer,v,d)])}function n(C,d,p,y){var i=x[C],v=i*4096;v=v+b(v+4096-24-12-d*4);
var t=c(v),O=J[v+2],q=J[v+3];if(d!=O)throw O;if(q==0)G(y,v+4,p,9);else{var z=c(v+6),jw=b(v+8);G(y,v+12,t-12,9);
n(jw,z,p-(t-12),y)}}function E(){var C=b(352),d=b(C*4096+128),p=b(936);x=[];o={};R={};for(var h=0;h<1e9;
h++){var y=b(p*4096+128+h*4);if(y==0)break;var i=U(y*4096+128,4096-128-12>>>2);x=x.concat(i)}for(var t=0;
t<x.length;t++){var O=x[t],q=Y(O);if(q!=6)continue;var v=O*4096,z=b(v);v+=4;for(var h=0;h<z;h++){var jw=b(v);
v+=4;var u=b(v);v+=4;var iH=b(v);v+=4;var s=b(v);v+=4;if(jw==0)R[u]=iH;else{var bV=iH&65535,jU=iH>>>16;
if(jU==0)G(u,s*4096,bV,8);else n(s,jU,bV,u)}}}var e={};for(var hx in o){var eX=o[hx],et=eX.length;if(et==1)e[hx]=eX[0][1];
else{var f7=0,v=0;for(var h=0;h<et;h++)f7+=eX[h][1].length;var iY=e[hx]=new Uint8Array(f7);for(var h=0;
h<et;h++){iY.set(eX[h][1],v);v+=eX[h][1].length}}}return e}function K(v,C){var d=0,p="";if(C){d=M(v);
v+=4}else{v+=3;d=P(v);v+=2}while(p.length<d){var y=P(v),i=y&255,t=y>>>8,O=0,q="";i+=(t&15)*256;t=t&240;
v+=2;if(i==0)throw"e";for(var h=0;h<i;h++){if(t==64)O=J[v++];else if(t==128){O=P(v);v+=2}else throw t;
q+=String.fromCharCode(O)}p+=q}return[p,v]}function k(v,C,d){var p=U(v,C);for(var h=0;h<C;h++){d.push(h);
if(p[h]>$)throw"e";p[h]=X(p[h],d);d.pop()}return p}var V={};function X(C,d){if(N.indexOf(C)!=-1)return e[C];
if(C==0)return null;if(e[C]==null)return null;if(!(e[C]instanceof Uint8Array))return e[C];var p=J,v=0;
J=e[C];N.push(C);var y=R[C].toString(16),i=e[C]={_type:D[y]?D[y]+":"+y:"typ-"+y,_eid:C};while(v+8<J.length){var t=M(v);
v+=4;var O=M(v);v+=4;var q=t.toString(16),z=v+O;if(v+O>J.length){i._bin=J;break}Q(q,T,i,v,O,d);v=z}J=p;
N.pop();return i}function Q(C,d,p,v,y,i){var t=d[C+":"+p._type];if(t==null)t=d[C];i.push(t?t[0]==""?C:t[0]:C);
if(t){var O=t[0],q=null,z=t[1];if(O=="")O=z+"-"+C;if(Z[z]&&y!=Z[z]){console.log(z);console.log(C,t);
console.log(J.slice(v,v+y));throw"e"}if(z=="mat")q=F(v,6);else if(z=="mmat")q=[X(M(v),i),y==6?[1,0,0,1,0,0]:F(v+6,6)];
else if(z=="rect")q=F(v,4);else if(z=="mrct"){q=F(v,4);q.push(c(v+32))}else if(z=="doub")q=S(v);else if(z=="pointArr"){var jw=c(v);
q=U(v+2,jw*2)}else if(z=="usrt")q=c(v);else if(z=="uint")q=M(v);else if(z=="pntr"||z=="ptr6"){q=X(M(v),i)}else if(z=="bool2"){if(P(v)!=0&&P(v)!=1)throw P(v);
q=P(v)==1}else if(z=="bool4"){if(M(v)!=0&&M(v)!=1&&M(v)!=2)throw C+","+M(v);q=M(v)==1}else if(z=="color"){if(y!=38&&y!=30)throw y;
var u=M(v),iH=P(v+4);q=[u];for(var h=0;h<iH;h++)q.push(S(v+6+h*8))}else if(z=="path"){var s=v+y;q=[];
var bV=M(v);v+=4;for(var h=0;h<bV;h++){var jU=[[]];q.push(jU);var hx=M(v);v+=4;for(var eX=0;eX<hx;eX++){var u=M(v);
v+=4;if(u<2){jU[0].push([u,S(v),S(v+8),S(v+16),S(v+24),S(v+32),S(v+40)]);v+=48}else if(u==2){jU[0].push([u,S(v),S(v+8)]);
v+=16}else throw u}jU.push(c(v));v+=2}}else if(z=="ptrAndList"){var et=M(v),q=[];if(y>4){var f7=M(v+4);
if(f7>160)throw f7;q=k(v+8,f7,i)}q.unshift(X(et,i))}else if(z=="ptrArray"||z=="ptrArrayX"){var iY=y>>2;
if(z=="ptrArray"){iY=M(v);v+=4;if(y!=4+iY*4)throw y}q=k(v,iY,i)}else if(z=="ptrArray2"){var iY=M(v);
v+=4;q=k(v,iY,i);v+=iY*4;iY=M(v);v+=4;q.push(k(v,iY,i))}else if(z=="cldrn"){var cd=M(v),jV=M(v+4),iY=M(v+8);
q={m:X(cd,i),Nu:X(jV,i),E0:k(v+12,iY,i)};if(y!=12+iY*4){console.log(C,sa);throw"e"}if(cd==0)throw cd}else if(z=="aprnc"){var iY=M(v);
v+=4;q={};for(var h=0;h<iY;h++){var g2=M(v),gV=P(v+4),fD=P(v+6);v+=8;var j4=W[g2.toString(16)];if(j4==null)j4="prm-"+g2.toString(16);
else j4=a(j4);q[j4]=[];for(var eX=0;eX<fD;eX++){var dQ=M(v),eO=P(v+4),a7=null;v+=6;if(dQ==28264)a7=S(v);
else if(dQ==28263)a7=M(v);else if(dQ==279||dQ==6917)a7=X(M(v),i);else if(dQ==28261)a7=c(v)==1;else if(dQ==28265)a7=[S(v),S(v+4)];
else if(dQ==6914||dQ==83231)a7=K(v)[0];else if(dQ==28259||dQ==28260||dQ==23094||dQ==67679){a7=J.slice(v,v+eO)}else throw dQ.toString(16);
q[j4].push(a7);v+=eO}}}else if(z=="lopts"){var cc=8;if(r&&P(v+cc)<2)cc+=2;if(!r&&(M(v+cc)==0||M(v+cc)==65536))cc+=2;
q={aB1:P(v+0)==1,show:P(v+2)==1,aci:P(v+4)==1,uz:M(v+cc),name:K(v+cc+8)[0]}}else if(z=="origin"){var s=v+y;
if(J[v++]!=1)throw"e";var jw=M(v);v+=4;var ad=I.b_(J,v,jw);v+=jw;v++;var jC=J[v++],iJ=P(v);v+=2;var kJ=b(v);
v+=4;if(kJ!=0&&kJ!=1)throw kJ;var jr=b(v);v+=4;if(jr!=0&&jr!=2&&jr!=3)throw jr;var fY=b(v);v+=4;var iR=K(v,!0);
v=iR[1];iR=iR[0];var g6=b(v),ay=b(v+4);v+=8;var cQ=b(v);v+=4;if(cQ!=0)throw cQ;var aC=b(v);v+=4;var dI=K(v)[0];
v+=2+2+dI.length+3;q={file:ad,id:iR,d_:dI}}else if(z=="string")q=K(v)[0];else if(z=="relEnt"){var fm=P(v);
v+=2;q=[];for(var h=0;h<fm;h++)q.push([M(v+h*8),X(M(v+h*8+4),i)])}else if(z=="textData"){var s=v+y,hd=M(v);
v+=4;var g2=M(v);v+=4;var iH=P(v);v+=2;var ku=[];for(var h=0;h<iH;h++){var cp=M(v);v+=4;if(hd==514)ku.push(K(v,!0)[0]);
else if(hd==515){var hp=M(v),C=M(v+4),gA=L(v+8,i);ku.push([hp,X(C,i),gA])}else if(hd==516){var hp=M(v),C=M(v+4),jN=P(v+8),gA=L(v+8,i);
ku.push([hp,X(C,i),gA])}else ku.push(J.slice(v,v+cp));v+=cp}if(s-v!=12)throw s-v;q=ku}else if(z=="storyProps"){var d4=v;
if(P(d4+4)>1)throw"e";var iH=M(d4+10);q={a6s:M(d4),acy:X(M(d4+6),i),E0:k(d4+14,iH,i),a9i:X(M(d4+14+iH*4),i)}}else if(z=="styleProps")q=L(v,i);
else if(z=="bounds"){var d4=v,fm=M(v);v+=4;q=[];for(var h=0;h<fm;h++){var ey=[];q.push(ey);for(var eX=0;
eX<4;eX++)ey.push(S(v+eX*8));v+=32;ey.push(J[v]);v++}if(v!=d4+y)throw"e"}else if(z=="columnPos"){var fm=M(v);
v+=4;q=[F(v,fm),S(v+fm*8)];v+=fm*8+8}else if(z=="StyleName"){q=[M(v+4)]}else if(z=="fontName"){var s=v+y;
q=[P(v)];v+=2;if(q[0]==2){v=s}else if(q[0]==3){for(var h=0;h<2;h++){if(P(v+3)==0){v+=7;continue}var ad=K(v);
v=ad[1];q.push(ad[0])}var jG=M(v);v+=4;if(jG==0)v+=2;else{var ad=K(v);v=ad[1];q.push(ad[0]);var ad=K(v);
v=ad[1];q.push(ad[0]);var ad=K(v);v=ad[1];q.push(ad[0]);v+=10}}else{if(q[0]!=1&&q[0]!=4)throw q[0];for(var h=0;
h<2;h++){var ad=K(v);v=ad[1];q.push(ad[0])}var cF=P(v),f5=P(v+2);v+=4;q.push(cF);var jG=P(v);v+=2;q.push(jG);
var jW=P(v);v+=2;var f$=[];q.push(f$);for(var bh=0;bh<jW;bh++){var ii=[];f$.push(ii);var ad=K(v);v=ad[1];
ii.push(ad[0]);var dM=P(v);if(dM<256){v+=2;var ad=I.b_(J,v,dM);v+=dM;ii.push(ad)}else{var ad=K(v);v=ad[1];
ii.push(ad[0])}for(var h=0;h<3;h++){var ad=K(v);v=ad[1];ii.push(ad[0])}var b7=M(v);ii.push(b7);v+=4;
if(M(v)>65535)l=!1;if(!l)continue;var ad=K(v,!0);v=ad[1];ii.push(ad[0])}q.push(M(v));v+=4}if(v!=s)throw"e"}else throw z;
if(p[O]!=null){console.log(O,p[O],q);console.log(i.slice(0));console.log(eid,C,v,p[O],t,q);throw"e"}p[O]=q}else{var bz=J.slice(v,v+y);
p["prop-"+C]=bz}i.pop()}function L(v,C){var d=P(v);v+=2;var p={};for(var h=0;h<d;h++){var y=M(v);v+=4;
var i=y.toString(16),t=P(v);v+=2;var O=P(v);v+=2;for(var q=0;q<O;q++){var z=M(v);v+=4;var jw=P(v);v+=2;
Q(i,f,p,v,jw,C);v+=jw}}return p}function _(C){r=!0;l=!0;J=new Uint8Array(C);e=E();var d=e[2147483649];
d=I.Aq(d,4,d.length-4);delete e[2147483649];$=0;for(var p in e)$=Math.max($,parseInt(p));N=[];var y={};
for(var p in e)y[p]=e[p];var i=e[1];if(i[0]==0)r=!1;for(var p in e)X(parseInt(p),[]);return e}function a(C){C=C.split(" ").join("");
return C[0].toLowerCase()+C.slice(1)}var T={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},f={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},Z={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},W={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},D={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return _}();function iL(){}iL.KE=function(){var J=0;function v(b,w){var U=hC.KE(b),_=1;J=0;var F=U[1],Y=F.spreads,A=[],G=new jj;
for(var n=0;n<Y.length;n++){var E=Y[n],K=E.children;if(K==null)continue;var e=K.E0,$=o(E),N=e[0].children.E0,k=new jj;
for(var V=0;V<N.length;V++){var X=N[V],Q=o(X);Q.concat($);var L=x(X);L.offset(Q.zP,Q.jD);L=g.b.RN(L);
k=k.h0(L)}A.push(k);G=G.h0(k)}while(Math.sqrt(G.o())*_<1e3)_++;while(G.o()*_*_*4>2e9)_/=2;w.r=G.r*_;
w.$=G.$*_;w.buffer=new Uint8Array(4*w.r*w.$);w.C4=!0;w.Bt=Math.round(72*_);w.Dy(Y.length);for(var n=0;
n<Y.length;n++){var E=Y[n],K=E.children;if(K==null)continue;var e=K.E0,a=w.qL();a.eW=24;a.add.lsct=h2.Uk;
a.v7("Artboard "+(n+1));var T=A[n].Q();T.offset(-G.x,-G.y);T.x*=_;T.y*=_;T.r*=_;T.$*=_;T=g.b.RN(T);a.$V(T);
a.gR="pass";w.k.push(w.V4());var $=o(E);$.translate(-G.x,-G.y);$.scale(_,_);var f={};for(var Z=0;Z<e.length-1;
Z++){var W=e[Z],D=W.children;if(D==null)continue;D=D.E0;var C=w.qL(),d=W.layer;if(d==null)continue;var p=d.lopts;
if(p.name=="Internal_pages_layer_name"||f[p.name])continue;f[p.name]=!0;C.eW=24;C.add.lsct=h2.Uk;C.v7(p.name);
C.G0(p.show);if(p.aB1)C.add.lspf=1<<31;C.gR="pass";w.k.push(w.V4());for(var h=0;h<D.length;h++)P(D[h],w,$,U);
w.k.push(C)}w.k.push(a)}}function x(b){var w=b.rect;return new jj(w[0],w[1],w[2]-w[0],w[3]-w[1])}function o(b){var w=b.transform;
if(w==null)w=new bC;return new bC(w[0],w[1],w[2],w[3],w[4],w[5])}function R(b){var w=b.color,U=b.parentFill,Y;
if(w==null&&U)w=U.color;if(w==null){console.log("strange color",b);return[0,0,0]}var F=w[0];if(F==5)Y=w.slice(1);
else if(F==6)Y=UDOC.C.cmykToRgb(w.slice(1));else if(F==7){var A=g.XL(w[1],w[2],w[3]);Y=[A.z/255,A.H/255,A.c/255]}else if(F==14){Y=w.slice(1);
console.log("unsure about the color")}else{console.log(w);throw F}return Y}function r(b){var w=R(b);
return g.UH.YK({z:w[0]*255,H:w[1]*255,c:w[2]*255})}function l(b){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[b]}function M(b,w){var h=0,U=0;
while(b[h+1]&&U+b[h][0]<=w){U+=b[h][0];h++}b=b[h][1].textData;h=0;while(b[h+1]&&U+b[h][0]<=w){U+=b[h][0];
h++}return b[h]}function P(b,w,U,F){var Y=b.transform?o(b):new bC;Y.concat(U);var A=b.path,G=b.appearance,n=b.visible,E=b.children?b.children.E0:null,K=w.qL();
if(n!=null)K.G0(n);var e=E&&E.length==1&&E[0].bitmapFill,$=b["bool2-1623"]&&E&&E.length==1&&E[0].rect&&E[0]._type.startsWith("TextFrame");
if(e){K.v7("bitmap");var N=E[0],k=x(N),V=o(N),a=null;V.concat(Y);var X=N.bitmapFill.bitmap;X=F[X]._bin;
if(X.length!=X.buffer.byteLength)X=X.slice(0);if(X[0]==123){console.log("unknown bitmap format");return}var Q=w.P2(X,"img.jpg",0,0);
Q.eW=K.eW;K=Q;var L=[0,0,k.r,0,k.r,k.$,0,k.$];g.b.u(L,V,L);K.add.SoLd.Trnf=H.ge.y7(L);K.add.SoLd.nonAffineTransform=H.ge.y7(L);
K.IY(w,!1);var _=N.path;if(_&&_.length!=0)a=c(_,V,G);else if(A&&A.length!=0)a=c(A,Y,G);if(a){var T=g.I.Or(a.X),f=g.b.ni(L);
if(T.o()/f.Xt(T).o()>1.1){if(T.contains(f))a=null;var Z=b.children;b.children=null;P(b,w,U,F);b.children=Z}}if(a)K.add.vmsk=a;
K.Tr();K.B0(w)}else if($){if(G&&G.strokeSwatch){var W=w.qL();S(W,w,G,A,Y);w.k.push(W)}var D=E[0],k=x(D),V=o(D),eX=0;
V.concat(Y);var C=D.children.E0[0],d=C.obj228,p=d[0].story[1],y=p.stoProps.acy.relEnt,i=p.stoProps.E0[0].relEnt,t=p.stoProps.E0[1]["ptrArrayX-210"][0].textData,O=F[y[0][1].textData[0][1].name[0]],q=O?O.styProps:{};
t=t.join("").replace(/\r/g,"\n");var z=-1;while((z=t.indexOf("\uFFFC"))!=-1){t=t.slice(0,z)+(t[z-1]=="\n"?" ":" ")+t.slice(z+1)}K.v7(t.slice(0,255));
K.add.lnsr="rend";K.add.TySh=bI.Q6(0,0);K.add.TySh.yW=k;K.add.TySh.u=V;var jw=K.add.TySh.vv;bI.Cq(jw,0,t);
var u=bI.Ni(jw,0,t.length);u.iz.FontSize=10;bI.qc(jw,0,t.length,u);var iH=[];if(t.length!=0){var s=M(y,0),bV=M(i,0),jU=1;
for(var h=1;h<t.length;h++){var A=M(y,h),hx=M(i,h);if(A!=s||hx!=bV){iH.push(jU);jU=0}s=A;bV=hx;jU++}if(jU!=0)iH.push(jU)}for(var h=0;
h<iH.length;h++){var et=M(i,eX),f7=iH[h],iY=Math.min(eX+f7,t.length-1),cd=et[2],jV=et[1]?et[1].styProps:null;
if(jV==null)jV={};var g2=M(y,eX),gV=g2[1].styProps,fD=g2[2],j4={};for(var dQ in q)j4[dQ]=q[dQ];for(var dQ in gV)j4[dQ]=gV[dQ];
for(var dQ in fD)j4[dQ]=fD[dQ];for(var dQ in jV)j4[dQ]=jV[dQ];for(var dQ in cd)j4[dQ]=cd[dQ];j4.FontCaps=j4.FontCaps&3;
var u=bI.Ni(jw,eX,iY),eO=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],a7=eO.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var cc=0;cc<a7.length;cc++){var dQ=a7[cc],ad=cc<eO.length?u.iz:u.u7;if(j4[dQ]!=null)ad[dQ]=j4[dQ]}if(j4.fillColor){var jC=R(j4.fillColor);
u.iz.FillColor={Type:1,Values:[1].concat(jC)}}if(j4.font){var iJ=j4.font.name[5],kJ=j4.fontStyle;if(kJ==null)kJ="Regular";
if(iJ)for(var jr=0;jr<iJ.length;jr++)if(iJ[jr][0]==kJ)bI.ud(u,iJ[jr][1])}if(j4.leading!=null&&j4.leading>1){u.iz.Leading=j4.leading;
u.iz.AutoLeading=!1}if(j4.align!=null)u.u7.Justification=[0,2,1,6,3,5,4,0,0,0][j4.align];bI.qc(jw,eX,iY,u);
eX+=f7}bI.IN(jw,1);bI.lC(jw,[0,0,Math.round(k.r),Math.round(k.$)])}else if(b._type.startsWith("Path")&&(E==null||E.length==0)&&A){S(K,w,G,A,Y)}else{var fY=b["prop-14526"];
if(E==null&&fY){var iR=F[I.eA(fY,20)];E=[iR]}if(E){if(A&&A.length!=0){K.add.vmsk=c(A,Y,G);K.Tr();K.B0(w)}K.v7("group");
K.eW=24;K.add.lsct=h2.Uk;w.k.push(w.V4());for(var h=0;h<E.length;h++)if(E[h])P(E[h],w,Y,F)}}if(G){var g6=G.objectBlendingMode,ay=G.objectOpacity,cQ=G.fillTint,dI=!1;
if(g6)K.gR=l(g6[0]);if(ay)K.fc=Math.round(K.fc*ay[0]/100);if(!e&&cQ)K.fc=Math.round(K.fc*cQ[0]/100);
var aC=JSON.parse(gD.default);for(var h=0;h<gD.order.length;h++)aC[gD.Lw[h]]={t:"VlLs",v:[]};var fm="dropShadow innerShadow satin bevel iglow oglow".split(" "),hd="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var h=0;h<fm.length;h++){var ku=fm[h];if(G[ku]&&G[ku][0]){var cp=G[ku],gA=135,jN=10;dI=!0;var hp=JSON.parse(gD.Sy[gD.order.indexOf(hd[h])]);
aC[gD.Lw[gD.order.indexOf(hd[h])]].v.push({t:"Objc",v:hp});if(G[ku+"Color"])hp.Clr.v=r(G[ku+"Color"][0]);
else if(fm[h]=="iglow"||fm[h]=="oglow")hp.Clr.v=g.UH.YK({z:255,H:255,c:255});if(G[ku+"ColorH"])hp.hglC.v=r(G[ku+"ColorH"][0]);
if(G[ku+"ColorS"])hp.sdwC.v=r(G[ku+"ColorS"][0]);if(G[ku+"BMode"])hp.Md.v.BlnM=gX.Pp(l(G[ku+"BMode"][0]));
if(G[ku+"BModeH"])hp.hglM.v.BlnM=gX.Pp(l(G[ku+"BModeH"][0]));if(G[ku+"BModeS"])hp.sdwM.v.BlnM=gX.Pp(l(G[ku+"BModeS"][0]));
if(G[ku+"Opacity"])hp.Opct.v.val=G[ku+"Opacity"][0];if(G[ku+"OpacityH"])hp.hglO.v.val=G[ku+"OpacityH"][0];
if(G[ku+"OpacityS"])hp.sdwO.v.val=G[ku+"OpacityS"][0];if(G[ku+"Size"])hp.blur.v.val=G[ku+"Size"][0];
if(G[ku+"Angle"])gA=G[ku+"Angle"][0];if(G[ku+"Dist"])jN=G[ku+"Dist"][0];if(G[ku+"DX"]){var d4=G[ku+"DX"][0],ey=G[ku+"DY"][0];
jN=Math.round(Math.sqrt(d4*d4+ey*ey));gA=Math.round(Math.atan2(ey,-d4)*180/Math.PI)}if(hp.lagl)hp.lagl.v.val=gA;
if(hp.Dstn)hp.Dstn.v.val=jN;if(hp.uglg)hp.uglg.v=!1;if(G[ku+"Invert"])hp.Invr.v=G[ku+"Invert"][0];else if(fm[h]=="satin")hp.Invr.v=!1;
if(G[ku+"Alt"])hp.Lald.v.val=G[ku+"Alt"][0];if(G[ku+"Depth"])hp.srgR.v.val=G[ku+"Depth"][0];if(G[ku+"Choke"])hp.Ckmt.v.val=G[ku+"Choke"][0]}}if(dI)K.add.lmfx=aC}if(b.name)K.v7(b.name);
else if(G&&G.name)K.v7(G.name[0]);w.k.push(K)}function S(b,w,U,F,Y){b.v7("path");b.eW|=16;b.add.vmsk=c(F,Y,U);
var A=b.add.vstk=gD.gB.ow(),G=g.UH.YK({z:0,H:0,c:0});if(U){var n=U.strokeSwatch,E=U.fillSwatch,K=U.basicFeather,e=U.basicFeatherWidth,$=U.strokeWeight;
A.strokeEnabled.v=n!=null;A.fillEnabled.v=E!=null;if(K)b.add.vmsk.p5=e?e[0]:9;if(n){A.strokeStyleLineWidth.v.val=$?$[0]:1;
G=r(n[0]);A.strokeStyleContent.v.Clr.v=G}if(E){G=r(E[0])}}if(G)b.add.SoCo={classID:"null",Clr:{t:"Objc",v:G}};
b.Tr();b.B0(w)}function c(b,w,U){var F=new m.e_,Y=F.X;for(var A=0;A<b.length;A++){var G=b[A],n=G[0].length,E=G[1]==0;
if(n==0)continue;var K=E?0:3;Y.push({e:K,length:n,da:0,ii:2,RO:0,M4:0});for(var h=0;h<n;h++){var e=G[0][h],$=e[0],N=new aG(e[1],e[2]),k=new aG(e[3],e[4]),V=new aG(e[5],e[6]);
if($==0||$==1)Y.push({e:K+2,nQ:N,Z:k,_v:V});else if($==2)Y.push({e:K+2,nQ:N,Z:N,_v:N});else throw $}}g.I.Xi(Y,w);
return F}return v}();function bZ(){}bZ.dV=async function(J,v,x){if(x==null){x=8*1024*1024}var o=await J.slice(v,v+x),R=await o.arrayBuffer();
return new Uint8Array(R)};bZ.anV=function(J,v){var x=J[v],o=x,R=1;while(!(x&128)){++R;x=x<<1&255}x&=127;
x>>>=R-1;for(var h=1;h<R;++h){var r=J[v+h];x*=256;x+=r;o*=256;o+=r}return[x,R,o]};bZ.a$=function(J,v,x){var o=J[v],R=o&128,r=o&127;
for(var h=1;h<x;++h){R*=256;r*=256;r+=J[v+h]}return r-R};bZ.m7=function(J,v,x){var o=J[v];for(var h=1;
h<x;++h){o*=256;o+=J[v+h]}return o};bZ.azc=function(J){var v=1,x=bZ.m7(J,v,1),S="hvc1",b=0,w=!1,U="";
v+=1;var o=x>>6,R=(x&32)>>5,r=x&31,l=bZ.m7(J,v,4);v+=4;var M=J.slice(v,v+6);v+=6;var P=bZ.m7(J,v,1);
S+=".";switch(o){case 0:S+="";break;case 1:S+="A";break;case 2:S+="B";break;case 3:S+="C";break}S+=r;
S+=".";var c=l;for(var h=0;h<32;h++){b|=c&1;if(h==31)break;b<<=1;c>>=1}S+=b.toString(16);S+=".";if(R===0){S+="L"}else{S+="H"}S+=P;
for(h=5;h>=0;h--){if(M[h]||w){U="."+M[h].toString(16)+U;w=!0}}S+=U;return S};bZ.kj=function(J,v){this.p6=!1;
this.xg=J;this.position=0;this.qj=[];this.dw=[];this.Kd=[];this.e7=[];this.gc=!0;this.a5l=0;this.hl=10;
this.CF=6;this.XQ=[];this.jX=-2;this.fR=[];this.AY;this.Xf;this.NZ=v;this.rB;this.Gn;this.alf=-1;this.frames;
this._Q=null;this.Dg=null;this._W=null};bZ.kj.Sl=async function(){if(!this.p6){await this.JG()}return this.DX};
bZ.kj.Zq=function(J){var v=this.dw[this.position],x;if(this.gc&&v==this.a5l)this.gc=!1;if(!this.NZ){if(this.Kd[v]){this.Xf.drawImage(J,0,0);
x=this.Xf.getImageData(0,0,this.DX.Bl.width,this.DX.Bl.height).data}if(this.e7[this.position]==0)J.close()}try{if(this.qj[v]){if(this.NZ){this.qj[v](J)}else if(this.Kd[v]){this.qj[v](x)}}var o=this.position-this.hl;
if(o>=0){var R=this.dw[o];delete this.cH[R];delete this.qj[R];this.Kd[R]=!1}this.position++}catch(gw){console.log(v);
console.log(this.qj[v]);console.log(gw)}};bZ.kj.em=async function(J){if(this.e7[this.position]==0){if(this.NZ){createImageBitmap(J).then(img=>{this.Zq(img)});
J.close()}else{this.Zq(J)}}else{var v=this.e7[this.position];createImageBitmap(J,{resizeWidth:J.akf>>v,resizeHeight:J.a24>>v}).then(img=>{this.Zq(img)});
J.close()}};bZ.kj.KO=async function(J,v,jf=0){if(!this.p6){await this.JG()}if(!this.Dg){await this.anb();
if(this.Dg.state!="configured"){console.log("Could not make decoder.");return}}if(this.rB.length<=J){console.log("Requested track does not exist");
return}var x=this.rB[J],r,l,M;if(v>=this.DX.Bl.pd||v<0){console.log("Requested frame out of range");
return}var o=v;v=this.qA(v);this.Kd[v]=!0;var R=v-this.jX;if(this.gc){R=1;this.a5l=v}if(v!=this.jX+1){l=this.XQ[this.XQ.length-1];
for(var h=0;h<this.XQ.length;++h){if(v<this.XQ[h]){l=this.XQ[h-1];break}}if(l==this.alf){if(v>this.dw[this.dw.length-1]){l=this.dw[this.dw.length-1]+1}else if(this.cH[v.toString()]){l=this.dw[this.dw.length-1]+1}else{for(var h=this.dw.length-this.CF;
h<this.dw.length;++h){if(this.dw[h]==v){l=this.dw[this.dw.length-1]+1;break}}}}else{this.alf=l;for(var h=this.dw.length-this.CF;
h<this.dw.length;++h){if(this.dw[h]==v){l=this.dw[this.dw.length-1]+1;break}}}}else{l=0;if(this.dw.length>0){l=this.dw[this.dw.length-1]+1}}if(l<this.frames){M=Math.min(v+this.CF,this.frames);
for(var h=l;h<M;++h){this.cH[h]=new Promise(function(P,S){r=P});this.qj[h]=r;this.dw.push(h);this.e7.push(jf);
if((h-v)%R==0)this.Kd[h]=!0}this.acW(x,l,M)}this.jX=v;if(this.gc)await new Promise(resolve=>setTimeout(resolve,200));
if(this.gc){this.hl+=10;this.CF+=6;this.KO(J,o+1,jf)}return this.cH[v.toString()]};var dA=function(J){function v(l,M){var P=[];
for(var h=0;h<9;h++){var S=I.m7(l,M+h*4);if(h%3==2)P.push((S>>>30)+(S&1073741823)/1073741823);else P.push((S>>>16)+(S&65535)/65535)}return P}async function x(l,M,P,S,c,b){var w={},U=I.m7,F=I.H1;
if(M==null){M=await bZ.dV(l,P)}var Y=S-P;while(S<c){var A=Y,G=I.m7(M,Y);Y+=4;var n=I.b_(M,Y,4);Y+=4;
if(G==0)G=c-A-P;if(G==1){G=I.Ih(M,Y);Y+=8}var E=A+G,K="".padStart(b,"\t");if(n!="mdat"&&E>M.byteLength){M=await bZ.dV(l,P,E)}var e={};
if(n=="mvhd"){var $=M[Y];if($>1)throw n+"-e";Y+=4;if($==0){e.g5=U(M,Y);Y+=4;e.JT=U(M,Y);Y+=4;e.VK=U(M,Y);
Y+=4;e.duration=U(M,Y);Y+=4}else{e.g5=I.Ih(M,Y);Y+=8;e.JT=I.Ih(M,Y);Y+=8;e.VK=U(M,Y);Y+=4;e.duration=I.Ih(M,Y);
Y+=8}e.rg=U(M,Y);Y+=4;e.volume=F(M,Y);Y+=2;Y+=10;e.ai5=v(M,Y);Y+=4*9;e.a6J=[];for(var h=0;h<6;h++)e.a6J.push(U(M,Y+h*4));
Y+=4*6;e.aH8=U(M,Y);Y+=4}else if(n=="tkhd"){var $=M[Y];if($>1)throw n+"-e";Y+=4;if($==0){e.g5=U(M,Y);
Y+=4;e.JT=U(M,Y);Y+=4;e.ai3=U(M,Y);Y+=4;Y+=4;e.duration=U(M,Y);Y+=4}else{e.g5=I.Ih(M,Y);Y+=8;e.JT=I.Ih(M,Y);
Y+=8;e.ai3=U(M,Y);Y+=4;Y+=4;e.duration=I.Ih(M,Y);Y+=8}Y+=8;e.w=F(M,Y);Y+=2;e.a21=F(M,Y);Y+=2;e.volume=F(M,Y);
Y+=2;Y+=2;e.ai5=v(M,Y);Y+=4*9;e.BK=U(M,Y)>>>16;Y+=4;e.mq=U(M,Y)>>>16;Y+=4}else if(n=="mdhd"){var $=M[Y];
if($>1)throw n+"-e";Y+=4;if($==0){e.g5=U(M,Y);Y+=4;e.JT=U(M,Y);Y+=4;e.VK=U(M,Y);Y+=4;e.duration=U(M,Y);
Y+=4}else{e.g5=I.Ih(M,Y);Y+=8;e.JT=I.Ih(M,Y);Y+=8;e.VK=U(M,Y);Y+=4;e.duration=I.Ih(M,Y);Y+=8}e.lang=F(M,Y);
Y+=2;e.i$=F(M,Y);Y+=2}else if(n=="hdlr"){var N=U(M,Y);Y+=4;if(N!=0)throw N;e.QJ=I.b_(M,Y,4);Y+=4;e.aaL=I.b_(M,Y,4);
Y+=4;e.a4V=U(M,Y);Y+=4;e.eW=U(M,Y);Y+=4;e.a84=U(M,Y);Y+=4;var k=Y;while(M[k]!=0)k++;e.name=I.b_(M,Y,k-Y);
Y+=k-Y+1}else if(n=="stsd"){var N=U(M,Y);Y+=4;if(N!=0)throw N;var V=U(M,Y);Y+=4;if(V!=1)throw V;var X=U(M,Y);
Y+=4;e.Jh=I.b_(M,Y,4);Y+=4;if(e.Jh=="mett"){e.a6y=I.b_(M,Y,E-Y)}else{for(var h=0;h<6;h++)if(M[Y+h]!=0)throw n+"-e";
Y+=6;e.a5E=F(M,Y);Y+=2;e.aq9=F(M,Y);Y+=2;e.aAa=F(M,Y);Y+=2;e.a1t=U(M,Y);Y+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(e.Jh)!=-1){e.aD6=U(M,Y);
Y+=4;e.axt=U(M,Y);Y+=4;e.aqi=[F(M,Y),F(M,Y+2)];Y+=4;e.alW=[U(M,Y)/(1<<16),U(M,Y+4)/(1<<16)];Y+=8;var Q=U(M,Y);
Y+=4;if(Q!=0)throw n+"-e";var L=F(M,Y);Y+=2;if(L!=1)throw n+"-e";var _=M[Y];Y++;e.abh=I.b_(M,Y,_);Y+=31;
e.afa=F(M,Y);Y+=2;var a=F(M,Y);Y+=2;if(a!=65535)throw n+"-e";if(Y!=E)e.om=await x(l,M,P,P+Y,P+E,b+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(e.Jh)!=-1){e.ac=F(M,Y);
Y+=2;e.auq=F(M,Y);Y+=2;var T=F(M,Y);Y+=2;if(T!=0&&T!=65534)throw T;var f=F(M,Y);Y+=2;if(f!=0)throw f;
e.a2X=U(M,Y)/(1<<16);Y+=4;if(Y!=E)e.om=await x(l,M,P,P+Y,P+E,b+1)}else if(e.Jh=="CTMD"){e.K=M.slice(Y,E)}else if(e.Jh=="tx3g"||e.Jh=="text"||e.Jh=="mebx"){}else if(e.Jh=="tmcd"){}else if(e.Jh=="CRAW"){}else if(e.Jh=="sowt"){}else throw JSON.stringify(e.Jh)}}else if(n=="stts"||n=="stsz"||n=="stco"||n=="stsc"||n=="ctts"||n=="elst"){var N=U(M,Y),Z=0,C=0;
Y+=4;if(n=="stsz"){Z=U(M,Y);Y+=4}var W=U(M,Y)*(n=="stsc"||n=="elst"?3:n=="stts"||n=="ctts"?2:1);Y+=4;
e=[];for(var h=0;h<W;h++){if(Z!=0)e.push(Z);else{if(n=="elst"){if(h%3==2){var D=U(M,Y);D*=1/(1<<16);
e.push(D)}else e.push(I.a$(M,Y))}else e.push(U(M,Y));Y+=4}}for(var h=0;h<W;h++)C+=e[h]}else if(n=="co64"){var N=U(M,Y);
Y+=4;if(N!=0)throw N;var W=U(M,Y);Y+=4;e=[];for(var h=0;h<W;h++){e.push(I.Ih(M,Y));Y+=8}}else if(n=="iinf"){e=[];
Y+=2;var d=U(M,Y);Y+=4;for(var h=0;h<d;h++){var p=U(M,Y),y=I.b_(M,Y+4,4),i=F(M,Y+12),t=I.b_(M,Y+16,4),A=[y,i,t];
e.push(A);if(p>21)A.push(I.b_(M,Y+21,p-22));Y+=p}}else if("moov trak mdia minf dinf stbl uuid edts meta iprp".split(" ").indexOf(n)!=-1){if(n=="uuid")Y+=16;
if(n=="meta")Y+=4;e=await x(l,M,P,P+Y,P+E,b+1)}else if(n=="CMT1"||n=="CMT2"||n=="CMT3"||n=="CMT4"){e=UTIF.decode(M.slice(Y,E))}else if(n=="stss"){e.V=Y+P;
e.AN=G;e.agB=U(M,Y+4)}else{e.V=Y+P;e.AN=G}Y=E;if(n=="trak"||n=="free"||n=="uuid"){if(w[n]==null)w[n]=[];
w[n].push(e)}else{if(w[n]!=null)throw n;w[n]=e}S=Y+P;if(Y>=M.byteLength){P+=Y;Y=0;M=await bZ.dV(l,P)}}return w}async function o(l){return await x(l,null,0,0,l.size,0)}function R(l,M){var P=l.mdia.minf.stbl,S=P.stsc,c=0,b=0;
for(var h=0;h<S.length;h+=3){var w=(h+3<S.length?S[h+3]:1e4)-S[h],U=b+w*S[h+1];if(b<=M&&M<U){while(b+S[h+1]<=M){c++;
b+=S[h+1]}break}c+=w;b=U}var F=P.stco;if(F==null)F=P.co64;var Y=F[c];while(b<M){Y+=P.stsz[b];b++}return[Y,P.stsz[M]]}function r(l,M){var P=l.moov.trak,S=[];
for(var h=0;h<P.length;h++){if(P[h].mdia.hdlr.aaL==M){S.push(P[h])}}return S}return{KE:o,t4:R,getTracks:r}}();
function ci(J,v){bZ.kj.call(this,J,v);this.Sl=bZ.kj.Sl;this.Zq=bZ.kj.Zq;this.em=bZ.kj.em;this.KO=bZ.kj.KO;
this.r3;this.ab5=0;this.k8=0;this.Hx=0;this.rE=null}ci.prototype.hL=function(J){this.fR.push(J)};ci.prototype.afq=function(J,h){var v=0,x=J.getUint8(h,!1);
h+=1;v=x&127;var o=x>>7;while(o==1){x=J.getUint8(h,!1);h+=1;o=x>>7;var R=x&127;v=v<<7|R}return[v,h]};
ci.prototype.abL=function(J){this.RY={};var v=new DataView(J.buffer),h=4;h+=4;while(h<v.byteLength){var x=v.getUint8(h,!1);
h+=1;var o=this.afq(v,h),R=o[0];h=o[1];if(x==3){h+=2;h+=1}else if(x==4){this.RY.objectType=v.getUint8(h,!1);
h+=1;this.RY.streamType=v.getUint8(h,!1)>>2;h+=1;h+=3;this.RY.maxBitrate=v.getUint32(h,!1);h+=4;this.RY.avgBitrate=v.getUint32(h,!1);
h+=4}else if(x==5){this.RY.decoderSpecificInfo=J.slice(h,h+R);h+=R}else{h+=R}}};ci.prototype.ayg=function(J){var v=null,r=0;
if(J.a1c){if(J.edts.alE)v=J.edts.alE}if(v==null){this._Q=this.frames;return}var x=this.B$.moov.mvhd.VK,o=J.mdia.mdhd.VK,R=J.mdia.mdhd.duration*1e3/o/this.sX.stsz.length;
this.rE=[];for(var h=0;h<v.length;h+=3){var l;if(v[h+1]==-1)l=-1;else l=v[h+1]*1e3/R/o;var kk=v[h]*1e3/R/x;
this.rE.push(r);this.rE.push(Math.floor(l));this.rE.push(v[h+2]);r+=Math.floor(kk)}this._Q=r;if(this.qA(this._Q-1)>this.frames-1)this._Q--;
if((r+1)*R<J.tkhd.duration*1e3/x){this.rE.push(r);this.rE.push(0);this.rE.push(1);this._Q=Math.floor(J.tkhd.duration*1e3/x/R)}};
ci.prototype.qA=function(J){if(this.rE){for(var h=this.rE.length-3;h>=0;h-=3){if(J>=this.rE[h]){if(this.rE[h+1]==-1)J=this.jX;
else if(this.rE[h+2]==0)J=this.rE[h+1];else J=J-this.rE[h]+this.rE[h+1];break}}}return J};ci.prototype.anb=async function(){this.Dg=new VideoDecoder({output:b5=>this.em(b5),error:function(o){console.log(o.message)}});
var J=this.sX.stsd.Jh;if(J=="avc1"){this.NU=this.sX.stsd.om.avcC;var v={codec:"avc1.640034"};v.description=new Uint8Array(await this.xg.slice(this.NU.V,this.NU.V+this.NU.AN).arrayBuffer());
this.Dg.configure(v)}else if(J=="hev1"||J=="hvc1"){var v={};this.BH=this.sX.stsd.om.hvcC;v.description=new Uint8Array(await this.xg.slice(this.BH.V,this.BH.V+this.BH.AN).arrayBuffer());
var x=bZ.azc(v.description);v.codec=x;v.codedWidth=this.DX.Bl.width;v.codedHeight=this.DX.Bl.height;
this.Dg.configure(v)}else{var v={codec:"vp09.00.10.08"};this.Dg.configure(v)}};ci.prototype.auZ=async function(){this._W=new AudioDecoder({output:b5=>this.hL(b5),error:function(J){console.log(J)}});
console.assert(await AudioDecoder.isConfigSupported(this.uN));this._W.configure(this.uN)};ci.prototype.JG=async function(){this.B$=await dA.KE(this.xg);
this.afV={};this.cH={};this.rB=dA.getTracks(this.B$,"vide");var J=!0,P=!0;if(this.rB.length>0){var v=this.rB[0],x=v.tkhd;
this.sX=v.mdia.minf.stbl;var o=this.sX.stsd.Jh;if(o=="avc1"||o=="vp09"||o=="hvc1"||o=="hev1"){if(o=="avc1"&&!this.sX.stsd.om.avcC||(o=="hvc1"||o=="hev1")&&!this.sX.stsd.om.hvcC){console.log(o+" video codec not supported (avcC missing).");
J=!1}else{await this.ait(this.sX.stss.V+8,this.sX.stss.AN-8);for(var h=0;h<this.axx.byteLength;h+=4){var R=this.axx.getUint32(h,!1)-1;
this.XQ.push(R)}var r=v.mdia.mdhd.VK,l=v.mdia.mdhd.duration/r;this.frames=this.sX.stsz.length;var M=this.frames/l;
this.ayg(v)}}else{console.log(o+" video codec not supported.");J=!1}}this.Gn=dA.getTracks(this.B$,"soun");
if(this.Gn.length>0){var S=this.Gn[0],c=S.mdia.minf.stbl,b,w=c.stsd.ac;if(c.stsd.Jh=="mp4a"){if(c.stsd.om.esds){this.a67=c.stsz.length;
var U=c.stsd.om.esds.V,F=c.stsd.om.esds.AN,Y=await this.xg.slice(U-4,U+F+4),A=await Y.arrayBuffer(),G=new Uint8Array(A),n=null;
this.abL(G);b="mp4a.";if(this.RY.objectType==64){b+=this.RY.objectType.toString(16);b+=".";b+=(this.RY.decoderSpecificInfo[0]>>3).toString();
n=this.RY.decoderSpecificInfo}else{b+=this.RY.objectType.toString(16).toUpperCase()}if(n){var E=n[0]>>3;
if(E==31){var K=(n[0]&7)<<3|n[1]>>5;E=32+K;var e=n[1]&31>>1;if(e==15){w=(n[4]&1)<<3|n[5]>>5}else{w=(n[1]&1)<<3|n[2]>>5}}else{var e=(n[0]&7)<<1|n[1]>>7;
if(e==15){w=(n[4]&127)>>3}else{w=(n[1]&127)>>3}}}this.uN={codec:b,numberOfChannels:w,sampleRate:c.stsd.a2X};
if(n){this.uN.description=n}}else{console.log("Audio codec not supported.");P=!1}}else{console.log("Audio codec not supported.");
P=!1}}this.DX={};if(J&&this.rB.length>0){this.DX.Bl={rB:1,pd:this._Q,rg:M,width:x.BK,height:x.mq}}if(P&&this.Gn.length>0){this.DX.o5={rB:w,rg:c.stsd.a2X,pd:S.mdia.mdhd.duration}}if(!this.NZ){this.AY=new OffscreenCanvas(this.DX.Bl.width,this.DX.Bl.height);
this.Xf=this.AY.getContext("2d",{aEE:!0});this.hl=10;this.CF=6}this.p6=!0};ci.prototype.ait=async function(J,v){this.adg=await this.xg.slice(J,J+v).arrayBuffer();
this.axx=new DataView(this.adg)};ci.prototype.Hl=async function(J,v){var x=Math.min(v+250,this.frames-1),o=dA.t4(J,v),R=dA.t4(J,x),r=await this.xg.slice(o[0],R[0]+R[1]),l=await r.arrayBuffer();
this.r3=new Uint8Array(l);this.ab5=v;this.k8=x;this.Hx=o[0];return};ci.prototype.acW=async function(J,v,x){if(v>=this.k8||x<this.ab5){await this.Hl(J,v)}for(var h=v;
h<x;++h){if(h>=this.k8){await this.Hl(J,h)}var o=this.XQ.indexOf(h),R=dA.t4(J,h),r=this.r3.slice(R[0]-this.Hx,R[0]+R[1]-this.Hx),l=new EncodedVideoChunk({timestamp:h,duration:1e3,type:o!=-1?"key":"delta",data:r});
if(this.Dg.state=="configured"){try{this.Dg.decode(l)}catch(x){console.log("CAUGHT unconfigured");console.log(x);
console.log(l)}}else{console.log("unconfigured");delete r}delete r}if(x==this.frames){await this.Dg.flush()}};
ci.prototype.akQ=async function(J,v,x){if(!this._W){await this.auZ()}if(this.Gn.length<=J){console.log("Requested audio track does not exist");
return}var o=this.Gn[J],R=o.mdia.minf.stbl.stts,r=null,l=null,M=0,P=0;for(var h=0;h<R.length;h+=2){if(r==null&&M+R[h]*R[h+1]>=v){r=Math.ceil(P+(v-M)/R[h+1])}if(l==null&&M+R[h]*R[h+1]>=x){l=Math.ceil(P+(x-M)/R[h+1])}if(r&&l){break}M+=R[h]*R[h+1];
P+=R[h]}var S=dA.t4(o,r),c=dA.t4(o,l),b=await this.xg.slice(S[0],c[0]+c[1]),w=await b.arrayBuffer(),U=new Uint8Array(w);
for(var h=r;h<l;++h){var F=dA.t4(o,h),Y=U.slice(F[0]-S[0],F[0]+F[1]-S[0]),A=new EncodedAudioChunk({timestamp:h,duration:1e3,type:"key",data:Y});
try{this._W.decode(A)}catch(gw){console.log("Error decoding audioframe "+h.toString()+". "+gw.message)}}try{await this._W.flush()}catch(gw){console.log("CAUGHT flush, but returning");
return this.fR}return this.fR};function c2(J,v,x){this.DX=v;this.bP=J;this.aA$=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.apz=40;this.BK,this.mq;this.PC;this.h$;this.iW;this.ajk;this.description;this.Pw;this.QP;this.aM;
this.re;this.d1;this.wd;this.ar=x;this.ce;this.vT;this.Wu;this.aur;this.Bw;if(this.DX.Bl){this.ac3()}if(this.DX.o5){this.ak3()}}c2.prototype.aBS=function(J){return new Uint8Array([J.charCodeAt(0),J.charCodeAt(1),J.charCodeAt(2),J.charCodeAt(3)]).buffer};
c2.prototype.alb=function(J){var v=new Uint32Array([J]),x=new Uint8Array(v.buffer);return new Uint8Array([x[3],x[2],x[1],x[0]])};
c2.prototype.ay=function(J){this.Wu[this.vT]=J;++this.vT};c2.prototype.OO=function(J){this.Wu[this.vT]=J>>8&255;
this.Wu[this.vT+1]=J&255;this.vT+=2};c2.prototype.ajp=function(J){this.Wu[this.vT]=J>>16&255;this.Wu[this.vT+1]=J>>8&255;
this.Wu[this.vT+2]=J&255;this.vT+=3};c2.prototype.VN=function(J){this.Wu[this.vT]=J>>24&255;this.Wu[this.vT+1]=J>>16&255;
this.Wu[this.vT+2]=J>>8&255;this.Wu[this.vT+3]=J&255;this.vT+=4};c2.prototype.nr=function(J){this.ce.push(this.vT);
this.vT+=4;this.hv(J)};c2.prototype.hv=function(J){for(var h=0;h<J.length;++h){this.Wu[this.vT]=J.charCodeAt(h);
++this.vT}};c2.prototype.ata=function(J){this.Wu.set(new Uint8Array(J),this.vT);this.vT+=J.byteLength};
c2.prototype.qD=function(){var J=this.vT;this.vT=this.ce.pop();this.VN(J-this.vT);this.vT=J};c2.prototype.a1N=function(J,v){if(!this.description&&v){if(v.description){this.description=v.description}if(v.decoderConfig&&v.decoderConfig.description){this.description=v.decoderConfig.description}}var x=new ArrayBuffer(J.byteLength);
J.copyTo(x);this.d$(x);this.PC.push({duration:J.duration,timestamp:J.timestamp,type:J.type,byteLength:J.byteLength});
if(J.type=="key"){this.iW.push(this.PC.length)}};c2.prototype.hL=function(J,v){if(!this.Pw&&v){if(v.decoderConfig){this.Pw=v.decoderConfig}}var x=new ArrayBuffer(J.byteLength);
J.copyTo(x);this.aIC(x);this.h$.push({duration:J.duration,timestamp:J.timestamp,type:J.type,byteLength:J.byteLength});
if(J.type=="key"){this.ajk.push(this.h$.length)}};c2.prototype.d$=function(J){var v=new Uint8Array(this.QP.byteLength+J.byteLength);
v.set(new Uint8Array(this.QP));v.set(new Uint8Array(J),this.QP.byteLength);this.QP=v.buffer;if(this.QP.byteLength>20*1024*1024){this.bP.write(this.QP);
this.QP=new Uint8Array}};c2.prototype.aIC=function(J){var v=new Uint8Array(this.aM.byteLength+J.byteLength);
v.set(new Uint8Array(this.aM));v.set(new Uint8Array(J),this.aM.byteLength);this.aM=v.buffer};c2.prototype.a8Y=function(){this.ce=[];
var J=this.apz,v=[],x={},o=9e4,R=this.PC.length,r=this.iW.length,l=-1,P=!1,F=1;for(var h=0;h<this.PC.length;
++h){this.re+=this.PC[h].duration/1e3;this.wd+=this.PC[h].byteLength;if(this.PC[h].duration!=l){if(h!=0){v.push(x)}l=this.PC[h].duration;
x={duration:9e4*this.PC[h].duration/1e6,sampleCount:1}}else{x.sampleCount=x.sampleCount+1}}this.wd+=8;
v.push(x);var M=v.length;if(this.DX.o5){P=!0}if(P){var S=[],c=this.h$.length;this.d1=0;var b=this.Pw.sampleRate,l=-1;
for(var h=0;h<this.h$.length;++h){this.d1+=this.h$[h].duration/1e3;this.wd+=this.h$[h].byteLength;var w=Math.round(b*this.h$[h].duration/1e6);
if(w!=l){if(h!=0){S.push(x)}l=w;x={duration:w,sampleCount:1}}else{x.sampleCount=x.sampleCount+1}}S.push(x);
var U=S.length}var Y=579+this.description.byteLength+4*R+4*R+4*r+8*M;if(P){Y+=426+this.Pw.description.byteLength+4*c+4*c+8*M;
F=2}this.Wu=new Uint8Array(Y);this.vT=0;this.nr("moov");this.nr("mvhd");this.VN(0);this.VN(0);this.VN(0);
this.VN(1e3);this.VN(this.re);this.VN(65536);this.OO(256);this.OO(0);this.VN(0);this.VN(0);this.VN(65536);
this.VN(0);this.VN(0);this.VN(0);this.VN(65536);this.VN(0);this.VN(0);this.VN(0);this.VN(1073741824);
this.VN(0);this.VN(0);this.VN(0);this.VN(0);this.VN(0);this.VN(0);this.VN(2);this.qD();for(var A=0;A<F;
++A){this.nr("trak");this.nr("tkhd");this.VN(7);this.VN(0);this.VN(0);this.VN(1);this.VN(0);if(A==1)this.VN(this.d1);
else this.VN(this.re);this.VN(0);this.VN(0);this.OO(0);this.OO(0);this.OO(256);this.OO(0);if(A==1){this.VN(1);
this.VN(0);this.VN(0);this.VN(0);this.VN(1);this.VN(0);this.VN(0);this.VN(0);this.VN(1);this.VN(this.BK*0);
this.VN(this.mq*0)}else{this.VN(65536);this.VN(0);this.VN(0);this.VN(0);this.VN(65536);this.VN(0);this.VN(0);
this.VN(0);this.VN(1073741824);this.VN(this.BK*65536);this.VN(this.mq*65536)}this.qD();this.nr("mdia");
this.nr("mdhd");this.VN(0);this.VN(0);this.VN(0);if(A==1){this.VN(this.Pw.sampleRate);this.VN(this.d1/1e3*this.Pw.sampleRate)}else{this.VN(o);
this.VN(this.re/1e3*o)}this.ay(85);this.ay(196);this.OO(0);this.qD();this.nr("hdlr");this.VN(0);this.VN(0);
if(A==1){this.hv("soun");this.VN(0);this.VN(0);this.VN(0);this.hv("SoundHandler");this.ay(0)}else{this.hv("vide");
this.VN(0);this.VN(0);this.VN(0);this.hv("VideoHandler");this.ay(0)}this.qD();this.nr("minf");if(A==1){this.nr("smhd");
this.VN(0);this.OO(0);this.OO(0);this.qD()}else{this.nr("vmhd");this.VN(1);this.OO(0);this.OO(0);this.OO(0);
this.OO(0);this.qD()}this.nr("dinf");this.nr("dref");this.VN(0);this.VN(1);this.nr("url ");this.VN(1);
this.qD();this.qD();this.qD();if(A==1){this.nr("stbl");this.nr("stsd");this.VN(0);this.VN(1);this.nr("mp4a");
this.OO(0);this.OO(0);this.OO(0);this.OO(1);this.VN(0);this.VN(0);this.OO(this.Pw.numberOfChannels);
this.OO(16);this.OO(0);this.OO(0);this.OO(this.Pw.sampleRate);this.OO(0);this.nr("esds");this.VN(0);
this.ay(3);this.ay(25);this.OO(0);this.ay(0);this.ay(4);this.ay(17);this.ay(64);this.ay(21);this.ajp(0);
this.VN(16e4);this.VN(16e4);this.ay(5);this.ay(2);this.ata(this.Pw.description);this.ay(6);this.ay(1);
this.ay(2);this.qD();this.qD();this.qD();this.nr("stts");this.VN(0);this.VN(U);for(var h=0;h<U;++h){this.VN(S[h].sampleCount);
this.VN(S[h].duration)}this.qD();this.nr("stsc");this.VN(0);this.VN(1);this.VN(1);this.VN(1);this.VN(1);
this.qD();this.nr("stsz");this.VN(0);this.VN(0);this.VN(c);for(var h=0;h<c;++h){this.VN(this.h$[h].byteLength)}this.qD();
this.nr("stco");this.VN(0);this.VN(c);for(var h=0;h<c;++h){this.VN(J);J+=this.h$[h].byteLength}this.qD();
this.qD()}else{this.nr("stbl");this.nr("stsd");this.VN(0);this.VN(1);this.nr("avc1");this.OO(0);this.OO(0);
this.OO(0);this.OO(1);this.OO(0);this.OO(0);this.VN(0);this.VN(0);this.VN(0);this.OO(this.BK);this.OO(this.mq);
this.VN(4718592);this.VN(4718592);this.VN(0);this.OO(1);for(var h=0;h<8;++h){this.VN(0)}this.OO(24);
this.OO(-1);this.nr("avcC");this.ata(this.description);this.qD();this.qD();this.qD();this.nr("stts");
this.VN(0);this.VN(M);for(var h=0;h<M;++h){this.VN(v[h].sampleCount);this.VN(v[h].duration)}this.qD();
this.nr("stsc");this.VN(0);this.VN(1);this.VN(1);this.VN(1);this.VN(1);this.qD();this.nr("stsz");this.VN(0);
this.VN(0);this.VN(R);for(var h=0;h<R;++h){this.VN(this.PC[h].byteLength)}this.qD();this.nr("stco");
this.VN(0);this.VN(R);for(var h=0;h<R;++h){this.VN(J);J+=this.PC[h].byteLength}this.qD();this.nr("stss");
this.VN(0);this.VN(r);for(var h=0;h<r;++h){this.VN(this.iW[h])}this.qD();this.qD()}this.qD();this.qD();
this.qD()}this.qD();return};c2.prototype.a0O=async function(J){console.assert(await VideoEncoder.isConfigSupported(J))};
c2.prototype.ac3=function(){var J=Date.now(),v=this.DX.Bl.width,x=this.DX.Bl.height;this.BK=v;this.mq=x;
this.description=null;this.iW=[];this.PC=[];this.re=0;this.wd=0;this.QP=new Uint8Array;this.d$(new Uint8Array(this.aA$));
this.d$(this.alb(0).buffer);this.d$(this.aBS("mdat"));this.B3=new VideoEncoder({output:(chunk,opts)=>this.a1N(chunk,opts),error:gw=>{console.log(gw)}});
var o=this.ar*this.BK*this.mq,R=o*this.DX.Bl.pd,r=Math.round(o*24),l={width:this.BK,height:this.mq,codec:"avc1.420034",bitrate:r,acceleration:"prefer-hardware"};
this.a0O(l);this.B3.configure(l);this.Bw=0};c2.prototype.avM=async function(J){console.assert(await AudioDecoder.aI9(J))};
c2.prototype.ak3=function(){this.aM=new Uint8Array;this.Pw=null;this.ajk=[];this.h$=[];var J={codec:"mp4a.40.2",numberOfChannels:this.DX.o5.rB,sampleRate:this.DX.o5.rg,bitrate:16e4};
this.rZ=new AudioEncoder({output:(b5,f6)=>this.hL(b5,f6),error:function(v){console.log(v)}});this.avM(J);
this.rZ.configure(J)};c2.prototype.Sl=function(){return this.DX};c2.prototype.aao=async function(J,v,x){var o=J,R=1e6/this.DX.Bl.rg;
if(x%50==0){console.log(Math.round(x/this.DX.Bl.pd*100).toString()+"%")}var r=new VideoFrame(o.buffer,{timestamp:this.Bw,duration:R,format:"RGBA",codedWidth:this.BK,codedHeight:this.mq});
this.B3.encode(r);r.close();this.Bw+=R;delete o;delete J;delete r};c2.prototype.a5t=async function(J,v,x,o){for(var h=0;
h<J.length;++h){this.rZ.encode(J[h])}};c2.prototype.finish=async function(){if(this.DX.Bl){await this.B3.flush()}if(this.DX.o5){await this.rZ.flush()}this.a8Y();
this.bP.write(this.QP);if(this.DX.o5){this.bP.write(this.aM)}this.bP.write(this.Wu);this.bP.write({e:"write",data:this.alb(this.wd),position:this.apz-8});
return this.bP.close()};var fN=function(J){var v=[[21,73,169,102],[22,84,174,107],[17,77,155,116],[28,83,187,107],[31,67,182,117],[18,84,195,103]],x="KaxInfo KaxTracks KaxSeekHead KaxCues KaxCluster KaxTags".split(" "),o=!1,R=bZ.anV,r=bZ.m7,l=bZ.a$;
function M(Y){for(var h=0;h<v.length;++h){var A=!0;for(var G=0;G<v[h].length;++G){if(Y[G]!=v[h][G]){A=!1;
break}}if(A==!0){return x[h]}}}async function P(Y,A,G,n){if(A==null||n<G||n>=G+A.byteLength){A=await bZ.dV(Y,n);
G=n;n=0}else{n-=G;var E=n,K=R(A,n),e=K[2];n+=K[1];K=R(A,n);var $=K[0];n+=K[1];if(n+$>A.byteLength){A=await bZ.dV(Y,G+E,$+n-E);
G+=E;n=0}else{n=E}}return[A,G,n]}async function S(Y,A,G,n,E){var K=E.R7.CueClusterPosition,L=!1;K+=A.Segment.b$;
var e=await P(Y,G,n,K);G=e[0];n=e[1];K=e[2];if(G.length==0)return{UK:0,data:G,start:n,b3:null};var $=R(G,K),N=$[2];
K+=$[1];$=R(G,K);var k=$[0];K+=$[1];var V=K;$=R(G,V);N=$[2];V+=$[1];$=R(G,V);k=$[0];V+=$[1];var X=fN.si[N];
if(X.h=="CRC-32"){V+=k;$=R(G,V);N=$[2];V+=$[1];$=R(G,V);k=$[0];V+=$[1]}var Q=r(G,V,k);if(E.R7.CueRelativePosition){K+=E.R7.CueRelativePosition;
$=R(G,K);N=$[2];K+=$[1];$=R(G,K);k=$[0];K+=$[1];if(X.h=="BlockGroup"){L=!0}return{UK:n+K+k,data:G,start:n,b3:U(G.slice(K,K+k),L),timeStamp:Q}}else{var _=0;
if(E.R7.CueBlockNumber){_=E.R7.CueBlockNumber-1;if(A.Segment.Info.MuxingApp.toLowerCase().includes("yamka")){_++}}k=0;
do{K+=k;$=R(G,K);N=$[2];K+=$[1];$=R(G,K);k=$[0];K+=$[1];X=fN.si[N]}while(X.h!="SimpleBlock"&&X.h!="BlockGroup");
for(var h=0;h<_;++h){K+=k;$=R(G,K);N=$[2];K+=$[1];$=R(G,K);k=$[0];K+=$[1]}X=fN.si[N];if(X.h=="BlockGroup"){L=!0}return{UK:n+K+k,data:G,start:n,b3:U(G.slice(K,K+k),L),timeStamp:Q}}}async function c(Y,A,G,n){var E=null,K=await P(Y,A,G,n),X=!1;
A=K[0];G=K[1];n=K[2];if(A.length==0)return{UK:0,data:A,start:G,b3:null};var e=R(A,n),$=e[2];n+=e[1];
e=R(A,n);var N=e[0];n+=e[1];var k=fN.si[$];if(k.h!="SimpleBlock"&&k.h!="BlockGroup"){var V="SeekHead Tags Void Info Tracks Attachments Chapters Tags Cues".split(" ");
if(V.indexOf(k.h)==-1){do{if(k.h=="Cluster"){N=0}n+=N;K=await P(Y,A,G,G+n);A=K[0];G=K[1];n=K[2];if(A.length==0)return{UK:0,data:A,start:G,b3:null};
e=R(A,n);$=e[2];n+=e[1];e=R(A,n);N=e[0];n+=e[1];k=fN.si[$];if(k.h=="Timestamp"){E=r(A,n,N)}}while(k.h!="SimpleBlock"&&k.h!="BlockGroup")}else return{UK:0,data:A,start:G,b3:null}}if(k.h=="BlockGroup"){X=!0}return{UK:G+n+N,data:A,start:G,b3:U(A.slice(n,n+N),X),timeStamp:E}}async function b(Y,A,G,n,E){var K={},e=n-G;
if(A==null){A=await bZ.dV(Y,e);G=e;e=0}while(e+G<E&&!o){var $,N=e+G,k=R(A,e),V=k[2];e+=k[1];k=R(A,e);
var X=k[0];e+=k[1];var Q=fN.si[V];if(!Q){throw"Unknown EBML element "+V.toString(16)}var L=Q.h,_=e+X,a=e+G;
if(_>A.byteLength&&L!="Segment"){A=await bZ.dV(Y,G,_)}if(Q.t=="m"&&L=="Cluster"){o=!0;return[e,K]}if(Q.t=="m"){var T=await b(Y,A,G,G+e,G+_);
e=T[0];T[1].V=N;T[1].b$=a;if(Q.D==1){if(K[L]==null){K[L]=[]}K[L].push(T[1])}else{K[L]=T[1]}if(o){break}}else{if(Q.t=="8"){$=I.Aq(A,e,X)}else if(Q.t=="s"){$=I.b_(A,e,X)}else if(Q.t=="b"){$=I.Ms(A,e,X)}else if(Q.t=="u"){$=r(A,e,X)}else if(Q.t=="i"){$=l(A,e,X)}else if(Q.t=="f"){if(X==4){$=I.Ll(A,e)}else if(X==8){$=I.gM(A,e)}else throw"Cannot read float of size "+X.toString()}else if(Q.t=="d"){var f=r(A,e,X);
f*=1e-6;f+=new Date(2001,1,1).valueOf()-new Date(1970,1,1).valueOf();$=new Date(f)}else{$=X}e+=X;if(Q.h=="SeekID"){var Z=M($);
$=Z}if(Q.D==1){if(K[L]==null){K[L]=[]}K[L].push($)}else{K[L]=$}}if(e+G<E&&e>=A.byteLength){G+=e;e=0;
A=await bZ.dV(Y,G)}}return[e,K]}function w(Y,A){var G=Y.Segment.Tracks.TrackEntry,n=[];for(var h=0;h<G.length;
++h){var E=G[h];if(E.TrackType==A){n.push(E)}}return n}function U(Y,A){var G,n,E,K=0;if(A){G=R(Y,K);
var e=G[2];K+=G[1];G=R(Y,K);var $=G[0];K+=G[1];n=K+$}G=R(Y,K);K+=G[1];var N=G[0],k=l(Y,K,2);K+=2;var V=Y[K],X=V>>>7;
K+=1;if(A){E=Y.slice(K,n)}else{E=Y.slice(K)}return[N,k,X,E]}async function F(Y){var A=await b(Y,null,0,0,Y.size);
o=!1;var G=A[1];if(G.Segment.SeekHead){var n=G.Segment.SeekHead;for(var h=0;h<n.length;++h){if(n[h].Seek){for(var E=0;
E<n[h].Seek.length;++E){if(n[h].Seek[E].SeekID=="KaxSeekHead"){var K=n[h].Seek[E].SeekPosition+G.Segment.b$;
A=await b(Y,null,0,K,Y.size);o=!1;G.Segment.SeekHead.push(A[1])}else if(n[h].Seek[E].SeekID=="KaxCues"){if(!G.Segment.Cues){K=n[h].Seek[E].SeekPosition+G.Segment.b$;
A=await b(Y,null,0,K,Y.size);o=!1;G.Segment.Cues=A[1].Cues}}}}}}else{console.log("No seek heads parsed, WIP, not implemented yet.")}return G}return{KE:F,getTracks:w,OB:c,ZJ:S}}();
fN.si={440786851:{h:"EBML",t:"m",D:0},17030:{h:"EBMLVersion",t:"u",D:0},17143:{h:"EBMLReadVersion",t:"u",D:0},17026:{h:"DocType",t:"s",D:0},17031:{h:"DocTypeVersion",t:"u",D:0},17029:{h:"DocTypeReadVersion",t:"u",D:0},17028:{h:"DocTypeExtensionVersion",t:"u",D:0},191:{h:"CRC-32",t:"b",D:0},236:{h:"Void",t:"b",D:1},17138:{h:"EBMLMaxIDLength",t:"u",D:0},17139:{h:"EBMLMaxSizeLength",t:"u",D:0},408125543:{h:"Segment",t:"m",D:0},290298740:{h:"SeekHead",t:"m",D:1},19899:{h:"Seek",t:"m",D:1},21419:{h:"SeekID",t:"b",D:0},21420:{h:"SeekPosition",t:"u",D:0},357149030:{h:"Info",t:"m",D:0},29604:{h:"SegmentUUID",t:"b",D:0},29572:{h:"SegmentFilename",t:"8",D:0},3979555:{h:"PrevUUID",t:"b",D:0},3965867:{h:"PrevFilename",t:"8",D:0},4110627:{h:"NextUUID",t:"b",D:0},4096955:{h:"NextFilename",t:"8",D:0},17476:{h:"SegmentFamily",t:"b",D:1},26916:{h:"ChapterTranslate",t:"m",D:1},27045:{h:"ChapterTranslateID",t:"b",D:0},27071:{h:"ChapterTranslateCodec",t:"u",D:0},27132:{h:"ChapterTranslateEditionUID",t:"u",D:1},2807729:{h:"TimestampScale",t:"u",D:0},17545:{h:"Duration",t:"f",D:0},17505:{h:"DateUTC",t:"d",D:0},31657:{h:"Title",t:"8",D:0},19840:{h:"MuxingApp",t:"8",D:0},22337:{h:"WritingApp",t:"8",D:0},524531317:{h:"Cluster",t:"m",D:1},231:{h:"Timestamp",t:"u",D:0},22612:{h:"SilentTracks",t:"m",D:0},22743:{h:"SilentTrackNumber",t:"u",D:1},167:{h:"Position",t:"u",D:0},171:{h:"PrevSize",t:"u",D:0},163:{h:"SimpleBlock",t:"b",D:1},160:{h:"BlockGroup",t:"m",D:1},161:{h:"Block",t:"b",D:0},162:{h:"BlockVirtual",t:"b",D:0},30113:{h:"BlockAdditions",t:"m",D:0},166:{h:"BlockMore",t:"m",D:1},165:{h:"BlockAdditional",t:"b",D:0},238:{h:"BlockAddID",t:"u",D:0},155:{h:"BlockDuration",t:"u",D:0},250:{h:"ReferencePriority",t:"u",D:0},251:{h:"ReferenceBlock",t:"i",D:1},253:{h:"ReferenceVirtual",t:"i",D:0},164:{h:"CodecState",t:"b",D:0},30114:{h:"DiscardPadding",t:"i",D:0},142:{h:"Slices",t:"m",D:0},232:{h:"TimeSlice",t:"m",D:1},204:{h:"LaceNumber",t:"u",D:0},205:{h:"FrameNumber",t:"u",D:0},203:{h:"BlockAdditionID",t:"u",D:0},206:{h:"Delay",t:"u",D:0},207:{h:"SliceDuration",t:"u",D:0},200:{h:"ReferenceFrame",t:"m",D:0},201:{h:"ReferenceOffset",t:"u",D:0},202:{h:"ReferenceTimestamp",t:"u",D:0},175:{h:"EncryptedBlock",t:"b",D:1},374648427:{h:"Tracks",t:"m",D:0},174:{h:"TrackEntry",t:"m",D:1},215:{h:"TrackNumber",t:"u",D:0},29637:{h:"TrackUID",t:"u",D:0},131:{h:"TrackType",t:"u",D:0},185:{h:"FlagEnabled",t:"u",D:0},136:{h:"FlagDefault",t:"u",D:0},21930:{h:"FlagForced",t:"u",D:0},21931:{h:"FlagHearingImpaired",t:"u",D:0},21932:{h:"FlagVisualImpaired",t:"u",D:0},21933:{h:"FlagTextDescriptions",t:"u",D:0},21934:{h:"FlagOriginal",t:"u",D:0},21935:{h:"FlagCommentary",t:"u",D:0},156:{h:"FlagLacing",t:"u",D:0},28135:{h:"MinCache",t:"u",D:0},28152:{h:"MaxCache",t:"u",D:0},2352003:{h:"DefaultDuration",t:"u",D:0},2313850:{h:"DefaultDecodedFieldDuration",t:"u",D:0},2306383:{h:"TrackTimestampScale",t:"f",D:0},21375:{h:"TrackOffset",t:"i",D:0},21998:{h:"MaxBlockAdditionID",t:"u",D:0},16868:{h:"BlockAdditionMapping",t:"m",D:1},16880:{h:"BlockAddIDValue",t:"u",D:0},16804:{h:"BlockAddIDName",t:"s",D:0},16871:{h:"BlockAddIDType",t:"u",D:0},16877:{h:"BlockAddIDExtraData",t:"b",D:0},21358:{h:"Name",t:"8",D:0},2274716:{h:"Language",t:"s",D:0},2274717:{h:"LanguageBCP47",t:"s",D:0},134:{h:"CodecID",t:"s",D:0},25506:{h:"CodecPrivate",t:"b",D:0},2459272:{h:"CodecName",t:"8",D:0},29766:{h:"AttachmentLink",t:"u",D:0},3839639:{h:"CodecSettings",t:"8",D:0},3883072:{h:"CodecInfoURL",t:"s",D:1},2536e3:{h:"CodecDownloadURL",t:"s",D:1},170:{h:"CodecDecodeAll",t:"u",D:0},28587:{h:"TrackOverlay",t:"u",D:1},22186:{h:"CodecDelay",t:"u",D:0},22203:{h:"SeekPreRoll",t:"u",D:0},26148:{h:"TrackTranslate",t:"m",D:1},26277:{h:"TrackTranslateTrackID",t:"b",D:0},26303:{h:"TrackTranslateCodec",t:"u",D:0},26364:{h:"TrackTranslateEditionUID",t:"u",D:1},224:{h:"Video",t:"m",D:0},154:{h:"FlagInterlaced",t:"u",D:0},157:{h:"FieldOrder",t:"u",D:0},21432:{h:"StereoMode",t:"u",D:0},21440:{h:"AlphaMode",t:"u",D:0},21433:{h:"OldStereoMode",t:"u",D:0},176:{h:"PixelWidth",t:"u",D:0},186:{h:"PixelHeight",t:"u",D:0},21674:{h:"PixelCropBottom",t:"u",D:0},21691:{h:"PixelCropTop",t:"u",D:0},21708:{h:"PixelCropLeft",t:"u",D:0},21725:{h:"PixelCropRight",t:"u",D:0},21680:{h:"DisplayWidth",t:"u",D:0},21690:{h:"DisplayHeight",t:"u",D:0},21682:{h:"DisplayUnit",t:"u",D:0},21683:{h:"AspectRatioType",t:"u",D:0},3061028:{h:"UncompressedFourCC",t:"b",D:0},3126563:{h:"GammaValue",t:"f",D:0},2327523:{h:"FrameRate",t:"f",D:0},21936:{h:"Colour",t:"m",D:0},21937:{h:"MatrixCoefficients",t:"u",D:0},21938:{h:"BitsPerChannel",t:"u",D:0},21939:{h:"ChromaSubsamplingHorz",t:"u",D:0},21940:{h:"ChromaSubsamplingVert",t:"u",D:0},21941:{h:"CbSubsamplingHorz",t:"u",D:0},21942:{h:"CbSubsamplingVert",t:"u",D:0},21943:{h:"ChromaSitingHorz",t:"u",D:0},21944:{h:"ChromaSitingVert",t:"u",D:0},21945:{h:"Range",t:"u",D:0},21946:{h:"TransferCharacteristics",t:"u",D:0},21947:{h:"Primaries",t:"u",D:0},21948:{h:"MaxCLL",t:"u",D:0},21949:{h:"MaxFALL",t:"u",D:0},21968:{h:"mingMetadata",t:"m",D:0},21969:{h:"PrimaryRChromaticityX",t:"f",D:0},21970:{h:"PrimaryRChromaticityY",t:"f",D:0},21971:{h:"PrimaryGChromaticityX",t:"f",D:0},21972:{h:"PrimaryGChromaticityY",t:"f",D:0},21973:{h:"PrimaryBChromaticityX",t:"f",D:0},21974:{h:"PrimaryBChromaticityY",t:"f",D:0},21975:{h:"WhitePointChromaticityX",t:"f",D:0},21976:{h:"WhitePointChromaticityY",t:"f",D:0},21977:{h:"LuminanceMax",t:"f",D:0},21978:{h:"LuminanceMin",t:"f",D:0},30320:{h:"Projection",t:"m",D:0},30321:{h:"ProjectionType",t:"u",D:0},30322:{h:"ProjectionPrivate",t:"b",D:0},30323:{h:"ProjectionPoseYaw",t:"f",D:0},30324:{h:"ProjectionPosePitch",t:"f",D:0},30325:{h:"ProjectionPoseRoll",t:"f",D:0},225:{h:"Audio",t:"m",D:0},181:{h:"SamplingFrequency",t:"f",D:0},30901:{h:"OutputSamplingFrequency",t:"f",D:0},159:{h:"Channels",t:"u",D:0},32123:{h:"ChannelPositions",t:"b",D:0},25188:{h:"BitDepth",t:"u",D:0},21233:{h:"Emphasis",t:"u",D:0},226:{h:"TrackOperation",t:"m",D:0},227:{h:"TrackCombinePlanes",t:"m",D:0},228:{h:"TrackPlane",t:"m",D:1},229:{h:"TrackPlaneUID",t:"u",D:0},230:{h:"TrackPlaneType",t:"u",D:0},233:{h:"TrackJoinBlocks",t:"m",D:0},237:{h:"TrackJoinUID",t:"u",D:1},192:{h:"TrickTrackUID",t:"u",D:0},193:{h:"TrickTrackSegmentUID",t:"b",D:0},198:{h:"TrickTrackFlag",t:"u",D:0},199:{h:"TrickmTrackUID",t:"u",D:0},196:{h:"TrickmTrackSegmentUID",t:"b",D:0},28032:{h:"ContentEncodings",t:"m",D:0},25152:{h:"ContentEncoding",t:"m",D:1},20529:{h:"ContentEncodingOrder",t:"u",D:0},20530:{h:"ContentEncodingScope",t:"u",D:0},20531:{h:"ContentEncodingType",t:"u",D:0},20532:{h:"ContentCompression",t:"m",D:0},16980:{h:"ContentCompAlgo",t:"u",D:0},16981:{h:"ContentCompSettings",t:"b",D:0},20533:{h:"ContentEncryption",t:"m",D:0},18401:{h:"ContentEncAlgo",t:"u",D:0},18402:{h:"ContentEncKeyID",t:"b",D:0},18407:{h:"ContentEncAESSettings",t:"m",D:0},18408:{h:"AESSettingsCipherMode",t:"u",D:0},18403:{h:"ContentSignature",t:"b",D:0},18404:{h:"ContentSigKeyID",t:"b",D:0},18405:{h:"ContentSigAlgo",t:"u",D:0},18406:{h:"ContentSigHashAlgo",t:"u",D:0},475249515:{h:"Cues",t:"m",D:0},187:{h:"CuePoint",t:"m",D:1},179:{h:"CueTime",t:"u",D:0},183:{h:"CueTrackPositions",t:"m",D:1},247:{h:"CueTrack",t:"u",D:0},241:{h:"CueClusterPosition",t:"u",D:0},240:{h:"CueRelativePosition",t:"u",D:0},178:{h:"CueDuration",t:"u",D:0},21368:{h:"CueBlockNumber",t:"u",D:0},234:{h:"CueCodecState",t:"u",D:0},219:{h:"CueReference",t:"m",D:1},150:{h:"CueRefTime",t:"u",D:0},151:{h:"CueRefCluster",t:"u",D:0},21343:{h:"CueRefNumber",t:"u",D:0},235:{h:"CueRefCodecState",t:"u",D:0},423732329:{h:"Attachments",t:"m",D:0},24999:{h:"AttachedFile",t:"m",D:1},18046:{h:"FileDescription",t:"8",D:0},18030:{h:"FileName",t:"8",D:0},18016:{h:"FileMediaType",t:"s",D:0},18012:{h:"FileData",t:"b",D:0},18094:{h:"FileUID",t:"u",D:0},18037:{h:"FileReferral",t:"b",D:0},18017:{h:"FileUsedStartTime",t:"u",D:0},18018:{h:"FileUsedEndTime",t:"u",D:0},272869232:{h:"Chapters",t:"m",D:0},17849:{h:"EditionEntry",t:"m",D:1},17852:{h:"EditionUID",t:"u",D:0},17853:{h:"EditionFlagHidden",t:"u",D:0},17883:{h:"EditionFlagDefault",t:"u",D:0},17885:{h:"EditionFlagOrdered",t:"u",D:0},17696:{h:"EditionDisplay",t:"m",D:1},17697:{h:"Editions",t:"8",D:0},17892:{h:"EditionLanguageIETF",t:"s",D:1},182:{h:"ChapterAtom",t:"m",D:1},29636:{h:"ChapterUID",t:"u",D:0},22100:{h:"ChaptersUID",t:"8",D:0},145:{h:"ChapterTimeStart",t:"u",D:0},146:{h:"ChapterTimeEnd",t:"u",D:0},152:{h:"ChapterFlagHidden",t:"u",D:0},17816:{h:"ChapterFlagEnabled",t:"u",D:0},28263:{h:"ChapterSegmentUUID",t:"b",D:0},17800:{h:"ChapterSkipType",t:"u",D:0},28348:{h:"ChapterSegmentEditionUID",t:"u",D:0},25539:{h:"ChapterPhysicalEquiv",t:"u",D:0},143:{h:"ChapterTrack",t:"m",D:0},137:{h:"ChapterTrackUID",t:"u",D:1},128:{h:"ChapterDisplay",t:"m",D:1},133:{h:"Chaps",t:"8",D:0},17276:{h:"ChapLanguage",t:"s",D:1},17277:{h:"ChapLanguageBCP47",t:"s",D:1},17278:{h:"ChapCountry",t:"s",D:1},26948:{h:"ChapProcess",t:"m",D:1},26965:{h:"ChapProcessCodecID",t:"u",D:0},17677:{h:"ChapProcessPrivate",t:"b",D:0},26897:{h:"ChapProcessCommand",t:"m",D:1},26914:{h:"ChapProcessTime",t:"u",D:0},26931:{h:"ChapProcessData",t:"b",D:0},307544935:{h:"Tags",t:"m",D:1},29555:{h:"Tag",t:"m",D:1},25536:{h:"Targets",t:"m",D:0},26826:{h:"TargetTypeValue",t:"u",D:0},25546:{h:"TargetType",t:"s",D:0},25541:{h:"TagTrackUID",t:"u",D:1},25545:{h:"TagEditionUID",t:"u",D:1},25540:{h:"TagChapterUID",t:"u",D:1},25542:{h:"TagAttachmentUID",t:"u",D:1},26568:{h:"SimpleTag",t:"m",D:1},17827:{h:"TagName",t:"8",D:0},17530:{h:"TagLanguage",t:"s",D:0},17531:{h:"TagLanguageBCP47",t:"s",D:0},17540:{h:"TagDefault",t:"u",D:0},17588:{h:"TagDefaultBogus",t:"u",D:0},17543:{h:"Tags",t:"8",D:0},17541:{h:"Tagb",t:"b",D:0}};
function h5(J,v){bZ.kj.call(this,J,v);this.Sl=bZ.kj.Sl;this.Zq=bZ.kj.Zq;this.em=bZ.kj.em;this.KO=bZ.kj.KO;
this.qA=function(x){return x};this.UK=0;this.data=null;this.start=0;this.dY=null;this.W_=null;this.j6=0;
this.h6=0}h5.prototype.anb=async function(){this.Dg=new VideoDecoder({output:b5=>this.em(b5),error:function(x){console.log(x.message)}});
var J={codec:this.dY};if(this.W_){J.description=this.W_}var v=await VideoDecoder.isConfigSupported(J);
if(v.supported==!0){this.Dg.configure(J)}else{console.log("Codec not supported.",J)}};h5.prototype.aDk=async function(){if(!this.cues)return null;
var J=this.cues[this.cues.length-1],v=await fN.ZJ(this.xg,this.B$,this.data,this.start,J),x=v.timeStamp,o,R=[];
this.UK=v.UK;this.data=v.data;this.start=v.start;do{if(v.b3&&v.b3[0]==1){o=v;R.push(v.b3[1])}v=await fN.OB(this.xg,this.data,this.start,this.UK);
if(v.timeStamp){x=v.timeStamp}this.UK=v.UK;this.data=v.data;this.start=v.start}while(v.UK>0);if(!this.D5){R.sort((du,bD)=>du-bD);
this.D5=Math.round((R[R.length-1]-R[0])/(R.length-1));this.rg=1e3/this.D5}this.frames=Math.floor((x+o.b3[1]+this.D5-this.j6)/this.D5)};
h5.prototype.JG=async function(){this.B$=await fN.KE(this.xg);this.afV={};this.cH={};this.rB=fN.getTracks(this.B$,1);
var J=!0;if(this.rB.length>0){var v=this.rB[0],x=v.TrackNumber,o=v.CodecID;if(v.CodecPrivate)this.W_=v.CodecPrivate;
var R=v.Video.PixelWidth,r=v.Video.PixelHeight,l=this.B$.Segment.Info.TimestampScale,M=v.DefaultDuration/l;
this.rg=1e3/M;this.D5=M;var P=["V_VP8","V_VP9","V_MPEG4/ISO/AVC","V_MPEGH/ISO/HEVC"],S=["vp8","vp09.00.10.08","avc1.640034","hvc1"],c=P.indexOf(o);
if(c>=0)this.dY=S[c];if(this.dY=="hvc1"){if(this.W_){this.dY=bZ.azc(this.W_)}else{this.dY=null}}console.assert(this.dY!=null,"Codec "+o.toString()+" not supported.");
if(this.dY==null){J=!1}var b=this.B$.Segment.Cues.CuePoint;this.cues=[];for(var h=0;h<b.length;++h){for(var w=0;
w<b[h].CueTrackPositions.length;++w){if(b[h].CueTrackPositions[w].CueTrack==x){this.cues.push({c5:b[h].CueTime,R7:b[h].CueTrackPositions[w]})}}}if(this.cues[0].c5>0){this.j6=this.cues[0].c5}await this.aDk();
this.XQ=[];for(var h=0;h<this.cues.length;++h){this.XQ.push(Math.round((this.cues[h].c5-this.j6)/this.D5))}}this.DX={};
if(J&&this.rB.length>0){this.DX.Bl={rB:1,pd:this.frames,rg:this.rg,width:R,height:r}}if(!this.NZ){this.AY=new OffscreenCanvas(this.DX.Bl.width,this.DX.Bl.height);
this.Xf=this.AY.getContext("2d",{aEE:!0});this.hl=10;this.CF=6}this.p6=!0};1,0,h5.prototype.ZJ=async function(J){var v=await fN.ZJ(this.xg,this.B$,this.data,this.start,this.cues[J]);
this.UK=v.UK;this.data=v.data;this.start=v.start;this.aIe(v)};h5.prototype.OB=async function(){var J;
do{J=await fN.OB(this.xg,this.data,this.start,this.UK);this.UK=J.UK;this.data=J.data;this.start=J.start}while(J.UK>0&&J.b3[0]!=1);
if(this.UK>0){this.aIe(J)}};h5.prototype.aIe=function(J){var v=new EncodedVideoChunk({timestamp:J.b3[1],duration:this.D5,type:J.b3[2]==1?"key":"delta",data:J.b3[3]});
if(this.Dg.state=="configured"){try{this.Dg.decode(v)}catch(gw){console.log("CAUGHT unconfigured");console.log(gw);
console.log(v)}}else{console.log("unconfigured",this.UK,J);delete J}delete J};h5.prototype.acW=async function(J,v,x){var o=x*this.D5,R=this.XQ.indexOf(v),r=0,l;
for(var h=v;h<x;++h){while(this.h6>0){await new Promise(resolve=>setTimeout(resolve,50))}this.h6=1;if(h==v&&R>=0){await this.ZJ(R)}else{await this.OB()}this.h6=0}if(x==this.frames){await new Promise(resolve=>setTimeout(resolve,100));
while(this.UK!=0){while(this.h6>0){await new Promise(resolve=>setTimeout(resolve,50))}this.h6=1;await this.OB();
this.h6=0}await this.Dg.flush()}};var cX=function(){var J,v,x,o,R,r;function l(){o+=1;return x[o-1]}function M(){o+=2;
return I.oV(x,o-2)}function P(){o+=4;return I.aV(x,o-4)}function S(Y){return 512+512*Y}function c(Y){return 64*Y}function b(Y,A){var G=[];
while(Y!=-2){G.push(Y);Y=A[Y]}return G}function w(Y,A,G){var n=b(Y,G==64?r:R);if(A==null)A=n.length*G;
var E=new Uint8Array(A),K=G==64?v:J;for(var h=0;h<n.length;h++){var e=n[h],$=G==64?c(e):S(e);E.set(new Uint8Array(K.buffer,$,Math.min(G,A-h*G)),h*G)}return E}function U(Y,A,G,n){var E=x,K=o,a;
x=Y;o=A*128;var e=I.K0(x,o,32);o+=64;var $=M();e=e.slice(0,$-2>>>1);var N=l(),k=l(),V=P(),X=P(),Q=P();
for(var h=0;h<20;h++)if(l()!=0)throw h;o+=8;o+=8;var L=P(),_=P();if(P()!=0)throw"e";if(N==1||N==5){if(N==5){v=w(L,null,512)}a={};
U(Y,Q,a,n+1)}else if(N==2){if(_<=4096)a=w(L,_,64);else a=w(L,_,512)}else throw N;if(V!=-1)U(Y,V,G,n+1);
if(X!=-1)U(Y,X,G,n+1);G[e]=a;x=E;o=K}function F(Y){x=J=new Uint8Array(Y);o=0;var A=[208,207,17,224,161,177,26,225];
for(var h=0;h<8;h++)if(l()!=A[h])throw"e";for(var h=0;h<16;h++)if(l()!=0)throw"e";var G=M(),n=M(),E=M();
if(E!=-2)throw"big endian";var K=M();if(K!=9)throw"not 512";var e=M();if(e!=6)throw"not  64";for(var h=0;
h<10;h++)if(l()!=0)throw"e";var $=P(),N=P();if(P()!=0)throw"e";var k=P();if(k!=4096)throw"e";var V=P(),X=P(),Q=P(),L=P(),_=[];
for(var h=0;h<109;h++){var a=P();if(a==-1)break;_.push(a)}while(Q>=0){o=S(Q);for(var h=0;h<127;h++){var a=P();
if(a==-1)break;_.push(a)}Q=P()}if(_.length!=$)throw"e";R=[];for(var h=0;h<$;h++){o=S(_[h]);for(var T=0;
T<128;T++){var a=P();R.push(a)}}r=[];while(V!=-2){o=S(V);for(var T=0;T<128;T++){var a=P();r.push(a)}V=R[V]}var f=w(N,null,512),Z={};
U(f,0,Z,0);return Z["Root Entry"]}return{parse:F}}(),H={};H.rR=function(J){return window.devicePixelRatio||1};
H.rY=function(J,v){return(v.a7r=="touch"?12:8)*H.rR()/J.U.NT};H.fM=function(){var J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfAgMAAABiwP6qAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAAAAA////g93P0gAAAAN0Uk5TAP//RFDWIQAAACxJREFUeJxjYGBgYHVggAA2ujNCQ0PDgDiEIWvVqpWrVq1aghAZEPcwQEMDAMwiEgB+z9L1AAAAAElFTkSuQmCC",v=H.rR(),x=15.5/v;
return"image-set(url('"+J+"') "+v+"x) "+x+" "+x+",auto"};H.AA=function(J,v,x){this.name=J;this.id=v;
this.mm=null;if(x!=null)this.Q2=x};H.AA.prototype.vE=function(J,v,x,o,R){};H.AA.prototype.enable=function(J,v,x,o,R,r){var l=new dd(j.E.j,!0);
l.data={R:j.m.HX,O5:"default"};v.a(l)};H.AA.prototype.disable=function(J,v,x,o,R){};H.AA.prototype.aG5=function(J,v,x,o,R){return!1};
H.AA.prototype._N=function(J,v,x,o,R){};H.AA.prototype.HD=function(J,v,x,o,R){};H.AA.prototype.kq=function(J,v,x,o,R){};
H.AA.prototype.ER=function(J,v,x,o,R,r){};H.AA.prototype.Su=function(J,v,x,o,R){};H.AA.prototype.lb=function(J,v,x,o){};
H.AA.prototype.W6=function(J,v,x,o){};H.AA.prototype.MW=function(J,v){};H.AA.prototype.mJ=function(J,v){};
H.AA.prototype.CS=function(J){return 0};H.AA.prototype.zN=function(J,v,x,o,R){};H.AA.prototype.pJ=function(J,v){};
H.AA.prototype.V9=function(J,v){return!1};H.AA.prototype.YZ=function(J,v){return!1};H.AA.prototype.b7=function(){return!1};
H.AA.prototype.$H=function(J,v){return!0};H.AA.prototype.Bo=function(){return null};H.AA.prototype.NL=function(J,v,x){};
H.AA.prototype.aeM=function(){return!1};H.AA.prototype.tC=function(J,v,x,o){};H.AA.prototype.track=function(J){var v=new dd(j.E.aT,!0);
v.data=J;J.bV=!0;this.mm.a(v)};H.AA.Wi=function(J,v,x,o){var R=10*H.rR()*(J.a7r=="touch"?2:1),r=J.x+R,l=J.y-R,M=g.Av.OV(v.r,x.Bt,o,x.r,!0),P=g.Av.OV(v.$,x.Bt,o,x.$,!0);
while(M.length<P.length)M=" "+M;while(M.length>P.length)P=" "+P;H.AA.Nw(r,l,[ea.get([12,41]).charAt(0)+": "+M,ea.get([12,42]).charAt(0)+": "+P],x)};
H.AA.Nw=function(J,v,x,o){function R(S,Y,A,G,n,E){S.beginPath();S.moveTo(Y,A+E);S.arcTo(Y,A+n,Y+E,A+n,E);
S.arcTo(Y+G,A+n,Y+G,A+n-E,E);S.arcTo(Y+G,A,Y+G-E,A,E);S.arcTo(Y,A,Y,A+E,E)}var r=H.rR(),l=Math.round,M=l(11*r),P=H.AA.aGt,c=0;
if(P==null)P=H.AA.aGt=document.createElement("canvas");var S=P.getContext("2d");S.font=M+"px monospace";
for(var h=0;h<x.length;h++)c=Math.max(c,S.measureText(x[h]).width);var b=l(c+12*r),w=l((x.length*14+5)*r),U=new jj(J,v-w,b,w);
if(P.width!=b||P.height!=w){P.width=b;P.height=w;S.font=M+"px monospace"}S.clearRect(0,0,b,w);S.fillStyle="rgba(0,0,3,0.8)";
R(S,0,0,b,w,l(4*r));S.fill();S.fillStyle="rgba(255,255,255,1)";for(var h=0;h<x.length;h++)S.fillText(x[h],l(6*r),l((h+1)*13*r));
var F=[S.getImageData(0,0,b,w).data,U.Q()];if(o)o.dB.kl=[F];return F};H.AA.aGt=null;H.AA.aqh=function(J,v,x,o){if(v)this.mm=v;
var R=this.aGe;if(J)R=[J.r,J.$,J.Bt];if(x&&R)R[3]=x.i3.eE;this.aGe=R;var r=new dd(j.E.j,!0);r.data={R:j.m.hf,J:this.id,fe:R};
if(this.mm)this.mm.a(r)};H.AA.AC=function(J){J.prototype.W6=H.AA.aqh;J.prototype.pJ=function(v,x){if(x==cj.oT||x==cj.q6)this.W6(null,null,v,null)}};
H.VO="0";H.ZT="1";H.a30="2";H.a25="3";H.$T="5";H.an2="6";H.a34="7";H.v2="8";H.Yo="9";H.uJ="10";H.L6="11";
H.BG="12";H.Cg="13";H.vM="14";H.aIE="15";H.rJ="16";H.lk="18";H.f9="19";H.aG3="90";H.p4="20";H.ib="21";
H.JI="22";H.kN="23";H.if="24";H.BX="25";H.DJ="27";H.tW="31";H.x2="32";H.aGx="33";H.bF="34";H.agp="35";
H.Tg="36";H.hD="37";H.Ye="38";H.mb="39";H.tb="40";H.R$="41";H.hB="42";H.t8="43";H.avP="44";H.acP="45";
H.aoL="46";H.ade="72";H.i9="47";H.El="48";H.ih="51";H.Rv="52";H.Mj="54";H.sb="55";H.Ag="56";H.AQ="57";
H.Ks="58";H.Ji="59";H.Nj="60";H.C5="61";H.LW="70";H.h9="71";H.a8_="73";H.tS="100";H.sj="101";H.kX="102";
H.Nq="103";H.E7="120";H.ru="121";H.hi="230";H.a8L="231";H.iI="232";H.wu="233";H.Ar="234";H.c$="235";
H.Iq="236";H.Qt={};H.Qt[H.kN]="tools/brush";H.Qt[H.if]="tools/pencil";H.Qt[H.tW]="tools/eraser";H.Tn={PcTl:H.if,PbTl:H.kN,moveTool:H.VO,cloneStampTool:H.DJ,typeCreateOrEditTool:H.i9,artboardTool:H.LW,marqueeRectTool:H.ZT,typeVerticalCreateOrEditTool:H.El,perspectiveCropTool:H.L6,marqueeEllipTool:H.a30,eyedropperTool:H.vM,eraserTool:H.tW,pathComponentSelectTool:H.ih,lassoTool:H.$T,backgroundEraserTool:H.x2,directSelectTool:H.Rv,polySelTool:H.an2,rectangleTool:H.Mj,magneticLassoTool:H.a34,gradientTool:H.bF,quickSelectTool:H.v2,bucketTool:H.agp,ellipseTool:H.sb,magicWandTool:H.Yo,blurTool:H.Tg,polygonTool:H.Ag,cropTool:H.uJ,sharpenTool:H.hD,lineTool:H.AQ,sliceTool:H.BG,smudgeTool:H.Ye,customShapeTool:H.Ks,sliceSelectTool:H.Cg,dodgeTool:H.mb,spotHealingBrushTool:H.lk,burnInTool:H.tb,saturationTool:H.R$,penTool:H.hB,redEyeTool:H.JI,freeformPenTool:H.t8,rulerTool:H.rJ,paintbrushTool:H.kN,handTool:H.Ji,pencilTool:H.if,zoomTool:H.C5,objectSelectTool:H.a25,healingBrushTool:H.f9,patchTool:H.p4,contentAwareMoveTool:H.ib,colorReplacementBrushTool:H.BX,curvaturePenTool:H.avP,rotareViewTool:H.Nj};
H.P8=function(J,v,x){H.AA.call(this,J,v,x);this.Qu={brush:J?br.qF():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.f=null;this.XO=null;this._T=null;this.BW=null;this.Li=null;this.R3=null;this.xL=null;this.K8=null;
this.NQ=null;this.zB=null;this.fb=null;this.g$=null;this.ee=null;this.Cr=1;this.sa=!1;this.kg=null;this.FS;
this.caller=null};H.P8.prototype=new H.AA;H.P8.prototype.YZ=function(J,v){return J.x4&&v.M(gw.Yv)};H.P8.prototype.HD=function(J,v,x,o,R){if(o.M(gw.i4)){this.R3=new aG(R.x,R.y);
var r=this.Qu.brush.Brsh.v,l=r.Dmtr.v.val,M=r.Hrdn!=null?r.Hrdn.v.val:-1;this.xL=[l,M,!0,g.F(this.Qu.brush),R];
this.B4(x)}};H.P8.prototype.bL=function(J,v,x){var o=this.xL,R=J.U.NT,r=x.x-o[4].x,l=x.y-o[4].y,M=o[0],P=o[1],S=Math.abs(r)>Math.abs(l);
if(S&&o[2]){var c=Math.round(2*r/R);M+=c;x.x-=r-.5*c*R}if(!S&&!o[2]&&P!=-1){var c=Math.round(.25*l);
P+=c;x.y-=l-4*c}M=Math.max(1,M);P=o[1]==-1?-1:Math.max(0,Math.min(100,P));var b=o[3];b.Brsh.v.Dmtr.v.val=M;
if(P!=-1)b.Brsh.v.Hrdn.v.val=P;this.xL=[M,P,S,b,x];var w=ix.Hf(b,v.DK.En,R),U=w[1];U.x=Math.round(this.R3.x-U.r/2);
U.y=Math.round(this.R3.y-U.$/2);J.dB.OR=[w];var F=J.U.hW(this.R3.x,this.R3.y);J.dB.de={aZ:[],M3:[F.x-M/2,F.y,F.x+M/2,F.y]};
if(P!=-1)J.dB.de.M3.push(F.x+50/R,F.y-P/2,F.x+50/R,F.y+P/2);J.ms=!0};H.P8.prototype.Su=function(J,v,x,o,R){if(this.id==H.p4||this.id==H.ib)return;
if(this.R3){this.R3=null;this.Kz(g.F(this.xL[3]));J.dB.OR=[];J.dB.de=null;J.ms=!0;return}var r=new dd(j.E.j,!0);
r.data={R:j.m.hf,J:this.id,atW:"showBrushOpts",vT:new aG(R.m4+4,R.R1)};v.a(r)};H.P8.prototype.Kz=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.Qq,Fu:cj.gP,Kf:J};this.caller.a(v)};H.P8.Z9=function(J,v,x,o,R,r){if(J==null)J="FrgC";
if(v==null)v="norm";if(x==null)x=1;if(R==null)R=!1;var l={classID:"Fl",Usng:{t:"enum",v:{FlCn:J}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(x*100)}},PrsT:{t:"bool",v:R},Md:{t:"enum",v:{BlnM:gX.Pp(v)}}};
if(J=="Clr")l.Clr={t:"Objc",v:o};if(J=="contentAware")l.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(J=="Ptrn")l.Ptrn={t:"Objc",v:r};return{QI:"fill",_g:l}};H.P8.prototype.vE=function(J,v,x,o,R){this.mm=v;
var r=x.Dk.length,l=r!=0?-1-x.Dk[0]:x.Y[0],M=x.k[l],P=M&&M.add.SoLd&&M.add.SoLd.generativeDocInfo,S=J.R=="fromAction"&&J.h7&&J.h7._g&&JSON.stringify(J.h7._g).indexOf("aiHeal")!=1;
if(r==0&&!S&&!x.hH(v))return;if(J.R=="fromAction"){var c=J.h7,b=c._g;if(b&&b.null&&b.null.v[0]&&b.null.v[0].v.classID=="Path"){var w=x.Ng(),U=w[0],F=w[1],Y=U[F.length==0?0:F[0]].add.vmsk;
if(c.QI=="fill"){var A=Y.q9(),G=R.P4,n=this.Qu,E=G>>16&255,K=G>>8&255,e=G>>0&255;this.$M(x,M,A,E,K,e,Math.round(n.opacity*255),n.bmode,"Fill Path")}else{var $=b&&b.Prs&&b.Prs.v,N=JSON.stringify(this.Qu.brush);
if($)br.a15(this.Qu.brush,[!1,!0]);var k=Date.now();for(var V=0;V<1e3;V++){var X=g.I.I5(Y.X,V,!0);if(X==-1){this.ER(x,v,R,o,null);
break}var Q=Y.X[X],L=Y.X.slice(X,X+1+Q.length),_=g.b.Am(L,2).T,a=_.slice(0,8);for(var T=8;T<_.length;
T+=6)a.push(_[T-2],_[T-1],_[T],_[T+1],_[T+2],_[T+3],_[T+4],_[T+5]);var f={};f.Points=a;f.TextOnPathTRange=Y.J7.slice(0);
var f=fc.$w(f,2,Q.e==3),Z=f[0],W=x.U.Lp(Z[0],Z[1]);if($)W.CJ=0;if(V==0)this._N(x,v,R,o,W);else this.XO.moveTo(Z[0],Z[1],$?0:null);
var D=Z.length,C=Q.e==0?D+2:D;for(var h=2;h<C;h+=2){W=x.U.Lp(Z[h%D],Z[(h+1)%D]);W.x4=!0;if($){var d=h/C;
W.CJ=2*Math.min(d,1-d)}this.kq(x,v,R,o,W,this.Qu.flow)}this.XO.finish();this.aH(x)}console.log(Date.now()-k);
if($)this.Qu.brush=JSON.parse(N)}}else if(c.QI=="fill"){var p=b.PrsT?b.PrsT.v:!1,y=M?M.add.lspf:0;if(p&&M){M.add.lspf=y==null?1:y|1}var i=(b.Opct?b.Opct.v.val:100)/100,t=b.Md?gX.kF(b.Md.v.BlnM):"norm";
i=Math.round(255*i);var O=b.Usng.v.FlCn;if(O=="contentAware"||O=="aiHeal"){if(x.g==null&&!P){alert("Select an area to heal first.");
return}var q=x.g;if(O=="aiHeal"&&!cl.c_(x))return;if(O=="contentAware"){this.nq(x);this.UJ(x,0);var z=g.C(q.S.o()*4);
g.Os(q.N,z,3);this.o$(x,"sheal",z,q.S,q.S);this.Ai(x,q.S);this.finish(x,q.S)}else{this.U8=x;this.f=R;
var jw=cl.z2(R,3),u=function(){this.FS=b.prmt.v;cl.aFv(this.FS,jw,x,this.az7.bind(this),b.Fu);var ad=new dd(j.E.j,!0);
ad.data={R:j.m.A9,oy:"Processing ..."};v.a(ad);this.caller=v}.bind(this);if(jw||cl.w8(3))u();else cl.qJ(u)}}else if(O=="Ptrn"){var iH=R.HZ,s=x.g?x.g.S.Q():new jj(0,0,x.r,x.$),bV=g.C(s.o()*4);
iD.uY(b,bV,s,iH,new aG(0,0));for(var h=0;h<bV.length;h+=4)bV[h+3]=i;this.Pm(x,M,x.g,bV,t,[6,48,0,2])}else{var G;
if(O=="FrgC")G=R.P4;else if(O=="BckC")G=R.Vb;else if(O=="Blck")G=0;else if(O=="Wht")G=16777215;else if(O=="Gry")G=8421504;
else if(O=="Clr"){var jU=g.UH.Eb(b.Clr.v);G=jU.z<<16|jU.H<<8|jU.c}var E=G>>16&255,K=G>>8&255,e=G>>0&255;
this.$M(x,M,x.g,E,K,e,i,t,[2,3])}if(p&&M){M.add.lspf=y==null?0:y}}else if(c.QI=="delete"){var hx=l<0?1:M.kG,q=x.g,iY;
if(q==null)return;var eX=l<0?x.ac[-l-1]:hx<=0?null:hx==1?M.q9():M.V0(x).pR,s=hx<=0?M.S:eX.S,et=hx<=0?q.S.Xt(s):q.S.Q();
if(et.L3())return;var f7=et.o();if(hx<=0){iY=g.C(f7*4,x.depth);g.sW(M.buffer,M.S,iY,et)}else{iY=g.C(f7,x.depth);
eX.extend(et);g.Cc(eX.N,eX.S,iY,et)}if(0<=l&&M.mE(x,q)){if(hx<=0){iY.fill(0);g.sW(M.WI.ZW,M.WI.zb,iY,et)}else{iY.fill(255);
g.Cc(M.WI.ZW,M.WI.zb,iY,et)}}else{if(hx<=0){var cd=g.C(iY.length>>2,x.depth);g.Vi(iY,cd,3);g.v.ht(g.C(q.S.o(),x.depth),q.S,cd,et,q.N,et,1);
g.Os(cd,iY,3)}else{var jV=g.C(q.S.o(),x.depth),E=R.Vb>>>16&255,K=R.Vb>>8&255,e=R.Vb>>0&255;jV.fill(Math.round(g.x3(E,K,e)));
g.v.ht(jV,q.S,iY,et,q.N,et,1)}}this.tc(x,!0,[2,2],l,hx,et,iY)}}if(J.R=="stroke"){var g2=J.aiu,q=x.g;
if(q==null){q={S:M.S.Q(),N:g.C(M.S.o())};g.Vi(M.buffer,q.N,3)}var gV=iD.De(g2),fD=H.IE.aha(q,Math.ceil(gV[0]),Math.ceil(gV[1])),G=g.UH.Eb(g2.Clr.v),E=Math.round(G.z),K=Math.round(G.H),e=Math.round(G.c);
this.$M(x,M,fD,E,K,e,Math.round(255*g2.Opct.v.val/100),gX.kF(g2.Md.v.BlnM),[14,9])}if(J.R=="fillBMP"){this.Pm(x,M,x.g,J.qG,J.Sx,J.hX)}if(J.R=="draw"){var j4=J.YE,dQ=j4.S;
this.nq(x);var eO=x.k[x.Y[0]];if(J.aDr&&eO&&eO.kG<=0&&x.Dk.length==0){dQ=H.j9.a7D(j4,x);eO.buffer=j4.buffer.slice(0);
eO.S=dQ.Q()}else{var a7=this.Qu.bmode,cc=this.Qu.opacity;this.Qu.bmode="norm";this.Qu.opacity=1;this.o$(x,"draw",j4.buffer,dQ,dQ.Xt(new jj(0,0,x.r,x.$)));
this.Qu.bmode=a7;this.Qu.opacity=cc}this.Ai(x,dQ);x.wj=!0;this.finish(x,dQ,J.hX,J.aDr)}};H.P8.prototype.az7=function(J){var v=J.target.response,x=new Uint8Array(v);
if(this.ayl){this.ayl=!1;v=d2.S7(I.Aq(x))}else if(x[0]==123){var o=JSON.parse(I.Aq(x)),h=0;console.log(o);
if(o.status=="error"){alert(o.message.prompt[0]);return}var R=o.image_links;if(R==null)R=o.output;var r=R[0],l=new XMLHttpRequest;
l.responseType="arraybuffer";while(!0){var M=new XMLHttpRequest;M.open("HEAD",r,!1);M.send();if(M.status!=404)break;
console.log("not ready");h++}l.open("GET",r,!0);l.onload=this.az7.bind(this);this.ayl=!0;l.send();return}var P=d2.Lv.lx(v)[0],S=new Uint8Array(P.data),c=this.U8,b=cl.ON(c)[0],w=cl.ON(c)[1];
this.U8=null;var U=b.r/P.P0.r;if(U>1.1){var F=H.ge.EN([S,P.P0],new bC(U,0,0,U,0,0));S=F.buffer}var Y=c.k[c.Y[0]],A=Y.add.SoLd&&c.g==null,G=A?Y.q9():c.g,n=g.C(b.o()*4);
g.sW(c.rv(),new jj(0,0,c.r,c.$),n,b);var E=g.C(b.o());g.Cc(G.N,G.S,E,b);g.round(E);var K=new Uint32Array(n.buffer),e=new Uint32Array(S.buffer);
for(var h=0;h<K.length;h++)if(E[h]==0)e[h]=K[h];g.vD.xB(S,E,b,null,500*(1+w));var $=new dd(j.E.j,!0);
$.data={R:j.m.fz,oy:"Processing ..."};this.caller.a($);if(A){var $=new dd(j.E.G,!0);$.J=H.wu;$.data={R:m.U0,K:[S,b],akt:this.FS};
this.caller.a($)}else{var N=new d7(this.FS),v=G.S;N.r=v.r;N.$=v.$;N.Bt=c.Bt;N.k.push(N.V4());var Y=N.qL();
Y.S=v.Q();N.k.push(Y);Y.v7(this.FS);Y.buffer=g.C(Y.S.o()*4);g.sW(S,b,Y.buffer,Y.S);Y.S.x=Y.S.y=0;Y=N.qL();
Y.v7("Variations");Y.add.lsct=h2.Uk;Y.gR="pass";Y.eW=24;N.k.push(Y);N.Ai();var $=new dd(j.E.G,!0);$.data={R:m.OX,qE:N};
$.J=H.wu;this.caller.a($);Y=c.k[c.Y[0]];var k=Y.add.SoLd;k.generativeDocInfo={t:"Objc",v:{classID:"generativeDocInfo",Vrsn:{t:"long",v:1},workflow:{t:"long",v:0}}};
H.Io.Qc(c,c.Y,null,[v.x-Y.S.x,v.y-Y.S.y]);Y.pR=new m.V1;Y.pR.color=0;Y.pR.S=c.g.S.Q();Y.pR.N=c.g.N.slice(0);
c.Ai();$=new dd(j.E.aT,!0);$.data=H.IE.DT();this.caller.a($);$=new dd(j.E.j);$.data={R:j.m.KF,kA:gB.mL.eV};
this.caller.a($)}if(cl.z2(this.f,3)==null)cl.LB("Inpaint",3)};H.P8.prototype.$M=function(J,v,x,o,R,r,l,M,P){var S=x==null?new jj(0,0,J.r,J.$):x.S,c=g.C(S.o()*4,J.depth);
if(J.depth==8)g.SX(c,l<<24|r<<16|R<<8|o<<0);else{var b=g.JN(J.depth)/255;for(var h=0;h<c.length;h+=4){c[h]=o*b;
c[h+1]=R*b;c[h+2]=r*b;c[h+3]=l*b}}this.Pm(J,v,x,c,M,P)};H.P8.prototype.Pm=function(J,v,x,o,R,r){var l=J.Dk.length!=0?-1-J.Dk[0]:J.Y[0],M=l<0?1:v.kG,P=l<0?J.ac[-1-l]:M<=0?null:M==1?v.q9():v.V0(J).pR,S=M<=0?v.S:P.S,c=x==null?new jj(0,0,J.r,J.$):x.S,b;
if(x)b=x.N;else{b=g.C(J.r*J.$,J.depth);b.fill(g.JN(J.depth))}if(x!=null)g.xh(b,o);var w=c.o(),U=g.C(w*4,J.depth);
if(M<=0)g.sW(v.buffer,v.S,U,c);else{P.extend(c);U.fill(255);g.QR(P.WJ(c),U)}if(0<=l&&x&&v.mE(J,x)&&M<=0){var F=v.WI.U$,Y=v.WI.U$.slice(0);
if(M<=0)g.oj(o,Y);else g.oj(fullc,Y);var A=new js([2,3],this);A.data={R:"drawtemp",w:J.Y[0],tF:M,alp:F,a2$:Y};
J.q$(A);this.MW(A.data,J)}else{if(M<=0){var G;if(v.UP(0)){G=g.C(c.o());g.Vi(U,G,3)}g.v.Ry(R,o,c,U,c,c,1);
if(v.UP(0))g.Os(G,U,3)}else{g.v.Ry(R,o,c,U,c,c,1);var n=g.C(w);g.dF(U,n);U=n}this.tc(J,!0,r,l,M,c,U)}};
H.P8.prototype.V9=function(J){if(gw.Bm.indexOf(J)!=-1)return!0;return!1};H.P8.prototype.lb=function(J,v,x,o){var R=this.Qu.brush,r=o.M(gw.i4),l=r!=this.sa,M=H.P8.lY(R,o);
if(M!=null)this.Kz(M);if(!o.M(gw.aw)&&o.Hb()!=-1&&this.id!=H.BX){var P=gw.a1x(Math.round(this.Qu.opacity*100),o.Hb())/100;
this._w({opacity:P},v)}if(this.id==H.v2&&l&&J!=null){var S=this.Qu.qsmode;if(S==2)S=J.g==null?0:1;else S=2;
this._w({qsmode:S},v)}this.sa=r;if(l){if(J)this.Cr=J.U.NT;this.B4(x,o)}};H.P8.lY=function(J,v){var x=J.Brsh.v.Dmtr.v.val,o=J.Brsh.v.Hrdn!=null?J.Brsh.v.Hrdn.v.val:-1,R=J.Brsh.v.Angl.v.val,r=x,l=o,M=R,P=v.M(gw.Yv);
if(v.M(gw.kp)){if(P)o=25*Math.floor((o-1)/25);else{if(x<=10)x--;else if(x<=50)x=5*Math.floor((x-1)/5);
else if(x<=100)x=10*Math.floor((x-1)/10);else if(x<=200)x=25*Math.floor((x-1)/25);else if(x<=400)x=50*Math.floor((x-1)/50);
else x=100*Math.floor((x-1)/100)}}if(v.M(gw.vU)){if(P)o=25*Math.ceil((o+1)/25);else{if(x<10)x++;else if(x<50)x=5*Math.ceil((x+1)/5);
else if(x<100)x=10*Math.ceil((x+1)/10);else if(x<200)x=25*Math.ceil((x+1)/25);else if(x<400)x=50*Math.ceil((x+1)/50);
else x=100*Math.ceil((x+1)/100)}}var S=v.M(gw.wv),c=v.M(gw.fZ);if(P&&(S||c)){R=(R+360+15*(S?1:-1))%360}x=Math.max(1,x);
o=Math.max(0,Math.min(100,o));if(l==-1)o=-1;if(x!=r||o!=l||R!=M){var b=g.F(J);b.Brsh.v.Dmtr.v.val=x;
b.Brsh.v.Angl.v.val=R;if(l!=-1)b.Brsh.v.Hrdn.v.val=o;return b}return null};H.P8.prototype.B4=function(J,v,x,o){if(J.DK.list.length==0)return;
var R=this.id,r;if((R==H.DJ||R==H.f9||R==H.kN||R==H.if)&&(v!=null&&v.M(gw.i4)||this.Qu.alt[0]))r="crosshair";
else{var l=this.Cr,M=this.Qu.brush;if((R==H.DJ||R==H.f9)&&x&&this.g$&&this.g$.length==this.fb.o()*4){var P=x.U.hW(o.x,o.y),S=this.a6v(P),c=this.g$,b=this.fb,w=new jj(b.x+S.x,b.y+S.y,b.r,b.$),U=ix.Hf(M,J.DK.En,l),F=U[0],Y=U[1],A=Math.ceil(Y.r/l),G=new jj(Math.round(P.x-A/2),Math.round(P.y-A/2),A,A),n=g.C(G.o()*4),E,K;
if(x.depth==8)g.sW(c,w,n,G);else{var e=g.C(G.o()*4,x.depth);g.sW(c,w,e,G);n=g.N2(e,8)}if(l==1){E=n;K=G}else{var $=new bC(l,0,0,l,0,0),N=H.ge.EN([n,G],$,!0);
K=Y.Q();K.x=N.S.x;K.y=N.S.y;if(K.Ym(N.S))E=N.buffer;else{E=g.C(K.o()*4);g.sW(N.buffer,N.S,E,K)}}var k=this.Qu.opacity/255;
for(var h=0;h<E.length;h+=4)E[h+3]=k*(F[h+3]*E[h+3]);ix.aoE(new Uint32Array(E.buffer),K,4278190080,4294967295);
r={fK:E,Yf:K,k$:new aG(K.r/2,K.$/2)}}else r=ix.l6(M,J.DK.En,l,R==H.BX||R==H.x2)}var V=new dd(j.E.j,!0);
V.data={R:j.m.HX,O5:r};if(this.caller)this.caller.a(V)};H.P8.prototype.enable=function(J,v,x,o){this.f=x;
this.caller=v;this.Kz(g.F(this.Qu.brush));if(J&&J.U.NT!=0)this.Cr=J.U.NT;this.B4(x,o)};H.P8.prototype.pJ=function(J,v){if(v==cj.gP){this.Qu.brush=J.DK.YH;
this.B4(J)}};H.P8.prototype.zN=function(J,v,x,o,R){for(var r in J)this.Qu[r]=J[r];if(this.Qu.alt[0])this.B4(R,o,x)};
H.P8.prototype.aI4=function(J){var v=J.Dk.length!=0?-1-J.Dk[0]:J.Y[0],x=J.k[v],o=v<0?1:x.kG,R=v<0?J.ac[-v-1]:o<=0?null:o==1?x.q9():x.V0(J).pR,r=R?R.N:x.buffer,l=(R?R.S:x.S).Q();
return[x,o,R,r,l]};H.P8.prototype.nq=function(J,v){this.ee=J.g==null?null:{S:J.g.S.Q(),N:J.g.N.slice(0)};
var x=this.zB,o=this.aI4(J),R=o[0],r=o[1],l=o[2];this.zB=o[3];this.NQ=o[4];var M=new jj(0,0,J.r,J.$),P=M.h0(this.NQ);
if((this.tV()&&r<=0||P.Ym(this.NQ))&&v!=!0){if(x&&x.length==this.zB.length){x.set(this.zB);this.zB=x}else this.zB=this.zB.slice(0)}else{if(l)l.extend(P);
else R.extend(P)}};H.P8.prototype.UJ=function(J,v){var x=this.aI4(J),o=x[1],R=x[3],r=x[4],l=[R,r],M=v!=null?v:this.Qu.sfrom;
if(o<=0&&M!=0){l[1]=new jj(0,0,J.r,J.$);l[0]=J.rv(M==1&&J.Y[0]!=J.k.length-1?J.Y[0]:null).slice(0)}this.fb=l[1].Q();
this.g$=l[0].slice(0)};H.P8.prototype.ts=function(J,v,x,o,R,r){if(R.x4&&o.M(gw.i4)&&this.R3==null){if(r)this.Bq=x.P4;
var l=new dd(j.E.G,!0);l.J=H.vM;l.data={R:"pickhere",asc:R};v.a(l);var M=H.WG.aFQ(J,!1,!0,R,null,x.P4,this.Bq,1),l=new dd(j.E.j,!0);
l.data={R:j.m.HX,O5:M};v.a(l);return!0}return!1};H.P8.prototype.g4=function(J,v,x,o,R,r){if(this.id!=H.v2&&!J.hH(this.caller)){this.XO=null;
return}if(this.id!=H.v2&&this.XO)return;this.nq(J);var l=new jj(0,0,J.r,J.$),M=null;if(r!=null){var P=J.Dk.length!=0?-1-J.Dk[0]:J.Y[0],S=J.k[P],c=P<0?J.ac[-P-1]:S.kG<=0?null:S.kG==1?S.q9():S.V0(J).pR;
M=g.C(l.o()*4,J.depth);if(c)H.P8.MB(this.zB,this.NQ,c.color,M,l);else g.sW(this.zB,this.NQ,M,l)}var b=this.Qu;
if(this.XO&&this.id==H.v2&&b.qsmode!=0&&J.g!=null){}else{var w=v.P4,U=v.Vb,A=null;if(this.kg=="erase"){var F=w;
w=U;U=F}var Y=this.id==H.v2?this.NQ:l;if(J.dZ)A=[3];else if(J.KG!=-1){var G=J.h1[J.KG];A=[G.N_[0],G.N_[1],G.add.vmsk.X]}this.XO=new ix(b.brush,v.DK.En,v.DK.pm,{xR:R,O4:r,aGH:b.smth*50/J.U.NT,fP:this.id==H.if||b.emode==1,N_:A,depth:J.depth},w,U,Y,M)}if(this.id==H.v2){this.XO.a3B(b.brush,b.qsmode==2?0:16777215)}var n=J.U.hW(o.x,o.y);
if(x.M(gw.Yv)&&this._T){var E=this._T;this.XO.moveTo(E.x,E.y,o.CJ);this.XO.lineTo(.001*E.x+.999*n.x,.001*E.y+.999*n.y,o.CJ);
this.XO.lineTo(n.x,n.y,o.CJ)}else this.XO.moveTo(n.x,n.y,o.CJ);this._T=n;this.BW=n.Q();this.Li=new c0(n,J.U.U1)};
H.P8.prototype.r2=function(J,v,x){if(J&&J.U.NT!=0&&J.U.NT!=this.Cr){this.Cr=J.U.NT;this.B4(x)}};H.P8.prototype.hz=function(J,v,x,o){if(this.XO==null)return;
var R=J.k[J.Y[0]],r=J.U.hW(o.x,o.y),l=this.Li.Ix(r,x);if(l.Ym(this._T))return 1;this.XO.lineTo(l.x,l.y,o.CJ);
this._T=l;if(this.id==H.DJ||this.id==H.f9){var M=this.vF(),P=11;M=J.U.Lp(r.x-M.x,r.y-M.y);var S=P>>>1,c=new jj(Math.round(M.x)-S,Math.round(M.y)-S,P,P),b=g.C(c.o()*4);
for(var h=0;h<P;h++)b[(h*P+S)*4+3]=b[(P*S+h)*4+3]=255;J.dB.kl=[[b,c]];J.ms=!0}};H.P8.prototype.W6=function(J,v,x,o){if(x.Lz!=this.id)return;
if(this.id!=H.v2||J==null)return;if(J.g==null||J.Y[0]!=this.afw){this.afw=J.Y[0];this._w({qsmode:0},v)}};
H.P8.prototype.Ai=function(J,v){if(J.Dk.length!=0){J.ms=!0;return}var x=J.k[J.Y[0]];if(v==null){v=this.XO.qh();
if(this.tV()&&x.kG<=0)v=v.Xt(this.NQ)}var o=x.kG;if(o==1||o==3){var R=Math.round((o==1?x.q9():x.V0(J).pR).p5*2.4);
v=v.Q();v.rz(R,R)}if(v.L3())return;if(o<=0){x.Ai(v)}if(o==1){x.q9().px=!0;x.B0(J,v)}if(o==3){x.Ai(v)}J.Ai(J.root.R5(v,J,J.Y[0],!0))};
H.P8.prototype.ER=function(J,v,x,o,R){if(this.XO==null)return;this.XO.finish();if(this.id!=H.lk&&this.id!=H.f9&&this.id!=H.v2)this.aH(J);
if(this.id==H.DJ||this.id==H.f9){J.dB.kl=[];J.ms=!0}if(this.id==H.v2){var r=J.g;J.g=this.ee;var l=new dd(j.E.G,!0);
l.data={R:"setsel",hX:this.name,g:r};l.J=H.ZT;v.a(l);if(this.Qu.qsmode==0)this._w({qsmode:1},v)}else{this.finish(J,this.XO.vn());
this.XO=null;this.K8=null}this.dir=0};H.P8.prototype._w=function(J,v){for(var x in J)this.Qu[x]=J[x];
var o=new dd(j.E.j,!0);o.data={R:j.m.hf,J:this.id,c1:J};v.a(o)};H.P8.prototype.tV=function(){var J=this.id;
return J==H.v2||J==H.tW||J==H.mb||J==H.tb||J==H.R$||J==H.JI};H.P8.prototype.finish=function(J,v,x,o,R){var r=J.Dk.length!=0?-1-J.Dk[0]:J.Y[0],l=J.k[r],M=r<0?1:l.kG,P=r<0?J.ac[-r-1]:M<=0?null:M==1?l.q9():l.V0(J).pR,S=P?P.S:l.S,w;
if(this.tV()||!S.Ym(this.NQ)){if(P==null){if(this.tV())l.Zv();else{var c=v.h0(this.NQ),b=g.C(c.o()*4,J.depth);
g.sW(l.buffer,l.S,b,c);l.buffer=b;l.S=c}}else P.Zv();this.Ai(J,S)}if(M<=0){w=g.C(v.o()*4,J.depth);g.sW(this.zB,this.NQ,w,v)}else{w=g.C(v.o(),J.depth);
w.fill(Math.round(g.JN(J.depth)*P.color/255));g.Cc(this.zB,this.NQ,w,v)}this.tc(J,!1,x?x:this.name,r,M,v,w,o,R)};
H.P8.prototype.tc=function(J,v,x,o,R,r,l,M,P){var S=l;if(R>0){S=g.C(r.o()*4,g.u3(l));H.P8.MB(l,r,0,S,r)}var c=new js(x,this);
c.data=[{w:o,tF:R,Yf:r,u8:S}];if(M)c.data.cV=[J.g,null];if(P)c.data.cV=[this.ee,J.g];J.q$(c);if(v)this.MW(c.data,J);
else if(M)J.g=null;H.Cs.avc(J,c.data)};H.P8.prototype.mJ=function(J,v){this.aD_(J,v,!1)};H.P8.prototype.MW=function(J,v){this.aD_(J,v,!0)};
H.P8.prototype.CS=function(J){return H.Cs.CS(J)};H.P8.prototype.aD_=function(J,v,x){if(J.R=="drawtemp"){var o=x?J.a2$:J.alp,R=v.k[J.w];
R.WI.U$=o;R.QY(v,0,0,v.g);R.Ai();v.wj=!0}else{H.Cs.Tt(v,J);if(J.cV){v.g=J.cV[x?1:0];v.rf=!0}}v.Ai()};
H.P8.prototype.aH=function(J){var v=this.XO.Hl(),x=this.XO.ca(),o=this.XO.qh();this.o$(J,this.kg,v,x,o);
this.Ai(J)};H.P8.prototype.o$=function(J,v,x,o,R){var r=this.Qu,l=J.k[J.Y[0]],M=J.Dk.length!=0?J.ac[J.Dk[0]]:l.kG<=0?null:l.kG==1?l.q9():l.V0(J).pR,P=g.C(R.o()*4,J.depth),S,c=l.UP(0);
if(M==null){if(this.id==H.ib&&v=="heal")g.sW(l.buffer,l.S,P,R);else g.sW(this.zB,this.NQ,P,R);if(c){S=g.C(R.o(),J.depth);
g.Vi(P,S,3)}}else{H.P8.MB(this.zB,this.NQ,M.color,P,R)}if(J.g&&v!="qselect"){var b=R.Xt(J.g.S),w=g.C(b.o()*4,J.depth);
if(v=="copy"){var U=g.C(b.o(),J.depth);g.Cc(J.g.N,J.g.S,U,b);g.sW(P,R,w,b);g.v.PB(x,o,w,b,U,b,0,b,1,!1)}else{g.sW(x,o,w,b);
g.YJ(J.g.N,J.g.S,w,b)}x=w;o=b}function F(G,gV){var j4=Math.max(gV.x,Math.min(gV.x+gV.r-1,G.x)),dQ=Math.max(gV.y,Math.min(gV.y+gV.$-1,G.y));
return new aG(j4,dQ)}if(v=="idraw"||v=="ierase"){if(this.K8==null)this.K8=g.C(this.NQ.o());var Y=r.samp,A=this.f.Vb,G=F(this._T,R),n=Y==0?G:this.BW,E=n.x,K=n.y,e=H.ky.Oz(this.zB,this.NQ,[n,new aG(E-2,K),new aG(E+2,K),new aG(E,K-2),new aG(E,K+2)]);
if(Y==2)e=[[A>>>16&255,A>>>8&255,A>>>0&255,255]];var $=H.ky.QL(P,R,G,e,r.wconf),N=g.C(R.o());g.Cc(this.K8,this.NQ,N,R);
g.tp.h0($,N,N);g.Cc(N,R,this.K8,this.NQ);g.YJ(N,R,x,o);v=v.slice(1)}if(v=="erase"&&(H.Cs.abG(J)!=16777215||M))v="draw";
if(v=="draw")g.v.Ry(r.bmode,x,o,P,R,R,r.opacity);else if(v=="erase"){var k=r.opacity;if(this.id==H.x2)k=1;
var V=g.C(R.o()*4,J.depth);g.sW(x,o,V,R);if(M==null){var X=g.C(R.o(),J.depth);g.Vi(V,X,3);g.KX(X,k);
g.SV(X);g.YJ(X,R,P,R)}else{g.rd(V,0,0,0);g.v.Ry("norm",V,R,P,R,R,k)}}else if(v=="clone"||v=="heal"){var Q=this.vF(),L=this.fb.Q();
L.offset(Q.x,Q.y);var _=R.Q();_.rz(1,1);var a=g.C(_.o()*4,J.depth),T=g.C(_.o(),J.depth);g.sW(x,o,a,_);
g.Vi(a,T,3);a.fill(0);if(M==null){g.sW(this.g$,L,a,_);var f=g.C(_.o(),J.depth);g.Vi(a,f,3);g.fW(f,T)}else H.P8.MB(this.g$,L,M.color,a,_);
if(v=="clone"){g.Os(T,a,3);g.v.Ry(r.bmode,a,_,P,R,R,r.opacity)}if(v=="heal"){var Z=T.slice(0);g.round(Z,g.JN(J.depth)/10);
var W=g.C(_.o()*4,J.depth);if(M==null)g.sW(this.zB,this.NQ,W,_);else H.P8.MB(this.zB,this.NQ,M.color,W,_);
g.v.PB(a,_,W,_,Z,_,0,_,1,!1);var D=g.N2(W,8);g.vD.xB(D,Z,_);g.N2(D,J.depth,W);g.v.PB(W,_,P,R,T,_,0,R,1,!1)}}else if(v=="dodge"||v=="burn"){var C=R.o()*4,d=g.JN(J.depth),p=1/d,a=g.C(C,J.depth),i=1,t=0,O=0,q=0;
g.sW(x,o,a,R);var y=H.P8.R_;if(this.sa){if(v=="dodge")v="burn";else v="dodge"}var z=r.rng;if(v=="dodge"){t=[1-i/2,1,1+i][z];
O=[1,1/(1+i),1][z];q=[i/2,0,0][z]}if(v=="burn"){t=[1/(1-i/2),1,1-i/2][z];O=[1,1+i,1][z];q=[-(i/2)/(1-i/2),0,0][z]}for(var h=0;
h<C;h+=4){var jw=a[h+3]*p;P[h+0]=d*y(P[h+0]*p,t,O,q,jw);P[h+1]=d*y(P[h+1]*p,t,O,q,jw);P[h+2]=d*y(P[h+2]*p,t,O,q,jw)}}else if(v=="sponge"||v=="redeye"){var a=g.C(R.o()*4,J.depth),T=g.C(R.o(),J.depth);
g.sW(x,o,a,R);g.Vi(a,T,3);g.oj(P,a);var u=r.smode;if(this.sa)u=1-u;var iH=a8.ow("hue2");if(v=="sponge")ic.tM(iH,0,[0,[-50,46][u],[6,5][u]]);
else ic.tM(iH,1,{no:[265,305,25,55],ha:[0,-90,-70]});var s=kC.f2("hue2",iH);kC.vY(s,a,a,R);g.v.PB(a,R,P,R,T,R,0,R,1,!1)}else if(v=="copy")g.sW(x,o,P,R);
else if(v=="sheal"){var a=g.C(R.o()*4,J.depth),T=g.C(R.o(),J.depth);g.sW(x,o,a,R);g.Vi(a,T,3);a.fill(0);
var bV=this.g$,jU=this.fb;if(M){bV=g.C(jU.o()*4,J.depth);H.P8.MB(this.g$,jU,0,bV,jU)}var hx=g.N2(a,8),eX=g.$s.xB(g.N2(bV,8),jU,g.N2(T,8),hx,R);
g.N2(hx,J.depth,a);if(eX!=0)g.sW(bV,jU,a,R);if(r.sfrom==0)g.sW(a,R,P,R);else{g.sW(this.zB,this.NQ,P,R);
g.Os(T,a,3);g.v.Ry("norm",a,R,P,R,R,1)}}else if(v=="qselect"){var et=this.NQ,f7=et.r,iY=et.$,cd=f7*iY,jV=this.XO.Hl(),e=this.zB,g2=H.IE.oN,T=g2.MN;
T.fill(128);for(var h=0;h<cd;h++){var gV=jV[h<<2],fD=jV[(h<<2)+3];if(fD==255&&(gV==0||gV==255))T[h]=gV}T[0]=T[f7-1]=0;
T[(iY>>>1)*f7]=T[(iY>>>1)*f7+f7-1]=0;H.iO.tv(g2,!0,J);J.g={S:et,N:g2.g.slice(0)};J.rf=!0}if(M==null){if(c)g.Os(S,P,3);
g.sW(P,R,l.buffer,l.S)}else H.P8.iA(P,R,M)};H.P8.vF=function(){return null};H.P8.R_=function(J,v,x,o,R){var r=o+v*Math.pow(J,x),l=r*R+J*(1-R);
return Math.max(0,Math.min(1,l))};H.P8.MB=function(J,v,x,o,R){var r=g.u3(J),l=g.JN(r),M=g.C(R.o(),r);
M.fill(l*x/255);g.Cc(J,v,M,R);o.fill(l);g.QR(M,o)};H.P8.iA=function(J,v,x){var o=g.C(v.o(),g.u3(J));
g.dF(J,o);g.Cc(o,v,x.N,x.S)};H.IE=function(J,v,x){H.AA.call(this,J,v,x);this.Qu={binop:0,feat:0,cstr:{t:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.Z7=new aG(-1,-1);this.VQ=new aG(-1,-1);this.z1="default";this.mm=null;this.bn=!1;this.bf=new cg;
this.T$=!1;this.k5=null;this._P=null;this.Lj=!1;this.e5=!1};H.IE.prototype=new H.AA;H.IE.prototype.Bo=function(){var J=this.Qu,v=[J.binop,J.feat],x=J.wconf.slice(0);
x[1]=x[1]?1:0;x[2]=x[2]?1:0;var o=x.join(",")=="16,1,1";if(v[0]==0&&v[1]==0&&o)return null;if(!o)v.push(x);
return v};H.IE.prototype.NL=function(J,v,x){var o=this.Qu;if(J[0])o.binop=J[0];if(J[1])o.feat=J[1];if(J[2]){var R=o.wconf=J[2].slice(0);
if(typeof R[1]=="number"){R[1]=R[1]==1;R[2]=R[2]==1}}this.Gw(x)};H.IE.prototype.Gw=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.hf,J:this.id,Qu:this.Qu};J.a(v)};H.IE.oN={key:""};H.IE.bv=function(J,v,x){var o={QI:J,_g:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(v)o._g.T=v;if(x!=null)o._g.AntA={t:"bool",v:x};return o};H.IE.JL=function(J,v,x){return H.IE.bv("set",{t:"Objc",v:{classID:J,Top:{t:"UntF",v:{type:"#Pxl",val:v.y}},Left:{t:"UntF",v:{type:"#Pxl",val:v.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:v.y+v.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:v.x+v.r}}}},x)};
H.IE.jx=function(J,v,x){var o=[],R=[],l="set";for(var h=0;h<J.length;h+=2){o.push(J[h]);R.push(J[h+1])}var r={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:o},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:R}]}}}};
if(v)l=["set","addTo","subtractFrom","interfaceWhite"][v];return H.IE.bv(l,r,x)};H.IE.aJi=function(J,v,x){var o={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:J.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:J.y}}}},R=H.IE.bv("set",o);
R._g.Tlrn={t:"long",v:v[0]};R._g.AntA={t:"bool",v:v[1]};R._g.Cntg={t:"bool",v:v[2]};if(x==!0)R._g.Mrgd={t:"bool",v:x};
return R};H.IE.DT=function(J){return H.IE.bv("set",{t:"enum",v:{Ordn:J?"Al":"None"}})};H.IE.Tx=function(J,v,x){var o={classID:"null"};
if(J!="border")o.selectionModifyEffectAtCanvasBounds={t:"bool",v:x};var R={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[J[0]];
o[R]={t:"UntF",v:{type:"#Pxl",val:v}};return{QI:J,_g:o}};H.IE.EW=function(J,v,x){var o={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},R={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:v}}]};
if(x)R.v.push({t:"name",v:{classID:"Lyr",val:x}});var r=[{classID:"null",null:o,T:R},{classID:"null",null:R,T:o},{classID:"null",null:R,From:o},{classID:"null",null:R,With:o}],l=["set","add","subtract","interfaceIconFrameDimmed"];
return{QI:l[J],_g:r[J]}};H.IE.a6z=function(){return{QI:"make",_g:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}};
H.IE.axr=function(J,v){var x=new dd(j.E.j,!0);x.data={R:j.m.Qq,Fu:cj.Vx};if(!v.lf)J.a(x);x.data={R:j.m.Qq,Fu:cj.wV};
if(!v.i3.T4)J.a(x)};H.IE.prototype.vE=function(J,v,x,o,R){H.IE.axr(v,R);this.mm=v;var r=J.R,l,M,P=new jj(0,0,x.r,x.$),aC=!1,dI,fm,hd,ku;
if(r=="fromAction"){var S=J.h7,c=S.QI,b=S._g,w=b?b.selectionModifyEffectAtCanvasBounds:null,U=w&&w.v;
if(c=="colorRange"){if(b.Clrs){var F=b.Clrs.v.Clrs,Y=0,A=255,G=["Shdw","Mdtn","Hghl"].indexOf(F),e=.4;
if(G==0)A=60;else if(G==1){Y=100;A=150}else Y=190;var n=["shadows","midtones","highlights"][G],E=b[n+"LowerLimit"],K=b[n+"UpperLimit"];
if(E)Y=E.v;if(K)A=K.v;var $=b[n+"Fuzziness"];if($)e=$.v/100;l=H.IE.xC(x,Y,A,e,!0)}else{var Y=b.Mnm.v,A=b.Mxm.v,e;
Y={jj:Y.Lmnc.v,o5:Y.A.v,c:Y.B.v};A={jj:A.Lmnc.v,o5:A.A.v,c:A.B.v};e=b.Fzns.v/200;l=H.IE.xC(x,Y,A,e)}M=[7,8]}else if(c=="inverse"){if(x.g==null){alert("No selection!");
return}l={N:g.C(P.o(),x.depth),S:P};g.Cc(x.g.N,x.g.S,l.N,l.S);g.SV(l.N);M=[7,2]}else if(c=="expand"){var N=b.By.v.val,k=x.g.S.Q();
k.rz(N,N);var V=g.C(k.o()),X=g.C(k.o(),x.depth);g.Cc(x.g.N,x.g.S,X,k);g.style.stroke(g.N2(X,8),V,k,N);
l={N:g.N2(V,x.depth),S:k};M=[7,4]}else if(c=="contract"){var N=b.By.v.val,Q=x.g.S.Q();Q.rz(1,1);if(!U)Q=Q.Xt(P);
var X=g.C(Q.o(),x.depth),L=g.C(X.length,8);g.Cc(x.g.N,x.g.S,X,Q);g.SV(X);g.style.stroke(g.N2(X,8),L,Q,N);
g.SV(L);l={N:g.N2(L,x.depth),S:Q};g.Zv(l);M=[7,5]}else if(c=="border"){var N=b.Wdth.v.val;l=H.IE.aha(x.g,N/2,N/2);
M=[7,9]}else if(c=="feather"||c=="smoothness"){var N=b.Rds.v.val;l=H.IE.acf(x.g,N,c=="smoothness",P,U);
M=c=="feather"?[7,6]:[19,3,0]}else if(c=="move"){var _=b.T.v,k=x.g.S.Q();k.x+=_.Hrzn.v.val;k.y+=_.Vrtc.v.val;
l={N:x.g.N,S:k};M=[7,7]}else if(c=="grow"||c=="similar"){var a=this.Qu.wconf.slice(0);if(b.Tlrn)a[0]=b.Tlrn.v;
a[2]=c=="grow";var T=x.rv(),f=new jj(0,0,x.r,x.$),Z=x.g.S,W=Math.round(Math.sqrt(Z.o())/10),D=g.C(f.o());
g.Cc(x.g.N,Z,D,f);var C=[];for(var d=0;d<Z.$;d+=W)for(var p=(Z.o()+d)%W;p<Z.r;p+=W)if(x.g.N[d*Z.r+p]==255){var y=new aG(Z.x+p,Z.y+d);
C.push(y);if(a[2])g.tp.h0(H.ky.QL(T,f,y,null,a),D,D)}if(!a[2])g.tp.h0(H.ky.QL(T,f,y,H.ky.Oz(T,f,C),a),D,D);
l={N:D,S:f};M=c=="grow"?"Grow Selection":"Similar Selection";console.log(b)}else{var i=b.null.v,t=b.AntA!=null&&b.AntA.v;
function O(cq){return g.b.RN(g.Fw.ca(cq,x.r,x.$),!0)}function q(cq){var ib=cq[0].arr,jD=cq[1].arr,eL={T:[],Wp:[]};
for(var h=0;h<ib.length;h++){eL.Wp.push(h==0?"M":"L");eL.T.push(ib[h],jD[h])}eL.Wp.push("Z");if(cq[0].uID=="#Prc")g.b.u(eL.T,new bC(x.r/100,0,0,x.$/100,0,0),eL.T);
return eL}var z=["set","addTo","subtractFrom","interfaceWhite"].indexOf(c),jw=b.T?b.T.v:null;if(jw&&jw.classID=="Elps"){l=this.aDb(H.PW.a4J(O(jw)),x.depth);
M=[10,4]}else if(jw&&jw.classID=="Rctn"){var u=O(jw);l={N:g.C(u.o(),x.depth),S:u.Q()};l.N.fill(g.JN(x.depth));
M=[10,15]}else if(jw&&jw.classID=="ObSl"){var u=O(jw),iH=H.IE.oN,s=iH.S,bV=iH.MN,jU=s.r,hx=s.$,eX=u.x-s.x,et=eX+u.r-1,f7=Math.max(eX,Math.min(et,eX+et>>>1)),iY=u.y-s.y,cd=iY+u.$-1,jV=Math.max(iY,Math.min(cd,iY+cd>>>1)),g2=Math.max(eX,0),gV=Math.min(et,jU),fD=Math.max(iY,0),j4=Math.min(cd,hx);
bV.fill(128);if(0<=iY)for(var p=g2;p<gV;p++)bV[iY*jU+p]=0;if(cd<hx)for(var p=g2;p<gV;p++)bV[cd*jU+p]=0;
if(0<=eX)for(var d=fD;d<j4;d++)bV[d*jU+eX]=0;if(et<jU)for(var d=fD;d<j4;d++)bV[d*jU+et]=0;var dQ=H.jo.a27,eO=Math.round(u.r*dQ),a7=Math.round(u.$*dQ);
for(var p=Math.max(0,f7-eO);p<Math.min(jU,f7+eO);p++)bV[jV*jU+p]=255;for(var d=Math.max(0,jV-a7);d<Math.min(hx,jV+a7);
d++)bV[d*jU+f7]=255;H.iO.tv(iH,!0);l={N:iH.g.slice(0),S:s.Q()};M=[10,44]}else if(jw&&jw.classID=="Plgn"){l=this.aDb(q(jw.Pts.v.arr),x.depth);
M=[10,9]}else if(jw&&jw.classID=="Pnt"){l=H.ky.awU(x,new aG(jw.Hrzn.v.val,jw.Vrtc.v.val),[b.Tlrn.v,t,b.Cntg==null||b.Cntg.v],b.Mrgd?b.Mrgd.v:!1);
M=[10,12]}else if(jw&&jw.Ordn=="None"){l=null;M=[7,1]}else if(jw&&jw.Ordn=="Al"){var cc=P;if(x.Y.length!=0){var ad=x.root.jJ(x.Y[0]);
while(ad.parent&&ad.parent.parent)ad=ad.parent;if(ad.w.add.artb)cc=ad.w.Gf()}l={N:g.C(cc.o(),x.depth),S:cc};
l.N.fill(g.JN(x.depth));M=[7,0]}else if(jw&&jw[0]&&jw[0].v.keyID=="WrPt"){var jC={R:"frompath",Yk:[-1,0,0]};
this.vE(jC,v,x,o,R);return}else{var iJ=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(c),kJ=c=="set"?jw:i,jr=kJ[0].v.enum,jC;
if(jr=="Trsp"||jr=="Gray"||jr=="Msk"||jr=="vectorMask"||jr=="Trgt"){var fY=x.Y[0];if(kJ.length==2)fY=kj.YF(x,kJ[1]);
var iR=["Trsp","Msk","vectorMask"].indexOf(jr);if(jr=="Trgt"&&x.k[fY].kG==1)iR=1;if(jr=="Gray")iR=-1;
jC={R:"fromlayer",Yk:[fY,iR,iJ]}}else{if(kJ[0].t=="name"){var fY=0;for(var h=0;h<x.ac.length;h++)if(x.ac[h].name==kJ[0].v.val)fY=h;
jC={R:"fromchannel",Yk:[-5-fY,0,iJ]}}else{var g6=["RGB","Rd","Grn","Bl"].indexOf(jr);jC={R:"fromchannel",Yk:[-1-g6,0,iJ]}}}this.vE(jC,v,x,o,R);
return}if(l){if(!t)g.round(l.N);if(b.Fthr)l=H.IE.acf(l,b.Fthr.v.val,!1);if(c!="set"&&x.g!=null)l=g.tp.im(l,x.g,z)}}if(c=="expand"||c=="contract")if(!U&&!P.contains(l.S)){var ay=l.S.Xt(P),cQ=g.C(ay.o(),x.depth);
g.Cc(l.N,l.S,cQ,ay);l.N=cQ;l.S=ay}}if(r=="qmask"){aC=!0;var cp=x.XP(),f=new jj(0,0,x.r,x.$);if(cp){l=cp.S.Ym(f)&&g.sM(cp.N,255)?null:{S:cp.S.Q(),N:cp.N.slice(0)};
dI=cp}else{l=null;fm=new m.V1;fm.color=0;fm.name="Quick Mask";fm.nX=!0;if(x.g){fm.S=x.g.S.Q();fm.N=x.g.N.slice(0)}else{fm.S=f;
fm.N=g.C(fm.S.o());fm.N.fill(255)}}M=[6,6,1];x.wj=!0}if(r=="setsel"){l=J.g;M=J.hX}if(r=="crange"){var Y=J.WN,A=J.N3;
l=H.IE.xC(x,Y,A,J.BP);M=[7,8]}if(r=="fromlayer"||r=="fromchannel"||r=="frompath"){var hp=J.Yk[0],iR=J.Yk[1],z=J.Yk[2];
if(r=="fromlayer"){if(hp==null)hp=x.Y[0];var gA=x.k[hp];if(iR<=0){if(gA.tX()){var ad=x.root.jJ(hp);l={N:g.C(0),S:new jj};
for(var h=0;h<ad.children.length;h++){var jN=ad.children[h].w;if(jN.S.L3())continue;var d4=g.C(jN.S.o());
g.Vi(jN.buffer,d4,3);var ey={N:d4,S:jN.S.Q()};if(h==0)l=ey;else l=g.tp.im(l,ey,1)}if(l.S.L3())return}else{var jG=gA.S,cF=gA.buffer;
if(jG.L3())return;var f5=g.C(cF.length>>>2,x.depth);if(iR==0)g.Vi(cF,f5,3);if(iR==-1)g.dF(cF,f5);l={N:f5,S:jG.Q()}}}else{if(gA.pR==null)gA.B0(x);
var jW=iR==1?gA.q9():gA.pR;l=H.IE.afN(jW,P)}this.track(H.IE.EW(z,["Trsp","Msk"][iR],gA.getName()))}else if(r=="frompath"){var f$=x.Ng(),bh=f$[1],f$=f$[0],b7=!0;
if(hp==null)if(f$.length==0||bh.length==0)return;var ii=f$[bh[0]];if(hp!=null)for(var h=0;h<f$.length;
h++)if(f$[h].Vn==hp)ii=f$[h];var jW=ii.add.vmsk.q9(),dM=jW.ca();if(dM.o()==0)return;var f5=jW.OG();if(J.Yk[3]!=null)b7=J.Yk[3];
if(!b7){f5=f5.slice(0);g.round(f5)}hd=[JSON.stringify(x.GP),JSON.stringify(x.TW)];ku=["[]","[]"];x.GP=[];
x.TW=[];l={N:f5,S:dM}}else{if(hp==null)hp=H.IE.aFY(x);l=H.IE.aH6(x,hp)}if(z!=0&&x.g)l=g.tp.im(l,x.g,z);
M=[14,11]}if(r=="bgrm"){if(H.IE.aiY(x,v,J,R))return;var bz=window.locStor.getItem("bgrmt");if(bz==null)bz=0;
var cZ=4*60*60,e4=H.IE.aEH.bind([x,v,J,R]),fI=Math.floor((Date.now()-bz)/1e3);if(!cl.w8(1)&&fI<cZ&&cl.z2(R,1)==null){var aI=f6.hV(),iV=aI?"Out of AI credits :( Now, you":"Non-Premium users",k6=iV+" can use it once in two hours ("+((cZ-fI)/60).toFixed(1)+" min remain). "+(aI?"":"Go Premium for $5 a month (press Account at the top).")+" \nWatch a short ad and skip waiting?";
cP.qJ(e4,k6,"rmbg")}else e4();return}if(l!=null&&g.sM(l.N,0)){l=null;M=[7,1]}if(l)g.Zv(l);var bq=new js(M,this);
bq.data={R:"changesel",g:l,XP:aC,awM:dI,afk:fm,o8:hd,azz:ku};x.q$(bq);this.MW(bq.data,x)};H.IE.aiY=function(J,v,x,o){var R=J.k[J.Y[0]],r=R.S,l=R.buffer,M=r.r,P=r.$,S=[0,0,M-1,0,0,P-1,M-1,P-1],c=!0;
for(var h=0;h<4;h+=2){var b=(S[h+1]*M+S[h])*4,w=0;for(var U=0;U<3;U++){w+=(l[U]-l[b+U])*(l[U]-l[b+U])}if(w>25)c=!1}if(c&&R.q9()==null&&J.g==null){var F=g.C(M*P);
for(var h=0;h<4;h++){var Y=S[h*2],A=S[h*2+1],G=20,n=1,E=null;if(F[A*M+Y]>200)continue;while(G<120){var K=H.ky.QL(l,r,new aG(Y,A),null,[G,!0,!0]),e=0;
for(var U=0;U<K.length;U++)e+=K[U];var $=G<50?1.015:1.004;if(E&&e>n*$)break;E=K;n=e;G+=10}for(var U=0;
U<E.length;U++)F[U]=Math.max(F[U],E[U])}g.SV(F);H.IE.axM(R,v,F,r,x.K,null);alert(gF.Bu("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};H.IE.aEH=function(){var J=this[0],v=this[1],x=this[2],o=this[3],R=2,r=J.k[J.Y[0]],l=r.S,M=r.buffer,P=1,S=[4096,4096,2048][R];
while(Math.max(l.r,l.$)>S){var c=g.WU(M,l);l=c.S;M=c.r3;P*=2}var b=d2.s$("png"),w=d2.s$("jpg"),U=w.lS([[M.buffer]],l.r,l.$),F=new FormData;
F.append("image",new Blob([U],{type:"ima"+"ge/j"+"pg"}));F.append("mode","mask");var Y=new dd(j.E.j,!0);
Y.data={R:j.m.A9,oy:"Processing ..."};v.a(Y);window.aAU=Date.now();var A=function(G){console.log(Date.now()-window.aAU);
var n=G.target.response,E=new Uint8Array(n),K=b.lx(n)[0],e=K.P0,$=g.C(e.o());g.dF(new Uint8Array(K.data),$);
for(var h=0;h<$.length;h++){if($[h]>250)$[h]=255}if(P!=1){var c=H.ge.qS([$,e],new bC(P,0,0,P,0,0));e=c.S;
$=c.N}e.x=r.S.x;e.y=r.S.y;H.IE.axM(r,v,$,e,x.K,gF.Bu("AQVUYE\\{}"));var Y=new dd(j.E.j,!0);Y.data={R:j.m.fz,oy:"Processing ..."};
v.a(Y);if(cl.z2(o,1)==null){cl.LB("Rem"+"ove B"+"G",1);window.locStor.setItem("bgrmt",Date.now())}};
cl.ay2(gF.Bu("aQVUYEi<87<5=7:0#"),F,cl.z2(o,1),A)};H.IE.axM=function(J,v,x,o,R,r){var l=new dd(j.E.G,!0);
if(R==1){l.J=H.wu;l.data={R:m.Fe,yU:r,alT:!0};v.a(l);var M=J.q9();M.color=0;M.S=o;M.N=x;M.Zv();J.B0()}else if(R==2){l.J=H.ZT;
l.data={R:"setsel",g:{N:x,S:o},hX:"Select Subject"};v.a(l)}else throw"e"};H.IE.aFY=function(J){var v=0;
if(J.Dk.length!=0)v=-5-J.Dk[0];else if(JSON.stringify(J.U.xY)=="[1,1,1]")v=-1;else v=-2-J.U.xY.indexOf(1);
return v};H.IE.aH6=function(J,v){var x,o=new jj(0,0,J.r,J.$);if(-5<v&v<0){var R=-v-1,r=J.rv(),l=g.C(o.o());
if(R==0)g.dF(r,l);else g.Vi(r,l,R-1);x={N:l,S:o.Q()}}if(v<-4){x=H.IE.afN(J.ac[-v-5],o)}return x};H.IE.afN=function(J,v){var x,o;
if(J.Eb()==0){o=J.ca().Q();if(o.o()==0)return;x=J.OG()}else{o=v;x=g.C(o.o());J.PP(o,x)}return{N:x,S:o}};
H.IE.prototype.YZ=function(J){return this.T$||J.x4&&this.id!=H.$T};H.IE.prototype.wH=function(J,v,x){var o=new dd(v,!0);
o.data=x;J.a(o)};H.IE.prototype.a6f=function(J,v){var x=new dd(j.E.j,!0);x.data={R:j.m.HX,O5:v};J.a(x)};
H.IE.prototype.ca=function(J,v,x){v=J.g==null||this.bf.Na(1)||this.bf.rA(1)?v:null;var o=this.Z7,R=this.VQ;
if(x){o.x=Math.max(0,Math.min(J.r,o.x));o.y=Math.max(0,Math.min(J.$,o.y));R.x=Math.max(0,Math.min(J.r,R.x));
R.y=Math.max(0,Math.min(J.$,R.y))}var r=H.YP.ID(o,R,v,!0,this.Qu.cstr),l=r[0].x,M=r[0].y,P=new jj(l,M,r[1].x-l,r[1].y-M);
if(x){P.x=Math.max(P.x,0);P.y=Math.max(P.y,0)}return P};H.IE.prototype._N=function(J,v,x,o,R){this.e5=!0;
if(this.Sb())return;this.mm=v;this.bn=!1;this.bf._N(o);this.Z7=J.U.hW(R.x,R.y);this.Z7=H.Io.a4(J,this.Z7,x);
if(this.amv(J,this.Z7,o)){this.T$=!0;this.k5=J.g.S.Q();return}this.y1(J,x,o,R);J.U.bh=new jj};H.IE.prototype.amv=function(J,v,x){var o=x.M(gw.Yv),R=x.M(gw.i4);
if(J.g&&!o&&!R&&this.Qu.binop==0)return g.M$(v,J.g.N,J.g.S);return!1};H.IE.prototype.kq=function(J,v,x,o,R){this.mm=v;
if(this.Lj)return;var r=J.U.hW(R.x,R.y);if(aG.Aj(this.Z7,r)*J.U.NT>5){this.bn=!0;this.bf.kq()}if(o.M(gw.OW)){if(this._P==null)this._P=new aG(r.x-this.Z7.x,r.y-this.Z7.y);
this.Z7.x=r.x-this._P.x;this.Z7.y=r.y-this._P.y}else this._P=null;this.VQ=r;if(!this.T$&&this.id!=H.$T)this.VQ=H.Io.a4(J,this.VQ,x);
if(this.amv(J,this.VQ,o))this.a6f(v,"move");else this.a6f(v,this.z1);if(this.T$){var l=this.k5.Q();l.x+=this.VQ.x-this.Z7.x;
l.y+=this.VQ.y-this.Z7.y;var M=H.Io.XE(J,l,x);J.g.S.x=Math.round(this.VQ.x-this.Z7.x+this.k5.x+M[0]);
J.g.S.y=Math.round(this.VQ.y-this.Z7.y+this.k5.y+M[1]);J.rf=!0;H.Io.SE(J,l,M);return}this._k(J,x,o,R,v);
if(J.U.bh)J.U.bh=this.ca(J,o)};H.IE.prototype.Sb=function(){return!1};H.IE.prototype.ER=function(J,v,x,o,R,r){var l=this.e5;
this.e5=!1;if(r||!l)return;J.U.bh=null;this.VQ=J.U.hW(R.x,R.y);this.VQ=H.Io.a4(J,this.VQ,x);if(this.T$){this.T$=!1;
if(J!=null&&J.dB.Af){J.dB.Af=null;J.ms=!0}if(this.VQ.Ym(this.Z7)&&this.Xb()==0){this.wH(v,j.E.aT,H.IE.DT());
return}this.a3M(J,this.k5,J.g.S.Q());return}this.Vg(J,x,o,R,v);H.IE.axr(v,x);this.bf.ER();this.ng(v)};
H.IE.prototype.a3M=function(J,v,x){var o=J.Wo();if(o!=null&&o.J==this&&o.data.R=="movesel"){}else{o=new js([7,7],this);
o.data={R:"movesel",P5:v};J.q$(o)}o.data.IB=x;this.MW(o.data,J)};H.IE.prototype.HD=function(J,v,x,o,R){this.Lj=!0};
H.IE.prototype.Su=function(J,v,x,o,R){var r=new dd(j.E.j,!0);r.data={R:j.m.hf,J:this.id,L$:R,C_:J,f:x};
v.a(r);this.Lj=!1};H.IE.prototype.lb=function(J,v,x,o){this.bf.lb(o);if(J!=null&&J.g!=null){var R=o.m0();
if(R.x!=0||R.y!=0){var r=J.g.S.Q();r.x+=R.x;r.y+=R.y;this.a3M(J,J.g.S.Q(),r)}}this.ng(v)};H.IE.prototype.ng=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.hf,J:this.id,gv:this.Xb()};J.a(v)};H.IE.prototype.Xb=function(){var J=this.bf.Na(0),v=this.bf.rA(0);
return H.IE.Cd(this.Qu.binop,J,v)};H.IE.Cd=function(J,v,x){if(v)J=1;if(x)J=2;if(v&&x)J=3;return J};H.IE.prototype.finish=function(J,v,x,o){var R=J.g,r=this.getSelection(J,v,x,o);
if(r==null)r=H.IE.DT();else{var l=this.Qu.feat,M=this.Xb();if(l!=0)r._g.Fthr={t:"UntF",v:{type:"#Pxl",val:l}};
if(M!=0&&M!=4)r.QI=["","addTo","subtractFrom","interfaceWhite",""][M]}this.wH(this.mm,j.E.aT,r);this.Z7._h(-1,-1);
this.VQ._h(-1,-1)};H.IE.prototype.getSelection=function(J,v,x,o){return null};H.IE.prototype.y1=function(J,v,x,o){};
H.IE.prototype._k=function(J,v,x,o){};H.IE.prototype.Vg=function(J,v,x,o){};H.IE.prototype.mJ=function(J,v){var x=J.R;
if(x=="changesel"){var o=v.g;v.g=J.g;J.g=o}if(x=="movesel")v.g.S=J.P5;if(J.XP){if(J.awM){v.Dk=[v.ac.length];
v.ac.push(J.awM)}else{v.ac.pop();v.Dk=[]}}if(J.o8){v.GP=JSON.parse(J.o8[0]);v.TW=JSON.parse(J.o8[1])}v.rf=!0};
H.IE.prototype.MW=function(J,v){var x=J.R;if(x=="changesel"){var o=v.g;v.g=J.g;J.g=o}if(x=="movesel")v.g.S=J.IB;
if(J.XP){if(J.afk){v.Dk=[v.ac.length];v.ac.push(J.afk)}else{v.ac.pop();v.Dk=[]}}if(J.o8){v.GP=JSON.parse(J.azz[0]);
v.TW=JSON.parse(J.azz[1])}v.rf=!0};H.IE.prototype.CS=function(J){return J.R=="changesel"&&J.g?J.g.N.length:0};
H.IE.prototype.zN=function(J){for(var v in J.Qu)this.Qu[v]=J.Qu[v]};H.IE.prototype.aDb=function(J,v){var x=g.b.jR(J.T);
if(x.L3())return null;var o=g.n2(x.r,x.$);o.save();o.beginPath();o.translate(-x.x,-x.y);Typr.U.pathToContext({cmds:J.Wp,crds:J.T},o);
o.closePath();o.fill();o.restore();var R=g.C(x.o()),r=o.getImageData(0,0,x.r,x.$);g.Vi(new Uint8Array(r.data.buffer),R,3);
if(v!=8)R=g.N2(R,v);return{S:x,N:R}};H.IE.acf=function(J,v,x,o,R){if(x)v=Math.round(v*.7);var r=Math.ceil(2.6*v),l=J.S.Q();
l.rz(r,r);if(o&&!R)l=l.Xt(o);var M=g.C(l.o(),g.u3(J.N));g.Cc(J.N,J.S,M,l);g.Wh.MM(M,l,v);if(x){var P=M.length,S=g.JN(g.u3(M)),c=S/2;
for(var h=0;h<P;h++){var b=(M[h]-c)*v*2.5;M[h]=Math.max(0,Math.min(S,c+b))}}return{N:M,S:l}};H.IE.aha=function(J,v,x){var o=g.u3(J.N),R=g.N2(J.N,8),r=Math.max(1,Math.ceil(x)),l=J.S.Q();
l.rz(r,r);var M=l.o(),P={N:g.C(M),S:l},S=g.C(M);g.Cc(R,J.S,S,P.S);if(x!=0)g.style.stroke(S,P.N,P.S,x);
else g.oj(S,P.N);var c=g.C(M);g.SV(S);if(v!=0)g.style.stroke(S,c,P.S,v);else g.oj(S,c);g.tp.Xt(P.N,c,P.N);
P.N=g.N2(P.N,o);return P};H.IE.xC=function(J,v,x,o,R){var r=new jj(0,0,J.r,J.$),l=J.rv();if(J.g){var M=J.g.S.Xt(r),P=g.C(M.o()*4);
g.sW(l,r,P,M);r=M;l=P}var S=r.o(),c=g.C(S),b=1/o;if(R){if(v>=x)v=x-1;var w=v*(1-o),U=v,F=x,Y=x+(255-x)*o,A=w==U?0:1/(U-w),G=F==Y?0:1/(Y-F);
for(var h=0;h<S;h++){var n=h<<2,E=g.x3(l[n],l[n+1],l[n+2]),K=0;if(E<w)K=0;else if(E<U)K=(E-w)*A;else if(E<=F)K=1;
else if(E<=Y)K=1-(E-F)*G;else K=0;c[h]=l[n+3]*K*K}}else for(var h=0;h<S;h++){var n=h<<2,e=g.ZG(l[n],l[n+1],l[n+2]),K=g.ayq(e,v,x,o,b);
c[h]=l[n+3]*K}return{S:r,N:c}};H.LF=function(){H.P8.call(this,[10,18],H.Tg,"tools/blur");this.kg="copy"};
H.LF.prototype=new H.P8;H.LF.prototype._N=function(J,v,x,o,R){var r=o.M(gw.i4)?ix.gG:ix.Tg;this.g4(J,x,o,R,this.Qu.strn,r);
if(this.XO==null)return;this.aH(J)};H.LF.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);if(this.R3)this.bL(J,x,R);
if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};H.cn=function(){H.P8.call(this,[10,0],H.kN,"tools/brush");
this.kg="draw"};H.cn.prototype=new H.P8;H.cn.prototype._N=function(J,v,x,o,R){if(this.ts(J,v,x,o,R,!0))return;
this.g4(J,x,o,R,this.Qu.flow);if(this.XO==null)return;this.aH(J)};H.cn.prototype.kq=function(J,v,x,o,R){if(this.ts(J,v,x,o,R))return;
this.r2(J,v,x);if(this.R3)this.bL(J,x,R);if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};
H.nR=function(){H.P8.call(this,[10,42],H.BX,"tools/crepl");this.kg="idraw";this.Qu.bmode="hue "};H.nR.prototype=new H.P8;
H.nR.prototype._N=function(J,v,x,o,R){if(this.ts(J,v,x,o,R,!0))return;this.g4(J,x,o,R,this.Qu.flow);
if(this.XO==null)return;this.aH(J)};H.nR.prototype.kq=function(J,v,x,o,R){if(this.ts(J,v,x,o,R))return;
this.r2(J,v,x);if(this.R3)this.bL(J,x,R);if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};
H.zM=function(){H.P8.call(this,[10,43],H.JI,"tools/redeye");this.Qu.smode=0;this.kg="redeye"};H.zM.prototype=new H.P8;
H.zM.prototype._N=function(J,v,x,o,R){this.g4(J,x,o,R,this.Qu.flow);if(this.XO==null)return;this.aH(J)};
H.zM.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);if(this.R3)this.bL(J,x,R);if(this.XO==null)return;
if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};H.ct=function(){H.P8.call(this,[10,38],H.if,"tools/pencil");
this.kg="draw"};H.ct.prototype=new H.P8;H.ct.prototype._N=function(J,v,x,o,R){if(this.ts(J,v,x,o,R,!0))return;
this.g4(J,x,o,R,this.Qu.flow);if(this.XO==null)return;this.aH(J)};H.ct.prototype.kq=function(J,v,x,o,R){if(this.ts(J,v,x,o,R))return;
this.r2(J,v,x);if(this.R3)this.bL(J,x,R);if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};
H.J2=function(){H.P8.call(this,[10,22],H.tb,"tools/burn");this.kg="burn"};H.J2.prototype=new H.P8;H.J2.prototype._N=function(J,v,x,o,R){this.g4(J,x,o,R,this.Qu.expo/Math.E);
if(this.XO==null)return;this.aH(J)};H.J2.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);if(this.R3)this.bL(J,x,R);
if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};H.pK=function(J,v,x){H.P8.call(this,J==""?null:J?J:[10,1],v?v:H.DJ,x?x:"tools/clone");
this.kg="clone";this.Ri=null;this.V=null};H.pK.prototype=new H.P8;H.pK.prototype._N=function(J,v,x,o,R){var r=this.Qu,l=r.alt[0];
if(o.M(gw.i4)||o.M(gw.Lo)||l){this.Ri=J.U.hW(R.x,R.y);this.V=null;if(l)this._w({alt:[!1]},v);this.UJ(J);
this.B4(x,o,J,R);return}if(this.Ri==null){alert(ea.get([15,7,0]));return}this.B4(x,o);this.g4(J,x,o,R,this.Qu.flow);
if(this.XO==null)return;this.V=this.a6v(J.U.hW(R.x,R.y));this.aH(J)};H.pK.prototype.a6v=function(J){var v=this.V;
if(v==null||!this.Qu.algnd)v=new aG(Math.round(J.x-this.Ri.x),Math.round(J.y-this.Ri.y));return v};H.pK.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);
if(this.R3)this.bL(J,x,R);if(this.XO==null){if(this.Ri!=null)this.B4(x,o,J,R);return}if(!R.x4||this.Ri==null)return;
this.hz(J,x,o,R);this.aH(J)};H.pK.prototype.vF=function(){return this.V};H.Vh=function(){H.AA.call(this,[10,53],H.aIE,"tools/csamp");
this.dW=-1;this.c3=null};H.Vh.prototype=new H.AA;H.Vh.prototype._N=function(J,v,x,o,R){this.c3=JSON.stringify(J.Ql);
var r=J.U.hW(R.x,R.y),l=J.Ql,M=1e9,P=-1;for(var h=0;h<l.length;h++){var S=l[h],c=r.x-S.x,b=r.y-S.y,w=c*c+b*b;
if(w<M){M=w;P=h}}var U=15/J.U.NT;P=M<U*U?P:-1;if(P==-1){P=l.length;l.push({x:r.x,y:r.y})}else if(o.M(gw.i4)){l.splice(P,1);
P=-1}this.dW=P;J.ms=!0};H.Vh.prototype.kq=function(J,v,x,o,R){var r=this.dW;if(r!=-1){var l=J.U.hW(R.x,R.y);
J.Ql[r].x=l.x;J.Ql[r].y=l.y;J.ms=!0}};H.Vh.prototype.ER=function(J,v,x,o,R,r){var l=new js(this.name,this);
l.data={EB:this.c3,ra:JSON.stringify(J.Ql)};J.q$(l);this.dW=-1};H.Vh.prototype.mJ=function(J,v){v.Ql=JSON.parse(J.EB)};
H.Vh.prototype.MW=function(J,v){v.Ql=JSON.parse(J.ra)};H.cD=function(J,v,x){H.AA.call(this,J,v,x);this.Qu={U5:{t:0,x:0,y:0},xK:!1,bN:!1};
this.iG=!1;this.z1=H.fM();this.d7=null;this.cursor=null;this.amO=0;this.hG=null;this.Z7=null;this.L7=null;
this.Is=!1;this.ph=!1};H.cD.prototype=new H.AA;H.cD.prototype.b7=function(){return this.d7!=null};H.cD.prototype.YZ=function(J){return this.Z7!=null||this.d7&&this.d7.a7P()};
H.cD.prototype._N=function(J,v,x,o,R){this.hG=R;var r=J.U.hW(R.x,R.y),l=this.Qu.U5,M=l.t!=0?l.x/l.y:null,P=this.Is;
this.Is=!1;if(this.d7){var S=this.d7.Nh(r,J.U.NT);if(P&&S==null){this.d7.clear(J);this.d7=null}else{this.d7._N(J,x,o,r,M,!1,R);
this.ph=!1;return}}this.Z7=H.Io.a4(J,r,x)};H.cD.prototype.va=function(J,v,x){if(x==null)x=[J.x,J.y,J.x+J.r,J.y,J.x+J.r,J.y+J.$,J.x,J.y+J.$];
return new jY(x,!0,!1,this.id==H.L6,!0,v,this.id==H.L6?2:0,this.id==H.L6?4:3)};H.cD.prototype.B4=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.HX,O5:this.cursor};J.a(v)};H.cD.prototype.enable=function(J,v,x,o){this.mm=v;this.cursor=this.z1;
this.B4(v);if(J!=null&&this.d7==null){var R=J.g?{nw:"cropby",ai0:3}:{nw:"config",Qu:this.Qu,abk:!0};
this.zN(R,v,J,o,x);if(J.g==null&&this.Qu.U5.t==0)this.Is=!0;this.ph=!0}};H.cD.prototype.kq=function(J,v,x,o,R){this.hG=R;
var r=J.U.hW(R.x,R.y);if(!R.x4){var l=this.z1;if(this.d7){var M=this.d7.Nh(r,J.U.NT,null,R);if(M)l=M;
else l="default"}if(l!=this.cursor){this.cursor=l;this.B4(v)}}if(this.d7)this.d7.kq(J,x,o,r);else if(this.Z7){if(this.iG){J.dB.xt={Wp:["M","L"],T:[this.Z7.x,this.Z7.y,r.x,r.y]}}else{var P=H.YP.ID(this.Z7,H.Io.a4(J,r,x),o,!0,this.Qu.U5),S=P[0].x,c=P[0].y,b=this.L7=new jj(S,c,P[1].x-S,P[1].y-c);
J.dB.xt=g.b.ho(b);H.AA.Wi(R,b,J,x)}J.ms=!0}};H.cD.avB=function(J,v,x){var o,R,M,P;if(v<=x){o=v;R=x}else{o=x;
R=v}var r=J-Math.floor((J+Math.PI)/(2*Math.PI))*2*Math.PI;r=Math.abs(r);if(r>Math.PI/2)r=Math.PI-r;var l=o/(R*Math.sin(r)+o*Math.cos(r));
if(v<=x){M=o*l;P=R*l}else{M=R*l;P=o*l}return{BK:M,mq:P}};H.cD.prototype.ER=function(J,v,x,o,R){this.hG=R;
var r=J.U.hW(R.x,R.y);if(this.d7==null){var l=this.L7;if(this.Z7&&(l||this.iG)){if(this.iG){var M=this.Z7,P=r,S=P.x-M.x,c=P.y-M.y;
if(Math.abs(S)<Math.abs(c))P=new aG(M.x-c,M.y+S);if(M.x>P.x){var b=M;M=P;P=b}var M=Math.atan2(-(P.y-M.y),P.x-M.x),w=H.cD.avB(M,J.r,J.$);
if(this.Qu.bN){var U=g.b.ho(new jj(0,0,J.r,J.$)),F=new bC;F.rotate(M);g.b.u(U.T,F,U.T);w=g.b.jR(U.T);
w={BK:w.r,mq:w.$}}var Y=[0,0,w.BK,0,w.BK,w.mq,0,w.mq],A=new bC;A.translate(-w.BK/2,-w.mq/2);A.rotate(M);
A.translate(J.r/2,J.$/2);g.b.u(Y,A,Y);this.d7=this.va(l,!1,Y);this.iG=!1}else{var G=this.Qu.U5;this.d7=this.va(l,G.t!=0)}this.ph=!1;
this.d7.N9(J,x);this.L7=null;this.wH(v,j.E.j,{R:j.m.hf,J:this.id,wa:!0});this.Z7=null;J.dB.kl=[];J.dB.xt=null;
J.ms=!0}return}this.d7.ER(J,x,o,r);this.wH(v,j.E.j,{R:j.m.hf,J:this.id,wa:!0});var Y=this.d7.ew();if(Math.abs(Y[0]-Y[4])<2&&Math.abs(Y[1]-Y[5])<2){this.tK(J,v,null,o);
return}if(Date.now()-this.amO<200&&this.d7.I6(r)){this.jt(J,x);this.tK(J,v,x,o);return}this.amO=Date.now()};
H.cD.prototype.lb=function(J,v,x,o){var R=this.d7;if(R==null||this.hG&&this.hG.x4)return;if(o.M(gw.O9)){this.jt(J,x);
this.tK(J,v,x,o)}else if(o.M(gw.T1)){this.tK(J,v,x,o)}else R.lb(J,x,o)};H.cD.ajN=function(J,v,x){var o={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:J[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:J[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:J[1]+J[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:J[0]+J[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:v!=null?v:0}},Dlt:{t:"bool",v:x!=null?x:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{QI:"crop",_g:o}};H.cD.oI=function(J,v){if(v==null)v=[!0,!0,!0,!0];var x={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][J]}}},o=["Top","Left","Btom","Rght"];
for(var h=0;h<4;h++)x[o[h]]={t:"bool",v:v[h]};return{QI:"trim",_g:x}};H.cD.pS=function(J,v,x,o,R){var r={classID:"null"};
if(o!=null){r.Wdth={t:"UntF",v:R?{type:"#Prc",val:J*100}:{type:"#Pxl",val:J}};r.Hght={t:"UntF",v:R?{type:"#Prc",val:v*100}:{type:"#Pxl",val:v}};
r.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][o]}}}if(x!=null)r.Rslt={t:"UntF",v:{type:"#Rsl",val:x}};
return{QI:"imageSize",_g:r}};H.cD.atI=function(J,v,x,o){if(x==null)x=4;if(o==null)o=!1;var R=Math.floor(x/3),r=x%3;
return{QI:"canvasSize",_g:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:J}},Hght:{t:"UntF",v:{type:"#Pxl",val:v}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][r]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][R]}},Rltv:{t:"bool",v:o}}}};
H.cD.prototype.vE=function(J,v,x,o,R){var r=new jj(0,0,x.r,x.$),l=[11,3],M=x.Bt,P=x.r/2,S=x.$/2,iH=1,fY,iR,g6;
function c(ku,h){return ku[h]+2*ku[h+1]+ku[h+2]>>>2}if(J.R=="cropAndStr"){var b=x.k[x.Y[0]],w=b.buffer,U=b.S,F=U.r,Y=U.$,A=F+2,G=[0,0,F-1,0,F-1,Y-1,0,Y-1],n,E=1e9,D=0;
for(var h=0;h<4;h++)for(var K=h+1;K<4;K++){var e=G[2*h],$=G[2*h+1],N=($*F+e)*4,k=(G[2*K+1]*F+G[2*K])*4,V=w[N]-w[k],X=w[N+1]-w[k+1],Q=w[N+2]-w[k+2],L=V*V+X*X+Q*Q;
if(L<E){E=L;n=new aG(e+.5,$+.5)}}var _=Date.now(),a=H.ky.QL(b.buffer,U,n,null,[16,!1,!0]);g.SV(a);var T=U.Q();
T.rz(1,1);var f=g.C(T.o());g.Cc(a,U,f,T);var Z=f.slice(0);for(var $=0;$<Y;$++)for(var e=0;e<F;e++){var K=$*F+e;
if(a[K]==255&&c(w,K*4)>200){var h=($+1)*A+e+1;f[h]=Z[h-A]&Z[h-1]&Z[h+1]&Z[h+A]}}var W=g.b.KH(f,T.r,T.$,0),C=new dd(j.E.j,!0);
C.data={R:j.m.iD};var _=Date.now();for(var d=0;d<W.length;d++){var p=W[d].path.T;if(W[d].ZW.o()<2500)continue;
var y=g.b.ar2(p,D==3);for(var h=0;h<y.length;h++)y[h]-=1;var i=new aG(y[0],y[1]),t=Math.ceil(aG.Aj(i,new aG(y[2],y[3]))),O=Math.ceil(aG.Aj(i,new aG(y[6],y[7]))),q=new jj(0,0,t,O),z=g.C(q.o()*4),p=g.O.e6(y,new jj(-1,-1,t+2,O+2));
p=g.O.SV(p);p=g.O.K1(p,g.O.Mf(new bC(U.r,0,0,U.$,U.x,U.y)));g.O.drawImage(p,b.buffer,U.r,U.$,z,q);D++;
var jw=C.data.qE=new d7("Image "+D+".psd");jw.r=t;jw.$=O;var u=jw.qL();u.v7("Background");u.buffer=z;
u.S=q;jw.k.push(u);v.a(C)}return}if(J.R=="fromAction"){var s=J.h7,bV=s.QI,jU=s._g,hx=x.r/x.$,A=jU.Wdth?jU.Wdth.v.val:-1,eX=jU.Hght?jU.Hght.v.val:-1,M=jU.Rslt?jU.Rslt.v.val:null,et=jU.Wdth?jU.Wdth.v.type:jU.Hght?jU.Hght.v.type:-1,f7=1,iY;
if(et=="#Prc"){if(A!=-1)A=Math.round(x.r*A/100);if(eX!=-1)eX=Math.round(x.$*eX/100)}if(bV=="imageSize"){if(jU.Intr){if(jU.Intr.v.Intp=="Nrst")f7=0;
if(jU.Intr.v.Intp=="bicubicSharper")f7=2;if(A==-1&&eX==-1){var cd=M/x.Bt;A=Math.round(x.r*cd);eX=Math.round(x.$*cd)}if(jU.CnsP&&jU.CnsP.v){if(A==-1)A=Math.round(eX*hx);
if(eX==-1)eX=Math.round(A/hx)}}else{if(et=="#Prc")M=Math.round(x.Bt*(x.r/A));else if(et==-1)M=Math.round(M);
else throw"e";A=x.r;eX=x.$}iY={R:"imgsize",Zm:A,Ha:eX,IQ:M,Gj:f7}}else if(bV=="canvasSize"){if(A==-1)A=x.r;
if(eX==-1)eX=x.$;if(jU.Rltv&&jU.Rltv.v==!0){if(jU.Wdth)A+=x.r;if(jU.Hght)eX+=x.$}var jV=jU.Vrtc?jU.Vrtc.v.VrtL:"Cntr",g2=jU.Hrzn?jU.Hrzn.v.HrzL:"Cntr";
iY={R:"canvsize",Zm:A,Ha:eX,__:3*["Top","Cntr","Btom"].indexOf(jV)+["Left","Cntr","Rght"].indexOf(g2)}}else if(bV=="revealAll"){iY={R:"revealAll"}}else if(bV=="trim"){var gV={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[jU.trimBasedOn.v.trimBasedOn];
if(gV==null)throw"e";var fD=["Top","Left","Btom","Rght"],j4=[!0,!0,!0,!0];for(var h=0;h<4;h++)if(jU[fD[h]])j4[h]=jU[fD[h]].v;
iY={R:"trim",a9k:gV,lJ:j4}}else if(bV=="crop"){var e,$,F,Y;if(jU.T){var dQ=jU.T.v,e=Math.round(dQ.Left.v.val),$=Math.round(dQ.Top.v.val),F=Math.round(dQ.Rght.v.val)-e,Y=Math.round(dQ.Btom.v.val)-$}else{var U=x.g.S;
e=U.x;$=U.y;F=U.r;Y=U.$}iY={R:"canvsize",Zm:F,Ha:Y,V:new aG(e,$),axB:jU.Dlt!=null&&jU.Dlt.v}}else console.log(s);
if(iY)this.vE(iY,v,x,o,R);return}else if(J.R=="imgsize"){r=new jj(0,0,J.Zm,J.Ha);if(J.IQ)M=J.IQ;iH=J.Gj}else if(J.R=="canvsize"){var eO=J.__!=null?J.__:0;
r=new jj(0,0,J.Zm,J.Ha);var a7=x.r-J.Zm,cc=x.$-J.Ha,ad=Math.round(a7/2),jC=Math.round(cc/2);if(eO==1||eO==4||eO==7)r.x=ad;
if(eO==2||eO==5||eO==8)r.x=a7;if(eO==3||eO==4||eO==5)r.y=jC;if(eO==6||eO==7||eO==8)r.y=cc;if(J.V){r.x=J.V.x;
r.y=J.V.y}}else if(J.R=="rot"&&(J.K+2*Math.PI)%(Math.PI/2)!=0){var iJ=g.b.ho(r).T,kJ=new bC;kJ.translate(-P,-S);
kJ.rotate(J.K);kJ.translate(P,S);g.b.u(iJ,kJ,iJ);r=g.b.jR(iJ)}else if(J.R=="rot"&&J.K!=Math.PI&&J.K!=-Math.PI){r=new jj(P-x.$/2,S-x.r/2,x.$,x.r);
if((x.r+x.$&1)==1){P=Math.floor(P);S=Math.floor(S);r=new jj(P-Math.floor(x.$/2),S-Math.floor(x.r/2),x.$,x.r);
if((x.r&1)==1&&J.K!=-Math.PI/2)r.y--;if((x.$&1)==1&&J.K==-Math.PI/2)r.x--}}else if(J.R=="trim"){l=[11,12,0];
var jr=x.rv(),U=new jj(0,0,x.r,x.$);r=g.H6(jr,U,J.a9k,J.lJ);if(r.L3())r=U}else if(J.R=="revealAll"){l=[11,12,2];
r=x.root.ca(x,!0)}var ay=J.R=="canvsize"&&J.axB;if(J.R=="imgsize"||J.R=="rot"||J.R=="scl"||ay){var cQ=new bC;
if(J.R=="imgsize"){l=[11,10];cQ.scale(J.Zm/x.r,J.Ha/x.$);g6=x.lg();for(var h=0;h<g6[0].length;h++)g6[0][h][1]*=g6[0][h][0]==0?cQ.o5:cQ.fn}else if(ay){}else{cQ.translate(-P,-S);
if(J.R=="rot")cQ.rotate(J.K);if(J.R=="scl")cQ.scale(J.K.x,J.K.y);cQ.translate(P,S);l=J.hX}iR=g.O.Mf(cQ);
fY=this.dS(x,R,!0,iR,iH,ay?r:null)}else if(J.R=="auto-align"){if(x.Y.length<2){alert("Select two or more layers.");
return}var aC=[];for(var h=0;h<x.Y.length;h++){var b=x.k[x.Y[h]];if(!b.rn()&&b.add.SoLd==null){alert("Unsupported layer selected.");
return}if(b.S.L3()){alert("Empty layer selected.");return}aC.push([b.buffer,b.S])}var dI=g.Xr.a3(aC);
if(dI==null){alert("No similarity found.");return}iR=dI[1];fY=this.dS(x,R,!1,dI,iH);r=x.root.ca(x,!0);
l=[2,10,1]}var fm=new jj(0,0,x.r,x.$);if(!r.L3()&&(!r.Ym(fm)||fY!=null)){var hd=new js(l,this);hd.data={lK:x.Bt,IQ:M,Wv:fY,LG:iR,Jj:H.cD.apQ(x,r,fm,fY!=null)};
if(g6){hd.data.YB=x.lg();hd.data.wJ=g6}H.cD.abx(x,hd.data,r);x.q$(hd);this.MW(hd.data,x,!0)}};H.cD.apQ=function(J,v,x,o){if(J.ek.length==0)return null;
var R=JSON.stringify(J.ek),r=JSON.parse(R);H.mT.a3r(r,v,x,o);r=JSON.stringify(r);return[R,r]};H.cD.prototype.dS=function(J,v,x,o,R,r,l){var M={k:[],Ug:null,QV:!0};
if(x)M.k=H.ge.k1(J);else M.k=J.Y.slice(0);M.Ug=H.ge.YW(J,M.k,!0);var P=Math.abs(o[3]*o[1])>1e-9;H.ge.tm(J,v,M.k,M.Ug,R,o,null,!0,P&&g.O.Vl(o)?null:r);
if(x&&l&&J.hH()){var S=J.k[J.Y[0]],c=S.buffer,b=S.S,w=P?b.Q():r.Q(),U=g.C(w.o()*4),F=g.C(b.o());g.Vi(c,F,3);
var Y=g.C(w.o());g.Cc(F,b,Y,w);g.round(Y,255);g.SV(Y);var A=g.$s.xB(c,b,Y,U,w);if(A==0){S.S=w;S.buffer=U}}return M};
H.cD.prototype.MW=function(J,v,x){if(J.IQ)v.Bt=J.IQ;if(J.Jj)v.ek=JSON.parse(J.Jj[1]);if(J.Wv){H.cD.ym(v,g.O.f4(J.LG));
if(x==null)H.ge.Ml(v,J.Wv);if(J.wJ)v.P_(J.wJ)}H.cD.Ht(v,J)};H.cD.prototype.mJ=function(J,v){if(J.lK)v.Bt=J.lK;
if(J.Jj)v.ek=JSON.parse(J.Jj[0]);H.cD.TC(v,J);if(J.U_)v.U.V.wf(J.U_);v.ah4();if(J.Wv){var x=g.O.f4(J.LG).Q();
x.SV();H.cD.ym(v,x);H.ge.Ml(v,J.Wv);if(J.YB)v.P_(J.YB)}};H.cD.ym=function(J,v){for(var h=0;h<J.k.length;
h++){var x=J.k[h];if(x.add.artb==null)continue;var o=g.b.ho(x.Gf()).T;g.b.u(o,v,o);var R=g.b.jR(o);x.$V(R)}};
H.cD.Eu=function(J){var v=new jj,x=0,o=J.root.children.length;for(var h=0;h<o;h++){var R=J.root.children[h].w;
if(R.add.artb==null)continue;v=v.h0(R.Gf());x++}var r=new jj(0,0,J.r,J.$);if(!v.L3()&&!r.Ym(v))return v;
return null};H.cD.MR=function(J){var v=H.cD.Eu(J);if(v)H.cD.xK(J,v,!0);return v};H.cD.xK=function(J,v,x){var o=J.r,R=J.$,r=v.r,l=v.$,M=v.x==0&&v.y==0;
if(M&&o==r&&R==l)return;J.r=r;J.$=l;var P=[];for(var h=0;h<J.k.length;h++)P.push(h);if(!M)H.Io.dO(J,P,null,-v.x,-v.y);
for(var h=0;h<J.k.length;h++){J.k[h].B0(J)}J.ah4();if(x){var S=J.U.V,c=J.U.NT;S.x+=Math.round((v.x+(r-o)/2)*c);
S.y+=Math.round((v.y+(l-R)/2)*c)}else J.U.V._h(0,0);if(J.g)J.g.S.offset(-v.x,-v.y);var b=J.lg();for(var w=0;
w<b[0].length;w++)if(b[1][w]==-1){var U=J.HC[w];U[1]-=U[0]==0?v.x:v.y}for(var h=0;h<J.ac.length;h++)J.ac[h].S.offset(-v.x,-v.y);
for(var h=0;h<J.h1.length;h++)g.I.Xi(J.h1[h].add.vmsk.X,new bC(1,0,0,1,-v.x,-v.y))};H.cD.prototype.zN=function(J,v,x,o,R){if(J.nw=="commit"){this.jt(x,R);
this.tK(x,v,null,o)}else if(J.nw=="cancel"){this.tK(x,v,null,o)}var r=null,l=new jj(0,0,x.r,x.$),M=this.Qu.U5;
if(J.nw=="config"){this.Qu=J.Qu;M=this.Qu.U5;if(x==null||!J.abk)return;r=l;if(M.t==1){var P=M.x/M.y;
if(r.r/P<r.$)r.$=Math.round(r.r/P);else r.r=Math.round(r.$*P)}if(M.t==2){r.r=M.x;r.$=M.y}r.x=Math.round((x.r-r.r)/2);
r.y=Math.round((x.$-r.$)/2);this.ph=!1}if(J.nw=="straighten"){alert("Draw a line in the image.");this.iG=!0}if(J.nw=="cropby"){if(x==null)return;
var S=J.ai0,r;if(S==0)r=x.root.ca(x,!0);if(S==1){if(x.Y.length==0)alert("No layer is selected.");else{var c=x.root.jJ(x.Y[0]);
r=c.ca(x,!0)}}if(S==2){if(x.Y.length==0)alert("No layer is selected.");else{r=g.H6(x.rv(),l,0);if(r.L3())r=l.Q()}}if(S==3){if(x.g!=null)r=x.g.S;
else alert("There is no selection.")}if(S==4){r=new jj(0,0,x.r,x.$)}}if(r&&r.L3())r=null;if(r!=null){this.d7=this.va(r,M.t!=0);
this.d7.N9(x,R);this.wH(v,j.E.j,{R:j.m.hf,J:this.id,wa:!0})}};H.AA.AC(H.cD);H.cD.prototype.jt=function(J,v){var x=this.d7.ew(),o=g.b.jR(x),R=this.akA(J,x),r=!1,l=this.Qu,M=l.U5,P=l.xK,S=M.x,c=M.y,U;
if(this.id==H.uJ&&M.t==2&&R.o()!=S*c){R=new jj(R.x,R.y,S,c);r=!0}var b=g.O.e6(x,R);b=g.O.SV(b);var w=!g.O.Vl(b),F=Math.abs(Math.atan2(b[3],b[0]))>1e-9,Y=new jj(0,0,J.r,J.$);
if(F||w||r||P||l.bN)U=this.dS(J,v,!0,b,1,o,l.bN);if(!F&&!w&&!r&&R.Ym(Y))return;var A=new js(this.name,this);
A.data={Wv:U,LG:b,U_:J.U.V.Q(),Jj:H.cD.apQ(J,R,Y,!1)};if(M.Bt!=null){A.data.lK=J.Bt;A.data.IQ=M.Bt}H.cD.abx(J,A.data,R);
J.q$(A);this.MW(A.data,J,!0);this.track(H.cD.ajN([o.x,o.y,o.r,o.$],null,P))};H.cD.abx=function(J,v,x){if(x==null)return;
v.P5=new jj(0,0,J.r,J.$);v.IB=x};H.cD.Ht=function(J,v){if(v.IB==null)return;H.cD.xK(J,v.IB)};H.cD.TC=function(J,v){if(v.IB==null)return;
var x=v.P5.Q();x.offset(-v.IB.x,-v.IB.y);H.cD.xK(J,x)};H.cD.prototype.akA=function(J,v){var x=g.O.e6(v),o=g.O.Vl(x),R=g.O.f4(x),r=R.zP,l=R.jD,M=Math.atan2(R.c,R.o5);
R.rotate(M);var P=new jj(r,l,R.o5,R.fn);if(!o){function S(E,h,K){var e=E[h]-E[K],$=E[h+1]-E[K+1];return Math.sqrt(e*e+$*$)}var c=S(v,0,2),b=S(v,4,6),w=Math.max(c,b),U=S(v,2,4),F=S(v,6,0),Y=Math.max(U,F),A=H.cD.ut(v,J.r/2,J.$/2),G,n;
if(isNaN(A)||A==Infinity||A==-Infinity||Math.min(A,1/A)<.1)A=(c+b)/(U+F);if(w/Y>A){G=w*1;n=G/A}else{n=Y*1;
G=n*A}P.r=G;P.$=n}P.x=Math.round(P.x);P.y=Math.round(P.y);P.r=Math.round(P.r);P.$=Math.round(P.$);return P};
H.cD.ut=function(J,v,x){var o=J[0]-v,R=J[1]-x,r=J[2]-v,l=J[3]-x,M=J[6]-v,P=J[7]-x,S=J[4]-v,c=J[5]-x,b=((R-c)*M-(o-S)*P+o*c-R*S)/((l-c)*M-(r-S)*P+r*c-l*S),w=((R-c)*r-(o-S)*l+o*c-R*S)/((P-c)*r-(M-S)*l+M*c-P*S),U=-((w*P-R)*(b*l-R)+(w*M-o)*(b*r-o))/((w-1)*(b-1));
function F(A){return A*A}var Y=Math.sqrt((F(b-1)+F(b*l-R)/U+F(b*r-o)/U)/(F(w-1)+F(w*P-R)/U+F(w*M-o)/U));
if(b==1&&w==1)Y=Math.sqrt((F(l-R)+F(r-o))/(F(P-R)+F(M-o)));return Y};H.cD.prototype.tK=function(J,v,x,o){if(J==null)return;
if(this.d7)this.d7.clear(J);this.d7=null;this.wH(v,j.E.j,{R:j.m.hf,J:this.id,wa:!1})};H.cD.prototype.disable=function(J,v,x,o){if(this.d7&&!this.ph)this.jt(J,x);
this.tK(J,v,x,o)};H.cD.prototype.wH=function(J,v,x,o){var R=new dd(v,!0);R.data=x;if(o)R.J=o;J.a(R)};
H.azk=function(){H.cD.call(this,[10,2],H.uJ,"tools/rcrop")};H.azk.prototype=new H.cD;H.af0=function(){H.cD.call(this,[10,39],H.L6,"tools/pcrop")};
H.af0.prototype=new H.cD;H.ZV=function(){H.P8.call(this,[10,21],H.mb,"tools/dodge");this.kg="dodge"};
H.ZV.prototype=new H.P8;H.ZV.prototype._N=function(J,v,x,o,R){this.g4(J,x,o,R,this.Qu.expo/Math.PI);
if(this.XO==null)return;this.aH(J)};H.ZV.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);if(this.R3)this.bL(J,x,R);
if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};H.VJ=function(){H.P8.call(this,[10,3],H.tW,"tools/eraser");
this.kg="erase"};H.VJ.prototype=new H.P8;H.VJ.prototype._N=function(J,v,x,o,R){this.g4(J,x,o,R,this.Qu.flow);
if(this.XO==null)return;this.aH(J)};H.VJ.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);if(this.R3)this.bL(J,x,R);
if(this.XO==null)return;if(!R.x4)return;var r=this.hz(J,x,o,R);this.aH(J)};H.sD=function(){H.P8.call(this,[10,45],H.x2,"tools/beraser");
this.kg="ierase"};H.sD.prototype=new H.P8;H.sD.prototype._N=function(J,v,x,o,R){if(this.ts(J,v,x,o,R,!0))return;
this.g4(J,x,o,R,this.Qu.flow);if(this.XO==null)return;this.aH(J)};H.sD.prototype.kq=function(J,v,x,o,R){if(this.ts(J,v,x,o,R))return;
this.r2(J,v,x);if(this.R3)this.bL(J,x,R);if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};
H.QW=function(){H.IE.call(this,[10,15],H.ZT,"tools/rselect");this.z1=H.fM()};H.QW.prototype=new H.IE;
H.QW.prototype._k=function(J,v,x,o){if(!o.x4||!this.bn)return;var R=this.ca(J,x,!0);J.dB.xt=g.b.ho(R);
J.ms=!0;H.AA.Wi(o,R,J,v)};H.QW.prototype.Vg=function(J,v,x,o){J.dB.xt=null;J.dB.kl=[];J.ms=!0;this.finish(J,v,x,o)};
H.QW.prototype.getSelection=function(J,v,x,o){if(this.Z7.Ym(this.VQ)||!this.bn)return null;var R=this.ca(J,x,!0);
if(R.L3())return null;return H.IE.JL("Rctn",R,this.Qu.anta)};H.AA.AC(H.QW);H.PW=function(){H.IE.call(this,[10,4],H.a30,"tools/eselect");
this.z1=H.fM()};H.PW.prototype=new H.IE;H.PW.prototype._k=function(J,v,x,o){if(!o.x4||!this.bn)return;
var R=this.ca(J,x);J.dB.xt=H.PW.a4J(R);J.ms=!0;H.AA.Wi(o,R,J,v)};H.PW.prototype.Vg=function(J,v,x,o){J.dB.xt=null;
J.dB.kl=[];J.ms=!0;this.finish(J,v,x,o)};H.PW.prototype.getSelection=function(J,v,x,o){if(this.Z7.Ym(this.VQ)||!this.bn)return null;
var R=this.ca(J,x);if(!R.Rt(new jj(0,0,J.r,J.$)))return null;return H.IE.JL("Elps",R,this.Qu.anta)};
H.PW.a4J=function(J){var v=J.x,x=J.y,o=J.x+J.r,R=J.y+J.$,r=(v+o)/2,l=(x+R)/2,M=(v-o)/2,P=(x-R)/2,S=.5522848,c={T:[r,l-P],Wp:["M","C","C","C","C"]};
c.T.push(r+S*M,l-P,r+M,l-S*P,r+M,l);c.T.push(r+M,l+S*P,r+S*M,l+P,r,l+P);c.T.push(r-S*M,l+P,r-M,l+S*P,r-M,l);
c.T.push(r-M,l-S*P,r-S*M,l-P,r,l-P);return c};H.AA.AC(H.PW);H.WG=function(J){H.AA.call(this,[10,5],J?H.Nq:H.vM,"tools/eyedropper");
this._9=null;this.aJ9=!1;this.Bq=0;this.fI=null;this._s=1;this.sP=2;this.a8G=!0;this.hd=!1};H.WG.prototype=new H.AA;
H.WG.prototype.YZ=function(J){return J.x4};H.WG.prototype.enable=function(J,v,x,o,R){H.AA.prototype.enable.call(this,J,v,x,o,R);
this.aJ9=R};H.WG.prototype.vE=function(J,v,x,o,R){if(J.R=="pickhere")this.LU(x,v,R,null,J.asc);if(J.R=="supertool")this._9=J.J};
H.WG.prototype._N=function(J,v,x,o,R){var r=this._9;if(r){r._N(J,v,x,o,R);return}if(du==0){this.fI=R;
this.Bq=x.P4;var l=this.LU(J,null,x,o,R);this.B4(J,v,l,R)}};H.WG.prototype.kq=function(J,v,x,o,R){if(du!=0)return;
var r=this._9;if(r){r.kq(J,v,x,o,R);return}var l=this.fI;if(l){var M=R.x-l.x,P=R.y-l.y,S=1,c=new aG(l.x+M*S,l.y+P*S),b=this.LU(J,null,x,o,c);
this.B4(J,v,b,c,new aG(M*(1-S),P*(1-S)))}};H.WG.prototype.B4=function(J,v,x,o,R){var r=this.a8G,l=this.hd;
if(J.U.NT>4)l=!1;if(!l&&!r)return;var M=H.WG.aFQ(J,l,r,o,R,x,this.Bq,this._s),P=new dd(j.E.j,!0);P.data={R:j.m.HX,O5:M};
v.a(P)};H.WG.prototype.ER=function(J,v,x,o,R,r){var l=this._9;if(l){l.ER(J,v,x,o,R);return}if(du==0){this.LU(J,v,x,o,R);
if(this.fI){this.fI=null;if(r)this.LU(J,v,x,o,R,this.Bq);var M=new dd(j.E.j,!0);M.data={R:j.m.HX,O5:"default"};
v.a(M)}}else{var P=J.U.hW(R.x,R.y),S=J.root.M$(new aG(Math.floor(P.x),Math.floor(P.y)));if(S==null)return;
var c=S.w.add,b=c.vstl,w=c.TySh;console.log(c);if(b==null&&w){var U=w.vv,F=bI.Ni(U,0,1);b={sN:F.iz.FillColor.Values.slice(1),T0:[]}}if(b==null)return;
var M=new dd(j.E.j);M.data={R:j.m.Qq,Fu:cj.YI,K:g.F(b)};v.a(M)}};H.WG.prototype.LU=function(J,v,x,o,R,r){if(r==null)r=H.WG.xv(J,R,this._s,this.sP);
var l=new dd(j.E.j);l.data={R:j.m.Qq,Fu:cj.Zl,Uq:!this.aJ9&&o&&o.M(gw.i4)?1:0,K:r};if(v)v.a(l);return r};
H.WG.aFQ=function(J,v,x,o,R,r,l,M){if(R==null)R=new aG(0,0);var P=new jj(0,0,J.r,J.$),S=J.rv(),c=12,b=11,w=(c*2+1)*b,U=new aG(w/2,w/2),F=new jj(0,0,w,w),Y=g.C(F.o()*4),A=J.U.hW(o.x,o.y),G=Math.floor(A.x),n=Math.floor(A.y),E=new bC;
E.scale(1/b,1/b);E.translate(G-c,n-c);if(v)g.scale.Ka(S,P,E,Y,F);var K=(c-3.4)*b,e=(c-1.7)*b,$=c*b;for(var N=0;
N<w;N++)for(var k=0;k<w;k++){var V=aG.Aj(new aG(k,N),U);if(V>K){if(x){var X=Math.max(0,K-V+1),Q=(N*w+k)*4,L=Y[Q+3]<<24|Y[Q]<<16|Y[Q+1]<<8|Y[Q+2],_=255<<24|(N<$+b*.5?r:l);
if(V>e){X=Math.max(0,e-V+1);L=_;_=4286611584}else if(!v){L=_&16777215}Y[Q+0]=(1-X)*(_>>>16&255)+X*(L>>>16&255);
Y[Q+1]=(1-X)*(_>>>8&255)+X*(L>>>8&255);Y[Q+2]=(1-X)*(_>>>0&255)+X*(L>>>0&255);Y[Q+3]=(1-X)*(_>>>24&255)+X*(L>>>24&255)}if(V>$){Y[(N*w+k)*4+3]=Math.max(0,255*($-V+1))}}}function a(h){var u=h<<2;
Y[u]=0;Y[u+1]=0;Y[u+2]=0;Y[u+3]=255}function T(h){var u=h<<2;Y[u]=255;Y[u+1]=255;Y[u+2]=255;Y[u+3]=255}var f=M*b+2,Z=w-f>>>1,W=Z+f-1;
if(v&&f<w)for(var h=0;h<f;h++){var D=Z*w+Z+h,C=W*w+Z+h,d=(Z+h)*w+Z,p=(Z+h)*w+W;a(D);a(C);a(d);a(p);if(h!=0&&h!=f-1){T(D+w);
T(C-w);T(d+1);T(p-1)}}if(!v)for(var h=-9;h<=9;h++){if(-3<h&&h<3)continue;var y=w>>>1,k=y*w+y+h,N=(y+h)*w+y;
T(k-w);a(k);T(k+w);T(N-1);a(N);T(N+1)}var i=r>>>16&255,t=r>>>8&255,O=r>>>0&255,q="RGB "+i+","+t+","+O,z=g.Cv([i/255,t/255,O/255]);
if(J.add.fcmy)q="CMYK "+z.map(function(u){return Math.round(u*100)}).join(",");var jw=H.AA.Nw(0,0,["#"+g.q2(r),q]),P=jw[1];
P.y=0;P.x=w-P.r>>>1;g.sW(jw[0],P,Y,F);return{fK:Y,Yf:F,k$:new aG(U.x+R.x,U.y+R.y)}};H.WG.xv=function(J,v,x,o,R){if(o==null)o=2;
var r=J.U.hW(v.x,v.y),l,M,P=J.Y.length==1&&J.k[J.Y[0]].kG>0&&R!=!0,S=J.Dk.length!=0,e=0,$=0,N=0;if(P||S){var c;
if(S)c=J.ac[J.Dk[0]];else{var b=J.k[J.Y[0]];c=b.kG==1?b.q9():b.a1p()}M=c.ca();if(!M.bB(r))return c.color==0?0:16777215;
l=g.C(M.o()*4);l.fill(255);var w=c.OG();g.QR(w,l)}else if(o==0&&J.Y.length!=0){var b=J.k[J.Y[0]];l=b.buffer;
M=b.S}else{l=o==2?J.rv():J.rv(J.Y[0]);M=new jj(0,0,J.r,J.$)}var U=Math.floor(r.x)-M.x,F=Math.floor(r.y)-M.y,Y=(x-1)/2,A=Math.max(0,U-Y),G=Math.max(0,F-Y),n=Math.min(M.r,U+Y+1),E=Math.min(M.$,F+Y+1),K=(n-A)*(E-G);
for(var U=A;U<n;U++)for(var F=G;F<E;F++){var h=4*(F*M.r+U);e+=l[h];$+=l[h+1];N+=l[h+2]}var k=g.u3(l),V=k==8?255:k==16?65535:1,X=255/(V*K);
e=Math.round(e*X);$=Math.round($*X);N=Math.round(N*X);return e<<16|$<<8|N};H.WG.prototype.zN=function(J){var v=J.Qu;
this._s=[1,3,5,11,31][v[0]];this.sP=v[1];this.a8G=v[2];this.hd=v[3]};H.La=function(){H.AA.call(this,[10,6],H.bF,"tools/gradient");
this.Qu=JSON.parse(gD.Sy[6]);this.Qu.Grad=JSON.parse(gD.Zg.awV);this.Dc=!1;this.U8=null;this.LY=null};
H.La.prototype=new H.AA;H.La.prototype.enable=function(J,v,x,o){H.AA.prototype.enable.call(this,J,v,x,o);
this.U8=J;if(this.Dc)H.MD.kh(J)};H.La.prototype.W6=function(J,v,x,o){if(x.Lz!=this.id)return;this.U8=J;
this.adt(J,v)};H.La.prototype.disable=function(J,v,x,o){this.U8=null;if(this.Dc)H.MD.CX(J)};H.La.prototype.adt=function(J,v){var x=H.MD.Qx(J);
this.Dc=x!=null;var o=new dd(j.E.j,!0);o.data={R:j.m.hf,J:this.id,Fu:x?J.k[J.Y[0]].add.GdFl:this.Qu,I:this.Dc};
v.a(o);if(this.Dc)H.MD.kh(J);else H.MD.CX(J)};H.La.prototype.zN=function(J){var v=this.U8;if(this.Dc){var x=v.k[v.Y[0]],o=x.add.GdFl;
if(o==null)return;this.GJ=JSON.stringify(o);x.add.GdFl=J.Fu;x.B0(v);v.Ai();H.MD.aav(this,v);H.MD.kh(v)}else this.Qu=J.Fu};
H.La.prototype._N=function(J,v,x,o,R){if(this.Dc){H.MD.prototype._N.call(this,J,v,x,o,R);return}if(!J.hH())return;
this.LY=H.Io.a4(J,J.U.hW(R.x,R.y),x)};H.La.prototype.kq=function(J,v,x,o,R){if(this.Dc){H.MD.prototype.kq.call(this,J,v,x,o,R);
return}if(!this.LY)return;var r=J.U.hW(R.x,R.y);r=H.Io.a4(J,r,x);if(o.M(gw.Yv))r=H.La.ga(this.LY,r);
J.dB.xt={T:[this.LY.x,this.LY.y,r.x,r.y],Wp:["M","L"]};J.dB.hM=[this.LY.x,this.LY.y,r.x,r.y];J.ms=!0};
H.La.prototype.ER=function(J,v,x,o,R){if(this.Dc){H.MD.prototype.ER.call(this,J,v,x,o,R);return}if(!this.LY)return;
var r=J.k[J.Y[0]],l=J.U.hW(R.x,R.y);l=H.Io.a4(J,l,x);if(o.M(gw.Yv))l=H.La.ga(this.LY,l);if(aG.Aj(this.LY,l)>2){var M;
if(J.g)M=J.g.S;else M=new jj(0,0,J.r,J.$);var P=g.C(M.o()*4,J.depth),S=this.Qu,c=S.Type.v.GrdT,b=S.Opct.v.val,w=this.LY;
if(c=="Lnr")w=new aG((w.x+l.x)/2,(w.y+l.y)/2);g.UH.eb(w,l,M,S);iD.po(S,P,M,J,null,null,x.P4,x.Vb);var U=P.length,F=b/100;
if(b!=100)for(var h=0;h<U;h+=4)P[h+3]=Math.round(P[h+3]*F);var Y=new dd(j.E.G);Y.J=H.tW;Y.data={R:"fillBMP",qG:P,Sx:gX.kF(S.Md.v.BlnM),hX:this.name};
v.a(Y)}J.dB.xt=null;J.dB.hM=[];J.ms=!0;this.LY=null};H.La.prototype.vE=function(J,v,x,o,R){function r(b){b=b.v;
var w=b.Hrzn.v.val,U=b.Vrtc.v.val;return x.U.Lp(w,U)}if(J.R=="fromAction"){var l=this.Qu;this.Qu=g.F(l);
var M=J.h7._g,P=["Grad","Type","Opct","Dthr"];for(var h=0;h<P.length;h++)if(M[P[h]])this.Qu[P[h]]=M[P[h]];
var S=r(M.From),c=r(M.T);this._N(x,v,R,o,S);this.ER(x,v,R,o,c);this.Qu=l}};H.La.ga=function(J,v){if(J.Ym(v))return J;
var x=v.x-J.x,o=v.y-J.y,R=Math.abs(x),r=Math.abs(o);if(R>r)r=R/2>r?0:R;if(r>R)R=r/2>R?0:r;R=x>0?R:-R;
r=o>0?r:-r;var l=Math.sqrt(x*x+o*o)/Math.sqrt(R*R+r*r);return new aG(J.x+R*l,J.y+r*l)};H.La.QZ=function(J,v,x,o,R,r,l){var M=new jj(0,0,v,x),P=g.C(v*x*4);
g.PH(P,v,x,4);var S=Math.sin(o),c=Math.cos(o),b=g.C(v*x*4);g.UH.$m(J,b,M,[c*1/v,S*1/v,-S*1/x,c*1/x],v/2,x/2,!1,0,R,r);
g.v.Ry("norm",b,M,P,M,M,1);if(l)return new ImageData(new Uint8ClampedArray(P.buffer),v,x);else return d2.IR(P.buffer,v,x,null,null,!0)};
H.La.ac2=function(J,v,x){var o=g.F(J);if(o.Clrs)for(var h=0;h<o.Clrs.v.length;h++){var R=o.Clrs.v[h].v,r=R.Type.v.Clry;
if(r=="UsrS")continue;var l=r=="FrgC"?v:x;R.Type.v.Clry="UsrS";R.Clr={t:"Objc",v:g.UH.YK({z:l>>16&255,H:l>>8&255,c:l&255})}}return o};
H.La.prototype.MW=function(J,v){H.MD.prototype.MW.call(this,J,v)};H.La.prototype.mJ=function(J,v){H.MD.prototype.mJ.call(this,J,v)};
H.MD=function(){H.AA.call(this,"Vector Gradient",H.a8_,"tools/gradient");this.q8=null;this.xJ=null;this.dW=null;
this.GJ};H.MD.prototype=new H.AA;H.MD.prototype.enable=function(J,v,x,o){H.MD.kh(J)};H.MD.prototype.W6=function(J,v,x,o){if(x.Lz!=this.id)return;
H.MD.kh(J)};H.MD.prototype.disable=function(J,v,x,o){H.MD.CX(J)};H.MD.CX=function(J){if(J==null)return;
J.dB.Ru=null;J.dB.hM=[];J.ms=!0};H.MD.prototype._N=function(J,v,x,o,R){var r=H.MD.Qx(J);if(r==null&&du==0){var l=new dd(j.E.aT,!0);
l.data=H.YP.Z9(1);v.a(l);r=H.MD.Qx(J)}if(r==null)return;var M=H.Io.a4(J,J.U.hW(R.x,R.y),x),P=H.MD.aI(r,M,J),S=J.k[J.Y[0]],c=S.add.GdFl,b=S.add.vstl;
this.GJ=JSON.stringify(du==0?c:b);this.q8=M;if(P==-1){var w=r[1];this.xJ=[M.x,M.y,M.x+2,M.y];if(w[0]==1){this.xJ.push(M.x,M.y-2);
w[2][4]=1}this.dW=1;H.MD.aFC(J,this.xJ)}else{this.xJ=r[0];this.dW=P}};H.MD.prototype.kq=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=H.MD.Qx(J),M=this.dW;
if(M!=null){var P=this.xJ.slice(0);r=H.Io.a4(J,r,x);if(o.M(gw.Yv))r=H.La.ga(new aG(P[0],P[1]),r);var S=r.x-P[M*2],c=r.y-P[M*2+1];
if(M==0){for(var h=0;h<P.length;h+=2){P[h]+=S;P[h+1]+=c}}else{P[M*2]+=S;P[M*2+1]+=c}H.MD.aFC(J,P,M)}else if(l){var b=H.MD.aI(l,r,J),w=new dd(j.E.j,!0);
w.data={R:j.m.HX,O5:b==-1?"default":b==0?"move":"pointer"};v.a(w)}H.MD.kh(J)};H.MD.aI=function(J,v,x){var o=6*H.rR()/x.U.NT,R=J[0],r=g.b.CK(R,v.x,v.y,o);
if(r==0&&R.length==8&&R[0]==R[6]&&R[1]==R[7])r=3;if(r==-1&&J[1][0]==1)r=g.b.CK(R.slice(0,2),v.x,v.y,2*o);
return r};H.MD.prototype.ER=function(J,v,x,o,R){if(this.xJ==null)return;this.xJ=null;this.dW=null;H.MD.aav(this,J)};
H.MD.aav=function(J,v){var x=v.Y[0],o=v.k[x],R=o.add.GdFl,r=o.add.vstl,l=JSON.stringify(R?R:r),M=v.history[v.wb];
if(M&&M.J==J&&M.data.bH==x)M.data.wJ=l;else{var P=new js("Change Gradient",J);P.data={bH:x,YB:J.GJ,wJ:l};
v.q$(P)}};H.MD.aFC=function(J,v,x){var o=J.k[J.Y[0]],R=o.add.GdFl,r=o.add.vstl,l=o.add.vmsk,M=new aG(v[0],v[1]),P=new aG(v[2],v[3]),S=new aG(v[4],v[5]),c=new aG(v[6],v[7]);
if(r){var b=r.sN[0],w=r.sN[2],U=gd.ps(M,P,new bC),F=gd.vg(b,U,l.X);if(b==1){var Y=aG.Aj(S,M)/aG.Aj(P,M);
if(Math.abs(Y-1)<.03)Y=1;F[2][4]=x==2?Y:w[4];if(x==3){if(aG.Aj(c,M)/aG.Aj(P,M)<.05)c=M.Q();gd.D8(F,M,P,c,F[2][4]);
if(F[2][6]>.999)F[2][6]=.999}else{F[2][5]=w[5];F[2][6]=w[6]}}F[1]=r.sN[1];r.sN=F}else{var b=R.Type.v.GrdT,A=o.S;
if(b=="Lnr"||b=="Rflc"){M.x=(M.x+P.x)/2;M.y=(M.y+P.y)/2}g.UH.eb(M,P,A,R);o.B0(J)}J.Ai()};H.MD.Qx=function(J){if(J==null||J.Y.length==0)return;
var v=J.k[J.Y[0]],x=v.add.GdFl,o=v.add.vstl;if(x==null&&o==null)return;if(o==null)o=d7.RF(v.add,J);var R=o.sN;
if(R.length!=4)return;var r=v.add.vmsk?v.add.vmsk.X:g.I.yu.Rect(0,0,J.r,J.$),l=gd.zv(R,r),r=[0,0,1,0];
if(du==1&&R[0]==1){var M=R[2][5]*Math.PI/180,P=R[2][6];r.push(0,-1,Math.cos(M)*P,-Math.sin(M)*P)}g.b.u(r,l,r);
return[r,R,l]};H.MD.kh=function(J){if(J)H.MD.CX(J);var v=H.MD.Qx(J);if(v==null)return;var x=v[0],o=v[1],R=v[2],r={T:x.slice(0,4),Wp:["M","L"]};
if(o[0]==1){var l=g.I.yu.Bd(-1,-1,2,2),M=g.b.Am(l);g.b.u(M.T,R,M.T);g.b.concat(r,M)}J.dB.Ru=r;J.dB.hM=x;
J.ms=!0};H.MD.prototype.MW=function(J,v){var x=v.k[J.bH],o=du==0?"GdFl":"vstl";if(J.wJ){x.add[o]=JSON.parse(J.wJ);
x.B0(v);v.Ai();H.MD.CX(v)}};H.MD.prototype.mJ=function(J,v){var x=v.k[J.bH],o=du==0?"GdFl":"vstl";if(J.wJ){x.add[o]=JSON.parse(J.YB);
x.B0(v);v.Ai();H.MD.CX(v)}};H.n3=function(){H.AA.call(this,[10,7],H.Ji,"tools/hand");this.vZ=!1;this.fI=new aG(0,0);
this.zU=null;this.vq=0};H.n3.prototype=new H.AA;H.n3.prototype.zN=function(J,v,x,o){this.vZ=J.vZ};H.n3.prototype.vE=function(J,v,x,o,R){var r=J.R;
if(r=="setcls"){x.U.xY=J.xY;x.ms=!0;x.Se=!0}if(r=="scroll"){if(o.M(gw.aw))H.n3.Du(x,x.U.V.x-J.Zb.y,x.U.V.y-J.Zb.x);
else H.n3.Du(x,x.U.V.x-J.Zb.x,x.U.V.y-J.Zb.y)}};H.n3.prototype.enable=function(J,v,x,o){this.zU=null;
var R=new dd(j.E.j,!0);R.data={R:j.m.HX,O5:"grab"};v.a(R);if(J&&Date.now()-this.vq<300){R.e=j.E.G;R.J=H.C5;
R.data={R:"adapt",K:"fitscr"};v.a(R)}this.vq=Date.now()};H.n3.prototype._N=function(J,v,x,o,R){this.zU=J.U.V.Q();
this.fI._h(R.x,R.y)};H.n3.prototype.kq=function(J,v,x,o,R){if(!R.x4)return;if(this.zU==null)this._N(J,v,x,o,R);
var r=this.vZ?v.n4:[J];for(var h=0;h<r.length;h++)H.n3.Du(r[h],this.zU.x+(R.x-this.fI.x),this.zU.y+(R.y-this.fI.y))};
H.n3.prototype.ER=function(J,v,x,o,R){this.zU=null};H.n3.Du=function(J,v,x){var o=J.U.NT,R=J.U.SU,r=R.r,l=R.$,M=g.b.ho(new jj(0,0,J.r,J.$)).T,P=new bC;
P.rotate(J.U.U1);g.b.u(M,P,M);var S=g.b.ni(M),c=S.r*o,b=S.$*o,w=c<r&&b<l,U=r/2+c/2-64,F=l/2+b/2-64;J.U.V._h(Math.max(-U,Math.min(U,v)),Math.max(-F,Math.min(F,x)));
J.Se=!0};H.ki=function(){H.AA.call(this,[10,47],H.Nj,"tools/rview");this.fI=new aG(0,0);this._T=null;
this.sE=null;this.vq=0};H.ki.prototype=new H.AA;H.ki.prototype.enable=function(J,v,x,o){this.zU=null;
var R=new dd(j.E.j,!0);R.data={R:j.m.HX,O5:"grab"};v.a(R);if(J&&Date.now()-this.vq<300&&J.U.U1!=0){J.U.U1=0;
J.ms=!0}this.vq=Date.now();if(J)this.ZP(J,v)};H.ki.prototype.disable=function(J,v,x,o,R){if(J)this.ZP(J,v)};
H.ki.prototype.tC=function(J,v,x,o){if(J)this.ZP(J,v)};H.ki.prototype._N=function(J,v,x,o,R){this.fI._h(R.x,R.y);
var r=J.U;this._T=r.hW(r.SU.r/2,r.SU.$/2);this.sE=r.Vu();var l=r.hW(r.SU.r/2,r.SU.$/2),M=Math.min(r.SU.r,r.SU.$)*.35/r.NT,P=M*.2,S=l.x,c=l.y;
J.dB.xt={Wp:"M L L L L L".split(" "),T:[S,c,S,c-M,S+P,c,S,c+M,S-P,c,S,c-M]};J.ms=!0};H.ki.prototype.a9W=function(J){var v=J.U,x=v.hW(v.SU.r/2,v.SU.$/2);
J.dB.xt={Wp:["M","L"],T:[x.x,x.y,x.x,x.y-200]}};H.ki.prototype.kq=function(J,v,x,o,R){if(!R.x4)return;
var r=J.U,l=this._T,M=this.fI,P=new aG(r.SU.r/2,r.SU.$/2),S=Math.atan2(R.y-P.y,R.x-P.x),c=Math.atan2(M.y-P.y,M.x-P.x),b=Math.atan2(this.sE.c,this.sE.o5),w=S-c,U=Math.PI/4;
if(o.M(gw.Yv)){w=b+U*Math.round((w-b)/U)}this.a2T(J,v,this.sE.Q(),l,w)};H.ki.prototype.ER=function(J,v,x,o,R){J.dB.xt=null;
J.ms=!0};H.ki.prototype.zN=function(J,v,x,o){this.a2T(x,v,null,null,J.YN-x.U.U1);x.U.U1=J.YN};H.ki.prototype.a2T=function(J,v,x,o,R){var r=J.U;
if(x==null)x=r.Vu();if(o==null)o=r.hW(r.SU.r/2,r.SU.$/2);x.translate(-o.x,-o.y);x.rotate(R);x.translate(o.x,o.y);
r.aa8(x);if(J.r*r.NT<r.SU.r&&J.$*r.NT<r.SU.$)r.V._h(0,0);J.ms=!0;this.ZP(J,v)};H.ki.prototype.ZP=function(J,v){var x=new dd(j.E.j,!0);
x.data={R:j.m.hf,J:this.id,YN:J.U.U1};v.a(x)};H.hg=function(){H.pK.call(this,[10,25],H.f9,"tools/hbrush")};
H.hg.prototype=new H.pK("");H.hg.prototype.ER=function(J,v,x,o,R){if(this.XO==null)return;this.o$(J,"heal",this.XO.Hl(),this.XO.ca(),this.XO.vn());
this.Ai(J,this.XO.vn());H.P8.prototype.ER.call(this,J,v,x,o,R);if(!this.Qu.algnd)this.V=null};H.nB=function(J){H.AA.call(this,J?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],J?H.El:H.i9,J?"tools/vtype":"tools/htype");
this.to=[];this.f=null;this.caller=null;this.EP=1;this.Oa=0;this.zL=null;this.am_=0;this.my=0;this.aor=null;
this.Fr=null;this.yM=null;this.hN=null;this.CI=null;this.n_=null;this.a1L=null;this.O0=null;this.d7=null;
this.go=null;this.avG=null;this.$Y=!1;this.oD=!1;this.yG=!1;this.J4=null;this.$o=null;this.app=null;
this.i1=!1;this.LC=!1;this.B2=-1;this.k7=-1;this.Uh=document.createElement("textarea");this.Uh.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Uh.addEventListener("input",this.Tm.bind(this),!1);this.Uh.addEventListener("keydown",this.a4a.bind(this),!1);
this.Uh.addEventListener("keyup",this.a5x.bind(this),!1)};H.nB.prototype=new H.AA;H.nB.prototype.YZ=function(J){return J.x4};
H.nB.prototype.W6=function(J,v,x,o){if(this.yM!=null||this.id==H.El)return;this.caller=v;var R=this.aAY(J);
if(R.length!=0){var r=null,l=[],M=[];for(var h=0;h<R.length;h++){var P=J.k[R[h]],S=P.add.TySh,c=0,b=bI.FB(S.vv).length-2,w=bI.Ni(S.vv,c,b);
bI.iT(w,S.u.Nf());if(w.iz.Font!=null)w.iz.Font=w.t6[w.iz.Font].Name;r=w.t6;l.push(w.iz);M.push(w.u7)}var w={t6:r,iz:bI.K1(l),u7:bI.K1(M)};
if(w.iz.Font!=null)bI.ud(w,w.iz.Font);this.aww(v,w,S)}};H.nB.prototype.aAY=function(J){var v=[];for(var h=0;
h<J.Y.length;h++)if(J.k[J.Y[h]]&&J.k[J.Y[h]].add.TySh)v.push(J.Y[h]);return v};H.nB.prototype.vE=function(J,v,x,o,R){var r=J.R=="insertGlyph",l=J.R=="copyText",M=J.R=="selectAll";
if((r||l||J.R=="insertText"||M)&&this.yM){var P=r?String.fromCharCode(65533):J.K,S=this.Uh,c=S.value,b=S.selectionStart,w=S.selectionEnd;
if(l){aB.PN(new Blob([c.slice(b,w)],{type:"text/plain"}))}else if(M){this.B2=S.selectionStart=0;this.k7=S.selectionEnd=c.length;
this.Mq(x);S.focus()}else{S.value=c.slice(0,b)+P+c.slice(w);S.selectionStart=S.selectionEnd=b+P.length;
this.Tm(null,r?J.K:null);S.focus()}}if(J.R=="updateStyles"){if(this.yM==null){var U=this.aAY(x),F=!1;
if(U.length!=0){this.dI(x,v,R,U);for(var h=0;h<U.length;h++){var Y=x.k[U[h]],A=Y.add.TySh;bI.yK(A,this.EP);
A.gZ.VAlign.v=this.Oa;this.yM=Y;var G=bI.FB(A.vv);this.B2=0;this.k7=G.length-1;bI.qc(A.vv,this.B2,this.k7,this.U7(R,A));
var n=this.kI(x,R);if(n==!1)F=!0}if(F){this.i1=!0;return}this.ob(x,v,!0)}return}this.IT(R)}if(J.R.startsWith("warp")){var E=this.LC;
if(J.R=="warp"||J.R=="warpCancel"){if(this.yM==null)return;if(J.R=="warp")this.yM.add.TySh.Pd=J.wL;else this.yM.add.TySh.Pd=this.a1L;
this.kI(x,R);if(!E)this.Mq(x)}if(J.R!="warp")this.Uh.focus();if((J.R=="warpConfirm"||J.R=="warpCancel")&&E){this.LC=!1;
if(J.R=="warpConfirm")this.ob(x,v);else this.Ib(x,v)}}if(J.R=="editCurr"){if(R.Lz!=H.i9){this.zL=R.Lz;
var K=new dd(j.E.j,!0);K.data={R:j.m.lE,J:H.i9};v.a(K)}if(this.yM!=null)this.disable(x,v,R,o);this.f=R;
this.caller=v;this.dI(x,v,R,[J.IA]);var G=bI.FB(this.yM.add.TySh.vv);this.B2=0;this.k7=G.length-1;this.Mq(x);
this.$i();this.Uh.focus()}if(J.R=="switchPntPrgr"){if(this.yM)return;var Y=x.k[x.Y[0]],A=Y.add.TySh,e=A.u.Nf(),$=Y.xD(),N=g.F(A.vv),k=bI.eP(N),V=k==1?bI.JG(N):[0,0,Math.round($.r*1.05/e),Math.round($.$*1.25/e)],X=bI.Ni(N,0,0),Q=X.t6[X.iz.Font].Name,L=R.rr.FX(Q),_=[0,V[2],V[2]/2][X.u7.Justification%3],a=(L?fc.uh(L):.8)*X.iz.FontSize;
bI.IN(N,1-k);if(k==0){console.log(fc.uh(L,Q,X.iz));_=-_;a=-a;bI.lC(N,[0,0,V[2],V[3]])}var T=new bC(1,0,0,1,_,a);
T.concat(A.u);this.vE({A3:x.Y[0],R:"newED",Er:N,u:T,amc:[16,3,k==1?0:1]},v,x,o,R)}if(J.R=="newED"){var Y=x.k[J.A3],A=Y.add.TySh,f=this.uX(x,[J.A3]);
A.vv=J.Er;if(J.u)A.u=J.u;if(h4.iR(A,R.rr,v)){h4.kI(Y,R.rr,x);x.Ai()}else x.C4=!0;var Z=new js(J.amc?J.amc:this.name,this);
Z.data={WL:f,N5:this.uX(x,[J.A3])};x.q$(Z)}if(J.R=="fromAction"){var W;if(J.h7.QI=="set"){W=J.h7._g.T.v}else{W=J.h7._g.Usng.v;
var D=W.TxtC.v,C=[];for(var h=0;h<2;h++){var d=D[h==0?"Hrzn":"Vrtc"].v,P=d.val;if(d.type=="#Prc")P=(h==0?x.r:x.$)*(P/100);
C[h]=P}this.U9(x,v,R,o,x.U.Lp(C[0],C[1]),!0)}var Y=x.k[x.Y[0]],A=Y.add.TySh,p=A.vv,c=bI.FB(p);bI.u9(p,0,c.length-1);
bI.Cq(p,0,W.Txt.v.replace(/\r/g,"\n"));c=bI.FB(p);for(var k=0;k<2;k++){var y=W[k==0?"Txtt":"paragraphStyleRange"];
if(y==null)continue;y=y.v;for(var h=0;h<y.length;h++){var i=y[h].v,b=i.From.v,w=Math.min(i.T.v-1,c.length-1);
i=i[k==0?"TxtS":"paragraphStyle"].v;var t=bI.Ni(p,b,w),O=k==0?t.iz:t.u7;for(var q in i){var z=i[q].v;
if(q=="Sz")O.FontSize=Math.round(z.val*(z.type=="#Pnt"?x.Bt/72:1));else if(q=="fontPostScriptName")bI.ud(t,z);
else if(q=="Algn")O.Justification={Left:1,Cntr:2}[z.Alg];else if(q=="leading")O.Leading=i[q].v.val;else if(q=="baselineShift")O.BaselineShift=i[q].v.val;
else if(q=="autoLeading")O.AutoLeading=i[q].v;else if(q=="syntheticBold")O.FauxBold=i[q].v;else if(q=="syntheticItalic")O.FauxItalic=i[q].v;
else if(q=="Trck")O.Tracking=i[q].v;else if(q=="verticalScale")O.VerticalScale=i[q].v/100;else if(q=="horizontalScale")O.HorizontalScale=i[q].v/100;
else if(q=="Clr")O.FillColor={Type:1,Values:[1,z.Rd.v/255,z.Grn.v/255,z.Bl.v/255]}}bI.qc(p,b,w,t)}}if(h4.Qn(x,R.rr,v))h4.kI(Y,R.rr,x);
else x.C4=!0;x.Ai();this.ob(x,v)}};H.nB.prototype.IT=function(J){var v=Math.min(this.B2,this.k7),x=Math.max(this.B2,this.k7),o=this.yM.add.TySh;
bI.yK(o,this.EP);o.gZ.VAlign.v=this.Oa;var R=this.U7(J,o);bI.qc(o.vv,v,x-1,R);var r=this.caller.j4(),l=this.kI(r,J);
if(l)this.Mq(r);if(document.activeElement.tagName.toLowerCase()!="input")this.Uh.focus()};H.nB.prototype.V9=function(J){return this.to.indexOf(J)!=-1};
H.nB.prototype.enable=function(J,v,x,o){var R=this.Uh;v._.appendChild(R);this.O0="default";this.B4(v)};
H.nB.prototype.b7=function(){return this.yM!=null};H.nB.Nd=function(J,v){var x=new aG(v.x,v.y);for(var h=J.k.length-1;
h>=0;h--){var o=J.k[h],R=o.add.TySh;if(R&&J.axw(h)){var r=x,l=o.S;if(du==1){var M=R.u.Q();M.SV();r=M.Xw(x);
l=o.QF.m5}if(!l.bB(r))continue;var P=o.UP(31);return P?-2:h}}return-1};H.nB.prototype._N=function(J,v,x,o,R){this.f=x;
this.caller=v;var r=J.U.hW(R.x,R.y),l=this.yM==null;if(l){var M=H.nB.Nd(J,r);if(M==-2){alert(ea.get([6,57,0]));
return}if(M>=0&&!o.M(gw.Yv)){if(!h4.iR(J.k[M].add.TySh,x.rr,v)){alert("Fonts not loaded yet");return}this.dI(J,v,x,[M])}else{this.yG=!0;
this.J4=R;return}}var P=l?-1:bI.eP(this.yM.add.TySh.vv),S=this.go?this.go:this.d7,c=S&&S._N(J,x,o,r,null,null,R)&&g.wL.KV(this.yM.add.TySh.Pd),b=!l&&g.b.aou(r,this.yM.xD())>20/J.U.NT&&(P==0||P==1);
if(c||b){this.$Y=!0;this.$o=r;this.app=this.yM.add.TySh.u.Q();if(this.B2==-1&&this.k7==-1)this.B2=this.k7=this.pu(r)}else{if(this.CI==null){alert("Fonts not loaded yet");
return}this.oD=!0;this.B2=this.k7=this.pu(r);var w=Date.now();if(w-this.am_>300)this.my=0;this.my++;
this.am_=w;if(this.my==2)this.ak7();if(this.my==3)this.aum();if(this.my>1){this.oD=!1}}this.$i();this.Mq(J)};
H.nB.prototype.dI=function(J,v,x,o){var R=J.k[o[0]];this.yM=R;this.wH(v,j.E.j,{R:j.m.hf,J:this.id,nw:"showactive"});
this.hN=o;J.Y=o.slice(0);J.oc();J.TA=!0;this.n_=this.uX(J,o);this.pk(R.add.TySh);this.kI(J,x)};H.nB.prototype.pk=function(J){if(bI.eP(J.vv)!=1)return;
var v=bI.JG(J.vv);v=new jj(0,0,v[2]-v[0],v[3]-v[1]);var x=[v.x,v.y,v.x+v.r,v.y,v.x+v.r,v.y+v.$,v.x,v.y+v.$];
g.b.u(x,J.u,x);this.d7=new jY(x,!1,!1,!1,!0);this.d7.VR(0)};H.nB.prototype.ak7=function(){var J=bI.FB(this.yM.add.TySh.vv);
this.B2=this.a5g(J,this.B2);this.k7=this.aiU(J,this.B2)};H.nB.prototype.a5g=function(J,v){var x=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",o=[];
for(var h=0;h<x.length;h++)o.push(x.charAt(h));var R=o.indexOf(J[v])==-1?!0:!1;for(var h=v-1;h>=0;h--)if(o.indexOf(J.charAt(h))!=-1==R)return h+1;
return 0};H.nB.prototype.aiU=function(J,v){var x=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",o=[];for(var h=0;
h<x.length;h++)o.push(x.charAt(h));var R=o.indexOf(J[v])==-1?!0:!1;for(var h=v+1;h<J.length;h++)if(o.indexOf(J.charAt(h))!=-1==R)return h;
return J.length-1};H.nB.prototype.aum=function(){var J=this.CI.axR(this.B2);this.B2=J[0];this.k7=J[1]};
H.nB.prototype.B4=function(J){var v=new dd(j.E.j,!0);v.data={R:j.m.HX,O5:this.O0};J.a(v)};H.nB.prototype.kq=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=this.yM;
if(!R.x4){var M="default",P=this.d7,S=this.go?this.go:P;if(S&&g.wL.KV(l.add.TySh.Pd)){var c=S.Nh(r,J.U.NT,null,R);
if(c)M=c;else if(S==P&&P.I6(r))M="text"}else if(l&&g.b.aou(r,l.xD())>20/J.U.NT)M="move";else if(H.nB.Nd(J,r)>=0)M="text";
if(M!=this.O0){this.O0=M;this.B4(v)}}var b=this.J4;if(this.yG&&Math.min(R.x-b.x,R.y-b.y)>4/J.U.NT){this.yG=!1;
this.U9(J,v,x,o,R);l=this.yM;this.$Y=!0;this.d7=new jY(null,!1,!1,!1,!0);this.d7.VR(0);var w=J.U.hW(this.J4.x,this.J4.y);
w.x=Math.round(w.x);w.y=Math.round(w.y);this.d7._N(J,x,o,w,null,null,R,J.U.U1)}if(this.$Y){var U=l.add.TySh;
if(this.go){this.go.kq(J,x,o,r);var F=g.O.f4(g.O.e6(this.go.ew(),this.avG));U.u=F;this.kI(J,x);bI.ff(U)}else if(this.d7){this.d7.kq(J,x,o,r);
var Y=U.u.Q(),A=Math.atan2(Y.c,Y.o5);Y.rotate(A);var F=g.O.f4(g.O.e6(this.d7.ew())),G=Math.atan2(F.c,F.o5);
F.rotate(G);if(!isNaN(F.o5)&&F.o5*F.fn-F.c*F.Mz!=0){var n=new jj(0,0,F.o5/Y.o5,F.fn/Y.fn),E=n.r,K=n.$,e=U.vv.Curve;
if(e){var $=bI.JG(U.vv),N=new bC(E/$[2],0,0,K/$[3],0,0);g.b.u(e.Points,N,e.Points);bI.ff(U)}bI.lC(U.vv,[0,0,E,K]);
U.u=g.O.f4(g.O.e6(this.d7.ew(),n));this.kI(J,x);bI.ff(U)}}else{var k=r.x-this.$o.x,V=r.y-this.$o.y;U.u=this.app.Q();
var X=new aG(U.u.zP+k,U.u.jD+V);X=H.Io.a4(J,X,x);U.u.zP=X.x;U.u.jD=X.y;this.kI(J,x)}}if(this.oD)this.k7=this.pu(r);
if(this.$Y||this.oD)this.Mq(J)};H.nB.prototype.U9=function(J,v,x,o,R,r){var l=J.Ng(),M=l[0],P=l[1],S=J.qL();
S.add.lnsr="rend";var c=J.k.slice(0);S.v7("Text layer "+c.length);this.yM=S;var b=J.Y.length==0?J.k.length-1:J.Y[J.Y.length-1],w=b+1;
if(c[b].add.lsct==h2.Uk)w--;this.n_={WT:c.slice(0),ee:J.Y.slice(0)};c.splice(w,0,S);J.Y=[w];this.B2=this.k7=0;
J.C0(c);this.n_.i8=c.slice(0);this.n_.gb=J.Y.slice(0);this.wH(v,j.E.j,{R:j.m.hf,J:this.id,nw:"showactive"});
var U=J.U.hW(R.x,R.y),F=x.oC;console.log(F);if(this.id==H.El){F=g.F(F);F.iz.BaselineDirection=1}S.add.TySh=bI.Q6(U.x,U.y,F,J.U.U1);
var Y=S.add.TySh,A=Y.vv;if(this.id==H.El)A._LineOrientation=2;bI.yK(Y,this.EP);Y.gZ.VAlign.v=this.Oa;
if(R.x4)bI.IN(A,1);else{bI.IN(A,0);var G=M[P.pop()],n=G?G.add.vmsk:null;if(r)n=null;if(n&&!o.M(gw.Yv)){n=n.Q();
var E=n.X,e,$;for(var h=0;h<E.length;h++)if(E[h].da!=null)E[h].da=0;var K=5/J.U.NT;e=g.I.M$(n.X,U,!0,K);
if(e.Vn==-1)e=g.I.M$(n.X,U);if(e.Vn!=-1){bI.IN(A,1);var N=g.I.I5(E,e.Vn),k=g.I.yq(E,e.Vn)-1;E=n.X=E.slice(0,2).concat(E.slice(N,N+k+1));
n.Y=[];Y.add={vmsk:n,vogk:m.Tr(E)};A.Curve={};bI.bi(Y);if(e.BI!=null){var V=fc.$w(A.Curve);g.b.u(V[0],Y.u,V[0]);
var X=g.b.CK(V[0],U.x,U.y),Q=x.oC.u7.Justification;if(Q==2||Q==5){var L=(V[2][X]+V[3]*.5)%V[3];X=fc.ck(L,V[2])}var _=V[1][X];
_=_%k;n.J7=[_,_];bI.bi(Y)}else this.pk(Y)}}}return S};H.nB.prototype.ER=function(J,v,x,o,R,r){if(r){this.yG=!1;
return}if(this.yM==null&&!this.yG)return;var l=J.U.hW(R.x,R.y),M=this.yG;if(this.yG){this.yG=!1;this.U9(J,v,x,o,R);
this.oD=!0}if(this.$Y||this.oD){this.Mq(J);this.$i();if(M)this.IT(x)}if(this.$Y&&this.d7)this.d7.ER(J,x,o,l);
this.$Y=this.oD=!1;this.Uh.focus()};H.nB.prototype.$i=function(){var J=this.yM.add.TySh,v=Math.min(this.B2,this.k7),x=Math.max(this.B2,this.k7),o,R;
if(v==x){var r=bI.FB(J.vv);if(v==0||r.charAt(v-1)=="\n")o=R=v;else o=R=v-1}else{o=v;R=x-1}var l=bI.Ni(J.vv,o,R);
bI.iT(l,J.u.Nf());this.aww(this.caller,l,J)};H.nB.prototype.aww=function(J,v,x){this.wH(J,j.E.j,{R:j.m.Qq,Fu:cj.KI,oC:v});
var o=this.EP=bI.aR(x),R=this.Oa=x.gZ.VAlign.v;this.wH(this.caller,j.E.j,{R:j.m.hf,J:this.id,nw:"changeOther",SL:o,vL:R})};
H.nB.prototype.Su=function(J,v,x,o,R){if(J==null)return;var r=J.U.hW(R.x,R.y),l=H.nB.Nd(J,r);if(l==-1)return;
var M=new dd(j.E.j,!0);M.data={R:j.m.hf,J:this.id,nw:"showpan",anJ:this.yM!=null,IA:l,L$:R,C_:J,f:x};
v.a(M)};H.nB.prototype.ae0=function(){var J=this.yM;if(J&&!this.$Y&&this.go!=null){var v=this.caller.j4();
this.go.ER(v,this.f,null,null);this.go=null;this.pk(J.add.TySh);this.Mq(v)}};H.nB.prototype.disable=function(J,v,x,o){var R=this.yM;
this.ob(J,v)};H.nB.prototype.zN=function(J,v,x,o,R){if(this.LC)return;if(J.nw=="commit")this.ob(x,v);
if(J.nw=="cancel")this.Ib(x,v);if(J.nw=="changeOther"){this.EP=J.SL;this.Oa=J.vL;if(x!=null)this.vE({R:"updateStyles"},v,x,o,R)}if(J.nw=="showwarp"){if(x==null)return;
if(this.yM==null){var r=x.k[x.Y[0]],l=r.add.TySh;if(l==null)return;this.dI(x,v,R,[x.Y[0]]);this.Uh.focus();
this.LC=!0}this.a1L=this.yM.add.TySh.Pd;var M=new dd(j.E.j,!0);M.data={R:j.m.wz,kA:"textwarp"};v.a(M)}};
H.nB.prototype.pJ=function(J,v){if(v!=cj.dX)return;if(this.i1){this.i1=!1;var x=this.caller.j4(),o=this.hN;
for(var h=0;h<o.length;h++){this.yM=x.k[o[h]];this.kI(x,J)}this.ob(x,this.caller);return}if(this.yM)this.IT(J)};
H.nB.prototype.U7=function(J,v){var x=g.F(J.oC);bI.iT(x,1/v.u.Nf());return x};H.nB.prototype.MW=function(J,v){if(J.WL!=null)this.OH(v,J.N5);
else this.a7n(v,J.i8,J.gb)};H.nB.prototype.mJ=function(J,v){if(J.WL!=null)this.OH(v,J.WL);else this.a7n(v,J.WT,J.ee)};
H.nB.prototype.OH=function(J,v){for(var h=0;h<v.length;h++){var x=v[h],o=x.A3,R=J.k[o];R.buffer=x.u8;
R.S=x.Yf.Q();R.Ai();R.QF.ub=null;R.QF.path=null;var r=R.add.TySh;r.Pd=x.wL;r.yW=x.yW.Q();r.u=x.u.Q();
r.vv=g.F(x.vv);R.n9()}J.Ai()};H.nB.prototype.uX=function(J,v){var x=[];for(var h=0;h<v.length;h++){var o=v[h],R=J.k[o],r=R.add.TySh;
x.push({A3:o,u:r.u.Q(),wL:g.F(r.Pd),yW:r.yW.Q(),vv:g.F(r.vv),u8:R.buffer.slice(0),Yf:R.S.Q()})}return x};
H.nB.prototype.a7n=function(J,v,x){J.Y=x;J.C0(v);J.Ai();J.wj=!0};H.nB.prototype.kI=function(J,v,x){if(x==null)x=!1;
var o=this.yM.add.TySh;if(!h4.iR(o,v.rr,this.caller))return!1;if(!x){var R=bI.FB(o.vv);this.Uh.value=R.slice(0,R.length-1)}var r=this.yM.S,l=h4.kI(this.yM,v.rr,J);
this.CI=l[1];var M=this.CI.In();if(g.wL.KV(o.Pd))o.yW=new jj;else{if(bI.eP(o.vv)==1){var P=bI.JG(o.vv),co=M.y;
o.yW=new jj(0,co,P[2]-P[0],P[3]-P[1]-co)}else o.yW=M}J.HQ();if(l[2])J.Ai(J.root.R5(l[2].Yf.h0(r),J,J.k.indexOf(this.yM)));
return!0};H.nB.prototype.Tm=function(J,v){if(this.yM==null||this.LC)return;var x=this.Uh.selectionStart,o=this.yM.add.TySh,R=bI.FB(o.vv),r=this.Uh.value+"\n",l=Math.min(this.B2,this.k7),M=Math.max(this.B2,this.k7),w=!1;
this.B2=Math.min(x,l);if(r.length-x<R.length-this.k7)this.k7=R.length-r.length+x;if(R!=r){while(this.B2>0&&R.charAt(this.B2-1)!=r.charAt(this.B2-1))this.B2--}var P=R.substring(0,this.B2),S=R.substring(this.k7,R.length),c=r.substring(this.B2,r.length-S.length);
bI.u9(o.vv,this.B2,this.k7);bI.Cq(o.vv,this.B2,c);if(v!=null)bI.apS(o.vv,this.B2,v);var b=this.U7(this.f,o),U=-1,F=Array.from(c);
for(var h=0;h<F.length;h++)U=Math.max(U,F[h].codePointAt(0));if(U!=-1&&U>128&&U!=65533&&b.iz.Font!=null){var Y=b.t6[b.iz.Font].Name,A=this.f.rr.acD(U,Y,b.t6);
if(Y!=A){bI.ud(b,A);w=!0}}if(this.Fr!=null&&c==this.Fr){var G=JSON.parse(this.aor);bI.iT(G,1/o.u.Nf());
b.iz=G.iz;b.t6=G.t6;w=!0}bI.qc(o.vv,this.B2,this.B2+c.length-1,b);this.B2=this.k7=P.length+c.length;
var n=this.caller.j4(),E=this.kI(n,this.f,!0);if(E)this.Mq(n,!0);if(w)this.$i()};H.nB.prototype.a5x=function(J){var v=gw;
if(!J.ctrlKey)this.ae0();J.stopPropagation()};H.nB.prototype.a4a=function(J){J.stopPropagation();var v=J.ctrlKey||J.metaKey,x=gw,P=0,S=0,E=0,a=!1;
if(this.yM==null||this.LC)return;if(this.yM==null)return;if(this.caller.TY.pt())return;var o=this.caller.j4();
if(this.go==null&&v){var R=this.yM.add.TySh,r=bI.eP(R.vv),l;if(r==1){l=bI.JG(R.vv);l=new jj(0,0,l[2]-l[0],l[3]-l[1])}else l=this.CI.In();
var M=[l.x,l.y,l.x+l.r,l.y,l.x+l.r,l.y+l.$,l.x,l.y+l.$];g.b.u(M,R.u,M);this.go=new jY(M,!0,!0,!1,!1);
this.go.VR(0);this.avG=l;this.Mq(o)}if(x.oq(J.code,x.fZ))P=1;if(x.oq(J.code,x.wv))P=-1;if(x.oq(J.code,x.Wl))S=-1;
if(x.oq(J.code,x.yy))S=1;var c=x.oq(J.code,gw.YO),b=x.oq(J.code,gw.aFB);if(x.oq(J.code,gw.O9)&&v){this.ob(o,this.caller);
return}if(x.oq(J.code,gw.T1)){this.Ib(o,this.caller);return}if(x.oq(J.code,gw.Z$)){J.preventDefault();
var w=this.Uh,U=w.value,F=w.selectionStart,Y=w.selectionEnd;w.value=U.substring(0,F)+"\t"+U.substring(Y);
w.selectionStart=w.selectionEnd=F+1;this.Tm(null);return}var A=x.oq(J.code,x.gF),G=x.oq(J.code,x.bE);
if(v&&(A||G)){J.preventDefault();var n=new dd(j.E.G,!0);n.J=H.C5;n.data={R:"zoom",xo:A};this.caller.a(n)}if(x.oq(J.code,x.NA))E=1;
if(x.oq(J.code,x.gi))E=-1;var K=this.B2==this.k7,e=v&&J.shiftKey&&E!=0&&!K;if(e||J.altKey&&P!=0){var $=g.F(this.f.oC);
if(e){var N=$.iz.FontSize;if(N==null)N=16;$.iz.FontSize=Math.max(1,N+E*(J.altKey?5:1))}else{if(K){$.iz.Kerning+=20*P;
$.iz.AutoKerning=!1}else $.iz.Tracking+=20*P}J.preventDefault();var k=new dd(j.E.j,!0);k.data={R:j.m.Qq,Fu:cj.KI,oC:$};
this.caller.a(k);var n=new dd(j.E.G,!0);n.J=H.i9;n.data={R:"updateStyles"};this.caller.a(n);return}if((x.oq(J.code,x.wC)||x.oq(J.code,x.aN))&&v){var V=this.B2,X=this.k7;
if(V>X){var Q=V;V=X;X=Q}var R=this.yM.add.TySh,L=bI.FB(R.vv);if(V!=X){this.Fr=L.slice(V,X);this.aor=JSON.stringify(this.f.oC)}}var _=bI.FB(this.yM.add.TySh.vv);
if(P!=0||S!=0||c||b){J.preventDefault();var T=this.B2;if(P!=0){if(v&&P==-1)T=this.a5g(_,this.B2-1);else if(v&&P==1)T=this.aiU(_,this.B2);
else{var w=this.Uh,U=w.value;T=this.B2+P;if(T!=0&&U.codePointAt(T-1)>65535)T+=P}}else if(S!=0){var f=this.CI.fj(this.B2);
if(S==-1&&f.SN==0)T=0;else if(S==1&&f.SN==this.CI.ad1()-1)T=99999999999;else T=this.CI.a5j(new aG(f.Yf.x+f.Yf.r/2,0),f.SN+S)}else if(c){var Z=this.B2-1;
while(Z>0&&_.charCodeAt(Z)!=10)Z--;T=Z==0?0:Z+1}else if(b){var Z=this.B2;while(Z<_.length-1&&_.charCodeAt(Z)!=10)Z++;
T=Z}T=Math.max(0,Math.min(_.length-1,T));if(J.shiftKey)this.B2=T;else this.B2=this.k7=T;a=!0}if(x.oq(J.code,gw.m)&&v){this.B2=0;
this.k7=_.length-1;a=!0}if(a){this.$i();this.Mq(o)}};H.nB.ao4=function(J,v){var x=J.length;if(x!=v.length)return!1;
for(var h=0;h<x;h++)if(J[h].A3!=v[h].A3)return!1;return!0};H.nB.prototype.ob=function(J,v,x){if(this.yM==null)return;
this.yM.n9();var o=this.n_;if(o instanceof Array){var R=this.uX(J,this.hN),r=J.Wo();if(r!=null&&r.J==this&&r.data.WL&&H.nB.ao4(r.data.WL,o)&&x)r.data.N5=R;
else{var l=new js(this.name,this);l.data={WL:o,N5:R};J.q$(l)}}else{var l=new js(this.name,this);l.data={WT:o.WT,i8:o.i8,ee:o.ee,gb:o.gb};
J.q$(l)}this.escape(J,v)};H.nB.prototype.Ib=function(J,v){if(this.yM==null)return;if(this.n_ instanceof Array){this.OH(J,this.n_);
if(this.yM)bI.ff(this.yM.add.TySh)}else{J.Y=this.n_.ee;J.C0(this.n_.WT);J.wj=!0}J.Ai();this.escape(J,v)};
H.nB.prototype.escape=function(J,v){this.ae0();this.yM=null;this.hN=null;this.CI=null;this.d7=null;this.Uh.blur();
J.dB.xt=null;J.dB.Py=null;J.dB.f3=[];J.ms=!0;this.$Y=!1;this.oD=!1;this.B2=this.k7=-1;this.wH(v,j.E.j,{R:j.m.hf,J:this.id,nw:"hideactive"});
if(this.zL){var x=new dd(j.E.j,!0);x.data={R:j.m.lE,J:this.zL};v.a(x);this.zL=null}};H.nB.prototype.wH=function(J,v,x,o){var R=new dd(v,!0);
R.data=x;if(o)R.J=o;J.a(R)};H.nB.prototype.pu=function(J){var v=this.yM.add.TySh,x=this.CI,o=v.u.Q();
o.SV();var R=o.Xw(J),r=bI.ca(v,x),l=g.wL.Um(v.Pd,r),M=g.ZH.wt(l,R);if(M==null)M=new Float64Array(2);
R=new aG(r.x+M[0]*r.r,r.y+M[1]*r.$);if(x.B7){var P=x.B7.Q();P.SV();R=P.Xw(R)}var S=x.a5j(R);return S};
H.nB.prototype.Mq=function(J,v){if(v==null)v=!1;var x=this.yM.add.TySh,o=bI.eP(x.vv),R=this.CI,r=R?bI.ca(x,R):null;
J.dB.f3=[];J.dB.xt=null;J.dB.Py=null;var l=this.go?this.go:this.d7;if(l){l.N9(J,this.f,!g.wL.KV(x.Pd));
var M=x.u.Q();M.SV();if(R&&R.B7&&R.QJ==1){var P=R.B7.Q();P.SV();M.concat(P)}g.b.u(J.dB.f3,M,J.dB.f3);
g.b.u(J.dB.xt.T,M,J.dB.xt.T);if(R&&R.B7==null&&R.aGM()){var S=r.r-20,c=r.$+8;J.dB.xt.T.push(S,c,S+10,c,S+5,c-5,S+5,c+5);
J.dB.xt.Wp.push("M","L","M","L")}}else if(o==0)this.a4j(J,x,R);else J.dB.xt={T:[],Wp:[]};var b=Math.min(this.B2,this.k7),w=Math.max(this.B2,this.k7);
if(!v){this.Uh.selectionStart=b;this.Uh.selectionEnd=w}if(R!=null){var U=function(l,K){var e=l.x,$=l.y+l.$,N=new bC;
N.translate(-e,-$);N.rotate(-K);N.translate(e,$);l.y+=l.$*.27;var E=g.b.ho(l);g.b.u(E.T,N,E.T);return E};
if(b==w){b=Math.max(b,0);var F=R.fj(b);if(F){var Y=F.Yf,A=this.f.oC.iz.FontSize;if(A!=null&&A!=0){A/=x.u.Nf();
Y.y+=Y.$-A;Y.$=A}var G=R.a0m(b);if(G!=null&&G.ln==1)Y.x+=Y.r;var n=U(Y,F.U1).T;J.dB.xt.Wp.push("M","L");
J.dB.xt.T.push(n[0],n[1]-1,n[6],n[7]-1)}}else{J.dB.Py={T:[],Wp:[]};for(var h=b;h<w;h++){var F=R.fj(h),E=U(F.Yf,F.U1);
g.b.concat(J.dB.Py,E)}}}J.dB.xt=h4.Z0(J.dB.xt,x,R,!0);J.dB.Py=h4.Z0(J.dB.Py,x,R,!0);J.dB.f3=h4.Z0({T:J.dB.f3},x,R,!0).T;
J.ms=!0};H.nB.prototype.a4j=function(J,v,x){if(x==null)return;J.dB.f3.push(0,0);if(J.dB.xt==null)J.dB.xt={Wp:[],T:[]};
for(var h=0;h<x.u7.length;h++){var o=x.u7[h];for(var R=0;R<o.W9.length;R++){var r=o.W9[R],l=o.fw.x+r.fw.x+r.Yf.x,M=o.fw.y+r.fw.y+r.Yf.y+r.Yf.$;
J.dB.xt.Wp.push("M","L");J.dB.xt.T.push(l,M,l+r.Yf.r,M)}}J.ms=!0};H.cx=function(){H.nB.call(this,!0)};
H.cx.prototype=new H.nB;H.ry=function(J){H.IE.call(this,J?"Magic Replace":[10,9],J?H.aG3:H.$T,J?"tools/mremove":"tools/lasso");
this.z1=H.fM();this.hn=null;this.bG=null;this.$o=null};H.ry.prototype=new H.IE;H.ry.prototype.y1=function(J,v,x,o){this.hn=this.Z7;
this.bG={T:[this.hn.x,this.hn.y],Wp:["M"]}};H.ry.prototype._k=function(J,v,x,o){this.$o=o;var R=this.bG;
if(R==null)return;if(!o.x4){if(this.bG!=null&&this.bf.rA(1)&&x.M(gw.i4)){R.T.pop();R.T.pop();R.T.push(this.VQ.x,this.VQ.y);
J.dB.xt=R;J.ms=!0}return}R.Wp.push("L");R.T.push(this.VQ.x,this.VQ.y);this.hn=this.VQ;if(this.bn){J.dB.xt=R;
J.ms=!0}};H.ry.prototype.b7=function(){return this.bG!=null};H.ry.prototype.Sb=function(){return this.bG!=null};
H.ry.prototype.lb=function(J,v,x,o){H.IE.prototype.lb.call(this,J,v,x,o);if(this.bG&&this.bf.rA(1)&&this.$o&&!this.$o.x4&&!o.M(gw.i4))this.agA(J,x,o)};
H.ry.prototype.Vg=function(J,v,x,o){this.$o=o;var R=this.bG;if(R==null)return;if(this.bf.rA(1)&&x.M(gw.i4)){R.Wp.push("L");
R.T.push(this.VQ.x,this.VQ.y);return}this.agA(J,v,x)};H.ry.prototype.agA=function(J,v,x){this.finish(J,v,x,this.$o);
this.bG=null;J.dB.xt=null;J.ms=!0};H.ry.prototype.getSelection=function(J,v,x,o){if(this.Z7.Ym(this.VQ)||!this.bn)return null;
return H.IE.jx(this.bG.T,null,this.Qu.anta)};H.Io=function(){H.AA.call(this,[10,11],H.VO,"tools/move");
this.Hp=new aG(0,0);this.QN=new aG(0,0);this.Yd=null;this.Li=null;this.TU=new aG(0,0);this.qE=null;this.f=null;
this.mm=null;this.vq=0;this.g6=null;this.Ho=[];this.Ua=null;this.ZA=null;this.zi=!1;this.R=0;this.uV=null;
this.NO=null;this.jG=null;this.do=!1;this.Qu={pV:!0,jy:du==1,de:!1,apq:1};this.av2=!1;this.acC=!1;this.d7=null;
this.Wr=null;this.Wm=null;var J=[];for(var h=0;h<g.Av.aO.length;h++)J.push({name:g.Av.aO[h],i:function(v,x,o){return{WH:x.i3.eE==o}}});
this.Xd=new kM(J);this.Xd.P("select",this.H9,this)};H.Io.prototype=new H.AA;H.AA.prototype.YZ=function(J){return this.zi&&this.R!=2};
H.Io.prototype.aeM=function(){return this.zi&&(this.R==0||this.R==1)};H.Io.prototype.tC=function(J,v,x,o){this.oK(J,-this.TU.x,-this.TU.y);
this.TU._h(0,0);this.jV(J,null,x);this.kh(J)};H.Io.prototype.Bo=function(){var J=this.Qu;if(J.pV&&!J.jy&&!J.de)return null;
return[J.pV?1:0,J.jy?1:0,J.de?1:0]};H.Io.prototype.NL=function(J,v,x){var o=this.Qu;if(J&&J[0]!=null)o.pV=J[0]==1;
if(J&&J[1]!=null)o.jy=J[1]==1;if(J&&J[2]!=null)o.de=J[2]==1;if(du==1)o.jy=!0;var R=new dd(j.E.j,!0);
R.data={R:j.m.hf,J:this.id,JZ:o,a5s:v};x.a(R)};H.Io.afF=function(J,v,x,o,R,r,l){if(l==null)l=[!1,!0];
var M=J.yw(null,R,!0),P,S=R==null?J.Y[0]:R;if(J.add.artd&&(R!=null||J.Y.length==1)&&J.k[S].add.artb){var c=J.k[S].Gf();
P=J.sw(M,c,c)[0]}else{var b=new jj(0,0,J.r,J.$),P=J.sw(M,l[0]?b:null,l[1]?null:b)[0];delete P.add.artd;
if(l[1]){var w=g.H6(P.rv(),new jj(0,0,P.r,P.$),2);H.cD.xK(P,w)}}if(x!=1){var U=new jj(0,0,Math.round(P.r*x),Math.round(P.$*x));
H.cD.xK(P,U);var F=[];for(var h=0;h<P.k.length;h++)F.push(h);var Y=H.ge.YW(P,F,!0);H.cD.ym(P,new bC(x,0,0,x,0,0));
H.ge.tm(P,o,F,Y,1,g.O.Mf(new bC(x,0,0,x,0,0)),null,!0);P.er()}var A=[];for(var h=0;h<v.length;h++)if(P.r*P.$!=0)A.push(d2.At(P,v[h].toUpperCase(),null,null,r?r[h]:null,o));
return A};H.Io.prototype.ada=function(J,v,x,o,R){if(J==null||J.Y.length==0)return;var r=H.Io.afF(J,[v],x,o,null);
if(r.length==0){alert("Empty layer selected.");return}var l=r[0],M=new dd(j.E.j,!0);M.data={R:j.m.Ut,data:l,name:J.k[J.Y[0]].getName()+(x==1?"":"@"+x+"x")+"."+v};
R.a(M)};H.Io.prototype.zN=function(J,v,x,o,R){if(J.Uq=="getPNG"){this.ada(x,"png",J.jE,R,v)}else if(J.Uq=="getSVG"){this.ada(x,"svg",J.jE,R,v)}if(J.Uq=="prms"){this.Qu=J;
this.kh(x)}};H.Io.aBy=function(J){var co=J.length,x=0;J.sort(function(r,l){return r[0]+r[1]/2-(l[0]+l[1]/2)});
var v=J[co-1][0]+J[co-1][1]-J[0][0];for(var h=0;h<co;h++)x+=J[h][1];var o=Math.round((v-x)/(co-1)),R=J[0][0];
for(var h=0;h<co;h++){J[h][0]=R;R+=J[h][1]+o}};H.Io.prototype.vE=function(J,v,x,o,R){var r=J.R;if(r=="trsl"){var l=Math.round(J.AU),M=Math.round(J.aq);
this.TU._h(l,M);this.RA(x,v,o,R,!1,J.w);this.oK(x,l,M);this.jV(x,null,R)}else if(r=="fcmy"||r=="fvec"){var P=["RGB","CMYK"][J.K]+" Color";
if(r=="fvec")P=["Raster","Vector"][J.K]+" Mode";var S=new js(P,this);S.data={R:J.R,EB:x.add[r]==null?0:x.add[r],ra:J.K};
x.q$(S);this.MW(S.data,x)}else if(r=="pview"){var r=new js([8,14],this);r.data={R:J.R};x.q$(r);this.MW(r.data,x)}else if(r=="lockguides"){if(x)x.qr=!x.qr}else if(r=="gids"||r=="gidsFromLayer"){var c=J.NO,b,w;
if(c==null)c=x.lg();if(r=="gids"){b=J.TQ;var U=c[0].length,F=b[0].length;w=U==F?[23,2]:U>F?[23,3]:[23,4];
if(F==0)w=[11,15,0]}else if(r=="gidsFromLayer"){var Y=[],A=[],G=x.Ss();for(var h=0;h<x.Y.length;h++){var n=x.k[x.Y[h]].S;
if(n.L3())continue;Y.push([0,n.x],[1,n.y],[0,n.x+n.r],[1,n.y+n.$]);A.push(G,G,G,G)}w=[11,15,1];b=x.lg();
H.Io.Cp(b,[Y,A])}if(JSON.stringify(c)==JSON.stringify(b))return;var r=new js(w,this);r.data={R:2,NO:c,TQ:b};
x.q$(r);this.MW(r.data,x)}else if(r=="algn"){var E=J.K;if(x==null)return;if(x.Y.length<2&&!(x.g!=null&&E!=3&&E!=7)){alert(ea.get([15,7,5]));
return}var K=x.g;x.g=null;var n=K?K.S:H.ge.ca(x);this.RA(x,v,o,R,!1);if(!this.zi)return;var e=this.g6,$={},N=[],k=[],V=[];
for(var h=0;h<e.length;h++){var X=e[h];while(x.k[X].getName()=="</Layer group>")X++;var Q=x.root.jJ(X),L=Q;
while(Q.parent!=null){Q=Q.parent;if(e.indexOf(Q.index)!=-1)L=Q}var _=k.indexOf(L.index);if(_==-1){_=k.length;
k.push(L.index)}N[h]=_}var a=[],T=[],f=[];for(var h=0;h<k.length;h++){var Z=H.ge.ca(x,x.yw(!0,k[h]));
f.push(Z);var W=E==3?[Z.y,Z.$]:[Z.x,Z.r];a[h]=W;T.push(W)}H.Io.aBy(T);for(var h=0;h<k.length;h++){var Z=f[h],D=Z.x,C=Z.y;
if(E==0)D=n.x;if(E==1)D=n.x+(n.r-Z.r)/2;if(E==2)D=n.x+(n.r-Z.r);if(E==3)C=a[h][0];if(E==4)C=n.y;if(E==5)C=n.y+(n.$-Z.$)/2;
if(E==6)C=n.y+(n.$-Z.$);if(E==7)D=a[h][0];V.push(Math.round(D-Z.x),Math.round(C-Z.y))}var d=[];for(var h=0;
h<e.length;h++){var p=N[h];d[2*h]=V[2*p];d[2*h+1]=V[2*p+1]}this.oK(x,0,0,null,d);var y=E==3||E==7?[20,4,6]:[20,4,E<3?E:E-1];
this.jV(x,null,R,d,y);x.g=K}else if(r=="disabAuto"){this.NL([!1],null,v)}};H.Io.Cp=function(J,v){for(var h=0;
h<v[0].length;h++){var x=v[0][h],o=v[1][h],R=!1;for(var r=0;r<J[0].length;r++){var l=J[0][r],M=J[1][r];
if(x[0]==l[0]&&x[1]==l[1]&&o==M)R=!0}if(!R){J[0].push(x.slice(0));J[1].push(o)}}};H.Io.prototype.enable=function(J,v,x,o,R){this.f=x;
this.mm=v;this.do=R?!0:!1;this.kh(J);this.B4("default",v);this.lb(J,v,x,o)};H.Io.prototype.disable=function(J,v,x,o){this.CX(J)};
H.Io.prototype.CX=function(J){if(J==null)return;if(this.d7){this.d7.clear(J);this.d7=null}if(J.dB.de){J.dB.de=null;
J.ms=!0}if(J.dB.Af){J.dB.Af=null;J.ms=!0}if(J.dB.cJ[this.id]){delete J.dB.cJ[this.id];J.ms=!0}if(J.dB.kl.length!=0){J.dB.kl=[];
J.ms=!0}};H.Io.prototype.W6=function(J,v,x,o){if(x.Lz!=this.id)return;this.kh(J)};H.Io.prototype.kh=function(J,v){if(J==null)return;
var x=this.Qu;this.CX(J);if(!this.do){var o;if(x.jy||x.de)o=g.b.RN(H.ge.ca(J));if(x.jy&&!o.L3()){var R=J.k[J.Y[0]],r=g.b.ho(o).T;
if(du==1&&J.Y.length==1){if(R.add.vmsk)r=R.add.vmsk.hY();if(R.add.SoLd)r=H.ge.t1(R.add.SoLd.nonAffineTransform);
if(R.add.TySh){r=g.b.ho(R.QF.m5).T;g.b.u(r,R.add.TySh.u,r)}}this.d7=new jY(r,!0);this.d7.N9(J,this.f)}if(x.de){var l=null,w=null,U=!1;
if(J.Ss()!=-1)l=J.k[J.Ss()].Gf();else l=new jj(0,0,J.r,J.$);J.dB.de={aZ:[o],M3:[]};var M=J.dB.de.M3,P=o.x+o.r,S=o.y+o.$,c=o.x+Math.floor(o.r/2),b=o.y+Math.floor(o.$/2);
if(v){var F=J.root.M$(new aG(Math.floor(v.x),Math.floor(v.y)));if(F){w=g.b.RN(F.w.xD(J));if(w.Rt(o)){U=(w.Db(o)||o.Db(w))&&!o.Ym(w);
if(!U)w=null}}}this.at7(o,M);if(w!=null){J.dB.de.aZ.push(w);var Y=w.x+w.r,A=w.y+w.$,G=w.x+Math.floor(w.r/2),n=w.y+Math.floor(w.$/2);
if(U){var E=c,K=b;if(o.Db(w)){E=G;K=n}M.push(o.x,K,w.x,K);M.push(P,K,Y,K);M.push(E,o.y,E,w.y);M.push(E,S,E,A)}else{this.at7(w,M);
var e=S<w.y||A<o.y,$=P<w.x||Y<o.x;if(P<w.x)M.push(P,b,w.x,b);if(Y<o.x)M.push(Y,b,o.x,b);if(S<w.y)M.push(c,S,c,w.y);
if(A<o.y)M.push(c,A,c,o.y);if(e&&!$){if(o.x<w.x)M.push(o.x,n,w.x,n);if(w.x<o.x)M.push(w.x,b,o.x,b)}}}else{if(o.y>l.y)M.push(c,l.y,c,o.y);
if(S<l.y+l.$)M.push(c,S,c,l.y+l.$);if(o.x>l.x)M.push(l.x,b,o.x,b);if(P<l.x+l.r)M.push(P,b,l.x+l.r,b)}J.ms=!0}}if(this.R==2&&this.zi){var N=new jj(0,0,J.r,J.$),k=J.Ss();
if(k!=-1){var V=J.lg(),X=V[1][this.g6];if(X==-1)X=k;N=J.k[X].Gf()}var Q=J.HC[this.g6],L=Q[0],_=(L==0?"X":"Y")+": "+g.Av.OV(Q[1]-(L==0?N.x:N.y),J.Bt,this.f,L==0?N.r:N.$,!0);
H.AA.Nw(Math.round(this.Yd.x)+10,Math.round(this.Yd.y)-10,[_],J);J.ms=!0}if(this.R==3&&this.zi){var a=g.b.ho(this.uV);
J.dB.cJ[this.id]={xt:a};J.ms=!0}};H.Io.prototype.at7=function(J,v){var x=J.r,o=J.$,R=J.x+Math.floor(x*.2),r=J.y+Math.floor(o*.2);
v.push(R,J.y,R,J.y+o);v.push(J.x,r,J.x+x,r)};H.Io.prototype.B4=function(J,v){var x={R:j.m.HX,O5:J},o=new dd(j.E.j,!0);
o.data=x;v.a(o)};H.Io.prototype.ik=function(J){var v=this.Wr.hA()[0];if(v==this.Wm.length){var x=new dd(j.E.j,!0);
x.data={R:j.m.aK,d_:"psd"};this.mm.a(x);return}var o=this.qE,R=this.Wm[v];this.JC(o,R)};H.Io.prototype.H9=function(J){var v=g.F(this.f.i3);
v.eE=this.Xd.hA()[0];var x=new dd(j.E.j,!0);x.data={R:j.m.Qq,Fu:cj.oT,ra:v};this.mm.a(x)};H.Io.prototype.Su=function(J,v,x,o,R){if(this.zi)this.ER(J,v,x,o,R);
this.qE=J;this.f=x;this.mm=v;var r=J.U.hW(R.x,R.y),l;if(H.Io.$$(x,R,J.U)){l=this.Xd}else{if(this.Wr)this.Wr.removeEventListener("select",this.ik);
var M=[];J.root.M$(r,M);if(M.length==0)return;if(o.M(gw.i4)){this.JC(J,M[0]);return}var P=[];this.Wm=M;
for(var h=0;h<M.length;h++)P.push({name:J.k[M[h]].getName(),vy:h==M.length-1});P.push({name:[1,18],U6:!0});
l=this.Wr=new kM(P);l.P("select",this.ik,this)}l.parent=v;l.d();l.update(J,x);var S=new dd(j.E.j,!0);
S.data={R:j.m.sO,rq:l,x:R.m4+2,y:R.R1+1};v.a(S)};H.Io.prototype.aG5=function(J,v,x,o,R){var r=H.Io.oB(J,R);
return r!=-1||H.Io.$$(x,R,J.U)};H.Io.oB=function(J,v){if(J==null||J.add.artd==null)return-1;var x=J.U.hW(v.x,v.y),o=12*H.rR()/J.U.NT;
for(var h=0;h<J.k.length;h++){var R=J.k[h];if(!R.jh()||R.add.artb==null)continue;var r=R.Gf(),l=new jj(r.x,r.y-1.7*o,o*R.getName().length*.5,o);
if(l.bB(x))return h}return-1};H.Io.prototype._N=function(J,v,x,o,R){var r=H.Io.oB(J,R),l=H.Io.a3A(J,J.U.hW(R.x,R.y));
if(r!=-1){J.Y=[r];if(x.Lz==H.VO){var M=new dd(j.E.j);M.data={R:j.m.lE,J:H.LW};v.a(M)}return}if(l!=-1){J.U.yS=l;
J.Se=!0;var M=new dd(j.E.j,!0);M.data={R:j.m.KF,kA:gB.mL.aEu};v.a(M);return}this.Yd=R;this.Hp._h(R.x,R.y);
this.QN=J.U.hW(R.x,R.y);this.Li=new c0(this.QN);this.RA(J,v,o,x,!0)};H.Io.$$=function(J,v,x,o){var R=g.Av.E4,r=x.SU.$;
return J.fD&&(0<v.x&&v.x<R||0<v.y&&v.y<R||o&&0<v.x&&v.x<4*R&&r-R<v.y&&v.y<r)};H.Io.prototype.RA=function(J,v,x,o,R,r){var l,M=this.QN,P=!1;
if(R){var S=o.lf&&o.i3.HC;if(H.Io.$$(o,this.Hp,J.U)){l=J.lg();var c=J.lg(),b=null;if(this.Hp.x<g.Av.E4){b=[0,M.x]}if(this.Hp.y<g.Av.E4){b=[1,M.y]}c[0].push(b);
c[1].push(J.Ss(!0));J.P_(c);if(!S){var w=new dd(j.E.j);if(!o.i3.HC){w.data={R:j.m.Qq,Fu:cj.Uw};v.a(w)}if(!o.lf){w.data={R:j.m.Qq,Fu:cj.Vx};
v.a(w)}S=!0}}var U=this.a1P(J,M);if(S&&U!=null&&!J.qr){this.R=2;this.NO=l?l:J.lg();this.g6=U;this.zi=!0;
this.ZA=H.ge.ca(J);return}if(J.Dk.length!=0){this.R=4;this.ZA=J.ac[J.Dk[0]].S.Q();this.zi=!0;return}if(this.d7&&this.d7.Nh(M,J.U.NT,!0,this.Yd)!=null){var w=new dd(j.E.j);
w.data={R:j.m.lE,J:H.tS,aj_:!0};v.a(w);return}if(J.g&&J.g.S.bB(M)){var F=Math.round(M.x),Y=Math.round(M.y),A=J.g.S;
P=J.g.N[(Y-A.y)*A.r+F-A.x]>g.JN(J.depth)/2}var G=this.Qu.pV||du==1;if(!P&&(!this.do&&G||this.do&&G&&(x.M(gw.Yv)||J.Y.length<2))){var n=this.aHG(J,M,x);
if(!n){J.Y=[];J.TW=null;J.wj=J.PS=!0;this.R=3;this.uV=new jj;this.zi=!0;return}}if(x.M(gw.i4)&&!P){var E=new dd(j.E.G);
E.J=H.wu;E.data={R:m.Qi,aB2:!0};v.a(E)}}if(J.Dk.length!=0){this.R=4;this.ZA=J.ac[J.Dk[0]].S.Q();this.zi=!0;
return}this.g6=J.yw(r==null,r,null,!0);for(var h=0;h<this.g6.length;h++){var K=this.g6[h],e=J.k[K];if(e.UP(2)||e.UP(31)||J._0(K)){alert(ea.get([6,57,0]));
return}}if(J.add.artd&&R){var $=this.g6,N=!1;for(var h=0;h<$.length;h++)if(J.k[$[h]].add.artb)N=!0;if(!N){this.Ua=[J,J.k.slice(0),J.Y.slice(0),-1];
this.g6.sort(function(T,f){return T-f})}}this.Ho=H.Io.a47(J,this.g6);this.R=0;if(J.g&&(!R||P)&&J.Y.length==1&&J.hH(!1)){if(!J.a7I()){this.zi=!1;
return}var k=J.k[J.Y[0]],V=x.M(gw.i4);this.R=1;var X=J.history[J.wb];if(X.J==this&&X.data.R==1&&X.data.w==J.Y[0]&&k.kG==k.WI.kG&&!V){this.jG=X}else{var Q=k.WI,L=!1,_;
if(!k.mE(J,J.g)||V){L=!0;k.QC(J,J.g,V)}if(k.WI.kG<=0){_=g.C(k.WI.U$.length>>2,J.depth);g.Vi(k.WI.U$,_,3)}else _=J.g.N.slice(0);
var a={S:k.WI.du.Q(),N:_};this.jG=new js(V?[12,53]:[12,54],this);this.jG.data={R:1,w:J.Y[0],WI:k.WI,oY:Q,KA:L,ee:J.g,gb:a,fn:new aG(0,0)};
J.q$(this.jG);J.g=a;J.rf=!0}}this.zi=!0;this.ZA=H.ge.ca(J)};H.Io.prototype.aHG=function(J,v,x){var o=J.root.M$(new aG(Math.floor(v.x),Math.floor(v.y)));
if(o){if(o.w.add.vmsk)J.ms=!0;var R=J.k.indexOf(o.w);if(this.Qu.apq==0){var r=J.root.jJ(R);while(r.parent&&r.parent.depth!=0&&r.parent.w.add.artb==null)r=r.parent;
R=r.index}if(x.M(gw.Yv)){var l=J.Y.indexOf(R);if(l==-1)J.Y.push(R);else if(J.Y.length>1)J.Y.splice(l,1)}else if(J.Y.indexOf(R)==-1){this.JC(J,R)}}return o!=null};
H.Io.prototype.JC=function(J,v){J.k[v].kG=0;J.Y=[v];J.TW=null;J.oc();J.TA=!0;J.wj=!0};H.Io.a3A=function(J,v){var x=J.add.Anno;
if(x==null||x.length==0)return-1;var o=30/J.U.NT;for(var h=0;h<x.length;h++)if(new jj(x[h][0],x[h][1],o,o).bB(v))return h;
return-1};H.Io.prototype.kq=function(J,v,x,o,R){this.Yd=R;var r=J.U.hW(R.x,R.y),U,F;if(this.Li&&this.R<2)r=this.Li.Ix(r,o);
if(!this.zi){if(x.lf&&x.i3.HC&&J&&!J.qr){var l=this.a1P(J,r),M="default",P=H.Io.oB(J,R);if(l!=null)M=["col-resize","row-resize"][J.HC[l][0]];
else if(this.d7){var S=this.d7.Nh(r,J.U.NT,null,R);if(S)M=S}else if(P!=-1||H.Io.a3A(J,r)!=-1){M="pointer"}this.B4(M,v)}this.kh(J,r);
return}var c=this.QN,b=Math.round(r.x-c.x)-this.TU.x,w=Math.round(r.y-c.y)-this.TU.y;if(this.ZA){if(this.R==2){var Y=[];
if(J.g)Y.push(J.g.S);if(this.ZA)Y.push(this.ZA);if(J.U.bh)Y.push(J.U.bh);r=H.Io.a4(J,r,x,[!1,Y,!0,!0])}else{F=this.ZA.Q();
F.offset(this.TU.x+b,this.TU.y+w);U=H.Io.XE(J,F,x);var A=this.Li.aE$(o);if(A==1){U[0]=0;U[2]=1e9}if(A==2){U[1]=0;
U[3]=1e9}b+=Math.round(U[0]);w+=Math.round(U[1])}}this.TU.x+=b;this.TU.y+=w;var G=this.Ua;if(G&&J==G[0]){J.C0(G[1]);
J.Y=G[2].slice(0);G[3]=-1}this.oK(J,b,w,r,null,o.M(gw.Yv));if(G&&J==G[0]){var n=this.ZA.Q();n.offset(this.TU.x,this.TU.y);
var E=r,P=J.Ss(),K=-1;for(var h=0;h<J.k.length;h++){var e=J.k[h];if(!e.jh()||e.add.artb==null)continue;
var $=e.Gf();if($.bB(E))K=h}if(K!=-1&&K!=P){var N=H.j9.XA(J,this.g6,K,!0,null,!1);J.C0(N[0]);J.Y=N[1];
G[3]=K}}this.kh(J,r);if(U)H.Io.SE(J,F,U)};H.Io.prototype.a1P=function(J,v){var x=H.rY(J,this.Yd);v=[v.x,v.y];
var o=J.lg(),R=J.Ss();for(var h=0;h<o[0].length;h++){var r=o[0][h],l=o[1][h];if(l!=-1&&l!=R)continue;
if(Math.abs(r[1]-v[r[0]])<x)return h}return null};H.Io.prototype.oK=function(J,v,x,o,R,r){if(this.R==0){if(R)H.Io.Qc(J,this.g6,this.Ho,R);
else H.Io.dO(J,this.g6,this.Ho,v,x)}else if(this.R==1){var l=this.jG.data;l.fn.offset(v,x);H.Io.Ld(J,l.w,v,x)}else if(this.R==2){var M=1e-4;
if(r)M=J.U.NT<=1?10:1;var P=M*Math.round(o.x/M),S=M*Math.round(o.y/M),c=[P,S],b=J.HC[this.g6];b[1]=c[b[0]]}else if(this.R==3){var w=this.QN,U=g.b.jR([w.x,w.y,o.x,o.y]);
this.uV=U;var F=[];J.root.zV(U,F);if(JSON.stringify(J.Y)!=JSON.stringify(F)){J.Y=F;J.wj=J.PS=!0}}else if(this.R==4){for(var h=0;
h<J.Dk.length;h++)J.ac[J.Dk[h]].S.offset(v,x);J.ms=!0}};H.Io.Ld=function(J,v,x,o){var R=J.k[v];J.g.S.offset(x,o);
R.QY(J,x,o,J.g);J.rf=!0;J.Ai()};H.Io.prototype.ER=function(J,v,x,o,R,r){this.jV(J,R,x);this.kh(J);if(Date.now()-this.vq<300&&!r){var l=H.nB.Nd(J,J.U.hW(R.x,R.y));
if(H.Io.$$(x,R,J.U,!0)){var M=new dd(j.E.j);if(R.y>J.U.SU.$-20){M.data={R:j.m.wz,kA:"doczoom",EB:J.U.NT*100,Fm:{A:j.E.G,J:H.C5,p:{R:"pzoom"}}}}else{M.data={R:j.m.wz,kA:"preferences"}}v.a(M)}else if(l>=0){var P=new dd(j.E.G,!0);
P.J=H.i9;P.data={R:"editCurr",IA:l};v.a(P)}}this.vq=Date.now();H.cD.MR(J)};H.Io.prototype.jV=function(J,v,x,o,R){if(!this.zi)return;
this.zi=!1;if(this.R==0){if(o){this.abS(J,null,o,R)}else{if(this.TU.x==0&&this.TU.y==0)return;this.abS(J,this.TU.Q())}J.Se=!0}else if(this.R==2){var r=0;
v=[v.x,v.y];var l=this.g6,M=J.HC[l],fg=this.NO[0].length,P=J.HC.length;if(x.fD&&v[M[0]]<g.Av.E4){var S=J.lg();
S[0].splice(l,1);S[1].splice(l,1);J.P_(S);r=1;if(fg==P-1)return}if(fg<P)r=2;var c=new js([[23,2],[23,3],[23,4]][r],this);
c.data={R:2,NO:this.NO,TQ:J.lg()};J.q$(c)}else if(this.R==4){var c=new js([12,54],this);c.data={R:4,Y:J.Dk.slice(0),V:this.TU.Q()};
J.q$(c)}this.TU._h(0,0)};H.Io.prototype.lb=function(J,v,x,o){var R=o.m0(J?J.U.U1:0);if(J!=null&&(R.x!=0||R.y!=0)){if(o.M(gw.i4)&&J.g==null){var r=new dd(j.E.G);
r.J=H.wu;r.data={R:m.Qi,aB2:!0};v.a(r)}this.TU._h(R.x,R.y);this.RA(J,v,o,x,!1);if(!this.zi)return;this.oK(J,R.x,R.y);
this.jV(J,null,x);this.kh(J)}var l=o.M(gw.aw);if(!this.do&&this.acC!=l){if(l){this.av2=this.Qu.pV;this.Qu.pV=!0}else{this.Qu.pV=this.av2}this.acC=l;
var M=new dd(j.E.j,!0);M.data={R:j.m.hf,J:this.id,JZ:this.Qu};v.a(M)}};H.Io.prototype.mJ=function(J,v){if(J.R==0){var x=J.nN;
if(x){v.C0(x.WT);v.Y=x.YA.slice(0);v.Ai();v.wj=!0}H.Io.Qc(v,J.Y,J.pw,J.DW,!0);H.cD.MR(v)}else if(J.R=="fcmy"||J.R=="fvec"){if(J.EB==0)delete v.add[J.R];
else v.add[J.R]=J.EB;v.ms=!0}else if(J.R=="pview"){v.dZ=!v.dZ;v.Ai()}else if(J.R==2){v.P_(J.NO);v.ms=!0}else if(J.R==4){for(var h=0;
h<J.Y.length;h++)v.ac[J.Y[h]].S.offset(-J.V.x,-J.V.y);v.ms=!0}else{var o=v.k[J.w];if(J.KA){o.M6(v,J.oY);
v.g=J.ee;v.rf=!0;v.Ai();o.Ai()}else{H.Io.Ld(v,J.w,-J.fn.x,-J.fn.y)}}};H.Io.prototype.MW=function(J,v){if(J.R==0){H.Io.Qc(v,J.Y,J.pw,J.DW);
var x=J.nN;if(x){v.C0(x.i8);v.Y=x.Sg.slice(0);v.Ai();v.wj=!0}H.cD.MR(v)}else if(J.R=="fcmy"||J.R=="fvec"){if(J.ra==0)delete v.add[J.R];
else v.add[J.R]=J.ra;v.ms=!0}else if(J.R=="pview"){v.dZ=!v.dZ;v.Ai()}else if(J.R==2){v.P_(J.TQ);v.ms=!0}else if(J.R==4){for(var h=0;
h<J.Y.length;h++)v.ac[J.Y[h]].S.offset(J.V.x,J.V.y);v.ms=!0}else{var o=v.k[J.w];if(J.KA){o.WI=J.WI;v.g=J.gb;
H.Io.Ld(v,J.w,0,0);o.Ai()}else{H.Io.Ld(v,J.w,J.fn.x,J.fn.y)}}};H.Io.prototype.abS=function(J,v,x,o){if(x){var R=!0;
for(var h=0;h<x.length;h++)if(x[h]!=0)R=!1;if(R)return}var r=J.history[J.wb],l=this.Ua,M=l!=null&&l[3]!=-1&&l[0]==J;
if(!M&&x==null&&r.data&&r.J==this&&r.data.R==0&&JSON.stringify(r.data.Y)==JSON.stringify(this.g6)&&JSON.stringify(r.data.pw)==JSON.stringify(this.Ho)){var P=r.data.DW,S=r.data.a9H._g.T.v;
S.Hrzn.v.val+=v.x;S.Vrtc.v.val+=v.y;for(var h=0;h<P.length;h+=2){P[h]+=v.x;P[h+1]+=v.y}}else{if(v==null)v=new aG(x[0],x[1]);
var c={QI:"move",_g:{classID:"null",null:kj.RS("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:v.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:v.y}}}}}},b=null;
if(M)b={WT:l[1],YA:l[2],i8:J.k.slice(0),Sg:J.Y.slice(0)};this.Ua=null;var w=new js(o?o:[12,54],this);
if(x)w.data={R:0,Y:this.g6,pw:this.Ho,nN:b,DW:x};else w.data={R:0,Y:this.g6,pw:this.Ho,nN:b,DW:H.Io.alX(this.g6,v.x,v.y)};
w.data.a9H=c;J.q$(w);this.track(c)}};H.Io.alX=function(J,v,x){var o=[];for(var h=0;h<J.length;h++)o.push(v,x);
return o};H.Io.dO=function(J,v,x,o,R){H.Io.Qc(J,v,x,H.Io.alX(v,o,R))};H.Io.Qc=function(J,v,x,o,R){if(v.length==0)return;
if(x==null){x=[];for(var h=0;h<v.length;h++){x.push(J.k[v[h]].lR(J,!0))}}var r=new jj,l=new jj(0,0,J.r,J.$);
for(var h=0;h<v.length;h++){var M=o[2*h],P=o[2*h+1];if(R){M=-M;P=-P}var S=J.k[v[h]],c=x[h];if(S.add.fxrp&&(c.indexOf(0)!=-1||S.Id()))S.add.fxrp.offset(M,P);
for(var b=0;b<c.length;b++){var w=c[b];if(w==0){S.S.offset(M,P);if(S.Ov()&&S.V0(J))S.V0(J).S.offset(M,P);
if(S.add.artb){var U=S.Gf();U.offset(M,P);S.$V(U);var F=S.add.artb.guideIndeces;F=F?F.v:[];for(var Y=0;
Y<F.length;Y++){var A=J.HC[F[Y].v];A[1]+=A[0]==0?M:P}}if(S.add.TySh){S.add.TySh.u.translate(M,P);if(S.add.TySh.add){S.add.TySh.add.vmsk.offset(M,P)}}if(S.add.SoLd){var G=new bC(1,0,0,1,M,P),n=S.add.SoLd,E=H.ge.t1(n.Trnf),K=H.ge.t1(n.nonAffineTransform);
g.b.u(E,G,E);g.b.u(K,G,K);n.Trnf=H.ge.y7(E);n.nonAffineTransform=H.ge.y7(K);H.ge.anK(n,G)}}if(w==1)S.q9().S.offset(M,P);
if(w==2){S.add.vmsk.offset(M,P);if(S.add.vogk)g.Fw.u(S.add.vogk,[1,0,M,0,1,P,0,0],[]);if(S.QF.bG){var e=S.QF.bG.fF.T;
g.b.u(e,new bC(1,0,0,1,M,P),e)}}if(w==3){S.V0(J).pR.S.offset(M,P);if(c.length==1)S.Ai()}}if(c.length>0){var $=S.add.GdFl;
if($==null)$=S.add.PtFl;if(S.Id()&&!S._Z()&&S.add.vmsk!=null&&g.I.p7(S.add.vmsk.X)&&S.add.vmsk.nJ==255&&($==null||$.Algn&&$.Algn.v)){S.S.offset(M,P)}else S.B0(J);
var N=J.root.R5(S.xD(J),J,v[h]);if(S.add.artb)N=N.h0(S.Gf());r=r.h0(N);N.offset(-M,-P);r=r.h0(N);if(S.Aw()&&S.pR&&S.pR.color==255)r=r.h0(l);
S.aCV()}}J.Ai(g.b.RN(r))};H.Io.a47=function(J,v){var x=[];for(var h=0;h<v.length;h++){var o=J.k[v[h]];
x.push(o.lR(J))}return x};H.Io.SE=function(J,v,x){var o={T:[],Wp:[]},R=v.x+x[0],r=v.y+x[1];if(x[2]!=1e9){o.Wp.push("M","L");
var l=r+v.$;if(x[4])o.T.push(x[2],Math.min(r,l,x[4][1]),x[2],Math.max(r,l,x[4][1]));else o.T.push(x[2],r,x[2],r+v.$)}if(x[3]!=1e9){o.Wp.push("M","L");
var M=R+v.r;if(x[5])o.T.push(Math.min(R,M,x[5][0]),x[3],Math.max(R,M,x[5][0]),x[3]);else o.T.push(R,x[3],M,x[3])}if(o.T.length!=0){J.dB.Af=o;
J.ms=!0}};H.Io.a4=function(J,v,x,o){var R=H.Io.aBw(J,[[v.x],[v.y]],x,o);return new aG(v.x+R[0],v.y+R[1])};
H.Io.XE=function(J,v,x,o,R){var r=R==!0?1:.5,l=H.Io.aBw(J,[[v.x,v.x+Math.round(v.r*r),v.x+v.r],[v.y,v.y+Math.round(v.$*r),v.y+v.$]],x,o);
return l};H.Io.aBw=function(J,v,x,o){if(o==null)o=[!0,null,!0];var R=[0,0,1e9,1e9,null,null];if(!x.S0)return R;
var r=g.F(v);for(var l=0;l<2;l++){var M=1e9,P=v[l],S=0,c=null;for(var b=0;b<P.length;b++){var w=H.Io.ag2(J,P[b],r[1-l][b],l,x,o),U=w[0];
if(U!=1e9)r[l][b]=U;if(U!=1e9&&Math.abs(U-P[b])<Math.abs(M)){M=U-P[b];S=U;c=w[1]}}if(M!=1e9){R[l]=M;
R[l+2]=S;R[l+4]=c}}return R};H.Io.ag2=function(J,v,x,o,R,r){var l=1e9,M=null,P=R.gS,S=R.i3,c=[J.root];
while(c.length!=0&&P[2]){var b=c.pop(),w=b.w,U=w.S;if(!w.jh())continue;if(b.children)for(var h=0;h<b.children.length;
h++)c.push(b.children[h]);if(J.Y.indexOf(b.index)!=-1||U.L3())continue;var F=U.r,Y=F>>>1,A=U.$,G=A>>>1,n=l;
if(o==0){if(Math.abs(U.x-v)<Math.abs(l-v))l=U.x;if(Math.abs(U.x+Y-v)<Math.abs(l-v))l=U.x+Y;if(Math.abs(U.x+F-v)<Math.abs(l-v))l=U.x+F}else{if(Math.abs(U.y-v)<Math.abs(l-v))l=U.y;
if(Math.abs(U.y+G-v)<Math.abs(l-v))l=U.y+G;if(Math.abs(U.y+A-v)<Math.abs(l-v))l=U.y+A}if(n!=l){M=[U.x+Y,U.y+G]}}var E=l;
l=1e9;if(r[0]&&P[0]&&S.HC&&R.lf){var K=J.lg(),e=K[0],$=K[1],N=J.Ss();for(var h=0;h<e.length;h++)if(($[h]==-1||$[h]==N)&&e[h][0]==o&&Math.abs(e[h][1]-v)<Math.abs(l-v))l=e[h][1]}if(P[1]&&S.kE&&R.lf){var k=Math.round(g.Av.qM(S.V_,J.Bt,J.r,S.G3));
if(o==1&&S.wT==1){var V=x*.5*Math.sqrt(4/3),X;k*=Math.sqrt(4/3);X=Math.round((v-V)/k)*k+V;if(Math.abs(X-v)<Math.abs(l-v))l=X;
X=Math.round((v+V)/k)*k-V;if(Math.abs(X-v)<Math.abs(l-v))l=X}else{var X=Math.round(v/k)*k;if(Math.abs(X-v)<Math.abs(l-v))l=X}}var Q=J.ek;
if(P[3]&&S.ek&&R.lf&&Q.length!=0){for(var h=0;h<Q.length;h++){if(!r[2]&&J.dT.indexOf(h)!=-1)continue;
var L=H.mT.X4(Q,h);for(var _=0;_<3;_+=2)if(L[_+o]!=v&&Math.abs(L[_+o]-v)<Math.abs(l-v))l=L[_+o]}}if(r[1])for(var a=0;
a<r[1].length;a++){var U=r[1][a],F=U.r,A=U.$,Y=F>>>1,G=A>>>1;if(r[3]){Y=F/2;G=A/2}var T=[U.x,U.y,U.x+Y,U.y+G,U.x+F,U.y+A];
for(var h=0;h<6;h+=2)if(Math.abs(T[h+o]-v)<Math.abs(l-v))l=T[h+o]}if(P[4]){var U=new jj(0,0,J.r,J.$),N=J.Ss();
if(N!=-1)U=J.k[N].Gf();var F=U.r,A=U.$,Y=F>>>1,G=A>>>1;if(r[3]){Y=F/2;G=A/2}var T=[U.x,U.y,U.x+Y,U.y+G,U.x+F,U.y+A];
for(var h=0;h<6;h+=2)if(Math.abs(T[h+o]-v)<Math.abs(l-v))l=T[h+o]}if(Math.abs(l-v)<=Math.abs(E-v))M=null;
else l=E;var f=Math.abs(l-v)<=4*H.rR()/J.U.NT?l:1e9;return[f,M]};H.ky=function(){H.IE.call(this,[10,12],H.Yo,"tools/mwand");
this.q8=null};H.ky.prototype=new H.IE;H.ky.prototype.y1=function(J,v,x,o){this.q8=o;this.as2=this.Qu.wconf[0];
this.finish(J,v,x,o)};H.ky.prototype._k=function(J,v,x,o,R){if(!o.x4)return;var r=new dd(j.E.G);r.J=H.iI;
r.data={R:"h_stepbck"};R.a(r);var l=o.x-this.q8.x,M=Math.max(0,Math.min(255,Math.round(this.as2+l/4)));
this.Qu.wconf[0]=M;this.Gw(R);this.finish(J,v,x,this.q8)};H.ky.prototype.Vg=function(J,v,x,o,R){this.Qu.wconf[0]=this.as2;
this.Gw(R)};H.ky.prototype.getSelection=function(J,v,x,o){var R=this.VQ;R=J.U.hW(o.x,o.y);var r=H.IE.aJi(new aG(Math.floor(R.x),Math.floor(R.y)),this.Qu.wconf,this.Qu.sall);
return r};H.ky.awU=function(J,v,x,o,R){if(v.x<0||v.x>J.r||v.y<0||v.y>J.$)return null;var r,l=new jj(0,0,J.r,J.$);
if(o)r=J.rv();else{var M=J.Y.length,S=null;if(M!=1){alert(M==0?"No layer selected.":"More than one layer selected.");
return null}var P=J.k[J.Y[0]],c=P.kG<=0?null:P.kG==1?P.q9():P.V0(J).pR;if(R||c&&c.nX)S=c;if(S==null&&P.add.lsct!=null&&P.add.lsct!=h2.eI){alert("No layer selected.");
return null}if(S==null&&l.Ym(P.S))r=P.buffer;else{r=g.C(l.o()*4,J.depth);if(S==null)g.sW(P.buffer,P.S,r,l);
else H.P8.MB(S.N,S.S,S.color,r,l)}}var b=H.ky.QL(r,l,v,null,x),w=g.X5(b,l),U=g.C(w.o(),J.depth);g.Cc(b,l,U,w);
return{S:w,N:U}};H.ky.Oz=function(J,v,x){var o=v.r,R=v.$,l=0,M=0,P=0,S=0;J=new Uint32Array(J.buffer);
var r=[],c=x.length;for(var h=0;h<c;h++){var b=x[h],w=Math.round(b.x-.5-v.x),U=Math.round(b.y-.5-v.y);
w=Math.max(0,Math.min(o-1,w));U=Math.max(0,Math.min(R-1,U));var F=U*o+w,Y=J[F];r.push([Y&255,Y>>8&255,Y>>16&255,Y>>>24])}return r};
H.ky.QL=function(J,v,x,o,R){var r=g.u3(J);J=g.N2(J,8);J=new Uint32Array(J.buffer);var l=v.r,M=v.$,P=l*M;
if(o==null)o=H.ky.Oz(J,v,[x]);var S=Math.round(x.x-.5-v.x),c=Math.round(x.y-.5-v.y),b=c*l+S,w=Date.now(),U=g.C(l*M),F=R[0],Y=1/F,A=R[1]&&F>0?255:0;
if(R[2]){var G=g.C(U.length),n=new Uint32Array(P),E=1;n[0]=S<<16|c;G[b]=1;while(E>0){var K=n[E-1];E--;
var e=K>>>16,$=K&65535,h=$*l+e,N=H.ky.YC(J[h],o);if(N>F){var k=A*(1-Math.max(0,Math.min(1,(N-F)*Y)));
U[h]=~~k}else{U[h]=255;if($!=M-1&&G[h+l]==0){n[E++]=e<<16|$+1;G[h+l]=1}if($!=0&&G[h-l]==0){n[E++]=e<<16|$-1;
G[h-l]=1}if(e!=l-1&&G[h+1]==0){n[E++]=e+1<<16|$;G[h+1]=1}if(e!=0&&G[h-1]==0){n[E++]=e-1<<16|$;G[h-1]=1}}}}else{for(var h=0;
h<P;h++){var N=H.ky.YC(J[h],o);if(N<=F)U[h]=255}for(var $=0;$<M;$++)for(var e=0;e<l;e++){var h=$*l+e;
if(U[h]==0&&(e>0&&(U[h-1]==255||$>0&&U[h-l-1]==255||$<M-1&&U[h+l-1]==255)||e<l-1&&(U[h+1]==255||$>0&&U[h-l+1]==255||$<M-1&&U[h+l+1]==255)||$>0&&U[h-l]==255||$<M-1&&U[h+l]==255)){var N=H.ky.YC(J[h],o),k=A*(1-Math.max(0,Math.min(1,(N-F)*Y)));
U[h]=~~k}}}U=g.N2(U,r);return U};H.ky.YC=function(J,v){var x=v.length,o=H.ky.anq(J,v[0]),h=1;while(h!=x){o=Math.min(o,H.ky.anq(J,v[h]));
h++}return o};H.ky.anq=function(J,v){var x=J&255,o=J>>>8&255,R=J>>>16&255,r=J>>>24&255;if(v[3]==0)return r<5?0:255;
var l=Math.max(Math.abs(x-v[0]),Math.max(Math.abs(o-v[1]),Math.abs(R-v[2])));return r==0?255:l};H.ET=function(J,v){if(v)H.P8.call(this);
else if(J)H.P8.call(this,[10,49],H.ib,"tools/camove");else H.P8.call(this,[10,26],H.p4,"tools/patch");
this.hn=null;this.bG=null;this.V=null;this.fw=null;this.m3=new aG;this.hq=null;this.rw=null};H.ET.prototype=new H.P8;
H.ET.prototype._N=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y);if(J.g&&g.M$(r,J.g.N,J.g.S)){var l=new jj(0,0,J.r,J.$),M=l.Xt(J.g.S);
if(!J.hH()||M.L3())return;if(!0){var P=g.C(M.o(),J.depth);g.Cc(J.g.N,J.g.S,P,M);J.g={N:P,S:M}}this.nq(J);
this.UJ(J);this.fw=r;this.m3=new aG(r.x-J.g.S.x,r.y-J.g.S.y);this.rw=g.C(J.g.S.o()*4,J.depth);this.rw.fill(g.JN(J.depth));
if(this.Qu.patch==1){var S=J.k[J.Y[0]];S.QC(J,J.g,!0);if(S.WI==null)this.fw=null}this.hq=J.g.S.Q()}else{this.bG={T:[r.x,r.y],Wp:["M"]};
this.hn=r}};H.ET.prototype.kq=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y);if(this.fw){if(this.Qu.patch==1){if(J.Dk.length==0){var l=J.k[J.Y[0]].WI,M=r.x-this.m3.x,P=r.y-this.m3.y;
H.Io.Ld(J,J.Y[0],Math.round(M-l.du.x),Math.round(P-l.du.y))}}else this.ar9(J,r,"clone")}if(this.hn){this.bG.Wp.push("L");
this.bG.T.push(r.x,r.y);this.hn=r;J.dB.xt=this.bG;J.ms=!0}};H.ET.prototype.ER=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y);
if(this.fw){var l=J.g.S.Q();if(this.id==H.ib){var M=J.k[J.Y[0]];M.M6(J,M.WI);J.g.S=this.hq.Q();var P=g.C(J.g.S.o()*4,J.depth);
g.Os(J.g.N,P,3);this.o$(J,"sheal",P,J.g.S,J.g.S);J.g.S=l;l=l.h0(this.hq)}this.ar9(J,r,"heal");this.finish(J,l,null,null,!0);
J.Ai(l);this.fw=null}if(this.hn){var S=H.IE.Cd(this.Qu.setop,o.M(gw.Yv),o.M(gw.i4)),c=new dd(j.E.aT,!0);
if(this.bG.T.length<=4)c.data=H.IE.DT();else c.data=H.IE.jx(this.bG.T,S);v.a(c);this.hn=null;J.dB.xt=null;
J.ms=!0}};H.ET.prototype.vF=function(){return this.V};H.ET.prototype.zN=function(J,v,x,o,R){H.P8.prototype.zN.call(this,J,v,x,o,R);
this.B4(R,o)};H.ET.prototype.B4=function(J,v){var x="auto;";if(v!=null&&v.M(gw.Yv)&&!v.M(gw.i4)||this.Qu.setop=="union")x="copy";
var o=new dd(j.E.j,!0);o.data={R:j.m.HX,O5:x};if(this.caller)this.caller.a(o)};H.ET.prototype.ar9=function(J,v,x){var o=new aG(Math.round(this.fw.x-v.x),Math.round(this.fw.y-v.y));
if(this.Qu.patch==1)o._h(-o.x,-o.y);this.V=o;this.o$(J,x,this.rw,J.g.S,J.g.S);this.Ai(J,J.g.S)};H.aIR=function(){H.ET.call(this,!0);
this.Qu.patch=1};H.aIR.prototype=new H.ET(!0,!0);H.mB=function(J){if(J)H.P8.call(this,[10,52],H.aGx,"tools/meraser");
else H.P8.call(this,[10,13],H.agp,"tools/pbucket");this.tk=!1;this.a3G=J};H.mB.prototype=new H.P8;H.mB.prototype.enable=function(J,v,x,o){var R=new dd(j.E.j,!0);
R.data={R:j.m.HX,O5:"default"};v.a(R)};H.mB.prototype.pJ=function(J,v){};H.mB.prototype._N=function(J,v,x,o,R){if(this.ts(J,v,x,o,R,!0))return;
this.tk=!0};H.mB.prototype.kq=function(J,v,x,o,R){if(this.ts(J,v,x,o,R))return};H.mB.prototype.ER=function(J,v,x,o,R,r){this.enable(J,v,x,o);
var l=this.tk;this.tk=!1;if(!l||r)return;if(!J.hH())return;var M=J.U.hW(R.x,R.y),P=H.ky.awU(J,M,this.Qu.wconf,this.Qu.sall,!0);
if(P==null)return;if(J.g){var S=J.g.S.Xt(P.S);if(S.o()<P.S.o()){var c=g.C(S.o(),J.depth);g.Cc(P.N,P.S,c,S);
P.S=S;P.N=c}}var b=g.C(P.S.o()*4,J.depth),w=g.x7(x.P4,1);g.rd(b,w.z,w.H,w.c);g.Os(P.N,b,3);this.nq(J);
this.o$(J,this.a3G?"erase":"draw",b,P.S,P.S);this.Ai(J,P.S);this.finish(J,P.S)};H.OD=function(){H.IE.call(this,[10,14],H.an2,"tools/plasso");
this.z1=H.fM();this.to=[];this.xu=null;this.bG=null;this.awb=0};H.OD.prototype=new H.IE;H.OD.prototype.disable=function(J,v,x,o){this.cC(J)};
H.OD.prototype.y1=function(J,v,x,o){this.to=[gw.Fp,gw.hP]};H.OD.prototype.V9=function(J){return this.to.indexOf(J)!=-1};
H.OD.prototype.YZ=function(J){return this.bG!=null};H.OD.prototype.Sb=function(){return this.bG!=null};
H.OD.prototype.b7=function(){return this.bG!=null};H.OD.prototype._k=function(J,v,x,o){if(this.bG==null)return;
var R=this.bG,r=R.T,l=r.length-2,M=this.VQ;if(this.bf.rA(1)&&x.M(gw.i4)&&o.x4){r.push(0,0);R.Wp.push("L");
l+=2}else if(x.M(gw.Yv))M=H.La.ga(new aG(r[l-2],r[l-1]),M);r[l]=M.x;r[l+1]=M.y;J.dB.xt=R;J.ms=!0};H.OD.prototype.Vg=function(J,v,x,o){var R=Date.now();
if(this.bG==null)this.bG={T:[this.VQ.x,this.VQ.y,this.VQ.x,this.VQ.y],Wp:["M","L"]};else{this._k(J,v,x,o);
if(R-this.awb<250||aG.Aj(this.VQ,new aG(this.bG.T[0],this.bG.T[1]))<H.rY(J,o)){this.xu=this.bG;this.finish(J,v,x,o);
this.cC(J);return}this.bG.Wp.push("L");this.bG.T.push(this.VQ.x,this.VQ.y)}this.awb=R;J.dB.xt=this.bG};
H.OD.prototype.cC=function(J){this.bG=null;this.to=[];if(J!=null){J.dB.xt=null;J.ms=!0}};H.OD.prototype.lb=function(J,v,x,o){H.IE.prototype.lb.call(this,J,v,x,o);
if(o.M(gw.T1)&&this.bG==null&&this.xu&&J.g!=null){var R=new dd(j.E.G);R.J=H.iI;R.data={R:"h_stepbck"};
v.a(R);this.y1(J,x,o,null);this.bG=this.xu;return}if(this.bG==null)return;if(o.M(gw.Fp)||o.M(gw.hP)){this.bG.T.pop();
this.bG.T.pop();this.bG.Wp.pop();this._k(J,x,o)}if(o.M(gw.O9)){if(this.bG.T.length>4){this.xu=this.bG;
this.finish(J,x,o)}this.bG=null}if(o.M(gw.T1)){this.bG=null}J.dB.xt=this.bG;J.ms=!0};H.OD.prototype.getSelection=function(J,v,x,o){return H.IE.jx(this.bG.T,null,this.Qu.anta)};
H.iZ=function(){H.IE.call(this,[10,10],H.a34,"tools/mlasso");this.z1=H.fM();this.to=[];this.X=[];this.mI=[];
this.W9=[];this.aFH=null;this.a3d=0;this.mj=null;this.QA=null;this.vq=0;this.I4=0};H.iZ.prototype=new H.IE;
H.iZ.prototype.disable=function(J,v,x,o){this.clear(J)};H.iZ.prototype.YZ=function(J){return this.X.length!=0};
H.iZ.prototype.b7=function(){return this.X.length!=0};H.iZ.prototype.V9=function(J){return this.to.indexOf(J)!=-1};
H.iZ.prototype.y1=function(J,v,x,o){this.to=[gw.Fp,gw.hP];var R=this.H7(this.Z7,J);if(this.X.length!=0&&(aG.Aj(R,this.X[0])<H.rY(J,o)||Date.now()-this.vq<300)){this.bj(J,this.X[0]);
this.finish(J,v,x);this.clear(J);return}this.vq=Date.now();if(this.X.length!=0)R=this.Ob(R,J);else{var r=J.r,l=J.$,M=J.rv(),P=UZIP.adler(M,0,M.length);
if(P==this.a3d){}else{var S=g.C(r*l),c=r*l*4;for(var h=0;h<c;h+=4)S[h>>>2]=~~(.5+g.x3(M[h],M[h+1],M[h+2])*(M[h+3]*(1/255)));
this.aFH=g.GY.an9(S,r,l);this.a3d=P}this.QA=new Uint16Array(r*l)}this.bj(J,R);this.I4=x.M(gw.i4)?1:0;
this.f7(J)};H.iZ.prototype.bj=function(J,v){var x=this.X;this.mI[x.length]=this.W9.length;if(x.length!=0){g.GY.rI(this.mj,v.y*J.r+v.x);
var o=this.c9(J,v);o.reverse();var R=H.iZ.aHN(J,o);this.W9=this.W9.concat(R)}x.push(v);this.aBh(J)};
H.iZ.prototype.aBh=function(J){var v=this.X[this.X.length-1],x=v.y*J.r+v.x;this.mj=g.GY.aso(this.aFH,x,J.r,J.$);
this.QA.fill(0)};H.iZ.prototype.H7=function(J,v){return new aG(Math.floor(Math.max(0,Math.min(v.r-1,J.x))),Math.floor(Math.max(0,Math.min(v.$-1,J.y))))};
H.iZ.prototype.clear=function(J){this.W9=[];this.X=[];this.mI=[];this.mj=null;this.QA=null;if(J!=null){J.dB.xt=null;
J.dB.f3=[];J.ms=!0}this.to=[]};H.iZ.prototype._k=function(J,v,x,o){var R=this.X,r=R.length;if(r==0)return;
var l=this.Ob(this.H7(this.VQ,J),J),M=this.c9(J,l);for(var h=0;h<M.length;h++){var P=M[h],S=new aG(P%J.r,Math.floor(P/J.r));
if(this.QA[P]>30&&aG.Aj(S,R[r-1])>20){this.bj(J,S);return}this.QA[P]++}if(this.I4==1&&o.x4)this.bj(J,l);
this.f7(J)};H.iZ.prototype.f7=function(J){var v=this.X;if(v.length!=0){var x=this.Ob(this.H7(this.VQ,J),J),o=this.c9(J,x);
o.reverse();var R=H.iZ.aHN(J,o),r=this.W9.concat(R),l=J.dB.xt={T:r,Wp:["M"]};for(var h=2;h<r.length;
h+=2)l.Wp.push("L")}J.dB.f3=[];for(var h=0;h<v.length;h++)J.dB.f3.push(v[h].x+.5,v[h].y+.5);J.ms=!0};
H.iZ.prototype.Vg=function(J,v,x,o){};H.iZ.prototype.lb=function(J,v,x,o){if(this.X.length==0)return;
if(o.M(gw.Fp)||o.M(gw.hP)){this.X.pop();this.W9=this.W9.slice(0,this.mI[this.X.length]);this.mI.pop();
if(this.X.length==0)this.clear(J);else this.aBh(J);this.f7(J)}if(o.M(gw.O9)){var R=this.H7(this.VQ,J);
this.bj(J,R);this.finish(J,x,o);this.clear(J)}if(o.M(gw.T1)){this.clear(J)}};H.iZ.prototype.getSelection=function(J,v,x,o){return H.IE.jx(this.W9,null,this.Qu.anta)};
H.iZ.prototype.c9=function(J,v){var x=this.X[this.X.length-1],o=x.y*J.r+x.x,R=v.y*J.r+v.x;if(this.I4==1)return[R,o];
var r=[R];while(R!=o){R=R+this.mj.Ju[R];r.push(R);if(r.length>5e3){console.log(r);throw"e"}}return r};
H.iZ.aHN=function(J,v){var x=[],o=J.r;for(var h=0;h<v.length;h++){var R=v[h];x.push(R%o+.5,Math.floor(R/o)+.5)}return x};
H.iZ.prototype.Ob=function(J,v){var x=v.r,o=v.$,R=J.Q(),l=3;g.GY.rI(this.mj,J.y*x+J.x);var r=this.mj.up[J.y*x+J.x];
for(var M=-l+1;M<l;M++)for(var P=-l+1;P<l;P++){var S=J.x+P,c=J.y+M;if(S<0||S>=x||c<0||c>=o)continue;
g.GY.rI(this.mj,c*x+S);if(this.mj.up[c*x+S]<r)R._h(S,c)}return R};H.wF=function(){H.AA.call(this,[10,36],H.rJ,"tools/ruler");
this.J7=null;this.Qk=null;this.HI=null;this.HE=null;this._L=null};H.wF.prototype=new H.AA;H.wF.prototype.YZ=function(J){return J.x4};
H.wF.prototype.enable=function(J,v,x,o){H.AA.prototype.enable.call(this,J,v,o,x);if(J){this.kh(J)}};
H.wF.prototype.disable=function(J,v,x,o){if(J)this.cC(J)};H.wF.prototype.vE=function(J,v,x,o,R){if(J.R=="unit"){var r=this.J7,l=J.K;
x.Vj={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:l[0]},logicalLength:{t:"doub",v:l[1]},logicalUnits:{t:"TEXT",v:l[2]}}}};
this.wH(v,j.E.j,{R:j.m.hf,J:this.id,RC:r[0],B5:r[1],kL:r[2],Bt:x.Bt,a7h:x.r,Vj:x.Vj})}if(J.R=="reset"){this.J7=this.HI=null;
this.kh(x)}};H.wF.prototype._N=function(J,v,x,o,R){var r=H.rY(J,R),l=J.U.hW(R.x,R.y);l.x=Math.round(l.x);
l.y=Math.round(l.y);var M=this.J7;this.Qk=M?M.slice(0):null;var P=M&&aG.Aj(l,M[0])<r,S=M&&aG.Aj(l,M[1])<r,c=M&&M[2]&&aG.Aj(l,M[2])<r;
if(P||S||c){if(o.M(gw.i4)&&M.length==2){if(S){var b=M[0];M[0]=M[1];M[1]=b}M[2]=M[0].Q();this.HI=[2]}else this.HI=[P?0:S?1:2]}else if(M&&H.wF.a51(M[0],M[1],l)<r&&Math.min(M[0].x,M[1].x)-5<=l.x&&l.x<=Math.max(M[0].x,M[1].x)+5&&Math.min(M[0].y,M[1].y)-5<=l.y&&l.y<=Math.max(M[0].y,M[1].y)+5){this.HI=[];
this._L=[];for(var h=0;h<M.length;h++){this.HI.push(h);this._L.push(M[h].Q())}this.HE=l}else{this.J7=[l.Q(),l.Q()];
this.HI=[1]}};H.wF.prototype.kq=function(J,v,x,o,R){if(this.HI==null)return;var r=this.J7,l=this.HI,M=J.U.hW(R.x,R.y);
M.x=Math.round(M.x);M.y=Math.round(M.y);if(l.length>1){var P=M.x-this.HE.x,S=M.y-this.HE.y;for(var h=0;
h<r.length;h++){r[h]=this._L[h].Q();r[h].offset(P,S)}}else{r[l[0]]._h(M.x,M.y);if(o.M(gw.Yv)){r[l[0]]=H.La.ga(r[1-l[0]],r[l[0]])}}this.kh(J);
this.wH(v,j.E.j,{R:j.m.hf,J:this.id,RC:r[0],B5:r[1],kL:r[2],Bt:J.Bt,a7h:J.r,Vj:J.Vj});J.U.bh=g.b.jR([r[0].x,r[0].y,r[1].x,r[1].y])};
H.wF.prototype.ER=function(J,v,x,o,R,r){this.HI=null;if(r){this.J7=this.Qk.slice(0);this.kh(J)}};H.wF.prototype.wH=function(J,v,x){var o=new dd(v,!0);
o.data=x;J.a(o)};H.wF.prototype.kh=function(J){var v=this.J7;if(v==null)this.cC(J);else{var x=[v[1].x,v[1].y,v[0].x,v[0].y],o=["M","L"];
if(v.length>2){x.push(v[2].x,v[2].y);o.push("L")}J.dB.xt={Wp:o,T:x};J.dB.f3=x}J.ms=!0};H.wF.prototype.cC=function(J){J.dB.xt=null;
J.dB.f3=[]};H.wF.a51=function(J,v,x){var o=v.x-J.x,R=v.y-J.y,r=Math.abs(R*x.x-o*x.y+v.x*J.y-v.y*J.x),l=Math.sqrt(o*o+R*R);
return l==0?0:r/l};H.ad=function(){H.P8.call(this,[10,19],H.hD,"tools/sharpen");this.kg="copy"};H.ad.prototype=new H.P8;
H.ad.prototype._N=function(J,v,x,o,R){var r=this.Qu.pdetail?ix.gG:ix.hD;if(o.M(gw.i4))r=ix.Tg;this.g4(J,x,o,R,this.Qu.strn,r);
if(this.XO==null)return;this.aH(J)};H.ad.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);if(this.R3)this.bL(J,x,R);
if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};H.Zt=function(){H.P8.call(this,[10,24],H.lk,"tools/shbrush");
this.kg="draw";this.Qu.opacity=.5};H.Zt.prototype=new H.P8;H.Zt.prototype._N=function(J,v,x,o,R){this.g4(J,x,o,R,1);
if(this.XO==null)return;this.UJ(J);this.aH(J)};H.Zt.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);
if(this.R3)this.bL(J,x,R);if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};H.Zt.prototype.ER=function(J,v,x,o,R){if(this.XO==null)return;
this.o$(J,"sheal",this.XO.Hl(),this.XO.ca(),this.XO.vn(),null);this.Ai(J,this.XO.vn());H.P8.prototype.ER.call(this,J,v,x,o,R)};
H.dq=function(){H.P8.call(this,[10,20],H.Ye,"tools/smudge");this.kg="copy"};H.dq.prototype=new H.P8;
H.dq.prototype._N=function(J,v,x,o,R){var r=this.Qu.brush.toolOptions;this.g4(J,x,o,R,this.Qu.strn,ix.Ye);
if(this.XO==null)return;this.aH(J)};H.dq.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);if(this.R3)this.bL(J,x,R);
if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};H.FW=function(){H.P8.call(this,[10,23],H.R$,"tools/sponge");
this.kg="sponge"};H.FW.prototype=new H.P8;H.FW.prototype._N=function(J,v,x,o,R){this.g4(J,x,o,R,this.Qu.flow);
if(this.XO==null)return;this.aH(J)};H.FW.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);if(this.R3)this.bL(J,x,R);
if(this.XO==null)return;if(!R.x4)return;this.hz(J,x,o,R);this.aH(J)};H.gu=function(){H.AA.call(this,[10,17],H.C5,"tools/zoom");
this.SV=!1;this.xo=!0;this.vZ=!1;this.l7=0;this.SK=null;this.LY=null;this.bt=0;this.U_=null;this.aek=0;
this.Xd=new kM([{name:[8,0],ro:"Ctrl + +"},{name:[8,1],ro:"Ctrl + -",vy:!0},{name:[20,3],ro:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],ro:"Ctrl + 1"}],[{A:j.E.G,J:H.C5,p:{R:"zoom",xo:!0}},{A:j.E.G,J:H.C5,p:{R:"zoom",xo:!1}},{A:j.E.G,J:H.C5,p:{R:"adapt",K:"fitscr"}},{A:j.E.G,J:H.C5,p:{R:"adapt",K:"pixel"}}])};
H.gu.prototype=new H.AA;H.gu.prototype.Su=function(J,v,x,o,R){var r=this.Xd;r.d();r.parent=v;r.update(J,x);
var l=new dd(j.E.j,!0);l.data={R:j.m.sO,rq:r,x:R.m4+2,y:R.R1+1};v.a(l)};H.gu.prototype.enable=function(J,v,x,o){this.fv(v,o);
if(J&&Date.now()-this.l7<300)this.vE({R:"adapt",K:"pixel"},v,J,o,x);this.l7=Date.now()};H.gu.prototype._N=function(J,v,x,o,R){this.LY=new aG(R.x,R.y);
this.bt=J.U.NT;this.U_=J.U.V.Q()};H.gu.prototype.kq=function(J,v,x,o,R){if(this.LY==null)return;var r=Math.exp(Math.log(this.bt)+(R.x-this.LY.x)/64);
r=Math.max(.02,Math.min(H.gu.Bx[0],r));J.U.NT=this.bt;J.U.V=this.U_.Q();this.vE({R:"zoom",NT:r,Yd:this.LY,vZ:this.vZ},v,J,o,x)};
H.gu.prototype.ER=function(J,v,x,o,R){if(aG.Aj(this.LY,R)<4){var r=this.a7X(o);this.vE({R:"zoom",xo:r,Yd:R,vZ:this.vZ},v,J,o,x)}this.LY=null};
H.gu.Bx=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
H.gu.pl=function(J,v,x,o){var R=1;while(J*R*1/2>x||v*R*1/2>o)R*=1/2;if(J*R*2/3>x||v*R*2/3>o)R*=1/2;else if(J*R>x||v*R>o)R*=2/3;
return R};H.gu.agz=function(J,v){var x=H.gu.aqK(J);if(v&&x==0)return J;if(!v&&x==H.gu.Bx.length-1)return J;
return H.gu.Bx[v?x-1:x+1]};H.gu.aqK=function(J){var v=0;while(H.gu.Bx[v]>J)v++;return v};H.gu.p9=function(J,v,x,o){var R=J.qE;
if(o==0||o==null){o=H.gu.agz(J.NT,x);if(o==J.NT)return}var r=J.hW(v.x,v.y);r.x=Math.max(0,Math.min(R.r,r.x));
r.y=Math.max(0,Math.min(R.$,r.y));if(!1){}else{var l=J.Vu(),M=J.NT/o;l.translate(-r.x,-r.y);l.scale(M,M);
l.translate(r.x,r.y);J.aa8(l)}};H.gu.prototype.vE=function(J,v,x,o,R){if(J.R=="pzoom"){if(typeof J.K=="string")return;
J={R:"zoom",NT:J.K/100}}if(J.R=="prvw"){x.add.prvw=1-x.add.prvw;x.ms=!0}var r=0,l=!1,M=null;if(J.R=="adapt"){var P=0;
if(J.K=="pixel")P=1;if(J.K=="fitscr"){var P=0,S=x.U.SU.r,c=x.U.SU.$,b=new jj(0,0,x.r,x.$),w=g.b.ho(b).T,U=new bC;
U.rotate(x.U.U1);g.b.u(w,U,w);var F=g.b.ni(w),Y=R.fD?g.Av.E4+4:8;P=Math.min((S-Y*2)/F.r,(c-Y*2)/F.$);
x.U.V._h(0,0)}M=new aG(Math.round(x.U.SU.r/2),Math.round(x.U.SU.$/2));r=P;H.gu.p9(x.U,M,l,r);x.Se=!0}if(J.R.startsWith("multi")){function A(a){var D=a[0].x-a[1].x,C=a[0].y-a[1].y;
return Math.sqrt(D*D+C*C)}function G(a){return new aG((a[0].x+a[1].x)/2,(a[0].y+a[1].y)/2)}function n(a){var D=a[0].x-a[1].x,C=a[0].y-a[1].y;
return Math.atan2(C,D)}var E=J.Px,K=G(E);if(J.R=="multidown"){this.SK=[E,x.U.NT,x.U.hW(K.x,K.y),x.U.U1]}else{var e=H.gu.Bx;
r=this.SK[1]*A(E)/A(this.SK[0]);r=Math.max(e[e.length-1],Math.min(e[0],r));if(r!=x.U.NT)H.gu.p9(x.U,K,l,r);
var $=this.SK[2],N=x.U.Lp($.x,$.y),k=x.U.V;k.x=Math.round(k.x+K.x-N.x);k.y=Math.round(k.y+K.y-N.y);var V=this.SK[3]+(n(E)-n(this.SK[0])),X=2*Math.PI,Q=[0,X/4,X/2,X*3/4,X];
while(V<0)V+=X;V=V%X;for(var h=0;h<Q.length;h++)if(Math.abs(V-Q[h])<.05){V=Q[h];break}x.U.U1=V;x.Se=!0}}if(J.R=="scroll"){M=J.Yd;
var e=H.gu.Bx,L=J.Zb.y,_=1+Math.abs(L)*8e-4*(J.adH?10:1);if(L>0)_=1/_;r=x.U.NT*_;H.gu.p9(x.U,M,l,Math.min(e[0],Math.max(e[e.length-1],r)));
x.Se=!0}if(J.R=="zoom"){var a=J.vZ?v.n4:[x];for(var h=0;h<a.length;h++){var T=a[h],f=T.U;M=J.Yd?J.Yd:new aG(Math.round(f.SU.r/2),Math.round(f.SU.$/2));
if(J.NT!=null)r=J.NT;else l=J.xo;H.gu.p9(f,M,l,r);T.Se=!0}}if(J.R=="mskView"){var Z=x.k[x.Y[0]];if(Z.kG<=0){Z.kG=1;
x.wj=!0}var W=Z.kG==3?Z.V0(x).pR:Z.q9();if(J.K==0){x.U.xY=[1,1,1];W.nX=!1}if(J.K==1){x.U.xY=[1,1,1];
W.nX=!0}if(J.K==2){x.U.xY=[0,0,0];W.nX=!0}for(var h=0;h<x.ac.length;h++)x.ac[h].nX=!1;x.Dk=[];x.ms=!0}};
H.gu.prototype.lb=function(J,v,x,o){if(this.SV!=o.M(gw.i4)){this.SV=o.M(gw.i4);var R={R:j.m.hf,J:this.id,SV:this.SV},r=new dd(j.E.j,!0);
r.data=R;v.a(r);this.fv(v,o)}};H.gu.prototype.fv=function(J,v){var x=new dd(j.E.j,!0),o=this.a7X(v);
x.data={R:j.m.HX,O5:o?"zoom-in":"zoom-out"};J.a(x)};H.gu.prototype.zN=function(J,v,x,o){this.xo=J.xo;
this.vZ=J.vZ;this.fv(v,o)};H.gu.prototype.a7X=function(J){var v=this.xo;if(J.M(gw.OW)&&J.M(gw.aw))v=!0;
if(this.SV)v=!v;return v};H.gu.agG=function(J,v){if(J.M(gw.gF)||J.M(gw.a6o)){v.J=H.C5;v.data={R:"zoom",xo:!0}}if(J.M(gw.bE)){v.J=H.C5;
v.data={R:"zoom",xo:!1}}if(J.M(gw.NV)){v.J=H.C5;v.data={R:"adapt",K:"fitscr"}}if(J.M(gw.gs)){v.J=H.C5;
v.data={R:"adapt",K:"pixel"}}};H.qk=function(J,v,x){H.AA.call(this,J,v,x);this.qE=null;this.f=null;this.mm=null;
this.a3a=0};H.qk.prototype=new H.AA;H.qk.uf=function(J,v){var x={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},o=J==null?{classID:"null",null:x,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:x,Usng:{t:"type",v:{classID:J}},__name:"Stroke"};
if(v)o.Prs={t:"bool",v:!0};return{QI:J==null?"fill":"stroke",_g:o}};H.qk.sn=function(h){var J={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},o;
if(h==3){var v=kj.RS("Lyr",!0);v.v.unshift(J);return{QI:"delete",_g:{classID:"Dlt",null:v}}}var v=kj.RS("Path"),x={t:"obj ",v:[J]};
if(h<2)o={t:"enum",v:{vectorMaskEnabled:h==0?"RvlA":"HdAl"}};else o=kj.RS("Path",!0);return{QI:"make",_g:{classID:"Mk",null:v,At:x,Usng:o}}};
H.qk.prototype.enable=function(J,v,x,o,R){this.f=x;var r=new dd(j.E.j,!0);r.data={R:j.m.HX,O5:"default"};
v.a(r)};H.qk.prototype.Su=function(J,v,x,o,R){var r=J.Ng(),l=r[0],M=r[1];if(M.length==0)return;var P=l[M[0]],S=P.add.vmsk,c=J.U.hW(R.x,R.y),b=4*H.rR()/J.U.NT,w=new jj(c.x-b,c.y-b,b*2,b*2),U=g.I.mU(S.X,w)[0];
if(U.length!=0){S.Ax=U;J.ms=!0}var F=g.I.M$(S.X,c).Vn;if(F!=-1){S.Y=[F];J.ms=!0}var Y=new dd(j.E.j,!0);
Y.data={R:j.m.hf,J:this.id,L$:R,C_:J,f:x};v.a(Y)};H.qk.prototype.amD=function(J,v){var x=new dd(j.E.j,!0);
x.data={R:j.m.Qq,Fu:cj.Vx};if(!v.lf)J.a(x);x.data={R:j.m.Qq,Fu:cj.kD};if(!v.i3.h1)J.a(x)};H.qk.prototype.W6=function(J,v,x,o,R){if([H.Mj,H.sb,H.Ag,H.AQ,H.Ks].indexOf(this.id)!=-1)H.AA.aqh.call(this,J,v,x,o);
if(J==null)return;if(x.Lz!=this.id&&R==null)return;if(J.Y.length==0)return;var r=J.k[J.Y[0]],l=r.add.vmsk,M=r.add.vstk;
if(du==0){var P=gD.qx(r.add);this.qE=J;this.mm=v;if(r.Id()&&l!=null&&(JSON.stringify(M)!=JSON.stringify(x.IZ)||JSON.stringify(P)!=JSON.stringify(x.yo))){this.a3a=Date.now();
var S=new dd(j.E.j,!0);S.data={R:j.m.Qq,Fu:cj.km,K:P};v.a(S);S.data={R:j.m.Qq,Fu:cj.PV,K:M};v.a(S)}}else{var c=null;
for(var h=0;h<J.Y.length;h++){var r=J.k[J.Y[h]],b=r.add.vstl;if(b==null)continue;if(c==null)c=g.F(b);
else{for(var w in b){if(c[w]==null)continue;if(b[w]==b.T0){if(JSON.stringify(b[w])!=JSON.stringify(c[w]))delete c[w]}else if(b[w]==b.sN){if(JSON.stringify(b[w])!=JSON.stringify(c[w]))delete c[w]}else if(b[w]!=c[w])delete c[w]}}}if(c==null)return;
var U=JSON.stringify(c);if(U!=JSON.stringify(x.Ok)){var S=new dd(j.E.j,!0);S.data={R:j.m.Qq,Fu:cj.YI,K:c};
v.a(S)}}};H.qk.prototype.pJ=function(J,v){if(v==cj.oT||v==cj.q6)this.W6(null,null,J,null);if(this.qE==null)return;
if(v==cj.q6||v==cj.km||v==cj.PV){if(Date.now()-this.a3a<50)return;var x=v==cj.km,o=this.qE,R=x?J.yo:J.IZ,r=[],l=o.Y;
for(var h=0;h<l.length;h++){var M=l[h],P=o.k[M];if(!P.Id()||P.add.vmsk==null)continue;r.push(M)}var S=new dd(j.E.G,!0);
S.J=H.wu;S.data={R:m.Kh,UU:r,NF:x,K:R};if(r.length!=0)this.mm.a(S)}};H.qk.prototype.aCJ=function(J){if(typeof J=="number"){var v=new dd(j.E.aT,!0);
v.data=H.YP.Z9(0);v.data._g.Usng.v.Type.v.Clr.v=g.UH.YK({z:J>>>16&255,H:J>>>8&255,c:J>>>0&255});this.mm.a(v)}};
H.qk.prototype.vE=function(J,v,x,o,R){this.mm=v;if(J.R=="newfill"){if(J.QJ==0){var r=new dd(j.E.j,!0);
r.data={R:j.m.wz,kA:"colorpicker",qt:R.P4,Ah:this.aCJ.bind(this)};v.a(r)}}else if(J.R=="smplp"){if(x==null)return;
var l=x.Ng(),M=l[0],P=l[1];if(P.length==0){alert("No paths selected");return}var S=M[P[0]];if(S.add.vmsk.Y.length<=0){alert("No paths selected");
return}if(this.uT==null){this.uT=S.add.vmsk.Q();this.kU=JSON.stringify(S.add.vogk);this.bG=S;this.qE=x}var r=new dd(j.E.j,!0);
r.data={R:j.m.wz,kA:"simplifypath",EB:100,MX:this.aCP.bind(this)};v.a(r)}else if(J.R=="pathedit"){var c=J.Uq,b="",w=x.h1.slice(0),U=x.GP.slice(0),F=x.h1.slice(0),Y=x.GP.slice(0),A=x.KG,G=x.KG;
if(c=="rnm"){var n=-1-J.Vn,E=w[n],K=d7.bl(J.name,E.add);if(n!=0)F[n]=K;else{Y=[F.length];F.push(K);F[0]=d7.bl("Work Path")}b="Rename"}else if(c=="sspath"){if(J.K==-1){G=-1;
Y=[]}else if(J.K==1&&x.KG!=-1)Y=[x.KG];else if(x.GP.length!=0){if(x.dZ){alert("Symmetry can't be used in the Pattern Preview");
return}G=x.GP[0]}else return;b="Symmetry"}else if(c=="new"){var K=d7.bl("Path "+w.length);if(J.fF)K=J.fF;
if(J.ax7){var l=x.Ng(),M=l[0],P=l[1],e=M[P[0]];K.add.vmsk=e.add.vmsk.Q();K.add.vogk=g.F(e.add.vogk);
if(e.Vn==-1){var $=F[Y[0]]=d7.bl("Path "+w.length);$.name=e.name;$.Vn=e.Vn}}F.push(K);Y=[F.length-1];
b="New";if(J.N_!=null){if(x.dZ){alert("Symmetry can't be used in the Pattern Preview");return}var N=J.N_[0],k=J.N_[1];
K.name=ea.get(g.bO.list[N][0]);var V=g.bO.c9(N,k),X=Math.min(x.r,x.$),Q=(x.r-X)/2,L=(x.$-X)/2;g.b.u(V.T,new bC(X,0,0,X,Q,L),V.T);
K.add.vmsk.X=g.b.ZX(V);K.N_=[g.bO.list[N][1],k];G=Y[0];b="New Symmetry"}}else if(c=="del"){if(x.TW&&x.TW.length!=0){var r=new dd(j.E.aT,!0);
r.data=H.qk.sn(3);v.a(r)}if(Y.length==0)return;Y.sort(function(d,bV){return d-bV});if(Y[0]==0){F[0]=d7.bl(w[0].name);
Y=Y.slice(1)}var _=0;while(Y.length!=0){F.splice(Y[0]-_,1);Y=Y.slice(1);_++}b="Delete"}else if(c=="fromsel"){var S=F[0]=d7.bl("Work Path");
Y=[0];if(x.g==null)return;var a=x.g.N.slice(0);for(var h=0;h<a.length;h++)a[h]=a[h]>128?2:1;var T=x.g.S.Q();
T.rz(1,1);var f=g.C(T.o());g.Cc(a,x.g.S,f,T);var Z=dy.np(f,T.r,T.$,Math.round(T.o()*2e-5)),M=dy.Ng(Z),W=new bC(1,0,0,1,-1+x.g.S.x,-1+x.g.S.y);
for(var h=0;h<M.length;h++)g.b.u(M[h].path.T,W,M[h].path.T);for(var h=0;h<M.length;h++){var D=M[h];if(D.color==1&&D.parent==-1)continue;
var C=g.b.ZX(M[h].path,!1);C[2].da=0;S.add.vmsk.X=S.add.vmsk.X.concat(C.slice(2))}S.add.vogk=m.Tr(S.add.vmsk.X);
b="Selection to"}var d=new js(b+" Path",this);d.data={Qk:w,ja:U,aIM:F,S9:Y,a5N:A,a0y:G};if(c=="fromsel"){d.data.ee=x.g;
d.data.gb=null}x.q$(d);this.MW(d.data,x);if(c=="new"&&J.N_||c=="sspath"&&J.K!=-1){var r=new dd(j.E.j,!0);
r.data={R:j.m.lE,J:H.tS};v.a(r)}}else{var p=J.hX,l=x.Ng(J.R=="append"||J.R=="fromAction"),M=l[0],P=l[1],S=M[P[0]],y=S.add.vmsk,i=S.add.vogk,t=y.Q(),O=y.Q(),q=JSON.stringify(i);
if(J.R=="fromAction"){var z=J.h7,jw=z.QI,u=z._g,iH=u.T;if(jw=="set"){if(iH){i=[g.Fw.yL(iH,x.r,x.$)];
O.X.push({e:0,da:1,length:0});g.Fw.pY(i,O);p=[12,76,0]}else throw u}else if(jw=="draw"){i=[g.Fw.yL(u.Shp,x.r,x.$)];
O.X.push({e:0,da:1,length:0});g.Fw.pY(i,O);H.qk.aHP(O.X,u.AntA.v,R.P4,v);return}else throw jw}else if(J.R=="remove"){if(J.bD&&O.Ax.length!=0){O.X=g.I.arT(O.X,O.Ax,i,J.aAA);
var s=g.I.Eo(O.X);for(var h=0;h<O.Y.length;h++)if(O.Y[h]>=s){O.Y.splice(h,1);h--}O.Ax=[];p="Delete Anchors"}else{if(O.Y.length==0)return;
var _=0;for(var h=0;h<O.Y.length;h++){i.splice(O.Y[h]+_,1);_--}O.X=g.I.a9F(O.X,O.Y);O.Y=[];O.Ax=[];if(p==null)p="Delete Paths"}}if(J.R=="append"){H.qk.un(J.awq,O,i)}this.O7(x,S.Vn,O,i);
this.Fo(x,p,S.Vn,t,O.Q(),null,q,JSON.stringify(i))}};H.qk.aHP=function(J,v,x,o){var R=new m.e_;R.X=R.X.concat(J.slice(2));
var r=R.q9();if(!v)g.round(r.N);var l=g.C(r.S.o()*4);g.SX(l,(x&255)<<16|(x>>8&255)<<8|(x>>16&255)<<0);
g.Os(r.N,l,3);var M=new dd(j.E.G,!0);M.J=H.kN;M.data={R:"draw",YE:{buffer:l,S:r.S.Q()},hX:this.name};
o.a(M)};H.qk.en=function(J,v){var x=g.I.aHj(J.X,J.Y),o=[];for(var h=0;h<J.Y.length;h++)o.push(g.F(v[J.Y[h]]));
return[x,o]};H.qk.un=function(J,v,x){var o=g.I.Eo(v.X),R=g.I.Eo(J[0]);v.X=v.X.concat(J[0].slice(2));
v.Y=[];for(var h=0;h<R;h++)v.Y.push(o+h);for(var h=0;h<R;h++)x.push(g.F(J[1][h]))};H.qk.prototype.V9=function(J,v){if(v==null)return!1;
var x=v.Ng(),o=x[0],R=x[1];if(R.length==0)return!1;var r=o[R[0]],l=r.add.vmsk;if(l&&l.Y.length+l.Ax.length!=0)return[gw.Fp,gw.hP].indexOf(J)!=-1};
H.qk.prototype.lb=function(J,v,x,o){if(J==null)return;var R=J.Ng(),r=R[0],l=R[1];if(l.length==0)return;
var M=r[l[0]],P=M.add.vmsk;if(o.M(gw.T1)||o.M(gw.O9)||this.id==H.hB&&o.M(gw.qH)&&P.Ax.length==1){P.Ax=[];
J.ms=!0}if(P.Y.length!=0){var S=o.m0(J?J.U.U1:0);if(S.x!=0||S.y!=0){var c=P.Q(),b=P.Q(),w=new bC(1,0,0,1,S.x,S.y),U=M.add.vogk,F=JSON.stringify(U);
if(o.M(gw.i4)){var Y=H.qk.en(b,U);H.qk.un(Y,b,U)}g.I.Xi(b.X,w,b.Y);g.Fw.u(U,g.O.Mf(w),b.Y);this.O7(J,M.Vn,b,U);
this.Fo(J,"Move Paths",M.Vn,c,b.Q(),!0,F,JSON.stringify(U))}if(o.M(gw.Fp)||o.M(gw.hP))this.vE({R:"remove",bD:this.id==H.hB},v,J,o,x)}};
H.qk.prototype.Fo=function(J,v,x,o,R,r,l,M){var P=new js(v,this);P.data={rk:x,FU:o,UL:R,aeN:r,aGh:l,nb:M};
J.q$(P)};H.qk.prototype.MW=function(J,v){if(J.rk!=null)this.O7(v,J.rk,J.UL.Q(),JSON.parse(J.nb));else{v.h1=J.aIM.slice(0);
v.GP=J.S9.slice(0);v.ms=v.wj=!0}if(J.ee||J.gb){v.g=J.gb;v.rf=!0}if(J.a0y!=null)v.KG=J.a0y};H.qk.prototype.mJ=function(J,v){if(J.rk!=null)this.O7(v,J.rk,J.FU.Q(),JSON.parse(J.aGh));
else{v.h1=J.Qk.slice(0);v.GP=J.ja.slice(0);v.ms=v.wj=!0}if(J.ee||J.gb){v.g=J.ee;v.rf=!0}if(J.a5N!=null)v.KG=J.a5N};
H.qk.prototype.O7=function(J,v,x,o){var R=v<0?J.h1[-1-v]:v<1e6?J.k[v]:J.k[v-1e6].add.TySh,r=R.add.vmsk;
r.N=null;r.px=!0;if(r.pW){r.pW.N=null;r.pW.px=!0}R.add.vmsk=x;R.add.vogk=o;if(1e6<=v){bI.bi(R);var l=J.k[v-1e6],M=R,P=this.f;
h4.kI(l,P.rr);J.Ai()}else if(0<=v){x.px=!0;R.B0(J);J.Ai()}J.ms=J.wj=!0};H.YP=function(J,v,x,o){H.qk.call(this,J,v,x);
this.Qu={shape:b0.ow(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{t:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.av6=o;this.XC=null;this.ou=null;this.Nc=null;this.bf=new cg};H.YP.prototype=new H.qk;H.YP.prototype.YZ=function(J){return J.x4&&this.id!=H.t8};
H.YP.prototype.enable=function(J,v,x,o,R){this.f=x;var r=new dd(j.E.j,!0);r.data={R:j.m.HX,O5:H.fM()};
v.a(r)};H.YP.prototype.lb=function(J,v,x,o){H.qk.prototype.lb.call(this,J,v,x,o);this.bf.lb(o);this.ng(v,x)};
H.YP.prototype.ng=function(J,v){var x=new dd(j.E.j,!0);x.data={R:j.m.hf,J:this.id,gv:this.Xb(v)};J.a(x)};
H.YP.prototype.Xb=function(J){var v=this.bf.Na(0),x=this.bf.rA(0),o=H.IE.Cd(this.Qu.binop,v,x),R=this.id==H.t8?J.gz:J.d9;
if(R==1&&o==0)o=1;return o};H.YP.prototype.Ci=function(J,v,x,o){};H.YP.prototype._N=function(J,v,x,o,R){var r=this.id==H.t8?x.gz:x.d9;
if(r!=2)this.amD(v,x);if(r==2&&!J.hH())return;var l=J.U.hW(R.x,R.y);l=H.Io.a4(J,l,x);this.Nc=[l.x,l.y];
this.XC=l;this.ou=new aG(0,0);this.bf._N(o)};H.YP.prototype.awS=function(J,v,x,o){var R=[this.XC.Q(),v.Q()];
x=this.bf.Na(1)||x.M(gw.Yv)||this.bf.rA(1)?x:null;if(this.av6)R=H.YP.ID(R[0],R[1],x,!0,this.Qu.cstr);
if(J)J.U.bh=new jj(R[0].x,R[0].y,R[1].x-R[0].x,R[1].y-R[0].y);return this.Ci(R[0],R[1],this.bf.Na(1)&&x.M(gw.Yv),this.Nc,J.U,o)};
H.YP.prototype.a7_=function(J,v,x){var o=J.U.hW(v.x,v.y);if(this.id==H.t8)return o;var R=this.Qu.cstr;
if(R.t==2){var r=new jj(o.x-R.x,o.y-R.y,R.x,R.y),l=H.Io.XE(J,r,x);o.x+=l[0];o.y+=l[1];H.Io.SE(J,r,l)}else o=H.Io.a4(J,o,x);
return o};H.YP.prototype.kq=function(J,v,x,o,R){if(this.XC==null)return;var r=this.Nc,l=r.length,M=R?this.a7_(J,R,x):new aG(r[l-2],r[l-1]);
if(o.M(gw.OW))this.XC=M.aA(this.ou);else this.ou=M.aA(this.XC);r.push(M.x,M.y);if(this.Qu.shape==null)this.Qu.shape=x.tx[0];
var P=this.awS(J,M,o,!0)[0],S=g.b.Am(P);J.dB.xt=S;if(this.id!=H.t8&&this.id!=H.Ag&&this.id!=H.AQ)H.AA.Wi(R,J.U.bh,J,x);
J.ms=!0;this.bf.kq()};H.YP.prototype.aga=function(J,v,x,o){var R=J[4].Q();if(o){R.x-=v/2;R.y-=x/2}if(this.id==H.Ag){v/=2;
x/=2;R.x+=v;R.y+=x;x=-x;v=0}var r=this.Ci(R,new aG(R.x+v,R.y+x),!1,this.Nc);this.abH(J[0],J[1],J[2],r)};
H.YP.prototype.abH=function(J,v,x,o){var R=this.id==H.t8?x.gz:x.d9,r=new dd(j.E.aT,!0);if(R==0)r.data=H.YP.at5(o[1],x);
else if(R==1){var l={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:o[1]};
r.data={QI:"set",_g:l}}else{var l={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:o[1]};r.data={QI:"draw",_g:l}}v.a(r);
if(o[1].v.classID=="customShape"&&o[1].v.Nm.v.startsWith("--")){var M=J.Ng(),P=M[0],S=M[1],c=P[S.pop()],b=c.add.vmsk,w=c.add.vogk;
g.Fw.ayr(w);var U=b.Q();U.X=o[0];this.O7(J,c.Vn,U,w)}};H.YP.prototype.ER=function(J,v,x,o,R,r){if(this.XC==null)return;
var l=this.a7_(J,R,x),M=this.Xb(x),P=this.id==H.t8?x.gz:x.d9,S=this.Nc,c=S.length;if(this.id==H.t8&&c<=4){}else if(c<=4){l.x=Math.round(l.x);
l.y=Math.round(l.y);var b=new dd(j.E.j);b.data={R:j.m.wz,kA:"createshape",ayd:this.aga.bind(this),ax9:this.name,a2y:[J,v,x,o,l]};
if(!r)v.a(b)}else if(c!=2){var w=this.awS(J,l,o),U=w[0],F=J.Ng(!0),Y=F[0],A=F[1],G=A.length-1;if(P==1&&U.length>2||P==0&&M!=0&&G!=-1&&Y[A[G]].Vn>=0){U[2].da=[1,2,3,0][M-1];
var n=Y[A.pop()],E=n.add.vmsk,K=n.add.vogk,e=E.Q(),$=E.Q(),N=JSON.stringify(K);$.X=$.X.concat(U.slice(2));
$.Y=[g.I.Eo($.X)-1];var k=g.Fw.yL(w[1]);K.push(k?k:g.Fw.e$());this.O7(J,n.Vn,$,K);this.Fo(J,this.name,n.Vn,e,$,null,N,JSON.stringify(K))}else if(P==0){this.abH(J,v,x,w)}else if(P==2){H.qk.aHP(U,this.Qu.anta,x.P4,v)}}this.XC=null;
J.dB.xt=null;J.dB.Af=null;J.dB.kl=[];J.U.bh=null;J.ms=!0;this.bf.ER();this.ng(v,x)};H.YP.prototype.zN=function(J,v,x,o,R){for(var x in J)this.Qu[x]=J[x]};
H.YP.ID=function(J,v,x,o,R){var r=J.x,l=J.y,M=v.x,P=v.y;if(R&&R.t==2){if(o){M=Math.round(M);P=Math.round(P)}r=M-R.x;
l=P-R.y}else{var S=0;if(R&&R.t==1)S=R.y/R.x;else if(x&&x.M(gw.Yv))S=1;if(S!=0){if(o){if(r<M)r=Math.floor(r);
else r=Math.ceil(r);if(l<P)l=Math.floor(l);else l=Math.ceil(l)}var c=Math.abs(M-r),b=Math.abs(P-l),w=c;
if(b/c<S)w*=b/c/S;M=M>r?r+w:r-w;P=P>l?l+w*S:l-w*S}if(x&&x.M(gw.i4)){r-=M-r;l-=P-l}}var J=new aG(r,l),v=new aG(M,P);
if(o)H.YP.ahS(J,v);return[J,v]};H.YP.ahS=function(J,v){if(J.x>v.x){var x=J.x;J.x=v.x;v.x=x}if(J.y>v.y){var x=J.y;
J.y=v.y;v.y=x}J.x=Math.floor(J.x);J.y=Math.floor(J.y);v.x=Math.ceil(v.x);v.y=Math.ceil(v.y)};H.YP.agQ=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
H.YP.Z9=function(J,v){var x=H.YP.agQ(),o=x.Usng.v.Type;if(v==null){o.v=g.F(gD.iS[J]);o.v.classID=["solidColorLayer","gradientLayer","patternLayer"][J]}else H.j9.Lt(v,o.v,J);
return{QI:"make",_g:x}};H.YP.at5=function(J,v){var x=v.yo,o=g.F(v.IZ);o.fillEnabled.v=x.It!=0;var R=H.YP.Z9(Math.max(0,x.It-1),x.BD);
R._g.Usng.v.Shp=J;R._g.Usng.v.strokeStyle={t:"Objc",v:o};return R};H.jY=function(J){H.qk.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][J],[H.hB,H.avP,H.acP,H.aoL,H.ade][J],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][J]);
this.I4=J;this.G5=null;this.$o=null;this.uT=null;this.kU=null;this.sF=0;this.cE=null;this.lX=!1;this.AV=!1;
this.kZ=!1;this.DO=!1;this.Ln=!1;this.Ls=!1;this.l7=0};H.jY.prototype=new H.qk;H.jY.prototype.YZ=function(J){return this.uT!=null};
H.jY.prototype.lb=function(J,v,x,o){if(!o.M(gw.i4))this.Ln=!1;if(this.I4==1&&(o.M(gw.Fp)||o.M(gw.hP))&&this.V9(gw.Fp,J)){this.vE({R:"remove",bD:!0},v,J,o,x);
return}if(this.$o)this.B4(J,v,x,o,this.$o);H.qk.prototype.lb.call(this,J,v,x,o)};H.jY.prototype.QQ=function(J,v,x,o,R){var r=J.U.hW(o.x,o.y,!0),l=H.Io.a4(J,r,v),M=this.I4,P=v.gz,S=this.sF;
if(P==2)P=0;var c=J.Ng(R&&P==1),b=c[0],w=c[1],U=w.length==0?null:b[w.pop()],F=U?U.add.vmsk:null;if(P==0&&S!=0&&U&&U.Vn>=0)P=1;
var Y=H.rY(J,o);if(M<2&&P==0&&(F==null||F.Ax.length==0&&g.I.M$(F.X,r,!0,Y).Vn==-1))return["new",!0];
if(F==null)return[null];var A=F.X,G=g.I.mU(A,new jj(r.x-Y,r.y-Y,Y*2,Y*2),F.Ax,!0),n=g.I.M$(A,r,!0,Y);
if(M<3&&n.Vn!=-1&&G[0].length==0)return["add"];if((G[3]!=0||n.Vn!=-1)&&(x.M(gw.i4)||M==4))return["cnv"];
var E=G[0].length==1&&A[G[0][0]-1]&&(A[G[0][0]-1].Z!=null||A[G[0][0]-1].e==0||A[G[0][0]-1].length==1);
if(E)return[M==0||M==3?"del":M==2?"mva":"mov"];if(M<2){var K=g.I.I5(A,g.I.dA(A,F.Ax[0]));if(K!=-1&&aG.Aj(r,A[K+1].Z)<Y)return["fin"];
if(F.Ax.length!=1)return["new"];return["nrm"]}return[null]};H.jY.prototype._N=function(J,v,x,o,R){var r=J.GP.indexOf(0)!=-1,l=J.U.hW(R.x,R.y,!0),M=H.Io.a4(J,l,x),P=this.I4,S=x.gz,c=this.sF;
if(S==2)S=0;var b=J.Ng(S==1),w=b[0],U=b[1],F=w[U.pop()],Y=F?F.add.vmsk:null;if(S==0&&c!=0&&F&&F.Vn>=0)S=1;
var A=H.rY(J,R),G=this.QQ(J,x,o,R,!0);if(G[0]==null)return;if(G[1]){var n=new dd(j.E.aT,!0),E=g.Fw.XW("customShape",[0,0,1,1],null,null,null,"--");
n.data=H.YP.at5(E,x);v.a(n);this.Ls=!0;b=J.Ng(!0);w=b[0];U=b[1];F=w[U.pop()];Y=F.add.vmsk;Y.X=Y.X.slice(0,2)}var K=F.add.vogk,e=Y.X;
this.uT=Y.Q();this.kU=JSON.stringify(K);if(F.name=="Work Path"&&!r){e=Y.X=e.slice(0,2);K=[]}this.G5=R;
this.amD(v,x);var $=g.I.mU(e,new jj(l.x-A,l.y-A,A*2,A*2),Y.Ax,!0),N=g.I.M$(e,l,!0,A);if(G[0]=="add"){var k=g.I.I5(e,N.Vn),V=e[k].length;
while(V<=N.BI){N.BI-=V;k+=V+1}var X={e:4,nQ:M.Q(),Z:M.Q(),_v:M.Q()},Q=k+2+N.BI,L=k+1+(1+N.BI)%V,_=e[Q-1],a=e[L];
if(!_.Z.Ym(_._v)||!a.nQ.Ym(a.Z)){var T=g.b.a9O(_.Z,_._v,a.nQ,a.Z,N.vT);_._v=T[0];X.nQ=T[1];X.Z=T[2];
X._v=T[3];a.nQ=T[4]}this.DO=!0;e.splice(Q,0,X);e[k].length++;Y.Ax=[Q];if(P==1){X.nQ.x+=2;this.cN(Y)}}else if(G[0]=="cnv"){var f=-1;
if($[0].length!=0){f=$[0][0];var Z=e[f],W=Z.e>=3?3:0,D=f==e.length-1;Z.e=W+1;if(!(P==4&&o.M(gw.i4))&&!(P==0&&D))Z.nQ=Z.Z.Q();
Z._v=Z.Z.Q();this.DO=!0;if(P==0&&!D)this.Ln=!0}else if($[1].length+$[2].length!=0){var f=$[2][0];if(f==null){f=$[1][0];
this.AV=!0}var Z=e[f],W=Z.e>=3?3:0;Z.e=W+2}else f=g.I.I5(e,N.Vn)+N.BI+1;if(f!=-1)Y.Ax=[f]}else if(G[0]=="mva"){this.kZ=!0;
Y.Ax=[$[0][0]]}else if(G[0]=="mov"){var f=$[0][0],C=e[f],d=C.Z,p=Math.abs(g.b.X8(C.nQ.x,C.nQ.y,d.x,d.y,C._v.x,C._v.y));
if(p>.01){C.nQ=d.Q();C._v=d.Q()}if(Date.now()-this.l7<300){var y=C.nQ.Ym(d)&&C._v.Ym(d);if(y)C._v.offset(2,2);
else{C.nQ=d.Q();C._v=d.Q()}this.l7=0}else this.l7=Date.now();Y.Ax=[f];this.cN(Y)}else if(G[0]=="del"){var f=$[0][0],k=g.I.I5(e,g.I.dA(e,f)),E=e[k],i=k+E.length;
if(f!=i||E.e==0){e[k].length--;e.splice(f,1);i--;if(E.length==0){e.splice(k,1);i=-1}}if(i!=-1)Y.Ax=[i];
else Y.Ax=[]}else if(G[0]=="fin"){var k=g.I.I5(e,g.I.dA(e,Y.Ax[0]));e[k].e=0;Y.Ax=[k+1];this.cE=M;this.lX=!0;
this.DO=!0}else{var t=0;if(G[0]=="new"){Y.Y=[g.I.Eo(e)];e.push({e:3,length:1,da:[1,2,3,0][Math.max(0,c-1)],ii:0,RO:0,M4:0});
t=e.length;K.push(g.Fw.e$())}if(G[0]=="nrm"){var k=g.I.I5(e,g.I.dA(e,Y.Ax[0])),C=k+e[k].length;e[k].length++;
t=C+1;if(C==k+1&&e[k].length!=2)t=k+1}if(o.M(gw.Yv)&&e[t-1]&&e[t-1].Z)M=H.La.ga(e[t-1].Z,M);var X={e:4,nQ:M.Q(),Z:M.Q(),_v:M.Q()};
e.splice(t,0,X);Y.Ax=[t];this.cE=M;if(this.I4==1){X.nQ.x+=2;this.cN(Y)}this.DO=!0;this.l7=Date.now()}this.O7(J,F.Vn,Y,K);
J.ms=!0};H.jY.prototype.cN=function(J){var v=J.X,x=J.Ax[0],o=g.I.I5(v,g.I.dA(v,x))+1,R=v[o-1].length;
if(R<3)return;var r=[],l=[];for(var h=0;h<5;h++){var M=o+(x-o-2+h+5*R)%R;l.push(M);var P=v[M].Z;r.push(P.x,P.y)}var S=g.b.aae(r);
for(var h=1;h<4;h++){var c=h*4,b=v[l[h]],P=b.Z,w=b.nQ.Ym(P)&&b._v.Ym(P);if(!w){b.nQ._h(S[c],S[c+1]);
b._v._h(S[c+2],S[c+3])}else{b.nQ=P.Q();b._v=P.Q()}}};H.jY.prototype.B4=function(J,v,x,o,R){var r=this.QQ(J,x,o,R)[0],l=null;
if(r==null)l="default";else l=H.jY.l6(r);var M=new dd(j.E.j,!0);M.data={R:j.m.HX,O5:l};v.a(M)};H.jY.prototype.kq=function(J,v,x,o,R){this.$o=R;
if(this.uT==null){this.B4(J,v,x,o,R);return}var r=this.G5;if(r&&aG.Aj(r,R)<H.rY({U:{NT:1}},R))return;
this.G5=null;var l=J.U.hW(R.x,R.y),M=H.Io.a4(J,l,x),P=J.Ng(x.gz==1),S=P[0],c=P[1],b=S[c.pop()],w=b.add.vmsk,U=w.X,F=U[w.Ax[0]];
if(this.I4==1){var Y=F.Z.Ym(F.nQ)&&F.Z.Ym(F._v);F.Z=l.Q();F.nQ=l.Q();F._v=l.Q();if(!Y)F.nQ.x+=2;this.cN(w)}else if(o.M(gw.OW)){if(o.M(gw.Yv))M=H.La.ga(this.cE,M);
var A=F.Z.aA(F._v),G=F.nQ.aA(F.Z);F._v=M;F.Z=M.add(A);F.nQ=F.Z.add(G)}else if(this.kZ){var n=F.nQ.aA(F.Z),E=F._v.aA(F.Z);
F.Z=M;F.nQ=F.Z.add(n);F._v=F.Z.add(E)}else{if(o.M(gw.Yv))M=H.La.ga(F.Z,M);if(this.AV){var K=F.nQ;F.nQ=F._v;
F._v=K}if(this.lX){var e=aG.Aj(F.Z,M),$=e==0?0:aG.Aj(F.Z,F._v)/e;F._v.x=F.Z.x+$*(M.x-F.Z.x);F._v.y=F.Z.y+$*(M.y-F.Z.y)}else F._v=M;
var N=F.e>=3?3:0;if(this.DO&&!this.Ln)F.e=N+o.M(gw.i4)?2:1;if(F.e-N==1){F.nQ=F.Z.add(F.Z.aA(M))}this.cE=M;
if(this.AV){var K=F.nQ;F.nQ=F._v;F._v=K}}this.O7(J,b.Vn,w,b.add.vogk);J.ms=!0};H.jY.prototype.ER=function(J,v,x,o,R){if(this.uT==null)return;
var r=J.Ng(x.gz==1),l=r[0],M=r[1],P=l[M.pop()],S=P.add.vmsk,c=P.add.vogk;if(this.lX){S.Ax=[];this.O7(J,P.Vn,S,P.add.vogk)}var b=this.uT.X.length,w=S.X.length;
if(!this.Ls)this.Fo(J,this.lX?"Close Path":(b==w?"Move":b<w?"Add":"Delete")+" Anchor Point",P.Vn,this.uT,S.Q(),null,this.kU,JSON.stringify(c));
this.Ls=!1;this.lX=!1;this.AV=!1;this.kZ=!1;this.DO=!1;this.uT=null};H.jY.prototype.zN=function(J,v,x,o,R){this.sF=J.binop};
H.jY.aol={};H.jY.l6=function(J){var v=H.jY.aol[J],x=64,M=2,P=10,S=25,c=5,b=35;if(v)return v;var o=new jj(0,0,x,x),R=-.38,r=g.n2(x,x);
r.clearRect(0,0,x,x);var l=H.rR();r.save();r.lineWidth=M;r.translate(4-M/2,4-M/2);r.rotate(R);if(l<1.5){var w=.66;
P*=w;S*=w;c*=w;b*=w}r.lineJoin="miter";r.beginPath();if(J=="cnv"){r.moveTo(-P,S);r.lineTo(0,0);r.lineTo(P,S);
r.stroke()}else{r.moveTo(0,0);r.lineTo(P,S);r.lineTo(c,b);r.lineTo(-c,b);r.lineTo(-P,S);r.lineTo(0,0);
r.moveTo(0,0);r.lineTo(0,S);r.fillStyle="white";r.fill();r.stroke();r.fillStyle="black";r.fillRect(-c-1,b,2*c+2,6);
r.beginPath();r.arc(0,S-2,2.5,0,2*Math.PI,!1);r.fill();r.rotate(-R);r.translate(24,7);r.beginPath();
if(J=="add"||J=="del"||J=="new"){r.moveTo(-5,0);r.lineTo(5,0);if(J=="add"){r.moveTo(0,-5);r.lineTo(0,5)}if(J=="new"){r.moveTo(-2.5,-4.5);
r.lineTo(2.5,4.5);r.moveTo(2.5,-4.5);r.lineTo(-2.5,4.5)}}else if(J=="fin")r.arc(0,0,5,0,2*Math.PI,!1);
else if(J=="mov"||J=="mva"){for(var h=0;h<4;h++){r.moveTo(0,0);r.lineTo(-7,0);var U=1+M;r.moveTo(-7+U,-U);
r.lineTo(-7,0);r.lineTo(-7+U,U);r.rotate(Math.PI/2)}}r.stroke()}r.restore();var F=new Uint8Array(r.getImageData(0,0,x,x).data.buffer),Y=g.C(x*x);
g.Vi(F,Y,3);var A=g.C(x*x),G=[3,5,3,4,8,4,3,5,3];G=g.yJ.Z8(G);g.yJ.yr(Y,A,x,x,G);for(var h=0;h<A.length;
h++)A[h]=Math.min(255,A[h]*2);g.yJ.yr(A,Y,x,x,G);for(var h=0;h<Y.length;h++)Y[h]=Math.min(255,Y[h]*2);
var n=F.slice(0);F.fill(255);g.Os(Y,F,3);g.v.Ry("norm",n,o,F,o,o,1);H.jY.aol[J]=v={fK:F,Yf:o,k$:new aG(4,4)};
return v};H.G2=function(){H.YP.call(this,[10,30],H.t8,"tools/fpen",!1)};H.G2.prototype=new H.YP;H.G2.prototype.Ci=function(J,v,x,o,R,r){var l=o.length-1,M=Math.sqrt((o[l-1]-o[0])*(o[l-1]-o[0])+(o[l]-o[1])*(o[l]-o[1]))<6/R.NT;
return[g.I.Ap(o,M,r),g.Fw.XW("customShape",[0,0,1,1],null,null,null,"--")]};H.v$=function(){H.qk.call(this,[10,27],H.ih,"tools/pselect");
this.xS=null;this.TN=!1;this.bG=null;this.uT=null;this.uu=null;this.kU=null;this.uU=null;this.ZA=null;
this.aD=null;this.Li=null};H.v$.prototype=new H.qk;H.v$.prototype.YZ=function(J){return J.x4};H.v$.prototype._N=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=J.Ng(),M=l[0],P=l[1],S,c;
for(var h=0;h<P.length;h++){var b=M[P[h]],w=b.add.vmsk,U=g.I.M$(w.X,r).Vn;if(U!=-1){this.bG=S=b;c=U}for(var F=0;
F<w.J7.length;F++){var Y=g.I.apa(w.X,w.J7[F]);if(Y==null)continue;var A=aG.Aj(Y,r);if(A<4*H.rR()/J.U.NT){var G=J.k[b.Vn-1e6].add.TySh,n=G.vv.Curve,E=G.u,K=n.Reversed;
n.Reversed=!1;var n=fc.$w(G.vv.Curve);n.Reversed=K;g.b.u(n[0],E,n[0]);this.aD=[n,F,E.o5*E.fn-E.c*E.Mz];
this.bG=S=b;c=0}}if(this.aD)break}if(S!=null){var w=S.add.vmsk;w.Ax=[];var e=w.Y.indexOf(c);if(o.M(gw.Yv)){if(e==-1){w.Y.push(c);
this.TN=!0}else w.Y.splice(e,1)}else{if(e==-1)w.Y=[c];this.TN=!0}this.ZA=g.I.Or(w.X,w.Y)}this.xS=r;this.Li=new c0(r);
J.wj=!0;J.ms=!0};H.v$.prototype.kq=function(J,v,x,o,R){if(this.xS==null)return;var r=J.U.hW(R.x,R.y);
if(this.TN){r=this.Li.Ix(r,o);var l=this.bG;if(this.uT==null){this.uT=this.uu=l.add.vmsk.Q();this.kU=this.uU=JSON.stringify(l.add.vogk);
if(o.M(gw.i4)){var M=this.uT.Q(),P=JSON.parse(this.kU),S=H.qk.en(M,P);H.qk.un(S,M,P);this.uu=M;this.uU=JSON.stringify(P)}}var M=this.uu.Q(),P=JSON.parse(this.uU);
if(this.aD){var c=this.aD,b=c[0][0],w=g.b.CK(b,r.x,r.y);M.J7[c[1]]=c[0][1][w];var U=b[w*2],F=b[w*2+1],Y=(b[w*2+2]-U)*(r.y-F)-(b[w*2+3]-F)*(r.x-U);
if(c[2]<0)Y=-Y;M.Oj=Y>0}else{var A=this.ZA.Q(),G=A.x,n=A.y;A.offset(r.x-this.xS.x,r.y-this.xS.y);A.x=Math.round(A.x);
A.y=Math.round(A.y);var E=H.Io.XE(J,A,x),K=new bC(1,0,0,1,A.x-G+E[0],A.y-n+E[1]);g.I.Xi(M.X,K,M.Y);g.Fw.u(P,g.O.Mf(K),M.Y);
H.Io.SE(J,A,E)}this.O7(J,l.Vn,M,P)}else{var e=this.xS;J.dB.xt=g.b.ho(new jj(e.x,e.y,r.x-e.x,r.y-e.y));
J.ms=!0}};H.v$.prototype.ER=function(J,v,x,o,R){if(this.xS==null)return;var r=J.U.hW(R.x,R.y),l=this.bG,M=l?l.add.vmsk:null;
if(this.TN){var P=JSON.stringify(l.add.vogk);if(!this.xS.Ym(r))this.Fo(J,"Move Paths",l.Vn,this.uT,M,null,this.kU,P);
if(J!=null&&J.dB.Af){J.dB.Af=null;J.ms=!0}}else{var S=J.Ng(),c=S[0],b=S[1];if(b.length!=0){var w=c[b[0]];
M=w.add.vmsk;var U=this.xS,F=new jj(U.x,U.y,r.x-U.x,r.y-U.y),Y=g.I.aiV(M.X,F);if(o.M(gw.Yv)){for(var h=0;
h<Y.length;h++)if(M.Y.indexOf(Y[h])==-1)M.Y.push(Y[h])}else M.Y=Y}J.dB.xt=null;J.ms=!0}this.xS=null;
this.uT=null;this.aD=null;this.TN=!1;this.Li=null};H.v$.prototype.aCP=function(J){var v=this.bG,x=this.qE,o=v.add.vmsk,R=v.add.vogk,r=R.length;
if(J=="confirm"){if(o!=this.uT)this.Fo(x,[12,94,2],v.Vn,this.uT,o,null,this.kU,JSON.stringify(R));this.cC();
return}if(J=="cancel"){this.O7(this.qE,this.bG.Vn,this.uT.Q(),JSON.parse(this.kU));this.cC()}else{var o=this.uT.Q(),R=JSON.parse(this.kU);
o.X=g.I.amz(o.X,o.Y,J);this.O7(this.qE,this.bG.Vn,o,R)}};H.v$.prototype.cC=function(){this.bG=null;this.uT=null;
this.xS=null;this.Gk=this.EU=-1;this.Li=null};H.v$.prototype.W6=function(J,v,x,o){H.qk.prototype.W6.call(this,J,v,x,o);
if(x.Lz!=this.id)return;if(J.Y.length==0)return;var R=J.Ng(),r=R[0],l=R[1];if(l.length==0)return;var M=r[l[0]],P=M.add.vmsk,S=M.add.vstk,c=M.add.vogk,b=new dd(j.E.j,!0);
b.data={R:j.m.hf,J:this.id,nw:"main",nT:P?P:null,Fw:c};v.a(b)};H.v$.prototype.zN=function(J,v,x,o,R){var r=J.Yk;
if(r.nT){var l=x.Ng(),M=l[0],P=l[1];if(P.length==0)return;var S=M[P[0]],c=S.add.vmsk.Q(),b=JSON.stringify(S.add.vogk),w=r.nT;
this.O7(x,S.Vn,w,r.Fw);var U=[18,5];if(c.X.length==w.X.length)U=c.Y[0]==w.Y[0]?"Fill Rule":"Path Order";
this.Fo(x,U,S.Vn,c,w,null,b,JSON.stringify(r.Fw))}};H.YS=function(){H.qk.call(this,[10,28],H.Rv,"tools/dselect");
this.Gk=-1;this.EU=-1;this.Gv=null;this.xS=null;this.Jw=null;this.bG=null;this.uT=null;this.kU=null;
this.vq=0;this.pC={psnap:!1};this.Li=null};H.YS.prototype=new H.qk;H.YS.prototype.YZ=function(J){return J.x4};
H.YS.prototype.zN=function(J){this.pC=J};H.YS.prototype.vE=function(J,v,x,o,R){if(J.R=="crnr"){if(x==null)return;
var r=x.Ng(),l=r[0],M=r[1];if(M.length==0){alert("No paths selected");return}var P=l[M[0]],S=P.add.vmsk;
if(S.Ax.length==0){alert("No corners selected");return}for(var h=0;h<S.Ax.length;h++){var c=S.X[S.Ax[h]];
if(!c.Z.Ym(c._v)||!c.Z.Ym(c.nQ)){alert("Only sharp corners can be rounded");return}}if(this.uT==null){this.uT=P.add.vmsk.Q();
this.kU=JSON.stringify(P.add.vogk);this.bG=P;this.qE=x}var b=new dd(j.E.j,!0);b.data={R:j.m.wz,kA:"cornerradius",EB:5,MX:this.a80.bind(this)};
v.a(b)}else H.qk.prototype.vE.call(this,J,v,x,o,R)};H.YS.prototype.a80=function(J){if(J=="confirm"){var v=this.qE,x=this.bG,o=x.add.vmsk,R=x.add.vogk;
this.Fo(v,[12,94,0],x.Vn,this.uT,o,null,this.kU,JSON.stringify(R));this.cC();return}var o=this.uT.Q(),R=JSON.parse(this.kU),r=o.Ax;
if(J=="cancel"){}else{var l=[];for(var h=0;h<r.length;h++){var M=r[h],P=g.I.dA(o.X,M,!0),b=0;if(l.indexOf(P)!=-1)continue;
l.push(P);var S=g.I.I5(o.X,P,!0),c=o.X[S].length,w=[];for(var U=0;U<c;U++){var F=o.Ax.indexOf(S+U+1)==-1?0:J;
w.push(F);if(F!=0)b++}g.I.O3(o.X,S,w);for(var U=0;U<r.length;U++)if(r[U]>S+c)r[U]+=b}this.BA(o,R);o.Ax=[]}this.O7(this.qE,this.bG.Vn,o,R);
if(J=="cancel")this.cC()};H.YS.prototype.disable=function(J,v,x,o){this.wk(J)};H.YS.prototype._N=function(J,v,x,o,R){this.wk(J);
var r=J.U.hW(R.x,R.y),b,w,U;this.Gv=r.Q();var l=J.Ng(),M=l[0],P=l[1];if(P.length==0)return;var S=H.rY(J,R),c=new jj(r.x-S,r.y-S,S*2,S*2);
for(var F=0;F<P.length;F++){b=this.bG=M[P[F]];w=b.add.vmsk;U=g.I.mU(w.X,c);if(U[0].length+U[1].length+U[2].length!=0)break}var Y=[!1,!1,!1];
for(var h=0;h<3;h++){for(var A=0;A<U[h].length;A++){var G=U[h][A],n=w.X[G];if(w.Ax.indexOf(G)!=-1||h==1&&w.Ax.indexOf(G-1)!=-1&&!n.Z.Ym(n.nQ)||h==2&&w.Ax.indexOf(G+1)!=-1&&!n.Z.Ym(n._v)){U[h]=[G];
Y[h]=!0;break}}}if(U[0].length!=0&&(Y[0]||!Y[1]&&!Y[2])){var E=U[0][0],K=w.Ax.indexOf(E);if(o.M(gw.Yv)){if(K==-1)w.Ax.push(E);
else{w.Ax.splice(K,1);J.ms=!0;return}}else if(K==-1)w.Ax=[E];this.Gk=E;this.EU=0}else if(U[1].length!=0&&Y[1]){this.Gk=U[1][0];
this.EU=1}else if(U[2].length!=0&&Y[2]){this.Gk=U[2][0];this.EU=2}else{var e=g.I.M$(w.X,r,!0,S);if(e.Vn==-1)this.xS=r;
else{this.Jw=e;var $=g.I.I5(w.X,e.Vn);w.Y=[e.Vn];w.Ax=[$+1+e.BI]}}if(this.uT==null){this.uT=b.add.vmsk.Q();
this.kU=JSON.stringify(b.add.vogk)}this.Li=new c0(r);J.ms=!0};H.YS.prototype.kq=function(J,v,x,o,R){if(J==null)return;
var r=J.U.hW(R.x,R.y),l=this.bG;if(this.Gk!=-1){var M=this.uT.Q(),P=l.add.vogk,S=M.X[this.Gk];S=[S.Z,S.nQ,S._v][this.EU];
if(o.M(gw.Yv)){if(this.EU==0){r=this.Li.Ix(r,o);r.x+=S.x-this.Gv.x;r.y+=S.y-this.Gv.y}else r=H.La.ga(M.X[this.Gk].Z,r)}else{if(this.pC.psnap){r.x=Math.round(r.x);
r.y=Math.round(r.y)}r=H.Io.a4(J,r,x)}if(this.EU==0){var c=new bC(1,0,0,1,r.x-S.x,r.y-S.y);g.I.Xi(M.X,c,null,M.Ax)}else{var b=M.X[this.Gk];
if(o.M(gw.i4)&&(b.e==1||b.e==4))b.e++;H.YS.Sh(b,r,this.EU==1)}this.BA(M,P);this.O7(J,l.Vn,M,P)}else if(this.xS!=null){var w=this.xS;
J.dB.xt=g.b.ho(new jj(w.x,w.y,r.x-w.x,r.y-w.y));J.ms=!0}else if(this.Jw!=null){var M=this.uT.Q(),P=l.add.vogk,U=this.Jw,F=this.Gv,Y=g.I.I5(M.X,U.Vn),A=M.X[Y].length,G,n=U.vT;
if(n<=1/6)G=0;else if(n<=.5)G=Math.pow((6*n-1)/2,3)/2;else if(n<=5/6)G=(1-Math.pow((6*(1-n)-1)/2,3))/2+.5;
else G=1;var E=r.x-F.x,K=r.y-F.y,e=(1-G)/(3*n*(1-n)*(1-n)),$=G/(3*n*n*(1-n)),N=M.X[Y+1+U.BI];N._v.offset(e*E,e*K);
var k=M.X[Y+1+(U.BI+1)%A];k.nQ.offset($*E,$*K);H.YS.Sh(N,N._v,!1);H.YS.Sh(k,k.nQ,!0);this.BA(M,P);this.O7(J,l.Vn,M,P)}else{var V=J.Ng(),X=V[0],Q=V[1],l,M,a;
if(Q.length==0)return;var L=H.rY(J,R),_=new jj(r.x-L,r.y-L,L*2,L*2);for(var T=0;T<Q.length;T++){l=X[Q[T]];
M=l.add.vmsk;a=g.I.mU(M.X,_);if(a[0].length+a[1].length+a[2].length!=0)break}this.wk(J);for(var h=0;
h<3;h++){for(var f=0;f<a[h].length;f++){var Z=a[h][f],W=M.X[Z];W=h==0?W.Z:h==1?W.nQ:W._v;J.dB.hM.push(W.x,W.y);
J.ms=!0}}}};H.YS.prototype.wk=function(J){if(J&&J.dB.hM.length!=0){J.dB.hM=[];J.ms=!0}};H.YS.prototype.ER=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=this.bG,M=l?l.add.vmsk:null,P=l?l.add.vogk:null;
if(this.Gk!=-1||this.Jw){if(Date.now()-this.vq<300){var S=M.X[this.Gk],c=this.EU,b=null;if(c==0){var w=S.nQ.Ym(S.Z),U=S._v.Ym(S.Z);
if(!w&&!U){b="Anchor Type";if(S.e==1||S.e==4)S.e++;else{S.e--;S._v=S.Z.add(S.Z.aA(S.nQ))}}else{b="Add Handles";
if(w&&U){S.nQ.x-=30;S._v.x+=30}else if(w)S.nQ=S.Z.add(S.Z.aA(S._v));else if(U)S._v=S.Z.add(S.Z.aA(S.nQ))}}else{b="Remove Handle";
if(c==1)S.nQ.wf(S.Z);else S._v.wf(S.Z)}this.BA(M,P);this.O7(J,l.Vn,M,P);this.Fo(J,b,l.Vn,this.uT,M,null,this.kU,JSON.stringify(P))}else if(this.Jw||!this.Gv.Ym(r)){this.Fo(J,"Drag Anchors",l.Vn,this.uT,M,null,this.kU,JSON.stringify(P))}this.Jw=null;
this.vq=Date.now()}else if(this.xS!=null){var F=this.xS,Y=new jj(F.x,F.y,r.x-F.x,r.y-F.y);if(Y.r<0)Y.x+=Y.r;
if(Y.$<0)Y.y+=Y.$;Y.r=Math.abs(Y.r);Y.$=Math.abs(Y.$);var A=g.I.mU(M.X,Y);M.Ax=A[0].concat(o.M(gw.Yv)?M.Ax:[]);
J.dB.xt=null}this.cC();J.ms=!0};H.YS.prototype.cC=function(){this.bG=null;this.uT=null;this.xS=null;
this.Gk=this.EU=-1;this.Li=null};H.YS.prototype.BA=function(J,v){for(var h=0;h<J.Ax.length;h++){var x=g.I.dA(J.X,J.Ax[h]);
g.Fw.IG(v,x)}};H.YS.prototype.lb=function(J,v,x,o){if(J==null)return;var R=J.Ng(),r=R[0],l=R[1];if(l.length==0)return;
var M=r[l[0]],P=M.add.vmsk;if(P==null||P.Ax.length==0)return;var S=M.add.vogk,c=JSON.stringify(S),b=o.m0(J?J.U.U1:0);
if(b.x!=0||b.y!=0){var w=P.Q(),U=P.Q(),F=new bC(1,0,0,1,b.x,b.y);g.I.Xi(U.X,F,null,U.Ax);this.BA(U,S);
this.O7(J,M.Vn,U,S);this.Fo(J,"Move Anchors",J.Y[0],w,U.Q(),!0,c,JSON.stringify(S))}if(o.M(gw.Fp)||o.M(gw.hP))this.vE({R:"remove",bD:!0,aAA:!0},v,J,o,x)};
H.YS.prototype.Fo=function(J,v,x,o,R,r,l,M){var P=J.Wo();if(r&&P!=null&&P.J==this&&P.data.aeN&&P.data.rk==x&&JSON.stringify(P.data.FU.Ax)==JSON.stringify(o.Ax)){P.data.UL=R;
P.data.nb=M}else{var P=new js(v,this);P.data={rk:x,FU:o,UL:R,aeN:r,aGh:l,nb:M};J.q$(P)}};H.YS.Sh=function(J,v,x){var o=J.nQ,R=J._v;
if(!x){o=J._v;R=J.nQ}o._h(v.x,v.y);if(J.e==1||J.e==4){var r=aG.Aj(o,J.Z),l=aG.Aj(R,J.Z);if(l!=0){R.x=J.Z.x-(o.x-J.Z.x)*(l/r);
R.y=J.Z.y-(o.y-J.Z.y)*(l/r)}}};H.Rect=function(){H.YP.call(this,[10,32],H.Mj,"tools/rect",!0)};H.Rect.prototype=new H.YP;
H.Rect.prototype.Ci=function(J,v,x){var o=this.Qu.crad,R=v.x-J.x,r=v.y-J.y;return[g.I.yu.Rect(J.x,J.y,R,r,o),g.Fw.XW("Rctn",[J.x,J.y,v.x,v.y],[o,o,o,o])]};
H.Bd=function(){H.YP.call(this,[10,33],H.sb,"tools/ellipse",!0)};H.Bd.prototype=new H.YP;H.Bd.prototype.Ci=function(J,v,x){var o=v.x-J.x,R=v.y-J.y;
return[g.I.yu.Bd(J.x,J.y,o,R),g.Fw.XW("Elps",[J.x,J.y,v.x,v.y])]};H.mD=function(){H.YP.call(this,[10,34],H.Ag,"tools/pshape",!1);
this.Qu.aopts=[!1,!0,50,100,0]};H.mD.prototype=new H.YP;H.mD.prototype.Ci=function(J,v,x){var o=this.Qu.pshape,R=this.Qu.crad,r=this.Qu.irad/100,l=this.Qu.sides,M=this.Qu.width,P=this.Qu.aopts,S=this.Qu.length,A;
v=v.Q();var c=J.x,b=J.y,w=v.x,U=v.y,F=Math.sqrt((w-c)*(w-c)+(U-b)*(U-b)),Y=Math.atan2(-U+b,w-c);if(x)Y=Math.round(Y*180/Math.PI/15)*15*Math.PI/180;
if(o==0)A=g.I.yu.We(c,b,F,Y,l,R);if(o==1)A=g.I.yu.axU(c,b,F,Y,l,R,r);if(o==2)A=g.I.yu.Gb(J.x,J.y,v.x,v.y,M,P);
if(o==3)A=g.I.yu.aG_(c,b,F,Y,S);return[A,g.Fw.XW("customShape",[J.x,J.y,v.x,v.y],null,null,null,"--")]};
H.mD.prototype.lb=function(J,v,x,o){H.YP.prototype.lb.call(this,J,v,x,o);var R=o.m0(),r=this.Qu,l,M;
if(R.y!=0){var P=-R.y,S=r.pshape;if(S<2){l="sides";M=Math.max(3,Math.min(100,r.sides+P))}else if(S==2){l="width";
M=Math.max(1,Math.min(100,r.width+P))}else if(S==3){l="length";M=Math.max(4,Math.min(40,r.length+P))}}if(R.x!=0){l="pshape";
M=Math.max(0,Math.min(3,r.pshape+R.x))}if(l){var c=new dd(j.E.j,!0),b={};b[l]=M;r[l]=M;c.data={R:j.m.hf,J:this.id,Uq:"vals",a99:b};
v.a(c);this.kq(J,v,x,o)}};H.aY=function(){H.YP.call(this,[10,35],H.AQ,"tools/line",!1)};H.aY.prototype=new H.YP;
H.aY.prototype.Ci=function(J,v,x){var o=this.Qu.width,R=this.Qu.aopts;v=v.Q();if(x){v=H.La.ga(J,v)}if(du==1)o=0;
return[g.I.yu.Gb(J.x,J.y,v.x,v.y,o,R),g.Fw.XW("Ln",null,null,[J.x,J.y,v.x,v.y],o,null,R)]};H.uZ=function(){H.YP.call(this,[10,31],H.Ks,"tools/cshape",!0)};
H.uZ.prototype=new H.YP;H.uZ.prototype.Ci=function(J,v,x){var o=this.Qu.shape,R=o.ZW.r/o.ZW.$,r=m.e_.w2(o.X);
v=v.Q();if(x){v.y=J.y+(v.x-J.x)/R}var l=v.x-J.x,M=v.y-J.y;g.I.Xi(r,new bC(l,0,0,M,J.x,J.y));return[r,g.Fw.XW("customShape",[J.x,J.y,v.x,v.y],null,null,null,o.lG)]};
H.ge=function(J,v,x){H.AA.call(this,J,v,x);this.dl=0;this.k=null;this.Ug=null;this.f=null;this.Gj=1;
this.FT=0;this.Ay=!0;this.fT=!1;this.cursor=null;this.oY=null;this.ee=null;this.KA=!1;this.MV=null;this.aoW=0;
this._6=null;this.I4=0;this.P5=null;this.d7=null;this.FP=null;this.nt=null;this.aaz=null;this.L5=null};
H.ge.prototype=new H.AA;H.ge.l2=function(J,v,x){var o={classID:"null",null:kj.RS(x?"Lyr":"Dcmn",!0)};
if(J)o.Angl={t:"UntF",v:{type:"#Ang",val:v}};else o.Axis={t:"enum",v:{Ornt:v}};return{QI:J?"rotateEventEnum":"flip",_g:o}};
H.ge.prototype.Su=function(J,v,x,o,R){var r=new dd(j.E.j,!0);r.data={R:j.m.hf,J:this.id,L$:R,C_:J,f:x};
v.a(r);this.Lj=!1};H.ge.prototype.YZ=function(J){return this.d7&&this.d7.a7P()};H.ge.prototype.vE=function(J,v,x,o,R){this.f=R;
if(J.R=="again"&&this._6==null)return;if(J.R=="cmode"){if(x.depth==J.K)return;var r=H.ge.k1(x),l=H.ge.YW(x,r,!0),M=new js("Mode: "+x.depth+"-Bit to "+J.K+"-Bit",this);
M.data={e:0,k:r,Ug:l,QV:!0,depth:x.depth};x.q$(M);H.ge.ayG(x,r,J.K);return}if(J.R=="cprof"){var P=x.L_(),r,l;
P=P?P[0]:null;var S=d7.Sr[d7.fx.indexOf(J.K)];if(S)S=d2.he.get(S);if(J.ain){r=H.ge.k1(x);l=H.ge.YW(x,r,!0)}var M=new js((r?"Convert To":"Assing")+" Profile: "+(S?J.K:"sRGB"),this);
M.data={e:0,k:r,Ug:l,QV:!0,jp:[P]};x.q$(M);if(J.ain)H.ge.apH(x,r,S);x.G$(S);return}if(!this.$H(x,R))return;
if(this.d7){this.aAG(J,this.d7.mt(),v,x,o,R);this.Dv(x,R,0,!0);this.wY(x);return}this.alz(x,J.w==null,J.w);
this.adn(x);this.aAG(J,J.aCX,v,x,o,R);this.ob(x,v,J.hX,!1)};H.ge.prototype.aAG=function(J,v,x,o,R,r){if(v==null){var l=J.__!=null?J.__:4;
v=this.d7.a3$()[l]}var M=this.P5,P=v.x,S=v.y;if(J.R=="rot"&&J.K!=Math.PI&&(M.r+M.$&1)==1){P=Math.floor(P);
S=Math.floor(S)}var c=new bC;c.translate(-P,-S);if(J.R=="rot")c.rotate(J.K);if(J.R=="scl")c.scale(J.K.x,J.K.y);
if(J.R=="mat")c.concat(J.K);c.translate(P,S);if(J.R=="again")c=this._6;var b=g.O.Mf(c);if(J.R=="dtr"){var w=g.O;
b=w.K1(J.K,w.C(-P,-S));b=w.K1(w.C(P,S),b)}var U=this.d7.ew();g.O.u(b,U);this.d7.DL(U);if(J.Jq){var F=J.Jq.v;
this.zN({nw:"switchWarp"},x,o,R);this.zN({nw:"wrp",Jq:F},x,o,R)}};H.ge.prototype.b7=function(){return!0};
H.ge.prototype.$H=function(J,v,x){if(J==null)return!1;if(this.id==H.sj)return J.g!=null;var o=J.yw(!0,null,null,!0);
if(this.id==H.kX&&J.k[o[0]].S.L3()){alert("Layer is empty.");return!1}if(J.GP.length!=0)return!0;for(var h=0;
h<o.length;h++){var R=J.k[o[h]];if(R.UP(2)||R.UP(31)){alert(ea.get([6,57,0]));return!1}if(R.add.artb){alert("You can not transform the whole artboard");
return!1}if(R.add.TySh)if(!h4.iR(R.add.TySh,v.rr))return!1;if(R.add.SoLd){if(o.length==1&&(x&&x.tj==-1)&&(R.q9()&&R.q9().DE||R.add.vmsk&&R.add.vmsk.DE)){alert("Unlink masks before transforming Smart Object");
return!1}if(!J.aaF(R.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+J.mA(R.add.SoLd.Idnt.v).d8+")");
return!1}}}if(J.g==null)return!0;if(!J.hH())return!1;return J.a7I()};H.ge.prototype._N=function(J,v,x,o,R){var r=this.qZ(R,J),l=r[0],M=r[1],P=this.I4==0?this.d7:this.FP;
J.U.NT*=M;this.fT=P._N(J,x,o,l,null,null,R);if(!this.fT&&du==1){this.ob(J,v,null,!0);return}this.wY(J,l);
J.U.NT/=M;if(this.fT&&P.I6(l)){if(Date.now()-this.aoW<250)this.ob(J,v,null,!0);this.aoW=Date.now()}};
H.ge.prototype.B4=function(J){var v=new dd(j.E.j,!0);v.data={R:j.m.HX,O5:this.cursor};J.a(v)};H.ge.prototype.qZ=function(J,v){var x=1;
J=v.U.hW(J.x,J.y);if(this.I4==1){var o=g.O.e6(this.d7.ew(),this.P5);x=g.O.f4(o).Nf();var R=g.O.SV(o);
J=g.O.aoN(R,J)}return[J,x]};H.ge.prototype.kq=function(J,v,x,o,R){var r=this.qZ(R,J),l=r[0],M=r[1],P=this.I4==0?this.d7:this.FP;
if(!R.x4){var S="default";if(P){var c=P.Nh(l,J.U.NT*M,null,R);if(c)S=c}if(S!=this.cursor){this.cursor=S;
this.B4(v)}if(this.FP){this.wY(J,l)}}if(!this.fT)return;J.U.NT*=M;var b=this.gY=P.kq(J,x,o,l,this.Ay);
J.U.NT/=M;this.Dv(J,x,0,!0);this.wY(J,l);this.bs(v,null,J)};H.ge.prototype.ER=function(J,v,x,o,R){var r=this.qZ(R,J),l=r[0],M=r[1];
this.d7.ER(J,x,o,l);if(this.FP){var P=this.FP.ER(J,x,o,l);if(P){this.bs(v,!0,J);this.wY(J)}}if(this.gY){var S=this.Qf(),c=g.b.ho(this.P5).T;
g.O.u(S,c);this.d7.DL(c);this.gY=null}this.fT=!1};H.ge.prototype.lb=function(J,v,x,o){if(o.M(gw.O9))this.ob(J,v,null,!0);
else if(o.M(gw.T1))this.Ib(J,v);else{var R=this.d7.lb(J,x,o);if(R){this.Dv(J,x,0,!0);this.bs(v,null,J)}}};
H.ge.prototype.zN=function(J,v,x,o){if(J.nw=="commit")this.ob(x,v,null,!0);else if(J.nw=="cancel")this.Ib(x,v);
else if(J.nw=="switchWarp"){this.I4=1-this.I4;this.a0k();this.wY(x);this.bs(v,null,x)}else if(J.nw=="wrp"){this.FP.atU(J.Jq);
this.wY(x);this.Dv(x,this.f,0,!0)}else if(J.nw=="splt")this.FP.aAg(J.K);else if(J.nw=="ctyp"){this.d7.amg(J.g_);
this.wY(x);this.bs(v,null,x)}else if(J.nw=="cen"){this.d7.akJ(J.k$);this.wY(x);this.Dv(x,this.f,0,!0)}else if(J.nw=="trn"){var R=g.O.Mf(J.PY),r=this.P5,l=g.O.e6(this.d7.ew(),this.P5);
R[6]=l[6],R[7]=l[7];var M=[r.x,r.y,r.x+r.r,r.y,r.x+r.r,r.y+r.$,r.x,r.y+r.$];g.O.u(R,M);this.Gj=J.Gj;
if(J.FT!=this.FT){this.FT=J.FT;this.aC1(x)}this.Ay=J.Ay;this.d7.DL(M);this.wY(x);this.Dv(x,this.f,0,!0)}};
H.ge.prototype.wY=function(J,v){if(this.I4==0)this.d7.N9(J,this.f);else{this.FP.N9(J,v);var x=this.Qf();
g.O.u(x,J.dB._5.T);g.O.u(x,J.dB.$C);g.O.u(x,J.dB.Ti)}};H.ge.prototype.ob=function(J,v,x,o){this.Dv(J,this.f,this.Gj);
var R=new js(x?x:this.name,this),e="";if(this.dl==0)R.data={e:this.dl,k:this.k,Ug:this.Ug};else if(this.dl==1){var r=J.k[this.k[0]],l;
if(r.WI.kG<=0){l=g.C(r.WI.du.o());g.Vi(r.WI.U$,l,3)}else l=J.g.N;var M={S:r.WI.du.Q(),N:l};R.data={e:this.dl,w:this.k[0],ee:this.ee,gb:M,oY:this.oY,KA:this.KA,WI:r.WI,MV:this.MV,Mp:{Yf:r.WI.du,u8:r.WI.U$}}}else if(this.dl==2){R.data={e:this.dl,ee:this.ee,gb:{S:J.g.S.Q(),N:J.g.N.slice(0)}}}J.q$(R);
var P=this.P5,S=g.O.e6(this.d7.ew(),P),c=this.Ug,b=c?c[0]:null;if(c&&c.length==1&&b[4]){var w=H.ge.t1(b[4].nonAffineTransform),P=g.b.ni(g.wL.Um(b[4].quiltWarp.v)[3]),U=g.O.e6(w,P);
S=g.O.K1(S,g.O.SV(U))}var F=g.O.f4(S),Y=this.d7.mt(),A=new bC;A.translate(Y.x,Y.y);A.concat(F);A.translate(-Y.x,-Y.y);
F=A.Q();var G=-Math.atan2(-F.c,F.o5),n=new bC;n.rotate(G);F.concat(n);function E(X,Q){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][Q],val:X}}}var K=kj.RS("Lyr",!0);
if(this.id==H.sj)K.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var $=H.ge.azV;for(var N in $)if($[N]==this.d7.PF)e=N;
if(e==""){e="Qcsi";A.zP=A.jD=0}var k={classID:"null",null:K,FTcs:{t:"enum",v:{QCSt:e}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:E(A.zP,0),Vrtc:E(A.jD,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:E(Math.atan(F.Mz/F.fn)*180/Math.PI,2),Vrtc:E(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:E(100*0,1),Vrtc:E(100*0,1)}},Wdth:E(F.o5*100,1),Hght:E(F.fn*100,1),Angl:E(G*180/Math.PI,2)};
if(e=="Qcsi")k.Pstn={t:"Objc",v:{Hrzn:E(Y.x,0),Vrtc:E(Y.y,0)}};var V=this.FP?this.FP.Nl():null;if(V&&!g.wL.KV(V)){k.quiltWarp={t:"Objc",v:V}}this.mm=v;
this.track({QI:"transform",_g:k});this.escape(J,v,o)};H.ge.azV={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
H.ge.prototype.Ib=function(J,v){if(this.dl==0)H.ge.a17(J,this.k,this.Ug);else if(this.dl==1){var x=J.k[this.k[0]];
J.g=this.ee;if(!this.KA){x.WI.du=this.MV.Yf;x.WI.U$=this.MV.u8;x.QY(J,0,0,J.g)}else{x.M6(J,this.oY)}J.Ai();
J.rf=!0}else if(this.dl==2){J.g=this.ee;J.rf=!0}this.escape(J,v,!0)};H.ge.prototype.escape=function(J,v,x){this.d7.clear(J);
if(this.FP)this.FP.clear(J);this.d7=null;this.FP=null;this.L5=null;this.I4=0;if(x)this.wH(v,j.E.j,{R:j.m.LV})};
H.ge.prototype.MW=function(J,v){if(J.e==0)H.ge.Ml(v,J);else{if(J.e==1){var x=v.k[J.w];if(J.KA){x.WI=J.WI}else{x.WI.du=J.Mp.Yf;
x.WI.U$=J.Mp.u8}x.QY(v,0,0,v.g);v.Ai()}v.g={S:J.gb.S.Q(),N:J.gb.N.slice(0)};v.rf=!0}};H.ge.prototype.mJ=function(J,v){if(J.e==0)H.ge.Ml(v,J);
else{if(J.e==1){var x=v.k[J.w];if(J.KA){x.M6(v,J.oY)}else{x.WI.du=J.MV.Yf;x.WI.U$=J.MV.u8;x.QY(v,0,0,v.g)}v.Ai()}v.g=J.ee;
v.rf=!0}};H.ge.prototype.alz=function(J,v,x){J.Ng();var o=[];if(x==null)for(var h=0;h<J.GP.length;h++)if(J.h1[J.GP[h]].add.vmsk.X.length>2)o.push(-1-J.GP[h]);
var R=[],r=J.U.xY;if(r[0]+r[1]+r[2]==3)if(x!=null||o.length==0||J.TW!=null&&J.TW.length!=0){if(J.Y.length==1){var l=J.k[J.Y[0]];
if(l.tX()&&l.CE)R=[J.Y[0]]}if(R.length==0)R=J.yw(v,x,null,!0)}R=R.concat(o);for(var h=0;h<J.Dk.length;
h++)R.push(-1e3-J.Dk[h]);this.k=R};H.ge.prototype.enable=function(J,v,x,o,R,r){if(this.cursor==null)this.cursor="default";
this.B4(v);if(this.d7)return;this.f=x;this.alz(J,!0);this.adn(J,r&&r.tj!=null&&r.tj!=-1?r.tj:null);this.bs(v,null,J);
this.wY(J);if(r&&r.tj==-1)this.zN({nw:"switchWarp"},v,J,o)};H.ge.prototype.Bo=function(){return this.Ay?null:[0]};
H.ge.prototype.NL=function(J,v,x){if(J&&J[0]!=null)this.Ay=J[0]==1};H.ge.prototype.bs=function(J,v,x){var o={R:j.m.hf,J:this.id};
if(this.I4==0){var R=g.O.e6(this.d7.ew(),this.P5),r=g.O.f4(R);o.PY={gf:r,g_:this.d7.aCh(),k$:this.d7.mt(),Yf:this.P5.Q(),Ay:this.Ay}}else{o.a5Z=v;
o.Jq=this.FP.Nl()}if(x){o.ac=["---"];for(var h=0;h<x.ac.length;h++)o.ac.push(x.ac[h].name)}o.aij=this.FP!=null;
o.aIl=!1;if(x)for(var h=0;h<x.Y.length;h++){var l=x.k[x.Y[h]];if(!(l.add.SoLd||l.add.TySh||l.Id()||l.tX()))o.aIl=!0}this.wH(J,j.E.j,o)};
H.ge.prototype.adn=function(J,v){var x=this.id==H.sj,o=!0,R=this.k[0],r=J.k[R],M=null,P=null,S=null,w=null;
if(x){this.dl=2;this.ee=J.g}else if(J.g&&this.k.length==1&&R>=0&&!r.S.L3()){this.dl=1;this.ee=J.g;this.oY=r.WI;
this.KA=!1;if(!r.mE(J,J.g)){this.KA=!0;r.QC(J,J.g,!1)}this.MV={u8:r.WI.U$,Yf:r.WI.du}}else{this.dl=0;
this.Ug=H.ge.YW(J,this.k,null);for(var h=0;h<this.Ug.length;h++)if(this.Ug[h][3]!=null)o=!1}var l=this.dl==1;
if(this.Ug&&this.Ug.length==1){var c=this.Ug[0];if(c[2]!=null)P=c[2].nT;if(c[3]==null)l=!0;if(c[3]!=null)S=c[3];
if(c[4]!=null){M=J.k[this.k[0]].add.SoLd;if(c[1]||c[2])l=!1}}var b=x?J.g.S.Q():H.ge.ca(J,this.k);this.P5=b;
if(!x&&P&&du==1){w=P.hY();this.nt=g.O.e6(w,this.P5)}else if(!x&&S&&du==1){var U=J.k[this.k[0]],S=U.add.TySh;
w=g.b.ho(U.QF.m5).T;g.b.u(w,S.u,w);this.nt=g.O.e6(w,this.P5)}else if(!x&&M){w=H.ge.t1(M.nonAffineTransform);
this.P5=g.b.ni(g.wL.Um(M.quiltWarp.v)[3]);if(l)this.FP=new eB(M.quiltWarp.v);this.nt=g.O.e6(w,this.P5)}else{if(l||x)this.FP=new eB(g.wL.C(this.P5));
this.nt=[1,0,0,0,1,0,0,0];if(this.id==H.kX)v=3;w=[b.x,b.y,b.x+b.r,b.y,b.x+b.r,b.y+b.$,b.x,b.y+b.$]}this.d7=new jY(w,!0,!0,o,!1,!1,v);
this.aaz=[1,0,0,0,1,0,0,0];this.aC1(J)};H.ge.prototype.aC1=function(J){if(this.id==H.kX){var v,x,r=null;
if(this.Ug&&J.g==null){var o=this.Ug[0][0],R=o.hS;v=R[0];x=R[1]}else if(this.MV){v=this.MV.u8;x=this.MV.Yf}if(this.FT!=0)r=J.ac[this.FT-1].PP(x);
this.L5=g.mp.aI_(g.N2(v,8),x.r,x.$,r)}};H.ge.ca=function(J,v){if(v==null)v=J.yw(!0,null,null,!0);var x=new jj,o=new jj;
if(J.g&&v.length==1&&v[0]>=0)x=J.g.S.Q();else for(var h=0;h<v.length;h++){var R=v[h],r=0<=R?J.k[R]:-1e3<R?J.h1[-1-R]:J.ac[-1e3-R],l=r.add?r.add.vmsk:null,M=0<=R?r.xD(J,v.length==1,!1,!0):-1e3<R?g.I.Or(l.X,v.length==1&&l.Y.length!=0?l.Y:null):r.S.Q();
x=x.h0(M);if(R>0&&r.add.artb)o=o.h0(r.Gf())}if(!o.L3())return o;if(x.r==0){if(x.$==0)return x;x.x-=10;
x.r+=20}if(x.$==0){x.y-=10;x.$+=20}return x};H.ge.prototype.wH=function(J,v,x,o){var R=new dd(v,!0);
R.data=x;if(o)R.J=o;J.a(R)};H.ge.k1=function(J){var v=[];for(var h=0;h<J.k.length;h++)v.push(h);for(var h=0;
h<J.h1.length;h++)v.push(-1-h);for(var h=0;h<J.ac.length;h++)v.push(-1e3-h);return v};H.ge.YW=function(J,v,x){var o=[];
for(var h=0;h<v.length;h++){var R=v[h],r,l;if(R>=0){r=J.k[R];l=r.lR(J,x,!0)}else if(R>-1e3){r=J.h1[-1-R];
l=[2]}else{o.push([null,null,null,null,null,null,null,J.ac[-1e3-R].Q()]);continue}var M=[],P=l.indexOf(0)!=-1;
if(P){var S={hS:r.add.SoLd?null:[r.buffer.slice(0),r.S.Q()]};M.push(S);if(r.Ov()){var c=r.V0(J);S.atC=c.buffer.slice(0);
S.a50=c.S.Q()}}else M.push(null);if(l.indexOf(1)!=-1)M.push(r.q9().Q());else M.push(null);if(l.indexOf(2)!=-1)M.push({nT:r.add.vmsk.Q(),gB:r.add.vstk?g.F(r.add.vstk):null,BD:r.add.vstk?gD.qx(J.k[R].add):null,Ok:r.add.vstl?JSON.stringify(r.add.vstl):null,Fw:r.add.vogk?g.F(r.add.vogk):null});
else M.push(null);if(r.add.TySh&&P){bI.bi(r.add.TySh);M.push(r.add.TySh.u.Q())}else M.push(null);if(r.add.SoLd&&P)M.push(g.F(r.add.SoLd));
else M.push(null);if(l.indexOf(3)!=-1)M.push(r.V0(J).pR.Q());else M.push(null);if(r.add.lmfx)M.push(JSON.stringify(r.add.lmfx));
else M.push(null);o.push(M)}return o};H.ge.a17=function(J,v,x){for(var h=0;h<v.length;h++){var o=v[h],R=0<=o?J.k[o]:-1e3<o?J.h1[-1-o]:J.ac[-1e3-o],r=x[h];
if(r[0]){if(r[0].hS){R.S=r[0].hS[1].Q();R.buffer=r[0].hS[0].slice(0)}if(R.Ov()){var l=R.V0(J);l.buffer=r[0].atC.slice(0);
l.S=r[0].a50.Q()}}if(r[1]){R.q9().N=r[1].N.slice(0);R.q9().S=r[1].S.Q();R.q9().px=!0}if(r[2]){R.add.vmsk=r[2].nT.Q();
if(r[2].BD)gD.S6(R.add,r[2].BD);if(r[2].gB)R.add.vstk=g.F(r[2].gB);if(r[2].Fw)R.add.vogk=g.F(r[2].Fw);
if(r[2].Ok)R.add.vstl=JSON.parse(r[2].Ok)}if(r[3]){R.add.TySh.u=r[3].Q();bI.ff(R.add.TySh)}if(r[4]){R.add.SoLd=g.F(r[4])}if(r[5]){var M=R.V0(J).pR;
M.N=r[5].N.slice(0);M.S=r[5].S.Q()}if(r[6]){R.add.lmfx=JSON.parse(r[6])}if(r[7]){R.N=r[7].N.slice(0);
R.S=r[7].S.Q();R.px=!0}if(0<=o){R.B0(J);R.Ai();if(r[4])R.IY(J,!1)}}J.Ai()};H.ge.ayG=function(J,v,x){J.depth=x;
J.buffer=g.C(J.r*J.$*4,x);for(var h=0;h<v.length;h++){var o=v[h];if(0<=o){var R=J.k[o],r=R.q9();if(r){r.N=g.N2(r.N,x);
r.px=!0}if(R.add.vmsk)R.add.vmsk.px=!0;if(R.Id())R.B0(J);else if(R.add.SoLd){if(R.Ov()){var l=R.V0(J),r=l.pR;
if(r){r.N=g.N2(r.N,x);r.px=!0}}R.IY(J)}else R.buffer=g.N2(R.buffer,x);R.Ai()}else if(-1e3<o){}else{var r=J.ac[-1e3-o];
r.N=g.N2(r.N,x)}}J.Ai()};H.ge.apH=function(J,v,x){var o,R,r=17,l=J.L_();if(l){r=l[2];o=l[3].slice(0)}if(x){var M=ICC.R(x.buffer);
R=ICC.U.sampleLUT(M,r,!0)}for(var h=0;h<v.length;h++){var P=v[h];if(0<=P){var S=J.k[P];if(S.Id())S.B0(J);
else if(S.add.SoLd){}else{if(o)ICC.U.applyLUT(o,r,S.buffer,S.buffer);if(R)ICC.U.applyLUT(R,r,S.buffer,S.buffer)}S.Ai()}}J.Ai()};
H.ge.Ml=function(J,v){if(v.jp){var x=J.L_();J.G$(v.jp[0]);v.jp=[x?x[0]:null]}if(v.k==null)return;var o=H.ge.YW(J,v.k,v.QV);
if(v.depth!=null){var R=v.depth;v.depth=J.depth;J.depth=R;J.buffer=g.C(J.r*J.$*4,J.depth);J.Ai()}H.ge.a17(J,v.k,v.Ug);
v.Ug=o};H.ge.tm=function(J,v,x,o,R,r,l,M,P,S){if(typeof r[0]=="number"){var c=[];for(var h=0;h<x.length;
h++)c[h]=r;r=c}for(var h=0;h<x.length;h++){var b=r[h],w=g.O.f4(b),U=w.Nf(),F=x[h],Y=0<=F?J.k[F]:-1e3<F?J.h1[-1-F]:J.ac[-1e3-F],A=o[h];
if(Y.add&&Y.add.lmfx&&M)iD.Cz(Y.add.lmfx,U);if(A[0]&&!A[3]&&!A[4]&&!A[5]){var G=A[0].hS;if(P){var n=P.Xt(G[1]),E=g.C(n.o()*4);
g.sW(G[0],G[1],E,n);G=[E,n]}var K=H.ge.lI(G,R,b,l,R==0?Y.buffer.buffer:null,null,S);if(K){Y.S=K.S;Y.buffer=K.buffer}}if(A[1]){var e=Y.q9();
H.ge.rK(J,A[1],e,R,b,l,e.DE&&l&&!g.wL.KV(l)&&A[0]?A[0].hS[1]:null);if(P){var n=e.S.Xt(P),$=g.C(n.o());
g.Cc(e.N,e.S,$,n);e.N=$;e.S=n}}if(A[2]){var N=l&&!g.wL.KV(l),k=A[2].nT.Q(),V=x.length==1&&k.Y.length!=0,X=x.length==1&&k.Ax.length>1;
if(X)V=!1;var Q=V?k.Y:null,L=X?k.Ax:null;if(N){var _=g.wL.Um(l);g.O.u(b,_[3]);g.I.a60(k.X,_,Q,L)}else g.I.a4R(k.X,b,Q,L);
if(Y.add.vstk&&M){Y.add.vstk.strokeStyleLineWidth.v.val=A[2].gB.strokeStyleLineWidth.v.val*U;var a=A[2].BD;
if(a&&a.It==3){a=g.F(a);var T=a.BD.phase.v;a.BD.Scl.v.val=Math.round(a.BD.Scl.v.val*U);T.Hrzn.v=Math.round(T.Hrzn.v*U);
T.Vrtc.v=Math.round(T.Vrtc.v*U);gD.S6(Y.add,a)}}if(Y.add.vogk){Y.add.vogk=g.F(A[2].Fw);if(N||X)g.Fw.ayr(Y.add.vogk);
else g.Fw.u(Y.add.vogk,b,x.length>1?[]:k.Y,M)}if(Y.add.vstl){var f=Y.add.vstl=JSON.parse(A[2].Ok);for(var Z=0;
Z<2;Z++){var W=Z==0?f.sN:f.T0;if(W==null||W[3]==null)continue;var D=W[3],C=new bC(D[0],D[1],D[2],D[3],D[4],D[5]);
C.concat(w);W[3]=[C.o5,C.c,C.Mz,C.fn,C.zP,C.jD]}}k.p5*=U;var d=new bC;d.rotate(k.xx);d.concat(w);k.xx=Math.atan2(-d.c,d.o5);
Y.add.vmsk=k;if(Y.add.vogk)g.Fw.pY(Y.add.vogk,Y.add.vmsk)}if(A[3]){var C=A[3].Q();C.concat(w);Y.add.TySh.u=C;
bI.ff(Y.add.TySh);h4.kI(Y,v.rr)}if(A[4]){var p=Y.add.SoLd,y=H.ge.t1(A[4].nonAffineTransform);g.O.u(b,y);
var i=g.b.jR(y);if(jY.Ub(y)){if(l){var t=g.b.ni(g.wL.Um(A[4].quiltWarp.v)[3]),$=g.O.e6(y,t),O=g.b.ni(g.wL.Um(l)[3]);
y=[O.x,O.y,O.x+O.r,O.y,O.x+O.r,O.y+O.$,O.x,O.y+O.$];g.O.u($,y);p.quiltWarp.v=l}var q=g.O.e6(y),z=y;if(!g.O.Vl(q)){q[6]=q[7]=0;
z=[0,0,1,0,1,1,0,1];g.O.u(q,z)}p.Trnf=H.ge.y7(z);p.nonAffineTransform=H.ge.y7(y);if(p.filterFX)p.filterFX=g.F(A[4].filterFX);
H.ge.anK(p,w);Y.IY(J,R==0,v.rr)}}if(A[5])H.ge.rK(J,A[5],Y.V0(J).pR,R,b,l);if(A[7])H.ge.rK(J,A[7],Y,R,b,l);
if(0<=F){if(!S)Y.Zv();Y.B0(J);Y.Ai();if(Y.QF)Y.QF.uQ=!0}}J.Ai()};H.ge.qS=function(J,v){var x=v.Nf(),o=0;
g.To(J);var R=g.af3(J,v,.3,4);o=R[0];v=R[1];var r=J[o],l=J[o+1],M=g.u3(r),P=l.r,S=l.$,c=g.b.ho(l).T;
g.b.u(c,v,c);var b=g.b.jR(c),w=g.C(b.o(),M),U=b.x,F=b.y,Y=b.r,A=b.$,G=v.Q();G.SV();var n=G.Xw(new aG(0,0)),E=G.Xw(new aG(1,0)),K=E.x-n.x,e=E.y-n.y;
for(var $=0;$<A;$++){var N=G.o5*(U+.5)+G.Mz*($+F+.5)+G.zP,k=G.c*(U+.5)+G.fn*($+F+.5)+G.jD;if(M==8)for(var V=0;
V<Y;V++){if(.5<N&&N<P-.5&&.5<k&&k<S-.5)w[$*Y+V]=Math.floor(.5+g.O.aCT(N,k,r,P,S));N+=K;k+=e}else if(M==16)for(var V=0;
V<Y;V++){if(.5<N&&N<P-.5&&.5<k&&k<S-.5)w[$*Y+V]=Math.floor(.5+g.O.auI(N,k,r,P,S));N+=K;k+=e}else if(M==32)for(var V=0;
V<Y;V++){if(.5<N&&N<P-.5&&.5<k&&k<S-.5)w[$*Y+V]=g.O.auI(N,k,r,P,S);N+=K;k+=e}}return{S:b,N:w}};H.ge.EN=function(J,v,x,o,R){if(x==null)x=!1;
return H.ge.lI(J,x?0:1,g.O.Mf(v),null,o,R,x)};H.ge.lI=function(J,v,x,o,R,r,l){if(l==null)l=!1;if(l&&r)throw"e";
var M=g.u3(J[0]),P={},c=0;if(o&&!g.wL.KV(o)){var S=g.wL.Um(o);g.O.u(x,S[3]);P.S=g.b.jR(S[3]);P.buffer=g.C(P.S.o()*4,M);
g.ZH.drawImage(S,J[0],J[1].Q(),g.wL.ca(o),P.buffer,P.S,v==0);return P}if(g.O.Vl(x)){g.DV(J);var b=.3,c=0,w=g.O.f4(x),U=J[1],F=U.o()*w.Nf();
if(l&&F>4e6)b=F>8e6?2.2:1.2;var Y=g.af3(J,w,b,16);c=Y[0];x=g.O.Mf(Y[1])}var A=J[c],U=J[c+1],G=g.O.K1(x,g.O.Mf(new bC(U.r,0,0,U.$,U.x,U.y))),n=[0,0,1,0,1,1,0,1];
g.O.u(G,n);P.S=g.b.jR(n);if(r)P.S=P.S.Xt(r);if(l){while((P.S.r&3)!=0)P.S.r++;while((P.S.$&3)!=0)P.S.$++}if(!jY.Ub(n)||P.S.r>1e5||P.S.$>1e5||P.S.o()>3e4*3e4)return null;
var E=P.S.o()*4;if(M==8&&R&&R.byteLength>=E&&E>=R.byteLength>>2){P.buffer=new Uint8Array(R)}else{P.buffer=g.C(E,M)}g.O.drawImage(G,A,U.r,U.$,P.buffer,P.S,v==0,l);
if(v==2&&P.buffer){var K=P.S.r,e=P.S.$,$;$=[0,-1,0,-1,16,-1,0,-1,0];$=g.yJ.Z8($);var N=P.buffer.slice(0);
g.yJ.Ty(N,P.buffer,K,e,$,!0,!1)}if(P.buffer)return P};H.ge.rK=function(J,v,x,o,R,r,l){var M=v.S,P=v.N;
if(l){M=l;P=v.PP(M)}if(v.color==255)g.SV(P);var S=g.C(M.o()*4,J.depth);g.Os(P,S,3);var c=H.ge.lI([S,M],o,R,r);
if(c){x.S=c.S;x.N=g.C(c.S.o(),J.depth);g.Vi(c.buffer,x.N,3);x.px=!0}if(v.color==255){g.SV(P);if(c)g.SV(x.N)}};
H.ge.anK=function(J,v){var x=J.filterFX;if(x)x=x.v.filterFXList;if(x)x=x.v;if(x)for(var o=0;o<x.length;
o++){var R=x[o].v.Fltr;if(R==null)continue;var r=R.v.classID;R=R.v;if(r!="rigidTransform"&&r!="blurbTransform")continue;
var l=[];for(var M=0;M<4;M++)l.push(R["PuX"+M].v,R["PuY"+M].v);var P=l.slice(0);g.b.u(l,v,l);for(var M=0;
M<4;M++){R["PuX"+M].v=l[M*2];R["PuY"+M].v=l[M*2+1]}if(r=="rigidTransform"){var S=["PinP","posFinalPins"],c=["originalVertexArray","deformedVertexArray"],b=R.puppetShapeList.v;
for(var w=0;w<b.length;w++){var U=b[w].v;for(var F=0;F<S.length;F++){var Y=H.ge.t1(U[S[F]]);g.b.u(Y,v,Y);
U[S[F]]=H.ge.y7(Y);var A=new Uint8Array(U[c[F]].v),P=new Float32Array(A.buffer);g.b.u(P,v,P);var G=[];
for(var n=0;n<A.length;n++)G[n]=A[n];U[c[F]].v=G}}}if(r=="blurbTransform"){var E=g.Y1.mO(R);g.Y1.u(E,v);
g.Y1.Xy(E[0],R)}}};H.ge.t1=function(J){var v=[],x=J.v.length;for(var h=0;h<x;h++)v.push(J.v[h].v);return v};
H.ge.y7=function(J){var v={t:"VlLs",v:[]},x=J.length;for(var h=0;h<x;h++)v.v.push({t:"doub",v:J[h]});
return v};H.ge.prototype.a0k=function(){var J=g.b.ni(g.wL.Um(this.FP.Nl())[3]),v=g.O.e6(this.d7.ew(),this.P5),x=[J.x,J.y,J.x+J.r,J.y,J.x+J.r,J.y+J.$,J.x,J.y+J.$];
g.O.u(v,x);this.d7.DL(x);this.P5=J};H.ge.prototype.Qf=function(){var J=g.O.e6(this.d7.ew(),this.P5);
if(this.gY)J=g.O.K1(J,g.O.Mf(this.gY));return J};H.ge.prototype.Dv=function(J,v,x,o){var R=this.Qf();
R=g.O.K1(R,g.O.SV(this.nt));var r=this.FP?this.FP.Nl():null;if(this.dl==0){var l=this._6=g.O.f4(R);if(this.id==H.kX){var M=this.Ug[0][0],P=M.hS,S=P[1],c=~~(S.r*Math.max(0,l.o5)),b=~~(S.$*Math.max(0,l.fn)),w=new jj(Math.round(l.o5*S.x+l.zP),Math.round(l.fn*S.y+l.jD),c,b),U=g.mp.u(this.L5,w),F=J.k[this.k[0]];
F.buffer=g.N2(U,J.depth);F.S=w;F.Ai();J.Ai()}else H.ge.tm(J,v,this.k,this.Ug,x,R,r,null,null,o)}else if(this.dl==1){var Y=J.k[this.k[0]],S=this.MV.Yf;
if(Y.kG<=0){var A=this.MV.u8,G=this.ee,n=null;if(r&&!g.wL.KV(r)&&!G.S.Ym(S)){var U=g.C(G.S.o()*4);g.sW(A,S,U,G.S);
A=U;S=G.S}if(this.id==H.kX){var l=this._6=g.O.f4(R),c=~~(S.r*Math.max(0,l.o5)),b=~~(S.$*Math.max(0,l.fn)),w=new jj(Math.round(l.o5*S.x+l.zP),Math.round(l.fn*S.y+l.jD),c,b),U=g.mp.u(this.L5,w);
n={buffer:g.N2(U,J.depth),S:w}}else n=H.ge.lI([A,S],x,R,r);if(n){Y.WI.U$=n.buffer;Y.WI.du=n.S;var E=g.C(n.S.o());
g.Vi(Y.WI.U$,E,3);J.g={N:E,S:Y.WI.du.Q()}}}else{var K=g.C(S.o()*4);g.Os(this.MV.u8,K,3);var n=H.ge.lI([K,S],x,R,r);
if(n){Y.WI.U$=g.C(n.S.o());g.Vi(n.buffer,Y.WI.U$,3);Y.WI.du=n.S}this.a37(J,x,R,r)}Y.QY(J,0,0,J.g);if(x!=0){Y.Zv();
g.Zv(J.g)}J.rf=!0;J.Ai()}else if(this.dl==2)this.a37(J,x,R,r)};H.ge.prototype.a37=function(J,v,x,o){var R=this.ee.S,r=g.C(R.o()*4);
g.Os(this.ee.N,r,3);var l=H.ge.lI([r,R],v,x,o),M=g.C(l.S.o());g.Vi(l.buffer,M,3);J.g={N:M,S:l.S};J.rf=!0};
H.ge.prototype.disable=function(J,v,x,o){if(this.d7)this.ob(J,v,null,!0)};H.a89=function(){H.ge.call(this,[10,16],H.tS,"tools/transform")};
H.a89.prototype=new H.ge;H.amw=function(){H.ge.call(this,[7,10],H.sj,"tools/transform")};H.amw.prototype=new H.ge;
H.aAO=function(){H.ge.call(this,[10,48],H.kX,"tools/transform")};H.aAO.prototype=new H.ge;H.mT=function(J,v,x){H.AA.call(this,J?J:[10,40],v?v:H.BG,x?x:"tools/slice");
this.U8=null;this.mm=null;this.U5={t:0,x:0,y:0};this.$t=null;this.aHy=null;this.L0=null;this.Xd=null};
H.mT.prototype=new H.AA;H.mT.M$=function(J,v){var x=-1;for(var h=0;h<J.length;h++){var o=H.mT.X4(J,h);
if(o[0]<=v.x&&v.x<=o[2]&&o[1]<=v.y&&v.y<=o[3]){x=h;break}}return x};H.mT.prototype.vE=function(J,v,x,o,R){if(x==null)return;
this._b(x);if(J.R=="fromAction"){var r=J.h7,l=r.QI,M=r._g,P=x.lg(),S=x.Ss(),c=S==-1?new jj(0,0,x.r,x.$):x.k[S].Gf();
if(l=="divide"){if(x.dT.length!=0){var b=x.dT[0],w=H.mT.X4(x.ek,b);c=new jj(w[0],w[1],w[2]-w[0],w[3]-w[1]);
x.ek.splice(b,1);x.dT=[]}P=[[],[]];for(var U=0;U<2;U++){var F=["Across","Down"][U],Y=M["pixels"+F]?0:1,A=M[["pixels","slices"][Y]+F];
if(A==null)continue;A=A.v;var G=U==0?c.x:c.y,n=U==0?c.r:c.$;if(Y==0)for(var h=1;h*A<n;h++){P[0].push([U,G+h*A]);
P[1].push(S)}else{var E=Math.floor(n/A);for(var h=1;h<A;h++){P[0].push([U,G+h*E]);P[1].push(S)}}}}var K=[c.x,c.x+c.r],e=[c.y,c.y+c.$];
for(var h=0;h<P[0].length;h++){var $=P[0][h],N=Math.round($[1]),k=P[1][h];if(k!=-1&&k!=S)continue;if($[0]==0&&K.indexOf(N)==-1)K.push(N);
if($[0]==1&&e.indexOf(N)==-1)e.push(N)}K.sort(function(W,D){return W-D});e.sort(function(W,D){return W-D});
for(var V=1;V<e.length;V++)for(var X=1;X<K.length;X++){x.ek.push(H.mT.I8());H.mT.bA(x.ek,x.ek.length-1,[K[X-1],e[V-1],K[X],e[V]]);
x.ms=!0}}else if(J.R=="reorder"){if(x.dT.length==0)return;var Q=x.ek,L=x.dT;L.sort(function(W,D){return W-D});
console.log(L);var _=Q.slice(0),a=[],T=[];for(var h=0;h<L.length;h++){var b=L[h],f=Q[b];T.push(f);_.splice(_.indexOf(f),1)}var Z=Math.max(0,Math.min(_.length,L[0]-J.dir));
for(var h=0;h<T.length;h++){_.splice(Z+h,0,T[h]);a.push(Z+h)}x.ek=_;x.dT=a}else if(J.R=="delete"){var Q=x.ek.slice(0);
for(var h=0;h<x.dT.length;h++)x.ek.splice(x.ek.indexOf(Q[x.dT[h]]),1);x.dT=[]}else if(J.R=="deleteAll"){x.ek=[];
x.dT=[]}else{x.ek[x.dT[0]].v=J;x.ms=!0}this.iF(x)};H.mT.prototype.enable=function(J,v,x,o,R,r){H.AA.prototype.enable.call(this,J,v,x,o,R,r);
if(!x.i3.ek){var l=new dd(j.E.j,!0);l.data={R:j.m.Qq,Fu:cj.KP};v.a(l)}};H.mT.prototype.disable=function(){this.U8=null;
this.mm=null};H.mT.prototype.Su=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=H.mT.M$(J.ek,r);if(l==-1)return;
this.U8=J;this.mm=v;J.dT=[l];J.ms=!0;if(this.Xd==null){this.Xd=new kM([{name:[5,4]},{name:[8,11,1],U6:!0}]);
this.Xd.P("select",this.H9,this)}var M=this.Xd;M.parent=v;M.d();M.update(J,x);var P=new dd(j.E.j,!0);
P.data={R:j.m.sO,rq:M,x:R.m4+2,y:R.R1+1};v.a(P)};H.mT.prototype.H9=function(J){var v=this.Xd.hA()[0],x=this.U8;
if(v==0){this._b(x);x.ek.splice(x.dT[0],1);x.dT=[];x.ms=!0;this.iF(x)}if(v==1){var o=new dd(j.E.j,!0);
o.data={R:j.m.wz,kA:"soptions",K:x.ek[x.dT[0]].v};this.mm.a(o)}};H.mT.prototype._N=function(J,v,x,o,R){if(J==null)return;
this._b(J);var r=J.U.hW(R.x,R.y);r=H.Io.a4(J,r,x,[!0,null,!1]);r.x=Math.round(r.x);r.y=Math.round(r.y);
this.L0=r;J.ek.unshift(H.mT.I8());J.dT=[0];H.mT.bA(J.ek,0,[r.x,r.y,r.x+20,r.y+20]);J.ms=!0};H.mT.prototype.kq=function(J,v,x,o,R){if(this.$t==null)return;
var r=J.U.hW(R.x,R.y),l=this.L0;r=H.Io.a4(J,r,x,[!0,null,!1]);var M=H.YP.ID(l,r,o,!0,this.U5);l=M[0];
r=M[1];var P=[l.x,l.y,r.x,r.y];H.mT.ap3(P);H.mT.bA(J.ek,0,P);J.ms=!0};H.mT.prototype.ER=function(J,v,x,o,R){this.iF(J);
this.L0=null};H.mT.prototype._b=function(J){this.$t=JSON.stringify(J.ek);this.aHy=JSON.stringify(J.dT)};
H.mT.prototype.iF=function(J){var v=JSON.stringify(J.ek);if(v!=this.$t){var x=new js(this.name,this);
x.data={MV:this.$t,Mp:v,ami:this.aHy,as3:JSON.stringify(J.dT)};J.q$(x)}this.$t=null};H.mT.prototype.mJ=function(J,v){v.ek=JSON.parse(J.MV);
v.dT=JSON.parse(J.ami);v.ms=!0};H.mT.prototype.MW=function(J,v){v.ek=JSON.parse(J.Mp);v.dT=JSON.parse(J.as3);
v.ms=!0};H.mT.prototype.V9=function(J,v){return v!=null&&v.dT.length!=0&&(J==gw.Fp||J==gw.hP)};H.mT.prototype.lb=function(J,v,x,o){if(J==null)return;
if(o.M(gw.Fp)||o.M(gw.hP))this.vE({R:"delete"},v,J,o,x);var R=o.m0();if(R.x!=0||R.y!=0){this._b(J);H.mT.oD(J,R);
this.iF(J)}};H.mT.prototype.zN=function(J,v,x,o,R){this.U5=J.lJ};H.mT.a3r=function(J,v,x,o){var R=new aG(-v.x,-v.y),r=v.r/x.r,l=v.$/x.$,M=[0,0,v.r,v.$];
for(var h=0;h<J.length;h++){var P=H.mT.X4(J,h);if(o){P[0]=Math.round(P[0]*r);P[1]=Math.round(P[1]*l);
P[2]=Math.round(P[2]*r);P[3]=Math.round(P[3]*l)}else{H.mT.$n(P,R);H.mT.a3e(P,M)}if(P[0]>=P[2]||P[1]>=P[3]){J.splice(h,1);
h--;continue}H.mT.bA(J,h,P)}};H.mT.oD=function(J,v){var x=J.ek;for(var h=0;h<J.dT.length;h++){var o=H.mT.X4(x,J.dT[h]);
H.mT.$n(o,v);H.mT.bA(x,J.dT[h],o)}};H.mT.a3e=function(J,v){if(J[0]<v[0])J[0]=v[0];if(J[1]<v[1])J[1]=v[1];
if(v[2]<J[2])J[2]=v[2];if(v[3]<J[3])J[3]=v[3]};H.mT.$n=function(J,v){J[0]=Math.round(J[0]+v.x);J[2]=Math.round(J[2]+v.x);
J[1]=Math.round(J[1]+v.y);J[3]=Math.round(J[3]+v.y)};H.mT.bA=function(J,h,v){var x=J[h].v.bounds.v;x.Left.v=v[0];
x.Top.v=v[1];x.Rght.v=v[2];x.Btom.v=v[3]};H.mT.X4=function(J,h){var v=J[h].v.bounds.v;return[v.Left.v,v.Top.v,v.Rght.v,v.Btom.v,h]};
H.mT.ap3=function(J){if(J[2]<J[0]){var v=J[0];J[0]=J[2];J[2]=v}if(J[2]==J[0])J[2]++;if(J[3]<J[1]){var v=J[1];
J[1]=J[3];J[3]=v}if(J[3]==J[1])J[3]++};H.mT.ni=function(J,v){var x=1e9,o=-1e9,R=1e9,r=-1e9;for(var h=0;
h<v.length;h++){var l=H.mT.X4(J,v[h]);x=Math.min(x,l[0]);R=Math.min(R,l[1]);o=Math.max(o,l[2]);r=Math.max(r,l[3])}return[x,R,o,r]};
H.mT.I8=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
H.I1=function(){H.mT.call(this,[10,41],H.Cg,"tools/sselect");this.L0=null;this.jg=null;this.GX=null;
this.ul=null;this.EG=!1};H.I1.prototype=new H.mT;H.I1.prototype._N=function(J,v,x,o,R){if(J==null)return;
var r=J.U.hW(R.x,R.y),l=H.I1.aC8(r,4/J.U.NT,J.ek,J.dT);l.pop();if(l.length!=0){this.L0=r;this.GX=l;this._b(J);
return}var M=J.ek,P=H.mT.M$(M,r);if(P==-1)J.dT=[];else{var S=J.dT.indexOf(P);if(o.M(gw.Yv)){if(S==-1)J.dT.push(P);
else J.dT.splice(S,1)}else{J.dT.sort(function(Y,A){return Y-A});if(S==-1)J.dT=[P];this.L0=r;this._b(J);
this.jg=H.mT.ni(M,J.dT);this.ul=[];for(var h=0;h<J.dT.length;h++)this.ul.push(H.mT.X4(M,J.dT[h]));if(o.M(gw.i4)){var c=M.slice(0),b=J.dT,w=[];
for(var h=0;h<b.length;h++){var P=b[h],U=c[P],F=M.indexOf(U);w.push(F);M.splice(F,0,g.F(U))}J.dT=w}}}J.ms=!0};
H.I1.prototype.kq=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y);if(this.L0==null){var l=H.I1.aC8(r,4/J.U.NT,J.ek,J.dT),M=l.pop(),P=l.length==0?"default":["ew","nwse","ns","nesw"][M]+"-resize",S=new dd(j.E.j,!0);
S.data={R:j.m.HX,O5:P};v.a(S);return}if(!this.EG&&r.Ym(this.L0))return;this.EG=!0;var c=J.ek,l=this.GX;
if(l){r=H.Io.a4(J,r,x,[!0,null,!1]);var b=Math.round(r.x),w=Math.round(r.y);for(var h=0;h<l.length;h+=2){var U=H.mT.X4(c,l[h]),F=l[h+1];
U[F]=(F&1)==0?b:w;H.mT.ap3(U);H.mT.bA(c,l[h],U)}}else{var Y=r.aA(this.L0),A=this.jg.slice(0);H.mT.$n(A,Y);
var G=new jj(A[0],A[1],A[2]-A[0],A[3]-A[1]),n=H.Io.XE(J,G,x,[!0,null,!1],!0);H.Io.SE(J,G,n);Y.x+=n[0];
Y.y+=n[1];for(var h=0;h<J.dT.length;h++)H.mT.bA(c,J.dT[h],this.ul[h]);H.mT.oD(J,Y)}J.ms=!0};H.I1.prototype.ER=function(J,v,x,o,R){if(this.L0==null)return;
this.iF(J);J.dB.Af=null;J.ms=!0;this.L0=null;this.GX=null;this.ul=null;this.EG=!1};H.I1.aC8=function(J,v,x,o){var R=J.x,r=J.y,l=[],M=-1,P=[];
for(var h=0;h<o.length;h++){var S=o[h],c=H.mT.X4(x,S),b=c[0],w=c[1],U=c[2],F=c[3];if(R<b-v||U+v<R||r<w-v||F+v<r)continue;
var Y=[R<b+v,r<w+v,U-v<R,F-v<r],A=-1;for(var G=0;G<4;G++){if(Y[G]&&Y[G+1&3])A=1+2*(G&1);if(Y[G])l.push(S,G)}if(A==-1){if(Y[0]||Y[2])A=0;
if(Y[1]||Y[3])A=2}if(A!=-1){M=A;P.push(S)}}var n=l.length;for(var h=0;h<n;h+=2){var S=l[h],E=l[h+1],K=H.mT.X4(x,S)[E];
for(var G=0;G<o.length;G++){var e=o[G];if(P.indexOf(e)!=-1)continue;var c=H.mT.X4(x,e);if(c[E&1]==K)l.push(e,E&1);
if(c[2+(E&1)]==K)l.push(e,2+(E&1))}}l.push(M);return l};H.Hr=function(J,v,x){H.AA.call(this,J,v,x);this.Y8=null;
this.air=null;this.b1=null;this.EX=null;this.HP=null;this.uq=null;this.$o=null;this.cb=[]};H.Hr.prototype=new H.AA;
H.Hr.prototype.b7=function(){return!0};H.Hr.c_=function(J){if(J==null)return!1;if(J.Y.length!=1)return!1;
var v=J.k[J.Y[0]];return v.add.SoLd||J.hH(!1)};H.Hr.prototype.$H=function(J,v){return H.Hr.c_(J)};H.Hr.prototype.V9=function(J,v){return J==gw.Fp||J==gw.hP};
H.Hr.prototype.enable=function(J,v,x,o,R,r,l){this.air=r.H2;var M=r.H2,P,F=null;if(M){var S=J.k[M.w];
if(S.add.SoLd.filterFX!=null){var c=S.add.SoLd.filterFX.v.filterFXList.v;if(c[M.index])P=g.F(c[M.index].v.Fltr.v)}}var S=J.k[J.Y[0]],b=S.buffer,w=S.S,U=S.add.SoLd;
if(U){var Y=U.nonAffineTransform.v;F=[];for(var h=0;h<4;h++)F.push(Y[h*2].v,Y[h*2+1].v);if(P==null)this.EC("edit",v);
var A=S.V0(J);b=A.buffer;w=A.S}this.EX={buffer:b.slice(0),S:w.Q(),aHV:F};this.a1f(P,J,v,r.fr);this.afl(v);
var G=new dd(j.E.j,!0);G.data={R:j.m.HX,O5:"default"};v.a(G)};H.Hr.prototype.afl=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.hf,J:this.id,Fu:this.HP};J.a(v)};H.Hr.prototype.disable=function(J,v,x,o){if(this.uq)this.ob(J,v,!0)};
H.Hr.prototype.EC=function(J,v){var x=new dd(j.E.G,!0);x.J=H.c$;x.data={R:J,H2:this.air,Y8:this.Y8,Bl:this.b1};
v.a(x)};H.Hr.prototype.ob=function(J,v,x){this.EC("confirm",v);this.escape(J,v,x)};H.Hr.prototype.Ib=function(J,v,x){this.EC("cancel",v);
this.escape(J,v,x)};H._7=function(J,v,x){H.Hr.call(this,[10,46],H.E7,"tools/transform");this.Y8="rigidTransform";
this.HP=[1,1,2,!0]};H._7.prototype=new H.Hr;H._7.prototype.a1f=function(J,v,x){this.b1=J?J:H._7.I2(this.EX,this.HP);
this.uq=H._7.sR(this.b1,this.HP);this.VB();this.kh(v);if(J==null)this._t(x)};H._7.prototype.VB=function(J){var v=this.uq;
this.cb=[];for(var h=0;h<v.length;h++){var x=v[h];for(var o=0;o<x.Y.length;o++)this.cb.push([h,x.Y[h]]);
x.oR=g.Z1.amU(x);if(J)g.Z1.aEK(x)}};H._7.prototype.zN=function(J,v,x,o){if(J.nw=="commit")this.ob(x,v,!0);
else if(J.nw=="cancel")this.Ib(x,v,!0);else if(J.nw=="prm"){var R=!1;for(var h=0;h<3;h++)if(this.HP[h]!=J.Fu[h])R=!0;
this.HP=J.Fu;if(R){this.b1=H._7.I2(this.EX,this.HP,this.b1);this.uq=H._7.sR(this.b1,this.HP);this.VB(!0);
this._t(v)}this.kh(x)}else if(J.nw=="moveDepth"){var r=this.uq;for(var l=0;l<r.length;l++){var M=r[l];
for(var h=0;h<M.Y.length;h++){var P=M.Y[h];M.NE[P]+=J.aoT?1:-1}}this._t(v)}};H._7.prototype.lb=function(J,v,x,o){var R=o.m0();
if(o.M(gw.O9))this.ob(J,v,!0);else if(o.M(gw.T1))this.Ib(J,v,!0);else if(o.M(gw.Fp)||o.M(gw.hP)){var r=this.uq;
for(var l=0;l<r.length;l++){var M=r[l];M.Y.sort(function(c,b){return b-c});for(var h=0;h<M.Y.length;
h++){var P=M.Y[h],S=P*2;M.NE.splice(P,1);M.Gi.splice(P,1);M.YD.splice(P,1);M.yg.splice(P,1);M.Oy.splice(S,2);
M.Xl.splice(S,2)}M.Y=[];if(M.yg.length==0){M.Z3=M.yB.slice(0);M.eX=M.yB.slice(0)}}this.VB(!0);this._t(v);
this.kh(J)}else if(R.x!=0||R.y!=0){this.ann(J,R.x,R.y,v);this.gy=null}};H._7.prototype.escape=function(J,v,x){J.dB.xt=null;
J.dB.hM=[];J.dB.sI=[];J.ms=!0;this.uq=null;var o=new dd(j.E.j,!0);o.data={R:j.m.LV};if(x)v.a(o)};H._7.prototype._N=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=r.x,M=r.y,P=this.uq,S=null,c=[0,2,4,1.2,1.2,1.2],b=-1,w=H.rY(J,R);
for(var h=0;h<P.length;h++){var U=P[h],F=g.b.CK(U.Xl,l,M,w);if(F!=-1)S=[h,F];if(b==-1&&g.Z1.asV.ahg(U.eX,U.D0,l,M))b=h}if(S==null&&b!=-1){var U=P[b];
H._7.a13(U,l,M,l,M,0);S=[b,U.yg.length-1];U.oR=g.Z1.amU(U)}this.$o=r;if(S){var Y=P[S[0]].Y.indexOf(S[1])!=-1;
if(o.M(gw.Yv)&&!Y){P[S[0]].Y.push(S[1]);this.cb.push(S)}else if(!Y){P[S[0]].Y=[S[1]];this.cb=[S]}}this.kh(J)};
H._7.a13=function(J,v,x,o,R,r){var l=g.b.CK(J.eX,v,x);J.yg.push(l);J.Xl.push(o,R);J.Oy.push(J.eX[l*2]-v,J.eX[l*2+1]-x);
J.YD.push(0);J.Gi.push(!1);J.NE.push(r)};H._7.prototype.kq=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=this.$o;
if(l)this.ann(J,r.x-l.x,r.y-l.y,v)};H._7.prototype.ann=function(J,v,x,o){var R={},r=this.cb,l=this.uq;
if(this.gy==null){this.gy=[];for(var h=0;h<l.length;h++)this.gy.push(l[h].Xl.slice(0))}for(var h=0;h<r.length;
h++){var M=this.cb[h],P=M[0],S=l[M[0]],c=M[1]*2;S.Xl[c+0]=this.gy[P][c+0]+v;S.Xl[c+1]=this.gy[P][c+1]+x;
R[P]=P}for(var P in R)g.Z1.aEK(this.uq[R[P]]);this.kh(J);this._t(o)};H._7.prototype.ER=function(J,v,x,o,R){this.$o=null;
this.gy=null};H._7.prototype._t=function(J){H._7.aeS(this.uq,this.HP,this.b1);this.EC("edit",J)};H._7.prototype.kh=function(J){var v=this.uq,x=this.b1;
J.dB.xt={T:[],Wp:[]};J.dB.hM=[];J.dB.sI=[];for(var h=0;h<v.length;h++){var o=v[h];for(var R=0;R<o.Xl.length;
R+=2){var r=J.dB.sI;if(o.Y.indexOf(R>>>1)!=-1)r=J.dB.hM;r.push(o.Xl[R],o.Xl[R+1])}if(this.HP[3])g.b.concat(J.dB.xt,g.b.ap1(o.eX,o.D0))}J.ms=!0};
H._7.I2=function(J,v,x){var o=J.buffer,R=J.S,r=J.aHV,l=a8.ow("rigidTransform");if(r)for(var h=0;h<4;
h++){l["PuX"+h].v=r[h*2];l["PuY"+h].v=r[h*2+1]}var M=l.puppetShapeList.v,P=g.Z1.al_(o,R.r,R.$,v[1],v[2]),S=[];
for(var c=0;c<P.length;c++){var b={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
b.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var w=P[c];M.push({t:"Objc",v:b});var U=w.yB.slice(0);g.b.u(U,new bC(1,0,0,1,R.x,R.y),U);var F=w.D0;
for(var h=0;h<F.length;h+=3){var Y=F[h+1];F[h+1]=F[h+2];F[h+2]=Y}S.push({D0:F,yB:U,Z3:U,eX:U,yg:[],Oy:[],Xl:[],oR:null,Y:[],YD:[],Gi:[],NE:[]})}if(x){var A=H._7.sR(x,[]),G=S[0];
for(var h=0;h<A.length;h++){var n=A[h];for(var E=0;E<n.Y.length;E++)G.Y.push((G.Xl.length>>>1)+n.Y[E]);
for(var E=0;E<n.yg.length;E++){var K=n.yg[E]*2,e=n.yB[K]-n.Oy[E*2],$=n.yB[K+1]-n.Oy[E*2+1];H._7.a13(G,e,$,n.Xl[E*2],n.Xl[E*2+1],n.NE[E])}}}H._7.aeS(S,v,l);
return l};H._7.sR=function(J,v){var x=H.ge.t1,o=J.puppetShapeList.v,R=[];for(var r=0;r<o.length;r++){var l=o[r].v;
v[0]=l.meshRigidity.v-1;v[1]=l.meshQuality.v-1;v[2]=l.meshExpansion.v;var M=l.pinVertexIndices.v.length,P=l.meshBoundaryPath.v.pathComponents.v;
if(P.length!=0){var S=P[0].v.SbpL.v[0].v.Pts;S.v=[]}var c=new Uint32Array(new Uint8Array(l.indexArray.v).buffer),b=new Float32Array(new Uint8Array(l.originalVertexArray.v).buffer),w=new Float32Array(new Uint8Array(l.deformedVertexArray.v).buffer),U=[],F=[],Y=[];
for(var h=0;h<c.length;h++)U.push(c[h]);for(var h=0;h<b.length;h++){F.push(b[h]);Y.push(w[h])}var A=x(l.pinVertexIndices),G=x(l.pinOffsets),n=x(l.posFinalPins),E=x(l.PnRt),K=x(l.PnOv),e=x(l.PnDp),$=x(l.selectedPin);
R.push({D0:U,yB:F,Z3:Y.slice(0),eX:Y,yg:A,Oy:G,Xl:n,oR:null,YD:E,Gi:K,NE:e,Y:$})}return R};H._7.aeS=function(J,v,x){function o(w,U){var F=[];
for(var h=0;h<w.length;h++)F.push({t:U,v:w[h]});return F}function R(w,U,F){var Y=new(F?Uint32Array:Float32Array)(w),A=new Uint8Array(Y.buffer);
for(var h=0;h<A.length;h++)U[h]=A[h]}var r=x.puppetShapeList.v;for(var l=0;l<r.length;l++){var M=J[l],P=r[l].v;
P.meshRigidity.v=v[0]+1;P.meshQuality.v=v[1]+1;P.meshExpansion.v=v[2];R(M.D0,P.indexArray.v,!0);R(M.yB,P.originalVertexArray.v);
R(M.eX,P.deformedVertexArray.v);var S=[];for(var h=0;h<M.yg.length;h++){var c=M.yg[h]*2,b=h*2;S[b]=M.yB[c]-M.Oy[b];
S[b+1]=M.yB[c+1]-M.Oy[b+1]}P.PinP.v=o(S,"doub");P.pinVertexIndices.v=o(M.yg,"long");P.pinOffsets.v=o(M.Oy,"doub");
P.posFinalPins.v=o(M.Xl,"doub");P.PnRt.v=o(M.YD,"long");P.PnOv.v=o(M.Gi,"bool");P.PnDp.v=o(M.NE,"doub");
P.selectedPin.v=o(M.Y,"long")}};H.S2=function(){H.Hr.call(this,"Blur Gallery",H.ru,"tools/ruler");this.Y8="blurbTransform";
this.HP=[0,[],null];this.dW=-1};H.S2.prototype=new H.Hr;H.S2.prototype.a1f=function(J,v,x,o){this.uq={};
var R=J==null;if(J==null){J=a8.ow(this.Y8);g.Y1.at0(J,o,v.r/2,v.$/2);var r=[!1,!1,!1,!1,!1,!1];r[o]=!0;
g.Y1.af7(J,r)}this.b1=J;this.HP[0]=g.Y1.aBs(J);this.HP[1]=g.Y1.azR(J);this.kh(v);if(R)this.EC("edit",x)};
H.S2.prototype.lb=function(J,v,x,o){if(o.M(gw.O9))this.ob(J,v,!0);else if(o.M(gw.T1))this.Ib(J,v,!0);
else if(o.M(gw.Fp)||o.M(gw.hP)){var R=this.dW;if(R==-1)return;var r=this.HP[0],l=g.Y1.mO(this.b1)[0],M=l[r];
if(r==0)M.splice(R,1);if(r==1||r==5)M.splice(Math.floor(R/6),1);if(r==3)M.splice(Math.floor(R/5),1);
if(r==4)M.splice(Math.floor(R/4),1);g.Y1.Xy(l,this.b1);g.Y1.gj(this.b1,r);this.dW=-1;this.kh(J);this.EC("edit",v)}};
H.S2.prototype.zN=function(J,v,x,o){if(J.nw=="commit")this.ob(x,v,!0);else if(J.nw=="cancel")this.Ib(x,v,!0);
else{this.HP=J.Fu;var R=this.HP[0],r=this.dW;g.Y1.af7(this.b1,this.HP[1]);if(this.HP[2]){var l=g.Y1.mO(this.b1)[0],M=l[R];
if(R==0)M[r][2]=this.HP[2][0];if(R==1||R==5)M[Math.floor(r/6)][14]=this.HP[2][0];if(R==3)M[Math.floor(r/5)][10]=this.HP[2][0];
if(R==4){M[0][4]=this.HP[2][0]/100;var P=(r&3)<2?0:5,S=M[Math.floor(r/4)],c=S[P],b=S[P+1],w=S[P+2]-c,U=S[P+3]-b,F=Math.sqrt(w*w+U*U),Y=this.HP[2][1];
if(F==0){S[P+2]=c+Y;S[P+3]=b}else{S[P+2]=c+Y*w/F;S[P+3]=b+Y*U/F}}g.Y1.Xy(l,this.b1)}g.Y1.gj(this.b1,R);
this.kh(x);this.EC("edit",v)}};H.S2.prototype.escape=function(J,v,x){J.dB._5=null;J.dB.Ru=null;J.dB.aU=null;
J.dB.hM=[];J.dB.sI=[];J.ms=!0;this.uq=null;var o=new dd(j.E.j,!0);o.data={R:j.m.LV};if(x)v.a(o)};H.S2.prototype.kh=function(J){var v=g.Y1.mO(this.b1)[0];
J.dB.hM=[];J.dB.sI=[];var x=J.dB._5={T:[],Wp:[]},o=J.dB.Ru={T:[],Wp:[]},R=J.dB.aU={T:[],Wp:[]};this.cb=[];
this.aoc=[];var r=this.HP[0],l=this.dW,M=v[r];for(var h=0;h<M.length;h++){var P=M[h];if(r==0){if(h==l){J.dB.hM.push(P[0],P[1]);
this.HP[2]=[P[2]]}else J.dB.sI.push(P[0],P[1]);this.aoc.push([]);this.cb.push(P[0],P[1])}else if(r==1||r==5){var S=g.Y1.aDQ(P);
S.SV();var c=[0,-1,1,0,0,1,-1,0,0,0,1-P[10],0];g.b.u(c,S,c);for(var b=0;b<c.length;b+=2){if(l==h*6+(b>>>1)){J.dB.hM.push(c[b],c[b+1]);
this.HP[2]=[P[14]]}else J.dB.sI.push(c[b],c[b+1]);this.cb.push(c[b],c[b+1])}var w=g.b.Am(g.I.yu.Bd(-1,-1,2,2));
g.b.concat(x,w,S)}else if(r==3){var U=P[0],F=P[1],Y=P[2]-P[0],A=P[3]-P[1],G=Math.sqrt(Y*Y+A*A),n=A*1e4/G,E=-Y*1e4/G;
for(var b=0;b<10;b+=2){if(l==h*5+(b>>>1)){J.dB.hM.push(P[b],P[b+1]);this.HP[2]=[P[10]]}else J.dB.sI.push(P[b],P[b+1]);
this.cb.push(P[b],P[b+1]);if(b==0)continue;if(Math.floor(l/5)!=h)continue;x.T.push(P[b]-n,P[b+1]-E,P[b]+n,P[b+1]+E);
x.Wp.push("M","L")}}else if(r==4){R.T.push(P[0],P[1],P[5],P[6]);R.Wp.push("M","L");for(var b=0;b<2;b++){var K=b*5,U=P[K],F=P[K+1],e=P[K+2],$=P[K+3],Y=e-U,A=$-F,N=Math.sqrt(Y*Y+A*A),k=25;
if(N!=0){Y/=N;A/=N}if((l&14)==h*4+b*2){J.dB.hM.push(U,F,e,$);this.HP[2]=[P[4]*100,N]}else J.dB.sI.push(U,F,e,$);
o.T.push(U,F,e,$);o.Wp.push("M","L");this.cb.push(U,F,e,$);if(N==0)continue;var V=-Y*k*2,X=-A*k*2;o.T.push(e,$,e+(-A*k+V),$+(Y*k+X));
o.T.push(e,$,e+(A*k+V),$+(-Y*k+X));o.Wp.push("M","L","M","L","M","L")}}}J.ms=!0};H.S2.prototype.kq=function(J,v,x,o,R){function r(t,h,O){var $=t[h]-t[O],N=t[h+1]-t[O+1];
return Math.sqrt($*$+N*N)}var l=J.U.hW(R.x,R.y),M=g.b.CK(this.cb,l.x,l.y,6/J.U.NT);if(this.$o){var P=this.dW,S=this.HP,c=S[0],b=g.Y1.mO(this.b1)[0],w=b[c];
if(c==0){w[P][0]=l.x;w[P][1]=l.y}if(c==1||c==5){var U=Math.floor(P/6),F=P-U*6,Y=w[U],A=r(Y,0,2)/2,G=r(Y,2,4)/2,n=Y[8],E=Y[9],K=Math.atan2(-Y[3]+Y[1],Y[2]-Y[0]),e=Y[10],$=l.x-n,N=l.y-E,k=Math.sqrt($*$+N*N);
if(F<4){K=Math.atan2(-N,$)+(-1+F)*Math.PI/2;if(F==0||F==2)G=k;else A=k}if(F==4){n=l.x;E=l.y}if(F==5)e=Math.max(0,Math.min(1,1-k/A));
var V=new bC;V.scale(A,G);V.rotate(K);V.translate(n,E);var X=w[U]=[-1,-1,1,-1,1,1,-1,1,0,0];g.b.u(X,V,X);
X.push(e,e,e,e,Y[14])}if(c==3){var U=Math.floor(P/5),F=P-U*5,Y=w[U],Q=Y[0],L=Y[1],_=r(Y,0,2),a=r(Y,0,4),T=r(Y,0,6),f=r(Y,0,8),K=Math.atan2(-Y[3]+Y[1],Y[2]-Y[0]),$=l.x-Q,N=l.y-L,k=Math.sqrt($*$+N*N);
if(F==0){Q=l.x;L=l.y}if(F==1)_=Math.max(T*1.1,k);if(F==2)a=Math.max(f*1.1,k);if(F==3)T=Math.min(_,k);
if(F==4)f=Math.min(a,k);if(F==1)K=Math.atan2(-N,$);if(F==2)K=Math.atan2(N,-$);var X=w[U]=[0,0,-_,0,a,0,-T,0,f,0],V=new bC;
V.rotate(K+Math.PI);V.translate(Q,L);g.b.u(X,V,X);X.push(Y[10])}if(c==4){var U=Math.floor(P/4),F=P-U*4,Y=w[U],Z=F<2?0:5;
if((F&1)==0){var D=[Y[2]-Y[0],Y[3]-Y[1],Y[7]-Y[5],Y[8]-Y[6]],C=Math.atan2(-(Y[6]-Y[1]),Y[5]-Y[0]);Y[Z]=l.x;
Y[Z+1]=l.y;var d=Math.atan2(-(Y[6]-Y[1]),Y[5]-Y[0]),V=new bC;V.rotate(d-C);for(var h=0;h<2;h++){var p=new aG(D[h*2],D[h*2+1]);
p=V.Xw(p);Y[h*5+2]=Y[h*5]+p.x;Y[h*5+3]=Y[h*5+1]+p.y}}else{Y[Z+2]=l.x;Y[Z+3]=l.y}}g.Y1.Xy(b,this.b1);
g.Y1.gj(this.b1,c);this.kh(J)}else{var y="default";if(M!=-1)y="pointer";var i=new dd(j.E.j,!0);i.data={R:j.m.HX,O5:y};
v.a(i)}};H.S2.prototype._N=function(J,v,x,o,R){var r=this.HP[0],l=J.U.hW(R.x,R.y),M=l.x,P=l.y,S=g.b.CK(this.cb,M,P,10/J.U.NT);
if(S==-1){S=g.Y1.at0(this.b1,r,M,P)}this.$o=l;this.dW=S;this.kh(J)};H.S2.prototype.ER=function(J,v,x,o,R){if(this.$o){this.EC("edit",v);
this.afl(v)}this.$o=null};H.jo=function(){H.IE.call(this,[10,44],H.a25,"tools/oselect");this.z1="crosshair";
this.adz=0};H.jo.prototype=new H.IE;H.jo.prototype.y1=function(J,v,x,o){if(Math.random()<1/(1+this.adz)){alert("The cross should be fully inside the object.",3500);
this.adz++}};H.jo.prototype._k=function(J,v,x,o){H.iO.KB(J,H.IE.oN,this.mm);if(!o.x4||!this.bn)return;
var R=this.ca(J,x,!1),r=R.r,l=R.$,M=R.x,P=R.y,S=R.x+r,c=R.y+l,b=M+r/2,w=P+l/2,U=H.jo.a27;J.dB.xt={T:[M,P,S,P,S,c,M,c,b-r*U,w,b+r*U,w,b,w-l*U,b,w+l*U],Wp:"M L L L Z M L M L".split(" ")};
J.ms=!0};H.jo.a27=.12;H.jo.prototype.Vg=function(J,v,x,o){J.dB.xt=null;J.ms=!0;this.finish(J,v,x,o)};
H.jo.prototype.getSelection=function(J,v,x,o){if(this.Z7.Ym(this.VQ)||!this.bn)return null;var R=this.ca(J,x,!1),r=J.k[J.Y[0]];
if(R.L3()||!R.Rt(r.S))return null;return H.IE.JL("ObSl",R)};H.iO=function(){H.P8.call(this,[10,37],H.v2,"tools/qselect");
this.kg="qselect"};H.iO.prototype=new H.P8;H.iO.prototype._N=function(J,v,x,o,R){if(J.Y.length==0){alert("Select a layer first.");
return}H.iO.KB(J,H.IE.oN,v,!0);this.g4(J,x,o,R,1);if(this.XO==null)return;this.aH(J)};H.iO.prototype.kq=function(J,v,x,o,R){this.r2(J,v,x);
H.iO.KB(J,H.IE.oN,v);if(this.R3)this.bL(J,x,R);if(this.XO==null)return;if(!R.x4)return;var r=this.hz(J,x,o,R);
if(r!=1)this.aH(J)};H.iO.KB=function(J,v,x,o){if(J.Y.length==0)return;if(J&&v.key!=H.iO.eg(J)){v.key=H.iO.eg(J);
var R=J.k[J.Y[0]].S.o(),l="Image Analysis ...";if(R==0)return;var r=R>1e6&&o!=!0,M=new dd(j.E.j,!0);
M.data={R:j.m.A9,oy:l};if(r)x.a(M);var P=function(){var S=H.iO.axX(J);for(var c in S)v[c]=S[c];var M=new dd(j.E.j,!0);
M.data={R:j.m.fz,oy:l};if(r)x.a(M)};if(o)P();else setTimeout(P,30)}};H.iO.eg=function(J){var v=J.Y[0],x=J.k[v],o=x.S,R=o.r,r=o.$,l=R*r,M=x.buffer;
return[v,o.x,o.y,R,r,M[0],M[1],M[2],M[3]].join(",")};H.iO.axX=function(J){var v=J.Y[0],x=J.k[v],o=x.S,R=o.r,r=o.$,l=R*r,M=x.buffer,P=Date.now(),S=g.C(l);
S.fill(128);var c=g.wc.ZS(M,R,r);console.log(Date.now()-P);var b={key:H.iO.eg(J),zu:M,S:o.Q(),BK:R,mq:r,BP:12,MN:S,Fs:c,g:g.C(l),_I:null,jq:null,Fz:null};
H.iO.tv(b,null,J);return b};H.iO.tv=function(J,v,x){var o=J.BK,R=J.mq,r=0,l=0,M=Date.now(),P=J._I!=null&&g.wc.h_(J._I.D0,J._I.Lo,J.MN)==-1;
r=Date.now()-M;M=Date.now();if(!P){var S=g.wc.h_(J.Fs.D0,J.Fs.Lo,J.MN),c=0;while(S!=-1){var b=[],w=[],U=J.Fs.D0;
for(var F=0;F<R;F++)for(var Y=0;Y<o;Y++){var h=F*o+Y;if(U[h]==S){var A=J.MN[h];if(A==0)b.push(Y,F);if(A==255)w.push(Y,F)}}var G=x.k[x.Y[0]],n=G.buffer;
g.wc.ZS.eo(n,o,R,J.Fs,b,w);S=g.wc.h_(J.Fs.D0,J.Fs.Lo,J.MN);c++;if(c>=10){console.log("too many subdivisions");
break}}J._I=g.wc.Ap(J.Fs,o,R,J.MN,J.BP);J.jq=g.wc.auB(J.zu,o,R,J._I.D0,J._I.Lo);J.Fz=[J.jq[0].slice(0),[]];
l=Date.now()-M;M=Date.now()}var M=Date.now();if(v){J.Fz[0].set(J.jq[0]);var E=J.jq[1],K=J.Fz[1];for(var e=0;
e<E.length;e++)K[e]=E[e].slice(0);g.wc.ahI(J._I.D0,o,R,J._I.Lo,J.MN,J.g,J.Fz)}};H.tf=function(){H.AA.call(this,[10,50],H.LW,"tools/artb");
this.rD=null;this.IH=!1;this.d7=null;this.l1=!1;this.awD=null;this.RP=100;this.GV=null;this.vq=0};H.tf.prototype=new H.AA;
H.tf.prototype.vE=function(J,v,x,o,R){this.j0(x,J.a4c,v,J.tj)};H.tf.a1y=function(J,v){var x=J[0],o=0,R=0;
if(x==0)R=-1;else if(x==1)o=1;else if(x==2)R=1;else o=-1;return[20/v.zg,J[1]+o*60/v.zg,J[2]+R*60/v.zg]};
H.tf.prototype.zN=function(J,v,x,o,R){this.rD=J.Fu;this.vq=Date.now()};H.tf.prototype.W6=function(J,v,x,o){if(x.Lz!=this.id)return;
if(J==null||J.Y.length!=1){this.cC(J);return}var R=J.Y[0],r=J.k[R],l=r.add.artb;if(l==null){this.cC(J);
return}if(this.l1)return;if(Date.now()-this.vq>50){this.rD={};var M=["artboardBackgroundType","Clr"];
for(var h=0;h<M.length;h++)if(l[M[h]])this.rD[M[h]]=g.F(l[M[h]]);var P=new dd(j.E.j,!0);P.data={R:j.m.hf,J:this.id,JZ:this.rD};
v.a(P)}var S=r.Gf(),c=g.b.ho(S).T,b=this.d7=new jY(c,!0,!1,!1,!0,!1,3,!1);b.N9(J,x,!1);var w={T:[1,0],Wp:["M"]};
for(var h=1;h<30;h++){var U=Math.PI*2*h/30;w.T.push(Math.cos(U),Math.sin(U));w.Wp.push("L")}w.Wp.push("Z","M","L","M","L");
w.T.push(-.5,0,.5,0,0,-.5,0,.5);var F=S.x+S.r/2,Y=S.y+S.$/2,A=this.RP*1.1,G=this.awD=[F,S.y,S.x+S.r,Y,F,S.y+S.$,S.x,Y],n=[0,-A,A,0,0,A,-A,0],E=J.root.children;
J.dB.Tl=[];for(var h=0;h<4;h++){var K=new aG(G[h*2]+n[h*2],G[h*2+1]+n[h*2+1]),e=!1;for(var $=0;$<E.length;
$++){var r=E[$].w;if(r.add.artb==null)continue;var S=r.Gf();if(S.bB(K))e=!0}if(e){G[h*2]=1e9;continue}J.dB.Tl.push([h,G[h*2],G[h*2+1]])}};
H.tf.prototype.disable=function(J,v,x,o,R){this.cC(J)};H.tf.prototype.cC=function(J){if(this.d7){this.d7.clear(J);
this.d7=null;J.dB.Tl=null}};H.tf.prototype._N=function(J,v,x,o,R){this.vq=Date.now();var r=J.U.hW(R.x,R.y),l=this.d7;
if(l){var M=new dd(j.E.G),P=l.QQ(null,r,J,R);if(P<9){this.l1=l._N(J,x,o,r,null,!0,R);return}else if(l.I6(r)){M.J=H.VO;
M.data={R:"disabAuto"};v.a(M);var S=new dd(j.E.j);S.data={R:j.m.lE,J:H.VO,aj_:!0};v.a(S);return}else{var c=-1,b=J.dB.Tl;
for(var h=0;h<b.length;h++){var w=H.tf.a1y(b[h],J.U);if(aG.Aj(r,new aG(w[1],w[2]))<w[0])c=b[h][0]}if(c!=-1){var U=J.k[J.Y[0]].Gf(),F=U.Q(),Y=(c==0||c==2?U.$:U.r)+this.RP;
if(c==0||c==3)Y=-Y;if(c==0||c==2)U.y+=Y;else U.x+=Y;if(o.M(gw.i4)){var A=new jj(0,0,J.r,J.$);M.J=H.wu;
M.data={R:m.Qi};v.a(M);H.Io.dO(J,J.yw(null,J.Y[0],null,!0),null,U.x-F.x,U.y-F.y);J.Y=J.Y.slice(J.Y.length-1);
var G=H.cD.MR(J);if(G){var n=J.Wo();n.data.P5=A;n.data.IB=G;n.data.Sg=J.Y}}else this.j0(J,U,v);return}}}this.GV=H.Io.a4(J,r,x)};
H.tf.prototype.j0=function(J,v,x,o){if(o==null)o=0;var R=J.k.slice(0),r=[J.k.length+1],l=J.qL();l.v7(ea.get([1,16,0])+" "+(J.add.artd==null?1:J.root.children.length+1));
l.add.lsct=h2.Uk;l.$V(v);if(this.rD){var M=l.add.artb,P=this.rD;for(var S in P)M[S]=P[S]}l.gR="pass";
l.eW=24;if(o==0){if(J.add.artd||v.Xt(new jj(0,0,J.r,J.$)).L3())R.push(J.V4());else R.unshift(J.V4())}else{var c=J.yw();
c.sort(function(Y,A){return Y-A});var b=H.j9.XA(J,c,R.length-1,!1,null,!1),w=b.pop(),U=b.pop();R=b.pop();
R.splice(J.k.length-c.length,0,J.V4())}R.push(l);var F=new dd(j.E.G);F.J=H.wu;F.data={R:m.jS,i8:R,gb:r,hX:[1,16,2]};
x.a(F)};H.tf.prototype.kq=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=this.d7,M=this.GV;if(l){if(this.l1){l.kq(J,x,o,r)}else{var P=l.Nh(r,J.U.NT,null,R);
if(P==null)P="default";var S=new dd(j.E.j,!0);S.data={R:j.m.HX,O5:P};v.a(S)}}if(M){var c=this.X4(J,r,o,x);
J.dB.xt=g.b.ho(c);J.ms=!0;H.AA.Wi(R,c,J,x)}};H.tf.prototype.ER=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=this.GV;
if(this.l1){this.d7.ER(J,x,o,r);this.l1=!1;var M=g.b.jR(this.d7.ew()),P=m.wB(M),S=J.k[J.Y[0]],c=g.F(S.add.artb);
c.artboardRect.v=P;var b=new dd(j.E.G,!0);b.J=H.wu;b.data={R:m.D1,vo:c};v.a(b)}if(l){var w=this.X4(J,r,o,x);
if(w.o()>20)this.j0(J,w,v);J.dB.xt=null;J.ms=!0;this.GV=null;J.dB.kl=[]}};H.tf.prototype.X4=function(J,v,x,o){var R=this.GV,r=H.Io.a4(J,v,o),l=H.YP.ID(R,r,x,!0);
R=l[0];r=l[1];return g.b.jR([R.x,R.y,r.x,r.y])};H.uP=function(){H.AA.call(this,[10,50],H.h9,"tools/artb");
this.d7=null;this.cG=!1;this.f=null;this.Ec=null;this.mY=null;this.ua=null;this.azt=null;this.NR=null;
this.q8=null};H.uP.prototype=new H.AA;H.uP.prototype.V9=function(J,v){return J==gw.Fp||J==gw.hP};H.uP.prototype.lb=function(J,v,x,o){if(o.M(gw.Fp)||o.M(gw.hP))this.vE({R:"del"},v,J,o,x)};
H.uP.prototype.vE=function(J,v,x,o,R){var r=x.add.arts;this.Ec=JSON.stringify(r);if(J.R=="del"){for(var h=0;
h<r.length;h++)if(r[h].Y){r.splice(h,1);h--}}if(J.R=="new"){for(var h=0;h<r.length;h++)r[h].Y=!1;var l=x.Sd(),M=l.x+l.r+20;
r.push({ox:"Artboard "+(r.length+1),ZW:[M,l.y,M+100,l.y+100],Y:!0})}if(J.R=="rpl"){var P=0;for(var h=0;
h<r.length;h++)if(r[h].Y)P=h;r[P]=J.K}this.ayx(x);this.pN(x)};H.uP.prototype.disable=function(J,v,x,o,R){this.cG=!1};
H.uP.prototype.enable=function(J,v,x,o,R){this.cG=!0;this.f=x;this.pN(J)};H.uP.prototype.cC=function(J){};
H.uP.prototype._N=function(J,v,x,o,R){var r=this.q8=J.U.hW(R.x,R.y),l=J.add.arts;this.Ec=JSON.stringify(l);
var M=this.d7,P=M?M.Nh(r,J.U.NT,null,R):null,S=o.M(gw.aw)||o.M(gw.Yv);if(M&&!S&&(g.b.ni(M.ew()).bB(r)||P)){}else{var c=-1;
for(var h=0;h<l.length;h++)if(g.b.ni(l[h].ZW).bB(r))c=h;if(c==-1)this.yi(J,-1);else if(S)l[c].Y=!l[c].Y;
else this.yi(J,c);this.pN(J)}if(this.d7){this.d7._N(J,x,o,r,null,!0,R)}J.ms=!0};H.uP.prototype.kq=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=J.add.arts,M=JSON.parse(this.mY);
if(this.d7){this.d7.kq(J,x,o,r);if(R.x4){var P=g.b.ni(this.d7.ew()),S=this.azt,c=new bC;c.translate(-S.x,-S.y);
c.scale(P.r/S.r,P.$/S.$);c.translate(P.x,P.y);var b=this.d7.QQ(o,r,J,R);for(var h=0;h<l.length;h++){var w=l[h];
if(!w.Y)continue;if(g.b.ni(M[h].ZW).L3())w.ZW=[P.x,P.y,P.x+P.r,P.y+P.$];else{w.ZW=M[h].ZW.slice(0);g.b.u(w.ZW,c,w.ZW)}}if(b==10){H.Io.dO(J,this.ua,null,P.x-this.NR.x,P.y-this.NR.y);
this.NR=P}J.Ai()}var U="default",F=this.d7.Nh(r,J.U.NT,null,R);if(F)U=F;var Y=new dd(j.E.j,!0);Y.data={R:j.m.HX,O5:U};
v.a(Y)}else if(R.x4&&aG.Aj(r,this.q8)>=6/J.U.NT){l.push({ox:"Artboard "+(l.length+1),ZW:[0,0,0,0],Y:!0});
this.pN(J);this.d7._N(J,x,o,this.q8,null,!0,R)}};H.uP.prototype.ER=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y),l=J.add.arts,M=JSON.parse(this.mY),P=o.M(gw.aw)||o.M(gw.Yv);
if(!P&&aG.Aj(this.q8,r)<6/J.U.NT){var S=-1;for(var h=0;h<l.length;h++)if(g.b.ni(l[h].ZW).bB(r))S=h;if(S!=-1){this.yi(J,S);
this.pN(J)}if(g.b.ni(M[M.length-1].ZW).L3()){this.d7.clear(J);l.pop()}}if(this.d7){var c=this.d7.QQ(o,r,J,R);
this.d7.ER(J,x,o,r);if(!r.Ym(this.q8))this.ayx(J,c==10?r.aA(this.q8):null)}};H.uP.prototype.ayx=function(J,v){var x=new js([10,50],this);
x.data={EB:this.Ec,ra:JSON.stringify(J.add.arts)};if(v){x.data.Y=this.ua;x.data.rp=v}J.q$(x)};H.uP.prototype.pN=function(J){var v=J.add.arts,x=new jj,o=0,R=[];
for(var h=0;h<v.length;h++)if(v[h].Y){var r=g.b.ni(v[h].ZW);x=x.h0(r);J.root.zV(r,R);o++}if(o==0){if(this.d7)this.d7.clear(J);
J.ms=!0;this.d7=null;return}this.mY=JSON.stringify(v);this.ua=R;this.azt=this.NR=x;var l=g.b.ho(x).T;
this.d7=new jY(x.L3()?null:l,!0,!1,!1,!1,!1,3);if(!x.L3())this.d7.N9(J,this.f)};H.uP.prototype.yi=function(J,v){var x=J.add.arts;
for(var h=0;h<x.length;h++)x[h].Y=v==h};H.uP.prototype.MW=function(J,v){v.add.arts=JSON.parse(J.ra);
if(J.Y)H.Io.dO(v,J.Y,null,J.rp.x,J.rp.y);if(this.cG)this.pN(v);v.ms};H.uP.prototype.mJ=function(J,v){v.add.arts=JSON.parse(J.EB);
if(J.Y)H.Io.dO(v,J.Y,null,-J.rp.x,-J.rp.y);if(this.cG)this.pN(v);v.ms};function jY(J,v,x,o,R,r,l,M){this.Qk=null;
this.J7=J?J.slice(0):null;this.Jn=1;this.PF=4;this.VQ=null;this.Vc=null;this.G5=null;this.dW=-1;this.$o=null;
this.aex=!1;this.a3I=[];for(var h=0;h<8;h++)this.a3I.push(d2.ax_(0,PIMG.rotate,-.5,-.5,-45-h*45));this.a0I=v;
this.amS=x;this.aDU=o;this.adw=R;this.axh=r;this.tj=l;this.aGz=M==null?1:M}jY.prototype.a7P=function(){return this.dW!=-1};
jY.prototype.ew=function(){return this.J7.slice(0)};jY.prototype.DL=function(J){this.J7=J};jY.prototype.a3$=function(){return this.GN(this.J7)};
jY.prototype.aCh=function(){return this.PF};jY.prototype.amg=function(J){this.PF=J};jY.prototype.mt=function(J){if(J==null)J=this.J7;
if(this.PF==9)return this.VQ;else return this.GN(J)[this.PF]};jY.prototype.akJ=function(J){if(this.PF==9)this.VQ=J.Q();
else{var v=this.mt(),x=new bC(1,0,0,1,J.x-v.x,J.y-v.y);g.b.u(this.J7,x,this.J7)}};jY.prototype.VR=function(J){this.Jn=J};
jY.prototype.Nh=function(J,v,x,o,R){var r=this.aI(null,J,v,o),l;if(r==9)return"default";if(r==10){if(x)return null;
return!this.a0I?"move":null}if(r==-1||r==4)return null;if(r==11){var M=this.mt().aA(J);if(R==null)R=Math.atan2(M.y,M.x);
l=90-R*180/Math.PI;var P=Math.round(8*(l/360));P=(P+8)%8;return this.a3I[P]}else{var S=this.Ie(J,this.J7);
l=[135,90,45,180,0,0,225,270,315][r]*Math.PI/180;var c=g.O.e6(this.J7);return jY.aIW(c[0],c[3],l)}};
jY.aIW=function(J,v,x){var o=Math.atan2(-v,J);if(x)o+=x;var R="ew nesw ns nwse ew nesw ns nwse".split(" "),r=Math.round(8*(o/(2*Math.PI)));
r=(r+8)%8;return R[r]+"-resize"};jY.prototype.Ie=function(J,v){var x=g.O.SV(g.O.e6(v)),o=new Float64Array(2);
g.O.jf(J.x,J.y,x,o);return new aG(o[0],o[1])};jY.prototype.I6=function(J){var v=this.Ie(J,this.J7);return 0<=v.x&&v.x<=1&&0<=v.y&&v.y<=1};
jY.prototype._N=function(J,v,x,o,R,r,l,M){this.aex=r;this.$o=o;var P=J.U.NT,S;if(this.J7==null)o=H.Io.a4(J,o,v);
this.G5=o.Q();if(this.J7==null){if(M==null)M=0;var c=new bC;c.rotate(M);var b=c.Xw(new aG(1,1));this.G5.offset(b.x,b.y);
var w=R==null?1:1/R,U=this.J7=[0,0,1,0,1,w,0,w];c.translate(o.x,o.y);g.b.u(this.J7,c,this.J7);S=8}else{S=this.aI(x,o,P,l);
if(0<=S&&S<=8)this.G5=this.GN(this.J7)[S];if(S==9){this.PF=9;this.VQ=o.Q()}}this.Qk=this.J7.slice(0);
this.dW=S;this.N9(J,v);this.Vc=this.mt();return S!=-1};jY.prototype.QQ=function(J,v,x,o){return this.aI(J,v,x.U.NT,o)};
jY.prototype.aI=function(J,v,x,o){var R=-1,r=this.GN(),l=[0,2,6,8,1,3,5,7],M=o?H.rY({U:{NT:x}},o):8*H.rR()/x,P=aG.Aj(r[0],r[2]),S=aG.Aj(r[0],r[6]),c=this.Ie(v,this.J7);
c.x*=P;c.y*=S;var b=new jj(0,0,P,S);b.rz(M,M);if(R==-1)if(aG.Aj(this.mt(),v)<M)R=9;if(R==-1)for(var h=0;
h<l.length;h++)if(aG.Aj(r[l[h]],v)<M)R=l[h];if(R==-1&&b.bB(c)){if(Math.abs(c.y-0)<M)R=1;if(Math.abs(c.x-0)<M)R=3;
if(Math.abs(c.y-S)<M)R=7;if(Math.abs(c.x-P)<M)R=5}if(R==-1&&J&&J.M(gw.i4))R=9;if(R==-1||this.tj==4){if(this.I6(v)){if(this.a0I)R=10}else{var w=[3,.85][du];
b.rz(w*M,w*M);R=b.bB(c)&&this.tj!=3?11:10;if(R==10&&du==1)R=-1}}return R};jY.prototype.kq=function(J,v,x,o,R){if(this.dW==-1)return;
this.$o=o;var r=x&&x.M(gw.Yv),l=x&&x.M(gw.i4),M=x&&x.M(gw.aw),P=J.U.NT,S=this.G5,c=this.dW,b=this.GN(),w=H.Io.a4(J,S,v),U=H.Io.a4(J,o,v),F,Y;
if(c==9){var b=this.GN(),A=-1;for(var h=0;h<b.length;h++)if(aG.Aj(b[h],U)*P<10)A=h;this.PF=A==-1?9:A;
this.VQ=r?H.La.ga(w,U):U.Q()}else if(c==10){Y=g.b.ni(this.Qk);var G=Y.x,n=Y.y;Y.offset(o.x-S.x,o.y-S.y);
if(this.a6D()){Y.x=Math.round(Y.x);Y.y=Math.round(Y.y)}F=H.Io.XE(J,Y,v);var E=new bC(1,0,0,1,Y.x-G+F[0],Y.y-n+F[1]);
g.b.u(this.Qk,E,this.J7)}else if(c==11){var K=this.mt(this.Qk),e=K.aA(o),$=K.aA(S),N=Math.atan2(e.y,e.x),k=Math.atan2($.y,$.x),E=new bC(1,0,0,1,-K.x,-K.y),V=Math.PI/12;
if(r)E.rotate(Math.round((k-N)/V)*V);else E.rotate(k-N);E.translate(K.x,K.y);g.b.u(this.Qk,E,this.J7)}else{var X=r,Q;
if(R&&!M)X=!X;if(this.axh)X=!0;var L=this.Qk,_=c==0||c==2||c==6||c==8;if(this.tj==1){if(_)r=l=M=!0}else if(this.tj==2&&_&&this.aex!=!0)M=!0;
if(this.tj==3)M=!1;else if(this.tj==5){r=M=!0}if(this.aDU&&_&&M){var h=[0,0,2,0,0,0,6,0,4,0][c],a=-1,T=U.x,f=U.y;
if(r){var Z=h+6&7,W=h+10&7,D=jY.afh(L[h],L[h+1],L[Z],L[Z+1],U.x,U.y),C=jY.afh(L[h],L[h+1],L[W],L[W+1],U.x,U.y),d=D[2]<C[2]?D:C;
T=d[0];f=d[1];if(l)a=D[2]<C[2]?Z:W}else if(l)a=h+4&7;Q=L.slice(0);if(a!=-1){var p=L[a],y=L[a+1],i=(L[h]+p)/2,t=(L[h+1]+y)/2;
Q[a]=i-(T-i);Q[a+1]=t-(f-t)}Q[h]=T;Q[h+1]=f}else if(_&&l){var K=this.Vc,O=K.x,q=K.y,z=w.x-O,jw=w.y-q,u=1,iH=1;
if(Math.abs(z)>=1)u=(U.x-O)/z;if(Math.abs(jw)>=1)iH=(U.y-q)/jw;if(X)u=iH=(u+iH)/2;var E=new bC;E.translate(-O,-q);
E.scale(u,iH);E.translate(O,q);Q=L.slice(0);g.b.u(Q,E,Q)}else{if(this.a6D()){U.x=Math.round(U.x);U.y=Math.round(U.y)}var s=[0,1,2,5,8,7,6,3],bV=s[(s.indexOf(c)+4)%8],jU=[];
for(var h=0;h<3;h++)for(var a=0;a<3;a++)jU.push(new aG(a/2,h/2));var K=this.Vc,hx=l&&(this.PF==4||this.PF==9)?this.Ie(K,L):jU[bV],eX=l&&(this.PF==4||this.PF==9)?K:b[bV];
if(_&&X){function et(j4,dQ,eO){var a7=dQ[0]-j4[0],cc=dQ[1]-j4[1],ad=g.b.Ak(eO[0],eO[1],-cc,a7,j4[0],j4[1],a7,cc);
return[eO[0]-cc*ad,eO[1]+a7*ad]}while(!0){var f7=et([eX.x,eX.y],[S.x,S.y],[U.x,U.y]);f7=new aG(f7[0],f7[1]);
f7=H.Io.a4(J,f7,v);if(aG.Aj(f7,U)<1e-6)break;U=f7}}var iY=this.Ie(U,L),cd=this.Ie(S,L),jV=new bC,g2=new bC,u=(iY.x-hx.x)/(cd.x-hx.x);
if(u==0)u=1e-4;var iH=(iY.y-hx.y)/(cd.y-hx.y);if(iH==0)iH=1e-4;if(this.adw){u=Math.max(u,0);iH=Math.max(iH,0)}if(_){if(X)jV.scale(u,u);
else jV.scale(u,iH)}else if(c!=4){var gV=X,fD=M&&r;if(fD)gV=!1;if(c==1||c==7)jV.scale(gV?iH:1,fD?1:iH);
else jV.scale(fD?1:u,gV?u:1);if(this.amS&&M){if(c==1||c==7)g2.Mz=(iY.x-hx.x)/(iY.y-hx.y);else g2.c=(iY.y-hx.y)/(iY.x-hx.x)}}var E=new bC;
E.translate(-hx.x,-hx.y);E.concat(jV);E.concat(g2);E.translate(hx.x,hx.y);Q=[0,0,1,0,1,1,0,1];g.b.u(Q,E,Q);
var d=g.O.e6(L);g.O.u(d,Q)}if(jY.Ub(Q))this.J7=Q}this.N9(J,v);if(F)H.Io.SE(J,Y,F)};jY.afh=function(J,v,x,o,R,r){var l=x-J,M=o-v,P=R-J,S=r-v,c=l*l+M*M,b=P*l+S*M,w=b/c,U=J+w*l,F=v+w*M,Y=R-U,A=r-F;
return[U,F,Math.sqrt(Y*Y+A*A)]};jY.prototype.a6D=function(){var J=this.J7;return Math.abs(J[1]-J[3])<1e-6&&Math.abs(J[2]-J[4])<1e-6||Math.abs(J[0]-J[2])<1e-6&&Math.abs(J[3]-J[5])<1e-6};
jY.Ub=function(J){return g.b.amt(J)||g.b.amt([J[6],J[7],J[4],J[5],J[2],J[3],J[0],J[1]])};jY.prototype.ER=function(J,v,x,o){this.dW=-1;
this.$o=null;J.dB.Af=null;J.dB.kl=[];J.ms=!0};jY.prototype.lb=function(J,v,x){var o=x.m0(J?J.U.U1:0);
if(o.x||o.y){var R=new bC(1,0,0,1,o.x,o.y);g.b.u(this.J7,R,this.J7);this.N9(J,v);return!0}return!1};
jY.prototype.GN=function(J){if(J==null)J=this.J7;var v=J[6]-J[0],x=J[7]-J[1],o=J[4]-J[2],R=J[5]-J[3],r=[J[0],J[1],J[2],J[3],J[0]+v/2,J[1]+x/2,J[2]+o/2,J[3]+R/2,J[6],J[7],J[4],J[5]],l=[];
for(var h=0;h<3;h++){var M=h*4,P=r[M+0],S=r[M+1],c=r[M+2],b=r[M+3];l.push(new aG(P,S));l.push(new aG(P+(c-P)/2,S+(b-S)/2));
l.push(new aG(c,b))}return l};jY.prototype.N9=function(J,v,x){if(J.dB==null)return;if(x==null)x=!1;var o=this.Jn,R=this.GN(),r=R[0],l=R[2],M=R[6],P=R[8],S={Wp:[],T:[]};
if(o==0)J.dB.xt=S;else J.dB._5=S;var c=g.O.e6([r.x,r.y,l.x,l.y,P.x,P.y,M.x,M.y]);S.Wp.push("M","L","L","L","Z");
S.T.push(0,0,1,0,1,1,0,1);var b=this.aGz;if(b>1){J.dB.zj=g.F(S);g.O.u(c,J.dB.zj.T);for(var h=1;h<b;h++){var w=h/b;
S.Wp.push("M","L","M","L");S.T.push(0,w,1,w,w,0,w,1)}}g.O.u(c,S.T);J.U.bh=new jj(0,0,aG.Aj(R[0],R[2]),aG.Aj(R[0],R[6]));
if(this.dW!=-1&&this.dW<9&&this.$o){var U=J.U.Lp(this.$o.x,this.$o.y);H.AA.Wi(U,J.U.bh,J,v)}if(!x){var F=[];
if(o==0)J.dB.f3=F;else J.dB.$C=F;for(var h=0;h<R.length;h++)if(h!=4)F.push(R[h].x,R[h].y);var Y=this.mt();
F.push(Y.x,Y.y)}J.ms=!0};jY.prototype.clear=function(J){J.U.bh=null;J.dB.Af=null;J.dB.xt=null;J.dB._5=null;
J.dB.zj=null;J.dB.f3=[];J.dB.$C=[];J.ms=!0};function eB(J){this.wL=null;this.dW=-1;this.XS=null;this.aAi=null;
this.xW=null;this.Qe=-1;this.apg=null;this.atU(J)}eB.prototype.Nl=function(){return g.F(this.wL)};eB.prototype.atU=function(J){this.wL=g.F(J)};
eB.prototype.aAg=function(J){this.Qe=J};eB.prototype.I6=function(J){return!0};eB.prototype.Nh=function(J,v,x,o){var R=this.aI(J,v,o);
if(R==-1)return"default";return"pointer"};eB.prototype._N=function(J,v,x,o,R,r,l){if(this.Qe!=-1)return!0;
this.dW=this.aI(o,J.U.NT,l);var M=g.wL.Um(this.wL),P=g.ZH.wt(M,o),S=0<P[0]&&P[0]<1&&0<P[1]&&P[1]<1;this.XS=S?P:null;
this.aAi=JSON.stringify(M);this.apg=JSON.stringify(this.wL);this.xW=o;return this.dW!=-1||S};eB.prototype.aI=function(J,v,x){var o=x?H.rY({U:{NT:v}},x)*2:20*H.rR()/v,R=this.wL,r=eB.aCy(R),l=-1;
if(r){l=g.b.CK(r,J.x,J.y,o);if(l!=-1)l+=1e6}else{var M=g.wL.Um(R);l=g.b.CK(M[3],J.x,J.y,o);if(l!=-1&&this.Fb(M,l)==null)l=-1}return l};
eB.prototype.kq=function(J,v,x,o){if(this.Qe!=-1)return;var R=this.wL,r=this.dW,l=this.XS,M=JSON.parse(this.aAi),P=M[0],S=M[1],c=M[3];
if(r>=1e6){var b=R.warpStyle.v.warpStyle,w=g.wL.ca(R);if(b=="warpCylinder"){this.wL=R=JSON.parse(this.apg);
var U=H.ge.t1(R.warpValues),F=(U[2]-U[0])/(U[1]-U[3]),Y=U[4]*F*w.$,A=U[5]*F*w.$,G=o.x-this.xW.x,n=o.y-this.xW.y;
U[0]=w.x;U[1]=w.y+w.$;U[2]=w.x+w.r;U[3]=w.y;r-=1e6;if(r==0){U[0]+=G;U[1]+=n}if(r==1){U[2]+=G;U[3]+=n}if(r==2){Y+=2*n;
A+=2*n}if(r==3){A+=2*n}if(r==4){U[6]=Math.max(0,Math.min(1,U[6]-2*G/w.r))}var E=g.b.ni(U.slice(0,4)),K=E.r/w.r,e=E.$/w.$;
U[4]=Y/E.r;U[5]=A/E.r;R.warpValues=H.ge.y7(U);var $=new bC;$.translate(-w.x,-w.y);$.scale(K,e);$.translate(E.x,E.y);
if(r<4)return $}else{var N=R.warpRotate.v.Ornt,k=N=="Vrtc",V=g.wL.akK[b],X=k?-o.x/w.r:-o.y/w.$;X+=V[1];
if(V[1]>.5)X=-X;X/=V[2];var K=w.r/w.$;if(k)K=1/K;if(V[3])X/=K;R.warpValue.v=100*Math.max(-1,Math.min(1,X))}}else if(r!=-1){var Q=[r],G=o.x-c[r*2],n=o.y-c[r*2+1];
if(P*S>16){var L=this.Fb(M,r);if(L[0]==0){var _=Math.floor(r/P),a=r-_*P;if(a>0)Q.push(r-1);if(a<P-1)Q.push(r+1);
if(_>0)Q.push(r-P);if(_<S-1)Q.push(r+P)}}for(var h=0;h<Q.length;h++){c[Q[h]*2]+=G;c[Q[h]*2+1]+=n}g.wL.vf(R,M)}else if(l){g.ZH.ato(M,l[0],l[1],o.x-this.xW.x,o.y-this.xW.y);
g.wL.vf(R,M)}};eB.prototype.ER=function(J,v,x,o){var R=this.Qe;this.XS=null;this.Qe=-1;if(R!=-1){var r=g.wL.Um(this.wL),l=g.ZH.wt(r,o);
if(R==0||R==1)g.ZH.split(r,0,l[0]);if(R==0||R==2)g.ZH.split(r,1,l[1]);g.wL.vf(this.wL,r)}J.ms=!0;return R!=-1};
eB.prototype.lb=function(J,v,x){var o=x.m0();if(o.x||o.y){var R=new bC(1,0,0,1,o.x,o.y);g.b.u(this.J7,R,this.J7);
this.N9(J)}};eB.prototype.Fb=function(J,h){var v=J[0],x=J[1],o=this.dW,R=Math.floor(o/v),r=o-R*v,l=o%3,M=o%3,P=l==0&&M==0,R=Math.floor(h/v),r=h-R*v,l=r%3,M=R%3;
if(l!=0&&M!=0)return null;if(l==0&&M==0)return[0];else{var S=0;if(M==0)S=l==1?h-1:h+1;if(l==0)S=M==1?h-v:h+v;
if(v*x>16){var c=o==h||o==h+1||o==h-1||o==h+v||o==h-v;if(P&&(c||o==h+2||o==h-2||o==h+2*v||o==h-2*v)){}else if(!P&&c){}else return null}return[1,S]}};
eB.aCy=function(J,v){var v=J.warpStyle.v.warpStyle,o;if(v=="warpCustom"||v=="warpNone")return null;var x=g.wL.Um(J);
if(v=="warpCylinder"){var R=J.warpValues.v;o=[0,1,1,0,.5,0,.5,1,.75-.25*R[6].v,.5]}else{var r=J.warpRotate.v.Ornt,l=g.wL.akK[v];
o=r=="Hrzn"?[l[0],l[1]]:[l[1],l[0]]}g.ZH.u(x,o,new jj(0,0,1,1));return o};eB.prototype.N9=function(J,v){var x=this.wL,o=x.warpStyle.v.warpStyle,R=g.wL.Um(x),r=R[0],l=R[1],M=R[3],P=J.dB._5={Wp:[],T:[]},S=J.dB.$C=[],c=J.dB.Ti=[],b=this.dW;
if(o=="warpCustom"||o=="warpNone")for(var w=0;w<l;w++)for(var U=0;U<r;U++){var h=w*r+U,F=this.Fb(R,h);
if(F==null)continue;var Y=M[2*h],A=M[2*h+1],G=c;if(F[0]==0)G=h==b&&r*l>16?c:S;else{var n=F[1];P.Wp.push("M","L");
P.T.push(Y,A,M[2*n],M[2*n+1])}G.push(Y,A)}else{var E=eB.aCy(x);if(E)for(var h=0;h<E.length;h++)S.push(E[h])}for(var w=0;
w+1<l;w+=3)for(var U=0;U+1<r;U+=3){P.Wp.push("M","C","C","C","C");var h=w*r+U,K=h+r+r,e=[h,h+1,h+2,h+3,h+r+3,K+3,K+r+3,K+r+2,K+r+1,K+r,K,h+r,h];
for(var h=0;h<e.length;h++){var Y=M[e[h]*2],A=M[e[h]*2+1];P.T.push(Y,A)}}var $=[],N=[];function k(V,U,L){for(var e=0;
e<=L;e++){N.push(e==0?"M":"L");if(V==0)$.push(U,e/L);else $.push(e/L,U)}}if(v)v=g.ZH.wt(R,v);for(var V=0;
V<2;V++){var X=R[2][V],Q=V==0?r:l,L=Q*5;for(var _=1;_<Q;_++){var a=Math.floor((_-1)/3),T=_-(1+a*3);if(T==0)continue;
var U=X[a]+T/3*(X[a+1]-X[a]);k(V,U,L)}var f=this.Qe;if(v&&f!=-1&&(f==0||f-1==V))k(V,v[V],L)}g.ZH.u(R,$,new jj(0,0,1,1));
g.b.concat(P,{T:$,Wp:N});J.ms=!0};eB.prototype.clear=function(J){J.dB._5=null;J.dB.$C=[];J.dB.Ti=[];
J.ms=!0};function cg(){this.$x=!1;this.c4=!1;this.aI7=!1;this.aJ5=!1;this.k6=!1;this.sa=!1;this.kd=0;
this.et=0}cg.prototype._N=function(J){this.$x=!0;this.c4=!1;this.k6=J.M(gw.Yv);this.sa=J.M(gw.i4);this.kd=this.k6?0:1;
this.et=this.sa?0:1};cg.prototype.lb=function(J){var v=this.aJ5=J.M(gw.Yv),x=this.aI7=J.M(gw.i4);if(this.c4){if(this.kd==0&&!v)this.kd++;
if(this.kd==1&&v)this.kd++;if(this.et==0&&!x)this.et++;if(this.et==1&&x)this.et++}};cg.prototype.kq=function(){this.c4=!0};
cg.prototype.ER=function(){this.$x=!1};cg.prototype.rA=function(h){if(h==0)return this.$x?this.sa:this.aI7;
if(h==1)return this.c4?this.et==2:!1};cg.prototype.Na=function(h){if(h==0)return this.$x?this.k6:this.aJ5;
if(h==1)return this.c4?this.kd==2:!1};H.History=function(){H.AA.call(this,"History",H.iI);this.xj=!0;
this.a6G=0};H.History.prototype=new H.AA;H.History.prototype.vE=function(J,v,x,o){x.Se=!0;if(J.R=="h_itemchange"){if(J.index<x.wb)for(var h=x.wb;
h>J.index;h--)this.An(x);if(J.index>x.wb)for(var h=x.wb;h<J.index;h++)this.eh(x)}if(J.R=="h_stepfwd")this.eh(x);
if(J.R=="h_stepbck")this.An(x);if(J.R=="h_undoredo"){var R=this.xj||this.a6G!=x.wb;if(R){this.An(x);
R=!1}else{this.eh(x);R=!0}this.xj=R;this.a6G=x.wb}if(J.R=="h_clear"){if(J.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
x.history=[new js([1,0],null)];x.wb=0}else this.xj=!0};H.History.prototype.An=function(J){if(J.wb==0)return;
var v=J.history[J.wb];v.J.mJ(v.data,J);J.wb--};H.History.prototype.eh=function(J){if(J.wb==J.history.length-1)return;
var v=J.history[J.wb+1];v.J.MW(v.data,J);J.wb++};H.j9=function(){H.AA.call(this,"Layers",H.wu);this.mm=null};
H.j9.prototype=new H.AA;H.j9.prototype.vE=function(J,v,x,o,R){this.mm=v;var r=J.R,l=J.w!=null?J.w:x.Y.length!=0?x.Y[0]:x.k.length-1,M=x.k[l];
x.wj=!0;var P=o.M(gw.i4),S=o.M(gw.Yv),c=o.M(gw.aw);if(r==m.nF&&x.g==null&&(x.Y.length>1||!x.hH(!1)||x.k[x.Y[0]].tX()))r=m.Qi;
if(r==m.xT){var b=new js([6,33],this),w=M.tX()?["pass"].concat(gX.qI):gX.qI,U=w[J.ra],F=J.w!=null?[J.w]:x.Y,Y=JSON.stringify(F),A=[];
for(var h=0;h<F.length;h++)A.push(x.k[F[h]].gR);b.data={R:r,UU:Y,FG:A,ra:U};x.q$(b);this.MW(b.data,x);
this.track(kj.EH("Md",{t:"enum",v:{BlnM:gX.Pp(U)}}))}if(r==m.oh){var b,G=x.Wo(),F=J.w!=null?[J.w]:x.Y,Y=JSON.stringify(F);
if(G&&G.data&&G.data.R==r&&G.data.UU==Y)b=G;else{var n=kj.EH("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(n);var A=[];for(var h=0;h<F.length;h++)A.push(x.k[F[h]].fc);b=new js([6,32],this);b.data={R:r,UU:Y,FG:A,ra:J.ra,DD:n._g};
x.q$(b)}b.data.ra=J.ra;b.data.DD.T.v.Opct.v.val=Math.round(J.ra*100/255);this.MW(b.data,x)}if(r==m.rS){if(M.add.iOpa==null)M.add.iOpa=255;
var b,G=x.Wo();if(G&&G.data&&G.data.R==r&&G.data.w==l)b=G;else{b=new js("Fill Opacity Change",this);
b.data={R:r,w:l,FG:M.add.iOpa,ra:J.ra};x.q$(b)}b.data.ra=J.ra;this.MW(b.data,x)}if(r==m.Ey){var E=J.ra,K=J.w!=null?[J.w]:x.Y.slice(0),e=[],$=[],b;
for(var N=0;N<K.length;N++){var k=x.k[K[N]];if(k.add.lspf==null)k.add.lspf=0;var A=k.add.lspf,U=A;for(var h=0;
h<E[0].length;h++){var V=E[1][h],X=1<<V;if((U&X)==0&&E[0][h])U^=X;else if((U&X)!=0&&!E[0][h])U^=X}e.push(A);
$.push(U)}var G=x.Wo(),F=JSON.stringify(K);if(G&&G.data&&G.data.R==r&&JSON.stringify(G.data.UU)==F){b=G;
b.data.ra=$}else{var b=new js([6,57,1],this);b.data={R:r,UU:F,FG:e,ra:$};x.q$(b)}this.MW(b.data,x)}if(r==m.ML){var Q="----",L=J.Ck,U=null;
for(var h=0;h<gy.iu.ZF.length;h++)if(M.add[gy.iu.ZF[h]])Q=gy.iu.ZF[h];var _=M.add[Q];if(L=="TySh")U=bI.Q6(50,50,R.oC);
var b=new js("Layer Type",this);b.data={R:r,w:l,ayz:[Q,_],Ck:[L,U]};x.q$(b);this.MW(b.data,x)}if(r==m.MA){var K=[];
if(P){var a=x.Wo(),T=a?a.data:null;if(a!=null&&a.J==this&&T.R==m.MA&&T.UU.length!=1){var f=new dd(j.E.G);
f.J=H.iI;f.data={R:"h_stepbck"};v.a(f);if(T.w==l)return}var Z=x.root.jJ(l),W=Z,D=[J.w];while(W.parent!=x.root){D.push(W.parent.index);
W=W.parent}for(var h=0;h<x.k.length;h++){var C=x.k[h],W=x.root.jJ(h),d=D.indexOf(h)!=-1?!0:C.jh()&&Z.depth<W.depth;
if(d!=C.jh())K.push(h)}}else if(J.UU)K=J.UU;else{K.push(l);var p=x.k[l].jh(),n={QI:p?"hide":"show",_g:{classID:p?"Hd":"Shw",null:{t:"VlLs",v:[kj.RS("Lyr",!0)]}}};
this.track(n)}var b=new js("Layer visibility",this,!0);b.data={R:r,UU:K,w:l};x.q$(b);this.MW(b.data,x)}if(r==m.iN){if(R.Lz==H.LW){var y=new dd(j.E.j);
y.data={R:j.m.lE,J:H.VO};v.a(y)}var i=J.aoX,t=J.dk,z,escape=!1,jw=!1;if(J.py){if(c&&(t==0||t==1||t==2)){var O=0;
if(S)O++;if(P)O+=2;var q=new dd(j.E.G,!0);q.J=H.ZT;q.data={R:"fromlayer",Yk:[J.w,t,O]};v.a(q);return}}var n={QI:"select",_g:{classID:"null",MkVs:{t:"bool",v:!1}}};
x.a2c();if(o.M(gw.aw)||J.yI==0){var u=x.Y.indexOf(l);if(u==-1)x.Y.push(l);else if(x.Y.length>1){if(J.yI!=0)x.Y.splice(u,1)}x.Y.sort(function(b,kG){return b-kG});
n._g.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};z=l}else if(S&&!P&&t>0){r=t==1?m.Tv:t==2?m.gO:m.E_;
escape=!0}else if((S||J.yI==1)&&x.Y.length>0){var iH=Math.min(l,x.Y[0]),s=Math.max(l,x.Y[x.Y.length-1]);
x.Y=[];for(var h=iH;h<=s;h++)if(x.k[h].add.lsct!=h2.lj)x.Y.push(h);n._g.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
z=l}else{z=l;if(l>=x.k.length)return;var C=x.k[l];if(C&&C.tX()&&J.a6b)C.add.lsct=h2.Uk;else if(x.Y.length==1&&x.Y[0]==l&&Math.max(0,t)==C.kG){jw=!0;
x.wj=!1}if(!jw){x.Y=[l];x.oc()}}if(!jw){if(z!=null&&z<x.k.length){n._g.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:x.k[z].getName()}}]},this.track(n)}if(!escape){console.log("no escape");
if(x.Y.length==1){var bV=x.Y[0];for(var h=0;h<x.k.length;h++){if(h==bV)continue;var k=x.k[h];k.kG=0;
k.CE=!1}var M=x.k[bV];if(t==2){M.CE=!M.CE;x.GP=[]}else if(M){M.kG=t<=0?0:t}}else for(var h=0;h<x.k.length;
h++){var k=x.k[h];k.kG=0;k.CE=!1}x.TW=null;x.Se=!0}}if(J.py&&P){if((t==1||t==3)&&i!=null){var q=new dd(j.E.G,!0);
q.J=H.C5;q.data={R:"mskView",K:i!=0?0:S?1:2};v.a(q)}else{this.vE({R:m.Pe,w:J.w},v,x,o,R)}}}if(r==m.Tv||r==m.E_){var jU=r==m.Tv,hx=jU?M.q9():M.V0(x).pR;
if(hx==null)return;var b=new js(hx.isEnabled?jU?[6,15]:[6,42]:jU?[6,14]:[6,41],this);b.data={R:r,w:l};
x.q$(b);this.MW(b.data,x)}if(r==m.gO){var hx=M.add.vmsk;if(hx==null)return;var b=new js(hx.isEnabled?[6,17]:[6,16],this);
b.data={R:r,w:l};x.q$(b);this.MW(b.data,x)}if(r==m.abF){var eX=M.add.lsct==h2.Uk?h2.Le:h2.Uk,W=x.root.jJ(x.k.indexOf(M)),iY=!1;
if(o.M(gw.aw)){var et=W.parent;for(var h=0;h<et.children.length;h++){var f7=et.children[h].w;if(f7.tX())f7.add.lsct=eX}}else M.add.lsct=eX;
for(var h=0;h<x.Y.length;h++){var cd=x.Y[h];if(W.UE<cd&&cd<W.index)iY=!0}if(iY)x.Y=[W.index];x.Se=!0}if(r==m.Pe){if(!x.Kn(l))return;
var b=new js(M.Hv?[6,19]:[6,18],this);b.data={R:r,w:l};x.q$(b);if(J.ra==null||J.ra!=M.Hv)this.MW(b.data,x)}if(r==m.ajL){if(M.ui())M.eW-=32;
else M.eW+=32;x.Se=!0}if(r==m.gg||r==m.J6){var b;if(r==m.gg)b=new js(M.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(r==m.J6)b=new js(M.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);b.data={R:r,w:l};x.q$(b);this.MW(b.data,x)}if(r==m.YM||r==m.Zj){var bV=J.index,b;
if(r==m.YM)b=new js(M.add.lmfx[gD.Lw[bV[0]]].v[bV[1]].v.enab.v?[6,30,0]:[6,29],this);if(r==m.Zj)b=new js(M.add.SoLd.filterFX.v.filterFXList.v[bV].v.enab.v?[6,44]:[6,43],this);
b.data={R:r,w:l,index:J.index};x.q$(b);this.MW(b.data,x)}if(r==m.NK){if(J.src==J.Gm)return;var jV=x.k[J.src],g2=x.k[J.Gm],gV=jV.add.lmfx?JSON.stringify(jV.add.lmfx):"",fD=g2.add.lmfx?JSON.stringify(g2.add.lmfx):"";
if(g2.add.lmfx==null){g2.add.lmfx=JSON.parse(gD.default);for(var h=0;h<gD.order.length;h++)g2.add.lmfx[gD.Lw[h]]={t:"VlLs",v:[]}}if(J.i2==null){g2.add.lmfx=JSON.parse(gV);
if(!P)delete jV.add.lmfx}else{var j4=J.i2[0],dQ=gD.Lw[j4];if(gD.aBV.indexOf(gD.order[j4])==-1)g2.add.lmfx[dQ].v=[];
g2.add.lmfx[dQ].v.push(jV.add.lmfx[dQ].v[J.i2[1]]);if(!P)jV.add.lmfx[dQ].v.splice(J.i2[1],1)}var eO=jV.add.lmfx?JSON.stringify(jV.add.lmfx):"",a7=g2.add.lmfx?JSON.stringify(g2.add.lmfx):"";
if(!g2.ui())g2.eW+=32;var b=new js("Move Layer Styles",this);b.data={R:r,hQ:J.src,uw:J.Gm,a5V:gV,a8O:fD,aky:eO,ajU:a7};
x.q$(b);this.MW(b.data,x)}if(r==m.MQ){if(J.src!=null)l=J.src;var k=x.k[l],cc=JSON.stringify(k.add.SoLd),ad=JSON.parse(cc),jC=ad.filterFX.v.filterFXList.v;
jC.splice(J.i2,1);var b=new js([6,53],this);b.data={R:m.BE,pw:[{rk:l,ZO:[cc,JSON.stringify(ad)]}]};x.q$(b);
this.MW(b.data,x)}if(r==m.a0j){var iJ=P,jV=x.k[J.src],g2=x.k[J.Gm],kJ=[];if(jV!=g2&&g2.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(jV==g2&&!iJ&&J.i2==J.Un)return;if(jV==g2&&J.i2==-1)return;var jr=jV.V0(x),cc=JSON.stringify(jV.add.SoLd),ad=JSON.parse(cc),jC=ad.filterFX.v.filterFXList.v;
if(jV==g2){jC.splice(J.Un,0,jC[J.i2]);if(!iJ)jC.splice(J.i2+(J.i2<J.Un?0:1),1);kJ.push({rk:J.src,ZO:[cc,JSON.stringify(ad)]})}else if(J.i2==-1){var fY=ad.filterFX;
if(!iJ){delete ad.filterFX;kJ.push({rk:J.src,ZO:[cc,JSON.stringify(ad)],hF:[jr,null]})}var iR=g2.Ov()?g2.V0(x):null,g6=d7.a1K(jr),ay=JSON.stringify(g2.add.SoLd),cQ=JSON.parse(ay);
cQ.placed.v=g6.id;cQ.filterFX=fY;kJ.push({rk:J.Gm,ZO:[ay,JSON.stringify(cQ)],hF:[iR,g6]})}else{var aC=jC[J.i2];
if(!iJ){jC.splice(J.i2,1);kJ.push({rk:J.src,ZO:[cc,JSON.stringify(ad)]})}var ay=JSON.stringify(g2.add.SoLd),cQ=JSON.parse(ay);
if(cQ.filterFX==null)cQ.filterFX=a8.Ky();var dI=cQ.filterFX.v.filterFXList.v;dI.splice(J.Un,0,aC);var fm={rk:J.Gm,ZO:[ay,JSON.stringify(cQ)]};
if(!g2.Ov()){var g6=d7.a3Z(g2.add.SoLd.placed.v);fm.hF=[null,g6]}kJ.push(fm)}var b=new js([6,52],this);
b.data={R:m.BE,pw:kJ};x.q$(b);this.MW(b.data,x)}if(r==m.eq){var hx=M.q9(),b=new js(hx.DE?[6,26]:[6,25],this);
b.data={R:r,w:l};x.q$(b);this.MW(b.data,x);this.track({QI:"set",_g:{classID:"setd",null:{t:"obj ",v:[kj.RS("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:hx.DE}}}}})}if(r==m.Rx){var hx=M.add.vmsk,b=new js(hx.DE?[6,28]:[6,27],this);
b.data={R:r,w:l};x.q$(b);this.MW(b.data,x)}if(r==m.Gy){var b=new js("Variables / Datasets",this),hd=JSON.stringify([x.AB,x.VI]);
if(hd==J.K)return;b.data={R:r,ati:hd,a2A:J.K};x.q$(b);this.MW(b.data,x)}if(r==m.lt){var ku=[],b;for(var h=0;
h<x.Y.length;h++){var N=x.Y[h],C=x.k[N];if(C.add.vogk)ku.push(N,JSON.stringify(C.add.vogk))}for(var h=0;
h<x.GP.length;h++){var N=x.GP[h],C=x.h1[N];if(C.add.vogk)ku.push(-1-N,JSON.stringify(C.add.vogk))}g.Fw.ahF(x,J.K,J.agb);
var cp=[];for(var h=0;h<x.Y.length;h++){var N=x.Y[h],C=x.k[N];if(C.add.vogk)cp.push(N,JSON.stringify(C.add.vogk))}for(var h=0;
h<x.GP.length;h++){var N=x.GP[h],C=x.h1[N];if(C.add.vogk)cp.push(-1-N,JSON.stringify(C.add.vogk))}var G=x.Wo();
if(G&&G.data&&G.data.R==r){var hp=!0;for(var h=0;h<ku.length;h+=2)if(ku[h]!=G.data.LN[h])hp=!1;if(hp){b=G;
b.data.c1=cp}}if(b==null){var b=new js([12,91,1],this);b.data={R:r,LN:ku,c1:cp};x.q$(b)}this.MW(b.data,x)}if(r==m.D1){var gA=JSON.stringify(M.add.artb),jN=JSON.stringify(J.vo),b;
x.k[l].add.artb=JSON.parse(jN);var d4=new jj(0,0,x.r,x.$),ey=H.cD.Eu(x),G=x.Wo();if(G&&G.data&&G.data.R==r&&G.data.w==l){b=G;
b.data.vo=jN}if(b==null){var b=new js("Editing Artboard",this);b.data={R:r,w:l,ajy:gA,vo:jN,P5:d4};x.q$(b)}b.data.IB=ey;
this.MW(b.data,x)}if(r==m.WX){var cp=x.ac.slice(0),jG=x.Dk.slice(0),cF=x.g,f5=x.g,d=x.U.xY.slice(0);
if(J.Uq=="seltochannel"){var jW=J.Yk[0],f$=cp[jW]=cp[jW].Q(),W=g.tp.im(x.g,f$,J.Yk[1]);f$.N=W.N;f$.S=W.S}if(J.Uq=="fromAction"){var bh=J.K.QI,ii=J.K._g;
if(bh=="make"||bh=="duplicate"){var dM=cp.length,bz=!1,cZ=!1;if(x.XP())dM--;var b7=new m.V1;b7.name="Alpha "+(dM+1);
if(bh=="make"){var e4=ii.Nw.v;b7.color=0;jG=[dM];b7.nX=!0;b7.s1=e4.Opct.v;if(e4.Nm)b7.name=e4.Nm.v;if(e4.classID=="SCch"){bz=!0;
f5=null;b7.QJ=1}for(var h=0;h<x.ac.length;h++)x.ac[h].nX=!1;d=[0,0,0]}else{var C=x.k[x.Y[0]],fI=C.kG==1?C.q9():C.kG==3?C.V0(x).pR:null,aI=ii.null.v[0].v;
if(ii.Nm)b7.name=ii.Nm.v;if(aI.keyID=="fsel")bz=!0;else if(fI){b7.N=fI.N.slice(0);b7.S=fI.S.Q();b7.color=fI.color}else{var iV=H.IE.aFY(x);
f5=H.IE.aH6(x,iV);b7.color=0;b7.S=f5.S;b7.N=f5.N}}if(bz){b7.color=0;if(x.g){b7.S=x.g.S.Q();b7.N=x.g.N.slice(0)}if(cZ){b7.color=255-b7.color;
g.SV(b7.N)}}cp.splice(dM,0,b7)}else if(bh=="delete"){if(M&&M.q9()&&M.kG==1){this.vE({R:m.cv},v,x,o,R);
return}var k6=x.Dk;k6.sort(function(b,kG){return kG-b});if(k6.length==0)return;for(var h=0;h<k6.length;
h++)cp.splice(k6[h],1);jG=[];d=[1,1,1]}else if(bh=="show"||bh=="hide"){var bq=ii.null.v,cq=null,ib=!1;
for(var h=0;h<bq.length;h++){var jD=bq[h].v[0].v,eL=jD.enum;if(eL=="Trgt"){if(cp[jG[0]]==null)continue;
cp[jG[0]]=cp[jG[0]].Q();cp[jG[0]].nX=bh=="show";ib=!0}else{var jW=["Rd","Grn","Bl"].indexOf(eL);if(cq==null)cq=x.U.xY.slice(0);
cq[jW]=bh=="show"?1:0}}if(cq){var f=new dd(j.E.G,!0);f.J=H.Ji;f.data={R:"setcls",xY:cq};v.a(f);if(!ib)return}}}if(J.Uq=="rnm"){cp[J.Vn]=cp[J.Vn].Q();
cp[J.Vn].name=J.name}var b=new js("Channel Edit",this);b.data={R:r,LN:x.ac.slice(0),ja:x.Dk.slice(0),c1:cp,S9:jG,ee:cF,gb:f5,axy:x.U.xY.slice(0),a8H:d};
this.MW(b.data,x);x.q$(b)}if(r==m.jS){var hK=new jj(0,0,x.r,x.$),b=new js(J.hX,this);b.data={R:m.jS,WT:x.k.slice(0),i8:J.i8,YA:x.Y.slice(0),Sg:J.gb};
x.q$(b);this.MW(b.data,x);var fU=H.cD.MR(x);if(fU){b.data.P5=hK;b.data.IB=fU}}if(r==m.Wd){var ju=x.yw(null,J.w),e6=1e10;
if(ju.length==0)return;if(x.k.length==ju.length){alert("Project must have at least 1 layer");return}var aF=[];
for(var h=0;h<x.k.length;h++)if(ju.indexOf(h)==-1)aF.push(x.k[h]);for(var h=0;h<ju.length;h++)e6=Math.min(e6,ju[h]);
while(e6>aF.length-1)e6--;e6=Math.max(e6,0);while(aF[e6].name=="</Layer group>")e6++;this.track({QI:"delete",_g:{classID:"Dlt",null:kj.RS("Lyr",!0)}});
var d4=new jj(0,0,x.r,x.$),b=new js([6,31],this);b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:[e6]};
x.q$(b);this.MW(b.data,x);var ey=H.cD.Eu(x);if(ey){b.data.IB=ey;b.data.P5=d4;H.cD.MR(x)}}if(r==m.Va){if(!o.M(gw.Yv))return;
var b=new js("Switch Layer Link",this);b.data={R:r,w:J.w};x.q$(b);this.MW(b.data,x)}if(r==m.OQ){var k6=J.a6k?J.a6k:x.Y,hB=0,hy=!1;
if(k6.length==0)return;if(k6.length==1&&x.k[k6[0]].C3==0){alert(ea.get([15,7,5]));return}var h0=[];for(var h=0;
h<x.k.length;h++){var aD=x.k[h].C3;h0.push(aD);hB=Math.max(hB,aD)}var kD=-1,en=-1;for(var h=0;h<k6.length;
h++){var aD=x.k[k6[h]].C3;if(aD==0)hy=!0;else if(kD==-1||kD==aD)kD=aD;else en=aD}if(!hy)for(var h=0;
h<k6.length;h++)x.k[k6[h]].C3=0;else if(kD!=-1&&en==-1)for(var h=0;h<k6.length;h++)x.k[k6[h]].C3=kD;
else for(var h=0;h<k6.length;h++)x.k[k6[h]].C3=hB+1;var jp=[];for(var h=0;h<x.k.length;h++){var aD=x.k[h].C3;
if(jp[aD]==null)jp[aD]=0;jp[aD]++}for(var h=0;h<x.k.length;h++){var aD=x.k[h].C3;if(jp[aD]==1)x.k[h].C3=0}var ij=h0;
h0=[];for(var h=0;h<x.k.length;h++){var aD=x.k[h].C3;h0.push(aD);hB=Math.max(hB,aD)}var b=new js(hy?[6,54,0]:[6,54,1],this);
b.data={R:m.OQ,aeO:ij,aGZ:h0};x.q$(b);this.MW(b.data,x)}if(r==m.Qi&&(J.w!=null||x.Y.length!=0)||r==m.Tj){var dD=x.CO(r==m.Qi?J.w:l,null,J.aB2),am;
if(r==m.Tj){var k=dD[0],bh=k.add.SoLd.Idnt.v,bE=x.mA(bh).Q();k.add.SoLd.Idnt.v=bE.KK=d7.eO()+bh.slice(8);
x.add.lnk2.push(bE)}if(r==m.Qi){var as={QI:"duplicate",_g:{classID:"null",null:kj.RS("Lyr",!0)}};if(J.yU){dD[dD.length-1].v7(J.yU);
as.Nm={t:"TEXT",v:J.yU}}this.track(as);J.a0V=J.w}r=m.XM;J.k=dD;J.Ud=x;J.Nn=x}if(r==m.XM){var gs,c8,iv=J.Ud,bB=J.Nn,fs=0,gm=0,jt=iv.Ss(),d3=!1,bi,jk=0,hu=0;
if(iv!=bB){console.log("ADDLAYERS different projs");var gs=new jj(0,0,iv.r,iv.$),c8=new jj(0,0,bB.r,bB.$),hg=[],eI=[],e0=new jj;
for(var h=0;h<J.k.length;h++){var k=J.k[h];e0=e0.h0(k.S);if(k.add.SoLd==null)continue;var bh=k.add.SoLd.Idnt.v;
if(hg.indexOf(bh)==-1){hg.push(bh);eI.push(d7.eO()+bh.slice(8))}k.add.SoLd.Idnt.v=eI[hg.indexOf(bh)];
var jr=k.V0(iv);if(jr){iv.Pt(jr);bB.Dj(jr)}}if(jt==-1&&!J.v6&&J.at_&&!c8.Rt(e0)){fs=-e0.x;gm=-e0.y}if(hg.length>0){if(bB.add.lnk2==null)bB.add.lnk2=[];
for(var h=0;h<hg.length;h++){var f2=iv.mA(hg[h]),bE=f2.Q();bE.KK=eI[h];bB.add.lnk2.push(bE)}}}var cF=bB.Y.slice(0);
cF.sort(function(b,kG){return b-kG});var aF=bB.k.slice(0),f5=[],bM=-1;for(var h=0;h<cF.length;h++)bM=Math.max(bM,cF[h]);
if(J.a0V!=null)bM=J.a0V;if(J.v6){bM=J.v6-1;var ge=bB.k[J.v6].Gf();fs+=ge.x;gm+=ge.y}if(jt!=-1&&(iv!=bB||J.v6)){var ed=iv.k[jt].Gf();
fs-=ed.x;gm-=ed.y}var fi=bB.lg();for(var h=0;h<fi[0].length;h++){var iQ=fi[1][h];if(iQ!=-1)fi[1][h]=aF[iQ]}bM++;
for(var h=0;h<J.k.length;h++){var C=J.k[h],k_=C.add.artb;aF.splice(bM,0,C);f5.push(bM);bM++;if(k_){bi=!0;
var dY=k_.guideIndeces;if(dY){dY=dY.v;for(var fb=0;fb<dY.length;fb++){fi[0].push(iv.HC[dY[fb].v].slice(0));
fi[1].push(C);d3=!0}}}}for(var h=0;h<fi[0].length;h++){var iQ=fi[1][h];if(iQ!=-1)fi[1][h]=aF.indexOf(iQ)}for(var h=0;
h<J.k.length;h++){var C=J.k[h];if(C.add.lsct==h2.lj){if(jk==0)hu++;jk++}else if(C.tX())jk--}if(hu==1)f5=[bM-1];
var he=J.aIQ;if(he){var F=[];for(var h=0;h<f5.length;h++)F.push(aF[f5[h]]);for(var h=0;h<he.length;h++)aF.splice(aF.indexOf(he[h]),1);
f5=[];for(var h=0;h<F.length;h++)f5.push(aF.indexOf(F[h]))}var b=new js([6,0],this);b.data={R:m.jS,WT:bB.k.slice(0),i8:aF,YA:cF,Sg:f5};
if(d3){b.data.fG=[bB.lg(),fi]}bB.q$(b);this.MW(b.data,bB);if(fs!=0||gm!=0)H.Io.dO(bB,bB.yw(),null,fs,gm);
if(bi){b.data.P5=new jj(0,0,bB.r,bB.$);b.data.IB=H.cD.Eu(bB);H.cD.MR(bB)}}if(r==m.mg){var fZ=J.w!=null?[J.w]:x.yw(),aF=x.k.slice(0);
for(var h=0;h<fZ.length;h++){var C=x.k[fZ[h]].Q();C.jw(x);aF.splice(fZ[h],1,C)}var b=new js([6,8],this);
b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:x.Y.slice(0)};x.q$(b);this.MW(b.data,x)}if(r==m.aoS){var aF=x.k.slice(0),C=aF[x.Y[0]]=aF[x.Y[0]].Q(),gb=C.add.lmfx,aR,ge;
delete C.add.lmfx;var fx=x.Y[0],f3=fx+1;if(C.tX()){var dR=x.k[x.Y[0]].QF;ge=dR.aCN;aR=dR.ev;var W=x.root.jJ(fx);
fx=W.UE}else{ge=C.S;aR=g.C(ge.o());g.Vi(C.buffer,aR,3)}var gM=iD.ap(gb,C.add.fxrp,aR,ge,x,ge).e;for(var h=0;
h<gD.order.length;h++){var iS=gD.order[h],iT=gM[iS];iT.reverse();for(var fb=0;fb<iT.length;fb++){var bW=iT[fb],F=x.qL(),dX=h>7;
if(iS=="ebbl"){if(bW.gt||bW.mM){var ao=bW.gt?bW.gt:bW.mM;if(bW.gt)delete bW.gt;else delete bW.mM;if(bW.mM||bW.gQ)fb--}else if(bW.gQ||bW.bK){var ao=bW.bK?bW.bK:bW.gQ;
if(bW.bK){delete bW.bK;if(bW.gQ)fb--}dX=!0}bW=ao}F.gR=bW.Sx;F.fc=Math.round(255*bW.gv);F.buffer=bW.r3;
F.S=bW.pb.Q();F.S.offset(ge.x,ge.y);if(iS=="FrFX"){F.buffer=F.buffer.slice(0);g.Os(bW.$W?bW.$W:bW.Dh,F.buffer,3);
if(bW.$W){dX=!0;delete bW.$W;if(bW.Dh)fb--}}F.Hv=!dX;F.v7(C.getName()+"'s "+ea.get(gD.names[h]));aF.splice(dX?fx:f3,0,F);
if(dX)f3++}}var b=new js("Styles to Layers",this);b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:[f3-1]};
x.q$(b);this.MW(b.data,x)}if(r==m.adC){var fZ=x.yw(),aF=x.k.slice(0),fq=new jj(0,0,x.r,x.$);for(var h=0;
h<fZ.length;h++){var jm=x.k[fZ[h]],kT=jm.jh();jm.G0(!0);var h_=x.root.jJ(fZ[h]);if(jm.tX())continue;
if(h_==null)continue;var C=jm.Q();C.jw(x);var fX=h_.ca(x,!0),d5=x.k;x.C0([jm]);x.Ai();x.er();C.buffer=g.C(fX.o()*4);
g.sW(x.rv(),fq,C.buffer,fX);C.S=fX;C.fc=255;C.add.iOpa=255;C.gR="norm";C.Ai();C.QF.uQ=!0;x.C0(d5);if(C.add.lmfx)delete C.add.lmfx;
C.pR=C.pW=null;aF.splice(fZ[h],1,C);C.G0(kT);jm.G0(kT)}var b=new js([6,34],this);b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:x.Y.slice(0)};
x.q$(b);this.MW(b.data,x)}if(r==m.ze){var fZ=x.yw(),aF=x.k.slice(0);for(var h=0;h<fZ.length;h++){var C=x.k[fZ[h]],eR=C.add.TySh;
if(eR==null)continue;var k=new fc(eR.vv,R.rr,eR.gZ),hW=g.b.GA(h4.xZ(k,eR,!0));for(var bm in hW){var ks=hW[bm],f7=C.Q();
delete f7.add.TySh;f7.eW=f7.eW|1<<4;f7.add.SoCo=g.F(gD.iS[0]);var i4=f7.add.SoCo.Clr.v;i4.Rd.v=parseInt(bm.slice(1,3),16);
i4.Grn.v=parseInt(bm.slice(3,5),16);i4.Bl.v=parseInt(bm.slice(5,7),16);var j9=new m.e_;j9.X=g.b.ZX(ks,!1);
if(f7.add.vmsk!=null){f7.add.vmsk.ayu();j9.concat(f7.add.vmsk)}f7.add.vmsk=j9;f7.add.vstk=gD.gB.ow(!0);
f7.Tr();f7.B0(x);aF.splice(aF.indexOf(C),0,f7)}aF.splice(aF.indexOf(C),1)}var f5=x.Y.slice(0);for(var h=f5.length-1;
h>=0;h--)if(f5[h]>=aF.length)f5.splice(h,1);var b=new js([6,40],this);b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:f5};
x.q$(b);this.MW(b.data,x)}if(r==m.aGC){var dF=x.Y.length,b4,ho;if(dF<2){alert("Select two or more layers.");
return}for(var h=0;h<dF;h++){var ed=x.k[x.Y[h]].S;b4=h==0?ed:b4.Xt(ed);ho=h==0?ed:ho.h0(ed)}if(b4.o()*1.2>ho.o()){alert("stacking images");
var g_=[],iw=[];for(var h=0;h<dF;h++){var C=x.k[x.Y[h]];g_.push(C.buffer);iw.push(C.S)}var i5=g.a72.qP(g_,iw),dJ=i5[0],cf=i5[1],dT=[];
for(var h=0;h<dF;h++){var hx=new m.V1;hx.color=255;hx.S=cf;hx.N=dJ[h];dT.push(x.Y[h],null,hx)}var b=new js("Focus-Stack",this);
b.data={R:m.Of,Zf:dT};x.q$(b);this.MW(b.data,x);return}if(!x.di())return;var f7=x.k[x.Y[0]].Q(),aF=[];
for(var h=0;h<x.k.length;h++)if(x.Y.indexOf(h)==-1)aF.push(x.k[h]);aF.splice(x.Y[0],0,f7);for(var h=1;
h<dF;h++)if(x.k[x.Y[h]].S.o()>2e6){alert("Blended areas are too large.");return}for(var h=1;h<dF;h++){var C=x.k[x.Y[h]],cf=C.S.Q();
cf.rz(1,1);var kG=g.C(cf.o()*4);g.sW(C.buffer,C.S,kG,cf);f7.extend(cf);var jl=g.C(cf.o()*4);g.sW(f7.buffer,f7.S,jl,cf);
var b=g.C(cf.o());g.Vi(kG,b,3);g.round(b,200);g.Os(b,kG,3);g.v.Ry("norm",kG,cf,jl,cf,cf,1);g.vD.xB(jl,b,cf);
g.sW(jl,cf,f7.buffer,f7.S)}var b=new js([2,10,0],this);b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:[x.Y[0]]};
x.q$(b);this.MW(b.data,x)}if(r==m.wA){var aF=x.k.slice(0),jG=x.Y.slice(0);for(var h=0;h<aF.length;h++){var C=aF[h],dt=C.add.vmsk;
if(C.Id()&&dt&&C.add.vstk.strokeEnabled.v&&!C.add.vstk.fillEnabled.v){var c$=dt.X,i_=0,e1=-1;for(var fb=0;
fb<c$.length;fb++){if((c$[fb].e==0||c$[fb].e==3)&&c$[fb].da!=-1){i_++;if(c$[fb].e==3&&e1==-1){c$[fb].ii=c$[fb].da=1;
e1=fb}}}if(i_>1&&e1!=-1&&i_<10){console.log("separating an open path into a new layer");C=C.Q();dt=C.add.vmsk;
c$=dt.X;var F=c$[e1].length,he=C.Q();he.add.lyid=x.bm();dt.X=c$.slice(0,2).concat(c$.slice(e1,e1+F+1));
dt.Y=[];C.B0(x);C.Ai();var gI=he.add.vmsk.X;he.add.vmsk.X=gI.slice(0,e1).concat(gI.slice(e1+F+1,gI.length));
he.add.vmsk.Y=[];he.B0(x);aF[h]=C;aF.splice(h+1,0,he);for(var fb=0;fb<jG.length;fb++)if(jG[fb]>h)jG[fb]++;
var ck=jG.indexOf(h);if(ck!=-1){jG.splice(ck+1,0,h+1)}}}}if(aF.length!=x.k.length){var b=new js("Splitting open paths",this);
b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:jG};x.q$(b);this.MW(b.data,x)}}if(r==m.oF){this.vE({R:m.wA},v,x,o,R);
var cF=x.Y.slice(0),d5=x.k.slice(0),fZ=x.yw();if(fZ.length==0)return;x.aFL(fZ,!1,J.d_);var b=new js([6,36,0],this);
b.data={R:m.jS,WT:d5,i8:x.k.slice(),YA:cF,Sg:x.Y.slice(0)};x.q$(b);this.MW(b.data,x)}if(r==m.asI){var cc=M.add.SoLd;
if(cc==null)return;var bh=cc.Idnt.v,dk=x.mA(bh);dk.rv(!1);var eN=g.N2(dk.Vs[0],8),cf=dk.Vs[1];if(g.LQ(eN)){alert("The smart object contains transparency.");
return}var fJ=d2.s$("jpg").lS([[eN.buffer]],cf.r,cf.$,[90]);this.vE({R:m.ag,data:new Uint8Array(fJ),d8:"image.jpg"},v,x,o,R);
console.log(x.add);return}if(r==m.U0){var cc=M.add.SoLd,b2=!1;if(cc==null)return;var bh=cc.Idnt.v,kz=new d7;
ih.KE(x.pB(bh).raw.buffer,kz);if(J.Uq!="del")for(var h=1;h<kz.k.length-1;h++)kz.k[h].G0(!1);if(J.Uq=="switch"){kz.k[J.K].G0(!0);
b2=!0}else if(J.Uq=="del"){kz.k.splice(J.K,1);kz.Y=[kz.k.length-1]}else{var C=kz.qL();C.S=M.S.Q();C.v7(J.akt);
var eE=C.buffer=g.C(C.S.o()*4);g.sW(J.K[0],J.K[1],eE,C.S);C.S.x=C.S.y=0;kz.k.splice(kz.k.length-1,0,C)}var gU=d2.eR.lS(kz);
this.vE({R:m.ag,data:new Uint8Array(gU),d8:"image.psd",id:bh,ajt:b2},v,x,o,R);return}if(r==m.ag){var fq=J.qE,bh=J.id;
if(fq==null)fq=x;if(bh==null)bh=M.add.SoLd.Idnt.v;var f2=fq.mA(bh),bE=f2.Q();bE.raw=J.data;bE.d8=J.d8;
var kW=d2.e4(J.data.buffer);if(kW=="psd"){bE.C6="8BIM";bE.It="8BPB"}else{bE.C6="    ";bE.It="    "}bE.rv(!1);
f2.rv(!1);var a=x.Wo();if(J.ajt&&a&&a.J==this&&a.data.R==r&&a.data.id==bh){b=a;b.data.Ew=bE}else{var b=new js(J.ajt?"Select Variation":[6,36,1],this);
b.data={R:m.ag,id:bh,vj:f2,Ew:bE};fq.q$(b)}this.MW(b.data,fq)}if(r==m.Rl){var b=new js([6,36,4],this);
b.data={R:r,w:l,EB:M.add.SoLd.Impr.v.classID,ra:J.ra};x.q$(b);this.MW(b.data,x)}if(r==m.OX){var ak,f4;
if(J.v5){ak=J.qE;f4=J.v5}else{J.qE.HQ();J.qE.wW();J.qE.Ai();J.qE.er();J.qE.rv();ak=d2.s$("PSD").lS(J.qE,0,0,[!0,!0]);
f4=J.qE.name}if(!(ak instanceof ArrayBuffer))throw"e";ak=new Uint8Array(ak);var u=J.IA;if(u==null){if(x.Y.length==0)u=x.Y.length;
else{var cd=x.Y[x.Y.length-1],F=x.k[cd];u=F.tX()?cd:cd+1}}var iG=new jj(0,0,x.r,x.$),e8=x.Ss();if(e8!=-1)iG=x.k[e8].Gf();
var fo=x.P2(ak,f4,null,null,iG,R.rr,v),aF=x.k.slice(0);aF.splice(u,0,fo);var b=new js([6,36,2],this);
b.data={R:m.jS,WT:x.k.slice(),i8:aF,YA:x.Y.slice(0),Sg:[aF.indexOf(fo)]};x.q$(b);this.MW(b.data,x)}if(r==m.SS&&J.Uq=="merge"){var aZ=[],eT=x.root.children,gr=0;
for(var h=0;h<eT.length;h++){var W=eT[h],C=W.w,fG=W.children,dP=!0;if(!C.tX()||fG.length==0)continue;
for(var fb=0;fb<fG.length;fb++)if(!fG[fb].w.getName().startsWith("_a_")){dP=!1;break}if(dP)aZ.push(x.k.indexOf(C))}var hX=[];
for(var h=0;h<aZ.length;h++)if(x.Y.indexOf(aZ[h])!=-1)hX.push(aZ[h]);if(hX.length>=2)aZ=hX;if(aZ.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var d6=[];for(var h=0;h<aZ.length;h++)d6.push(x.k[aZ[h]].getName());var iT=[];for(var h8=0;h8<aZ.length;
h8++){var W=x.root.jJ(aZ[h8]),fm=[[],[],0,h8];iT.push(fm);for(var h=0;h<W.children.length;h++){var N=W.children[h].index,C=W.children[h].w,b7=C.getName(),aa=20,av=b7.split(",");
if(av.length>1){var a3=parseInt(av.pop());if(!isNaN(a3)&&a3!=0)aa=a3}if(aa<17)aa=17;fm[0].push(C);fm[1].push(aa);
fm[2]+=aa}}iT.sort(function(b,kG){return kG[2]-b[2]});if(iT[0][2]>2e3){var hw=0,kH=0;for(var h=0;h<iT.length;
h++){var dh=iT[h][1].length/iT[h][2];if(dh>kH){kH=dh;hw=h}}var c_=(iT[0][2]/1e3).toFixed(1),bJ=window.confirm("- \""+d6[iT[0][3]]+"\" is "+c_+" seconds long\n"+"- \""+d6[iT[hw][3]]+"\" is playing at "+Math.round(kH*1e3)+" frames per second\n"+"A merged animation must be "+c_+" sec, up to "+Math.round(iT[0][2]*kH)+" frames. Proceed?");
if(!bJ)return}var hZ=iT[0],jJ=hZ[2];for(var iQ=1;iQ<iT.length;iQ++){var fm=iT[iQ],iZ=1,fW=fm[1].slice(0),bL=0;
while((iZ+1)*fm[2]<=hZ[2]){iZ++;fW=fW.concat(fm[1])}fm[1]=fW;fm[2]*=iZ;var bu=hZ[2]/fm[2];for(var h=0;
h<fm[1].length;h++){var bl=Math.floor(fm[1][h]*bu);fm[1][h]=bl;bL+=bl}while(bL<jJ){bL++;fm[1][fm[1].length-1]++}fm[2]=bL}var eu=[],eA=[],bl=[];
for(var h=0;h<iT.length;h++){eu.push(0);eA.push(0)}while(gr<jJ){var cn=1e9,dM=-1;for(var h=0;h<iT.length;
h++){var fn=iT[h][1],fx=eu[h];if(fx!=fn.length&&eA[h]+fn[fx]<gr+cn){dM=h;cn=eA[h]+fn[fx]-gr}}eA[dM]+=iT[dM][1][eu[dM]];
eu[dM]++;if(cn!=0){bl.push(cn);gr+=cn}}for(var h=1;h<bl.length;h++){var hr=bl[h];if(hr<16&&(bl[h-1]<16||h<bl.length-1&&16<=bl[h+1])){bl[h-1]+=hr;
bl.splice(h,1);h--}}var kT=[],fq=new jj(0,0,x.r,x.$);for(var h=0;h<x.k.length;h++){kT[h]=x.k[h].jh();
x.k[h].G0(!1)}var hk=x.Y.slice(0);x.Y=aZ;var ju=x.yw();ju.sort(function(b,kG){return b-kG});var aF=[];
for(var h=0;h<x.k.length;h++){if(ju.indexOf(h)==-1)aF.push(x.k[h])}iT.sort(function(b,kG){return b[3]-kG[3]});
function a5(fn,ep){var h=0,iX=0;while(iX+fn[h]<=ep){iX+=fn[h];h++}return h}gr=0;aF.splice(ju[0],0,x.V4());
for(var iC=0;iC<bl.length;iC++){var K=[];for(var h=0;h<iT.length;h++){var fx=a5(iT[h][1],gr)%iT[h][0].length,C=iT[h][0][fx];
K.push(C)}var C=x.qL();for(var h=0;h<iT.length;h++){var hj=K[h],et=x.k[aZ[h]];hj.G0(!0);et.G0(!0)}x.Ai();
x.er();var eN=x.rv();C.S=g.H6(eN,fq,2);C.buffer=g.C(C.S.o()*4);g.sW(eN,fq,C.buffer,C.S);for(var h=0;
h<iT.length;h++){var hj=K[h],et=x.k[aZ[h]];hj.G0(!1);et.G0(!1)}C.G0(iC==0);C.v7("_a_frm"+iC+","+bl[iC]);
aF.splice(ju[0]+1+iC,0,C);gr+=bl[iC]}var C=x.qL();C.v7(d6.join(" + "));C.gR="pass";C.add.lsct=h2.Le;
C.eW=24;aF.splice(ju[0]+1+bl.length,0,C);for(var h=0;h<x.k.length;h++)x.k[h].G0(kT[h]);var b=new js([6,12,0],this);
b.data={R:m.jS,WT:x.k,i8:aF,YA:hk,Sg:[ju[0]+1+bl.length]};x.q$(b);this.MW(b.data,x)}if(r==m.Zn||r==m.zf){var gS=x.Y.length==1&&!x.k[x.Y[0]].tX(),kt=!0,fo=null,f5;
if(gS&&x.Y[0]==0)return;var i9=r==m.Zn&&J.w!=null&&x.Y.indexOf(J.w)==-1,d5=x.k.slice(0),cF=x.Y.slice(0);
if(gS||i9)x.Y=[l,l-1];if(r==m.zf){x.Y=[];for(var h=0;h<x.k.length;h++)if(x.k[h].jh())x.Y.push(h)}var fZ=x.yw();
fZ.sort(function(b,kG){return b-kG});var fe=new jj,fq=new jj(0,0,x.r,x.$);for(var h=0;h<fZ.length;h++){var N=fZ[h],C=x.k[N];
if(C.tX()||C.getName()=="</Layer group>")continue;kt=kt&&C.Id()&&C.add.vmsk!=null;fe=fe.h0(x.root.jJ(N).ca(x,!0))}if(J.tp!=null&&!kt){alert("Select shape layers only.");
return}if(kt){var dt=null,fk=J.tp;for(var h=0;h<fZ.length;h++){var F=x.k[fZ[h]];if(F.S.o()==0)continue;
if(fo==null){fo=F.Q();dt=fo.add.vmsk}else{var F=x.k[fZ[h]],gI=m.e_.w2(F.add.vmsk.X);if(fk!=null)for(var fb=0;
fb<gI.length;fb++)if(gI[fb].da!=null&&gI[fb].da!=-1)gI[fb].da=[1,2,3,0][fk];dt.X=dt.X.concat(gI.slice(2));
fo.add.vogk=fo.add.vogk.concat(g.F(F.add.vogk))}}fo.add.vmsk.px=!0;fo.B0(x)}else if(fq.Db(fe)){fo=x.qL();
fo.v7(x.k[fZ[fZ.length-1]].getName());fo.S=fe;fo.buffer=g.C(fe.o()*4);var ee=x.add.artd;delete x.add.artd;
var fF=x.rv(fZ);if(ee)x.add.artd=ee;g.sW(fF,fq,fo.buffer,fe);fo.Zv();fo.Ai()}else{x.aFL(fZ,!0);fo=x.k[x.Y[0]];
x.k.splice(x.Y[0],1);var kv=x.mA(fo.add.SoLd.Idnt.v);x.add.lnk2.splice(x.add.lnk2.indexOf(kv),1);delete fo.add.SoLd}var er=P,b_=-1;
if(J._g&&J._g.Dplc&&J._g.Dplc.v)er=!0;if(er&&r==m.zf&&cF.length!=0&&x.k[cF[0]].rn()&&x.k[cF[0]].S.L3()){b_=cF[0]}if(b_!=-1||gS){var ct=x.k[b_!=-1?b_:l-1];
fo.v7(ct.getName());fo.add.lclr=ct.add.lclr}var aF=[];for(var h=0;h<x.k.length;h++)if(er||fZ.indexOf(h)==-1)if(h!=b_)aF.push(x.k[h]);
var hJ=fZ[fZ.length-1],ft=hJ==x.k.length-1?null:x.k[hJ+1],fM=ft?aF.indexOf(ft):aF.length;aF.splice(fM,0,fo);
f5=[fM];if(i9)f5=cF.slice(0);var b=new js([6,12,0],this);b.data={R:m.jS,WT:d5,i8:aF,YA:cF,Sg:f5};x.q$(b);
this.MW(b.data,x)}if(r==m.a5T){var f7=x.qL();f7.S=new jj(0,0,x.r,x.$);f7.buffer=g.C(f7.S.o()*4);f7.buffer.fill(255);
g.v.Ry("norm",x.rv(),f7.S,f7.buffer,f7.S,f7.S,1);f7.v7("Background");f7.add.lspf=1<<2;var b=new js([6,12,1],this);
b.data={R:m.jS,WT:x.k.slice(),i8:[f7],YA:x.Y.slice(0),Sg:[0]};x.q$(b);this.MW(b.data,x)}var gv=r==m.nF||r==m.nc;
if(r==m.h5||r==m.co||r==m._e||r==m.NH||gv){var C=gv?x.CO()[0]:x.qL(),jB=ea.get([0,3]),dq=J.yU,l0=!1,af,bG;
if(r==m._e)jB=ea.get([12,76,1]);if(gv){if(x.g){var jm=x.k[x.Y[0]],e$=jm.tt(x,x.g);if(e$==null){alert("Copied area is empty");
return}C.S=e$.S;C.buffer=e$.u8;C.jw(x);C.G0(!0)}else dq=C.getName();C.add.lspf=0;C.Hv=!1;if((C.eW&1)!=0)C.eW--}if(r==m.NH){C.S=H.j9.a7D(J.YE,x);
C.buffer=g.N2(J.YE.buffer.slice(0),g.u3(C.buffer));if(J.avF&&x.g){C.pR=new m.V1;C.pR.S=x.g.S;C.pR.color=0;
C.pR.N=x.g.N.slice(0)}}if(r==m.h5){this.track({QI:"make",_g:{classID:"Mk",null:kj.RS("Lyr")}})}if(r==m.co){C.eW|=16;
var e7=J._g.Usng.v,eM=e7.Type.v,ky=kC.th[eM.classID];jB=ea.get(kC.names[ky]);if(e7.Nm)dq=e7.Nm.v;C.add[ky]=a8.ow(ky);
if(C.add[ky]==null)C.add[ky]={};for(var aj in eM)C.add[ky][aj]=g.F(eM[aj]);C.pR=H.j9.anX(x);C.kG=1}if(r==m._e){C.eW|=16;
var ii=J._g,e7=ii.Usng.v,ke=e7.Type.v,f0=e7.Shp;if(e7.Nm)dq=e7.Nm.v;if(f0==null){var ax=x.Ng(),hW=ax[0],bs=ax[1];
if(bs.length!=0&&hW[bs[0]].Vn<0){var eG=hW[bs[0]].add;C.add.vmsk=eG.vmsk.Q();C.add.vstk=gD.gB.ow(!0);
C.add.vogk=g.F(eG.vogk);x.GP=[]}else C.pR=H.j9.anX(x)}else{C.add.vmsk=new m.e_;C.add.vstk=g.F(e7.strokeStyle?e7.strokeStyle.v:gD.gB.ow(!0));
C.add.vogk=[];if(f0){var fE=g.Fw.yL(f0,x.r,x.$);if(fE){C.add.vogk=[fE];C.add.vmsk.X.push({e:0,da:1,length:0});
g.Fw.pY(C.add.vogk,C.add.vmsk)}else{f0=f0.v;var cN=f0.classID;if(cN=="Plgn"){var jD=f0.Cntr.v,ed=f0.corner.v;
jD=new aG(jD.Hrzn.v.val,jD.Vrtc.v.val);ed=new aG(ed.Hrzn.v.val,ed.Vrtc.v.val);C.add.vmsk.X=g.I.yu.We(jD.x,jD.y,Math.sqrt(ed.x*ed.x+ed.y*ed.y),Math.atan2(ed.y,ed.x),f0.sides.v,0)}else if(cN=="customShape"){var iO=g.Fw.pA(f0),au=iO[2]-iO[0],ko=iO[3]-iO[1],eW=R.tx,be,ia;
for(var h=0;h<eW.length;h++)if(eW[h].lG==f0.Nm.v)be=eW[h];if(be){ia=m.e_.w2(be.X);g.I.Xi(ia,new bC(au,0,0,ko,iO[0],iO[1]))}else ia=g.I.yu.Rect(iO[0],iO[1],au,ko,0);
C.add.vmsk.X=ia}C.Tr()}}}if(du==0){var aO={solidColorLayer:0,gradientLayer:1,patternLayer:2}[ke.classID],eg=["SoCo","GdFl","PtFl"][aO];
C.add[eg]=g.F(gD.iS[aO]);if(aO==0)C.add[eg].Clr.v=g.UH.YK(g.x7(R.P4));H.j9.Lt(ke,C.add[eg],aO);if(f0==null)jB=ea.get([6,48,0,aO]);
if(eg=="PtFl"){var hM=C.add[eg].Ptrn.v,av=iD.VC(hM,R.HZ);if(av==null)av=iD.VC(hM,x.add.Patt);if(av==null)av=R.HZ[0];
hM.Idnt.v=av.id;x.Mk(av)}C.B0(x)}else{C.add.vstl=g.F(R.anM)}}var dF=H.j9.X2(x,jB+" ");C.v7(jB+" "+(dF+1));
if(dq)C.v7(dq);var aP=x.Y.length==0?x.k.length-1:x.Y[x.Y.length-1],ds=x.k[aP];if(du==0&&r==m._e&&ds.rn()&&ds.S.L3()){l0=!0;
C.v7(ds.getName());af=aP}else{af=aP+(r==m.h5&&c&&!S?0:1);if(ds&&ds.add.lsct==h2.Uk)af--}if(J.a9B)af=Math.max(0,af-1);
var aF=x.k.slice(0);if(r==m.nc){var ff=aF[x.Y[0]]=aF[x.Y[0]].Q(),ka=x.g.N.slice(0);g.SV(ka);g.YJ(ka,x.g.S,ff.buffer,ff.S)}aF.splice(af,l0?1:0,C);
var km=[5,2];if(r==m.h5)km=[6,13];if(r==m.co)km=[6,1];if(r==m._e){km=[6,48,1];var f0=J._g.Usng.v.Shp;
if(f0){var jg={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[f0.v.classID];
if(jg)km=jg}}if(gv){km=[6,49,r==m.nF?0:1]}if(gv||r==m._e||r==m.NH||r==m.co)if(x.g)bG=[x.g,null];var b=new js(km,this);
b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:[af],Rz:bG};x.q$(b);this.MW(b.data,x);if(r==m._e&&f0==null&&aO!=0||r==m.co){var y=new dd(j.E.j);
y.data={R:j.m.KF,kA:gB.mL.eV};v.a(y)}}if(r==m.aEp){var aF=x.k.slice(0),C=x.k[x.Y[0]],ik=C.S.o(),kY=ik*4,bV=aF.indexOf(C),ct=x.qL();
ct.v7("Decomposition");ct.add.lsct=h2.Uk;ct.gR="pass";ct.eW=24;aF.splice(bV+1,0,ct);aF.splice(bV+1,0,x.V4());
var cv=C.Q();cv.v7("Residual");aF.splice(bV+2,0,cv);function cn(b,kG,h){kG[h]+=128-b[h];kG[h+1]+=128-b[h+1];
kG[h+2]+=128-b[h+2];kG[h+4]+=128-b[h+4];kG[h+5]+=128-b[h+5];kG[h+6]+=128-b[h+6]}aF.splice(bV,0);var b6=Date.now();
for(var aV=0;aV<5;aV++){var he=cv.Q();aF.splice(bV+3,0,he);he.fc=128;he.gR="lLit";he.v7("Scale "+(aV+1));
a8.pP(1<<aV,1,cv.buffer,C.S);var iO=cv.buffer,ba=new Uint8ClampedArray(he.buffer.buffer);for(var h=0;
h<kY;h+=8)cn(iO,ba,h)}var b=new js("Wavelet Decompose",this);b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:[bV+2]};
x.q$(b);this.MW(b.data,x)}if(r==m.HY){var C=x.qL(),jB=ea.get([0,4]),dF=H.j9.X2(x,jB+" ");C.v7(jB+" "+(dF+1));
C.gR="pass";C.add.lsct=h2.Uk;C.eW=24;if(J.yU)C.v7(J.yU);if(J.Ef!=null)C.add.lclr=J.Ef;var dC=x.V4(),aP=l,af=aP+(c?0:1),aF=x.k.slice(0);
aF.splice(af,0,dC,C);var b=new js([6,20],this);b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:[af+1]};
x.q$(b);this.MW(b.data,x)}if(r==m.kK||r==m.f8){var dl=r==m.kK?J.source:x.Y[0],dK,iA,ac=x.Y.indexOf(dl)!=-1,h6=P|J.aj4,j0,cn=null;
if(ac)j0=x.yw();else j0=x.Sw(dl);j0.sort(function(b,kG){return b-kG});if(r==m.kK){dK=J.target;iA=J.FI>.5}else if(J.target!=null){dK=Math.min(J.target,x.k.length-1);
iA=J.target<x.k.length;x.TA=!0}else{var fd=J.Uq;iA=fd>1;if(fd==0){dK=x.k.length-1}if(fd==1){dK=j0[j0.length-1]+1;
var F=x.Sw(dK);if(F.indexOf(dl)==-1)dK+=F.length-1}if(fd==2){dK=j0[0]-1;var F=x.Sw(dK);if(F.indexOf(dl)==-1)dK-=F.length-1}if(fd==3){dK=0;
if(x.k[0].add.lnsr=="bgnd")dK++}if(dK<0||dK>x.k.length-1)return;x.TA=!0}if(j0.indexOf(dK)!=-1&&!h6)return;
var cs=H.j9.XA(x,j0,dK,iA,h6?x.CO(ac?null:dl):null,r==m.kK&&J.FI>.8),fw=cs.pop(),jG=cs.pop(),aF=cs.pop(),bQ=x.Y;
x.Y=[dl];var jt=x.Ss();x.Y=[dK];var cC=x.Ss();if(cC==dK&&!iA)cC=-1;x.Y=bQ;if(dl==jt){}else if(jt!=cC){var cn=new aG(0,0);
if(jt!=-1){var cf=x.k[jt].Gf();cn.x-=cf.x;cn.y-=cf.y}if(cC!=-1){var cf=x.k[cC].Gf();cn.x+=cf.x;cn.y+=cf.y}}var b=new js(h6?[6,0]:[6,35],this);
b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:jG,DS:cn};x.q$(b);this.MW(b.data,x);var ii={classID:"move",null:kj.RS("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:fw+(iA?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:h6}};
this.track({QI:"move",_g:ii})}if(r==m.Vy){var ds=J.pT;if(J.Oo){if(M==null||!M.tX())return;var W=x.root.jJ(l),bR=x.k.indexOf(W.vu),aF=x.k.slice(0);
aF.splice(l,1);aF.splice(bR,1);var jG=[];for(var h=bR;h<l-1;h++)jG.push(h);if(ds){var iH=l-2;aF[iH]=aF[iH].Q();
aF[iH].pT=!1}var b=new js(ds?[6,6,0]:"Ungroup Layers",this);b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:jG};
x.q$(b);this.MW(b.data,x)}else{var C=x.qL(),ai=ea.get([0,4])+" ";C.v7(ai+(H.j9.X2(x,ai)+1));C.gR="pass";
if(ds){if(x.Y.length==1){alert("Select more than one layer for a clipping group.");return}C.v7("<Clip Group>")}if(J.yU)C.v7(J.yU);
if(J.Ef!=null)C.add.lclr=J.Ef;C.add.lsct=x.Y.length==1?h2.Uk:h2.Le;C.eW=24;var dC=x.V4(),j0=x.yw();if(j0.length==0)return;
j0.sort(function(b,kG){return b-kG});var aF=[];for(var h=0;h<x.k.length;h++)if(j0.indexOf(h)==-1)aF.push(x.k[h]);
var aP=x.Y[x.Y.length-1]-j0.length;aF.splice(aP+1,0,dC);for(var h=0;h<j0.length;h++)aF.splice(aP+2+h,0,x.k[j0[h]]);
aF.splice(aP+2+j0.length,0,C);if(ds){var iH=aP+j0.length+1;aF[iH]=aF[iH].Q();aF[iH].pT=!0}var b=new js(ds?[6,6,0]:[6,9],this);
b.data={R:m.jS,WT:x.k.slice(0),i8:aF,YA:x.Y.slice(0),Sg:[aF.indexOf(C)]};x.q$(b);this.MW(b.data,x);var n={QI:"make",bV:!0};
n._g={classID:"Mk",null:kj.RS("layerSection"),From:kj.RS("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:C.getName()}}}};
this.track(n)}}if(r==m.aJc){if(x.Y.length!=1)return;var u=x.Y[0],fK=P;if(x.k[u].q9()==null&&!o.M(gw.aw)){r=m.Fe;
J.tj=x.g?!fK?"RvlS":"HdSl":!fK?"RvlA":"HdAl"}else{r=m.Vq;J.aeE=!0}}if(r==m.Fe){if(x.Y.length!=1)return;
var u=x.Y[0],C=x.k[u];if(C.add.vmsk&&C.pR==null)C.B0(x);var aS=C.q9();if(aS==null||J.alT){var b=new js(J.yU?J.yU:[6,21],this),e9=new m.V1(x.depth),ej=J.tj,bP=ej=="RvlS"||ej=="HdSl";
if(ej=="RvlS"||ej=="HdAl"||ej=="Trns")e9.color=0;if(bP){e9.N=x.g.N.slice(0);e9.S=x.g.S.Q();if(ej=="HdSl")g.SV(e9.N)}if(ej=="Trns"){e9.S=C.S.Q();
e9.N=g.C(C.S.o());g.Vi(C.buffer,e9.N,3)}b.data={R:m.Of,Zf:[u,aS,e9],Rz:bP?[x.g,null]:null,arz:ej=="Trns"};
x.q$(b);this.MW(b.data,x);x.k[u].kG=1;this.track({QI:"make",_g:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:ej}}}})}}else if(r==m.aG8){var jV=x.k[J.src],g2=x.k[J.Gm],b=new js([6,21],this),gh=jV.q9(),bo=g2.q9(),hx=[J.src,gh,null,J.Gm,bo,gh];
if(P||S){var b7=gh.Q();if(P)hx=[J.Gm,bo,b7];else hx[5]=b7;if(S){g.SV(b7.N);b7.color=255-b7.color}}b.data={R:m.Of,Zf:hx};
x.q$(b);this.MW(b.data,x)}if(r==m.cv){if(x.Y.length!=1)return;var u=l,dn=x.k[u].q9();if(dn!=null){var b=new js([6,22],this);
b.data={R:m.Of,Zf:[l,dn,null]};x.q$(b);this.MW(b.data,x)}}if(r==m.KN){var d5=x.k.slice(0),f7=M.Q(),fI=f7.q9();
g.YJ(fI.PP(f7.S),f7.S,f7.buffer,f7.S);H.j9.KU(x,f7);f7.Zv();x.k[x.Y[0]]=f7;var b=new js([5,8],this);
b.data={R:m.jS,WT:d5,i8:x.k.slice(),YA:x.Y.slice(0),Sg:x.Y.slice(0)};x.q$(b);this.MW(b.data,x)}if(r==m.nP){if(x.Y.length!=1)return;
var u=x.Y[0];if(x.k[u].V0(x).pR==null){var b=new js([6,45],this);b.data={R:r,w:u,pR:new m.V1};x.q$(b);
this.MW(b.data,x)}}if(r==m.OE){if(x.Y.length!=1)return;var u=x.Y[0];if(x.k[u].V0(x).pR!=null){var b=new js([6,46],this);
b.data={R:r,w:u,pR:x.k[u].V0(x).pR};x.q$(b);this.MW(b.data,x)}}if(r==m.mF){if(J.src==null&&x.Y.length!=1)return;
if(J.src!=null)l=J.src;if(x.k[l].Ov()){var b=new js([6,47],this),cc=JSON.stringify(x.k[l].add.SoLd),ad=JSON.parse(cc);
delete ad.filterFX;b.data={R:m.BE,pw:[{rk:l,ZO:[cc,JSON.stringify(ad)],hF:[x.k[l].V0(x),null]}]};x.q$(b);
this.MW(b.data,x)}}if(r==m.Vq){if(x.Y.length!=1)return;if(M.add.vmsk==null){var b=new js([6,23],this),c$=x.Ng(),k6=c$[1],c$=c$[0],e9,fE;
if(J.aeE&&k6.length!=0){var eG=c$[k6[0]].add;e9=eG.vmsk.Q();fE=eG.vogk}else{e9=new m.e_;fE=[];e9.X[1].all=J.aGE?0:1}b.data={R:r,w:l,js:!0,pR:e9,Fw:JSON.stringify(fE),gB:null};
if(M.Id()){b.data.gB=Stroke.gB.ow(!0)}x.q$(b);this.MW(b.data,x)}}if(r==m.gp){var jV=x.k[J.src],g2=x.k[J.Gm];
if(g2.add.vmsk)return;var b=new js([6,23],this),dt=jV.add.vmsk;b.data={w:J.Gm,js:jV.CE,pR:dt.Q(),Fw:JSON.stringify(jV.add.vogk),gB:jV.add.vstk?JSON.stringify(jV.add.vstk):null};
if(P){b.data.R=m.Vq}else{b.data.R=r;b.data.src=J.src;b.data.Gm=J.Gm}x.q$(b);this.MW(b.data,x)}if(r==m.Ki||r==m.Ws){if(x.Y.length!=1)return;
var C=x.k[l],dt=C.add.vmsk;if(dt!=null){var h$=r==m.Ws,b=new js(h$?[6,8]:[6,24],this);b.data={R:m.Ki,w:l,js:C.CE,pR:dt,Fw:JSON.stringify(C.add.vogk),gB:C.add.vstk?JSON.stringify(C.add.vstk):null};
if(h$){b.data.pW=dt.q9(C.add.vstk);b.data.pW.mw=!1}x.q$(b);this.MW(b.data,x)}}if(r==m.yO){var b=new js("Metadata",this);
b.data={R:r,MV:JSON.stringify(x.b5),Mp:JSON.stringify(J.Mp)};x.q$(b);this.MW(b.data,x)}if(r==m.Gl){var kg=J.Gm?J.Gm:x,ab=kg.name,dq=J.K+".psd";
if(ab==dq)return;var b=new js([6,37],this);b.data={R:r,azU:ab,yU:dq};if(J.agM!=!0)kg.q$(b);this.MW(b.data,kg)}if(r==m.SS&&J.Uq.endsWith("makeframes")){var jR=[],eS=J.Uq.startsWith("make");
for(var h=0;h<x.Y.length;h++){var N=x.Y[h],C=x.k[N],ji=C.getName(),g9=ji.startsWith("_a_");if(eS==g9||C.add.lsct==h2.lj)continue;
var bF=eS?"_a_"+ji:ji.slice(3);jR.push([N,ji,bF,C.add.lnsr,null])}var b=new js([6,37],this);b.data={R:m.E9,Fu:jR};
x.q$(b);this.MW(b.data,x)}if(r==m.E9){var ab=M.getName(),dq=J.name.substring(0,255);if(ab==dq)return;
var b=new js([6,37],this);b.data={R:r,Fu:[[l,ab,dq,M.add.lnsr,null]]};x.q$(b);this.MW(b.data,x);this.track(kj.EH("Nm",{t:"TEXT",v:dq}))}if(r==m.TI){var cr=x.yw(),cJ=[],eD=[];
for(var h=0;h<cr.length;h++){cJ.push(x.k[cr[h]].add.lclr);eD.push(J.arZ)}var b=new js([6,38],this);b.data={R:r,k:cr,ahm:cJ,Ef:eD};
x.q$(b);this.MW(b.data,x)}if(r==m.su){var b=x.history[x.wb];if(b!=null&&b.J==this&&b.data.R==r&&b.data.w==J.UT&&b.data.ra.nO==J.CB.nO)b.data.ra=J.CB;
else{b=new js("Mask Density / Feather",this);b.data={R:r,w:J.UT,EB:x.k[J.UT].mo(J.CB.nO),ra:J.CB};x.q$(b)}this.MW(b.data,x)}if(r==m.Kh){var jd=JSON.stringify(J.K),aH=JSON.parse(jd),b=x.history[x.wb];
if(b!=null&&b.J==this&&b.data.R==r&&b.data.NF==J.NF&&b.data.UU.join(",")==J.UU.join(",")){for(var h=0;
h<J.UU.length;h++)b.data.O8[h]=aH;if(b.data._g&&aH.It!=0)H.j9.Lt(aH.BD,b.data._g.T.v,aH.It-1)}else{b=new js([11,6],this);
b.data={R:r,UU:J.UU,NF:J.NF,abU:[],O8:[]};var h9=!1;for(var h=0;h<J.UU.length;h++){var N=J.UU[h],C=x.k[N],eY=J.NF?gD.qx(C.add):g.F(C.add.vstk);
b.data.abU.push(eY);b.data.O8.push(aH);if(JSON.stringify(eY)!=jd)h9=!0}if(!h9)return;x.q$(b);if(J.NF&&aH.It>0){var ii=b.data._g={classID:"setd",null:kj.RS("contentLayer",!0),T:{t:"Objc",v:{}}};
H.j9.Lt(aH.BD,ii.T.v,aH.It-1);this.track({QI:"set",_g:ii})}}if(J.NF&&aH.It==3)x.Mk(iD.VC(aH.BD.Ptrn.v,R.HZ));
if(!J.NF){var di=aH.strokeStyleContent.v;if(di.classID==gD.gB.dP[2])x.Mk(iD.VC(di.Ptrn.v,R.HZ))}this.MW(b.data,x)}if(r==m.Lf){var gZ=R.Ok,kl=[];
for(var h=0;h<x.Y.length;h++){var N=x.Y[h],C=x.k[N],ap=C.add.vstl;if(ap==null)continue;var eY=JSON.stringify(ap);
for(var fq in gZ)ap[fq]=gZ[fq];var aH=JSON.stringify(ap);if(eY==aH)continue;kl.push([N,eY,aH])}if(kl.length!=0){var a=x.Wo();
if(a&&a.J==this&&a.data.R==r&&a.data.P1.length==kl.length){var hp=!0;for(var h=0;h<kl.length;h++)if(kl[h][0]!=a.data.P1[h][0])hp=!1;
if(hp){for(var h=0;h<kl.length;h++)a.data.P1[h][2]=kl[h][2];x.Ai();return}}var b=new js("Style Change",this);
b.data={R:r,P1:kl};x.q$(b);x.Ai()}}};H.j9.XA=function(J,v,x,o,R,r){var l=J.k[x],M=[];if(R)M=J.k.slice(0);
else for(var h=0;h<J.k.length;h++)if(v.indexOf(h)==-1)M.push(J.k[h]);var P=M.indexOf(l);if(r&&l.tX()&&l.add.lsct==h2.Le)P-=J.Sw(x).length-1;
var S=[];for(var h=0;h<v.length;h++){var c=P+(o?0:1)+h,b=R?R[h]:J.k[v[h]];M.splice(c,0,b);S.push(c)}return[M,S,P]};
H.j9.Lt=function(J,v,x){var o=[gD.AG,gD.Zy,gD.eH][x];if(v.classID==null)v.classID=["solidColorLayer","gradientLayer","patternLayer"][x];
for(var h=0;h<o.length;h++)if(J[o[h]])v[o[h]]=g.F(J[o[h]])};H.j9.anX=function(J){var v=new m.V1;if(J.g!=null){v.color=0;
v.N=J.g.N.slice(0);v.S=J.g.S.Q()}return v};H.j9.mv=function(J,v,x,o,R){var r=o.r/x.r,l=o.$/x.$,M=o.r/2,P=o.$/2,S=g.b.ho(o).T;
for(var h=0;h<J.k.length;h++){var c=J.k[h],b=c.add.SoLd;if(b==null||b.Idnt.v!=v)continue;var w=r!=1||l!=1;
if(w){var U=H.ge.t1(b.nonAffineTransform),F=g.O.e6(U,o),Y=new bC;Y.translate(-M,-P);Y.scale(r,l);Y.translate(M,P);
var A=g.O.K1(F,g.O.Mf(Y)),G=S.slice(0);g.O.u(A,G);b.Trnf=H.ge.y7(G);b.nonAffineTransform=H.ge.y7(G);
if(g.wL.KV(b.quiltWarp.v)){var n=b.quiltWarp.v.bounds.v;n.Rght.v.val=o.r;n.Btom.v.val=o.$}}c.IY(J,null,R,!w)}J.Ai()};
H.j9.aGP=function(J,v,x){v.color=255-v.color;g.SV(v.N);v.px=!0;J.B0(x);x.Ai()};H.j9.prototype.mJ=function(J,v){var x=J.R,o=v.k[J.w];
v.wj=!0;if(x==m.ag){var h=v.add.lnk2.indexOf(v.mA(J.id));if(h==-1)throw"e";v.add.lnk2[h]=J.vj;H.j9.mv(v,J.id,J.Ew.fb,J.vj.fb)}if(x==m.Rl){o.add.SoLd.Impr.v.classID=J.EB;
o.IY(v)}if(x==m.xT){var R=JSON.parse(J.UU);for(var h=0;h<R.length;h++)v.k[R[h]].gR=J.FG[h];v.Ai()}if(x==m.oh){var R=JSON.parse(J.UU);
for(var h=0;h<R.length;h++)v.k[R[h]].fc=J.FG[h];v.Ai()}if(x==m.Ey){var R=JSON.parse(J.UU);for(var h=0;
h<R.length;h++)if(v.k[R[h]].add.lsct!=h2.lj)v.k[R[h]].add.lspf=J.FG[h]}if(x==m.ML){var r=J.Ck,l=J.ayz;
delete o.add[r[0]];if(l[0]!="----")o.add[l[0]]=l[1]}if(x==m.rS){o.add.iOpa=J.FG;v.Ai()}if(x==m.MA){for(var h=0;
h<J.UU.length;h++){var M=v.k[J.UU[h]];M.G0(!M.jh())}v.Ai()}if(x==m.Tv){var P=o.q9();P.isEnabled=!P.isEnabled;
o.B0(v);v.Ai()}if(x==m.E_){var P=o.V0(v).pR;P.isEnabled=!P.isEnabled;o.Ai();v.Ai()}if(x==m.gO){var P=o.add.vmsk;
P.isEnabled=!P.isEnabled;if(!P.isEnabled){if(o.pW){o.pR=o.pW;o.pW=null}else o.pR=null}else if(o.pR){o.pW=o.pR;
o.pR=null}o.B0(v);v.Ai()}if(x==m.Pe){o.Hv=!o.Hv;v.Ai()}if(x==m.gg){o.add.lmfx.masterFXSwitch.v=!o.add.lmfx.masterFXSwitch.v;
o.QF.uQ=!0;v.Ai()}if(x==m.J6){o.add.SoLd.filterFX.v.enab.v=!o.add.SoLd.filterFX.v.enab.v;o.V$(v);v.Ai()}if(x==m.YM){var S=J.index,c=o.add.lmfx[gD.Lw[S[0]]].v[S[1]].v;
c.enab.v=!c.enab.v;o.QF.uQ=!0;v.Ai()}if(x==m.NK){var b=v.k[J.hQ],w=v.k[J.uw],U=J.a5V,F=J.a8O;if(U=="")delete b.add.lmfx;
else b.add.lmfx=JSON.parse(U);if(F=="")delete w.add.lmfx;else w.add.lmfx=JSON.parse(F);b.QF.uQ=!0;w.QF.uQ=!0;
v.Ai()}if(x==m.Zj){var Y=o.add.SoLd.filterFX.v.filterFXList.v[J.index].v;Y.enab.v=!Y.enab.v;o.V$(v);
v.Ai()}if(x==m.acI){o.add.SoLd.filterFX.v=g.F(J.aJ6);o.V$(v);v.Ai()}if(x==m.eq){var P=o.q9();P.DE=!P.DE}if(x==m.Rx){var P=o.add.vmsk;
P.DE=!P.DE}if(x==m.Gy){var A=JSON.parse(J.ati);v.AB=A[0];v.VI=A[1]}if(x==m.lt){var A=J.LN;for(var h=0;
h<A.length;h+=2){var G=A[h],M=G>=0?v.k[G]:v.h1[-1-G];M.add.vogk=JSON.parse(A[h+1]);g.Fw.pY(M.add.vogk,M.add.vmsk);
if(G>=0)M.B0(v)}v.Ai()}if(x==m.D1){o.add.artb=JSON.parse(J.ajy);v.Ai();H.cD.TC(v,J)}if(x==m.WX){v.g=J.ee;
if(J.axy)v.U.xY=J.axy.slice(0);v.ac=J.LN.slice(0);v.Dk=J.ja.slice(0);v.ms=v.Se=!0}if(x==m.Va){o._4=!o._4}if(x==m.OQ){var n=J.aeO;
for(var h=0;h<n.length;h++)v.k[h].C3=n[h]}if(x==m.jS){if(J.DS)H.Io.dO(v,v.Y,null,-J.DS.x,-J.DS.y);if(J.YA)v.Y=J.YA;
if(J.Rz)v.g=J.Rz[0];v.TW=null;v.Ai();H.cD.TC(v,J);v.C0(J.WT);if(J.fG)v.P_(J.fG[0])}if(x==m.Of){for(var h=0;
h<J.Zf.length;h+=3)H.j9.KU(v,v.k[J.Zf[h]],J.Zf[h+1]);if(J.Rz){var E=J.Rz[0];if(E==null)delete v.g;else v.g=E}if(J.arz){var M=v.k[J.Zf[0]];
g.Os(J.Zf[2].N,M.buffer,3)}}if(x==m.nP){o.V0(v).pR=null;o.Ai();v.Ai()}if(x==m.OE){o.V0(v).pR=J.pR;o.Ai();
v.Ai()}if(x==m.BE){H.j9.aif(v,J.pw,0)}if(x==m.Vq){H.j9.Tz(v,o,!0)}if(x==m.gp){H.j9.Tz(v,v.k[J.Gm],J.pR.isEnabled);
H.j9.PU(v,v.k[J.src],J)}if(x==m.Ki){if(J.pW)H.j9.KU(v,o,null);H.j9.PU(v,o,J)}if(x==m.yO){v.b5=JSON.parse(J.MV)}if(x==m.Gl){v.name=J.azU}if(x==m.E9){for(var h=0;
h<J.Fu.length;h++){var K=J.Fu[h],M=v.k[K[0]];M.v7(K[1]);if(K[3])M.add.lnsr=K[3];else delete M.add.lnsr}}if(x==m.TI){for(var h=0;
h<J.k.length;h++)v.k[J.k[h]].add.lclr=J.ahm[h]}if(x==m.Kh){var e=J.abU;for(var h=0;h<J.UU.length;h++){var M=v.k[J.UU[h]],$=e[h];
if(!J.NF)M.add.vstk=g.F($);else gD.S6(M.add,g.F($));M.dM(v)}v.Ai()}if(x==m.Lf){for(var h=0;h<J.P1.length;
h++){var N=J.P1[h];v.k[N[0]].add.vstl=JSON.parse(N[1])}v.Ai()}if(x==m.su){o.a8t(J.EB);o.B0(v);v.Ai()}v.Se=!0};
H.j9.prototype.MW=function(J,v){var x=J.R,o=v.k[J.w];v.wj=!0;if(x==m.ag){var h=v.add.lnk2.indexOf(v.mA(J.id));
if(h==-1)throw"e";v.add.lnk2[h]=J.Ew;H.j9.mv(v,J.id,J.vj.fb,J.Ew.fb)}if(x==m.Rl){o.add.SoLd.Impr.v.classID=J.ra;
o.IY(v)}if(x==m.xT){var R=JSON.parse(J.UU);for(var h=0;h<R.length;h++)v.k[R[h]].gR=J.ra;v.Ai()}if(x==m.oh){var R=JSON.parse(J.UU);
for(var h=0;h<R.length;h++)v.k[R[h]].fc=J.ra;v.Ai()}if(x==m.Ey){var R=JSON.parse(J.UU);for(var h=0;h<R.length;
h++)if(v.k[R[h]].add.lsct!=h2.lj)v.k[R[h]].add.lspf=J.ra[h]}if(x==m.ML){var r=J.ayz,l=J.Ck;delete o.add[r[0]];
if(l[0]!="----")o.add[l[0]]=l[1]}if(x==m.rS){o.add.iOpa=J.ra;v.Ai()}if(x==m.MA){for(var h=0;h<J.UU.length;
h++){var M=v.k[J.UU[h]];M.G0(!M.jh())}v.Ai()}if(x==m.Tv){var P=o.q9();P.isEnabled=!P.isEnabled;o.B0(v);
v.Ai()}if(x==m.E_){var P=o.V0(v).pR;P.isEnabled=!P.isEnabled;o.Ai();v.Ai()}if(x==m.gO){var P=o.add.vmsk;
P.isEnabled=!P.isEnabled;if(!P.isEnabled){if(o.pW){o.pR=o.pW;o.pW=null}else o.pR=null}else if(o.pR){o.pW=o.pR;
o.pR=null}o.B0(v);v.Ai()}if(x==m.Pe){o.Hv=!o.Hv;v.Ai()}if(x==m.gg){o.add.lmfx.masterFXSwitch.v=!o.add.lmfx.masterFXSwitch.v;
o.QF.uQ=!0;v.Ai()}if(x==m.J6){o.add.SoLd.filterFX.v.enab.v=!o.add.SoLd.filterFX.v.enab.v;o.V$(v);v.Ai()}if(x==m.YM){var S=J.index,c=o.add.lmfx[gD.Lw[S[0]]].v[S[1]].v;
c.enab.v=!c.enab.v;o.QF.uQ=!0;v.Ai()}if(x==m.NK){var b=v.k[J.hQ],w=v.k[J.uw],U=J.aky,F=J.ajU;if(U=="")delete b.add.lmfx;
else b.add.lmfx=JSON.parse(U);if(F=="")delete w.add.lmfx;else w.add.lmfx=JSON.parse(F);b.QF.uQ=!0;w.QF.uQ=!0;
v.Ai()}if(x==m.Zj){var Y=o.add.SoLd.filterFX.v.filterFXList.v[J.index].v;Y.enab.v=!Y.enab.v;o.V$(v);
v.Ai()}if(x==m.acI){o.add.SoLd.filterFX.v=g.F(J.aG1);o.V$(v);v.Ai()}if(x==m.eq){var P=o.q9();P.DE=!P.DE}if(x==m.Rx){var P=o.add.vmsk;
P.DE=!P.DE}if(x==m.Gy){var A=JSON.parse(J.a2A);v.AB=A[0];v.VI=A[1]}if(x==m.lt){var A=J.c1;for(var h=0;
h<A.length;h+=2){var G=A[h],M=G>=0?v.k[G]:v.h1[-1-G];M.add.vogk=JSON.parse(A[h+1]);g.Fw.pY(M.add.vogk,M.add.vmsk);
if(G>=0)M.B0(v)}v.Ai()}if(x==m.D1){o.add.artb=JSON.parse(J.vo);v.Ai();H.cD.Ht(v,J)}if(x==m.WX){v.g=J.gb;
if(J.a8H)v.U.xY=J.a8H.slice(0);v.ac=J.c1.slice(0);v.Dk=J.S9.slice(0);v.ms=v.Se=!0}if(x==m.Va){o._4=!o._4}if(x==m.OQ){var n=J.aGZ;
for(var h=0;h<n.length;h++)v.k[h].C3=n[h]}if(x==m.jS){v.a2c();var E=J.i8,K=0,e;for(var h=0;h<E.length;
h++){var M=E[h],$=M.add.lsct;if($==h2.lj)K++;else if($==h2.Uk||$==h2.Le)K--;if(M.add.artb&&K!=0)e="Artboards can not be inside folders."}if(e){v.history.pop();
v.wb--;alert(e);return}if(J.Sg)v.Y=J.Sg;if(J.Rz)v.g=J.Rz[1];v.TW=null;v.Ai();v.C0(J.i8);H.cD.Ht(v,J);
if(J.DS)H.Io.dO(v,v.Y,null,J.DS.x,J.DS.y);if(J.fG)v.P_(J.fG[1])}if(x==m.Of){for(var h=0;h<J.Zf.length;
h+=3)H.j9.KU(v,v.k[J.Zf[h]],J.Zf[h+2]);if(J.Rz){var N=J.Rz[1];if(N==null)delete v.g;else v.g=N}if(J.arz){var M=v.k[J.Zf[0]],k=M.buffer;
for(var h=0;h<k.length;h+=4)k[h+3]=255}}if(x==m.nP){o.V0(v).pR=J.pR;o.kG=0;o.Ai();v.Ai()}if(x==m.OE){o.V0(v).pR=null;
o.kG=0;o.Ai();v.Ai()}if(x==m.BE){H.j9.aif(v,J.pw,1)}if(x==m.Vq){H.j9.PU(v,o,J)}if(x==m.gp){H.j9.Tz(v,v.k[J.src],J.pR.isEnabled);
H.j9.PU(v,v.k[J.Gm],J)}if(x==m.Ki){H.j9.Tz(v,o,J.pR.isEnabled);if(J.pW)H.j9.KU(v,o,J.pW)}if(x==m.yO){v.b5=JSON.parse(J.Mp)}if(x==m.Gl){v.name=J.yU}if(x==m.E9){for(var h=0;
h<J.Fu.length;h++){var V=J.Fu[h],M=v.k[V[0]];M.v7(V[2]);if(V[4])M.add.lnsr=V[4];else delete M.add.lnsr}}if(x==m.TI){for(var h=0;
h<J.k.length;h++)v.k[J.k[h]].add.lclr=J.Ef[h]}if(x==m.Kh){var X=J.O8;for(var h=0;h<J.UU.length;h++){var M=v.k[J.UU[h]],Q=X[h];
if(!J.NF)M.add.vstk=g.F(Q);else gD.S6(M.add,g.F(Q));M.dM(v)}v.Ai()}if(x==m.Lf){for(var h=0;h<J.P1.length;
h++){var L=J.P1[h];v.k[L[0]].add.vstl=JSON.parse(L[2])}v.Ai()}if(x==m.su){o.a8t(J.ra);o.B0(v);v.Ai()}v.Se=!0};
H.j9.X2=function(J,v){var x=0;for(var h=0;h<J.k.length;h++){var o=J.k[h].getName();if(o.startsWith(v)){var R=o.slice(v.length).trim(),r=parseInt(R);
if(!isNaN(r)&&r+""==R&&r>x)x=r}}return x};H.j9.aif=function(J,v,x){for(var h=0;h<v.length;h++){var o=v[h],R=J.k[o.rk];
if(o.ZO){R.add.SoLd=JSON.parse(o.ZO[x])}if(o.hF){if(o.hF[1-x]!=null)J.Pt(o.hF[1-x]);if(o.hF[x]!=null)J.Dj(o.hF[x]);
else R.kG=0}R.IY(J)}};H.j9.a7D=function(J,v){var x=J.NQ,o=J.S.Q();if(x!=null&&(x.x!=v.r||x.y!=v.$)){o.x=Math.floor((v.r-o.r)/2);
o.y=Math.floor((v.$-o.$)/2)}else if(x==null){var R=new jj(0,0,v.r,v.$),r=v.Ss();if(r!=-1)R=v.k[r].Gf();
o.x+=R.x;o.y+=R.y}return o};H.j9.az4=function(J,v){if(v.pW)v.pW=null;else v.pR=null;v.B0(J);J.Ai();v.kG=0};
H.j9.KU=function(J,v,x){var o=v.q9();if(o==null&&x==null)return;if(o)H.j9.az4(J,v);if(x==null)return;
if(v.pR)v.pW=x;else v.pR=x;v.B0(J);J.Ai()};H.j9.Tz=function(J,v,x){if(v.pW&&x){v.pR=v.pW;v.pW=null}else if(v.pR&&x){v.pR=null}delete v.add.vogk;
delete v.add.vstk;delete v.add.vmsk;v.B0(J);v.CE=!1;J.TW=[];J.Ai()};H.j9.PU=function(J,v,x){v.add.vogk=JSON.parse(x.Fw);
if(x.gB)v.add.vstk=JSON.parse(x.gB);else delete v.add.vstk;v.add.vmsk=x.pR.Q();if(v.pR&&v.add.vmsk.isEnabled)v.pW=v.pR;
v.B0(J);v.CE=x.js;J.TW=[J.k.indexOf(v)];J.GP=[];J.Ai()};H.UM=function(){H.AA.call(this,"Layer Styles",H.Ar);
this.Qa=null;this.xy=null;this.ec=null;this.Sy=[];this.se=null};H.UM.prototype=new H.AA;H.UM.prototype.vE=function(J,v,x,o,R){var r=J.w;
if(r==null)r=x.Y[0];var l=x.k[r],M=J.Vn;if(this.Qa==null){this.ec=H.UM.br(x,l);this.Qa=JSON.stringify(this.ec);
if(l.add.lmfx)this.xy=JSON.stringify(l.add.lmfx)}if(l.add.lmfx==null){l.add.lmfx=JSON.parse(gD.default);
for(var h=0;h<gD.order.length;h++)l.add.lmfx[gD.Lw[h]]={t:"VlLs",v:[]}}if(J.R=="scaleeffects"){if(J.K=="confirm"||J.K=="cancel"){this.vE({R:J.K},v,x,o,R);
return}l.add.lmfx=JSON.parse(this.xy);iD.Cz(l.add.lmfx,J.K/100)}else if(J.R=="changeprop"){var P=null;
if(M!=0){var S=this.Sy[M[0]];if(S==null)S=gD.Sy[M[0]];S=JSON.parse(S);var c=l.add.lmfx[gD.Lw[M[0]]].v;
if(c[M[1]]==null)c[M[1]]={t:"Objc",v:S};P=c[M[1]].v;for(var b in S)if(P[b]==null)P[b]=S[b]}if(J.R=="changeprop"){if(M==0){this.ec[J.f5].v=J.K;
H.UM.tP(x,l,this.ec)}else if(J.f5=="lagl"){if(P.uglg&&P.uglg.v){x.OA(J.K.val);this.ec.gagl.v.val=x.AR()}else P[J.f5].v=J.K}else if(J.f5=="Lald"){if(P.uglg.v){x.vm(J.K.val);
this.ec.globalAlt=x.Ny()}else P[J.f5].v=J.K}else if((M[0]==3||M[0]==8)&&(J.f5=="Clr"||J.f5=="Grad")){if(J.f5=="Clr"){P.Clr={t:"Objc",v:J.K};
delete P.Grad}if(J.f5=="Grad"){P.Grad={t:"Objc",v:J.K};delete P.Clr}}else{P[J.f5].v=J.K}if(M!=0)this.Sy[M[0]]=JSON.stringify(P)}if(M!=0)if(P.Ptrn)x.Mk(iD.VC(P.Ptrn.v,R.HZ))}else if(J.R=="setstl"){var w=J.K.Lefx;
if(w)iD.al8(w,x,R.HZ);iD.ajc(J.K,l,null,x);this.ec=H.UM.br(x,l)}else if(J.R=="st_dupsingle"){var U=l.add.lmfx[gD.Lw[J.xH[0]]].v;
if(U[J.xH[1]]==null)return;var F=g.F(U[J.xH[1]]);U.splice(J.xH[1],0,F)}else if(J.R=="st_movsingle"){var Y=J.xH[1],U=l.add.lmfx[gD.Lw[J.xH[0]]].v;
if(U[J.xH[1]]==null)return;var A=Math.max(0,Math.min(U.length-1,Y+J.a09)),G=U[A];U[A]=U[Y];U[Y]=G}else if(J.R=="cancel"){if(this.xy==null)delete l.add.lmfx;
else l.add.lmfx=JSON.parse(this.xy);H.UM.tP(x,l,JSON.parse(this.Qa));this.Qa=null;this.xy=null}else if(J.R=="confirm"){var n=JSON.stringify(l.add.lmfx),E=new js([11,6],this);
E.data={k:[r],IM:[this.xy],Qh:[n],Q9:[this.Qa],jr:[JSON.stringify(this.ec)]};x.q$(E);this.Qa=null;this.xy=null;
if(n!=null){var K=JSON.parse(n);aw.SM(K);K.classID="Lefx";delete K.masterFXSwitch;var e=new dd(j.E.aT);
e.W5=!0;e.data={QI:"set",bV:!0};var $=kj.RS("Lyr",!0);$.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
e.data._g={__name:"Set",classID:"setd",null:$,T:{t:"Objc",v:K}};v.a(e)}}else if(J.R=="st_copy"){this.se=[this.Qa,this.xy];
this.Qa=null;this.xy=null}else if(J.R=="st_paste"||J.R=="st_clear"){if(J.R=="st_paste"&&this.se==null)return;
var N=J.w!=null?[J.w]:x.Y.slice(0),k=[],V=[],X=[],Q=[];for(var h=0;h<N.length;h++){var l=x.k[N[h]],L=H.UM.br(x,l);
k.push(l.add.lmfx?JSON.stringify(l.add.lmfx):null);X.push(JSON.stringify(L));if(J.R=="st_paste"){V.push(this.se[1]);
Q.push(this.se[0])}else{V.push(null);L.lrMd.v=0;L.Opct.v.val=100;L.iOpa.v.val=100;L.blIf={v:[]};for(var _=0;
_<10;_++)L.blIf.v.push(0,0,255,255);Q.push(JSON.stringify(L))}}var E=new js([11,6],this);E.data={k:N,IM:k,Qh:V,Q9:X,jr:Q};
this.MW(E.data,x);x.q$(E);this.Qa=null;this.xy=null}else{var a=this.ec,K=null;if(J.R=="st_delsingle"){K=JSON.parse(this.xy);
K[gD.Lw[J.xH[0]]].v.splice(J.xH[1],1);K=JSON.stringify(K)}if(K==null)delete l.add.lmfx;else l.add.lmfx=JSON.parse(K);
if(a!=null)H.UM.tP(x,l,a);var E=new js([11,6],this);E.data={k:[J.w],IM:[this.xy],Qh:[K],Q9:[this.Qa],jr:[JSON.stringify(a)]};
x.q$(E);this.Qa=null;this.xy=null}l.QF.uQ=!0;x.wj=!0;x.Ai()};H.UM.br=function(J,v){if(v.add.iOpa==null)v.add.iOpa=255;
if(v.add.brst==null)v.add.brst=[1,1,1];var x=v.tX()?["pass"].concat(gX.qI):gX.qI;return{lrMd:{v:x.indexOf(v.gR)},Opct:{v:{type:"#Prc",val:Math.round(v.fc*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(v.add.iOpa*100/255)},t:"UntF"},blIf:{v:v.BF.slice(0)},brst:{v:v.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:J.AR()}},globalAlt:J.Ny(),isFolder:v.tX()}};
H.UM.tP=function(J,v,x){var o=v.tX()?["pass"].concat(gX.qI):gX.qI;v.gR=o[x.lrMd.v];v.fc=Math.round(x.Opct.v.val*255/100);
v.add.iOpa=Math.round(x.iOpa.v.val*255/100);v.BF=x.blIf.v.slice(0);v.add.brst=x.brst.v.slice(0);J.OA(x.gagl.v.val);
J.vm(x.globalAlt)};H.UM.prototype.mJ=function(J,v){for(var h=0;h<J.k.length;h++){var x=v.k[J.k[h]],o=J.IM[h];
if(o==null)delete x.add.lmfx;else x.add.lmfx=JSON.parse(o);H.UM.tP(v,x,JSON.parse(J.Q9[h]));x.QF.uQ=!0}v.wj=!0;
v.Ai()};H.UM.prototype.MW=function(J,v){for(var h=0;h<J.k.length;h++){var x=v.k[J.k[h]],o=J.Qh[h];if(o==null)delete x.add.lmfx;
else x.add.lmfx=JSON.parse(o);H.UM.tP(v,x,JSON.parse(J.jr[h]));x.QF.uQ=!0}v.wj=!0;v.Ai()};H._3=function(){H.AA.call(this,"Layer Comps",H.Iq)};
H._3.prototype=new H.AA;H._3.prototype.vE=function(J,v,x,o){var R=g.F(x.eG),r=g.F(x.eG),l=null,M=null,P=null,S=-1,c=!1;
if(J.R=="delLC"){var b=H._3.ld(x.eG,J.Vn),w=x.eG.lastAppliedComp?x.eG.lastAppliedComp.v:0;r.list.v.splice(b,1);
if(w==J.Vn)delete r.lastAppliedComp;l="Delete Layer Comp"}if(J.R=="editLC"){var b=H._3.ld(x.eG,J.Vn),U=r.list.v[b].v;
if(J.yU!=null)U.Nm.v=J.yU;if(J.a8E!=null){var F=J.a8E,Y=U.capturedInfo.v,A=Y&(1<<F)-1;Y=Y>>F;if((Y&1)==1)Y--;
else Y++;U.capturedInfo.v=(Y<<F)+A}l="Layer Comp properties"}if(J.R=="setLC"){H._3.vx(x);if(J.Vn==0)delete r.lastAppliedComp;
else r.lastAppliedComp={t:"long",v:J.Vn};l="Switch Layer Comp";c=!0}if(J.R=="updLC"){H._3.vx(x);M=H._3.akL(x,J.Vn);
P=H._3.kT(x,J.Vn);r.lastAppliedComp={t:"long",v:J.Vn};l="Update Layer Comp";S=J.Vn;c=!0}if(J.R=="addLC"){H._3.vx(x);
var G=1;for(var h=0;h<r.list.v.length;h++)G=Math.max(G,r.list.v[h].v.compID.v)+1;G+=Math.floor(Math.random()*1e4);
var n={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(r.list.v.length+1)},compID:{t:"long",v:G},capturedInfo:{t:"long",v:7}}};
r.list.v.push(n);r.lastAppliedComp={t:"long",v:G};l="New Layer Comp";var E=H._3.kT(x,G);H._3.Fv(x,E,G)}var K=new js(l,this);
K.data={azX:R,a8I:r,ac8:M,aAZ:P,Vn:S,f7:c};this.MW(K.data,x);x.q$(K)};H._3.prototype.MW=function(J,v){v.eG=J.a8I;
v.wj=!0;if(J.aAZ)H._3.Fv(v,J.aAZ,J.Vn);if(J.f7){var x=v.eG.lastAppliedComp?v.eG.lastAppliedComp.v:0,o=H._3.ld(v.eG,x),R=o==-1?null:v.eG.list.v[o].v,r=R?R.capturedInfo.v:7;
H._3.gW(v,x,r);v.Ai()}};H._3.prototype.mJ=function(J,v){v.eG=J.azX;v.wj=!0;if(J.ac8)H._3.Fv(v,J.ac8,J.Vn);
if(J.f7){var x=v.eG.lastAppliedComp?v.eG.lastAppliedComp.v:0,o=H._3.ld(v.eG,x),R=o==-1?null:v.eG.list.v[o].v,r=R?R.capturedInfo.v:7;
H._3.gW(v,x,r);v.Ai()}};H._3.vx=function(J){if(J.eG.lastAppliedComp!=null||!J.cj)return;var v=H._3.kT(J,0);
H._3.Fv(J,v,0);J.cj=!1};H._3.LM=function(J,v,x){J.v.Hrzn.v+=v;J.v.Vrtc.v+=x};H._3.ld=function(J,v){var x=J.list.v;
for(var h=0;h<x.length;h++)if(x[h].v.compID.v==v)return h;return-1};H._3.am5=function(J){var v=J.layerSettings.v,R=null;
if(v.length==0)return;var x="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),o=v[0].v;
if(o.enab==null)o.enab={t:"bool",v:!0};if(o.Ofst==null)o.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var h=0;h<v.length;h++){var r=v[h].v;if(R==null)R=g.F(r);else for(var l=0;l<x.length;l++){var M=x[l];
if(r[M])R[M]=g.F(r[M])}v[h].v=g.F(R)}};H._3.auO=function(J,v){var x=J.add.shmd.cmls,o=x.layerSettings.v;
for(var R=0;R<o.length;R++){var r=o[R].v,l=r.compList.v[0].v;if(l==v)return R}return-1};H._3.aED=function(J,v){var x=H._3.auO(J,v);
return x==-1?null:J.add.shmd.cmls.layerSettings.v[x].v};H._3.gW=function(J,v,x){for(var h=0;h<J.k.length;
h++){var o=J.k[h],R=o.add.shmd.cmls;if(R==null)continue;var r=R.layerSettings.v,l=H._3.aED(o,v);if(l==null){o.G0(!1);
continue}if((x&1)!=0){if(l.enab)o.G0(l.enab.v);else o.G0(!0)}if((x&2)!=0){if(l.Ofst){var M=l.Ofst.v,P=o.xD(J),S=Math.round(M.Hrzn.v-P.x),c=Math.round(M.Vrtc.v-P.y);
if(S!=0||c!=0)H.Io.dO(J,[h],null,S,c)}}if((x&4)!=0){if(l.Lefx){var b=g.F(l.Lefx.v);aw.kH(b);if(JSON.stringify(b)!=JSON.stringify(o.add.lmfx)){o.add.lmfx=b;
o.QF.uQ=!0}}else delete o.add.lmfx;if(l.blendOptions){var w=l.blendOptions.v;if(w.Opct)o.fc=Math.round(255*w.Opct.v.val/100);
if(w.fillOpacity)o.add.iOpa=Math.round(255*w.fillOpacity.v.val/100);if(w.Md)o.gR=o.add.lsct==h2.lj?"norm":gX.kF(w.Md.v.BlnM)}else{o.fc=255;
o.gR=o.tX()?"pass":"norm";o.add.iOpa=255}}}};H._3.akL=function(J,v){var x={};for(var h=0;h<J.k.length;
h++){var o=J.k[h];if(o.add.shmd==null||o.add.shmd.cmls==null)continue;x["l"+o.add.lyid]=g.F(H._3.aED(o,v))}return x};
H._3.kT=function(J,v){var x={};for(var h=0;h<J.k.length;h++){var o=J.k[h],R=o.add.lyid;x["l"+R]=H._3.apR(J,o,v)}return x};
H._3.apR=function(J,v,x){var o=v.add.shmd?v.add.shmd.cmls:null,R={classID:"null"},r=v.xD(J),l={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:r.x},Vrtc:{t:"long",v:r.y}}};
R.compList={t:"VlLs",v:[{t:"long",v:x}]};R.enab={t:"bool",v:v.jh()};R.Ofst=g.F(l);R.FXRefPoint=g.F(o&&o.origFXRefPoint?o.origFXRefPoint:l);
R.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:gX.Pp(v.gR)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*v.fc/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:v.add.iOpa!=null?100*v.add.iOpa/255:100}}}};
if(v.add.vmsk){R.vectorMask={t:"Objc",v:{classID:"null"}};R.vectorMask.v.Ofst=g.F(l)}if(v.add.lmfx){R.Lefx={t:"Objc",v:g.F(v.add.lmfx)};
aw.SM(R.Lefx.v)}return R};H._3.agv=function(J,v){var x=v.add.lyid;if(v.add.shmd==null)v.add.shmd={};
if(v.add.shmd.cmls==null){v.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:x},layerSettings:{t:"VlLs",v:[{t:"Objc",v:H._3.apR(J,v,0)}]}}}};
H._3.Fv=function(J,v,x){for(var h=0;h<J.k.length;h++){var o=J.k[h],R=o.add.lyid;H._3.agv(J,o);var r=o.add.shmd.cmls,l=r.layerSettings.v,M=v["l"+R];
if(M!=null)M={t:"Objc",v:g.F(M)};var P=H._3.auO(o,x);if(P==-1){if(M==null)continue;else l.push(M)}else{if(M==null)l.splice(P,1);
else l[P]=M}}};H._3.RW=function(J,v){for(var h=0;h<J.k.length;h++){var x=J.k[h],o=x.add.lyid;if(x.add.shmd==null||x.add.shmd.cmls==null)continue;
var R=x.xD(J),r=Math.round(R.x),l=Math.round(R.y);if(!v){r=-r;l=-l}var M=x.add.shmd.cmls,P=M.layerSettings.v;
if(M.origFXRefPoint)H._3.LM(M.origFXRefPoint,-r,-l);for(var S=0;S<P.length;S++){var c=P[S].v;H._3.LM(c.Ofst,r,l);
var b=c.imageMask,w=c.vectorMask;if(b&&b.v.Ofst)H._3.LM(b.v.Ofst,r,l);if(w&&w.v.Ofst)H._3.LM(w.v.Ofst,r,l)}}};
H.Cs=function(){H.AA.call(this,"Adjust Edit",H.hi);this.Mp=null;this.CQ=null};H.Cs.prototype=new H.AA;
H.Cs.Ns=function(J,v,x,o){if(o)v/=4;var R=0,r=0,l=255,M=0,P=0,S=255;while(r+J[R]<v){r+=J[R];R++}while(M+J[l]<v){M+=J[l];
l--}if(o){R-=Math.round(J[R]/(x/32));l+=Math.round(J[l]/(x/32));if(R<0)P=Math.round(-R*255/(l-R));if(l>255)S=255-Math.round((l-255)*255/(l-R))}return[Math.max(R,0),Math.min(l,255),P,S,100]};
H.Cs.prototype.vE=function(J,v,x,o,R){var r=J.R;if(r=="auto"){var l=J.TV,M=H.Cs.getData(x);for(var h=0;
h<M.length;h++){var P=M[h],S;if(l<3){}else{var c=a8.ow("hue2");ic.tM(c,0,[0,-100,0]);S=kC.f2("hue2",c)}kC.vY(S,P.u8,P.VL,P.Yf)}H.Cs.Dd(x,M);
H.Cs.BB(x,M,l<3?[4,16,l]:[19,7,0],this);x.Ai()}if(r=="edit_layer")this.a19(J,v,x,o);if(r=="edit"||r=="confirm"||r=="cancel")this.X3(J,v,x,R,!0);
if(r=="start"){if(x.Y.length==0)return;var b=x.k[x.Y[0]];if(b.add.SoLd&&b.kG<=0&&x.Dk.length==0){var w=new dd(j.E.G,!0);
w.J=H.c$;w.data={R:"start",Y8:J.BV,Bl:J.Bl};v.a(w);return}if(!x.di(v,null,!0))return;if(i8[J.BV]&&J.Bl==null){if(x.Y.length!=1)alert("Will be applied to "+x.Y.length+" layers.");
var w=new dd(j.E.j,!0);w.data={R:j.m.wz,kA:"afw_"+J.BV};v.a(w)}else{this.X3({R:"edit",Bl:J.Bl,Y8:J.BV},v,x,R);
this.X3({R:"confirm",Y8:J.BV},v,x,R)}}};H.Cs.prototype.a19=function(J,v,x,o){var R=J.R,r=x.Y[0],l=x.k[r],M=kC.get(l.add),w;
if(l.add[M]==null)return;var P=g.F(l.add[M]);for(var S in J.K)P[S]=J.K[S];var c=g.F(P);for(var S in kC.th)if(kC.th[S]==M)c.classID=S;
var b=x.history[x.wb];if(b&&b.J==this&&b.data.EB!=null&&b.data.w==r)w=b;else{var U=new dd(j.E.aT,!0),F={classID:"setd",null:kj.RS("AdjL",!0),T:{t:"Objc",v:c}};
U.data={bV:!0,QI:"set",_g:F};v.a(U);var w=new js([6,39],this);w.data={w:r,EB:l.add[M],ra:P,DD:F};x.q$(w)}w.data.ra=P;
w.data.DD.T.v=c;this.MW(w.data,x)};H.Cs.getData=function(J,v,x){var o=[],R=new jj(0,0,J.r,J.$),r=J.Dk.length!=0?[-1-J.Dk[0]]:J.Y;
for(var h=0;h<r.length;h++){var l=r[h],M=l<0?null:J.k[l],P={w:l,tF:l<0?1:M.kG};o.push(P);var S=J.ac[-1-l];
if(0<=l)S=M.kG<=0?null:M.kG==1?M.q9():M.V0(J).pR;var c=S?S.S:M.S;if(J.g){P.Yf=J.g.S.Xt(v||S!=null?R:c)}else P.Yf=v||S!=null?c.h0(R):c.Q();
if(x)P.Yf=x[h].Yf.Q();var b=P.Yf.o();P.u8=g.C(b*4,J.depth);if(S)H.P8.MB(S.N,S.S,S.color,P.u8,P.Yf);else g.sW(M.buffer,c,P.u8,P.Yf);
P.VL=P.u8.slice(0);if(J.g){P.Zf=g.C(b,J.depth);g.Cc(J.g.N,J.g.S,P.Zf,P.Yf)}}return o};H.Cs.aDv=function(J,v,x){if(v==null)return v;
var o=kC.FL(J,v),r;if(o==-1)return v;var R=x.length>>>2,l=g.n7(x),M=.001*R;if(o==0||o==2)r=[[0,255,0,255,100],H.Cs.Ns(l[1],M,R,o==2),H.Cs.Ns(l[2],M,R,o==2),H.Cs.Ns(l[3],M,R,o==2)];
if(o==1)r=[H.Cs.Ns(l[0],M*.33,R,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var P=a8.ow("levl");
for(var h=0;h<4;h++)je.tM(P,h,r[h]);return P};H.Cs.a1i=function(J,v,x,o){var R,r;if(x.t=="name"){var l=0;
for(var M=0;M<J.k.length;M++)if(J.k[M].getName()==x.v.val)l=M;if(J==v&&l==o.w){R=o.u8;r=o.Yf}else{var P=J.k[l];
R=P.buffer;r=P.S}}else{r=new jj(0,0,J.r,J.$);R=J==v?o.fK:J.rv()}return[R,r]};H.Cs.prototype.X3=function(J,v,x,o){if(this.Mp==null){if(J.Y8=="aply")x.k[x.Y[0]].extend(new jj(0,0,x.r,x.$));
this.Mp=H.Cs.getData(x,null,J.Y8=="fade"?x.Wo().data:null);if(J.Y8=="aply"||J.Y8=="matc")this.Mp[0].fK=x.rv()}if(J.R=="edit"){this.CQ=[J.Y8,J.Bl];
var R=this.Mp[0],r=H.Cs.aDv(J.Y8,J.Bl,R.u8),l=kC.f2(J.Y8,r);if(J.Y8=="fade"||J.Y8=="matc"||J.Y8=="aply")l=J.Bl;
if(l!=null){for(var M=0;M<this.Mp.length;M++){var P=this.Mp[M];if(J.dH)g.oj(P.u8,P.VL);else if(J.Y8=="fade"){var S=gX.kF(J.Bl.Md.v.BlnM),c=J.Bl.Opct.v.val/100,b=x.Wo().data[M];
g.oj(b.u8,P.VL);if(S=="norm")g.v.PB(P.u8,P.Yf,P.VL,P.Yf,null,null,null,P.Yf,c);else{var w=iD.tl();w.Hm=!0;
for(var h=0;h<b.u8.length;h+=4)if(b.u8[h+3]!=P.u8[h+3]){w=null;break}g.v.Ry(S,P.u8,P.Yf,P.VL,P.Yf,P.Yf,c,w)}}else if(J.Y8=="matc"){var U;
if(l.noReference&&l.noReference.v)U=P.u8;else{var F=l.Srce.v,Y=F[1].v.val,A=v.n4,G=x;for(var h=0;h<A.length;
h++)if(A[h].name==Y)G=A[h];var n=H.Cs.a1i(G,x,F[0],P);U=n[0]}dg(P.u8,P.Yf.r,P.Yf.$,U,P.VL,[l.Lght.v,l.ClrR.v,l.Fade.v,l.neutralizeColor?l.neutralizeColor.v:!1])}else if(J.Y8=="aply"){l=l.With.v;
var E=l.T.v,n=H.Cs.a1i(x,x,E[1],P),U=n[0],K=n[1],e=l.Clcl?l.Clcl.v.Clcn:null,S=e?gX.kF(e):"norm",c=l.Opct?l.Opct.v.val/100:1,$=["RGB","Rd","Grn","Bl","Trsp"].indexOf(E[0].v.enum),r=l.Invr&&l.Invr.v;
if(r||$!=0){U=U.slice(0);if(r)g.aeu(U);if($!=0){var N=g.C(K.o());g.Vi(U,N,$-1);if($==4)g.SV(N);for(var k=0;
k<3;k++)g.Os(N,U,k)}}if(e=="Add"||e=="Sbtr"){var V=1/l.Scl.v,X=l.Ofst.v,Q=e=="Add"?1:-1,L=new Uint8ClampedArray(P.VL.buffer);
for(var h=0;h<U.length;h+=4){L[h]=(P.u8[h]+Q*U[h])*V+X;L[h+1]=(P.u8[h+1]+Q*U[h+1])*V+X;L[h+2]=(P.u8[h+2]+Q*U[h+2])*V+X}}else{var w=iD.tl();
w.Hm=l.PrsT&&l.PrsT.v;P.VL.fill(0);P.VL.set(P.u8);g.v.Ry(S,U,K,P.VL,P.Yf,P.Yf,c,w)}}else kC.vY(l,P.u8,P.VL,P.Yf)}H.Cs.Dd(x,this.Mp)}}if(J.R=="cancel"){H.Cs.azJ(x,this.Mp);
this.Mp=null}if(J.R=="confirm"){var _={fade:[2,11],aply:[2,12],matc:[4,18]},a=_[J.Y8];if(a==null)a=kC.names[J.Y8];
var T=kC.FL(J.Y8,this.CQ[1]);if(T!=-1)a=[4,16,T];H.Cs.BB(x,this.Mp,a,this);this.Mp=null;if(T==-1)H.Cs.LB(v,this.CQ)}x.Ai()};
H.Cs.LB=function(J,v){var x=v[0],o=v[1],R,r;if(kC.Tn[x]){R=kC.Tn[x];if(i8[x])r=o}if(a8.Tn[x]){R=a8.Tn[x];
if(i8[x])r=o}if(x=="fade"){R="fade";r=o}if(x=="matc"){R="matchColor";r=o}if(x=="aply"){R="applyImageEvent";
r=o}if(x=="GEfc"){if(r.GEfs)r=r.GEfs.v[0].v}if(R==null)return;var l=new dd(j.E.aT,!0);l.data={bV:!0,QI:R};
if(r){r=g.F(r);l.data._g=r}J.a(l)};H.Cs.azJ=function(J,v){H.Cs.Tt(J,v)};H.Cs.BB=function(J,v,x,o){for(var h=0;
h<v.length;h++){var R=v[h],r=J.k[R.w],l=R.w<0?J.ac[-1-R.w]:R.tF<=0?null:R.tF==1?r.q9():r.V0(J).pR;if(l){l.Zv();
l.px=!0;if(r)r.B0(J)}else{r.Zv();r.Ai()}delete R.VL;delete R.Zf}var M=new js(x,o);M.data=v;J.q$(M);J.wj=!0};
H.Cs.Dd=function(J,v,x){for(var h=0;h<v.length;h++){var o=v[h],R=J.k[o.w],r=x?o.u8:o.VL,l=o.Yf;if(o.tF==0){R.extend(l);
if(o.Zf){g.sW(o.u8,l,R.buffer,R.S);g.v.PB(r,l,R.buffer,R.S,o.Zf,l,0,l,1)}else g.sW(r,l,R.buffer,R.S)}else{var M=o.w<0?J.ac[-1-o.w]:o.tF==1?R.q9():R.V0(J).pR;
M.extend(l);if(o.Zf){var P=g.C(l.o()*4);g.oj(o.u8,P);g.v.PB(r,l,P,l,o.Zf,l,0,l,1);H.P8.iA(P,l,M)}else H.P8.iA(r,l,M);
M.px=!0;if(R)R.B0(J)}if(R)R.Ai()}if(!x)H.Cs.avc(J,v)};H.Cs.Tt=function(J,v){for(var h=0;h<v.length;h++){var x=v[h],o=J.k[x.w],R=x.Yf,r=g.C(R.o()*4,J.depth);
if(x.tF==0){g.sW(o.buffer,o.S,r,R);o.extend(R);g.sW(x.u8,R,o.buffer,o.S);o.Zv()}else{var l=x.w<0?J.ac[-1-x.w]:x.tF==1?o.q9():o.V0(J).pR;
H.P8.MB(l.N,l.S,l.color,r,R);l.extend(R);H.P8.iA(x.u8,R,l);l.Zv();l.px=!0;if(o)o.B0(J)}x.u8=r;if(o)o.Ai()}J.wj=!0};
H.Cs.CS=function(J){var v=0;for(var h=0;h<J.length;h++)v+=J[h].u8.length;return v};H.Cs.avc=function(J,v){var x=H.Cs.abG(J),o=~x;
if(x==16777215)return;for(var h=0;h<v.length;h++){var R=v[h],r=J.k[R.w],l=R.Yf;if(R.tF!=0)continue;r.extend(l);
var M=l.x-r.S.x,P=l.y-r.S.y,S=r.S.r,c=new Uint32Array(R.u8.buffer),b=new Uint32Array(r.buffer.buffer);
for(var w=0;w<l.$;w++)for(var U=0;U<l.r;U++){var F=w*l.r+U,Y=(w+P)*S+(U+M);b[Y]=b[Y]&x|c[F]&o}r.Zv();
r.Ai()}J.Ai()};H.Cs.abG=function(J){var v=J.U.xY;return v[2]*16711680|v[1]*65280|v[0]*255};H.Cs.prototype.mJ=function(J,v){var x=v.k[J.w];
if(J.EB!=null)x.add[kC.get(x.add)]=J.EB;else H.Cs.Tt(v,J);v.Ai()};H.Cs.prototype.MW=function(J,v){var x=v.k[J.w];
if(J.EB!=null)x.add[kC.get(x.add)]=J.ra;else H.Cs.Tt(v,J);v.Ai()};H.Cs.prototype.CS=function(J){return J.EB==null?H.Cs.CS(J):0};
H.$v=function(){H.AA.call(this,"Filter Edit",H.c$);this.Mp=null;this.N$=null;this.R=null;this.CQ=null};
H.$v.prototype=new H.AA;H.$v.prototype.vE=function(J,v,x,o,R){if(J.R=="start"){if(x.Y.length==0)return;
var r=x.k[x.Y[0]];if(r.add.SoLd&&r.kG<=0&&x.Dk.length==0){}else if(!x.di(v,null,!0))return;var l=J.Y8;
if((i8[l]||a8.W[l])&&J.Bl==null){if(x.Y.length!=1)alert("Will be applied to "+x.Y.length+" layers.");
var M=new dd(j.E.j,!0);M.data=H.$v.an5(l,this.iX(x,l),J.fr);v.a(M)}else{var P={R:"edit",Y8:l,Bl:J.Bl,H2:this.iX(x)};
this.vE(P,v,x,o,R);P.R="confirm";delete P.Bl;this.vE(P,v,x,o,R)}}if(J.R=="edit"||J.R=="cancel"||J.R=="confirm"){if(J.R=="edit")this.CQ=[J.Y8,J.Bl];
if(J.H2)this.a41(J,v,x,R);else this.aF_(J,v,x,R)}if(J.R=="applylast"&&this.CQ!=null){var P={R:"edit",Y8:this.CQ[0],Bl:this.CQ[1],H2:this.iX(x)};
this.vE(P,v,x,o,R);P.R="confirm";delete P.Bl;this.vE(P,v,x,o,R)}};H.$v.an5=function(J,v,x){var o=a8.W[J];
if(o)return{R:j.m.lE,J:o,JZ:{H2:v,fr:x}};else return{R:j.m.wz,kA:"afw_"+J,H2:v}};H.$v.prototype.iX=function(J,v){var x=J.k[J.Y[0]],o;
if(x.add.SoLd&&x.kG<=0&&J.Dk.length==0){o={w:J.Y[0],index:0};if(x.add.SoLd.filterFX!=null){var R=x.add.SoLd.filterFX.v.filterFXList.v;
o.index=R.length;for(var h=0;h<R.length;h++)if(a8.mV(R[h].v)=="rigidTransform")o.index=h}}return o};
H.$v.prototype.a41=function(J,v,x,o){var R=x.k[J.H2.w],r=J.Y8;if(J.R=="edit"){if(this.R==null){var l=a8.names[r];
if(l==null)l=kC.names[r];if(r=="blendOptions")l=[14,10];this.R=new js(l,this);this.R.data={H2:J.H2,aFn:g.F(R.add.SoLd)}}if(!R.Ov()){R.add.SoLd.filterFX=a8.Ky();
var M=this.R.data.hF=d7.a3Z(R.add.SoLd.placed.v);x.Dj(M);if(x.g){M.pR.N=x.g.N.slice(0);M.pR.S=x.g.S.Q();
M.pR.color=0;this.R.data.ee=x.g;x.g=null}R.IY(x)}var P=R.add.SoLd.filterFX.v.filterFXList.v;if(P[J.H2.index]==null){P.push(a8.Hs(r,o))}if(J.Bl){P[J.H2.index].v.enab.v=J.dH!=!0;
if(r=="blendOptions")P[J.H2.index].v.blendOptions.v=J.Bl;else P[J.H2.index].v.Fltr.v=J.Bl}this.R.data.aDs=g.F(R.add.SoLd);
this.MW(this.R.data,x)}if(J.R=="cancel"){if(this.R)this.mJ(this.R.data,x);this.R=null}if(J.R=="confirm"){if(this.R)x.q$(this.R);
H.Cs.LB(v,this.CQ);this.R=null}};H.$v.prototype.aF_=function(J,v,x,o){if(this.Mp==null){var R=a8.BC(J.Y8,J.Bl);
this.Mp=H.Cs.getData(x,R.x!=0||R.y!=0,J.Y8=="VaPo"?[{Yf:J.fK[1]}]:null)}if(J.R=="edit"){var r=JSON.stringify(J.Bl);
if((J.Bl==null||r!=this.N$)&&J.dH!=!0)for(var h=0;h<this.Mp.length;h++){var l=this.Mp[h],M={S:l.Yf,buffer:l.u8},P={S:l.Yf,buffer:l.VL};
if(J.Y8=="Avrg"&&l.Zf){M.buffer=l.u8.slice(0);g.xh(l.Zf,M.buffer)}a8.vY(J.Y8,M,J.Bl,g.x7(o.P4),g.x7(o.Vb),P,[x.add.lnk2?x.add.lnk2:[],x.k[x.Y[0]].q9(),x.ac,x.Ng()]);
if(J.Y8=="VaPo"){g.sW(J.fK[0],J.fK[1],P.buffer,P.S)}if(J.Y8=="Avrg"&&l.Zf){var S=l.u8.length;for(var h=0;
h<S;h+=4)l.VL[h+3]=l.u8[h+3]}this.N$=r}H.Cs.Dd(x,this.Mp,J.dH)}if(J.R=="cancel"){H.Cs.azJ(x,this.Mp);
this.Mp=null;this.N$=null}if(J.R=="confirm"){if(J.Y8=="VaPo"){this.Mp.aGV=JSON.stringify(x.Xh);this.Mp.Qm=JSON.stringify(J.K);
x.Xh=J.K}H.Cs.BB(x,this.Mp,a8.names[J.Y8],this);this.Mp=null;this.N$=null;H.Cs.LB(v,this.CQ)}x.Ai();
x.wj=!0};H.$v.prototype.mJ=function(J,v){if(J.Qm)v.Xh=JSON.parse(J.aGV);if(J.H2){var x=v.k[J.H2.w];if(J.hF)v.Pt(J.hF);
if(J.ee)v.g=J.ee;x.add.SoLd=g.F(J.aFn);if(x.Ov())x.V$(v);else{x.IY(v);x.kG=0}}else H.Cs.Tt(v,J);v.Ai();
v.wj=!0};H.$v.prototype.MW=function(J,v){if(J.Qm)v.Xh=JSON.parse(J.Qm);if(J.H2){var x=v.k[J.H2.w];if(J.hF)v.Dj(J.hF);
if(J.ee)v.g=null;x.add.SoLd=g.F(J.aDs);if(x.Ov())x.V$(v);else x.IY(v);if(!x.ui())x.eW+=32}else H.Cs.Tt(v,J);
v.Ai();v.wj=!0};H.$v.prototype.CS=function(J){return J.H2==null?H.Cs.CS(J):0};var cj={q6:"0",kN:"1",Ui:"2",Lg:"3",tI:"3.5",NY:"4",q1:"5",z0:"6",g0:"7",G:"8",jZ:"8.5",a8:"8.8",u$:"9",dX:"10",KI:"11",km:"12",PV:"13",gP:"14",bS:"15",Uo:"16",Mh:"17",Jc:"18",YI:"19",Zl:"21",qm:"22",Vx:"23",oT:"23.0",Uw:"23.1",Pn:"23.2",kD:"23.3",rV:"23.4",KP:"23.5",wV:"23.6",ael:"30",oi:"31",OZ:"40",xV:"41",jP:"42"};
cj.LK={};cj.LK[cj.kN]=["abr","brushes",cK,[9,3],3];cj.LK[cj.Ui]=["grd","gradients",cb,[12,37],4,36,36];
cj.LK[cj.Lg]=["shc","contours",aY,[12,21],0];cj.LK[cj.tI]=["acv","curves",k1,[4,2],0];cj.LK[cj.NY]=["asl","styles",fy,[12,22],5];
cj.LK[cj.q1]=["pat","patterns",ev,[12,62],6];cj.LK[cj.z0]=["csh","shapes",b0,[12,77],7];cj.LK[cj.g0]=["aco","swatches",kO,[9,8],0,22,22];
cj.LK[cj.G]=["atn","actions",j5,[9,9],2];cj.LK[cj.jZ]=["tpl","tpresets",jf,[9,12],0];cj.LK[cj.a8]=["icc","profiles",go,"LUTs",8];
function js(J,v,x){if(x==null)x=!1;this.name=J;this.J=v;this.ww=x;this.data=null;this.aA4=Date.now()}js.prototype.CS=function(){return this.J?this.J.CS(this.data):0};
var kj={};kj.RS=function(J,v){var x={t:"Clss",v:{classID:J}};if(v)x={t:"Enmr",v:{classID:J,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[x]}};kj.EH=function(J,v){var x={classID:"Lyr"};x[J]=v;return{QI:"set",_g:{classID:"null",null:kj.RS("Lyr",!0),T:{t:"Objc",v:x}}}};
kj.auR=function(J,v,x,o,R){var r=new dd(j.E.aT,!0),l=[],h=0,M=kj.O6(v,x,o,l);while(l.length!=0){var P=l.pop();
h++;if(!P.i)continue;console.log(h-1);if(P.QI=="conditional"){var S=J.k[J.Y[0]],c=P._g.null.v.Cndt,b=!1;
if(c=="Bckg")b=!1;else if(c=="Pxel"&&J.hH(!1))b=!0;else if(c=="Adjs"&&kC.get(S.add))b=!0;else if(c=="Shp"&&S.add.vogk)b=!0;
else if(c=="Grup"&&S.tX())b=!0;else if(c=="Opn"&&J!=null)b=!0;else if(c=="32Bt")b=!1;else if(c=="RGB")b=!0;
var w=P._g.then,U=P._g.else;if(b&&w)kj.O6(v,w.v[0].v.val,w.v[1].v.val,l);if(!b&&U)kj.O6(v,U.v[0].v.val,U.v[1].v.val,l)}else if(P.QI=="stop"){if(P._g.Cntn&&P._g.Cntn.v==!0)window.confirm(P._g.Msge.v);
else{alert(P._g.Msge.v);break}}else if(P.QI=="play"){var F=P._g.null.v,Y=new dd(j.E.j,!0);Y.data={R:j.m.xa,Yk:[F[0].v.val,F[1].v.val]};
R.a(Y)}else{r.data={QI:P.QI,_g:P._g};R.a(r)}}};kj.EK=function(J,v,x){var o;for(var h=0;h<J.length;h++){if(J[h].hX!=x)continue;
var R=J[h].SU;for(var r=0;r<R.length;r++){if(R[r].hX!=v)continue;o=R[r]}}return o};kj.O6=function(J,v,x,o){var R=kj.EK(J,v,x).SU,r=R.length;
for(var h=0;h<r;h++)o.push(R[r-1-h])};kj.aul=function(J){var v=J.QI,x=J._g,o,l,M,P,S;if(x&&x.null)o=x.null.v[0];
if(x&&o==null&&x.At)o=x.At.v[0];if(o&&o.t=="obj ")o=o.v[0];var R=o&&o.v?o.v.classID:null,r=["purge"];
if(r.indexOf(v)!=-1)return v[0].toUpperCase()+v.slice(1);if(v=="GEfc"||v=="paintDaubs")return j$.names[x.GEfk.v.GEft][1];
S=kC.Tn;for(l in S)if(S[l]==v)M=l;S=a8.Tn;for(l in S)if(S[l]==v)P=l;S=a8.Tn;for(l in S)if(l==v)P=l;if(M){var c=kC.FL(M,x);
if(c!=-1)return[4,16,c];return kC.names[M]}if(P)return a8.names[P];var b=kj.a6h;if(v=="make"){if(o){if(R=="AdjL")return[6,1];
else if(R=="layerSection")return x.From?[6,9]:[6,20];else if(R=="Lyr")return[6,13];else if(R=="Chnl"&&o.v.enum=="Msk")return[6,2];
else if(R=="contentLayer")return[6,48,1];else if(R=="BckL")return"Make Background Layer";else if(R=="Path")return"Make Path";
else if(R=="TxLr")return"Make Text Layer";else if(R=="slice")return"Make Slices";else if(R=="Dcmn")return[11,7];
else if(R=="Gd")return[23,4];else if(R=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if(x.Nw){R=x.Nw.v.classID;
if(R=="Dcmn")return[11,7];else if(R=="Chnl"||R=="SCch")return"New Channel"}}else if(v=="deselect"){if(R=="Path")return"Deselect current path";
else throw R}else if(v=="draw"){return"Draw"}else if(v=="select"){if(R=="Chnl"){var w={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[o.v.enum];
if(w==null)w="";return"Select "+w+" Channel"}else if(R=="Mn")return"Select Panel \""+o.v.enum+"\"";else if(R=="Lyr"){if(o.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[o.v.enum]+" Layer";
return"Select Layer \""+o.v.val+"\""}else if(R=="Path")return"Select Path";else if(R=="Brsh")return"Select Brush";
else if(R=="Dcmn")return"Select Document"}else if(b[v]&&R=="Chnl"){var U=o.v.keyID=="fsel";return b[v]+" "+(U?"Selection":"Channel")}else if(v=="set"){if(R=="Lyr")return"Set Current Layer";
else if(R=="AdjL")return[6,39];else if(R=="contentLayer")return[6,48,2];else if(R=="Prpr"){var F=o.v.keyID;
if(F=="TxtS")return"Set Text Style";else if(F=="paragraphStyle")return"Set Paragraph Style";else if(F=="Lefx")return[11,6];
else if(F=="FlIn")return"Set "+ea.get([1,14]);else if(F=="GnrP")return"Set General Preferences";else console.log(F)}else if(R=="Clr")return"Set "+(o.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(R=="Brsh")return"Set Brush";else if(R=="Path")return"Set Work Path";else console.log(R)}else if(v=="move"){if(R=="Lyr")return"Move Layer";
else if(R=="Chnl"&&o.v.keyID=="fsel")return[7,7];else console.log(R)}else if(v=="show"||v=="hide"){var Y="";
if(R=="Lyr")Y="Layer";if(R=="Chnl")Y="Channel";if(R=="filterFX")Y="Filter Effect";return(v=="show"?"Show":"Hide")+" "+Y}else if(v=="reset"){if(R=="Clr")return"Reset Colors"}else if(v=="exchange"){if(R=="Clr")return[22,7,0]}else if(v=="rotateEventEnum")return[2,5];
else if(v=="flip"){var A=x.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,A?2:3]]}if(v=="duplicate"&&R=="Dcmn")return"Duplicate first document";
if(R=="Chnl"){if(v=="duplicate"){if(o.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(v=="delete")return"Delete Channel"}if(v=="transform")return o&&o.v.keyID=="fsel"?[7,10]:[10,16];
if(v=="convertMode"){var G="Convert Mode",n=x.Dpth;if(n)G+=" To "+n.v+"-Bit";return G}var E={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:x?R=="Lyr"?[6,31]:R=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",placedLayerConvertToLayers:"Convert To Layers",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",assignProfile:"Assign Profile",convertToProfile:"Convert To Profile",conditional:"If"},K=E[v];
if(K==null)K=kj.afr[v];if(K)return K;return v};kj.afr={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
kj.a6h={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
kj.apu=function(J,v,x,o){var R=J.QI,r=J._g,l=!1,M=new dd(j.E.G,!0),b,w,U,F;M.J=H.wu;var P=new dd(j.E.j,!0),S=["purge","updatePlacedLayer"];
if(S.indexOf(R)!=-1)return;var c=R;while(c.length<4)c+=" ";F=kC.Tn;for(b in F)if(F[b]==c)w=b;F=a8.Tn;
for(b in F)if(F[b]==c)U=b;F=a8.Tn;for(b in F)if(b==c)U=b;if(R=="fade")w=R;if(R=="matchColor")w="matc";
if(R=="applyImageEvent")w="aply";if(w){M.J=H.hi;M.data={R:"start",BV:w,Bl:r}}else if(U){M.J=H.c$;M.data={R:"start",Y8:U,Bl:r}}else if(R=="GEfc"||R=="paintDaubs"){M.J=H.c$;
M.data={R:"start",Y8:"GEfc",Bl:r}}else if(R=="convertMode"){var Y=r.Dpth;if(Y==null)return;M.J=H.tS;
M.data={R:"cmode",K:Y.v}}else if(R=="assignProfile"||R=="convertToProfile"){var A=r.profile;if(A==null)A=r.T;
M.J=H.tS;M.data={R:"cprof",K:A?A.v:null,ain:R[0]=="c"}}else if(R=="imageSize"||R=="canvasSize"||R=="revealAll"||R=="trim"||R=="crop"){M.J=H.uJ;
M.data={R:"fromAction",h7:J}}else if(R=="fill"||R=="stroke"||R=="delete"&&r==null){var G=null;if(o.Y.length!=0)G=o.k[o.Y[0]];
if(r&&JSON.stringify(r).indexOf("aiHeal")!=1)G=null;var n=g.x7(x.P4);if(G!=null&&R=="fill"&&G.add.TySh){var E="var c = new SolidColor();  c.rgb.red="+n.z+";  c.rgb.green="+n.H+";  c.rgb.blue="+n.c+";  app.activeDocument.activeLayer.textItem.color = c;";
P.data={R:j.m.Ft,TM:E}}else if(G!=null&&R=="delete"&&G.add.TySh){M.J=H.i9;M.data={R:"insertText",K:""}}else if(G!=null&&R=="fill"&&G.Id()){var M=new dd(j.E.aT,!0),r={classID:"setd",null:kj.RS("contentLayer",!0),T:{t:"Objc",v:{}}};
H.j9.Lt({Clr:{t:"Objc",v:g.UH.YK(g.x7(x.P4))}},r.T.v,0);M.data={QI:"set",_g:r};v.a(M);return}else if(R=="stroke"&&r&&r.null==null){M.J=H.tW;
M.data={R:"stroke",aiu:r}}else{if(R=="stroke"&&r&&r.Usng)M.J=H.Tn[r.Usng.v.classID];else M.J=x.Lz==H.if?H.if:H.kN;
M.data={R:"fromAction",h7:J}}}else if(R=="colorRange"||R=="grow"||R=="similar"){M.J=H.Yo;M.data={R:"fromAction",h7:J}}else if(R=="set"&&r&&r.T&&r.T.v.Ordn=="Al"&&x.Lz==H.i9&&v.hb().b7()){M.J=H.i9;
M.data={R:"selectAll"}}else if(kj.afr[R]||kj.a6h[R]&&(!1||r.With&&r.With.v[0].v.keyID=="fsel"||r.From&&r.From.v[0].v.keyID=="fsel"||r.null&&r.null.v[0].v.keyID=="fsel"||r.T.v[0]&&r.T.v[0].v.keyID=="fsel")){M.J=H.ZT;
M.data={R:"fromAction",h7:J}}else if(R=="rasterizeLayer"){M.data={R:r.What?r.What.v.rasterizeItem=="vectorMask"?m.Ws:m.adC:m.mg}}var K={copyToLayer:m.nF,cutToLayer:m.nc,mergeLayersNew:m.Zn,mergeVisible:m.zf,flattenImage:m.a5T,newPlacedLayer:m.oF};
if(K[R])M.data={R:K[R],_g:r};if(M.data){v.a(M);return}if(R=="collapseAllGroupsEvent"){for(var h=0;h<o.k.length;
h++){var G=o.k[h];if(G.tX())G.add.lsct=h2.Le}o.Se=!0;return}if(R=="desaturate"||R=="Dstt"){M.J=H.hi;
M.data={R:"auto",TV:3};if(o&&o.k[o.Y[0]].add.SoLd==null)v.a(M);return}if(R=="close"){if(r&&r.Svng.v.YsN=="Ys"){P.data={R:j.m.nx};
v.a(P)}P.data={R:j.m.rM,$E:o};v.a(P);return}if(R=="save"){P.data={R:j.m.nx};v.a(P);return}if(R=="copyMerged"){P.data={R:j.m.ju,WR:!0,wh:!0};
v.a(P);return}if(R=="placedLayerReplaceContents")P.data={R:j.m.hC,BM:!0};if(R=="placedLayerConvertToLayers"){P.data={R:j.m.Wj};
v.a(P);var e=v.n4[v.n4.length-1];e.Y=[];for(var h=0;h<e.k.length;h++)e.Y.push(h);M.J=H.wu;M.data={R:m.Vy};
v.a(M);var $=o.k[o.Y[0]];M.J=H.wu;M.data={R:m.XM,k:e.CO(),Ud:e,Nn:o,aIQ:[$]};v.a(M);P.data={R:j.m.rM};
v.a(P);var N=o.history[o.history.length-1];N.name="Convert to Layers";var k=o.k[o.Y[0]];k.v7($.getName());
H.Io.dO(o,o.yw(),null,$.S.x,$.S.y);return}var K={placedLayerEditContents:j.m.Wj,placedLayerExportContents:j.m.a6N,copyEvent:j.m.ju,paste:j.m.ia};
if(K[R])P.data={R:K[R],wh:!0};if(P.data){v.a(P);return}var V=r.null?r.null.v:null,X=V?V[0].v.classID:"";
if(R=="make"){if(r.null==null&&r.Nw)X=r.Nw.v.classID;if(X=="AdjL"){M.data={R:m.co,_g:r}}else if(X=="layerSection"){M.data=r.From?{R:m.Vy}:{R:m.HY};
if(r.Usng){var Q=r.Usng.v;if(Q.Nm)M.data.yU=Q.Nm.v;if(Q.Clr)M.data.Ef=kj.GG(Q)}}else if(X=="Lyr"){if(r.Usng&&r.Usng.v.length==2)M.data={R:m.aoS};
else{M.data={R:m.h5};if(r.Usng)M.data.yU=r.Usng.v.Nm.v;if(r.below&&r.below.v)M.data.a9B=!0}}else if(X=="Chnl"&&r.At&&r.At.v[0].v.enum=="Msk"){M.data={R:m.Fe,tj:r.Usng.v.UsrM}}else if(X=="Chnl"||X=="SCch"){M.data={R:m.WX,Uq:"fromAction",K:J}}else if(X=="contentLayer"){M.data={R:m._e,_g:r}}else if(X=="BckL"){o.k[o.Y[0]].a3E();
return}else if(X=="Dcmn"){if(r.Nw==null)return;var L=r.Nw.v;P.data={R:j.m.iD,qE:d7.aBC(L,x)}}else if(X=="Ptrn")P.data={R:j.m.FJ,Fu:0};
else if(X=="Brsh")P.data={R:j.m.FJ,Fu:1};else if(X=="Path"){var _=r.At;if(_&&_.v&&_.v[0]&&_.v[0].v&&_.v[0].v.enum=="vectorMask"){M.J=H.wu;
var a=!1,T=!1;if(r&&r.Usng){var Q=r.Usng.v;a=Q.vectorMaskEnabled=="RvlA";T=Q[0]&&Q[0].v.classID=="Path"}M.data={R:m.Vq,aGE:!a,aeE:T}}else{M.J=H.ih;
M.data={R:"pathedit",Uq:"fromsel"}}}else if(X=="TxLr"){M.J=H.i9;M.data={R:"fromAction",h7:J}}else if(X=="slice"){M.J=H.BG;
M.data={R:"fromAction",h7:J}}else if(X=="Gd"){var f=[[],[]],L=r.Nw.v;f[L.Ornt.v.Ornt=="Vrtc"?0:1].push(L.Pstn.v.val);
var Z=b8.Yt(f);H.Io.Cp(Z,o.lg());M.J=H.VO;M.data={R:"gids",TQ:Z}}else{console.log(R,X,r);throw"e"}}else if(R=="divide"){M.J=H.BG;
M.data={R:"fromAction",h7:J}}else if(R=="deselect"){if(X=="Path"){o.GP=[];o.TW=[];o.Se=o.ms=!0;return}else throw X}else if(R=="selectNoLayers"){o.Y=[];
o.wj=!0}else if(R=="selectAllLayers"){o.Y=[];for(var h=0;h<o.k.length;h++)o.Y.push(h);o.wj=!0;return}else if(R=="select"){var W=H.Tn;
if(X=="Lyr"){var D=r.selectionModifier,C=D?D.v.selectionModifierType:null,d=kj.YF(o,V[0]),p=0;if(d==-1){alert("Layer "+V[0].v.val+" does not exist.");
return}var G=o.k[d];if(G.tX()&&G.q9()&&D==null)p=1;M.data={R:m.iN,w:d,yI:C?["addToSelection","addToSelectionContinuous"].indexOf(C):null,dk:p}}else if(X=="Path"){if(V[0].v.keyID=="WrPt"){o.GP=[0];
o.Se=o.ms=!0;return}else if(V[0].t=="name"){for(var h=0;h<o.h1.length;h++)if(o.h1[h].name==V[0].v.val){o.GP=[h];
o.Se=o.ms=!0;return}}else throw V[0]}else if(X=="Chnl"){var y=V?V[0].v.enum:"",i=["Rd","Grn","Bl"].indexOf(y);
if(i!=-1){var O=r.Extd&&r.Extd.v?o.U.xY.slice(0):[0,0,0];O[i]=1;M.J=H.Ji;M.data={R:"setcls",xY:O}}else M.data={R:m.iN,w:d,dk:y=="RGB"?0:1}}else if(X=="Dcmn"){if(v.n4.length<2)return;
P.data={R:j.m.a9_,dir:r.null.v[0].v.val}}else if(X=="Brsh"){var q=x.DK.list,z;for(var h=0;h<q.length;
h++){if(q[h].v.Nm.v.split("/").pop()==V[0].v.val)z=q[h].v}if(x.Lz==H.VO){P.data={R:j.m.lE,J:H.kN};v.a(P)}P.data={R:j.m.Qq,Fu:cj.gP,Kf:z}}else if(X=="Mn"){if(V[0].v.enum=="Scl")P.data={R:j.m.lE,J:H.tS,JZ:{tj:3}};
if(V[0].v.enum=="Plce")P.data={R:j.m.hC,apD:!0};if(V[0].v.enum=="ZmIn"){M.J=H.C5;M.data={R:"zoom",xo:!0}}if(V[0].v.enum=="ZmOt"){M.J=H.C5;
M.data={R:"zoom",xo:!1}}if(V[0].v.enum=="FtOn"){M.J=H.C5;M.data={R:"adapt",K:"fitscr"}}}else if(W[X]){P.data={R:j.m.lE,J:W[X]}}else throw X}else if(R=="draw"){M.J=H.ih;
M.data={R:"fromAction",h7:J}}else if(R=="gradientClassEvent"){M.J=H.bF;M.data={R:"fromAction",h7:J}}else if((R=="set"||R=="reset"||R=="exchange")&&X=="Clr"){P.data={R:j.m.Qq,Fu:cj.Zl,Uq:R=="reset"?3:2};
if(R=="set"){P.data.Uq=V[0].v.keyID=="FrgC"?0:1;var u=g.UH.Eb(r.T.v);P.data.K=u.z<<16|u.H<<8|u.c}}else if(R=="set"){if(X=="AdjL"){var iH=r.T.v.classID;
iH=kC.th[iH];M.J=H.hi;if(iH)M.data={R:"edit_layer",K:r.T.v}}else if(X=="Lyr"){var s=r.T.v,d=kj.YF(o,V[0]);
for(var bV in s){if(bV=="classID")continue;M.J=H.wu;if(bV=="Nm")M.data={R:m.E9,name:s.Nm.v};else if(bV=="Opct")M.data={R:m.oh,ra:Math.round(s.Opct.v.val*255/100)};
else if(bV=="fillOpacity")M.data={R:m.rS,ra:Math.round(s.fillOpacity.v.val*255/100)};else if(bV=="Md")M.data={R:m.xT,ra:gX.EZ.indexOf(s.Md.v.BlnM)+(o.k[d].tX()?1:0)};
else if(bV=="Usrs")M.data={R:m.eq,w:d};else if(bV=="Blnd"){M.J=H.Ar;M.data={R:"setstl",w:d,K:{blendOptions:{t:"objc",v:s}}};
v.a(M);M.data={R:"confirm",w:d}}else if(bV=="userMaskFeather"||bV=="userMaskDensity"){var jU=s.userMaskFeather,Y=s.userMaskDensity,d=o.Y[0],hx=o.k[d].mo(0);
if(jU)hx.I_=jU.v.val;if(Y)hx.Q1=Y.v.val;M.data={R:m.su,UT:d,CB:hx}}else if(bV=="Clr"){var n=kj.GG(s);
M.data={R:m.TI,arZ:n}}else if(bV=="Lefx")kj.a4G(v,d,s.Lefx.v,x);else{console.log(r);throw bV}if(M.data){v.a(M);
delete M.data}}M.data={};var G=o.k[d];G.ajl()}else if(X=="Prpr"){var s=g.F(r.T.v),d=kj.YF(o,r.null.v[1]),G=o.k[d],eX=V[0].v.keyID;
if(eX=="TxtS"||eX=="paragraphStyle"){var et=G.add.TySh,f7=g.F(et.vv),iY=bI.FB(f7),cd=bI.Ni(f7,0,iY.length-2);
if(eX=="TxtS")bI.arm(s,cd);else bI.acs(s,cd);bI.qc(f7,0,iY.length-1,cd);M.J=H.i9;M.data={R:"newED",A3:d,Er:f7}}else if(eX=="Lefx"){for(var jV in s)if(s[jV].v){if(jV=="Scl")s[jV].v.val=100}kj.a4G(v,d,s,x);
M.data={}}else if(eX=="FlIn"||eX=="GnrP")return;else throw eX}else if(X=="contentLayer"){var d=kj.YF(o,V[0]),s=r.T.v,g2=!0;
if(s.classID=="shapeStyle"){if(s.strokeStyle){s=s.strokeStyle.v;g2=!1}else s=s.FlCn.v}if(g2){var gV={solidColorLayer:0,gradientLayer:1,patternLayer:2}[s.classID],fD=gD.qx(o.k[d].add),U=fD.It==gV+1?fD.BD:gD.iS[gV];
U=g.F(U);H.j9.Lt(s,U,gV);M.data={R:m.Kh,UU:[d],NF:!0,K:{It:gV+1,BD:U}}}else{var j4=g.F(o.k[d].add.vstk);
for(var jV in s)j4[jV]=s[jV];M.data={R:m.Kh,UU:[d],NF:!1,K:j4}}}else if(X=="Brsh"){var z=g.F(x.DK.YH),dQ=r.T.v;
if(dQ.masterDiameter)z.Brsh.v.Dmtr.v.val=dQ.masterDiameter.v.val;else console.log("unknown brush parameters");
P.data={R:j.m.Qq,Fu:cj.gP,Kf:z}}else if(X=="Path"){M.J=H.ih;M.data={R:"fromAction",h7:J}}else if(X=="TxLr"){M.J=H.i9;
M.data={R:"fromAction",h7:J}}else{console.log(V[0],r);throw X}}else if(R=="move"){if(X=="Lyr"){var s=r.T.v;
if(s.classID=="Ofst"){M.data={R:"trsl",AU:s.Hrzn.v.val,aq:s.Vrtc.v.val};M.J=H.VO}else{var eO,a7;if(s[0].t=="Enmr"){if(s[0].v.enum=="Frnt")a7=0;
else if(s[0].v.enum=="Nxt")a7=1;else if(s[0].v.enum=="Prvs")a7=2;else if(s[0].v.enum=="Back")a7=3;else throw"e"}else eO=s[0].v.val;
M.data={R:m.f8,target:eO,Uq:a7,aj4:r.Dplc?r.Dplc.v:!1}}}else if(X=="Chnl"&&V[0].v.keyID=="fsel"){M.J=H.ZT;
M.data={R:"fromAction",h7:J}}}else if(R=="groupEvent"||R=="ungroup")M.data={R:m.Pe};else if(R=="show"||R=="hide"){var cc=r.null.t;
if(cc=="obj "){if(V[0].v.val!=null)M.data={R:m.Zj,index:V[0].v.val-1};else M.data={R:m.J6}}else if(cc=="VlLs"){var X=V[0].v[0].v.classID;
if(X=="Chnl")M.data={R:m.WX,Uq:"fromAction",K:J};else{var ad=X=="filterFX"?V:V[0].v;for(var h=0;h<ad.length;
h++){if(X=="filterFX")M.data={R:m.Zj,index:ad[h].v[0].v.val-1};else if(ad[h].v.enum=="Trgt"){var jC=[];
for(var iJ=0;iJ<o.Y.length;iJ++){var d=o.Y[iJ],kJ=o.k[d].jh();if(R=="show"&&kJ||R=="hide"&&!kJ)continue;
jC.push(d)}M.data={R:m.MA,UU:jC}}else{var d=kj.YF(o,ad[h]),kJ=o.k[d].jh();if(R=="show"&&kJ||R=="hide"&&!kJ)continue;
M.data={R:m.MA,UU:[d]}}v.a(M)}return}}else throw cc}else if(R=="rotateEventEnum"){M.J=X=="Lyr"?H.tS:H.uJ;
var jr=r.Angl.v.val;M.data={R:"rot",hX:[2,5],K:-jr*Math.PI/180}}else if(R=="flip"){M.J=X=="Lyr"?H.tS:H.uJ;
var fY=r.Axis.v.Ornt=="Hrzn",iR=fY?new aG(-1,1):new aG(1,-1);M.data={R:"scl",hX:[[2,6],[22,4,fY?2:3]],K:iR}}else if(R=="transform"){var g6=1,ay=1,cQ=0,aC=0,dI=0,fm=0,hd=0,jN=null,d4=null;
if(r.Wdth)g6=r.Wdth.v.val/100;if(r.Hght)ay=r.Hght.v.val/100;if(r.Skew){var ku=r.Skew.v;cQ=ku.Hrzn.v.val;
aC=ku.Vrtc.v.val}if(r.Ofst){var cp=r.Ofst.v;fm=cp.Hrzn.v.val;hd=cp.Vrtc.v.val}if(r.Angl)dI=r.Angl.v.val;
var hp=new bC;hp.concat(new bC(g6,g6*Math.tan(aC*Math.PI/180),ay*Math.tan(cQ*Math.PI/180),ay,0,0));hp.rotate(-dI*Math.PI/180);
hp.translate(fm,hd);var gA=g.O.Mf(hp);if(r.Usng){var cp=r.Usng.v;gA[6]=cp.Hrzn.v.val/100;gA[7]=cp.Vrtc.v.val/100}var ey=r.FTcs.v.QCSt;
if(ey=="Qcsi"){var jG=r.Pstn.v;jN=new aG(jG.Hrzn.v.val,jG.Vrtc.v.val)}else d4=H.ge.azV[ey];var V=r.null;
if(V&&V.v instanceof Array)V=V.v[0];var d=V?kj.YF(o,V):null;if(d==-1)d=null;M.J=V&&V.v.keyID=="fsel"?H.sj:H.tS;
M.data={R:"dtr",__:d4,K:gA,Jq:r.warp,aCX:jN}}else if(R=="duplicate"){if(X=="Chnl")M.data={R:m.WX,Uq:"fromAction",K:J};
else if(X=="Dcmn"){var cF=d2.s$("PSD").lS(o);aB.ys({url:o.name},cF,v);return}else if(X=="Actn"){var f5=x.L4,jW=V[1].v.val,f$=null;
for(var h=0;h<f5.length;h++)if(f5[h].hX==jW)f$=f5[h];var bh=kj.EK(f5,V[0].v.val,jW);bh=g.F(bh);bh.hX+=" copy";
f$.SU.push(bh);return}else M.data={R:m.Qi,yU:r.Nm?r.Nm.v:null}}else if(R=="delete"){if(X=="filterFX"){if(V[0].v.val!=null)M.data={R:m.MQ,i2:V[0].v.val-1};
else M.data={R:m.mF}}else if(X=="Path"){if(V&&V.length==2&&V[0].v.enum=="vectorMask"&&V[1].v.classID=="Lyr"){M.J=H.wu;
M.data={R:m.Ki}}else{M.J=H.ih;M.data={R:"pathedit",Uq:"del"}}}else if(X=="Lyr")M.data={R:m.Wd};else if(X=="Chnl"&&V[0].v.enum=="Msk")M.data={R:m.cv};
else if(X=="Chnl")M.data={R:m.WX,Uq:"fromAction",K:J};else if(X=="Cmnd"){var f5=x.L4,jW=V[2].v.val,bh=kj.EK(f5,V[1].v.val,jW);
bh.SU.splice(V[0].v.val-1,1);return}else if(X=="Actn"){var f5=x.L4,jW=V[1].v.val,f$=null;for(var h=0;
h<f5.length;h++)if(f5[h].hX==jW)f$=f5[h];var bh=kj.EK(f5,V[0].v.val,jW);f$.SU.splice(f$.SU.indexOf(bh),1);
return}else if(X=="ASet"){var f5=x.L4,jW=V[0].v.val,f$=null;for(var h=0;h<f5.length;h++)if(f5[h].hX==jW)f$=f5[h];
if(f$==null)return;f5.splice(f5.indexOf(f$),1);o.wj=!0;return}else throw X}else if(R=="align"){if(r.Aply&&r.Aply.v.projection=="Auto"){M.J=H.uJ;
M.data={R:"auto-align"}}else{M.J=H.VO;var ii=r.Usng.v.ADSt,w={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[ii];
if(w==null)throw ii;M.data={R:"algn",K:w}}}else if(R=="applyLocking"){var dM=r.layerLocking.v,b7;if(dM.protectTransparency)b7=[[dM.protectTransparency.v],[0]];
else if(dM.protectNone)b7=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(dM);throw"e"}M.data={R:m.Ey,ra:b7}}if(M.data)v.a(M);
else if(P.data)v.a(P);else{console.log(J);alert("Unknown action \""+R+"\"");throw"e"}};kj.a4G=function(J,v,x,o){x=g.F(x);
aw.kH(x);if(x.masterFXSwitch==null)x.masterFXSwitch={t:"bool",v:!0};console.log(x);var R=gD.Lw;for(var r=0;
r<R.length;r++)if(x[R[r]]){for(var h=0;h<x[R[r]].v.length;h++){var l=x[R[r]].v[h].v;for(var M=0;M<2;
M++){var P=l[M==0?"TrnS":"MpgS"];if(P&&P.v.Crv==null){var S=P.v,c=S.Nm.v.split("=").pop(),b=o.Tp,w=0;
for(var U=0;U<b.length;U++){var F=b[U].Nm.v.split("=").pop();if(F==c)w=U}S.Crv=g.F(b[w].Crv)}}}}var Y=new dd(j.E.G,!0);
Y.J=H.Ar;Y.data={R:"setstl",w:v,K:{Lefx:{t:"objc",v:x}}};J.a(Y);Y.data={R:"confirm",w:v};J.a(Y)};kj.GG=function(J){var v={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[J.Clr.v.Clr];
if(v==null)throw J.Clr.v.Clr;return v};kj.YF=function(J,v){var x=1e6,o=0,R=J.k.length;for(var h=0;h<J.Y.length;
h++){x=Math.min(x,J.Y[h]);o=Math.max(o,J.Y[h])}var r=v.t,l=-1;if(r=="name"){var M=v.v.val,l=-1;for(var h=0;
h<R;h++)if(J.k[h].getName()==M){l=h;break}}else if(r=="Enmr"){if(J.Y.length!=0)l=J.Y[0];if(v.v.enum=="Frwr")l=o+1;
if(v.v.enum=="Bckw")l=x-1;if(v.v.enum=="Back")l=0;if(v.v.enum=="Frnt")l=R-1;l=(l+R)%R}else if(r=="prop"){if(v.v.keyID=="Bckg")l=0}else if(r=="indx")l=v.v.val-1;
return l};var kC={};kC.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
kC.aD4=["expA","clrL","selc"];kC.y5=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];kC.arh=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
kC.EJ=[[13,1,1],[13,1,4],[13,1,5]];kC.QT={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
kC.th=function(){var J=g.F(kC.QT);delete J.GrMp;J.GdMp="grdm";return J}();kC.Tn={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
kC.keys={levl:[gw.aw,gw.jj],curv:[gw.aw,gw.LO],hue2:[gw.aw,gw.li],nvrt:[gw.aw,gw.WW],blnc:[gw.aw,gw.Nu]};
kC.vB=function(J){var v=a8.ow("mixr");v.Mnch={t:"bool",v:J.SJ};function x(o,h){var R={classID:"ChMx"},r={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in r)R[l]={t:"UntF",v:{type:"#Prc",val:o[h+r[l]]}};return{t:"Objc",v:R}}if(J.SJ)v.Gry=x(J.K,0);
else{v.Rd=x(J.K,0);v.Grn=x(J.K,5);v.Bl=x(J.K,10)}return v};kC.zd=function(J){function v(o,R,h){var r={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var l in r)if(o[l])R[h+r[l]]=o[l].v.val}var x={SJ:!1,K:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(J.Mnch&&J.Mnch.v)x.SJ=!0;if(x.SJ)v(J.Gry.v,x.K,0);else{v(J.Rd.v,x.K,0);v(J.Grn.v,x.K,5);v(J.Bl.v,x.K,10)}return x};
kC.get=function(J){for(var v in kC.names)if(J[v]!=null)return v;return null};kC.f2=function(J,v){var x=kC.Zu,o;
if(J=="brit"){var R=v.Brgh?v.Brgh.v:0,r=v.Cntr?v.Cntr.v:0,l=v.useLegacy?v.useLegacy.v:!1;if(l){var M=R/255,P=1+r/100;
if(P>1)P=1+Math.tan(Math.PI/2*r/101);var S=(1-P)/2,c=g.$G.jL(M,M,M),b=[P,0,0,S,0,P,0,S,0,0,P,S,0,0,0,1],w=g.$G.multiply(b,c),U={z:new Float32Array(256),H:new Float32Array(256),c:new Float32Array(256)};
for(var h=0;h<256;h++)U.z[h]=h/255;g.$G.E2(U,U,w);o={e:x.zZ,B7:U.z,xn:U.z,Sx:U.z,FZ:!1,TX:!1}}else{var F=1024,Y=-30+60*(r+100)/200,A=[];
for(var h=0;h<4;h++)A.push(g.O2.Ep(h/3*255,h/3*255,!0));A[1].v.Hrzn.v=64;A[1].v.Vrtc.v=64-Y;A[2].v.Hrzn.v=128+64;
A[2].v.Vrtc.v=128+64+Y;A.sort(function(bB,fs){return bB.v.Hrzn.v-fs.v.Hrzn.v});var G=g.O2.vb(A,F);function n(bB,F){var A=[],co=3;
for(var h=0;h<co+1;h++)A.push(g.O2.Ep(h/co*255,h/co*255,!0));A[1].v.Hrzn.v=130-bB*26;A[1].v.Vrtc.v=130+bB*51;
A[2].v.Hrzn.v=233-bB*48;A[2].v.Vrtc.v=233+bB*10;return g.O2.vb(A,F)}var E=n(Math.abs(R)/100,F);if(R<0){var K=[],e=1/F;
for(var h=0;h<F;h++){var $=h*e,N=h;while(E[N]>$&&N>1)N--;K[h]=N*e}E=K}var k=new Float32Array(F);for(var h=0;
h<F;h++){var V=Math.round((F-1)*E[h]);k[h]=G[V]}o={e:x.zZ,B7:k,xn:k,Sx:k,FZ:!1,TX:!1}}}if(J=="levl"){var X=[],Q,L,c,_,a,T;
for(var h=0;h<4;h++)X.push(je.Tc(v,h));Q=-X[0][0]/255;L=1/(X[0][1]/255-X[0][0]/255);c=g.$G.multiply(g.$G.RE(L,L,L),g.$G.jL(Q,Q,Q));
_=g.$G.RE(1/(X[1][1]/255-X[1][0]/255),1/(X[2][1]/255-X[2][0]/255),1/(X[3][1]/255-X[3][0]/255));a=g.$G.jL(-X[1][0]/255,-X[2][0]/255,-X[3][0]/255);
T=g.$G.multiply(_,a);var k={z:new Float32Array(256),H:new Float32Array(256),c:new Float32Array(256)};
for(var h=0;h<256;h++)k.z[h]=k.H[h]=k.c[h]=h/255;var f=1/(X[0][4]/100),Z=1/(X[1][4]/100),W=1/(X[2][4]/100),D=1/(X[3][4]/100);
g.$G.E2(k,k,T);for(var h=0;h<256;h++){k.z[h]=Math.max(0,Math.min(1,Math.pow(k.z[h],Z)));k.H[h]=Math.max(0,Math.min(1,Math.pow(k.H[h],W)));
k.c[h]=Math.max(0,Math.min(1,Math.pow(k.c[h],D)))}g.$G.E2(k,k,c);for(var h=0;h<256;h++){k.z[h]=Math.max(0,Math.min(1,Math.pow(k.z[h],f)));
k.H[h]=Math.max(0,Math.min(1,Math.pow(k.H[h],f)));k.c[h]=Math.max(0,Math.min(1,Math.pow(k.c[h],f)))}Q=X[0][2]/255;
L=X[0][3]/255-X[0][2]/255;c=g.$G.multiply(g.$G.jL(Q,Q,Q),g.$G.RE(L,L,L));_=g.$G.RE(X[1][3]/255-X[1][2]/255,X[2][3]/255-X[2][2]/255,X[3][3]/255-X[3][2]/255);
a=g.$G.jL(X[1][2]/255,X[2][2]/255,X[3][2]/255);T=g.$G.multiply(a,_);g.$G.E2(k,k,g.$G.multiply(c,T));
o={e:x.zZ,B7:k.z,xn:k.H,Sx:k.c,FZ:!1,TX:!1}}if(J=="curv"){var C=k1.Tc(v,0).length==256?1:0,d=[];if(C==0){var p=g.O2.vb(k1.Tc(v,0),256);
for(var h=1;h<4;h++){var y=g.O2.vb(k1.Tc(v,h),256);d.push(g.O2.aGY(y,p))}}else{var i=[];for(var h=0;
h<4;h++){var t=new Float32Array(256);i.push(t);var O=k1.Tc(v,h);for(var N=0;N<256;N++)t[N]=O[N]/255}for(var h=1;
h<4;h++)d.push(g.O2.aGY(i[h],i[0]))}o={e:x.zZ,B7:d[0],xn:d[1],Sx:d[2],FZ:!1,TX:!1}}if(J=="expA"){var q=v.Exps,z=v.Ofst,jw=v.gammaCorrection,u=q?q.v:0,iH=z?z.v:0,s=jw?jw.v:1,k=new Float32Array(256);
for(var h=0;h<256;h++){var v=h/255,bV=Math.pow(Math.abs(iH),1/(Math.PI/2));if(iH>0){v=Math.max(iH/Math.E,v);
v=v*Math.exp(iH/1.75+u/Math.PI);v=(1-bV)*v+bV*1}else{v=v*Math.exp(-iH*1.75+u/Math.PI);v=v+-bV*1.14}v=Math.pow(v,1/s);
k[h]=Math.max(0,Math.min(1,v))}o={e:x.zZ,B7:k,xn:k,Sx:k,FZ:!1,TX:!1}}if(J=="vibA"){var jU=(v.vibrance?v.vibrance.v:0)/100,hx=(v.Strt?v.Strt.v:0)/100,bV=1+jU*(jU>0?.25:.5),eX=.8+.2/bV;
o={e:x.xX,Fu:[jU,hx,eX,bV]}}if(J=="hue2"){var et=[],f7=[],iY=[],cd=v.Clrz?v.Clrz.v:!1;for(var h=0;h<256;
h++){et[h]=h/255;f7[h]=0;iY[h]=0}var jV=ic.Tc(v,0),g2=kC.n6(jV[1]/100);if(cd){var gV=jV[0]/360;for(var h=0;
h<256;h++){et[h]=gV;f7[h]=g2}}else{for(var h=0;h<256;h++){var fD=et[h],j4=f7[h];et[h]+=jV[0]/360;for(var N=0;
N<6;N++){var dQ=ic.Tc(v,N+1),eO=dQ.ha,a7=dQ.no,bV=0;for(var cc=1;cc<4;cc++)if(a7[cc]<a7[0])a7[cc]+=360;
var ad=a7[0],jC=a7[1],iJ=a7[2],kJ=a7[3],jr=fD*360;if(jr<a7[0])jr+=360;var fY=(jr-ad)/(jC-ad),iR=(jr-iJ)/(kJ-iJ);
if(fY<0)bV=0;else if(fY<1)bV=fY;else if(iR<0)bV=1;else if(iR<1)bV=1-iR;else bV=0;var P=kC.n6(eO[1]/100);
et[h]+=bV*eO[0]/360;f7[h]+=bV*P;iY[h]+=bV*eO[2]/100}}for(var h=0;h<256;h++){f7[h]=(1+f7[h])*(1+g2)-1;
iY[h]=Math.max(-1,Math.min(1,iY[h]))}}var g6=new Float32Array(256),ay=new Float32Array(256),cQ=new Float32Array(256);
for(var h=0;h<256;h++){var aC=et[h],hx=f7[h],dI=iY[h];if(aC>1)aC--;if(aC<0)aC++;hx=kC.agx(hx);g6[h]=aC;
ay[h]=hx;cQ[h]=dI}var fm=jV[2]/100,hd=fm<0?-fm:fm,ku=fm<0?0:1;o={e:x.Y3,a9Z:g6,As:ay,aal:cQ,aoU:hd*ku,TT:1-hd,ar8:jV[2]/100,alo:cd?1:0}}if(J=="nvrt"){var k=new Float32Array(256);
for(var h=0;h<256;h++)k[h]=1-h/255;o={e:x.zZ,B7:k,xn:k,Sx:k,FZ:!1,TX:!1}}if(J=="post"){var cp=v.Lvls.v,k=new Float32Array(256),bV=cp/255.001,hp=1/(cp-1);
for(var h=0;h<256;h++)k[h]=Math.floor(h*bV)*hp;o={e:x.zZ,B7:k,xn:k,Sx:k,FZ:!1,TX:!1}}if(J=="grdm"){var gA=v.Grad.v,jN=v.Rvrs,F=1024,d4;
if(gA.Clrs){var ey=g.UH.Yx(gA,0,0);d4=g.UH.abu(gA,ey,F,jN?jN.v:!1)}else{d4=g.UH.ane(gA,F,jN?jN.v:!1)}var jG=new Float32Array(F),cF=new Float32Array(F),f5=new Float32Array(F);
g.Vi(d4,jG,0);g.Vi(d4,cF,1);g.Vi(d4,f5,2);o={e:x.zZ,B7:jG,xn:cF,Sx:f5,FZ:!0,TX:!1}}if(J=="selc"){var jW=new Float32Array(9*3*2),f$=v.LA,bh=v.Mthd?v.Mthd.v.CrcM=="Absl":!1;
for(var N=0;N<9;N++){var ii=N*6,dM=f1.Tc(v,N),b7=dM[0]/100,cZ=dM[1]/100,e4=dM[2]/100,fI=dM[3]/100;if(bh){jW[ii]=jW[ii+1]=jW[ii+2]=1;
jW[ii+3]=b7*(1+fI)+fI;jW[ii+4]=cZ*(1+fI)+fI;jW[ii+5]=e4*(1+fI)+fI}else{jW[ii+0]=(1+b7)*(1+fI);jW[ii+1]=(1+cZ)*(1+fI);
jW[ii+2]=(1+e4)*(1+fI)}}o={e:x.$D,a0Y:jW}}if(J=="blwh"){var aI="Rd Yllw Grn Cyn Bl Mgnt".split(" "),o=[],ib=0,eL=0;
for(var h=0;h<6;h++)o.push(v[aI[h]].v);o.push(v.useTint.v,v.tintColor.v);var iV=[];for(var h=0;h<6;h++)iV.push((o[h]-50)/50);
var k6=g.UH.Eb(o[7]);k6.z/=255;k6.H/=255;k6.c/=255;var bq=g.qz(k6.z,k6.H,k6.c),dI=g.lq(g.aS(bq.mq,1,.5)),cq=bq.hO*bq.Bl;
if(dI==.5)ib=eL=.5;else{ib=cq*(.5-dI)/(.5/dI-1);eL=1-cq*(.5-dI)-1/(2*(1-dI));eL/=1-1/(2*(1-dI))}o={e:x.ix,a6r:iV,A0:o[6]?1:0,aBm:bq.mq,lq:dI,a4W:cq,KZ:ib,a0$:eL}}if(J=="blnc"){var X=[],hK=["ShdL","MdtL","HghL"];
for(var h=0;h<3;h++){if(v[hK[h]]==null){X[h]=[0,0,0];continue}var cp=v[hK[h]].v,fU=cp[0].v/100,ju=cp[1].v/100,e6=cp[2].v/100,hB=v.PrsL==null||v.PrsL.v?(Math.min(fU,ju,e6)+Math.max(fU,ju,e6))/2:0;
X[h]=[fU-hB,ju-hB,e6-hB]}var d=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];for(var N=0;
N<3;N++)for(var h=0;h<256;h++){var $=h*(1/255),h0=0,Y=0,aD=0;Y=X[2][N];aD=Math.abs(Y);if(Y<0)h0=Math.pow($,Math.SQRT2);
else h0=1.63*(Math.pow($+.04,.5)-.2);$=aD*h0+(1-aD)*$;Y=X[1][N];aD=Math.abs(Y);if(Y<0)h0=Math.pow($,2);
else h0=Math.min(2.35*(Math.pow($+.09,.5)-.3),Math.pow($,1/2));$=aD*h0+(1-aD)*$;Y=X[0][N];aD=Math.abs(Y);
if(Y<0)h0=$<.4?0:Math.pow(($-.4)/.6,Math.SQRT2);else h0=Math.pow($,Math.SQRT2/2);$=aD*h0+(1-aD)*$;$=Math.max(0,Math.min(1,$));
d[N][h]=$}o={e:x.zZ,B7:d[0],xn:d[1],Sx:d[2],FZ:!1,TX:!1}}if(J=="phfl"){var hy=g.UH.Eb(v.Clr.v),kD=[hy.z/255,hy.H/255,hy.c/255],en=v.Dnst.v/100,d=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];
for(var N=0;N<3;N++)for(var h=0;h<256;h++){var $=h*(1/255),jp=$*kD[N];jp=Math.max(0,Math.min(1,jp));
$=en*jp+(1-en)*$;d[N][h]=$}o={e:x.zZ,B7:d[0],xn:d[1],Sx:d[2],FZ:!1,TX:v.PrsL.v}}if(J=="thrs"){var k=new Float32Array(256);
for(var h=v.Lvl.v;h<256;h++)k[h]=1;o={e:x.zZ,B7:k,xn:k,Sx:k,FZ:!0,TX:!1}}if(J=="mixr"){var ij=kC.zd(v),w=[];
for(var h=0;h<ij.K.length;h++)if(h%5!=3)w.push(ij.K[h]/100);if(ij.SJ){for(var dD=1;dD<3;dD++)for(var $=0;
$<4;$++)w[dD*4+$]=w[$]}o={e:x.Y2,gf:w}}if(J=="rplc"){var am=v.Mnm.v,bE=v.Mxm.v;o={e:x.p_,WN:[am.Lmnc.v,am.A.v,am.B.v],N3:[bE.Lmnc.v,bE.A.v,bE.B.v],shift:[v.H.v/360,v.Strt.v/100,v.Lght.v/100],BP:v.Fzns.v/150}}if(J=="clrL"&&v.profile){var as=new Uint8Array(v.profile.v),gs=ICC.R(as.buffer),c8=[],iv=17,c8=ICC.U.sampleLUT(gs,iv);
o={e:x.qo,u8:ICC.U.lutToRGBA32(c8,iv),a8j:c8,Kv:iv}}return o};kC.FL=function(J,v){var x=-1;if(J!="levl"||v==null)x=-1;
else if(v.Auto)x=0;else if(v.AuCo)x=1;else if(v.autoBlackWhite)x=2;return x};kC.Zu={zZ:0,Y3:1,xX:2,$D:3,ix:4,Y2:5,p_:6,qo:7};
kC.n6=function(J){if(J<0)return J;return Math.pow(Math.tan(Math.PI/2*J),1.3)};kC.agx=function(J){if(J<0)return J;
J=Math.pow(J,1/1.3);return Math.atan2(J,1)/(Math.PI/2)};kC.vY=function(J,v,x,o){var R=kC.Zu,r=Date.now();
if(gi._E&&o.o()>300*300&&J.e!=R.zZ&&J.e!=R.qo){o=o.Q();o.x=o.y=0;var l=gi.Et(0,o.r,o.$,g.u3(v));l.set(v);
gi.DM(l,o);l.EO(o);kC.I7(J,l.z7,o);l.get(x);return}var M=v.length,P=g.u3(v),S=P==8?255:P==16?65535:1,c=1/S;
for(var h=0;h<M;h+=4)x[h+3]=v[h+3];if(J.e==R.qo){var b=J.a8j,w=J.Kv;ICC.U.applyLUT(b,w,v,x);var M=v.length}if(J.e==R.Y2)g.$G.agO(v,x,J.gf);
if(J.e==R.ix){var U=J.a4W,F=J.lq,Y=J.KZ,A=J.a0$,M=v.length;for(var h=0;h<M;h+=4){var o=v[h]*c,G=v[h+1]*c,n=v[h+2]*c,E=g.jk(o,G,n),K=0;
for(var e=0;e<6;e++)K+=Math.min(1,1.7*(1-E.hm))*E.hO*J.a6r[e]*kC.ad5(E.mq,e*(1/6));var $=Math.max(0,Math.min(1,E.hm*(1+K)));
if(J.A0==1){var N=0;if($<Y)N=$*(.5/F);else if($<A)N=$+U*(.5-F);else N=1-(1-$)*.5/(1-F);E.mq=J.aBm;E.hO=Math.min(1,U+3*U*Math.abs($-.5*(Y+A)));
E.hm=N}else{E.mq=0;E.hO=0;E.hm=$}var k=g.aS(E.mq,E.hO,E.hm);x[h]=k.z*S;x[h+1]=k.H*S;x[h+2]=k.c*S}}if(J.e==R.$D){var V=J.a0Y,M=v.length,X=1/255;
for(var h=0;h<M;h+=4){var o=v[h]*X,G=v[h+1]*X,n=v[h+2]*X,E=g.jk(o,G,n),Q=Math.max(o,Math.max(G,n)),L=Math.min(o,Math.min(G,n)),_=1-o,a=1-G,T=1-n,f=0,Z=0,W=0;
for(var e=0;e<9;e++){var D=e*6,y=0;if(V[D]==1&&V[D+1]==1&&V[D+2]==1&&V[D+3]==0&&V[D+4]==0&&V[D+5]==0)continue;
var C=_*V[D]+V[D+3],d=a*V[D+1]+V[D+4],p=T*V[D+2]+V[D+5];if(e<6)y=kC.ad5(E.mq,e*(1/6))*E.hO*2*Math.min(E.hm,1-E.hm);
else if(e==6)y=Math.max(0,L-.5)*2;else if(e==7)y=1-(Math.abs(Q-.5)+Math.abs(L-.5));else y=Math.max(0,.5-Q)*2;
f+=(Math.max(0,Math.min(1,C))-_)*y;Z+=(Math.max(0,Math.min(1,d))-a)*y;W+=(Math.max(0,Math.min(1,p))-T)*y}_=Math.max(0,Math.min(1,_+f));
a=Math.max(0,Math.min(1,a+Z));T=Math.max(0,Math.min(1,T+W));o=1-_;G=1-a;n=1-T;x[h]=Math.round(o*255);
x[h+1]=Math.round(G*255);x[h+2]=Math.round(n*255)}}if(J.e==R.zZ){g.arE(v,x,J.B7,J.xn,J.Sx,J.FZ,J.TX)}if(J.e==R.Y3){if(kC.yb==null){kC.yb=new Float64Array(256);
for(var h=0;h<256;h++)kC.yb[h]=kC.n6(-1+2*h/255)}var i=kC.yb;for(var h=0;h<M;h+=4){var o=v[h]*c,G=v[h+1]*c,n=v[h+2]*c,t=Math.min(o,G,n),O=Math.max(o,G,n),q=0,z=0,jw=0;
q=g.jk(o,G,n).mq;var u=~~(q*255+.5),iH=J.a9Z[u],s=J.As[u],bV=J.aal[u],K=-bV,jU=t;if(0<bV){K=bV;jU=O}var hx=J.aoU+J.TT*K*jU,eX=J.TT*(1-K);
o=hx+eX*o;G=hx+eX*G;n=hx+eX*n;O=Math.max(o,G,n);t=Math.min(o,G,n);jw=(O+t)*.5;if(O!=t){var et=O-t;z=jw>.5?et/(2-(O+t)):et/(O+t)}var f7=s;
if(J.alo==0){s=i[Math.floor((1+s)*127.5)];f7=Math.min(z*(1+s),1)}var k=g.aS(iH,f7,jw);o=k.z;G=k.H;n=k.c;
x[h]=o*S;x[h+1]=G*S;x[h+2]=n*S}}if(J.e==R.p_){g.oj(v,x);var iY=new Uint32Array(v.buffer),cd=new Uint32Array(x.buffer),M=iY.length,jV=J.BP,g2=1/jV,gV={jj:J.WN[0],o5:J.WN[1],c:J.WN[2]},fD={jj:J.N3[0],o5:J.N3[1],c:J.N3[2]};
for(var h=0;h<M;h++){var j4=iY[h],dQ=j4&255,eO=j4>>>8&255,a7=j4>>>16&255,o=dQ*(1/255),G=eO*(1/255),n=a7*(1/255),cc=j4>>>24,ad=g.ZG(dQ,eO,a7),jC=g.ayq(ad,gV,fD,jV,g2);
if(jC==0)continue;var E=g.jk(o,G,n),iH=2+E.mq+J.shift[0];E.mq=iH-~~iH;E.hO=Math.max(0,Math.min(1,E.hO+J.shift[1]));
E.hm=Math.max(0,Math.min(1,E.hm+J.shift[2]));var k=g.aS(E.mq,E.hO,E.hm);o=(1-jC)*o+jC*k.z;G=(1-jC)*G+jC*k.H;
n=(1-jC)*n+jC*k.c;cd[h]=cc<<24|n*255<<16|G*255<<8|o*255}}if(J.e==R.xX){var iJ=J.Fu[0],kJ=J.Fu[1],jr=J.Fu[2],K=J.Fu[3],fY=g.$G.ya([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),iR=g.$G.SV(fY),g6=2.4;
function w(fm){return Math.max(0,Math.min(1,fm))}function ay(fm){return Math.pow(fm,g6)}function cQ(fm){return Math.pow(fm,1/g6)}function aC(o,G,n,fm){o=ay(o);
G=ay(G);n=ay(n);var hd=g.$G.Gr(fY,[o,G,n,1]);hd[0]*=jr;hd[1]*=K;hd[2]*=K;var k=g.$G.Gr(iR,hd);k[0]=cQ(w(k[0]));
k[1]=cQ(w(k[1]));k[2]=cQ(w(k[2]));return k}for(var h=0;h<M;h+=4){var o=v[h]*c,G=v[h+1]*c,n=v[h+2]*c,k=aC(o,G,n,iJ);
o=k[0];G=k[1];n=k[2];var dI=g.jk(o,G,n);dI.hO=Math.max(0,Math.min(1,dI.hO*(1+kJ)));k=g.aS(dI.mq,dI.hO,dI.hm);
o=k.z;G=k.H;n=k.c;x[h]=o*S;x[h+1]=G*S;x[h+2]=n*S}}};kC.I7=function(J,v,x){gi.BV.I7(J,v)};kC.ad5=function(J,v){var x=g.Bi(v,J)*6;
return Math.max(0,Math.min(1,x<0?1+x:1-x))};var a8={};a8.mV=function(J){var v=J.filterID.v;return v>16777215?I.agW(v):J.Fltr.v.classID};
a8.zm=[{BD:"GEfc"},{BD:"LnCr"},{BD:"Adobe Camera Raw Filter"},{BD:"LqFy"},{BD:"VaPo",vy:!0},{Pi:"3D",LP:["lightFilterGradient","Dila"]},{Pi:[24,2],LP:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Pi:[24,3,11],LP:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{Pi:[24,4],LP:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Pi:[24,6],LP:["AdNs","Dspc","DstS","Mdn ","denoise"]},{Pi:[24,8],LP:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{Pi:[24,10],LP:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Pi:[24,12],LP:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Pi:[24,14],LP:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Pi:[24,16],LP:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{Pi:"Fourier",LP:["dDFT","iDFT"]}];
a8.Tn={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
a8.mk={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
a8.W={rigidTransform:H.E7,blurbTransform:H.ru};a8.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
a8.ow=function(J){var v=null;if(J=="GEfc")v={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:j$.ow("GlwE")}]}};
if(J=="LqFy"){var x={BK:5,mq:5,map:new Float32Array(5*5*2)},o=new Uint8Array(eV.Ce(x)),R=[];for(var h=0;
h<o.length;h++)R.push(o[h]);v={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:R}}}if(J=="rigidTransform"){v={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(J=="blurbTransform"){v={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(J=="LnCr")v={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(J=="adaptCorrect")v={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(J=="Dfs ")v={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(J=="Fbrs")v={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(J=="Embs")v={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(J=="oilPaint")v={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(J=="TrcC")v={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(J=="Wnd ")v={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(J=="lightFilterGradient")v={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(J=="boxblur")v={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(J=="GsnB")v={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(J=="Bokh")v={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(J=="MtnB")v={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(J=="RdlB")v={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(J=="surfaceBlur")v={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(J=="denoise")v={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(J=="Dspl")v={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(J=="Pnch")v={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(J=="Plr ")v={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(J=="Rple")v={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(J=="Shr ")v={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(J=="Sphr")v={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(J=="Twrl")v={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(J=="Wave")v={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(J=="ZgZg")v={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(J=="AdNs")v={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(J=="DstS")v={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(J=="Mdn ")v={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(J=="ClrH")v={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(J=="Crst")v={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(J=="Mztn")v={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(J=="Msc ")v={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(J=="Pntl")v={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(J=="LnsF")v={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(J=="Dthr")v={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(J=="Part")v={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(J=="Adobe Camera Raw Filter")v={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(J=="smartSharpen")v={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(J=="UnsM")v={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(J=="HghP")v={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(J=="HsbP")v={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(J=="Mxm ")v={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(J=="Mnm ")v={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(J=="Ofst")v={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(J=="Kale")v={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(J=="Rept")v={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(J=="Flam")v={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(J=="Ctoa")v={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(J=="brit")v={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(J=="levl")v={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(J=="curv")v={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(J=="expA")v={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(J=="vibA")v={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(J=="hue2")v={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(J=="blnc")v={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(J=="blwh")v={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(J=="phfl")v={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(J=="grdm")v={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(gD.Sy[6]).Grad};
if(J=="selc")v={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(J=="thrs")v={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(J=="mixr")v={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(J=="clrL")v={__name:"Color Lookup",classID:"colorLookup"};if(J=="post")v={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(J=="rplc")v={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(J=="fade")v={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(J=="aply")v={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(J=="matc"){v={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(J=="Dila")v={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(J=="blendOptions")v={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return v};a8.FN={sFlam:function(J,v){v[0]=J.Type.v;v[1]=J.Leng.v;v[2]=J.RndL.v;v[3]=J.Widt.v;v[4]=J.Angl.v;
v[5]=J.Intr.v;v[6]=J.Adpt.v;v[7]=J.Clr.v;v[8]=J.Qual.v;v[9]=J.Turb.v;v[10]=J.Jag.v;v[11]=J.Opct.v.val;
v[12]=J.Lins.v;v[13]=J.Botm.v;v[14]=J.Styl.v;v[15]=J.Shap.v;v[16]=J.RnSh.v;v[17]=J.Arng.v},gFlam:function(J,v){J.Type.v=v[0];
J.Leng.v=v[1];J.RndL.v=v[2];J.Widt.v=v[3];J.Angl.v=v[4];J.Intr.v=v[5];J.Adpt.v=v[6];J.Clr.v=v[7];J.Qual.v=v[8];
J.Turb.v=v[9];J.Jag.v=v[10];J.Opct.v.val=v[11];J.Lins.v=v[12];J.Botm.v=v[13];J.Styl.v=v[14];J.Shap.v=v[15];
J.RnSh.v=v[16];J.Arng.v=v[17]},sAdNs:function(J,v){v[0]=J.Nose.v.val;v[1]=["Gsn","Unfr"].indexOf(J.Dstr.v.Dstr);
v[2]=J.Mnch.v},gAdNs:function(J,v){J.Nose.v.val=v[0];J.Dstr.v.Dstr=["Gsn","Unfr"][v[1]];J.Mnch.v=v[2]},sDstS:function(J,v){v[0]=J.Rds.v;
v[1]=J.Thsh.v},gDstS:function(J,v){J.Rds.v=v[0];J.Thsh.v=v[1]},sGsnB:function(J,v){v[0]=J.Rds.v.val},gGsnB:function(J,v){J.Rds.v.val=v[0]},sDila:function(J,v){v[0]=J.Crop.v.val;
v[1]=J.Rds.v.val},gDila:function(J,v){J.Crop.v.val=v[0];J.Rds.v.val=v[1]},sHghP:function(J,v){v[0]=J.Rds.v.val},gHghP:function(J,v){J.Rds.v.val=v[0]},sHsbP:function(J,v){var x=["RGBC","HSBl","HSLC"];
v[0]=x.indexOf(J.Inpt.v.ClrS);v[1]=x.indexOf(J.Otpt.v.ClrS)},gHsbP:function(J,v){var x=["RGBC","HSBl","HSLC"];
J.Inpt.v.ClrS=x[v[0]];J.Otpt.v.ClrS=x[v[1]]},"sMxm ":function(J,v){var x="preserveShape";v[0]=J.Rds.v.val;
v[1]=J[x]?["squareness","Rndn"].indexOf(J[x].v[x]):0},"gMxm ":function(J,v){var x="preserveShape";J.Rds.v.val=v[0];
J[x]={t:"enum",v:{preserveShape:["squareness","Rndn"][v[1]]}}},"sMnm ":function(J,v){var x="preserveShape";
v[0]=J.Rds.v.val;v[1]=J[x]?["squareness","Rndn"].indexOf(J[x].v[x]):0},"gMnm ":function(J,v){var x="preserveShape";
J.Rds.v.val=v[0];J[x]={t:"enum",v:{preserveShape:["squareness","Rndn"][v[1]]}}},sMtnB:function(J,v){v[0]=[J.Angl.v];
v[1]=J.Dstn.v.val;console.log(v)},gMtnB:function(J,v){J.Angl.v=typeof v[0]=="number"?v[0]:v[0][0];J.Dstn.v.val=v[1]},sOfst:function(J,v){v[0]=J.Hrzn.v;
v[1]=J.Vrtc.v;v[2]=["Rpt","Bckg","Wrp"].indexOf(J.Fl.v.FlMd)},gOfst:function(J,v){J.Hrzn.v=v[0];J.Vrtc.v=v[1];
J.Fl.v.FlMd=["Rpt","Bckg","Wrp"][v[2]]},sPnch:function(J,v){v[0]=J.Amnt.v},gPnch:function(J,v){J.Amnt.v=v[0]},"sPlr ":function(J,v){v[0]=["RctP","PlrR"].indexOf(J.Cnvr.v.Cnvr)},"gPlr ":function(J,v){J.Cnvr.v.Cnvr=["RctP","PlrR"][v[0]]},sRple:function(J,v){v[0]=J.Amnt.v;
v[1]=["Sml","Mdm","Lrg"].indexOf(J.RplS.v.RplS)},gRple:function(J,v){J.Amnt.v=v[0];J.RplS.v.RplS=["Sml","Mdm","Lrg"][v[1]]},sTwrl:function(J,v){v[0]=J.Angl.v},gTwrl:function(J,v){J.Angl.v=v[0]},sZgZg:function(J,v){v[0]=J.Amnt.v;
v[1]=J.NmbR.v;v[2]=["ArnC","OtFr","PndR"].indexOf(J.ZZTy.v.ZZTy)},gZgZg:function(J,v){J.Amnt.v=v[0];
J.NmbR.v=v[1];J.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][v[2]]},sUnsM:function(J,v){v[0]=J.Amnt.v.val;v[1]=J.Rds.v.val;
v[2]=J.Thsh.v},gUnsM:function(J,v){J.Amnt.v.val=v[0];J.Rds.v.val=v[1];J.Thsh.v=v[2]},sWave:function(J,v){v[0]=J.NmbG.v;
v[1]=J.WLMn.v;v[2]=J.WLMx.v;v[3]=J.AmMn.v;v[4]=J.AmMx.v;v[5]=J.SclH.v;v[6]=J.SclV.v;v[7]=["WvSn","WvTr","WvSq"].indexOf(J.Wvtp.v.Wvtp);
v[8]=["WrpA","RptE"].indexOf(J.UndA.v.UndA);v[9]=J.RndS.v},gWave:function(J,v){J.NmbG.v=v[0];J.WLMn.v=v[1];
J.WLMx.v=v[2];J.AmMn.v=v[3];J.AmMx.v=v[4];J.SclH.v=v[5];J.SclV.v=v[6];J.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][v[7]];
J.UndA.v.UndA=["WrpA","RptE"][v[8]];if(v[9]!=null){var x=parseInt(v[9]);if(isNaN(x))x=248325464;x=Math.max(0,Math.min(268435455,x));
J.RndS.v=x}},sDspl:function(J,v){v[0]=J.HrzS.v;v[1]=J.VrtS.v;v[2]=0;v[3]=["WrpA","RptE"].indexOf(J.UndA.v.UndA)},gDspl:function(J,v){J.HrzS.v=v[0];
J.VrtS.v=v[1];J.UndA.v.UndA=["WrpA","RptE"][v[3]];J.DspF.v.pth=v[4]},sbrit:function(J,v){v[0]=J.Brgh?J.Brgh.v:0;
v[1]=J.Cntr?J.Cntr.v:0;v[2]=J.useLegacy?J.useLegacy.v:!1},gbrit:function(J,v){J.Brgh.v=v[0];J.Cntr.v=v[1];
if(v[2]!=null)J.useLegacy.v=v[2]}};a8.ahw=function(J){var v=new aG(0,0);if(J.enab.v==!1)return v;var x=J.filterFXList.v;
for(var h=0;h<x.length;h++){var o=x[h].v;if(o.enab.v==!1)continue;var R=a8.mV(o),r=a8.BC(R,o.Fltr?o.Fltr.v:null);
if(r.x>v.x)v.x=r.x;if(r.y>v.y)v.y=r.y}return v};a8.BC=function(J,v){var x=0,o=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(J)!=-1){var R=v.Rds?v.Rds.v.val:1;
x=o=R*2.57}if(J=="MtnB")x=o=v.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,Frgm,Flam".split(",").indexOf(J)!=-1){x=o=1e4}if(J=="GEfc")return j$.BC(v);
return new aG(Math.ceil(x),Math.ceil(o))};a8.Ky=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
a8.Hs=function(J,v){var x={z:v.P4>>16,H:v.P4>>8&255,c:v.P4&255},o={z:v.Vb>>16,H:v.Vb>>8&255,c:v.Vb&255},R=a8.names[J];
if(R==null)R=kC.names[J];var r=J;for(var l in kC.QT)if(kC.QT[l]==J)r=l;var M={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:ea.get(R)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:g.UH.YK(x)},BckC:{t:"Objc",v:g.UH.YK(o)},filterID:{t:"long",v:r.length==4?I.ayn(r):777}}},P=a8.ow(J);
if(P)M.v.Fltr={t:"Objc",v:P};return M};a8.pP=function(J,v,x,o){var R=Date.now(),r=gi._E&&Math.max(o.r,o.$)<=gi.zJ.getParameter(gi.zJ.MAX_TEXTURE_SIZE),l=g.u3(x);
if(J<1){var M=Math.round(J*5),P=[1,2,1,2,[40,26,13,6,4,2][M],2,1,2,1];P=g.yJ.Z8(P);if(!r){g.X7(x);var S=x.slice(0);
g.yJ.Ty(S,x,o.r,o.$,P,!0);g.Z4(x)}else{var c=o.r,b=o.$,w=gi.Et(0,c,b,l);w.set(x);var U=gi.Et(1,c,b,l),F=new Float32Array([1/c,1/b]);
gi.DM(U);gi.filter.I7({e:gi.filter.aps,Mv:F,aFO:new Float32Array(P)},w.qb);U.get(x)}}else{var Y=[];while(v!=2&&J*[1,2.4][v]>20&&Y.length<4){var A=g.WU(x,o);
Y.push(x,o);x=A.r3;o=A.S;J/=2}var c=o.r,b=o.$;if(!r||v==2&&J>15){g.X7(x);if(v==0)g.Wh.agg(x,o,J);if(v==1)g.Wh.aDL(x,o,J);
if(v==2)g.Wh.amR(x,o,J);g.Z4(x)}else{var w=gi.Et(0,c,b,l);w.set(x);var U=gi.Et(1,c,b,l),F=new Float32Array([1/c,1/b]);
if(v==0){var G=1;while(G<J)G<<=1;gi.DM(U);gi.filter.I7({e:gi.filter.Tg,Mv:F,Lm:J,JZ:[0,0,G]},w.qb);gi.DM(w);
gi.filter.I7({e:gi.filter.Tg,Mv:F,Lm:J,JZ:[0,1,G]},U.qb);w.get(x)}else if(v==1){var n=3,E=g.Wh.ak6(J,n);
for(var h=0;h<n;h++){var K=E[h]>>>1,e=1;while(e<K)e<<=1;if(K==0)continue;gi.DM(U);gi.filter.I7({e:gi.filter.Tg,Mv:F,Lm:K,JZ:[0,0,e]},w.qb);
gi.DM(w);gi.filter.I7({e:gi.filter.Tg,Mv:F,Lm:K,JZ:[0,1,e]},U.qb)}w.get(x)}else{var G=1;while(G<J)G<<=1;
gi.DM(U);gi.filter.I7({e:gi.filter.Tg,Mv:F,Lm:J,JZ:[0,0,G]},w.qb);U.get(x)}}var $=Date.now();while(Y.length!=0){var N=Y.pop(),k=Y.pop();
g.scale.avl(x,o.r,o.$,k,N.r,N.$);x=k;o=N}}};a8.a45=function(J,v,x,o){for(var h=0;h<J.length;h++){x[h]=J[h]*(1/255);
o[h]=0}FFT.fft2d(x,o);var R=v>>>1,r=16384,l=128,P=100;while(l<v){l<<=1;r<<=2}var M=255/Math.log(r),S=-100;
for(var c=0;c<v;c++)for(var b=0;b<R;b++){var w=v+R+c&v-1,U=x[w*v+b],F=o[w*v+b],Y=Math.sqrt(U*U+F*F),A=Math.atan2(F,U);
J[c*v+b]=Math.round(M*Math.log(Y+1));J[c*v+R+b]=Math.round((Math.PI+A)*(255*.5/Math.PI))}};a8.a6P=function(J,v,x,o){x.fill(0);
o.fill(0);var R=v>>>1,r=16384,l=128;while(l<v){l<<=1;r<<=2}var M=255/Math.log(r),P=[],S=[],c=[];for(var h=0;
h<256;h++){P[h]=Math.exp(h/M)-1;var b=h*(2*Math.PI/255)-Math.PI;S[h]=Math.sin(b);c[h]=Math.cos(b)}for(var w=0;
w<v;w++)for(var U=0;U<R;U++){var F=v+R+w&v-1,Y=P[J[w*v+U]],b=J[w*v+R+U],A=Y*c[b],G=Y*S[b];x[F*v+U]=A;
o[F*v+U]=G;if(U!=0){var n=F==0?F*v+v-U:(v-F)*v+(v-U);x[n]=A;o[n]=-G}}FFT.ifft2d(x,o);for(var h=0;h<J.length;
h++){J[h]=Math.max(0,Math.min(255,~~(.5+255*x[h])))}};a8.a5u=new ArrayBuffer(512);a8.aHo=function(J){var v=a8.a5u,x=J.length;
if(v.byteLength<x)a8.a5u=v=new ArrayBuffer(x);var o=new Uint8Array(v);for(var h=0;h<x;h+=4){o[h]=J[h];
o[h+1]=J[h+1];o[h+2]=J[h+2];o[h+3]=J[h+3]}return v};a8.vY=function(J,v,x,o,R,r,l){var M,P,S=g.u3(v.buffer);
if(r==null)r={buffer:g.C(v.buffer.length,S),S:v.S.Q()};r.buffer.set(v.buffer);var c="Blr ,BlrM,Shrp,ShrM,GsnB,boxblur,smartSharpen,UnsM,HghP".split(","),b=S!=8&&c.indexOf(J)==-1;
if(b){M=v.buffer;P=r.buffer;v.buffer=g.N2(M,8);r.buffer=g.N2(P,8)}r=a8.aaV(J,v,x,o,R,r,l);if(b){v.buffer=M;
g.N2(r.buffer,S,P);r.buffer=P}return r};a8.aaV=function(J,v,x,o,R,r,l){var M=x&&x.RndS?x.RndS.v>>>1:0,P=g.u3(v.buffer),S=g.JN(P);
if(J=="GEfc"){var c=[];if(x.GEfs){var b=x.GEfs.v;for(var h=0;h<b.length;h++){var w=b[h].v;if(w.GELv&&w.GELv.v==!1)continue;
c.push(w)}}else c=[x];for(var h=0;h<c.length;h++){var U;if(h==0)j$.vY(J,v,c[h],o,R,r,l);else{if(U==null)U={buffer:g.C(v.buffer.length),S:v.S.Q()};
g.oj(r.buffer,U.buffer);j$.vY(J,U,c[h],o,R,r,l)}}}if(J=="Dila"){var F=x.Crop.v.val,Y=x.Rds.v.val+F;Y=Y*Y;
if(Y==0)return;var A=v.S,G=A.r,n=A.$,E=G*n,K=v.buffer,U=r.buffer,e=g.C(E);g.Vi(K,e,3);if(F!=0){var $=A.Q();
$.rz(1,1);var N=g.C($.o());g.Cc(e,A,N,$);g.SV(N);g.style.stroke(N,N,$,F);g.SV(N);g.Cc(N,$,e,A)}var k=g.style.Zr(e,G,n);
U.fill(0);for(var V=0;V<n;V++)for(var X=0;X<G;X++){var h=V*G+X,Q=h<<1,L=h<<2,_=k[Q],a=k[Q+1];if(_*_+a*a<Y){var T=(V+a)*G+(X+_)<<2;
U[L]=K[T];U[L+1]=K[T+1];U[L+2]=K[T+2];U[L+3]=255}}}if(J=="Adobe Camera Raw Filter"){var A=v.S,G=A.r,n=A.$,Z=g.N2(v.buffer,32),W=g.F(x);
delete W.Upri;delete W.GuUr;hI(Z,G,n,Z,W);g.N2(Z,8,r.buffer)}if(J=="Fct "){var A=v.S,G=A.r,n=A.$,E=G*n,D=E*4;
function C(eG){var iJ=eG.slice(0);for(var V=0;V<3;V++)for(var X=0;X<3;X++)iJ[V*3+X]=eG[(2-X)*3+V];return iJ}function d(i9,g$,af,ff){var iw=0;
for(var V=0;V<3;V++)for(var X=0;X<3;X++)iw+=g$[V*3+X]*i9[(ff-1+V)*G+af-1+X];return iw}var p=[8,5,2,5,2,-1,2,-1,-4],y=[5,5,5,2,2,2,-1,-1,-1],i=[2,2,2,2,2,2,2,2,2],t=[];
t.push(p);for(var h=0;h<3;h++)t.push(C(t[t.length-1]));t.push(y);for(var h=0;h<3;h++)t.push(C(t[t.length-1]));
t.push(i);for(var h=0;h<9;h++)t[h]=g.yJ.Z8(t[h]);var O=[-G-1,-G,-G+1,-1,0,1,G-1,G,G+1],q=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],z=g.C(E),jw=new Float32Array(E),u=g.C(E);
for(var iH=0;iH<3;iH++){g.Vi(v.buffer,z,iH);for(var s=0;s<1;s++){for(var V=1;V<n-1;V++)for(var X=1;X<G-1;
X++){var bV=V*G+X,jU=z[bV];jw[bV]=1e9;for(var h=0;h<9;h++){var hx=d(z,t[h],X,V),eX=(hx-jU)*(hx-jU);if(eX<jw[bV])jw[bV]=eX}}for(var V=1;
V<n-1;V++)for(var X=1;X<G-1;X++){var et=0,f7=1e9;for(var h=0;h<9;h++){var iY=V*G+X+O[h],eX=jw[iY];if(eX<f7){f7=eX;
et=z[iY]}}u[V*G+X]=et}z.set(u)}g.Os(u,r.buffer,iH)}}if(J=="adaptCorrect"){var A=v.S,G=A.r,n=A.$,E=G*n,D=E*4,cd=x.sdwM.v,jV=cd.Amnt.v.val/100,g2=cd.Wdth.v.val/100,gV=cd.Rds.v,fD=x.hglM.v,j4=fD.Amnt.v.val/100,dQ=fD.Wdth.v.val/100,eO=fD.Rds.v;
g.a28.qP(v.buffer,r.buffer,G,n,jV,g2,gV,j4,dQ,eO,x.ClrC.v/100,x.Cntr.v/100)}if(J=="denoise"){var A=v.S,G=A.r,n=A.$,a7=x.channelDenoise.v[0].v;
g.a9A.a9w(v.buffer,G,n,r.buffer,a7.Amnt.v/10,a7.EdgF.v/100)}if(J=="HsbP"){var cc=x.Inpt.v.ClrS,ad=x.Otpt.v.ClrS,A=v.S,G=A.r,n=A.$,E=G*n;
for(var h=0;h<E;h++){var L=h*4,s=v.buffer[L]*(1/255),jC=v.buffer[L+1]*(1/255),iJ=v.buffer[L+2]*(1/255);
if(cc=="RGBC"){}else if(cc=="HSLC"){var u=g.aS(s,jC,iJ);s=u.z;jC=u.H;iJ=u.c}else if(cc=="HSBl"){var u=g.ala(s,jC,iJ);
s=u.z;jC=u.H;iJ=u.c}var kJ=s,jr=jC,fY=iJ;if(ad=="RGBC"){}else if(ad=="HSLC"){var u=g.jk(s,jC,iJ);kJ=u.mq;
jr=u.hO;fY=u.hm}else if(ad=="HSBl"){var u=g.a2t(s,jC,iJ);kJ=u.mq;jr=u.hO;fY=u.c}r.buffer[L]=~~(255*kJ);
r.buffer[L+1]=~~(255*jr);r.buffer[L+2]=~~(255*fY)}}if(J=="Fbrs"){var A=v.S,G=A.r,n=A.$;g.B.auJ(v.buffer,G,n,r.buffer,[x.Vrnc.v,x.Strg.v,M]);
var iR=g.C(G*n);g.Vi(r.buffer,iR,0);g.SV(iR);j$.lO(iR,r.buffer,o,R)}if(J=="Frgm"){var A=v.S,G=A.r,n=A.$,g6=v.buffer.slice(0);
g.X7(g6);g.B.a7O(g6,G,n,r.buffer);g.Z4(r.buffer)}if(J=="Flam"){var A=v.S,G=A.r,n=A.$,ay=x.Clr.v,cQ={e:x.Type.v+1,length:x.Leng.v,asz:x.RndL.v,qa:x.Widt.v,a4i:x.Angl.v,a8U:x.Intr.v,aad:x.Adpt.v,color:{z:ay.Rd.v,H:ay.Grn.v,c:ay.Bl.v},g9:x.Qual.v+1,_2:x.Turb.v,a5:x.Jag.v,fc:x.Opct.v.val,xF:x.Lins.v,a98:x.Botm.v,style:x.Styl.v+1,shape:x.Shap.v+1,aHl:x.RnSh.v,aG6:x.Arng.v,agu:!1};
if(l[3]==null)return;var aC=l[3],dI=aC[0],fm=aC[1],hd=dI[fm.length!=0?fm[0]:0];if(hd==null){alert("Make a path first");
return}var ku=hd.add.vmsk.X,cp=g.I.Eo(ku),hp=[];for(var T=0;T<cp;T++){var gA=g.I.I5(ku,T),jN=ku[gA];
if(jN.length<2)continue;var d4=[];hp.push(d4);var ey=jN.length-(jN.e==3?1:0);for(var bV=0;bV<ey;bV++){var jG=ku[gA+1+bV],cF=bV==jN.length-1?ku[gA+1]:ku[gA+1+bV+1],f5=jG.Z,jW=jG._v,p=cF.nQ,f$=cF.Z,bh=Math.round(aG.Aj(f5,f$)/5);
for(var ii=0;ii<bh;ii++){var dM=ii/bh,b7=1-dM,X=b7*b7*b7*f5.x+3*b7*b7*dM*jW.x+3*b7*dM*dM*p.x+dM*dM*dM*f$.x,V=b7*b7*b7*f5.y+3*b7*b7*dM*jW.y+3*b7*dM*dM*p.y+dM*dM*dM*f$.y;
d4.push(X,V)}}}var bz=[hp,cQ],cZ=Date.now(),e4=jM(bz);hT(v.buffer,G,n,r.buffer,e4,bz)}if(J=="Dfs "){var A=v.S,G=A.r,n=A.$,fI=["Nrml","DrkO","LghO","anisotropic"].indexOf(x.Md.v.DfsM);
if(fI<3)g.B.apv(v.buffer,G,n,r.buffer,[fI]);else{var bz=[1.4,1.6,1,4,!1,2,[0,0,.001]],A=v.S.Q();A.x=A.y=0;
g.v0.filter(v.buffer,A,r.buffer,bz)}}if(J=="TrcC"){var A=v.S,G=A.r,aI=G<<2,n=A.$,iV=x.Lvl.v,k6=x.Edg.v.CntE=="Lwr",bq=v.buffer,cq=r.buffer;
g.rd(cq,1,1,1);function ib(gv,jB){eL(gv,jB);eL(gv+1,jB+1);eL(gv+2,jB+2)}function jD(gv,jB){hK(gv,jB);
hK(gv+1,jB+1);hK(gv+2,jB+2)}function eL(gv,jB){var kJ=bq[gv],jr=bq[jB];if(kJ>=iV&&jr<iV)cq[gv]=0;if(kJ<iV&&jr>=iV)cq[jB]=0}function hK(gv,jB){var kJ=bq[gv],jr=bq[jB];
if(kJ>iV&&jr<=iV)cq[jB]=0;if(kJ<=iV&&jr>iV)cq[gv]=0}if(k6)for(var V=1;V<n;V++)for(var X=1;X<G;X++){var L=V*G+X<<2;
ib(L,L-4);ib(L,L-aI)}else for(var V=1;V<n;V++)for(var X=1;X<G;X++){var L=V*G+X<<2;jD(L,L-4);jD(L,L-aI)}}if(J=="Embs"){var A=v.S,G=A.r,n=A.$,fU=-x.Angl.v*Math.PI/180,ju=x.Hght.v,aF=x.Amnt.v/100;
ju/=2;var _=Math.cos(fU)*ju,a=Math.sin(fU)*ju,bq=v.buffer,cq=r.buffer;cq.fill(0);var e6=new Uint32Array(bq.buffer),u=new Uint8Array(4),hB=new Uint32Array(u.buffer);
for(var V=0;V<n;V++)for(var X=0;X<G;X++){var h0=0,aD=0,hy=0;if(0<=X+_&&X+_<G&&0<=V+a&&V+a<n){g.O.ft(X+_+.5,V+a+.5,e6,G,n,hB,0,0);
h0+=u[0]-128;aD+=u[1]-128;hy+=u[2]-128}if(0<=X-_&&X-_<G&&0<=V-a&&V-a<n){g.O.ft(X-_+.5,V-a+.5,e6,G,n,hB,0,0);
h0-=u[0]-128;aD-=u[1]-128;hy-=u[2]-128}var L=V*G+X<<2;cq[L]=Math.max(0,Math.min(255,h0*aF+128));cq[L+1]=Math.max(0,Math.min(255,aD*aF+128));
cq[L+2]=Math.max(0,Math.min(255,hy*aF+128));cq[L+3]=bq[L+3]}}if(J=="ShrE"){var A=v.S,G=A.r,n=A.$;g.B.asS(v.buffer,G,n,r.buffer)}if(J=="Dspc"){var A=v.S,G=A.r,n=A.$;
g.B.aGj(v.buffer,G,n,r.buffer)}if(J=="Slrz"){var kD=r.buffer,en=128;for(var h=0;h<kD.length;h+=4){if(kD[h]>en)kD[h]=255-kD[h];
if(kD[h+1]>en)kD[h+1]=255-kD[h+1];if(kD[h+2]>en)kD[h+2]=255-kD[h+2]}}if(J=="Wnd "){var A=v.S,G=A.r,n=A.$,jp=["Wnd","Blst","Stgr"],ij=x.WndM.v.WndM;
g.B.kA(v.buffer,G,n,r.buffer,[jp.indexOf(ij),x.Drct.v.Drct!="Left"])}if(J=="Bokh"){var A=v.S,G=A.r,n=A.$,E=G*n,D=E*4,dD=v.buffer.slice(0),am=x.BkDi.v.BtDi,bE=x.BkDc,as=x.BkDs.v,gs=x.BkDp.v/255;
if(am=="BeIn")gs=0;var c8=57*(.3+.7*((G+n)/2)/1750)*(x.BkIb.v/100)*(1+.2*Math.pow(gs,.1)),co=parseInt(x.BkIs.v.BtIs.slice(3)),iv=-x.BkIr.v*Math.PI/180,bB=[];
for(var h=0;h<8;h++){var fs=iv+h*(Math.PI*2/co),gm=iv+(h+1)*(Math.PI*2/co),jt=Math.cos(fs),hg=Math.sin(fs),eI=Math.cos(gm),e0=Math.sin(gm),f2=[0,0,0];
g.gf.eU([[jt,hg,1,0],[eI,e0,1,0],[1,1,1,1]],f2);if(f2[2]>0){f2[0]*=-1;f2[1]*=-1;f2[2]*=-1}bB.push(f2[0],f2[1],f2[2],0)}if(am=="BeIn"){g.sS(dD,0);
gs=1}else if(am=="BeIt"&&bE.v.BtDc=="BeCt"){}else{var bM;if(am=="BeIt"&&bE.v.BtDc=="BeCm")bM=l[1];else if(am=="BeIa")bM=l[2][bE.v];
if(bM==null){g.sS(dD,0)}else{var z;if(bM.S.Ym(A))z=bM.N;else z=bM.PP(A);g.Os(z,dD,3)}}if(as)for(var h=0;
h<D;h+=4)dD[h+3]=255-dD[h+3];if(gi._E){var ge=dD,ed=G,fi=n,d3=1,bi=(x.BkSb.v==0||x.BkSt.v==255)&&am=="BeIn";
if(!bi){var iQ=0;for(var h=0;h<D;h+=4)iQ+=Math.abs(gs-dD[h+3]*(1/255));iQ=iQ/E*c8;var k_=3.14*iQ*iQ*G*n/3e6;
if(k_>2e3){alert("too large radius");return}}while(bi&&3*(c8/d3)*(c8/d3)*G*n>500*2e3*2e3){var dY=g.asQ(dD,new jj(0,0,ed,fi));
dD=dY.r3;ed=dY.S.r;fi=dY.S.$;d3*=2}var cZ=Date.now(),K=gi.Et(0,ed,fi);K.set(dD);var fb=gi.Et(1,G,n);
gi.DM(fb);gi.filter.I7({e:gi.filter.aBc,Mv:new Float32Array([1/ed,1/fi]),amK:gs,mS:c8/d3,af$:new Float32Array([x.BkSb.v/100,x.BkSt.v/255]),aqV:new Float32Array([x.BkNa.v/100,x.BkNt.v.BtNt=="BeNu"?0:1,x.BkNm.v?1:0]),a9E:new Float32Array(bB.slice(0,16)),a2V:new Float32Array(bB.slice(16))},K.qb);
fb.get(r.buffer);var jk=r.buffer;for(var h=0;h<D;h+=4)jk[h+3]=v.buffer[h+3]}}if(J=="blurbTransform"){g.Y1.apply(x,v,r)}if(J=="rigidTransform"){var cZ=Date.now(),hu=a8.aHo,K=v.buffer.slice(0),f3=0,dR=0;
g.X7(K);var G=v.S.r,n=v.S.$,he=x.puppetShapeList.v,fZ=[],gb=[],aR=[],fx=[];for(var bV=0;bV<he.length;
bV++){var gM=he[bV].v,Q=f3*2,iS=dR*3,iT=gM.originalVertexArray.v.length>>>2,bW=gM.indexArray.v.length>>>2,dX=new Float32Array(hu(gM.originalVertexArray.v));
for(var h=0;h<iT;h++)fZ[Q+h]=dX[h];var ao=new Float32Array(hu(gM.deformedVertexArray.v));for(var h=0;
h<iT;h++)gb[Q+h]=ao[h];var fq=new Uint32Array(hu(gM.indexArray.v));for(var h=0;h<bW;h++)aR[iS+h]=f3+fq[h];
var jm=[],kT=[],h_=gM.PnDp.v;for(var h=0;h<h_.length;h++){jm.push(gM.pinVertexIndices.v[h].v);kT.push(h_[h].v)}var fX=g.Z1.aES(dX,fq,jm,kT);
for(var h=0;h<fX.length;h++)fx[f3+h]=fX[h];f3+=iT>>>1;dR+=~~(bW/3)}var d5=new bC(1,0,0,1,-v.S.x,-v.S.y);
g.b.u(fZ,d5,fZ);g.b.u(gb,d5,gb);r.buffer.fill(0);g.Z1.GU(K,G,n,r.buffer,G,n,fZ,gb,fx,aR);g.Z4(r.buffer)}if(J=="lightFilterGradient"){function eR(f5){var g$=1/Math.sqrt(f5[0]*f5[0]+f5[1]*f5[1]+f5[2]*f5[2]);
f5[0]*=g$;f5[1]*=g$;f5[2]*=g$}var G=v.S.r,n=v.S.$,E=G*n,cZ=Date.now(),hW=g.C(E),jr=.3,fY=.7;g.dF(r.buffer,hW);
var bm=hW.slice(0);g.Wh.MM(bm,r.S,16);var ks=hW.slice(0);g.Wh.MM(ks,r.S,8);var i4=hW,j9=new Float32Array(E),dF=x.Dtl.v,b4=dF[2].v,ho=dF[1].v,g_=dF[0].v,iw=x.Scl.v*40*x.textureScale.v/(b4+ho+g_);
b4*=iw;ho*=iw;g_*=iw;for(var h=0;h<E;h++){var i5=bm[h]*(1/255),dJ=ks[h]*(1/255),cf=i4[h]*(1/255);cf=cf*cf;
j9[h]=b4*i5+ho*dJ+g_*cf}var dT=x.blur.v;if(dT!=0){g.Wh.MM(j9,r.S,dT)}var kG=G-1,jl=n-1;for(var V=0;V<n;
V++)for(var X=0;X<G;X++){var h=V*G+X,L=h*4,dt=j9[h],_=jr*(j9[h+(X==kG?0:1)]-dt)+fY*(dt-j9[h-(X==0?0:1)]),a=jr*(j9[h+(V==jl?0:G)]-dt)+fY*(dt-j9[h-(V==0?0:G)]),f5=[1,0,_],jW=[0,1,a];
eR(f5);eR(jW);var gm=f5[0],c$=f5[2],i_=jW[1],e1=jW[2],gI=-c$*i_,ck=-gm*e1,dk=gm*i_;r.buffer[L]=~~(127.5+gI*127.5);
r.buffer[L+1]=~~(127.5+ck*127.5);r.buffer[L+2]=~~(127.5+dk*127.5)}}if(J=="defr"){var G=v.S.r,n=v.S.$;
cO(v.buffer,G,n,r.buffer)}if(J=="dDFT"||J=="iDFT"){function eN(co){if(co==0)return 1;co--;co|=co>>1;
co|=co>>2;co|=co>>4;co|=co>>8;co|=co>>16;return co+1}var G=v.S.r,n=v.S.$,fJ=eN(Math.max(G,n)),kz=fJ>>>1,b2=new jj(0,0,fJ,fJ),eE=new jj(0,0,G,n);
eE.y=fJ-n>>>1;var gU=G>>>1,kW=new jj(0,eE.y,gU,n),ak=new g.GH(G*n);g.Y5(v.buffer,ak);var f4=new Float64Array(fJ*fJ),iG=new Float64Array(fJ*fJ),z=g.C(fJ*fJ);
FFT.init(fJ);var fo=[ak.z,ak.H,ak.c];for(var h=0;h<3;h++){var eT=fo[h];z.fill(0);if(J=="dDFT"){g.Cc(eT,eE,z,b2);
a8.a45(z,fJ,f4,iG);g.Cc(z,b2,eT,eE,kW);kW.x+=gU;b2.x-=kz-gU;g.Cc(z,b2,eT,eE,kW);kW.x-=gU;b2.x+=kz-gU}else{g.Cc(eT,eE,z,b2,kW);
kW.x+=kz;eE.x+=kz-gU;g.Cc(eT,eE,z,b2,kW);kW.x-=kz;eE.x-=kz-gU;a8.a6P(z,fJ,f4,iG);g.Cc(z,b2,eT,eE)}}g.$P(ak,r.buffer)}if(J=="Avrg"){var fG=0,dP=0,hX=0,d6=0,h8=1;
for(var h=0;h<v.buffer.length;h+=4){var e=v.buffer[h+3];fG+=v.buffer[h]*e;dP+=v.buffer[h+1]*e;hX+=v.buffer[h+2]*e;
d6+=e}var aa=1/d6;fG=Math.round(h8*(fG*aa)+(1-h8)*255);dP=Math.round(h8*(dP*aa)+(1-h8)*255);hX=Math.round(h8*(hX*aa)+(1-h8)*255);
g.rd(r.buffer,fG/255,dP/255,hX/255)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(J)!=-1){var av=x.Rds?x.Rds.v.val:1;
a8.pP(av,J=="boxblur"?0:1,r.buffer,r.S);if(J=="UnsM"||J=="smartSharpen"){var aF=(x.Amnt?x.Amnt.v.val:200)/100,kf=0;
if(J=="UnsM")kf=x.Thsh.v*S/255;else aF*=.75;for(var h=0;h<v.buffer.length;h++){if((h&3)==3){r.buffer[h]=v.buffer[h];
continue}var jU=v.buffer[h],hx=r.buffer[h],jo=aF*(jU-hx);if(jo>0)jo=Math.max(0,jo-kf);else jo=Math.min(0,jo+kf);
r.buffer[h]=Math.max(0,Math.min(S,jU+jo))}}if(J=="HghP")for(var h=0;h<v.buffer.length;h++){if((h&3)==3){r.buffer[h]=v.buffer[h];
continue}var jU=v.buffer[h],hx=r.buffer[h];r.buffer[h]=Math.max(0,Math.min(S,.5*S+jU-hx))}}if(J=="AdNs"){var a3=new Uint8ClampedArray(r.buffer.buffer),hw=255*x.Nose.v.val/100,kH;
if(x.Dstr.v.Dstr=="Gsn")kH=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else kH=function(){return Math.random()*2-1};for(var h=0;h<a3.length;h+=4){var s=a3[h],jC=a3[h+1],iJ=a3[h+2],dh,c_,bJ;
if(x.Mnch.v){dh=c_=bJ=kH()}else{dh=kH();c_=kH();bJ=kH()}s+=hw*dh;jC+=hw*c_;iJ+=hw*bJ;a3[h]=s;a3[h+1]=jC;
a3[h+2]=iJ}}var cZ=Date.now();if(J=="Mdn "||J=="DstS"||J=="Mxm "||J=="Mnm "||J=="surfaceBlur"){var s=0,hZ=x.Thsh,gM=0;
if(hZ)hZ=hZ.v;else hZ=0;if(J=="Mdn "||J=="Mxm "||J=="Mnm "||J=="surfaceBlur")s=x.Rds.v.val;else s=x.Rds.v;
var jJ=10*Math.ceil(s/10),G=v.S.r,n=v.S.$,bu=["Mnm ","Mxm ","surfaceBlur"].indexOf(J),jZ=(gM==0?1:.75)*[.73,.73,1.2][bu]*(G*n*Math.pow(jJ*jJ,1.05))/6022387,bL=.6*(G*n*Math.pow(s,1/2.6))/6500;
if(J=="Mxm "||J=="Mnm ")bL=G*n/13e3;var bl=x.preserveShape;if(bl&&bl.v.preserveShape=="Rndn")gM=1;if(gi._E&&bu!=-1&&(jZ<bL||gM==1)&&jZ<500){var K=gi.Et(0,G,n);
K.set(v.buffer);var U=gi.Et(1,G,n);gi.DM(U);gi.filter.I7({e:gi.filter.a2Y,Mv:new Float32Array([1/G,1/n]),mS:s,a5C:hZ/255,JZ:[gM,bu,jJ]},K.qb);
U.get(r.buffer)}else if(J=="Mxm "||J=="Mnm "){var G=v.S.r,n=v.S.$;g.lr.aIo(v.buffer,r.buffer,G,n,1+Math.floor(x.Rds.v.val)*2,J=="Mxm ")}else{s=Math.round(s);
g.Q7.wg=.5;g.Q7.IU=hZ;var gr=J=="surfaceBlur"?1:0;g.Q7.z8(v.buffer,r.buffer,G,n,s,gr);if(J=="DstS")for(var h=0;
h<G*n*4;h++){var eu=Math.abs(v.buffer[h]-r.buffer[h]);if(eu<=hZ)r.buffer[h]=v.buffer[h]}}}if(J=="ClrH"){var kW=v.S.Q(),gq=0;
kW.x=kW.y=0;var s=x.Rds.v;s=s*Math.sqrt(2);var G=kW.r,n=kW.$,eA=g.n2(G,n),cn=new Float32Array(256);for(var h=0;
h<256;h++){var ay=h/255,av=Math.sqrt(ay*(1/Math.PI));if(av>.5)av=.5+Math.pow((av-.5)/(.564-.5),1.35)*.2;
cn[h]=s*av}var fn=Math.floor(2*G/s),hk=Math.floor(2*n/s),a5=10-(s-54*Math.sqrt(2))*1.5,iC=[v.buffer,kW];
g.DV(iC);while(iC[gq*2+1].r>1.5*G/s)gq++;var h0=iC[gq*2+1],hy=iC[gq*2],hj=g.C(h0.o()),d3=1/(1<<gq),ed=h0.r,fi=h0.$,z=g.C(G*n);
for(var i9=0;i9<3;i9++){g.Vi(hy,hj,i9);g.SV(hj);var fU=Math.PI*x["Ang"+(i9+1)].v/180,kt=new bC;kt.translate(-G/2,-n/2);
kt.rotate(-fU);kt.translate(G/2,n/2);eA.clearRect(0,0,G,n);for(var V=-(hk>>>2);V<hk;V++)for(var X=-(fn>>>2);
X<fn;X++){var fe=kt.Xw(new aG((X+.5)*s-a5,(V+.5)*s-a5)),fk=Math.max(0,Math.min(fe.x*d3,ed-.51)),ee=Math.max(0,Math.min(fe.y*d3,fi-.51)),E=~~g.O.RX(fk,ee,hj,ed,fi);
eA.beginPath();eA.arc(fe.x,fe.y,cn[E],0,2*Math.PI);eA.fill()}var fF=eA.getImageData(0,0,G,n);g.Vi(fF.data,z,3);
g.SV(z);g.Os(z,r.buffer,i9)}}if(J=="Crst"||J=="Pntl"){var G=v.S.r,n=v.S.$,gr=J=="Crst"?g.TK.alm:g.TK.am3;
gr(v.buffer,G,n,r.buffer,x.ClSz.v,[Math.round(R.z),Math.round(R.H),Math.round(R.c)])}if(J=="Mztn"){var G=v.S.r,n=v.S.$,E=G*n,ak=new g.GH(E),kv=[ak.z,ak.H,ak.c];
g.Y5(v.buffer,ak);var ij=x.MztT.v.MztT,er={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[ij],cZ=Date.now(),b_=[];
for(var h=0;h<E;h++){b_[h]=Math.random()}var E=G*n,ct=Math.round(E*er[0]),hJ=E-G-1;for(var h=0;h<ct;
h++){var ft=Math.random(),fM=1;if(ft<.5){fM=G;ft*=2}else ft=2*(ft-.5);var gv=Math.floor(ft*hJ),jB=gv+fM;
b_[gv]=b_[jB]}var dq=Math.round(G*er[1]);for(var V=0;V<n;V++)for(var h=0;h<dq;h++){var ft=g.v.S_(V*E+h),gv=V*G+Math.floor(ft*(G-1));
b_[gv]=b_[gv+1]}var e$=new Float64Array(256);for(var h=0;h<256;h++){var e7=h/255,eM=2*(e7<.5?e7:1-e7);
eM=er[2]+Math.pow(eM,er[3])*(1-er[2]);e7=e7<.5?eM*.5:1-eM*.5;e$[h]=e7}for(var iH=0;iH<3;iH++){var z=kv[iH];
for(var V=0;V<n;V++){for(var X=0;X<G;X++){var h=V*G+X,ky=z[h],e7=e$[ky],ft=b_[h];z[h]=ft>e7?0:255}}}g.$P(ak,r.buffer)}if(J=="Msc "){var cp=x.ClSz.v.val,G=v.S.r,n=v.S.$,aj=Math.ceil(G/cp),ke=Math.ceil(n/cp),f0=g.C(aj*ke*4);
g.scale.EE(v.buffer,G,n,f0,aj,ke,1/cp);g.scale.EE(f0,aj,ke,r.buffer,G,n,cp)}if(J=="Clds"||J=="DfrC"){var G=r.S.r,n=r.S.$,E=G*n,ax=g.C(E);
if(J=="Clds")g.SX(r.buffer,4278190080);var bs=g.C(256*4);for(var h=0;h<256;h++){var L=h<<2,eG=h/255,fq=1-eG;
bs[L]=Math.round(eG*o.z+fq*R.z);bs[L+1]=Math.round(eG*o.H+fq*R.H);bs[L+2]=Math.round(eG*o.c+fq*R.c)}g.B.a4p(v.buffer,G,n,ax);
var fE=r.buffer;for(var h=0;h<E;h++){var L=h<<2,iH=ax[h]<<2,s=bs[iH],jC=bs[iH+1],iJ=bs[iH+2];if(J=="Clds"){fE[L]=s;
fE[L+1]=jC;fE[L+2]=iJ}else{fE[L]=Math.abs(fE[4*h]-s);fE[L+1]=Math.abs(fE[4*h+1]-jC);fE[L+2]=Math.abs(fE[4*h+2]-iJ)}}}if(J=="LnsF"){var G=v.S.r,n=v.S.$,ij=["Zm","Nkn","Nkn1","PnVs"].indexOf(x.Lns.v.Lns),cN=x.FlrC.v,iO=[Math.min(ij,2),x.Brgh.v/100,cN.Hrzn.v,cN.Vrtc.v],cZ=Date.now();
g.a29(v.buffer,G,n,r.buffer,iO)}var au=["Blr ","BlrM","Shrp","ShrM"].indexOf(J);if(au!=-1){var ko=au>1,G=v.S.r,n=v.S.$,eW=g.yJ.lW[au],be=v.buffer.slice(0);
if(!ko)g.X7(be);g.yJ.Ty(be,r.buffer,G,n,eW,!0,!1);if(!ko)g.Z4(r.buffer)}if(J=="MtnB"){var ia=-x.Angl.v*Math.PI/180,aO=x.Dstn.v.val/2,cZ=Date.now(),G=v.S.r,n=v.S.$,A=v.S.Q();
A.x=A.y=0;if(gi._E){var cZ=Date.now(),eg=r.buffer;eg.set(v.buffer);g.X7(eg);var hM=gi.Et(0,G,n);hM.set(eg);
var bq=g.C(4);bq[0]=Math.round(128+127*Math.cos(ia));bq[1]=Math.round(128+127*Math.sin(ia));g.SX(eg,new Uint32Array(bq.buffer)[0]);
var aP=gi.Et(1,G,n);aP.set(eg);gi.DM(hM,A);hM.EO(A);gi.filter.I7({e:gi.filter.yk,yp:aP.qb,Mv:new Float32Array([1/G,1/n]),H3:aO/2,A$:1},hM.z7);
hM.get(eg);g.Z4(eg)}else{var ds=r.buffer,d5=new bC;d5.rotate(ia);var u=H.ge.EN([v.buffer,v.S],d5);a8.pP(aO,2,u.buffer,u.S);
d5.SV();u=H.ge.EN([u.buffer,u.S],d5,!1,ds.buffer,r.S);if(!g.LQ(v.buffer))for(var h=0;h<ds.length;h+=4)ds[h+3]=255}console.log(Date.now()-cZ)}if(J=="RdlB"){var G=v.S.r,n=v.S.$,aF=x.Amnt.v,l0=x.BlrM.v.BlrM=="Zm",i9=x.Cntr.v,af=i9.Hrzn.v,ff=i9.Vrtc.v,_=Math.max(af,1-af)*G,a=Math.max(ff,1-ff)*n,av=Math.sqrt(_*_+a*a),ka=2*Math.PI*av*1.5,km=Math.round(ka),bG=Math.round(av),kW=new jj(0,0,km,bG),jg=g.C(km*bG*4),ik=l0?4:1,kY=l0?.6:8*((G+n)/2)/1400,cv=.1,d3=1,fn=1;
g.O.aI$(v.buffer,G,n,jg,km,bG,af,ff,ik,cv,d3,fn);var b6=l0?g.C(km*bG*4):null;if(l0){g.O.E3(jg,b6,km,bG);
var dM=b6;b6=jg;jg=dM;kW.r=bG;kW.$=km}a8.pP(kY*aF,2,jg,kW);if(l0){g.O.E3(jg,b6,bG,km);var dM=b6;b6=jg;
jg=dM;kW.r=km;kW.$=bG}g.O.awP(jg,km,bG,r.buffer,G,n,af,ff,ik,cv,d3,fn)}if(J=="Plr "){var G=v.S.r,n=v.S.$;
if(x.Cnvr.v.Cnvr=="RctP")g.O.awP(v.buffer,G,n,r.buffer,G,n,.5,.5,1,0,2,G/n);else g.O.aI$(v.buffer,G,n,r.buffer,G,n,.5,.5,1,0,2,G/n)}if(J=="FndE"){var G=v.S.r,n=v.S.$;
g.yJ.aya(v.buffer,r.buffer,G,n)}if(J=="oilPaint"){var fU=x.LghD.v*Math.PI/180,aV=[Math.cos(fU),Math.sin(fU),.001],bz=[x.stylization.v,x.cleanliness.v,x.brushScale.v,x.microBrush.v,x.lightingOn.v,x.specularity.v,aV],A=v.S.Q();
A.x=A.y=0;g.v0.filter(v.buffer,A,r.buffer,bz)}if(J=="Ofst"){var G=v.S.r,n=v.S.$,ba=new Uint32Array(v.buffer.buffer),dC=new Uint32Array(r.buffer.buffer);
dC.fill(0);var dl=x.Hrzn.v,dK=x.Vrtc.v,iA=x.Fl.v.FlMd;if(iA=="Bckg"||iA=="Rpt"){var kW=v.S.Q();kW.offset(dl,dK);
g.sW(ba,kW,dC,r.S)}if(iA=="Rpt"){var jt,hg,eI,e0,ac;dl=Math.max(-G,Math.min(G,dl));dK=Math.max(-n,Math.min(n,dK));
jt=dl>0?dl:0;eI=dl>0?G:G+dl;hg=dK>0?0:dK+n;e0=dK>0?dK:n;ac=dK>0?0:G*(n-1);for(var V=hg;V<e0;V++)for(var X=jt;
X<eI;X++)dC[V*G+X]=ba[ac+X-dl];jt=dl>0?0:G+dl;eI=dl>0?dl:G;hg=dK>0?dK:0;e0=dK>0?n:n+dK;ac=dl>0?0:G-1;
for(var V=hg;V<e0;V++)for(var X=jt;X<eI;X++)dC[V*G+X]=ba[ac+G*(V-dK)];if(dl>=0&&dK>=0){jt=0;eI=dl;hg=0;
e0=dK;ac=0}if(dl>=0&&dK<0){jt=0;eI=dl;hg=n+dK;e0=n;ac=G*(n-1)}if(dl<0&&dK>=0){jt=G+dl;eI=G;hg=0;e0=dK;
ac=G-1}if(dl<0&&dK<0){jt=G+dl;eI=G;hg=n+dK;e0=n;ac=G*n-1}for(var V=hg;V<e0;V++)for(var X=jt;X<eI;X++)dC[V*G+X]=ba[ac]}if(iA=="Wrp"){dl=(dl+100*G)%G;
dK=(dK+100*n)%n;var kW=new jj(dl-G,dK-n,G,n);g.sW(ba,kW,dC,r.S);kW.offset(G,0);g.sW(ba,kW,dC,r.S);kW.offset(0,n);
g.sW(ba,kW,dC,r.S);kW.offset(-G,0);g.sW(ba,kW,dC,r.S)}}if(J=="Rept"){var h6=x.Rsft.v.val/100,j0=x.SpcX.v.val/100;
j0=Math.max(j0,-.99);var fd=x.SpcY.v.val/100;fd=Math.max(fd,-.99);var d3=x.Scl.v.val/100,d5=new bC;d5.rotate(x.Angl.v*Math.PI/180);
d5.scale(d3,d3);var cs={buffer:v.buffer,S:v.S};g.oo(cs);if(cs.S.L3()){cs.buffer=v.buffer;cs.S=v.S}var fE=cs.buffer,kW=cs.S,fw=g.H6(fE,kW,0),bQ=new Uint32Array(fE.buffer)[0];
if(!fw.L3()&&!fw.Ym(kW)){var cC=g.C(fw.o()*4);g.sW(fE,kW,cC,fw);fE=cC;kW=fw}kW.x=kW.y=0;bQ=j0==0&&fd==0&&!g.LQ(v.buffer)||x.SpcC.v?bQ:0;
function bR(X){return X<0?Math.ceil(X):Math.floor(X)}var ai=d5.Xw(new aG(kW.r,0));ai.x=bR(ai.x);ai.y=bR(ai.y);
var fK=d5.Xw(new aG(0,kW.$));fK.x=bR(fK.x);fK.y=bR(fK.y);var u=H.ge.EN([fE,kW],d5,!1),eE=u.S,cq=u.buffer,aS=Math.round(eE.x),e9=Math.round(eE.y),ej=Math.max(r.S.r,r.S.$)/Math.min(kW.r*d3*(1+j0),kW.$*d3*(1+fd));
ej=Math.ceil(ej*1.7);g.SX(r.buffer,bQ);for(var V=-ej;V<ej;V++){for(var X=-ej;X<ej;X++){var bP=(X+V*h6)*(1+j0),gh=V*(1+fd);
eE.x=aS+Math.round(bP*ai.x+gh*fK.x);eE.y=e9+Math.round(bP*ai.y+gh*fK.y);if(eE.Rt(r.S))g.v.Ry("norm",cq,eE,r.buffer,r.S,eE,1)}}}if(J=="Ctoa"){var R=g.UH.Eb(x.Clr.v),hZ=x.Trsp.v.val/100,bo=x.Opct.v.val/100;
hZ=bo==0?0:hZ/bo;var G=v.S.r,n=v.S.$,dn=~~R.z,h$=~~R.H,kg=~~R.c,ac=v.buffer,iY=r.buffer;for(var V=0;
V<n;V++)for(var X=0;X<G;X++){var h=V*G+X,L=h<<2,kW=ac[L],ab=ac[L+1],fE=ac[L+2],jR=Math.abs(dn-kW),eS=Math.abs(h$-ab),ji=Math.abs(kg-fE),g9=Math.max(jR,eS,ji)*(1/255);
g9=Math.max(0,Math.min(1,g9/bo));var bF=g9==0?0:1/g9,cr=hZ==1?1:Math.max(0,Math.min(1,(g9-hZ)/(1-hZ)));
iY[L]=Math.max(0,Math.min(255,(kW-dn*(1-g9))*bF));iY[L+1]=Math.max(0,Math.min(255,(ab-h$*(1-g9))*bF));
iY[L+2]=Math.max(0,Math.min(255,(fE-kg*(1-g9))*bF));iY[L+3]=Math.min(iY[L+3],~~(.5+cr*255))}}if(J=="Dthr"){function cJ(X){return~~(.5+255*g.zp(X/255))}var bV=x.Plte.v,eD;
if(bV==0)eD=[4278190080,4294967295];else{var jd=[[1,1,1],[2,2,2],[3,3,2]][bV-1],aH=[1<<jd[0],1<<jd[1],1<<jd[2]],h9=[~~(255/(aH[0]-1)),~~(255/(aH[1]-1)),~~(255/(aH[2]-1))];
eD=[];for(var s=0;s<aH[0];s++)for(var jC=0;jC<aH[1];jC++)for(var iJ=0;iJ<aH[2];iJ++)eD.push(255<<24|cJ(iJ*h9[2])<<16|cJ(jC*h9[1])<<8|cJ(s*h9[0]))}var G=v.S.r,n=v.S.$,E=G*n,eY=E*4,hy=v.buffer.slice(0),di=r.buffer;
for(var h=0;h<eY;h++)hy[h]=~~(.5+255*g.zp(hy[h]/255));var gZ=g.C(G*n);UPNG.encode.dither(hy,G,n,eD,di,gZ,x.Mthd?x.Mthd.v:1);
for(var h=0;h<eY;h++)di[h]=~~(.5+255*g.hR(di[h]/255))}if(J=="Part"){var kl=[x.RndS.v,x.Cont.v/100,x.Size.v,x.Dpth.v/100,x.Brgh.v/100,g.UH.Eb(x.Clr.v),x.Time.v,x.Blnk.v,x.Fall.v,x.Turb.v/100];
g.V5.T5(r.buffer,v.S.r,v.S.$,kl)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(J)!=-1){var ap=l[0],G=v.S.r,n=v.S.$,e$,ep=0;
if(J=="LqFy")e$=eV.KE(new Uint8Array(x.LqMe.v).buffer);else{var iX=3;if(J=="Wave")iX=Math.min(3,x.WLMn.v);
e$={BK:Math.floor(G/iX),mq:Math.floor(n/iX)};e$.map=new Float32Array(e$.BK*e$.mq*2);if(J=="LnCr"){var af=.5*(e$.BK-1),ff=.5*(e$.mq-1),it=Math.max(Math.abs(0-af),Math.abs(1-af)),cT=Math.max(Math.abs(0-ff),Math.abs(1-ff)),kt=Math.sqrt(it*it+cT*cT),kb=0,dG=0,e_=-1,d$=2,d3=x.LnSi.v/100,l0=1/d3,dE=x.LnIa.v/100,jQ=dE==0?1e-6:dE*4.6,kF=l0/kt;
for(var V=0;V<e$.mq;V++){for(var X=0;X<e$.BK;X++){var _=(X-af)*kF,a=(V-ff)*kF,s=Math.sqrt(_*_+a*a)*jQ,bp=Math.atan(s),bd=dE>0?bp/s:s/bp,fn=af+kt*bd*_,hk=ff+kt*bd*a,h=V*e$.BK+X<<1;
e$.map[h]=fn-X;e$.map[h+1]=hk-V}}}else if(J=="Kale"){var aj=e$.BK,ke=e$.mq,kp=(aj-1)*.5,jl=(ke-1)*.5,bc=x.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,fA=x.Mirr.v,fH=Math.PI*2/fA,g8=.5*fH;
for(var V=0;V<ke;V++)for(var X=0;X<aj;X++){var _=X-kp,a=V-jl,an=Math.sqrt(_*_+a*a),fU=Math.atan2(a,_)+bc;
fU=fU%fH;if(fU>g8)fU=fH-fU;var fn=kp+Math.cos(fU-bc)*an,hk=jl+Math.sin(fU-bc)*an,h=(V*aj+X)*2;e$.map[h]=fn-X;
e$.map[h+1]=hk-V}}else if(J=="Dspl"&&ap.length!=0){ep=x.UndA.v.UndA=="WrpA"?2:1;var fh=x.DspF.v.pth,jF,ie=x.DspD,eJ,kB,cm;
if(ie){var fG=ie.v;kB=fG[1]*256+fG[0];eJ=fG[5]*256+fG[4];cm=new Uint8Array(fG.slice(10,10+eJ*kB))}else{for(var h=0;
h<ap.length;h++)if(ap[h].KK==fh)jF=ap[h];if(jF==null)jF=ap[0];jF.rv();var jR=jF.Vs[1],cm=g.C(jR.o());
g.dF(jF.Vs[0],cm);eJ=jR.r;kB=jR.$}e$={BK:eJ,mq:kB};e$.map=new Float32Array(e$.BK*e$.mq*2);var c9=2.54*x.HrzS.v*eJ/G,fp=2.54*x.VrtS.v*kB/n;
for(var V=0;V<e$.mq;V++){for(var X=0;X<e$.BK;X++){var eu=-.5+cm[V*eJ+X]*(1/255),h=V*e$.BK+X<<1;e$.map[h]=eu*c9;
e$.map[h+1]=eu*fp}}}else if(J=="Pnch"||J=="Twrl"||J=="Sphr"||J=="ZgZg"){var aF=1,ia=Math.PI,jI=0,cy=1,hF=0,i9=3,cp=1.53,bd=1;
if(J=="Pnch"||J=="Sphr"||J=="ZgZg")aF=x.Amnt.v/100;if(J=="ZgZg"){cy=x.NmbR.v;hF=["ArnC","OtFr","PndR"].indexOf(x.ZZTy.v.ZZTy)}if(J=="Twrl")ia=x.Angl.v*Math.PI/180;
if(J=="Sphr")jI=["Nrml","HrzO","VrtO"].indexOf(x.SphM.v.SphM);function gr(X){X=Math.pow(X,1-X*.3-X*X*(X*X)*.5);
return-.225*Math.sin(X*Math.PI)}function dv(n,g$,s,jt,hg,eI,e0,bd){var _=eI-jt,a=e0-hg,id=jt-n,e3=hg-g$,eG=_*_+a*a,iJ=2*(_*id+a*e3),i9=id*id+e3*e3-s*s,al=Math.sqrt(iJ*iJ-4*eG*i9),eH=bd/(2*eG),cu=(-iJ+al)*eH,a4=(-iJ-al)*eH;
return bd*Math.min(cu,a4)}var aj=e$.BK,ke=e$.mq,kp=e$.BK/2,jl=e$.mq/2,h1=1/kp,s=Math.sqrt(i9*i9+1)/i9,eT=i9+Math.sqrt(1/(i9*i9));
if(aF<0){i9=1.72;s=1;eT=i9;cp=-1;bd=-1}for(var V=0;V<ke;V++){var a=(V-jl)/jl;for(var X=0;X<aj;X++){var _=(X-kp)*h1;
if(jI==1)a=0;else if(jI==2)_=0;var bw=Math.sqrt(_*_+a*a);if(bw<1&&bw!=0){var h=V*e$.BK+X<<1;if(J=="Pnch"){var gO=-aF*gr(bw)/bw;
e$.map[h]=_*gO*kp;e$.map[h+1]=a*gO*jl}else if(J=="Sphr"){var dM=dv(0,eT,s,0,0,bw,i9,bd),a5=cp*aF*(dM-1);
e$.map[h]=_*a5*kp;e$.map[h+1]=a*a5*jl}else if(J=="Twrl"){var fU=Math.atan2(a,_)-ia*(1-bw)*(1-bw),ja=Math.cos(fU),ga=Math.sin(fU);
e$.map[h]=(bw*ja-_)*kp;e$.map[h+1]=(bw*ga-a)*jl}else if(J=="ZgZg"){var ja=0,ga=0,jH=aF*(.5-.5*Math.cos(bw*cy*2*Math.PI))*(1-bw);
if(hF==0){var fU=Math.atan2(a,_)-3.5*jH;ja=bw*Math.cos(fU);ga=bw*Math.sin(fU)}if(hF==1){jH=100/G*jH/bw;
ja=(1-jH)*_;ga=(1-jH)*a}if(hF==2){var i=512/G*jH*Math.PI/4;ja=i+_;ga=i+a}e$.map[h]=(ja-_)*kp;e$.map[h+1]=(ga-a)*jl}}}}}else if(J=="Shr "){var ku=g.F(x.ShrP.v);
g.O2.u(ku,new bC(0,255/127,255/127,0,-2,0));var kh=g.O2.vb(ku,e$.mq,!0);ep=x.UndA.v.UndA=="WrpA"?2:1;
for(var V=0;V<e$.mq;V++){var _=-kh[V]*e$.BK;for(var X=0;X<e$.BK;X++){var h=V*e$.BK+X<<1;e$.map[h]=_}}}else if(J=="Wave"){var at=x.NmbG.v,bO=x.WLMn.v,dL=x.WLMx.v,gz=x.AmMn.v*(Math.PI/4),hn=x.AmMx.v*(Math.PI/4),ez=x.SclH.v/100,de=x.SclV.v/100,ij=x.Wvtp.v.Wvtp,jH=Math.sin;
if(ij=="WvTr")jH=function(X){X*=2/Math.PI;return-.5+Math.abs(X%2-1)};if(ij=="WvSq")jH=function(X){X*=2/Math.PI;
return 1+2*Math.floor(X%2-1)};var b1=[],fT=new g.v.AH(x.RndS.v);for(var h=0;h<at;h++){b1.push(fT.get()*10);
b1.push(Math.PI*iX/(bO+fT.get()*(dL-bO)));b1.push(ez*(gz+fT.get()*(hn-gz))/iX);b1.push(fT.get()*10);
b1.push(Math.PI*iX/(bO+fT.get()*(dL-bO)));b1.push(de*(gz+fT.get()*(hn-gz))/iX)}var em=[],hc=[],kI=Math.max(e$.BK,e$.mq);
for(var h=0;h<kI;h++){var _=0,a=0;for(var ii=0;ii<at;ii++){var gj=ii*6;_+=b1[gj+2]*jH(b1[gj]+h*b1[gj+1]);
a+=b1[gj+5]*jH(b1[gj+3]+h*b1[gj+4])}em[h]=a;hc[h]=_}for(var V=0;V<e$.mq;V++){for(var X=0;X<e$.BK;X++){var h=V*e$.BK+X<<1;
e$.map[h]=hc[V];e$.map[h+1]=em[X]}}ep=x.UndA.v.UndA=="WrpA"?2:1}else if(J=="Rple"){ep=1;var aF=x.Amnt.v/100,gg=4,k2=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],jn=1,aW=1,id=0,kr=["Sml","Mdm","Lrg"].indexOf(x.RplS.v.RplS);
if(kr==0){jn=1;aW=.2;id=3}if(kr==2){jn=1;aW=2;id=-1;k2=k2.reverse()}var bU=function(X,V){var i9=Math.cos,iw=0;
for(var h=0;h<gg;h++)for(var ii=0;ii<gg;ii++)iw+=k2[h*gg+ii]*i9(X*(h+id)-V*(ii+id));return iw},bn=Math.floor(50/iX),iu=new Float32Array(bn*bn*2),eK=aW*aF*.5/iX;
for(var V=0;V<bn;V++)for(var X=0;X<bn;X++){var af=jn*X*2*Math.PI/bn,ff=jn*V*2*Math.PI/bn,hO=bU(af,ff),_=(bU(af+.01,ff)-hO)*100,a=(bU(af,ff+.01)-hO)*100,h=(V*bn+X)*2;
iu[h]=_*eK;iu[h+1]=a*eK}for(var V=0;V<e$.mq;V++)for(var X=0;X<e$.BK;X++){var ga=V%bn,ja=X%bn,h=V*e$.BK+X<<1,dz=ga*bn+ja<<1;
e$.map[h]=iu[dz];e$.map[h+1]=iu[dz+1]}}}g.eS.QG(v.buffer,r.buffer,G,n,null,e$.map,e$.BK,e$.mq,ep)}return r};
var j$={};j$.agZ="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");j$.Ko="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
j$.UI=["ScrC","ScrD","ScrL"];j$.gI=["SDRD","SDHz","SDLD","SDVt"];j$.mR="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
j$.Cw="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");j$.X1="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
j$.zm=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];j$.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
j$.ow=function(J){var v;if(J=="ClrP")v={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(J=="Ct")v={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(J=="DryB")v={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(J=="FlmG")v={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(J=="Frsc")v={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(J=="NGlw")v={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(J=="PntD")v={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(J=="PltK")v={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(J=="PlsW")v={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(J=="PstE")v={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(J=="RghP")v={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(J=="SmdS")v={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(J=="Spng")v={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(J=="Undr")v={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(J=="Wtrc")v={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(J=="AccE")v={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(J=="AngS")v={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(J=="Crsh")v={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(J=="DrkS")v={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(J=="InkO")v={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(J=="Smie")v={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(J=="Spt")v={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(J=="SprS")v={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(J=="DfsG")v={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(J=="Gls")v={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(J=="OcnR")v={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(J=="BsRl")v={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(J=="ChlC")v={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(J=="Chrc")v={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(J=="Chrm")v={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(J=="CntC")v={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(J=="GraP")v={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(J=="HlfS")v={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(J=="NtPr")v={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(J=="Phtc")v={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(J=="Plst")v={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(J=="Rtcl")v={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(J=="Stmp")v={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(J=="TrnE")v={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(J=="WtrP")v={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(J=="GlwE")v={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(J=="Crql")v={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(J=="Grn")v={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(J=="MscT")v={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(J=="Ptch")v={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(J=="StnG")v={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(J=="Txtz")v={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
v.__name="Filter Gallery";v.classID="GEfc";v.GEfk={t:"enum",v:{GEft:J}};v.GELv={t:"bool",v:!0};return v};
j$.FZ=function(J,v){for(var h=0;h<v.length;h++)~~(v[h]=(J[4*h]+J[4*h+1]+J[4*h+2])*(1/3))};j$.ase=function(J,v,x,o,R,r){var l=UPNG.quantize(J,v);
l={D0:l.inds,_I:l.plte};if(r){var M=new Uint32Array(l._I.length);for(var h=0;h<M.length;h++)M[h]=l._I[h].est.rgba;
l.D0=g.ar1(new Uint8Array(J),x,o,new Uint8Array(M.buffer))}var P=Math.floor((x+o)*.015);if(P!=0&&R)g.wc.aBk(l.D0,x,o,P);
return l};j$.vY=function(J,v,x,o,R,r,l){J=x.GEfk.v.GEft;var M=v.S,P=M.r,S=M.$,c=P*S,b=x.FlRs?x.FlRs.v>>>1:0;
function w(e){return e.z<<24|e.H<<16|e.c<<8|255}if(J=="ClrP")g.B.aeT(v.buffer,P,S,r.buffer,[x.Pncl.v,x.StrP.v,x.PprB.v]);
if(J=="Ct"){var U=x.NmbL.v,F=x.EdgS.v,Y=j$.ase(v.buffer.buffer,U*2,P,S,!0);for(var h=0;h<Y.D0.length;
h++)Y.D0[h]++;var A=new Uint8Array((P+2)*(S+2));g.Cc(Y.D0,new jj(1,1,P,S),A,new jj(0,0,P+2,S+2));var G=g.b.KH(A,P+2,S+2,F,!1),n=new bC(1,0,0,1,-1,-1);
for(var h=0;h<G.length;h++)g.b.u(G[h].path.T,n,G[h].path.T);var E=[],K=Y._I;for(var h=0;h<K.length;h++){var e=K[h].est.q;
E.push({z:Math.round(255*e[0]),H:Math.round(255*e[1]),c:Math.round(255*e[2]),o5:Math.round(255*e[3])})}var $=g.n2(P,S);
for(var h=0;h<G.length;h++){var N=G[h],e=E[N.color-1];if(e.o5==0)continue;$.fillStyle="rgba("+e.z+","+e.H+","+e.c+","+e.o5/255+")";
$.beginPath();Typr.U.pathToContext({crds:N.path.T,cmds:N.path.Wp},$);$.fill()}if(!M.L3()){var k=$.getImageData(0,0,P,S);
g.oj(k.data,r.buffer)}}if(J=="DryB")g.B.atD(v.buffer,P,S,r.buffer,[x.BrsS.v,x.BrsD.v,x.Txtr.v]);if(J=="FlmG")g.B.aF4(v.buffer,P,S,r.buffer,[x.Grn.v,x.HghA.v,x.Intn.v,b]);
if(J=="Frsc")g.B.awK(v.buffer,P,S,r.buffer,[x.BrsS.v,x.BrsD.v,x.Txtr.v]);if(J=="NGlw")g.B.aEX(v.buffer,P,S,r.buffer,[x.Sz.v,x.Brgh.v,w(g.UH.Eb(x.Clr.v)),w(o),w(R)]);
if(J=="PltK")g.B.arD(v.buffer,P,S,r.buffer,[x.StrS.v,x.StDt.v,x.Sftn.v]);if(J=="PstE")g.B.aAF(v.buffer,P,S,r.buffer,[x.EdgT.v,x.EdgI.v,x.Pstr.v]);
if(J=="RghP")g.B.anh(v.buffer,P,S,r.buffer,[x.StrL.v,x.StDt.v,j$.mR.indexOf(x.TxtT.v.TxtT),x.Scln.v,x.Rlf.v,j$.Ko.indexOf(x.LghD.v.LghD),x.InvT.v]);
if(J=="SmdS")g.B.aba(v.buffer,P,S,r.buffer,[x.StrL.v,x.HghA.v,x.Intn.v,x.FlRs?x.FlRs.v:0,b]);if(J=="Spng")g.B.azA(v.buffer,P,S,r.buffer,[x.BrsS.v,x.Dfnt.v,x.Smth.v,x.FlRs?x.FlRs.v:0,b]);
if(J=="Undr")g.B.anQ(v.buffer,P,S,r.buffer,[x.BrsS.v,x.TxtC.v,j$.mR.indexOf(x.TxtT.v.TxtT),x.Scln.v,x.Rlf.v,j$.Ko.indexOf(x.LghD.v.LghD),x.InvT.v]);
if(J=="Wtrc")g.B.aGq(v.buffer,P,S,r.buffer,[x.BrsD.v,x.ShdI.v,x.Txtr.v]);if(J=="AccE")g.B.a4F(v.buffer,P,S,r.buffer,[x.EdgW.v,x.EdgB.v,x.Smth.v]);
if(J=="AngS")g.B.aev(v.buffer,P,S,r.buffer,[x.DrcB.v,x.StrL.v,x.Shrp.v]);if(J=="Crsh")g.B.au$(v.buffer,P,S,r.buffer,[x.StrL.v,x.Shrp.v,x.Strg.v]);
if(J=="DrkS")g.B.aDw(v.buffer,P,S,r.buffer,[x.Blnc.v,x.BlcI.v,x.WhtI.v]);if(J=="InkO")g.B.aza(v.buffer,P,S,r.buffer,[x.StrL.v,x.DrkI.v,x.LghI.v]);
if(J=="Smie")g.B.av1(v.buffer,P,S,r.buffer,[x.StrW.v,x.StrP.v,x.Cntr.v]);if(J=="DfsG")g.B.avx(v.buffer,P,S,r.buffer,[x.Grns.v,x.GlwA.v,x.ClrA.v,w(R),b]);
if(J=="CntC")g.B.adW(v.buffer,P,S,r.buffer,[x.FrgL.v,x.BckL.v,j$.mR.indexOf(x.TxtT.v.TxtT),x.Scln.v,x.Rlf.v,j$.Ko.indexOf(x.LghD.v.LghD),x.InvT.v,w(R),w(o)]);
if(J=="ChlC")g.B.a8g(v.buffer,P,S,r.buffer,[x.ChrA.v,x.ChlA.v,x.StrP.v,b,w(R),w(o)]);var V=J=="GraP"||J=="Chrc"||J=="Plst"||J=="Rtcl"||J=="Stmp"||J=="TrnE";
if(V){var X=g.C(P*S);if(J=="GraP")g.B.am9(v.buffer,P,S,r.buffer,[x.StrL.v,x.LgDr.v,j$.gI.indexOf(x.SDir.v.StrD),b]);
if(J=="Chrc")g.B.arl(v.buffer,P,S,r.buffer,[x.ChAm.v,x.Dtl.v,x.LgDr.v]);if(J=="Plst")g.B.abX(v.buffer,P,S,r.buffer,[x.ImgB.v,j$.Cw.indexOf(x.LghP.v.LghP),x.Smth.v]);
if(J=="Rtcl")g.B.aE0(v.buffer,P,S,r.buffer,[x.Dnst.v,x.BlcL.v,x.WhtL.v,b]);if(J=="Stmp")g.B.ayY(v.buffer,P,S,r.buffer,[x.LgDr.v,x.Smth.v]);
if(J=="TrnE")g.B.asK(v.buffer,P,S,r.buffer,[x.ImgB.v,x.Smth.v,x.Cntr.v,b]);g.Vi(r.buffer,X,0);j$.lO(X,r.buffer,o,R)}if(J=="NtPr")g.B.arg(v.buffer,P,S,r.buffer,[x.ImgB.v,x.Grns.v,x.Rlf.v,w(o),w(R),b]);
if(J=="WtrP")g.B.aoV(v.buffer,P,S,r.buffer,[x.FbrL.v,x.Brgh.v,x.Cntr.v,b>>>1]);if(J=="Crql")g.B.a6I(v.buffer,P,S,r.buffer,[x.CrcS.v,x.CrcD.v,x.CrcB.v,b]);
if(J=="Grn")g.B.alq(v.buffer,P,S,r.buffer,[x.Intn.v,j$.X1.indexOf(x.Grnt.v.Grnt),x.Cntr.v,w(o),w(R),b]);
if(J=="MscT")g.B.a9V(v.buffer,P,S,r.buffer,[x.TlSz.v,x.GrtW.v,x.LghG.v,b]);if(J=="Ptch")g.B.aAE(v.buffer,P,S,r.buffer,[x.SqrS.v,x.Rlf.v,b]);
if(J=="Phtc"){function Q(cp,hp,M,ju){g.Wh.MM(hp,M,ju,2);for(var h=0;h<c;h++)hp[h]=Math.max(0,Math.min(255,128+cp[h]-hp[h]))}var L=x.Dtl.v,_=x.Drkn.v,a=g.C(c);
g.dF(v.buffer,a);var T=a.slice(0);Q(a,T,M,1);if(L==1){L=2;_=Math.round(_/4)}var Z=a.slice(0);Q(a,Z,M,L);
for(var h=0;h<c;h++)a[h]=Math.max(0,Math.min(255,255-(T[h]-Z[h])*_));j$.lO(a,r.buffer,o,R)}if(J=="Spt"||J=="SprS"){var W,D=1,C=1;
W={BK:Math.floor(P/C),mq:Math.floor(S/C)};W.map=new Float32Array(W.BK*W.mq*2);var d=new g.v.AH(b),p=new Float32Array(8192),y=x.SprR.v,i=y<20?.018*y:.36+(y-20)*.128;
if(J=="SprS"){i=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][y]}for(var h=0;
h<8192;h++)p[h]=(-1+2*d.get())*i*70;for(var t=0;t<S;t++)for(var O=0;O<P;O++){var q=t*P+O<<1;W.map[q]=p[q%7919];
W.map[q+1]=p[(q+1)%7919]}var z=W.map.slice(0),jw=J=="Spt"?x.Smth.v-1:1;if(J=="Spt"&&jw!=0){j$.aBH(W.map,z,P,S,jw);
j$.a4v(z,W.map,P,S,jw)}if(J=="SprS"){var u=x.StrL.v>>>1,iH=u==0?2:1;j$.aBH(W.map,z,P,S,iH);j$.a4v(z,W.map,P,S,iH);
if(u!=0){var s=j$.gI.indexOf(x.SDir.v.StrD),bV=[1,1,1,0][s],jU=[-1,0,1,1][s],hx=2*u+1,eX=1/hx;for(var t=0;
t<S;t++)for(var O=0;O<P;O++){var q=t*P+O<<1,et=0,f7=0;for(var h=0;h<hx;h++){var iY=Math.max(0,Math.min(P-1,O-(u+h)*bV)),cd=Math.max(0,Math.min(S-1,t-(u+h)*jU)),jV=cd*P+iY<<1;
et+=W.map[jV];f7+=W.map[jV+1]}z[q]=et*eX;z[q+1]=f7*eX}W.map=z}}g.eS.QG(v.buffer,r.buffer,P,S,null,W.map,W.BK,W.mq,D)}if(J=="BsRl"||J=="PlsW"||J=="Chrm"){var g2=Date.now(),gV=g.C(c);
g.dF(v.buffer,gV);var L=x.Dtl.v,fD=x.Smth.v;if(L!=15){g.Wh.MM(gV,M,Math.round((15-L)*.5))}var j4=1.4/P,dQ=1.4/S,eO=new Float32Array(c),a7=new Float32Array(c),cc=new Float32Array(r.buffer.buffer);
for(var t=0;t<S;t++)for(var O=0;O<P;O++){var h=t*P+O,bV=O==P-1?gV[h]-gV[h-1]:gV[h+1]-gV[h],jU=t==S-1?gV[h]-gV[h-P]:gV[h+P]-gV[h],ad=O*j4-.7,jC=t*dQ-.7;
eO[h]=bV==0?ad:bV*.4;a7[h]=jU==0?jC:jU*.4}if(J=="BsRl"){var iJ=(2+j$.Ko.indexOf(x.LghD.v.LghD))*Math.PI*.25,et=Math.cos(iJ);
if(Math.abs(et)<.1)et=0;et=Math.sign(et);var f7=Math.sin(iJ);if(Math.abs(f7)<.1)f7=0;f7=Math.sign(f7);
var kJ=1/(et*et+f7*f7),jr=gV.slice(0);for(var t=0;t<S;t++)for(var O=0;O<P;O++){var h=t*P+O,fY=Math.max(-1,Math.min(1,et*eO[h])),iR=Math.max(-1,Math.min(1,f7*a7[h]));
jr[h]=128+127*(fY+iR)*kJ}if(fD!=1){g.Wh.MM(jr,M,Math.round((fD-1)*.5))}j$.lO(jr,r.buffer,o,R)}else{if(J=="Chrm")fD=5+fD;
if(fD>1)j$.pP(eO,a7,cc,M,fD-1);if(J=="PlsW"){var g6=new Uint8Array(eO.buffer);for(var h=0;h<c;h++){var ay=h<<2,bV=eO[h],jU=a7[h],cQ=1/(Math.sqrt(1+bV*bV)*Math.sqrt(1+jU*jU)),aC=cQ*cQ,dI=aC*aC,e=~~(255*(dI*dI*aC));
g6[ay+0]=e;g6[ay+1]=e;g6[ay+2]=e;g6[ay+3]=e}r.buffer.set(v.buffer);g.v.Ry("norm",g6,M,r.buffer,M,M,x.HghS.v/20)}else if(J=="Chrm"){var fm=r.buffer,hd=P>>>1,ku=S>>>1;
for(var h=0;h<c;h++){var ay=h<<2,bV=eO[h],jU=a7[h],cp={x:1,y:0,ZM:bV};iD.PX(cp);var hp={x:0,y:1,ZM:jU};
iD.PX(hp);var gA=iD.akV(cp,hp),jN=1/gA.ZM,d4=~~Math.max(0,Math.min(P-1,hd-gA.x*jN*hd)),ey=~~Math.max(0,Math.min(S-1,ku-gA.y*jN*ku)),e=gV[ey*P+d4];
fm[ay+0]=e;fm[ay+1]=e;fm[ay+2]=e}}}}if(J=="Gls"||J=="OcnR"||J=="Txtz"){var jG=J=="OcnR"?2:j$.mR.indexOf(x.TxtT.v.TxtT),cF=j$.pr(jG),f5=cF[0],gV=cF[1],jW=f5.r,f$=f5.$,hx=24,aI=0,iV,k6;
function bh(f2,bM,ge){return~~(ii*(f2+bM)+8192)&127}var eO=new Float32Array(c),a7=new Float32Array(c),cc=new Float32Array(r.buffer.buffer),ii=J=="OcnR"?1/(1+(x.RplS.v-1)*.1):100/x.Scln.v;
if(jG==3)ii*=32/22.2;var g2=Date.now(),dM=ii,j4=1.4/P,dQ=1.4/S;if(J=="Txtz"){dM*=1/255;hx=256}for(var t=0;
t<S;t++){var b7=bh(t,M.y,f$),cd=b7+1&127;for(var O=0;O<P;O++){var h=t*P+O,bz=bh(O,M.x,jW),iY=bz+1&127,cZ=0,e4=0,fI=0;
if(J=="Txtz"){cZ=g.O.RX(ii*O,ii*t,gV,128,128);e4=g.O.RX(ii*O,ii*t+1,gV,128,128);fI=g.O.RX(ii*O+1,ii*t,gV,128,128)}else{cZ=gV[b7*jW+bz];
e4=gV[cd*jW+bz];fI=gV[b7*jW+iY]}eO[h]=Math.max(-hx,Math.min((fI-cZ)*dM,hx));a7[h]=Math.max(-hx,Math.min((e4-cZ)*dM,hx))}}if(J=="Txtz")j$.aqH(eO,a7,cc,M,6);
else j$.pP(eO,a7,cc,M,J=="Txtz"?1:J=="OcnR"?3.5/ii:x.Smth.v);if(J=="Txtz")aI=x.InvT.v?-1:1;else if(J=="Gls"){aI=[1,.4,.5,.5,.5,.5,.5][jG]*(Math.exp(x.Dstr.v*.155)-1);
if(x.InvT.v)aI=-aI}else{aI=.5*(Math.exp(x.RplM.v*.155)-1)}var fm=r.buffer;if(J=="Txtz"){var iJ=(2+j$.Ko.indexOf(x.LghD.v.LghD))*Math.PI*.25,et=Math.cos(iJ),f7=Math.sin(iJ);
iV={x:et,y:f7,ZM:0};iD.PX(iV);k6=x.Rlf.v;k6=k6/4+Math.max(0,(k6-35)*2)}function bq(cp,hp,ib){var hy=g.v.overF(hp,cp,1),f2=(1-ib)*cp+ib*(ib*hp+(1-ib)*hy);
return f2*255}for(var t=0;t<S;t++)for(var O=0;O<P;O++){var h=t*P+O,ay=h<<2,bV=eO[h],jU=a7[h],cp={x:1,y:0,ZM:bV};
iD.PX(cp);var hp={x:0,y:1,ZM:jU};iD.PX(hp);var gA=iD.akV(cp,hp);if(J=="Txtz"){var cq=iD.adG(gA,iV)*aI,ib=1,e=1;
if(cq<0){e=0;cq=-cq}ib=Math.min(1,cq*k6);fm[ay+0]=~~bq(v.buffer[ay]*(1/255),e,ib);fm[ay+1]=~~bq(v.buffer[ay+1]*(1/255),e,ib);
fm[ay+2]=~~bq(v.buffer[ay+2]*(1/255),e,ib)}else{var jN=aI/gA.ZM,d4=~~Math.max(0,Math.min(P-1,O-gA.x*jN)),ey=~~Math.max(0,Math.min(S-1,t-gA.y*jN)),jD=ey*P+d4<<2;
fm[ay+0]=v.buffer[jD];fm[ay+1]=v.buffer[jD+1];fm[ay+2]=v.buffer[jD+2]}}}if(J=="PntD"){var eL=x.Shrp.v*.4,hK=x.BrsT.v.BrsT,fU={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[hK],ju=Math.round(x.Sz.v*.5);
g.Q7.wg=fU[0];g.Q7.z8(v.buffer,r.buffer,P,S,ju,0,[]);var aF=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];aF=g.yJ.Z8(aF);
var e6=r.buffer.slice(0);g.yJ.Ty(e6,r.buffer,P,S,aF);for(var h=0;h<v.buffer.length;h++){var hB=r.buffer[h]-e6[h];
r.buffer[h]=Math.max(0,Math.min(255,e6[h]+eL*hB))}}if(J=="GlwE"){var h0=r.buffer.slice(0);g.Q7.wg=.5;
g.Q7.z8(v.buffer,h0,P,S,x.Smth.v>>>1,0,[]);g.yJ.aya(h0,r.buffer,P,S);g.oj(r.buffer,h0);g.SV(h0);g.sS(h0,1);
g.lr.aIo(h0,r.buffer,P,S,(x.EdgW.v>>>1)*2+1,!0);var aD=x.EdgB.v/10;for(var h=0;h<h0.length;h++){if((h&3)==3)continue;
var hy=r.buffer[h];r.buffer[h]=Math.max(0,Math.min(255,hy*aD))}}if(J=="StnG"){g.TK.aGT(v.buffer,P,S,r.buffer,x.ClSz.v,[Math.round(o.z),Math.round(o.H),Math.round(o.c)],x.BrdT.v,b)}if(J=="HlfS"){var kD=x.HlSz.v,en=kD*2+1,jp=x.Cntr.v,ij=j$.UI.indexOf(x.ScrT.v.ScrT),c=P*S,dD=c*4,am=g.C(c),bE=v.buffer,iv=0,bB=0;
j$.FZ(bE,am);g.Wh.Go(am,M,kD);var as=Math.PI/en,gs=new Float64Array(P),et=new Float64Array(P),c8=new Float64Array(2*P);
for(var O=0;O<P;O++){var bz=(O-(P>>>1))*as;gs[O]=bz*bz;et[O]=Math.cos(bz);var bV=O<<1;c8[bV]=Math.sin(bV*(1/4.5));
c8[bV+1]=Math.sin((bV+1)*(1/4.5))}for(var t=0;t<S;t++){var b7=(t-(S>>>1))*as,f7=Math.cos(b7),fs=b7*b7;
for(var O=0;O<P;O++){var e=f7;if(ij==0){var gm=.5+Math.sqrt(gs[O]+fs)*4.5;e=c8[~~gm]}else if(ij==1){e=et[O]*f7}var h=t*P+O,jt=am[h]*(.75+.25*e),ib=bE[(h<<2)+3]*(1/255),hg=Math.max(0,Math.min(255,~~jt));
iv+=hg*ib,bB+=ib;am[h]=hg}}iv/=bB;var eI=128+1.26*(iv-128),aD=.08+.25*Math.abs((128-iv)/128),e0=1+aD*jp;
for(var h=0;h<c;h++){var jt=eI+(am[h]-eI)*e0;am[h]=Math.max(0,Math.min(255,~~jt))}if(jp>46)g.round(am);
j$.lO(am,r.buffer,o,R)}for(var h=0;h<v.buffer.length;h+=4)r.buffer[h+3]=v.buffer[h+3]};j$.lO=function(J,v,x,o){var R=J.length,r=x.z,l=x.H,M=x.c,P=o.z,S=o.H,c=o.c;
for(var h=0;h<R;h++){var b=J[h]*(1/255),w=1-b,U=h<<2;v[U]=~~(r*w+P*b);v[U+1]=~~(l*w+S*b);v[U+2]=~~(M*w+c*b)}};
j$.pr=function(J){if(J==6)J=2;var v="blocks canvas frosted tinylens brick burlap".split(" ")[J];if(j$.oG==null)j$.oG=[];
if(j$.oG[J]==null){var x,o;if(J==2){o=new jj(0,0,128,128);var R=a8.ow("AdNs");R.Mnch.v=!0;R.Dstr.v.Dstr="Gsn";
R.Nose.v.val=50;var x=g.C(o.o()*4),r=x.slice(0);g.SX(r.buffer,4286611584);a8.vY("AdNs",{buffer:r,S:o},R,0,0,{buffer:x,S:o})}else{var l=d2.he.get("tex/"+v,!0)[0];
o=l.P0;x=new Uint8Array(l.data)}var M=g.C(o.o());g.Vi(x,M,0);j$.oG[J]=[o,M]}return j$.oG[J]};j$.pP=function(J,v,x,o,R){if(R<=1){R=Math.round(R);
j$.aqH(J,v,x,o,[1,16,4][R]);return}var r=R*.42;if(J){g.Wh.MM(J,o,r,3)}if(v){g.Wh.MM(v,o,r,3)}};j$.aqH=function(J,v,x,o,R){var r=g.yJ.Z8([1,2,1,2,R,2,1,2,1]);
if(J){x.set(J);g.yJ.ai9(J,x,o.r,o.$,r);J.set(x)}if(v){x.set(v);g.yJ.ai9(v,x,o.r,o.$,r);v.set(x)}};j$.BC=function(J){if(J==null)return new aG(0,0);
var v=0,x=J.GEfs?J.GEfs.v:[{v:J}];for(var h=0;h<x.length;h++){var o=x[h].v,r=1e4;if(o.GELv&&!o.GELv.v)continue;
var R=o.GEfk.v.GEft;if(R=="GlwE"||R=="Phtc"||R=="BsRl"||R=="PlsW"||R=="Chrm"||R=="Gls"||R=="OcnR"||R=="InkO")r=0;
v=Math.max(v,r)}return new aG(v,v)};j$.a6T=function(J){var v=[0,0,0,0,0,0,0,0,0,0,0,0,0],x=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][J];
for(var h=0;h<13;h++){var o=h-6;v[h]=1/(x*Math.sqrt(2*Math.PI))*Math.exp(-.5*(o/x)*(o/x))}return v};
j$.aBH=function(J,v,x,o,R){var r=j$.a6T(R),l=6,M=13;for(var P=0;P<o;P++)for(var S=0;S<x;S++){var c=P*x+S<<1,b=0,w=0;
for(var h=0;h<M;h++){var U=S+h-l,F=U<0?0:U>=x?x-1:U,Y=(P*x+F)*2,A=r[h];b+=A*J[Y];w+=A*J[Y+1]}v[c]=b;
v[c+1]=w}};j$.a4v=function(J,v,x,o,R){var r=j$.a6T(R),l=6,M=13;for(var P=0;P<o;P++)for(var S=0;S<x;S++){var c=P*x+S<<1,b=0,w=0;
for(var h=0;h<M;h++){var U=P+h-l,F=U<0?0:U>=o?o-1:U,Y=(F*x+S)*2,A=r[h];b+=A*J[Y];w+=A*J[Y+1]}v[c]=b;
v[c+1]=w}};function gX(){}gX.TD=[2,5,5,7,4,4];gX.qI="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
gX.EZ="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
gX.R2=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
gX.YR=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
gX.kF=function(J){if(J=="passThrough")return"pass";return gX.qI[gX.EZ.indexOf(J)]};gX.Pp=function(J){if(J=="pass")return"passThrough";
return gX.EZ[gX.qI.indexOf(J)]};gX.getName=function(J){return gX.R2[gX.qI.indexOf(J)]};function m(){this.S=null;
this.buffer=null;this.gR="norm";this.fc=255;this.Hv=!1;this.pT=!1;this.eW=0;this.C3=0;this._4=!0;this.BF=[];
for(var h=0;h<10;h++)this.BF.push(0,0,255,255);this.name=null;this.add={};this.AJ=null;this.t7=null;
this.pR=null;this.pW=null;this.aln=30;this.io=null;this.dz=null;this.lF=null;this.jA=null;this.kG=0;
this.CE=!1;this.WI=null;this.QF=new m.dg}m.dg=function(){this.bX=!0;this.uQ=!0;this.ev=g.C(0);this.ays=g.C(0);
this.P$=null;this.yX={};this.aoh=null;this.Bg=null;this.Ev=null;this.JP=null;this.ND=null;this.L8=null;
this.YQ=null;this.Dx=null;this.MH=null;this.IS=null;this.db=null;this.sm=null;this.Gp=!1};m.dg.prototype.aei=function(){this.bX=null;
this.uQ=!1;this.P$=null;this.Gp=gi._E};m.dg.prototype.anL=function(){iD.a7t(this.yX);this.ev=g.C(0);
this.ays=g.C(0);if(this.JP)this.JP.delete();if(this.ND)this.ND.delete();this.JP=null;this.ND=null;var J=[this.L8,this.YQ,this.Dx,this.MH,this.IS,this.db];
for(var h=0;h<6;h++)if(J[h]!=null&&J[h]instanceof gi.GH)J[h].delete();this.L8=null;this.YQ=null;this.Dx=null;
this.MH=null;this.IS=null;this.db=null};m.prototype.Ai=function(J){if(J==null)J=this.S.Q();if(this.QF.P$==null)this.QF.P$=J;
else this.QF.P$=this.QF.P$.h0(J)};m.prototype.tX=function(){return this.add.lsct==h2.Uk||this.add.lsct==h2.Le};
m.prototype.Id=function(){var J=this.add;return J.SoCo!=null||J.GdFl!=null||J.PtFl!=null||J.vstl!=null};
m.prototype.aCV=function(){var J=this.add.lmfx;if(J==null)return;var v=["GrFl","patternFill"];for(var h=0;
h<v.length;h++){var x=gD.Lw[gD.order.indexOf(v[h])],o=J[x].v;if(o.length==0)continue;for(var R=0;R<o.length;
R++){var r=o[R].v;if(r.enab.v&&(r.Algn==null||!r.Algn.v))this.QF.uQ=!0}}};m.prototype.anc=function(){var J=this.pR,v=this.QF.bX;
if(this.Id())J=this.q9();if(!gi._E)return J.OG();if(this.QF.ND==null||v||gi._E!=this.QF.Gp){var x=J.ca(),o=J.OG(),R=this.QF.ND,r=g.u3(o),l=null;
if(v!=!0&&v!=null){l=v.Q();l.offset(-x.x,-x.y)}if(R==null||R.r!=x.r||R.$!=x.$||R.depth!=r){R=this.QF.ND=new gi.SD(x.r,x.$,r);
l=null}R.set(o,l)}return this.QF.ND};m.prototype.a8h=function(J){var v=this.S,x=this.buffer;if(!gi._E){var o=this.Gx(J,x,v);
if(o){x=o.r3;v=o.S}return x}if(this.QF.P$!=null||gi._E!=this.QF.Gp){var o=this.Gx(J,x,v);if(o){x=o.r3;
v=o.S}var R=v;if(gi._E!=this.QF.Gp||this.QF.JP==null||this.QF.JP.r!=R.r||this.QF.JP.$!=R.$||this.QF.JP.depth!=J.depth){if(this.QF.JP)this.QF.JP.delete();
this.QF.JP=new gi.GH(R.r,R.$,J.depth);this.QF.JP.set(x)}else{var r=this.QF.P$.Q();r.offset(-v.x,-v.y);
this.QF.JP.set(x,r)}}return this.QF.JP};m.prototype._Z=function(){var J=this.pR;if(this.Id())J=this.q9();
return J!=null&&J.isEnabled&&(!J.S.L3()||J.Eb()!=255)};m.prototype.Gx=function(J,v,x){if(this.Ov()){var o=this.V0(J);
if(o.pR&&o.pR.isEnabled&&(!o.pR.S.L3()||o.pR.color==0)){var R=this.add.SoLd.filterFX.v;o.pR.nJ=R.filterMaskDensity?R.filterMaskDensity.v:255;
o.pR.p5=R.filterMaskFeather?R.filterMaskFeather.v:0;var r=o.buffer,l=o.S;if(l.o()<x.o()){l=x;r=g.C(l.o()*4,J.depth);
g.sW(o.buffer,o.S,r,l)}var M=o.pR.PP(x);g.SV(M);v=v.slice(0);g.v.PB(r,l,v,x,M,x,0,x,1);return{r3:v,S:x}}}};
m.prototype.aHI=function(){var J={Oh:!1,TL:!1,VT:0,zx:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)J.TL=!0;
if(this.q9()&&this.q9().isEnabled)J.Oh=!0;if(J.Oh&&J.TL){J.VT=this.q9().S.x-this.add.vmsk.q9().S.x;J.zx=this.q9().S.y-this.add.vmsk.q9().S.y}return J};
m.prototype.B0=function(J,v){if(du!=0)return;if(v&&this.q9().p5!=0){v=v.Q();var x=Math.round(this.q9().p5*2.4);
v.rz(x,x)}var o=!1;if(this.add.lsct==h2.lj)return;var R=this,r=this.q9()!=null&&this.q9().px,l=this.add.vmsk!=null&&this.add.vmsk.px,M=this.aHI(),P=JSON.stringify(M)!=this.QF.aoh||M.Oh&&r||M.TL&&l;
if(P){if(M.TL){var S=this.add.vmsk.q9(null,J.depth);if(M.Oh){this.pR=this.q9().K1(S);this.QF.Bg=new aG(this.pR.S.x-this.q9().S.x,this.pR.S.y-this.q9().S.y)}else this.pR=S}if(this.pR)o=!0;
if(this.pR)this.QF.Ev=new aG(this.S.x-this.pR.S.x,this.S.y-this.pR.S.y);if(M.Oh)this.q9().px=!1;if(M.TL)this.add.vmsk.px=!1;
this.Ai(v)}else{if(M.Oh&&M.TL){this.pR.S.x=this.q9().S.x+this.QF.Bg.x;this.pR.S.y=this.q9().S.y+this.QF.Bg.y}}if(R.Id()){this.dM(J)}if(R.rn()){var c;
if(this.pR)c=new aG(this.S.x-this.pR.S.x,this.S.y-this.pR.S.y);if(this.pR&&this.pR.isEnabled&&(this.QF.Ev==null||!c.Ym(this.QF.Ev))){this.QF.Ev=c;
this.Ai(v);o=!0}}if(kC.get(R.add)!=null)o=!0;if(o){var b=this.QF.bX;if(v&&b&&b!=!0)b=b.h0(v);else b=v?v:!0;
this.QF.bX=b}this.QF.aoh=JSON.stringify(M)};m.prototype.dM=function(J){if(du!=0)return;var v=this,x=v.add.vstk,o=new jj(0,0,J.r,J.$),R,r=v.add.vmsk?this.add.vmsk.q9(null,J.depth):null,P=!0,b;
if(r&&r.isEnabled&&r.Eb()==0)R=r.ca().Q();else R=o;var l=v.q9();if(l&&l.isEnabled&&l.Eb()==0)R=R.Xt(v.pR.ca());
var M=r&&x;if(x&&(!x.strokeEnabled.v||x.strokeStyleLineWidth.v.val==0))M=!1;if(x&&!x.fillEnabled.v&&M)P=!1;
var S=g.C(R.o()*4,J.depth);if(P){if(v.add.SoCo)iD.gw(S,v.add.SoCo.Clr.v);if(v.add.GdFl){var c=r&&r.color==0?g.I.Or(v.add.vmsk.X,null,!0):null;
iD.po(v.add.GdFl,S,R,J,null,c)}if(v.add.PtFl)iD.uY(v.add.PtFl,S,R,J.add.Patt,v.add.fxrp)}if(M)b=gD.gB.r8.indexOf(x.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(r){var w=r.nJ;if(M)r.nJ=255;var U=g.C(R.o(),J.depth);if(r.Eb()!=0)U.fill(g.JN(J.depth)*r.Eb()/255);
if(r&&r.isEnabled){var F=r.ca(),Y=r.OG();if(F.Ym(R))g.oj(Y,U);else g.Cc(Y,F,U,R)}if(M&&b==2){}else{if(v.add.SoCo&&P){g.Os(U,S,3)}else g.YJ(U,R,S,R)}if(M)r.nJ=w}v.buffer=S;
v.S=R;if(M){var A=x.strokeStyleContent.v,G=gD.gB.dP.indexOf(A.classID),n=this.add.vmsk.q9(x,J.depth);
if(b!=0&&!v.S.Ym(o))v.extend(v.S.h0(n.ca()));var w=n.nJ;n.nJ=255;var E=n.PP(v.S);n.nJ=w;if(n.color==255)g.SV(E);
var K=g.C(v.S.o()*4,J.depth);if(G==0)iD.gw(K,A.Clr.v);if(G==1)iD.po(A,K,v.S,J,null,r.color==0?r.S:null);
if(G==2)iD.uY(A,K,v.S,J.add.Patt,v.add.fxrp);var e=x.strokeStyleOpacity.v.val/100;if(e!=1)g.KX(E,e);
if(n.color==255)b=2-b;if(b<2){g.v.PB(K,v.S,v.buffer,v.S,E,v.S,255,v.S,1,!1);if(b==0)g.xh(U,v.buffer)}if(b==2){g.xh(E,K);
g.SV(U);g.v.PB(K,v.S,v.buffer,v.S,U,R,255,v.S,1,!1);g.SV(U)}if(n.nJ!=255){var $=K.slice(0);g.sS($,1);
g.v.Ry("norm",$,v.S,v.buffer,v.S,v.S,1-n.nJ/255)}w=r.nJ;r.nJ=255;this.ays=r.PP(v.S);r.nJ=w}this.Ai()};
m.prototype.IY=function(J,v,x,o,R){var r=this,l=r.add.SoLd.Idnt.v,M=r.add.SoLd,P=H.ge.t1(M.nonAffineTransform),S=g.b.ni(P),c=J.pB(l,M.Crop?M.Crop.v:null,[S.r,S.$],M.Impr.v.classID,x),E=null;
if(c==null)return;var b=c.Vs;g.ajj(b,J.depth);if(R&&g.sM(b[0],0))return;if(M.Sz){M.Sz.v.Wdth.v=c.fb.r;
M.Sz.v.Hght.v=c.fb.$}if(du!=0)return;var w=c.Bt==null?M.Rslt.v.val:c.Bt,U=M.quiltWarp.v;if(g.wL.KV(U))U=null;
var F=g.O.e6(P,c.fb);if(U){var S=g.b.ni(g.wL.Um(U)[3]),Y=S.x,A=S.y,G=1/S.r,n=1/S.$;F=g.O.e6(P);F=g.O.K1(F,[G,0,-Y*G,0,n,-A*n,0,0])}if(!v&&!r.Ov()&&U==null){var K=J.k.indexOf(r),e=m.Wa(r);
for(var h=0;h<K;h++){var $=J.k[h];if($.add.SoLd&&!$.Ov()&&m.Wa($)[0]==e[0]){var N=m.Wa($);E={buffer:$.buffer.slice(0),S:$.S.Q()};
E.S.offset(Math.round(e[1]-N[1]),Math.round(e[2]-N[2]));break}}}if(E==null)E=H.ge.lI(b,v?0:1,F,U,null,null,v);
if(E==null){r.buffer=g.C(0,J.depth);r.S=new jj}else if(r.Ov()){var k=r.V0(J);if(o){k.buffer=g.N2(k.buffer,J.depth);
k.buffer.fill(0);g.sW(E.buffer,E.S,k.buffer,k.S)}else{k.buffer=E.buffer;k.S=E.S.Q()}this.V$(J,v)}else{r.buffer=E.buffer;
r.S=E.S}r.B0(J);r.Ai();J.Ai()};m.Wa=function(J){var v=J.add.SoLd,x=v.Idnt.v,o=H.ge.t1(v.nonAffineTransform),R=g.O.e6(o,new jj(0,0,1e3,1e3)),r=v.quiltWarp.v;
if(g.wL.KV(r))r=null;return[[x,R[0],R[1],R[3],R[4],R[6],R[7],r==null].join(":"),R[2],R[5]]};m.prototype.V$=function(J,v){if(v==null)v=!1;
var x=this.V0(J),o=this.add.SoLd.filterFX.v,R=a8.ahw(o),r=new jj(0,0,J.r,J.$),l=x.S.h0(r),M=x.S.Q();
M.rz(R.x,R.y);var P={buffer:null,S:l.Xt(M)};P.buffer=g.C(P.S.o()*4,J.depth);g.sW(x.buffer,x.S,P.buffer,P.S);
if(o.enab.v&&v==!1){var S=o.filterFXList.v;for(var h=0;h<S.length;h++){var c=S[h].v;if(c.enab.v==!1)continue;
var b=c.blendOptions.v,w=gX.kF(b.Md.v.BlnM),U=b.Opct.v.val/100,F=g.UH.Eb(c.FrgC.v),Y=g.UH.Eb(c.BckC.v),A=a8.mV(c),G={buffer:g.C(P.buffer.length,J.depth),S:P.S.Q()},n=c.Fltr?c.Fltr.v:null;
if(kC.QT[A]!=null){var E=kC.QT[A],K=kC.f2(E,n);if(K)kC.vY(K,P.buffer,G.buffer,P.S)}else a8.vY(A,P,n,F,Y,G,[J.add.lnk2?J.add.lnk2:[],this.q9(),J.ac]);
if(w=="norm"&&U==1)P=G;else if(w=="norm"){g.v.PB(G.buffer,G.S,P.buffer,P.S,null,null,null,P.S,U)}else{g.v.Ry(w,G.buffer,G.S,P.buffer,P.S,P.S,U)}}}this.S=P.S;
this.buffer=P.buffer;this.Zv();this.Ai();J.Ai()};m.prototype.QC=function(J,v,x){this.WI=this.aHz(J,v,x)};
m.prototype.tt=function(J,v){var x=this.aHz(J,v,!0);if(x==null)return null;var o={dk:x.kG,u8:x.U$,S:x.du};
if(o.dk==1||o.dk==3){var R=o.S,r=g.C(R.r*R.$*4,g.u3(J.g.N));g.Os(o.u8,r,0);g.Os(o.u8,r,1);g.Os(o.u8,r,2);
g.aqz(J.g.N,J.g.S,r,R);o.u8=r}return o};m.prototype.aHz=function(J,v,x){var o,R,r,l,M,P,S;if(this.kG<=0){var c=g.C(this.S.o(),J.depth);
g.Vi(this.buffer,c,3);o=g.tp.im(v,{N:c,S:this.S},3);if(o==null)return null;var b=g.X5(o.N,o.S);l=o.S.Q();
M=this.S.Q();R=g.C(l.o()*4,J.depth);g.sW(this.buffer,M,R,l);g.Os(o.N,R,3);r=this.buffer.slice(0);if(!x){var w=v.N.slice(0);
g.SV(w);g.YJ(w,v.S,r,M)}P=this.buffer.slice(0);S=this.S.Q()}if(this.kG==1||this.kG==3){var U=this.kG==1?this.q9():this.V0(J).pR;
l=v.S.Q();M=U.S.Q();R=U.WJ(l);var r=U.N.slice(0);if(!x){var F=g.C(l.o(),J.depth);if(U.color==255)F.fill(g.JN(J.depth));
g.v.ht(F,l,r,M,v.N,l,1)}P=U.N.slice(0);S=U.S.Q()}return{kG:this.kG,U$:R,du:l,ZW:r,zb:M,QP:P,rL:S}};m.prototype.M6=function(J,v){var x=this.WI;
if(x.kG==0){this.S=x.rL;this.buffer=x.QP;this.Ai()}if(x.kG==1||x.kG==3){var o=x.kG==1?this.q9():this.V0(J).pR;
o.N=x.QP;o.S=x.rL;if(this.kG==1){o.px=!0;this.B0(J)}if(this.kG==3)this.Ai()}this.WI=v};m.prototype.mE=function(J,v){var x=J.depth;
if(this.kG<=0&&v.S.Ym(this.S)){var o=g.C(this.S.o(),x);g.Vi(this.buffer,o,3);if(g.Ym(J.g.N,o)){var R=this.S,r=this.buffer;
this.WI={kG:this.kG,U$:r.slice(0),du:R.Q(),ZW:g.C(0),zb:new jj,QP:g.C(0),rL:new jj};return!0}}var l=this.WI;
if(l==null)return!1;if(l.kG!=this.kG)return!1;if(!v.S.Ym(l.du))return!1;var M=l.zb.h0(l.du);if(l.kG<=0){if(!M.Ym(this.S))return!1;
var P=g.C(l.U$.length>>2,x);g.Vi(l.U$,P,3);if(!g.Ym(v.N,P))return!1;var S=g.C(M.o()*4,x);g.sW(l.ZW,l.zb,S,M);
g.v.Ry("norm",l.U$,l.du,S,M,M,1);return g.Ym(S,this.buffer)}if(l.kG==1||l.kG==3){var c=l.kG==1?this.q9():this.V0(J).pR;
if(!M.Ym(c.S))return!1;var b=g.C(M.o(),x);b.fill(c.color*g.JN(x)/255);g.Cc(l.ZW,l.zb,b,M);g.v.ht(l.U$,l.du,b,M,v.N,M,1);
return g.Ym(b,c.N)}};m.prototype.QY=function(J,v,x,o){var R=this.WI;R.du.offset(v,x);var r=R.zb.h0(R.du);
if(R.kG<=0){var l=g.C(r.o()*4,J.depth);g.sW(R.ZW,R.zb,l,r);g.v.Ry("norm",R.U$,R.du,l,r,r,1);this.buffer=l;
this.S=r;this.Ai()}else{var M=this.kG==1?this.q9():this.V0(J).pR,P=g.C(r.o());P.fill(M.color);g.Cc(R.ZW,R.zb,P,r);
g.v.ht(R.U$,R.du,P,r,o.N,r,1);M.N=P;M.S=r.Q();if(this.kG==1){M.px=!0;this.B0(J)}if(this.kG==3)this.Ai()}};
m.prototype.aiw=function(J){var v=[-1,0,1,2];if(J)v.push(3);if(this.pR)v.push(-2);if(this.pW)v.push(-3);
return v};m.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};m.prototype.v7=function(co){this.add.luni=this.name=co};
m.prototype.n9=function(J){var v=this.add.lnsr,x=this.add.TySh;if(v=="rend"&&x){var o=bI.FB(x.vv);this.v7(o.slice(0,o.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
m.prototype.jh=function(){return(this.eW&1<<1)==0};m.prototype.rn=function(){return(this.eW&1<<4)==0};
m.prototype.ui=function(){return(this.eW&1<<5)!=0};m.prototype.a3E=function(){var J=this;if(J.add.lnsr!="bgnd"){J.add.lnsr="bgnd";
J.v7("Background");J.add.lspf=1<<2}};m.prototype.ajl=function(){var J=this;if(J.add.lnsr=="bgnd"){delete J.add.lnsr;
J.v7("Layer 0");J.add.lspf=0}};m.prototype.UP=function(J){var v=this.add.lspf;return v==null?!1:(v>>J&1)!=0};
m.prototype.G0=function(J){if(J&&!this.jh())this.eW-=2;if(!J&&this.jh())this.eW+=2};m.prototype.nf=function(){var J=this.add.lmfx;
if(J==null)return!1;for(var v in J){if(v=="masterFXSwitch")continue;if(v=="Scl")continue;if(v=="classID")continue;
if(J[v].v.length>0)return!0}return!1};m.prototype.Ov=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
m.prototype.Aw=function(){var J=this.add.lmfx;if(J==null)return!1;if(!J.masterFXSwitch.v)return!1;for(var v in J){if(v=="masterFXSwitch")continue;
if(v=="Scl")continue;if(v=="classID")continue;var x=J[v].v;for(var h=0;h<x.length;h++)if(x[h].v.enab.v)return!0}return!1};
m.prototype.tq=function(){var J=this,v=J.add.SoLd,x=J.add.TySh,o=J.add.vmsk,R=[];if(v)R=H.ge.t1(v.nonAffineTransform);
if(x&&this.QF.m5){R=g.b.ho(J.QF.m5).T;g.b.u(R,x.u,R)}if(o)R=g.b.ho(o.ao5()).T;return R};m.prototype.xD=function(J,v,x,o){if(du==1)return g.b.ni(this.tq());
var R=new jj,r=this.lR(J,x,o);if(r.indexOf(0)!=-1)R=R.h0(this.S);if(r.indexOf(1)!=-1){var l=this.q9(),M=l.ca();
R=x&&l.Eb()==0?R.L3()?M:R.Xt(M):R.h0(M)}if(r.indexOf(2)!=-1){var P=this.add.vmsk,S=this.add.vstk,c;if(v){if(P.Ax.length>1){var b=g.I.JM(P.X,null,P.Ax);
c=g.b.ni(b);if(c.L3())c=null}if(c==null)c=g.I.Or(P.X,P.Y.length!=0?P.Y:null)}else c=g.I.Or(P.X);if(!o&&S&&S.strokeEnabled.v){var w=S.strokeStyleLineAlignment.v.strokeStyleLineAlignment,U=S.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(w!="strokeStyleAlignInside"){var F=S.strokeStyleLineWidth.v.val;if(U=="strokeStyleMiterJoin")c=new jj(0,0,J.r,J.$);
else c.rz(F,F)}}R=R.h0(c)}if(r.indexOf(3)!=-1)R=R.h0(this.V0(J).pR.ca());if(r.length==0&&this.Id())R=o?new jj(0,0,0,0):new jj(0,0,J.r,J.$);
return R};m.prototype.f1=function(){var J=this.add.artb,v=J.artboardBackgroundType.v,x=0;if(v==1)x=4294967295;
else if(v==2)x=4278190080;else if(v==3)x=0;else if(v==4){x=J.Clr.v;x=255<<24|x.Bl.v<<16|x.Grn.v<<8|x.Rd.v}else throw v;
return x};m.prototype.Gf=function(){var J=this.add.artb.artboardRect.v,v=J.Btom.v,x=J.Left.v,o=J.Rght.v,top=J.Top.v;
return new jj(x,top,o-x,v-top)};m.prototype.$V=function(J){var v=m.wB(J);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=v};m.wB=function(J){var v={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
v.Btom.v=J.y+J.$;v.Left.v=J.x;v.Rght.v=J.x+J.r;v.Top.v=J.y;return v};m.prototype.lR=function(J,v,x){var o=[],R=this;
if(!v&&R.CE&&x){o.push(2)}else if(R.kG<=0||v){if(R.rn()){if(du==1&&R.add.TySh)o.push(0);else if(du==1&&R.add.SoLd)o.push(0);
else if(!this.S.L3()||R.add.SoLd||R.add.TySh)o.push(0)}if(R.q9()&&!R.q9().S.L3())if(R.q9().DE||v)o.push(1);
if(R.add.vmsk)if(R.add.vmsk.DE||v)o.push(2);if(R.Ov()&&R.V0(J).pR&&!R.V0(J).pR.S.L3())o.push(3)}else if(R.kG==1){o.push(1);
if(R.q9().DE&&!R.q9().S.L3()){if(R.rn())if(!this.S.L3())o.push(0);if(R.add.vmsk)if(R.add.vmsk.DE)o.push(2)}}else if(R.kG==3&&!R.V0(J).pR.S.L3())o.push(3);
if(R.add.artb&&o.indexOf(0)==-1)o.push(0);o.sort();return o};m.prototype.q9=function(){var J=this;return J.pW?J.pW:J.add.vmsk&&J.add.vmsk.isEnabled?null:J.pR};
m.prototype.V0=function(J){var v=this.add.SoLd.placed.v,x=J.add.FEid;if(x==null)return null;for(var h=0;
h<x.length;h++)if(x[h].id==v)return x[h];return null};m.prototype.extend=function(J){g.aeZ(this,J)};
m.prototype.awk=function(J,v,x){var o=J.Q();if(this.Aw()){var R=this.add.lmfx,r=v.root.jJ(v.k.indexOf(this)),l=R.gradientFillMulti.v,M=!1;
for(var h=0;h<l.length;h++)if(l[h].v.enab.v&&l[h].v.Algn.v)M=!0;if(M)o=o.h0(r.ca(v,!1));var P=iD.aDD(this.add.lmfx,v,x);
o.offset(P.x,P.y);o.r+=P.r;o.$+=P.$}return o};m.prototype.Zv=function(){if(this.rn())g.oo(this);var J=this.q9();
if(J)J.Zv()};m.prototype.Q=function(){var J=new m;J.S=this.S.Q();J.buffer=this.buffer.slice(0);J.gR=this.gR;
J.fc=this.fc;J.Hv=this.Hv;J.eW=this.eW;J.name=this.name;J.BF=this.BF.slice(0);if(this.pR)J.pR=this.pR.Q();
if(this.pW)J.pW=this.pW.Q();for(var v in this.add)J.add[v]=aw.Q(v,this.add[v]);return J};m.prototype.jw=function(J){var v=this;
if(v.add.TySh)delete v.add.TySh;if(v.add.SoLd){var x=this.Gx(J,this.buffer,this.S);if(x){this.buffer=x.r3;
this.S=x.S;this.Ai()}delete v.add.SoLd}if(v.add.SoCo||v.add.GdFl||v.add.PtFl){if(v.add.vogk)delete v.add.vogk;
if(v.add.SoCo)delete v.add.SoCo;if(v.add.GdFl)delete v.add.GdFl;if(v.add.PtFl)delete v.add.PtFl;if(v.add.vmsk){console.log(v.pW,v.pR);
delete v.add.vmsk;if(v.pW==null&&v.pR)delete v.pR;else if(v.pW!=null&&v.pR!=null){v.pR=v.pW;delete v.pW}}}if(!v.tX()&&kC.get(v.add)==null&&!this.rn())this.eW-=16};
m.prototype.mo=function(J){var v=255,x=0;if(J==2){var o=this.add.SoLd.filterFX.v;if(o.filterMaskDensity)v=o.filterMaskDensity.v;
if(o.filterMaskFeather)x=o.filterMaskFeather.v}else{var R=J==0?this.q9():this.add.vmsk;v=R.nJ;x=R.p5}return{nO:J,Q1:v,I_:x}};
m.prototype.a8t=function(J){if(J.nO==2){var v=this.add.SoLd.filterFX.v;if(J.Q1==255)delete v.filterMaskDensity;
else v.filterMaskDensity={t:"long",v:J.Q1};if(J.I_==0)delete v.filterMaskFeather;else v.filterMaskFeather={t:"doub",v:J.I_};
this.Ai()}else{var x=J.nO==0?this.q9():this.add.vmsk;x.nJ=J.Q1;x.p5=J.I_;x.px=!0}};m.prototype.Tr=function(){var J=this,v=J.add.vmsk;
if(v==null)return;J.add.vogk=g.Fw.aoa(v.X)};m.Tr=function(J){var v=[],x=g.I.Eo(J);for(var o=0;o<x;o++)v.push(g.Fw.e$());
return v};var h2={eI:0,Uk:1,Le:2,lj:3};m.V1=function(J){this.name="Mask";this.nX=!1;this.qt={z:255,H:0,c:0};
this.s1=50;this.QJ=0;this.color=255;this.DE=!0;this.isEnabled=!0;this.mw=!1;this.nJ=255;this.p5=0;this.S=new jj;
this.N=g.C(0,J);this.go=null;this.a4D=null;this.px=!0};m.V1.prototype.K1=function(J){if(!this.isEnabled)return J;
var v=new m.V1;v.color=Math.round(this.Eb()*J.Eb()/255);if(this.Eb()==0&&J.Eb()==0)v.S=this.ca().Xt(J.ca());
else if(J.Eb()==0)v.S=J.ca().Q();else if(this.Eb()==0)v.S=this.ca().Q();else v.S=this.ca().h0(J.ca());
v.N=this.PP(v.S);v.nJ=255;v.p5=0;var x=J.PP(v.S);g.aua(x,v.S,v.N,v.S);return v};m.V1.prototype.ca=function(){if(this.p5==0)return this.S;
var J=Math.ceil(this.p5*2.2),v=this.S.Q();if(v.y==0){if(v.x==0)v.r+=J;else v.rz(J,0);v.$+=J}else v.rz(J,J);
return v};m.V1.prototype.OG=function(){if(this.p5==0&&this.nJ==255)return this.N;if(this.p5==0){var J=this.N.slice(0);
g.SV(J);g.KX(J,this.nJ/255);g.SV(J);return J}var v=this.ca(),J=this.WJ(v);g.Wh.MM(J,v,this.p5);if(this.nJ!=255){g.SV(J);
g.KX(J,this.nJ/255);g.SV(J)}return J};m.V1.prototype.Eb=function(){return Math.round(255-(255-this.color)*(this.nJ/255))};
m.V1.prototype.extend=function(J){g.extend(this,J,this.color/255)};m.V1.prototype.Zv=function(){if(this.color==255)g.SV(this.N);
g.Zv(this);if(this.color==255)g.SV(this.N)};m.V1.prototype.Q=function(){var J=new m.V1;J.name=this.name;
J.nX=this.nX;J.qt=this.qt;J.s1=this.s1;J.QJ=this.QJ;J.color=this.color;J.DE=this.DE;J.isEnabled=this.isEnabled;
J.mw=this.mw;J.nJ=this.nJ;J.p5=this.p5;J.S=this.S.Q();J.N=this.N.slice(0);return J};m.V1.prototype.WJ=function(J,v){var x=g.u3(this.N);
if(v==null)v=g.C(J.o(),x);v.fill(this.color*g.JN(x)/255);g.Cc(this.N,this.S,v,J);return v};m.V1.prototype.PP=function(J,v){var x=this.ca(),o=this.OG(),R=g.u3(o);
if(v==null)v=g.C(J.o(),R);v.fill(this.Eb()*g.JN(R)/255);g.Cc(o,x,v,J);return v};m.e_=function(){this.DE=!0;
this.isEnabled=!0;this.nJ=255;this.p5=0;this.xx=0;this.da=1;this.X=[{e:6},{e:8,all:0}];this.J7=[-3,-3];
this.Oj=!1;this.pW=null;this.px=!0;this.Y=[];this.Ax=[]};m.e_.prototype.ao5=function(J){var v=m.e_.w2(this.X),x=new bC;
if(J)x.rotate(-this.xx);g.I.Xi(v,x);return g.I.Or(v)};m.e_.prototype.hY=function(){var J=this.ao5(!0),v=g.b.ho(J).T,x=new bC;
x.rotate(this.xx);g.b.u(v,x,v);return v};m.e_.prototype.offset=function(J,v){this.pW=this.q9();g.I.Xi(this.X,new bC(1,0,0,1,J,v));
this.pW.S.offset(J,v)};m.e_.prototype.q9=function(J,v){if(!this.px&&this.pW&&J==null){this.pW.isEnabled=this.isEnabled;
return this.pW}var x=this.X,o=g.I.Or(x),R="strokeStyleLineAlignment",r="strokeStyleLineJoinType";if(o.o()>2e4*2e4)o=new jj(0,0,100,100);
if(J&&J[R].v[R]!="strokeStyleAlignInside"){var l=1;if(J[r].v[r]=="strokeStyleMiterJoin"){var M=g.I.a57(x),P=M/2,S=Math.sin(P),c=Math.cos(P);
c/=S;S=1;var l=Math.sqrt(c*c+S*S);if(isNaN(l)||l<1)l=1}l*=J[R].v[R]=="strokeStyleAlignOutside"?1:.5;
var b=Math.ceil(J.strokeStyleLineWidth.v.val*l);b=Math.min(b,600);o.rz(b,b)}o=g.b.RN(o);var w=new m.V1;
w.color=g.I.p7(x)?0:255;w.DE=this.DE;w.isEnabled=this.isEnabled;w.mw=!0;w.S=o;w.nJ=this.nJ;w.p5=this.p5;
w.N=g.C(w.S.o());if(!o.L3())g.I.alU(x,w.N,w.S,J);if(v!=null&&v!=8)w.N=g.N2(w.N,v);if(J==null){this.pW=w;
this.px=!1}return w};m.e_.prototype.Q=function(){var J=new m.e_;J.DE=this.DE;J.isEnabled=this.isEnabled;
J.nJ=this.nJ;J.p5=this.p5;J.xx=this.xx;J.X=m.e_.w2(this.X);J.J7=this.J7.slice(0);J.Oj=this.Oj;J.Y=this.Y.slice(0);
J.Ax=this.Ax.slice(0);return J};m.e_.prototype.concat=function(J){var v=J.X.slice(2);if(v.length==0)return;
v[0].da=3;this.X=this.X.concat(v)};m.e_.w2=function(J){var v=[];for(var h=0;h<J.length;h++){var x=J[h];
if(x.e>5||x.e==0||x.e==3)v.push(g.F(x));else v.push({e:x.e,nQ:x.nQ.Q(),Z:x.Z.Q(),_v:x._v.Q()})}return v};
m.e_.aF7=function(J,v,x){if(J.length!=v.length)return!1;for(var h=2;h<J.length;h++){var o=J[h],R=v[h];
if(o.e!=R.e)return!1;if(o.e==0||o.e==3){if(o.length!=R.length||!x&&o.da!=R.da)return!1}else if(!o.nQ.Ym(R.nQ)||!o.Z.Ym(R.Z)||!o._v.Ym(R._v))return!1}return!0};
m.e_.prototype.ayu=function(){var J=this.X;for(var h=3;h<J.length;h++)if(J[h].e==0||J[h].e==3)J[h].da=-1};
m.Hg=function(){this.e=null;this.x5=2;this.KK=null;this.d8="";this.It="";this.C6="";this.open=0;this.raw=null;
this.Vs=null;this.ag7="none";this.C4=!1;this.Bt=null;this.fb=null};m.Hg.prototype.Q=function(){var J=new m.Hg;
J.e=this.e;J.x5=this.x5;J.KK=this.KK;J.d8=this.d8;J.It=this.It;J.C6=this.C6;J.open=this.open;J.raw=new Uint8Array(this.raw.buffer.slice(0));
return J};m.Hg.prototype.rv=function(J,v,x,o,R){if(x==null)x="none";var r=this,l=d2.e4(r.raw.buffer),M=l=="svg"||l=="pdf"||l=="ai";
if(r.Vs){var P=v&&M&&Math.max(r.Vs[1].r,r.Vs[1].$)<Math.max(v[0],v[1]);if(!P&&x==this.ag7&&!r.C4)return}this.ag7=x;
if(!M)J=0;if(l==null){alert("Unsupported format: "+I.b_(r.raw,0,4));return null}var S=d2.s$(l);if(l=="psd"&&du==1){var c=ih.a7y(r.raw)[0],b=new Uint8Array(c.data);
r.Vs=[b,c.P0]}else if(S.KY){var w=new d7(name+(l=="psd"?"":"-"+l)+".psd"),b;S.lx(r.raw.buffer,w,v);var U=new jj(0,0,w.r,w.$);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(x)!=-1){var F=[];for(var h=0;h<w.k.length;
h++){var Y=w.k[h],A=Y.buffer;if(!Y.S.Ym(U)){A=g.C(U.o()*4);g.sW(Y.buffer,Y.S,A,U);console.log("resizing")}F.push(A)}b=g.C(U.o()*4);
g.stack.stack(F,b,x)}else{for(var h=0;h<w.k.length;h++)if(w.k[h].Id())w.k[h].B0(w);if(o&&w.C4){var G=h4.Qn(w,o,R);
r.C4=!G;if(G)h4.aG(w,o,R)}w.HQ();w.Ai();w.er();b=w.rv()}r.Vs=[b,U];r.Bt=w.Bt!=null&&w.Bt!=0?w.Bt:72}else if(S){var n=S.lx(r.raw.buffer)[0],E=n.depth;
r.Vs=[E==16?new Uint16Array(n.data):new Uint8Array(n.data),n.P0];r.Bt=n.Bt!=null&&n.Bt!=0?n.Bt:72}if(r.Vs){r.fb=r.Vs[1].Q();
if(J==1){var A=r.Vs[0],K=r.Vs[1],e=g.C(K.o());g.Vi(A,e,3);var $=g.X5(e,K),N=g.C($.o()*4);g.sW(A,K,N,$);
$.x=$.y=0;r.Vs=[N,$]}else{var A=r.Vs[0],K=r.Vs[1],$=g.H6(A,K,2,null,4278190080);if($.L3())$=new jj(0,0,1,1);
while(($.x&15)!=0){$.x--;$.r++}while(($.y&15)!=0){$.y--;$.$++}if(!$.Ym(K)&&$.o()/K.o()<.7){var N=g.C($.o()*4,g.u3(A));
g.sW(A,K,N,$);r.Vs=[N,$]}}g.DV(r.Vs)}};m.Qi="0";m.Wd="2";m.OQ="2.5";m.Va="2.6";m.oF="3";m.ag="4";m.U0="4.4";
m.Rl="4.5";m.asI="4.6";m.OX="5";m.Tj="5.5";m.mg="6";m.adC="7";m.aoS="8";m.Zn="9";m.zf="9.3";m.a5T="9.5";
m.SS="9.6";m.Tv="10";m.gO="11";m.E_="12";m.Fe="13";m.cv="13.1";m.aG8="13.2";m.KN="13.3";m.Of="13.4";
m.Vq="14";m.Ki="14.1";m.gp="14.2";m.Ws="14.3";m.eq="17";m.Rx="18";m.aJc="19";m.lt="19.5";m.WX="19.6";
m.D1="19.7";m.Gy="19.8";m.xT="20";m.oh="21";m.Ey="21.5";m.rS="22";m.ML="22.5";m.MA="23";m.aDz="24";m.iN="25";
m.abF="26";m.ajL="27";m.gg="28";m.YM="29";m.XM="30";m.Pe="31";m.h5="32";m.aEp="32.5";m.HY="33";m.co="34";
m.NH="35";m.kK="36";m.NK="36.5";m.Vy="37";m.f8="37.5";m.acB="37.6";m.E9="38";m.Gl="38.5";m.yO="38.6";
m.jS="39";m.TI="40";m.ze="41";m.aGC="42";m.J6="50";m.Zj="51";m.nP="52";m.OE="53";m.mF="54";m.a0j="54.5";
m.MQ="54.6";m.acI="54.7";m.BE="54.8";m.Kh="55";m.Lf="55.5";m._e="56";m.nF="57";m.nc="58";m.su="59";m.wA="60";
function db(){this.depth=0;this.index=-1;this.w=null;this.vu=null;this.UE=-1;this.children=null;this.parent=null;
this.Ii=null}db.prototype.aqb=function(J,v){if(this.depth!=0)J.push(this.w.getName());if(this.children)for(var h=0;
h<this.children.length;h++)this.children[h].aqb(J,v);if(J.length>v.Bl.length)v.Bl=J.slice(0);if(this.depth!=0)J.pop()};
db.prototype.a2Z=function(){var J=0;if(this.w.tX()){for(var h=0;h<this.children.length;h++)J+=this.children[h].a2Z()}else if(this.w.buffer)J+=this.w.buffer.length;
return J};db.prototype.jJ=function(J){var v=this.Ii[J];return this.Ii[J]};db.prototype.zV=function(J,v){var x=this.w;
if(!x.jh()||x.UP(2)||x.UP(31))return null;if(x._Z()){var o=x.pR.S.Rt(J);if(!o&&x.pR.color==0)return}if(x.tX()){for(var h=0;
h<this.children.length;h++){var co=this.children[h];co.zV(J,v)}}else if(du==1){var R=x.tq();if(J.Rt(g.b.ni(R))&&v.indexOf(this.index)==-1)v.push(this.index)}else if(x.S.Rt(J))v.push(this.index)};
db.prototype.M$=function(J,v){var x=this.w;if(!x.jh()||x.UP(2)||x.UP(31))return null;if(x._Z()){if(x.pR.S.bB(J)){if(!g.M$(J,x.pR.N,x.pR.S))return null}else if(x.pR.color==0)return null}if(x.tX()){if(x.add.artb&&!x.Gf().bB(J))return null;
for(var h=this.children.length-1;h>=0;h--){var co=this.children[h],o=co.M$(J,v);if(o&&v==null)return o}return null}else if(du==1){if(x.add.vmsk){var R=x.add.vstk,r=!R.fillEnabled.v&&!x.pT,l=R.strokeStyleLineWidth.v.val*.5,M=g.I.M$(x.add.vmsk.X,J,r,l);
return M.Vn==-1?null:this}var P=x.tq();if(dy.mX(P,J.x,J.y))return this}else if(x.add.TySh&&x.S.bB(J)||g.aro(J,x.buffer,x.S)){if(v==null)return this;
else v.push(this.index)}return null};db.prototype.ag3=function(J){var v=this.w;if(!v.jh()||v.UP(2)||v.UP(31))return null;
var x=v.add.vmsk;if(x&&x.isEnabled){var o=g.I.M$(x.X,J).Vn;if(o!=-1)return{a9U:this,aI2:o}}if(v.tX()){if(v.add.artb&&!v.Gf().bB(J))return null;
for(var h=this.children.length-1;h>=0;h--){var co=this.children[h],R=co.ag3(J);if(R)return R}return null}return null};
db.prototype.pD=function(J,v){J.push(this.index);if(this.w.tX()){J.push(this.UE);if(v)if(this.w.kG==1&&this.w.q9().DE==!1)return;
for(var h=0;h<this.children.length;h++)this.children[h].pD(J)}};db.c6=function(){var J=document.createElement("canvas");
return J.getContext("2d")};db.abM=function(J,v){var x,o;if(J.r>J.$){x=Math.floor(v);o=Math.floor(v*(J.$/J.r))}else{x=Math.floor(v*(J.r/J.$));
o=Math.floor(v)}return new aG(x,o)};db.Ad=32;db.H0=1;db.prototype.QZ=function(J,v,x){var o=db.H0,R=this.w;
if(R.tX()&&R.add.artb!=null)v=R.Gf();var r=o==0?R.S:v;if(r.L3()||R.add.TySh)r=v;var l=db.Ad*H.rR(),M=db.abM(r,l),P=M.x,S=M.y,c=db.abM(v,l),b=kC.get(R.add)!=null;
if(R.Id()&&R.add.vmsk==null||R.add.TySh||b)P=S=Math.max(S,16);else if(R.tX()){P=S=Math.round(18*H.rR())}else{P=Math.max(P,6);
S=Math.max(S,6)}if(x&&R.io==null){R.io=db.c6();if(du==0){R.dz=db.c6();R.lF=db.c6();R.jA=db.c6()}}var w=R.Id()&&R.add.vmsk;
if(du==1&&!R.tX()){if(x)g.CT.abm(R.io,P,S,J,this)}else if(w){if(x&&R.add.vstk)g.CT.GQ(R.io,P,S,r,R.buffer,R.S,!1,null,!R.add.vstk.fillEnabled.v&&!R.add.vstk.strokeEnabled.v);
if(x)g.CT.a0M(R.io,P,S)}else if(R.add.TySh){if(x)g.CT.ajZ(R.io,S,S,R.add.TySh)}else if(R.add.SoCo){if(x)g.CT.a2h(R.io,S,S,R.add.SoCo)}else if(R.add.GdFl){if(x)g.CT.aeG(R.io,S,S,R.add.GdFl)}else if(R.add.PtFl){if(x)g.CT.aja(R.io,S,S,R.add.PtFl,J)}else if(b){if(x)g.CT.aw9(R.io,S,S,R.add)}else if(R.add.SoLd){if(x)g.CT.GQ(R.io,P,S,r,R.buffer,R.S,!1);
if(x)g.CT.aFF(R.io,P,S,R.add.SoLd)}else if(R.tX()){}else{if(x){if(R.rn())g.CT.GQ(R.io,P,S,r,R.buffer,R.S,!1);
else{g.CT.aqj(R.io,S,S)}}}var U=R.q9();if(x){if(U)g.CT.Qg(R.dz,c.x,c.y,v,U);if(R.Ov()&&R.V0(J)&&R.V0(J).pR){var F=R.V0(J).pR;
g.CT.Qg(R.jA,c.x,c.y,v,F)}if(!w&&R.add.vmsk){g.CT.Qg(R.lF,c.x,c.y,v,R.add.vmsk.q9(),!0)}}if(U||R.add.vmsk)S=Math.max(S,c.y);
R.aln=Math.max(S,16);if(x!=!0&&R.tX()&&(R.add.lsct==h2.Uk||J.k.length<4e3))for(var h=0;h<this.children.length;
h++)this.children[h].QZ(J,v)};db.prototype.ay$=function(J,v,x,o){this.depth=x;var R=J[v];if(o==null)o=[];
this.Ii=o;if(R.add.lsct==h2.lj){this.vu=R;this.UE=v-1;this.children=[];var h=v+1;while(!0){var r=J[h];
if(r==null)console.log(h,J.length);if(r.add.lsct==h2.Uk||r.add.lsct==h2.Le){if(R.add.lyid==r.add.lyid)R.add.lyid+=16777215;
this.w=r;this.index=h-1;o[this.index]=this;o[v-1]=this;break}var l=new db;l.parent=this;h=l.ay$(J,h,x+1,o);
this.children.push(l)}return h+1}else{this.w=R;this.index=v-1;o[this.index]=this;return v+1}};db.prototype.R5=function(J,v,x,o){var R=this.jJ(x),r=J;
while(R.parent!=null){r=R.w.awk(r,v,o);R=R.parent}return r};db.prototype.ca=function(J,v){var x=this.w,o=new jj;
if(!x.jh())return o;var R=x.q9();if(x.tX())for(var h=0;h<this.children.length;h++){var r=this.children[h].ca(J,!0);
o=o.h0(r)}else if(kC.get(x.add)!=null)o=x._Z()&&x.pR.color==0?x.pR.ca().Q():new jj(0,0,J.r,J.$);else if(x.Id()&&x.add.vmsk&&x.add.vmsk.isEnabled&&x.add.vstk){o=x.S.Q()}else if(x.Id()&&R&&R.isEnabled&&R.Eb()!=0)o=new jj(0,0,J.r,J.$);
else{o=x.xD(J,!1,!0);if(x.add.vmsk)o=g.b.RN(o)}return v?x.awk(o,J):o};db.li={delete:function(J){if(J&&J.r)J.delete()},C:function(J,v){return gi._E?new gi.GH(J,v):g.C(J*v*4)},k_:function(J,v,x){var o=v.r,R=v.$;
if(J==null||gi._E&&(J.r!=o||J.$!=R||J.depth!=x)||!gi._E&&(J.length!=o*R*4||g.u3(J)!=x)){db.li.delete(J);
return gi._E?new gi.GH(o,R,x):g.C(o*R*4,x)}else return J},Cc:function(J,v,x,o,R){(gi._E?gi.Rk:g.sW)(J,v,x,o,R)},PB:function(J,v,x,o,R,r,l,M,h,P,S){(gi._E?gi.v.le:g.v.PB)(J,v,x,o,R,r,l,M,h,P,S)},a2C:function(J,v,x,o,R,r,l,M){var P=x.Q(),S=R.r,c=R.$,b=P.x,w=P.y,U=P.x+P.r>S?-1:0,F=P.x<0?2:1,Y=P.y+P.$>c?-1:0,A=P.y<0?2:1;
for(var G=Y;G<A;G++)for(var n=U;n<F;n++){P.x=b+n*S;P.y=w+G*c;db.li.Ry(J,v,P,o,R,r,l,M)}},Ry:function(J,v,x,o,R,r,l,M){if(gi._E)gi.v.aIf(J,v,x,o,R,r,l,M);
else g.v.Ry(J,v,x,o,R,r,l,M)},AP:function(J,v){if(gi._E){gi.DM(J);gi.rm(v)}else g.SX(J,v)},lH:function(J){if(gi._E){gi.DM(J);
gi.lH()}else{var v=g.u3(J),x=v==8?255:v==16?65535:1;if(v==8)g.sS(J,1);else for(var h=0;h<J.length;h+=4)J[h+3]=x}},aqZ:function(J,v,x,o,R){if(gi._E){gi.v.le(null,null,o,R,J,v,x,R,1,!1)}else{if(x==255)g.YJ(J,v,o,R);
else{var r=g.C(v.o(),g.u3(J));g.IX(o,R,r,v);g.fW(J,r);g.sS(o,0);g.aqz(r,v,o,R)}}},lZ:function(J,v,x,o){if(gi._E)gi.v.le(null,null,x,o,J,v,0,o,1,!1);
else g.lZ(J,v,x,o)}};db.prototype._c=function(J,v,x,o,R,r){var l=typeof r=="number";if(!this.w.tX()&&(l&&this.index>r||!l&&r.indexOf(this.index)==-1)){return}var M=this.w,P=iD.br(M),S=db.li,c=J.depth;
if(c==null)c=g.u3(J);var b=M.Id()?M.q9():M.pR;if(!M.jh())return;if(M._Z()&&b.S.L3()&&b.Eb()==0){return}if(M.add.vstk==null&&this.ca(o,!1).L3()){return}if(M.Id()&&M.S.L3())return;
var w=this.ca(o,!0).Xt(x);if(!v.Ym(x)&&!x.Rt(w))return;if(M.tX()&&M.add.artb){var U=M.Gf();x=x.Xt(U)}var F=db.avi(M,R,P);
if(!F){this.aqR(J,v,x,o,R,r);return}M.QF.L8=S.k_(M.QF.L8,w,c);S.Cc(J,v,M.QF.L8,w,x);this.aqR(M.QF.L8,w,x,o,R,r);
S.PB(M.QF.L8,w,J,v,null,null,0,x,M.fc/255,M.gR=="diss",P.uH)};db.avi=function(J,v,x){if(x.uH[0]*x.uH[1]*x.uH[2]==0)return!0;
return J.fc!=255&&(v.length!=0||J.tX()||J.Aw())};db.a0J={QF:{}};db.prototype.aqR=function(J,v,x,o,R,r){var l=this.w,M=iD.br(l),P=kC.get(l.add)!=null,S=db.li,c=J.depth,$=null,N=null,k=null,_;
if(c==null)c=g.u3(J);var b=db.avi(l,R,M),w=b?1:l.fc/255,U=l.Id()?l.q9():l.pR,F=l.tX()&&M.G6==null&&(l.gR=="pass"||l.add.artb)&&!(R.length>0||M.fill!=1||l.Aw()),Y=!l.tX()&&!P&&!l.Aw()&&R.length==0,A=P&&!l.Aw()&&R.length==0;
if(F||Y||A){var G=J,n=v;if(l._Z()){n=this.ca(o,!1);G=l.QF.MH=S.k_(l.QF.MH,n,c);S.Cc(J,v,l.QF.MH,n)}if(F)this.qd(G,n,x,o,r);
if(Y)S.Ry(l.gR,l.a8h(o),l.S,G,n,x,w,M);if(A){var E=l._Z()&&U.Eb()==0?U.ca().Q():n.Q(),K=l.QF;if(E.Ym(new jj(0,0,o.r,o.$)))K=db.a0J;
K.Dx=this.arx(G,n,K.Dx,E,l.add);M.Hm=!0;S.Ry(l.gR,K.Dx,E,G,n,x,w,M)}if(l._Z())S.PB(G,n,J,v,l.anc(),U.ca(),U.Eb(),x,1,l.gR=="diss");
l.QF.aei();return}var e=l.tX()&&l.gR=="pass"&&(R.length>0||M.fill!=1||l.Aw()),E=l.S;if(l.tX()){E=this.ca(o,!1);
k=l.QF.Dx=S.k_(l.QF.Dx,E,c);S.AP(k,0);this.qd(k,E,E,o,r);N=S.k_(l.QF.YQ,E,c);S.Cc(k,E,N,E)}else if(P){E=l._Z()&&U.Eb()==0?U.ca().Q():v.Q();
N=S.k_(l.QF.YQ,E,c);S.AP(N,4294967295)}else{E=l.S;$=l.a8h(o);N=S.k_(l.QF.YQ,E,c);S.Cc($,E,N,E)}l.QF.YQ=N;
if(l._Z())S.aqZ(l.anc(),U.ca(),U.Eb(),N,E);if(l.Aw())if(l.QF.P$||l.QF.uQ||l.QF.Gp!=gi._E||l.QF.bX||l.tX()){var V=l.add.vmsk,X=g.C(E.o(),c);
if(iD.acb(l.add.lmfx)){if(gi._E){if(!l.tX()&&l.q9()==null&&l.S.Ym(E)&&V==null)g.Vi(l.buffer,X,3);else{var Q=g.C(E.o()*4,c);
N.get(Q);g.Vi(Q,X,3)}}else g.Vi(N,X,3)}if(l.QF.uQ||l.QF.Gp!=gi._E||!g.Ym(X,l.QF.ev)){var L=null;if(l.Id()&&V&&V.isEnabled&&V.q9().color==0)L=V.q9().S;
iD.a7t(l.QF.yX);l.QF.yX=iD.ah1(X,E,l.add.lmfx,l.add.fxrp,o,L);l.QF.ev=X;l.QF.aCN=E}}if(l.Aw())iD.aAX(l.add.lmfx,l.QF.yX,E,J,v,x);
if(l.tX()){$=S.k_(l.QF.MH,E,c);S.AP($,0);if(l.gR=="pass")S.Cc(J,v,$,E);if(e)S.lZ(k,E,$,E);this.qd($,E,x,o,r);
l.QF.MH=$}if(P){$=l.QF.MH=this.arx(J,v,l.QF.MH,E,l.add)}if(l.tX()||P)_=$;else{_=S.k_(l.QF.MH,E,c);S.Cc($,E,_,E,x);
l.QF.MH=_}S.lH(_);for(var h=0;h<R.length;h++)R[h]._c(_,E,x,o,[],r);var a=l.QF.IS=S.k_(l.QF.IS,E,c);S.Cc(J,v,a,E,x);
if(P)M.Hm=!0;S.Ry(l.gR=="pass"?"norm":l.gR,_,E,a,E,x,1,M);if(l.Aw()){var T=l.QF.yX.e.FrFX,f=null;if(T.length!=0){f=T[0];
for(var h=0;h<T.length;h++)if(T[h].ux.r>f.ux.r)f=T[h];l.QF.db=S.k_(l.QF.db,f.ux,c);S.Cc(J,v,l.QF.db,f.ux,x);
l.QF.sm=S.k_(l.QF.sm,f.ux,c)}iD.a1n(l.add.lmfx,l.QF.yX,E,J,v,x,a,l.QF.db,l.QF.sm,f?f.ux:null)}S.PB(a,E,J,v,N,E,0,x,1,l.gR=="diss");
l.QF.aei()};db.prototype.arx=function(J,v,x,o,R){var r=kC.get(R),l;if(r)l=kC.f2(r,R[r]);var M=g.u3(J),P=db.li;
x=P.k_(x,o,M);if(!(gi._E&&v.Ym(o)))P.Cc(J,v,x,o);if(l){if(gi._E){var S=o.Q();S.x=S.y=0;if(v.Ym(o)){gi.DM(x,S);
kC.I7(l,J.qb,S)}else{gi.DM(x,o);x.EO(o);kC.I7(l,x.z7,S)}}else kC.vY(l,x,x,o)}return x};db.prototype.qd=function(J,v,x,o,R){var r=v.r,l=v.$,M=v.x,P=v.y,co=x,S=co.x,c=co.y,b=-1,w=-1,U=2,F=2;
if(!o.dZ){b=w=0;U=F=1}var Y=this.children;for(var h=0;h<Y.length;h++){var A=kC.get(Y[h].w.add)!=null,G=[];
for(var n=h+1;n<Y.length;n++)if(Y[n].w.Hv)G.push(Y[n]);else break;for(var E=w;E<F;E++)for(var K=b;K<U;
K++){v.x=M+K*r;v.y=P+E*l;co.x=S+K*r;co.y=c+E*l;if((K!=0||E!=0)&&A)continue;Y[h]._c(J,v,co,o,G,R)}h+=G.length}v.x=M;
v.y=P;co.x=S;co.y=c};(function(){db.prototype.rx=function(R,r,l,M){var P=this.w,S=P.add.lmfx,c=P.add.TySh,b=P.add.SoLd,U=null;
if(!P.jh())return;r.save();var w=P.fc/255*(P.add.iOpa?P.add.iOpa/255:1);r.globalAlpha*=w;r.globalCompositeOperation=gX.YR[gX.qI.indexOf(P.gR)];
var F=R.add.prvw==0;if(F){r.lineWidth=1/R.U.NT;r.fillStyle="black"}var Y=iD.a5c(P,!1);if(Y){U=r;var A=document.createElement("canvas");
A.width=r.canvas.width;A.height=r.canvas.height;var G=r.getTransform();r=A.getContext("2d");r.setTransform(G.a,G.b,G.c,G.d,G.e,G.f)}if(P.tX()){var n=this.children,E=null;
for(var h=0;h<n.length;h++)if(n[h].w.pT&&n[h].w.jh())E=n[h].w;if(E&&!F){r.beginPath();v(E,r);r.clip()}for(var h=0;
h<n.length;h++)n[h].rx(R,r,l,M)}else if(c){var K=!0;if(P.QF.path==null){K=h4.iR(c,l.rr);if(K)h4.kI(P,l.rr,!1)}if(K){{var e=c.u;
r.save();J(r,e);var $=P.QF.path;if(F){var N=$.Wp.slice(0);for(var h=0;h<N.length;h++)if(N[h][0]=="#")N[h]="#000000";
$={Wp:N,T:$.T}}h4.aIz($,r);r.restore()}}}else if(P.Id()&&P.add.vmsk&&(!P.pT||F)){var k=P.add.vmsk;r.beginPath();
v(P,r);if(F){r.stroke()}else{var V=P.add.vstl;if(V.sN.length!=0){var X=x(V.sN,k.X,R,r);if(X[1]){r.save();
J(r,X[1])}r.fillStyle=X[0];r.fill(["nonzero","evenodd"][k.da]);if(X[1]){r.restore()}}if(V.T0.length!=0){g.I.iJ(V,r);
r.strokeStyle=x(V.T0,k.X,R,r,!0)[0];r.stroke()}}}else if(b){var Q=b.filterFX;if(Q){var X=Q.v.filterFXList.v;
for(var h=0;h<X.length;h++){var L=X[h].v;if(!L.enab.v)continue;var _=a8.mV(L);if(_=="GsnB"){r.filter="blur("+L.Fltr.v.Rds.v.val*R.U.NT+"px)"}}}var a=b.Idnt.v,T=R.pB(a,b.Crop?b.Crop.v:null),e=g.O.aQ(b),f=T.Vs;
if(F){var Z=H.ge.t1(b.Trnf);r.moveTo(Z[0],Z[1]);for(var h=2;h<8;h+=2)r.lineTo(Z[h],Z[h+1]);r.closePath();
r.stroke()}else o(R,P,r,e,f)}if(Y){U.save();U.setTransform(1,0,0,1,0,0);U.drawImage(r.canvas,0,0);U.restore();
r=U}r.globalAlpha/=w;r.globalCompositeOperation="source-over";r.restore()};function J(R,r){R.transform(r.o5,r.c,r.Mz,r.fn,r.zP,r.jD)}function v(R,r){var l=R.add.vmsk.X;
for(var h=0;h<l.length;h++){if(l[h].e>5)continue;var M=l[h].length;if(M==0)continue;var P=l[h].e==3;
g.I.awE(r,l,h+1,M,0,0,P);if(!P)r.closePath();h+=M}}function x(R,r,l,M,P){if(R.length==3)return[CSS.aHB(R),null];
else if(R.length==2){var S=l.mW[R[0]],c=1,b=S.dm;if(b==null){var w=document.createElement("canvas"),U=w.getContext("2d");
w.width=Math.round(S.r*c);w.height=Math.round(S.$*c);U.scale(c,c);S.root.rx(S,U,{},null);b=S.dm=M.createPattern(w,"repeat")}var F=new bC(1/c,0,0,1/c,0,0),Y=l.Bt/72,A=new bC;
A.concat(F);var G=R[1][1];A.concat(new bC(G[0],G[1],G[2],G[3],Y*G[4],Y*G[5]));A.scale(1,-1);return[b,A]}else{var n=R[0],E=R[1],K=R[2],e=-K[5]*Math.PI/180,$=gd.zv(R,r),N,F;
if(n==0){var k=[0,0,1,0];g.b.u(k,$,k);N=M.createLinearGradient(k[0],k[1],k[2],k[3])}else{var k=[Math.cos(e)*K[6],Math.sin(e)*K[6],0,0,1,0],V=Math.abs($.o5*$.c+$.Mz*$.fn)<1e-9,X=Math.abs($.o5*$.o5+$.c*$.c-$.Mz*$.Mz-$.fn*$.fn)<1e-9,Q=V&&X;
if(Q||P){g.b.u(k,$,k);var L=k[4]-k[2],_=k[5]-k[3];N=M.createRadialGradient(k[0],k[1],0,k[2],k[3],Math.sqrt(L*L+_*_))}else{N=M.createRadialGradient(k[0],k[1],0,0,0,1);
F=$}}g.UH.cg(N,E);return[N,F]}}function o(R,r,l,M,P){if(M==null)M=new bC;var S=r.buffer,c=r.S;if(P){var b=M.Nf()*R.U.NT,w=0;
while(1<<w/2<.5/b&&w+2<P.length)w+=2;S=P[w];c=P[w+1];c=c.Q();c.x=c.y=0;var b=1<<w/2,U=new bC;U.scale(b,b);
U.concat(M);M=U}if(c.L3())return;var F=document.createElement("canvas");F.width=c.r;F.height=c.$;var Y=F.getContext("2d");
Y.putImageData(new ImageData(new Uint8ClampedArray(S.buffer),c.r,c.$),0,0);l.transform(M.o5,M.c,M.Mz,M.fn,M.zP,M.jD);
l.drawImage(F,c.x,c.y);M.SV();l.transform(M.o5,M.c,M.Mz,M.fn,M.zP,M.jD)}}());function d7(J){this.Ch="psd";
this.zY=!1;this.name=J;this.g8=8;this.depth=8;this.nV=-1;this.dZ=!1;this.pG=null;this.bp=null;this.HW=null;
this.My=null;this.r=0;this.$=0;this.buffer=null;this.k=[];this.tA={};this.add={};this.Ql=[];this.mW={};
this._I=[];this.dm=null;this.RU=4;this.HS=null;this.Bt=72;this.b5={};this.Y=[];this.HC=[];this.qr=!1;
this.ek=[];this.dT=[];this.h1=[d7.bl("Work Path")];this.KG=-1;this.GP=[];this.TW=null;this.eG={classID:"CompList",list:{t:"VlLs",v:[]}};
this.Vj=null;this.Xh=[];this.AB=[];this.VI=[];this.root=null;this.M7=null;this.C4=!1;this.aqX=!1;this.aib=!1;
this.cj=!1;this.rf=!1;this.ms=!1;this.Se=!1;this.wj=!1;this.PS=!1;this.TA=!1;this.P$=null;this.$g=null;
this.g=null;this.ac=[];this.Dk=[];this.dB={cJ:{},f3:[],$C:[],Ti:[],hM:[],sI:[],xt:null,_5:null,Ru:null,aU:null,Py:null,Af:null,zj:null,de:null,OR:[],kl:[],Tl:null};
this.history=[new js([1,0],null)];this.wb=0;this.uI=0;this.atz=0;this.nL=0;this._Y=null;this.jK=!1;this.U=new a_(this);
this.H$=null;this.Sp=null}d7.prototype.og=function(){var J=this;J.uI=J.wb;J.atz=Date.now();J.ms=!0};
d7.prototype.ajV=function(){var J=this,v=J.add.artd;return v!=null&&v.Cnt.v>1||J.add.arts&&J.add.arts.length>1};
d7.prototype.G$=function(J){if(J){if(J.length==30240){this.G$(null);return}this.tA.r1039=J;var v=ICC.R(J.buffer),R=null,r=17,b,w;
if(v==null){this.G$(null);return}var x=v.header.spaceIn.toLowerCase(),o=JSON.stringify(v.tags.desc).toLowerCase();
try{R=ICC.U.profileName(v)}catch(gw){}if(x!="rgb "||R==null||o.indexOf("srgb")!=-1&&this.depth!=32||o.indexOf("apple wide color sharing profile")!=-1||x=="rgb "&&this.add.fcmy==1){this.G$(null);
return}console.log("We got an ICC profile!",v,R);try{var l=ICC.U.sampleLUT(v,r)}catch(gw){this.G$(null);
return}var M=g.GT("rgbToRgbC"),P=M[2],S=M[3],c=d7.ae_(l,S,P);if(gi._E){b=new gi.GH(r,r*r,gi.$U());b.set(ICC.U.lutToRGBA32(l,r));
w=new gi.GH(r,r*r,gi.$U());w.set(ICC.U.lutToRGBA32(c,r))}this.H$=[J,v,r,l,b,c,w]}else{delete this.tA.r1039;
this.H$=null}};d7.ae_=function(J,v,x){var o=J.slice(0),R=g.C(4,32);for(var h=0;h<J.length;h+=3){R[0]=J[h];
R[1]=J[h+1];R[2]=J[h+2];ICC.U.applyLUT(v,x,R,R);o[h]=R[0];o[h+1]=R[1];o[h+2]=R[2]}return o};d7.prototype.L_=function(){return this.H$};
d7.prototype.Ab=function(){if(this.H$)return this.H$;if(this.add.fcmy==1){if(this.Sp==null){var J=g.GT("rgbToRgbC"),v=J[2],x=J[3],o;
if(gi._E){o=new gi.GH(v,v*v,gi.$U());o.set(ICC.U.lutToRGBA32(x,v))}this.Sp=[null,null,v,null,null,x,o]}return this.Sp}};
d7.prototype.a2c=function(){var J=this;if(J.U.xY.join("")!="111"){J.U.xY=[1,1,1];J.ms=!0}for(var h=0;
h<J.k.length;h++){var v=J.k[h],x=v.add.vmsk;if(v.Ov()){var o=v.V0(J);if(o&&o.pR&&o.pR.nX){o.pR.nX=!1;
J.ms=!0}}var R=v.q9();if(R&&R.nX){R.nX=!1;J.ms=!0}if(x){if(x.Y.length!=0)x.Y=[];if(x.Ax.length!=0)x.Ax=[]}}};
d7.prototype.az3=function(){var J=this;return J.g!=null||J.Ng()[1].length!=0||J.Y.length>1};d7.prototype.lg=function(){var J=this.HC,v=[];
for(var h=0;h<J.length;h++)v[h]=-1;var x=this.root.children;for(var h=0;h<x.length;h++){var o=x[h],R=o.w.add.artb;
if(R==null)continue;var r=R.guideIndeces;r=r?r.v:[];for(var l=0;l<r.length;l++)v[r[l].v]=o.index}return[g.F(J),v]};
d7.prototype.P_=function(J){this.HC=g.F(J[0]);var v=J[1],x=this.root.children;for(var h=0;h<x.length;
h++){var o=x[h],R=o.w.add.artb;if(R==null)continue;R.guideIndeces={t:"VlLs",v:[]}}for(var h=0;h<v.length;
h++)if(v[h]!=-1)this.k[v[h]].add.artb.guideIndeces.v.push({t:"long",v:h})};d7.prototype.a6C=function(J){var v=this;
if(J[0])v.add.lnk2=J[0];else delete v.add.lnk2;if(J[1])v.add.FEid=J[1];else delete v.add.FEid;if(J[2])v.add.Patt=J[2];
else delete v.add.Patt};d7.prototype.ad8=function(J){var v=this,x=[],o=[],R=[],F=null,Y=null,A=null;
for(var h=0;h<J.length;h++){var r=J[h];if(r.add.SoLd){x.push(r.add.SoLd.Idnt.v);o.push(r.add.SoLd.placed.v)}if(r.add.PtFl)R.push(r.add.PtFl.Ptrn.v.Idnt.v);
if(r.add.lmfx){for(var l=0;l<gD.Lw.length;l++){var M=r.add.lmfx[gD.Lw[l]].v;for(var P=0;P<M.length;P++)if(M[P].v.Ptrn){var S=M[P].v;
if(S.classID=="FrFX"&&S.PntT.v.FrFl!="Ptrn")continue;R.push(S.Ptrn.v.Idnt.v)}}}var c=r.add.vstk;if(c&&c.strokeStyleContent.v.classID=="patternLayer"){R.push(c.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var b=v.add.lnk2,w=v.add.FEid,U=v.add.Patt;
if(b){F=[];for(var h=0;h<b.length;h++)if(x.indexOf(b[h].KK)!=-1)F.push(b[h]);if(F.length==0)F=null}if(w){Y=[];
for(var h=0;h<w.length;h++)if(o.indexOf(w[h].id)!=-1)Y.push(w[h]);if(Y.length==0)Y=null}if(U){A=[];for(var h=0;
h<U.length;h++)if(R.indexOf(U[h].id)!=-1)A.push(U[h]);if(A.length==0)A=null}return[F,Y,A]};d7.prototype._0=function(J){var v=this,x=v.root.jJ(J==null?v.Y[0]:J),o=!1;
while(x.parent!=null){o=o||x.w.UP(31);x=x.parent}return o};d7.prototype.XP=function(){var J=this.ac,v=this.ac.length;
if(v!=0&&J[v-1].name=="Quick Mask")return J[v-1]};d7.prototype.DB=function(){return this.Ch==gF.u0("% |/!)")||this.Ch==gF.Bu("gP")};
d7.prototype.Dy=function(J){var v=this.add.artd;if(J!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:J},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};d7.prototype.Dj=function(J){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(J)==-1)this.add.FEid.push(J)};
d7.prototype.Pt=function(J){var v=this.add.FEid.indexOf(J);this.add.FEid.splice(v,1);if(this.add.FEid.length==0)delete this.add.FEid};
d7.prototype.Ai=function(J){if(J==null)J=new jj(0,0,this.r,this.$);if(this.P$==null)this.P$=J;else this.P$=this.P$.h0(J)};
d7.prototype.akv=function(J){return this.P$!=null};d7.prototype.Kn=function(J){var v=this.k[J],x=this.root.jJ(J);
if(x==null)return!1;if(v.tX()||x.parent.children.indexOf(x)==0)return!1;return!0};d7.and=function(J){if(J.add.lnk2)for(var h=0;
h<J.add.lnk2.length;h++){var v=J.add.lnk2[h].KK;J.add.lnk2[h].KK=d7.eO()+v.slice(8);for(var x=0;x<J.k.length;
x++){var o=J.k[x].add.SoLd;if(o&&o.Idnt.v==v)o.Idnt.v=J.add.lnk2[h].KK}}};d7.prototype.sw=function(J,v,x){J.sort(function(b,w){return b-w});
var top=J[J.length-1],o=this.k.slice(0),R=this.Y.slice(0),r=[],l=[];for(var h=0;h<this.k.length;h++){if(J.indexOf(h)!=-1)l.push(this.k[h]);
else r.push(this.k[h])}this.C0(l);this.Y=[];var M=this.root.ca(this,!0);if(v)M=M.Xt(v);if(x)M=M.h0(x);
if(M.L3())M=new jj(0,0,100,100);var P=new jj(-M.x,-M.y,this.r,this.$),S=new Uint8Array(d2.s$("PSD").lS(this,0,0,[!0,!1]));
this.C0(o);this.Y=R;var c=new d7(this.k[top].getName());d2.s$("PSD").lx(S.buffer,c);delete c.add.artd;
c.ek=[];c.C0(c.k);c.P_([[],[]]);d7.and(c);H.cD.xK(c,M);c.Ai();c.er();c.rv();return[c,M,r,top]};d7.prototype.aFL=function(J,v,x){var o=this.sw(J),R=o[0],r=o[1],l=o[2],top=o[3],M;
if(x=="jpg")M=new Uint8Array(d2.s$("JPG").lS([[R.rv().buffer]],R.r,R.$,[80]));else M=new Uint8Array(d2.s$("PSD").lS(R,null,null,[!0,!1]));
if(v)l=this.k.slice(0);var P=this.P2(M,R.name,r.x,r.y);if(top==this.k.length-1)l.push(P);else l.splice(v?top+1:top-J.length+1,0,P);
this.C0(l);this.Y=[l.indexOf(P)]};d7.eO=function(J){if(J==null)J="";var v="";while(v==""||v==J){v="";
for(var h=0;h<8;h++)v+=Math.floor(Math.random()*16).toString(16)}return v};d7.prototype.Mk=function(J){if(J==null)return;
if(this.add.Patt==null)this.add.Patt=[];var v=this.add.Patt;for(var h=0;h<v.length;h++)if(v[h].id==J.id)return;
v.push(J)};d7.prototype.aEm=function(J){for(var h=0;h<this.k.length;h++){var v=this.k[h],x=v.add.SoLd;
if(x&&x.Idnt.v==J)v.IY(this)}};d7.prototype.P2=function(J,v,x,o,R,r,l){if(this.add.lnk2==null)this.add.lnk2=[];
var M=null;for(var h=0;h<this.add.lnk2.length;h++)if(g.Ym(J,this.add.lnk2[h].raw)){M=this.add.lnk2[h].KK;
break}if(M==null){var P=d2.e4(J.buffer);M=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f";var S=new m.Hg;S.KK=M;
S.C6=P=="psd"?"8BIM":"    ";S.d8=v+"."+P;S.It=P=="psd"?"8BPB":"    ";S.open=0;S.raw=J;S.e="liFD";S.x5=2;
this.add.lnk2.push(S)}var c=this.pB(M,null,null,null,r,l),b=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f",w=this.qL(),U=c?c.fb:new jj;
w.v7(v);w.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:M},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:b},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:g.wL.C(U)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:U.r},Hght:{t:"doub",v:U.$}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:c?c.Bt:72}}};
var F=U.Q();if(x!=null)F.offset(x,o);if(c!=null&&R){var P=d2.e4(J.buffer),Y=R.x,A=R.y,G=R.r,n=R.$;F=c.fb.Q();
F.offset(Y+x,A+o);var E=E=this.Bt/(P=="pdf"?144:c.Bt?c.Bt:this.Bt);F.r=F.r*E;F.$=F.$*E;var K=Math.max(F.r/G,F.$/n);
if(K>1.0001){F.r=F.r/K;F.$=F.$/K}F.x=Math.round(Y+(G-F.r)/2);F.y=Math.round(A+(n-F.$)/2)}var e=g.b.ho(F).T;
w.add.SoLd.Trnf=H.ge.y7(e);w.add.SoLd.nonAffineTransform=H.ge.y7(e);if(c){if(R)w.IY(this,!1);else if(du==0){w.S=c.Vs[1].Q();
w.S.offset(F.x,F.y);w.buffer=c.Vs[0].slice(0)}}return w};d7.prototype.Sd=function(){var J=this.add.arts,v=new jj;
for(var h=0;h<J.length;h++)v=v.h0(g.b.jR(J[h].ZW));return v};d7.prototype.aJf=function(J,v,x){var o=this.Sd();
if(v==null){v=o.r;x=o.$}var R=g.n2(v,x);R.save();R.translate(-o.x,-o.y);R.scale(v/o.r,x/o.$);this.root.rx(this,R,J,new jj(0,0,v,x));
R.restore();return R.getImageData(0,0,v,x).data.buffer};d7.prototype.rv=function(J){if(J!=null){this.Ai();
this.er(J);var v=this.buffer;if(gi._E)this.M7.get(v);else v=v.slice(0);this.Ai();this.er();return v}if(this.P$){this.er();
this.P$=null}if(gi._E&&this.$g){this.M7.get(this.buffer);this.$g=null;this.Se=!0}return this.buffer};
d7.prototype.ah4=function(){for(var h=0;h<this.k.length;h++)this.k[h].aCV();this.Ai()};d7.prototype.ahY=function(){for(var h=0;
h<this.k.length;h++)if(this.k[h].add.lmfx)this.k[h].QF.uQ=!0};d7.prototype.bm=function(){var J=this.tA.r1044;
if(J==null){J=this.tA.r1044=new Uint8Array(4);var v=0;for(var h=0;h<this.k.length;h++)v=Math.max(v,this.k[h].add.lyid);
I.Cu(J,0,v)}var x=I.m7(J,0);I.Cu(J,0,x+1);return x+1};d7.prototype.hH=function(J,v,x){if(J==null)J=!0;
var o=this;if(o.Dk.length!=0)return!0;if(o.Y.length!=1){if(J)alert(o.Y.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.di(J,v,x)};d7.prototype.di=function(J,v,x){if(J==null)J=!0;if(v==null)v=!1;var o=this;
if(o.Dk.length!=0)return!0;for(var h=0;h<o.Y.length;h++){var R=o.k[o.Y[h]],r=v||R.kG<=0;if(R.add.lsct!=null&&R.add.lsct!=h2.eI&&R.kG!=1){if(J)alert(ea.get([15,7,2]));
return!1}if(r&&!R.rn()){if(J)alert(ea.get([15,7,2]));return!1}if(r&&R.add.TySh){return this.ae7(J,[15,7,3],x)}if(r&&R.add.SoLd){return this.ae7(J,[15,7,4],x)}if(R.UP(1)||o._0(o.Y[h])){if(J)alert(ea.get([6,57,0]));
return!1}}return!0};d7.prototype.ae7=function(J,v,x){if(J&&typeof J=="object"){var o=new dd(j.E.j);o.data={R:j.m.wz,kA:"confirm"};
o.data.K=ea.get(v)+". "+ea.get([6,8])+"?";var R=J;o.data.MX=function(){var r=new dd(j.E.aT,!0);r.data={QI:"rasterizeLayer",_g:{classID:"rasterizeLayer",null:kj.RS("Lyr",!0)}};
R.a(r)};J.a(o);return!1}if(J)alert(ea.get(v));return!1};d7.prototype.axw=function(J){var v=this.root.jJ(J);
if(v.parent)return v.w.jh()&&this.axw(v.parent.index);else return v.w.jh()};d7.prototype.Ss=function(J){var v=this;
if(J){var x=0;for(var h=0;h<v.Y.length;h++)if(v.k[v.Y[h]].add.artb)x++;if(x>1)return-1}if(v.add.artd&&v.Y.length!=0){var o=v.root.jJ(v.Y[0]);
while(o.parent.parent)o=o.parent;if(o.w.add.artb)return o.index}return-1};d7.prototype.tJ=function(){var J=this.Ss();
if(J!=-1){var v=this.k[J].Gf();return new aG(v.x,v.y)}return new aG(0,0)};d7.prototype.a7I=function(){var J=this.k[this.Y[0]];
if(J.kG<=0&&!J.S.Rt(this.g.S)){alert("Selected area is empty.");return!1}if(this.Y.length==1&&this.g){var v=g.C(this.g.N.length);
g.IX(J.buffer,J.S,v,this.g.S);g.fW(this.g.N,v);if(g.sM(v,0)){alert("Selected area is empty.");return!1}}return!0};
d7.prototype.AR=function(){if(this.tA["r"+1037]==null)this.OA(30);return I.a$(this.tA["r"+1037],0)};
d7.prototype.OA=function(J){if(this.tA["r"+1037]==null)this.tA["r"+1037]=new Uint8Array(4);if(I.a$(this.tA["r"+1037],0)==J)return;
I.Wz(this.tA["r"+1037],0,J);this.ahY()};d7.prototype.Ny=function(){if(this.tA["r"+1049]==null)this.vm(30);
return I.a$(this.tA["r"+1049],0)};d7.prototype.vm=function(J){if(this.tA["r"+1049]==null)this.tA["r"+1049]=new Uint8Array(4);
if(I.a$(this.tA["r"+1049],0)==J)return;I.Wz(this.tA["r"+1049],0,J);this.ahY()};d7.prototype.mA=function(J){if(this.add.lnk2==null)return null;
for(var h=0;h<this.add.lnk2.length;h++)if(this.add.lnk2[h].KK==J)return this.add.lnk2[h];return null};
d7.prototype.aaF=function(J){var v=this.mA(J);if(v==null)return!1;var x=d2.e4(v.raw.buffer);if(x==null)return!1;
if(d2.s$(x)!=null||x=="psd")return!0;return!1};d7.prototype.pB=function(J,v,x,o,R,r){var l=this.mA(J);
if(l==null)return null;l.rv(v,x,o,R,r);if(l.Vs)return l};d7.prototype.aAu=function(){var J=this.r,v=this.$,x=this.M7,o=this.depth;
if(gi._E&&x==null)x=this.M7=new gi.GH(J,v,o,!0);if(this.buffer==null||this.buffer.length!=J*v*4||gi._E&&(x.r!=J||x.$!=v||x.depth!=o)){this.buffer=g.C(J*v*4,o);
if(x)x.delete();if(gi._E)x=this.M7=new gi.GH(J,v,o,!0)}};d7.prototype.a8Z=function(){this.aAu();if(gi._E){this.M7.set(this.buffer)}};
d7.prototype.er=function(J){if(du!=0)throw"redrawing in vector mode";var v=this.r,x=this.$,o=new jj(0,0,v,x),R=this.dZ?o:o.Xt(this.P$);
this.aAu();if(R.L3())return;if(!R.Ym(o)){if(!gi._E){var r=g.C(R.o()*4,this.depth);g.sW(r,R,this.buffer,o)}if(gi._E){gi.DM(this.M7,R);
gi.rm(0)}}else{if(gi._E){this.M7.set(null)}else{this.buffer.fill(0)}}var l=Date.now(),M=gi._E?this.M7:this.buffer;
if(J==null)J=1e9;var P=this.root.children;for(var h=0;h<P.length;h++){var S=P[h].w;if(S.jh()&&S.add.artb&&this.add.artd){var c=S.Gf(),b=R.Xt(c),w=S.f1();
if(w!=0){if(gi._E){gi.DM(M,b);gi.rm(w);gi.rm(w)}else g.aA9(M,o,b,w)}}}this.root._c(M,o,R,this,[],J);
this.$g=this.P$.Q()};d7.prototype.qL=function(J){var v=new m;v.S=new jj(0,0,0,0);v.buffer=g.C(0,this.depth);
v.v7("Layer");if(J!=!0)v.add.lyid=this.bm();v.add.lsct=h2.eI;v.add.lclr=0;v.add.fxrp=new aG(0,0);return v};
d7.prototype.V4=function(J){var v=this.qL(J);v.v7("</Layer group>");v.add.lsct=h2.lj;v.eW=24;return v};
d7.prototype.y6=function(){return this.wb!=this.uI};d7.prototype.q$=function(J){while(this.history.length>this.wb+1)this.history.pop();
if(this.uI>this.wb)this.uI=-1;if(J.J.id!=H.Iq){this.cj=!0;if(this.eG.lastAppliedComp){delete this.eG.lastAppliedComp;
this.Se=!0}}this.history.push(J);this.wb++;this.Se=!0;var v=f6.hV()?60:30,x=0;for(var h=this.history.length-1;
h>=0;h--){var o=this.history[h];if(o.ww)continue;x++;if(x==v){this.wb-=h;this.history=this.history.slice(h);
break}}};d7.prototype.Wo=function(){if(this.wb!=this.history.length-1)return null;return this.history[this.history.length-1]};
d7.prototype.yw=function(J,v,x,o){if(J==null)J=!1;var R=v!=null?[v]:this.Y.slice(0);if(o){var r=[];for(var h=0;
h<R.length;h++){var l=this.k[R[h]],M=l.C3;if(l._4&&M!=0&&r.indexOf(M)==-1)r.push(M)}if(r.length!=0)for(var h=0;
h<this.k.length;h++){var l=this.k[h],M=l.C3;if(l._4&&M!=0&&r.indexOf(M)!=-1&&R.indexOf(h)==-1)R.push(h)}}var P=[];
for(var h=0;h<R.length;h++){var S=this.Sw(R[h],J);for(var c=0;c<S.length;c++)if(P.indexOf(S[c])==-1)P.push(S[c]);
if(x){var co=this.root.jJ(R[h]);while(co.parent!=null&&co.parent.parent!=null){co=co.parent;if(P.indexOf(co.index)==-1){P.push(co.index,co.UE)}}}}return P};
d7.prototype.CO=function(J,v,x){var o=this,R=o.yw(!1,J,null,x);R.sort(function(E,K){return E-K});var r={};
for(var l=0;l<o.k.length;l++){var M=o.k[l].getName();r[M]=!0}var P=[];for(var h=0;h<R.length;h++){var S=o.k[R[h]].Q(),A,G;
S.add.lyid=o.bm();S.add.lspf=0;if(S.Ov()){var c=S.V0(o),b=d7.a1K(c);o.Dj(b);S.add.SoLd.placed.v=b.id}else if(S.add.SoLd){var w=S.add.SoLd.placed.v;
S.add.SoLd.placed.v=d7.eO(w.slice(0,8))+w.slice(8)}S.B0(o);var U=S.getName(),F=U.length;while(48<=U.charCodeAt(F-1)&&U.charCodeAt(F-1)<=57)F--;
var Y=parseInt(U.slice(F));if(isNaN(Y)){if(U.endsWith(" copy")){Y=1;A=U.slice(0,U.length-5)}else{Y=0;
A=U}}else if(U.slice(0,F).endsWith(" copy ")){Y=Y;A=U.slice(0,F-6)}else{Y=0;A=U}Y++;while(!0){G=A+" copy"+(Y==1?"":" "+Y);
if(r[G]==null)break;Y++}var n=R.indexOf(this.root.jJ(R[h]).parent.index)!=-1;if(U=="Background"&&o.k.length==1)G="Layer 1";
if(v!=!0&&!n)S.v7(G);r[G]=!0;P.push(S)}return P};d7.a1K=function(J){return{id:d7.eO(J.id.slice(0,8))+J.id.slice(8),buffer:J.buffer.slice(0),S:J.S.Q(),pR:J.pR?J.pR.Q():null}};
d7.a3Z=function(J){return{id:J,S:new jj,buffer:g.C(1),pR:new m.V1}};d7.bl=function(J,v,x){if(x==null)x=[0,0];
if(v==null)v={vmsk:new m.e_};if(v.vogk==null){v.vogk=[];var o=g.I.Eo(v.vmsk.X);for(var R=0;R<o;R++)v.vogk.push(g.Fw.e$())}return{name:J,Vn:0,N_:x,add:v}};
d7.prototype.Ng=function(J){var v=[],x=[],o=this;for(var h=1;h<o.h1.length;h++){var R=o.h1[h];R.Vn=-1-h;
v.push(R);if(o.GP.indexOf(h)!=-1)x.push(v.length-1)}if(o.h1[0].add.vmsk.X.length>2){var R=o.h1[0];R.Vn=-1;
v.push(R);if(o.GP.indexOf(0)!=-1)x.push(v.length-1)}var r=o.TW==null;if(r)o.TW=[];for(var h=o.Y.length-1;
h>=0;h--){var l=o.Y[h],M=o.k[l],P=M.add.TySh;if(M.add.vmsk!=null){var R=d7.bl("\""+M.getName()+"\" Shape Path",M.add);
R.Vn=l;v.push(R);if(r&&(M.CE||M.Id()))o.TW.push(l);if(o.TW.indexOf(l)!=-1)x.push(v.length-1)}if(J!=!0&&P&&P.add&&g.wL.KV(P.Pd)){var R=d7.bl("\""+M.getName().slice(0,10)+"..\" Text Path",P.add);
R.Vn=1e6+o.Y[h];v.push(R);x.push(v.length-1)}}if(x.length==0&&J){o.h1[0].Vn=-1;o.GP=[0];x.push(v.length);
v.push(o.h1[0])}return[v,x]};d7.prototype.Sw=function(h,J){var v=[],co=this.root.jJ(h);if(co)co.pD(v,J);
return v};d7.prototype.wW=function(){this.root.QZ(this,new jj(0,0,this.r,this.$))};d7.prototype.C0=function(J){for(var h=0;
h<this.k.length;h++){var v=this.k[h];if(J.indexOf(v)==-1){v.QF.anL();v.Ai()}}var x=0;for(var h=0;h<J.length;
h++)if(J[h].add.artb)x++;this.Dy(x);this.k=J.slice(0);this.HQ()};d7.prototype.HQ=function(){var J=this.k,v=J.length;
this.root=new db;var x=this.qL(!0);x.gR="pass";x.add.lsct=h2.Uk;x.v7("");var o=this.V4(!0),R=[o];for(var h=0;
h<v;h++)R.push(J[h]);R.push(x);this.root.ay$(R,0,0);if(this.Y.length==0)this.Y=[v-1]};d7.prototype.oc=function(){if(this.Y.length!=1)return;
var J=this.root.jJ(this.Y[0]);while(J.parent!=null){var v=J.parent.w;v.add.lsct=h2.Uk;J=J.parent}this.ms=this.ac9=!0};
d7.prototype.anp=function(){this.HQ();var J=[this.root],fg=0;while(J.length!=0){var top=J.pop();fg++;
if(top.w.add.lsct==h2.Uk)for(var h=0;h<top.children.length;h++)J.push(top.children[h])}if(fg>1e3){var v=this.root.children;
for(var h=0;h<v.length;h++)if(v[h].w.add.lsct==h2.Uk)v[h].w.add.lsct=h2.Le}};d7.$B=function(J,v,x,o,R,r,l,M,P){if(M==null)M="sRGB IEC61966-2.1";
if(P==null)P=8;var S={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:o},artboard:{t:"bool",v:r},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:J*72/x}},Hght:{t:"UntF",v:{type:"#Rlt",val:v*72/x}},Rslt:{t:"UntF",v:{type:"#Rsl",val:x}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:R}},Dpth:{t:"long",v:P},profile:{t:"TEXT",v:M}}}};
if(R=="Clr")S.Nw.v.FlCl={t:"Objc",v:l};return{QI:"make",_g:S}};d7.ot=["sRGB","Adobe RGB","ProPhoto RGB","Display P3"];
d7.fx=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"];d7.Sr=[null,"icc/adobe","icc/prophoto","icc/displayp3"];
d7.aBC=function(J,v){var x=0,o=0,R=72,r=v.aA5,l=J.preset&&J.preset.v=="Clipboard",M=J.Dpth?J.Dpth.v:8;
if(l){x=r.r;o=r.$}else{x=J.Wdth.v.val;o=J.Hght.v.val;R=J.Rslt.v.val;x=Math.round(x*R/72);o=Math.round(o*R/72)}var P=new d7((J.Nm?J.Nm.v:ea.get([11,7]))+".psd");
P.r=x;P.$=o;P.Bt=R;P.depth=M;var S=J.Fl?J.Fl.v.Fl:"Wht";if(J.artboard&&J.artboard.v){var c=P.qL();c.v7(ea.get([1,16,0])+" 1");
c.add.lsct=h2.Uk;c.$V(new jj(0,0,x,o));c.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[S]};
if(S=="Clr")c.add.artb.Clr={t:"Objc",v:g.UH.YK(g.UH.Eb(J.FlCl.v))};c.gR="pass";c.eW=24;var b=P.qL();
b.v7("Layer 1");P.C0([P.V4(),b,c]);P.Dy(1);P.Y=[1]}else if(du==0){var w=P.qL(),U=0;w.v7("Background");
P.C0([w]);w.add.lspf=1<<2;if(S=="Clr")U=g.UH.Eb(J.FlCl.v);else if(S!="Trns"){var F=v.Vb;U={Wht:{z:255,H:255,c:255},Blck:{z:0,H:0,c:0},BckC:{z:F>>>16,H:F>>>8&255,c:F&255}}[S]}if(U){w.S=new jj(0,0,x,o);
w.buffer=g.C(x*o*4,M);iD.gw(w.buffer,g.UH.YK(U))}}if(du==0)P.buffer=g.C(x*o*4,M);var Y=J.profile;if(Y){var A=d7.Sr[d7.fx.indexOf(Y.v)];
if(A)P.G$(d2.he.get(A))}return P};d7.prototype.a26=function(){var J=this,v=J.add.arts=[],x=!0;J.add.prvw=1;
J.HQ();var o=J.root.children;for(var h=0;h<o.length;h++)if(!o[h].w.tX())x=!1;if(!x||J.k.length==0){J.k.unshift(J.V4());
var R=J.qL();R.v7("Layer 1");R.add.lsct=h2.Uk;R.gR="pass";R.eW=24;J.k.push(R);for(var h=0;h<J.Y.length;
h++)J.Y[h]++;J.wj=!0}if(J.add.artd){delete J.add.artd;var r=[];for(var h=0;h<J.k.length;h++){var R=J.k[h],l=R.add.artb;
if(l==null)continue;var M=R.Gf();delete R.add.artb;v.push({ox:R.getName(),ZW:[M.x,M.y,M.x+M.r,M.y+M.$],Y:!1});
var P=l.artboardBackgroundType.v;if(P!=1&&P!=3){var S=J.root.jJ(h).vu;r.push([S,P,M,g.UH.Eb(l.Clr.v)])}}for(var h=0;
h<r.length;h++){var S=r[h][0],P=r[h][1],M=r[h][2],c=r[h][3],R=J.qL();R.v7("Background");R.add.vmsk=new m.e_;
R.add.vmsk.X=g.I.yu.Rect(M.x,M.y,M.r,M.$);R.add.vstk=gD.gB.ow(!0);R.add.vstl=gD.Ok.ow();R.add.vstl.sN=[null,[1,1,1],[0,0,0],[],[c.z/255,c.H/255,c.c/255],[1,1,1]][P];
R.Tr();J.k.splice(J.k.indexOf(S)+1,0,R);J.HQ()}console.log(r)}else v.push({ox:"Artboard",ZW:[0,0,J.r,J.$],Y:!1});
if(J.name.endsWith(".psd"))J.name=J.name.slice(0,-4)+".ai";if(J.buffer)J.buffer=null;for(var h=0;h<J.k.length;
h++){var R=J.k[h],M=R.S;if(R.tX()&&R.add.vmsk){var b=J.qL();J.k.splice(h,0,b);b.v7("<Clipping Path>");
b.pT=!0;b.add.vogk=R.add.vogk;delete R.add.vogk;b.add.vmsk=R.add.vmsk;delete R.add.vmsk;b.add.vstk=gD.gB.ow();
b.add.SoCo=JSON.parse(gD.Sy[gD.order.indexOf("SoFi")]);b.add.vstl={};console.log("mask here!")}else if(R.add.SoLd&&R.add.vmsk){delete R.add.vmsk}else if(R.Id()&&R.add.vstl==null){if(R.add.vmsk==null){R.add.vmsk=new m.e_;
R.add.vmsk.X=g.I.yu.Rect(0,0,J.r,J.$);R.add.vstk=gD.gB.ow(!0);R.Tr()}var w=R.add.vstl=d7.RF(R.add)}delete R.add.lmfx;
if(R.add.SoLd||R.add.TySh||R.add.vmsk||M.L3())continue;var U=M.r,F=M.$,Y=g.QX(R.buffer,U,F)?"JPG":"PNG";
if(U*F<700*700)Y="PNG";var A=d2.s$(Y).lS([[R.buffer.buffer]],U,F),G=J.k[h]=J.P2(new Uint8Array(A),R.getName(),M.x,M.y);
G.G0(R.jh())}};d7.RF=function(J,v){var x=J.vstk,P=null,S=null;if(x==null)x=gD.gB.ow(!0);var o=gD.gB.Fy(x),R=gD.qx(J),r=gD.mh(x);
function l(P){var Y=g.UH.Eb(P.Clr.v);return[Y.z/255,Y.H/255,Y.c/255]}var M=J.lmfx;if(M)P=M.solidFillMulti.v[0];
if(P)P=P.v;if(P&&(!P.enab.v||P.Opct.v.val<50))P=null;if(M)S=M.frameFXMulti.v[0];if(S)S=S.v;if(S&&(!S.enab.v||S.Opct.v.val<50))S=null;
var c=J.vmsk,b=c?c.X:g.I.yu.Rect(0,0,v.r,v.$);for(var w=0;w<2;w++){var U=w==0?R:r,F=[];if(U.It==1)F=fv.HU(U.BD.Clr.v);
if(U.It==2){F=J[w==0?"_fstl":"_sstl"];if(F==null||du==0)F=gd.bI(U.BD,b,v)}if(w==0&&P)F=l(P);if(w==1&&S){F=l(S);
o.fk=S.Sz.v.val;o.Bf=gD.stroke.types.indexOf(S.Styl.v.FStl);o.$h=1}if(w==0)o.sN=F;else o.T0=F}return o};
function a_(J){this.qE=J;this.NT=0;this.zg=1;this.V=new aG(0,0);this.Xp=new aG(0,0);this.U1=0;this.xY=[1,1,1];
this.yS=0;this.SU=new jj(0,0,1,1);this.a9b=new jj(0,0,J.r,J.$);this.bh=null;this.Iz=null;this.Rp=null;
this.wX=null;this.Ek=null;this.p$=null}a_.prototype.f6=function(){var J=this,v=J.SU.o();if(J.Ek==null||J.Ek.length!=v*4){J.wX=g.C(v);
J.Ek=g.C(v*4)}};a_.prototype.Vu=function(J){var v=new bC,x=this.SU,o=this.qE,R=J?this.zg:this.NT,r=J?this.Xp:this.V,l=Math.round((x.r-o.r*R)/2+r.x),M=Math.round((x.$-o.$*R)/2+r.y);
v.translate(-l,-M);v.scale(1/R,1/R);var P=o.r/2,S=o.$/2;v.translate(-P,-S);v.rotate(this.U1);v.translate(P,S);
return v};a_.prototype.aa8=function(J){var v=this.SU,x=this.qE,o=Math.atan2(-J.c,J.o5),R=x.r/2,r=x.$/2;
J.translate(-R,-r);J.rotate(-o);J.translate(R,r);var l=1/J.Nf();J.scale(l,l);var M=-J.zP,P=-J.jD,S=Math.round(M-(v.r-x.r*l)/2),c=Math.round(P-(v.$-x.$*l)/2);
if(Math.abs(l-Math.round(l))<1e-6)l=Math.round(l);this.U1=o;this.NT=l;this.V=new aG(S,c)};a_.prototype.hW=function(J,v,x){var o=this.Vu(),R=o.Xw(new aG(J,v));
if(x){R.x=Math.round(R.x);R.y=Math.round(R.y)}return R};a_.prototype.Lp=function(J,v){var x=this.Vu();
x.SV();return x.Xw(new aG(J,v))};function gD(){}gD.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
gD.Lw="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
gD.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];gD.aBV=["DrSh","IrSh","SoFi","GrFl","FrFX"];
gD.AG=["Clr"];gD.Zy="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");gD.eH=["Ptrn","Angl","Scl","Algn","phase"];
gD.Zg={uz:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",apM:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",awV:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",ag8:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",MF:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
gD.Zg.uz="\"Clr\": "+gD.Zg.uz;gD.Zg.UH="\"Grad\":"+gD.Zg.apM+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
gD.Zg.MF="\"Ptrn\":"+gD.Zg.MF+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
gD.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
gD.Sy=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+gD.Zg.uz+","+gD.Zg.UH+","+gD.Zg.MF+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gD.Zg.uz+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gD.Zg.UH+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+gD.Zg.MF+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"LineÃ¡rnÃ­\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
gD.UH={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
gD.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],HF:["SClr","GrFl","Ptrn"],ahW:[[13,0],[12,37],[12,62]]};
gD.sT={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],acS:["SrcC","SrcE"],ad6:[[19,5,1],[12,69]]};gD._S={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],ar5:["SfBL","PrBL","Slmt"],ae4:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
gD.gB={Ee:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],r8:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],dP:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+gD.Zg.uz+"}")},strokeStyleResolution:{t:"doub",v:72}},ow:function(J,v){var x=JSON.parse(gD.gB.asm);
if(J)x.fillEnabled.v=!0;if(v)x.strokeEnabled.v=!0;return x},Fy:function(J,v,x){if(v==null)v={};if(x==null)x=1;
var o=J.strokeStyleLineDashSet.v,R=v.fk=J.strokeStyleLineWidth.v.val*x;v.M0=J.strokeStyleMiterLimit.v;
v.v4=J.strokeStyleLineDashOffset.v.val;v.$h=gD.gB.join.indexOf(J.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
v.yd=gD.gB.Ee.indexOf(J.strokeStyleLineCapType.v.strokeStyleLineCapType);v.Bf=gD.gB.r8.indexOf(J.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
v.Wy=[];for(var h=0;h<o.length;h++)v.Wy.push(o[h].v.val*R);if(v.Wy.length==1&&v.Wy[0]==0)v.Wy=[];return v},write:function(J,v,x){if(x==null)x=1;
var o=v.fk,R=v.M0,r=v.Wy,l=v.v4,M=v.$h,P=v.yd,S=v.Bf;if(o!=null)o=J.strokeStyleLineWidth.v.val=Math.max(.4,o*x);
else o=J.strokeStyleLineWidth.v.val;if(S!=null)J.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gD.gB.r8[S];
if(R!=null)J.strokeStyleMiterLimit.v=R;if(r!=null)J.strokeStyleLineDashSet.v=iD.l_(r,x/o);if(l!=null)J.strokeStyleLineDashOffset.v.val=l;
if(M!=null)J.strokeStyleLineJoinType.v.strokeStyleLineJoinType=gD.gB.join[M];if(P!=null)J.strokeStyleLineCapType.v.strokeStyleLineCapType=gD.gB.Ee[P]}};
gD.gB.asm=JSON.stringify(gD.gB.default);gD.Ok={ow:function(){return{sN:[1,1,1],T0:[0,0,0],fk:1,M0:10,Wy:[],v4:0,$h:0,yd:0,Bf:1}},aE4:function(J){var v=bI.Eb(J.StrokeColor),x=gD.Ok.ow();
x.Bf=J.FillFirst?1:2;var o=J._LineCap,R=J._LineJoin,r=J._MiterLimit,l=J._LineDashOffset,M=J._LineDashArray,P=J.OutlineWidth;
if(o)x.yd=o;if(R)x.$h=R;if(r)x.M0=r;if(M)x.Wy=M;if(P!=null)x.fk=P;x.T0=[v.z/255,v.H/255,v.c/255];return x},agt:function(J,v){v.FillFirst=J.Bf==1;
v._LineCap=J.yd;v._LineJoin=J.$h;v._MiterLimit=J.M0;v._LineDashArray=J.Wy}};gD.mh=function(J){var v=J.strokeEnabled.v,x=J.strokeStyleContent.v;
return v?{It:1+gD.gB.dP.indexOf(x.classID),BD:x}:{It:0}};gD.iJ=function(J,v){var x=v.It;J.strokeEnabled.v=x!=0;
if(x!=0){J.strokeStyleContent.v=v.BD;v.BD.classID=gD.gB.dP[x-1]}};gD.qx=function(J){var v=J.vstk,x=null;
if(v&&!v.fillEnabled.v)x={It:0};else if(J.SoCo)x={It:1,BD:J.SoCo};else if(J.GdFl)x={It:2,BD:J.GdFl};
else if(J.PtFl)x={It:3,BD:J.PtFl};return x};gD.S6=function(J,v){var x=J.vmsk,o=J.vstk,R=v.It;if(o)o.fillEnabled.v=R!=0;
if(R>0){var r=["SoCo","GdFl","PtFl"][R-1];for(var h=0;h<3;h++)delete J[["SoCo","GdFl","PtFl"][h]];J[r]=v.BD}};
gD.iS=[{classID:"null",Clr:JSON.parse(gD.Sy[5]).Clr},{classID:"null",Grad:JSON.parse(gD.Sy[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(gD.Sy[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var iD={};iD.anB=function(J,v){function x(J,w){if(J==null||!J.masterFXSwitch.v)return null;var U=J[w].v,F;
if(U.length!=0){F=U[0].v;if(!F.enab.v)F=null}return F}var o=v.SoCo,R=v.GdFl,r=x(J,"solidFillMulti"),l=x(J,"gradientFillMulti");
if(r==null&&l==null)return[o,R];var M=iD.awy;if(o&&r&&l==null){var P=g.F(o);P.Clr.v=M(r.Clr.v,o.Clr.v,r);
return[P,null]}if(R&&r&&l==null){var S=g.F(R),c=S.Grad.v.Clrs.v;for(var h=0;h<c.length;h++){var b=c[h].v.Clr;
b.v=M(r.Clr.v,b.v,r)}return[null,S]}if(o&&l){var S=g.F(l),c=S.Grad.v.Clrs.v;for(var h=0;h<c.length;h++){var b=c[h].v.Clr;
b.v=M(b.v,o.Clr.v,l)}return[null,S]}return[r,l]};iD.iK={uy:g.C(4),YG:g.C(4),z:new jj(0,0,1,1)};iD.awy=function(J,v,x){var o=gX.kF(x.Md.v.BlnM),R=x.Opct.v.val/100,r=iD.iK;
J=g.UH.Eb(J);v=g.UH.Eb(v);r.uy[0]=J.z;r.uy[1]=J.H;r.uy[2]=J.c;r.uy[3]=255;r.YG[0]=v.z;r.YG[1]=v.H;r.YG[2]=v.c;
r.YG[3]=255;g.v.Ry(o,r.uy,r.z,r.YG,r.z,r.z,R);return{classID:"RGBC",Rd:{t:"doub",v:r.YG[0]},Grn:{t:"doub",v:r.YG[1]},Bl:{t:"doub",v:r.YG[2]}}};
iD.ayP=function(J,v,x){var o=J;J=J.slice(0);var R=gX.qI[gX.EZ.indexOf(v.Md.v.BlnM)],r=g.UH.Eb(v.Clr.v),l=4278190080|Math.round(r.c)<<16|Math.round(r.H)<<8|Math.round(r.z),M=g.C(x.o()*4);
g.SX(M,l);g.v.Ry(R,M,x,J,x,x,v.Opct.v.val/100);for(var h=0;h<J.length;h+=4)J[h+3]=o[h+3];return J};iD.Cz=function(J,v){var x=["Sz","blur","Sftn","Dstn"];
for(var h=0;h<gD.order.length;h++){var o=gD.order[h],R=J[gD.Lw[h]].v;for(var r=0;r<R.length;r++){var l=R[r].v;
for(var M=0;M<x.length;M++){var P=l[x[M]];if(P){var S=P.v.val,c=S;c=Math.max(S==0?0:1,c*v);if(o=="ChFX")c=Math.min(c,250);
if(o=="ebbl"){if(x[M]=="blur")c=Math.min(c,250);if(x[M]=="Sftn")c=Math.min(c,16)}P.v.val=Math.round(c)}}if(o=="ebbl"||o=="patternFill"||o=="FrFX")if(l.Ptrn&&l.Scl)l.Scl.v.val=Math.max(1,Math.min(1e3,l.Scl.v.val*v))}}};
iD.aDD=function(J,v,x){var o=new jj(-.5,-.5,1,1);for(var h=0;h<gD.order.length;h++){var R=gD.order[h],r=J[gD.Lw[h]].v;
for(var l=0;l<r.length;l++){var M=r[l].v,b;if(!M.enab.v)continue;var P=M.blur?M.blur.v.val+1:0,S=M.Ckmt?M.Ckmt.v.val/100:0,c=Math.round(P*S);
if(R=="DrSh"||R=="IrSh"&&x){b=new jj(-.5,-.5,1,1);b.rz(P,P);iD.Vk(b,M,v,0)}if(R=="St3D"){b=new jj(-.5,-.5,1,1);
iD.Vk(b,M,v,Math.PI,"Angl")}if(R=="OrGl"||R=="IrGl"&&x){b=new jj(-.5,-.5,1,1);b.rz(P,P)}if(R=="FrFX"){var w=iD.De(M),U=w[1];
if(x)U=Math.max(w[0],U);b=new jj(-.5,-.5,1,1);b.rz(Math.ceil(U),Math.ceil(U))}if(R=="ebbl"){var P=M.blur.v.val,F=M.bvlS.v.BESl;
if(F=="Embs"||F=="PlEb")P/=2;var Y=["OtrB","InrB","Embs","PlEb","strokeEmboss"],A=["SfBL","PrBL","Slmt"],G=["In","Out"],n=M.bvlT.v.bvlT!="SfBL"?P:P*.43,E=Math.round(P);
b=new jj(-E-1,-E-1,2*E+2,2*E+2)}if(x&&R=="ChFX"){b=new jj(-.5,-.5,1,1);b.rz(P,P);var K=b.Q();iD.Vk(b,M,v,0);
iD.Vk(K,M,v,Math.PI);b=b.h0(K)}if(b)o=o.h0(b)}}if(o.x!=Math.ceil(o.x)){o.x=Math.ceil(o.x);o.r-=1}if(o.y!=Math.ceil(o.y)){o.y=Math.ceil(o.y);
o.$-=1}o.r=Math.floor(o.r);o.$=Math.floor(o.$);return o};iD.De=function(J){var v,x,o=0,R=0;if(J.Sz){v=J.Sz.v.val;
x=gD.stroke.types.indexOf(J.Styl.v.FStl)}else{v=J.Wdth.v;x=["Insd","Cntr","Otsd"].indexOf(J.Lctn.v.StrL)}if(x==0)o=v;
if(x==1)o=R=v/2;if(x==2)R=v;return[o,R]};iD.anH=function(J,v){if(gi._E&&J.nz==null){J.nz=new gi.GH(J.pb.r,J.pb.$,v);
J.nz.set(J.r3);delete J.r3;if(J.Dh){J.Yb=new gi.SD(J.pb.r,J.pb.$,v);J.Yb.set(J.Dh);delete J.Dh}if(J.$W){J.hU=new gi.SD(J.pb.r,J.pb.$,v);
J.hU.set(J.$W);delete J.$W}}};iD.apo=function(J){if(J.nz)J.nz.delete();if(J.Yb)J.Yb.delete();if(J.hU)J.hU.delete()};
iD.a7t=function(J){if(J.all==null)return;for(var h=0;h<J.all.length;h++){iD.apo(J.all[h])}};iD.ah1=function(J,v,x,o,R,r){J=g.N2(J,8);
var l=iD.ap(x,o,J,v,R,r),M=R.depth;for(var h=0;h<l.all.length;h++){var P=l.all[h];P.r3=g.N2(P.r3,M);
if(P.Dh)P.Dh=g.N2(P.Dh,M);if(P.$W)P.$W=g.N2(P.$W,M);iD.anH(P,M)}return l};iD.acb=function(J){for(var h=0;
h<gD.order.length;h++){var v=gD.order[h],x=gD.Lw[h],o=J[x].v;for(var R=0;R<o.length;R++){var r=o[R].v;
if(r.enab.v&&["patternFill","GrFl","SoFi"].indexOf(v)==-1)return!0}}return!1};iD.ap=function(J,v,x,o,R,r){if(r==null)r=o;
var l=0,M=0;for(var h=0;h<gD.order.length;h++){var P=gD.order[h],S=gD.Lw[h],c=J[S].v;for(var b=0;b<c.length;
b++){var w=c[b].v;if(P=="DrSh"&&w.enab.v&&w.Ckmt.v.val>0&&w.blur.v.val>0)l=Math.max(l,Math.ceil(w.Ckmt.v.val*w.blur.v.val/100));
if(P=="OrGl"&&w.enab.v&&w.Ckmt.v.val>0&&w.blur.v.val>0&&w.GlwT.v.BETE=="SfBL")l=Math.max(l,Math.ceil(w.Ckmt.v.val*w.blur.v.val/100));
if(P=="OrGl"&&w.enab.v&&w.blur.v.val>0&&w.GlwT.v.BETE=="PrBL")l=Math.max(l,w.blur.v.val);if(P=="FrFX"&&w.enab.v&&w.Sz.v.val>0){if(w.Styl.v.FStl=="OutF")l=Math.max(l,w.Sz.v.val);
if(w.Styl.v.FStl=="CtrF")l=Math.max(l,Math.ceil(w.Sz.v.val/2));M=Math.max(M,iD.De(w)[1])}}}var U=new iD.Yy(x,o,l,iD.acb(J)),F=-o.x,Y=-o.y,A={e:{},all:[]};
for(var G=0;G<gD.order.length;G++){var P=gD.order[G],S=gD.Lw[G];A.e[P]=[];for(var n=J[S].v.length-1;
n>=0;n--){var E=J[S].v[n].v,N;if(!E.enab.v)continue;var K=E.blur?E.blur.v.val:0,e=E.Ckmt?E.Ckmt.v.val/100:0,$=K*e;
if(P=="St3D"){var k=Math.max(1e-4,1-E.Srnk.v.val/100),a=2,et=0;function V(X,g2,E){var bW=E.Angl.v.val;
bW*=Math.PI/180;var p=E.Dstn.v.val,dX=Math.cos(bW)*p,ao=-Math.sin(bW)*p,fq=k+g2*(1-k),fD=new bC;fD.translate(-X.r/2,-X.$/2);
fD.scale(fq,fq);fD.translate(X.r/2,X.$/2);fD.translate((1-g2)*dX,(1-g2)*ao);return fD}var X=o.Q(),Q=x;
X.x=X.y=0;var L=Date.now(),_=X.Q();_.rz(a,a);var T=g.C(_.o());g.Cc(Q,X,T,_);_.x=_.y=0;g.Wh.MM(T,_,2);
var f=g.C(_.o()*4);f.fill(255);g.QR(T,f);var Z=g.C(X.o()),W=X.r,D=X.$,C=_.r,d=iD.aHL(E,R),p=Math.cos(d[1]),y=-Math.cos(d[0])*p,i=Math.sin(d[0])*p;
if(Math.abs(y)<.001&&Math.abs(i)<.001)y=i=0;for(var t=0;t<D;t++)for(var O=0;O<W;O++){var h=(t+a)*C+O+a,q=T[h+1]-T[h-1],z=T[h+C]-T[h-C],jw=q*q+z*z;
if(jw>10){var u=1/Math.sqrt(jw);Z[t*W+O]=Math.max(0,Math.min(255,128+127*(y*u*q+i*u*z)))}}var iH=[Q,X],s=V(X,0,E),bV=g.b.ho(X).T,jU=bV.slice(0);
g.b.u(bV,s,jU);var hx=X.h0(g.b.jR(jU)),eX=g.C(hx.o()*4);for(var h=0;h<8;h+=2){var q=bV[h]-jU[h],z=bV[h+1]-jU[h+1];
et=Math.max(et,Math.sqrt(q*q+z*z))}var f7=Math.round(et/2),iY=g.UH.Eb(E.Clr.v);iY.z/=255;iY.H/=255;iY.c/=255;
var cd=E.Drkn.v.val/100;for(var jV=0;jV<f7;jV++){var g2=jV/f7,gV=1-cd+g2*cd,fD=V(X,g2,E),j4=X.Q(),dQ=Q;
if(k!=1){var eO=H.ge.qS(iH,fD);j4=eO.S;dQ=eO.N}else{var a7=fD.Xw(new aG(0,0));j4.x+=Math.round(a7.x);
j4.y+=Math.round(a7.y)}var cc=g.C(j4.o()*4);if(y!=0||i!=0){var ad=j4.r,jC=j4.$,iJ=iY.z,kJ=iY.H,jr=iY.c,fY=fD.Q();
fY.SV();var iR=fY.Xw(new aG(.5,.5)),g6=fY.Xw(new aG(1.5,1.5)),q=g6.x-iR.x,z=g6.y-iR.y;for(var t=0;t<jC;
t++){for(var O=0;O<ad;O++){var h=t*ad+O,ay=h*4,cQ=Math.max(0,Math.min(W-1,~~(.5+q*O))),aC=Math.max(0,Math.min(D-1,~~(.5+z*t))),dI=Z[aC*W+cQ],fm=-1+2*dI*(1/255),hd=-fm,ku=0;
if(fm>0){hd=0;ku=fm}cc[ay]=255*(1-hd)*(ku+(1-ku)*iJ)*gV;cc[ay+1]=255*(1-hd)*(ku+(1-ku)*kJ)*gV;cc[ay+2]=255*(1-hd)*(ku+(1-ku)*jr)*gV}}}else iD.gw(cc,E.Clr.v,gV);
g.Os(dQ,cc,3);g.v.Ry("norm",cc,j4,eX,hx,j4,1)}N={r3:eX,pb:hx}}else if(P=="DrSh"){var cp=U.kz($,K-$,!0),hp=cp.WK,gA=cp.Yf.Q();
iD.Fj(hp,E,!1);if(E.Cntn&&E.Cntn.v){var jN=new jj;iD.Vk(jN,E,R,0);var d4=gA.Q();d4.offset(-jN.x,-jN.y);
d4=d4.h0(gA);var ey=g.C(d4.o());g.Cc(hp,gA,ey,d4);var jG=Math.sqrt(jN.x*jN.x+jN.y*jN.y),cF=hp.slice(0);
for(var h=0;h<jG-1;h++){var q=Math.round(-jN.x*h/jG),z=Math.round(-jN.y*h/jG),f5=cp.Yf.Q();f5.offset(q,z);
g.ac0(cF,f5,ey,d4)}hp=ey;gA=d4}gA.offset(F,Y);iD.Vk(gA,E,R,0);var eX=g.C(gA.o()*4);iD.gw(eX,E.Clr.v);
g.Os(hp,eX,3);N={r3:eX,pb:gA,ax3:E.layerConceals.v}}else if(P=="IrSh"){var cp=U.kz($,K-$,!1);iD.Vk(cp.Yf,E,R,0);
var gA=U.S().Q(),hp=g.C(gA.o());hp.fill(255);g.Cc(cp.WK,cp.Yf,hp,gA);iD.Fj(hp,E,!0,!0);var eX=g.C(gA.o()*4);
iD.gw(eX,E.Clr.v);g.Os(hp,eX,3);gA.offset(F,Y);N={r3:eX,pb:gA}}else if(P=="GrFl"){var eX=g.C(U.S().o()*4);
iD.po(E,eX,U.S(),R,null,r);var gA=U.S().Q();gA.offset(F,Y);N={r3:eX,pb:gA}}else if(P=="SoFi"){var eX=g.C(U.WK().length*4);
iD.gw(eX,E.Clr.v);var gA=U.S().Q();gA.offset(F,Y);N={r3:eX,pb:gA}}else if(P=="ebbl"){var jW=!1;if(jW)console.log(E);
var L=Date.now(),f$=L,bh=E.bvlS.v.BESl,ii=E.bvlT.v.bvlT;if(bh=="strokeEmboss"){var dM=J.frameFXMulti.v;
if(dM.length==0)continue;dM=dM[0].v;if(!dM.enab.v)continue;var b7=dM.Styl.v.FStl;if(b7=="OutF")bh="OtrB";
if(b7=="CtrF")bh="Embs";if(b7=="InsF")bh="InrB"}var K=E.blur.v.val;if(K==0)K=.7;if(bh=="Embs"||bh=="PlEb")K/=2;
var bz=["OtrB","InrB","Embs","PlEb","strokeEmboss"],cZ=["SfBL","PrBL","Slmt"],e4=["In","Out"],fI=ii!="SfBL"?K:K*.45,aI=Math.round(K),iV=U.S().Q(),k6=iV.Q();
k6.rz(aI,aI);var W=k6.r,D=k6.$,bq=W*D,cq=g.C(bq);g.Cc(U.WK(),iV,cq,k6);var ib=g.style.Fa(cq,W,D);g.SV(cq);
var jD=g.style.Fa(cq,W,D);if(jW)console.log("distTransform computed",Date.now()-L);L=Date.now();iD.a7o(fI,ib,jD);
if(jW)console.log("summing + cropping",Date.now()-L);L=Date.now();if(ii=="SfBL"){var eL=Math.pow(K*.21,1.22);
if(!0)eL=Math.max(eL,2);g.Wh.MM(jD,k6,eL,2)}if(jW)console.log("blurring",Date.now()-L);L=Date.now();
var hK=jD,fU=ib;fU.set(hK);if(E.useShape.v){var ju=Math.min(100,E.Inpr.v.val+1)/100;if(bh!="OtrB"&&bh!="InrB")ju=1;
var aF=g.O2.vb(E.MpgS.v.Crv.v,2e3),e6=Math.round(2e3/ju);aF=g.O2.asr(aF,e6,bh=="InrB");var hB=.5/fI;
for(var h=0;h<bq;h++){var h0=hK[h],aD=.99999*(h0+fI)*hB;hK[h]=-fI+2*fI*aF[~~(aD*(e6-1))]}if(jW)console.log("applying shape",Date.now()-L);
L=Date.now()}if(E.useTexture.v){var cc=g.C(W*D*4);iD.uY(E,cc,k6,R.add.Patt,v);var hy=g.C(W*D);g.dF(cc,hy);
g.Wh.Go(hy,k6,1);var kD=K*E.textureDepth.v.val*(1/100)*(1/255);if(E.InvT.v)kD=-kD;for(var h=0;h<bq;h++)hK[h]+=-kD*hy[h];
if(jW)console.log("applying texture",Date.now()-L);L=Date.now()}var en=bh=="PlEb",jp=new Float32Array(bq),ij=jp;
if(en){ij=new Float32Array(bq)}var dD=iD.agq(W,D,E,R,hK,jp,ij,en);if(jW)console.log("raycasting",Date.now()-L);
L=Date.now();if(E.Sftn.v.val!=0){g.Wh.MM(jp,k6,E.Sftn.v.val*.43,2);if(en)g.Wh.MM(ij,k6,E.Sftn.v.val*.43,2)}if(jW)console.log("softening",Date.now()-L);
L=Date.now();var am=new Uint8Array(jp.buffer),bE=new Uint32Array(am.buffer),as=new Uint8Array(hK.buffer),gs=new Uint32Array(as.buffer),c8=am,iv=as,bB=bE,fs=gs;
if(en){c8=new Uint8Array(ij.buffer);bB=new Uint32Array(c8.buffer);iv=new Uint8Array(fU.buffer);fs=new Uint32Array(iv.buffer)}iD.aze(E,W,D,dD,fI,en,fU,bE,gs,bB,fs,jp,ij);
if(jW)console.log("baking textures",Date.now()-L);L=Date.now();k6=U.S().Q();k6.rz(aI,aI);k6.offset(F,Y);
N={afK:E.bvlS.v.BESl=="strokeEmboss"};var gm=gX.kF(E.hglM.v.BlnM),jt=E.hglO.v.val/100,hg=gX.kF(E.sdwM.v.BlnM),eI=E.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(bh)!=-1){N.mM={r3:am,pb:k6,Sx:gm,gv:jt};N.gt={r3:as,pb:k6,Sx:hg,gv:eI}}if(["OtrB","Embs","PlEb"].indexOf(bh)!=-1){N.gQ={r3:c8,pb:k6,Sx:gm,gv:jt};
N.bK={r3:iv,pb:k6,Sx:hg,gv:eI}}if(jW)console.log(Date.now()-f$)}else if(P=="patternFill"){var e0=U.S(),eX=g.C(e0.o()*4);
iD.uY(E,eX,e0,R.add.Patt,v);var gA=e0.Q();gA.offset(F,Y);N={r3:eX,pb:gA}}else if(P=="ChFX"){var eX=g.C(U.WK().length*4);
iD.gw(eX,E.Clr.v);var K=E.blur.v.val,f2=U.S().Q();f2.rz(K,K);var bM=g.C(f2.o());g.Cc(U.WK(),U.S(),bM,f2);
g.Wh.MM(bM,f2,K*.43);var ge=g.O2.x6(E.MpgS.v.Crv.v,256,!0);g.a3t(bM,ge);var ed=g.C(U.WK().length),fi=g.C(U.WK().length),d3=U.S().Q();
iD.Vk(d3,E,R,0);g.Cc(bM,f2,ed,d3);d3=U.S().Q();iD.Vk(d3,E,R,Math.PI);g.Cc(bM,f2,fi,d3);var bi=ed.length;
for(var h=0;h<bi;h++)eX[4*h+3]=Math.abs(ed[h]-fi[h]);if(E.Invr.v)for(var h=0;h<bi;h++)eX[4*h+3]=255-eX[4*h+3];
var gA=U.S().Q();gA.offset(F,Y);N={r3:eX,pb:gA}}else if(P=="OrGl"){var cp;if(E.GlwT.v.BETE=="SfBL")cp=U.kz($,K-$,!0);
else cp=U.a66(K,e,!0);var hp=cp.WK,gA=cp.Yf,iQ=hp.slice(0);iD.aku(hp,E);var eX=g.C(gA.o()*4);if(E.Grad==null){iD.gw(eX,E.Clr.v);
iD.Fj(hp,E,!1)}else{iD.Fj(hp,E,null);var k_={RP:hp,_r:255,j8:0,ti:gA};iD.po(E,eX,gA,R,k_);var dY=E.Nose.v.val/100,fb=gA.r;
for(var h=0;h<iQ.length;h++){var jk=255,hu=iQ[h];if(hu<32){var he=(hu+iQ[h-1]+iQ[h+1]+iQ[h-fb]+iQ[h+fb])*.2-1;
jk=Math.min(255,Math.round(Math.max(0,he)*8))}hp[h]=jk}iD.a97(hp,E)}g.Os(hp,eX,3);gA.offset(F,Y);N={r3:eX,pb:gA}}else if(P=="IrGl"){var cp;
if(E.GlwT.v.BETE=="SfBL")cp=U.kz($,K-$,!1);else cp=U.a66(K,e,!1);var hp=cp.WK,gA=cp.Yf;iD.aku(hp,E);
if(E.glwS.v.IGSr=="SrcC")g.SV(hp);var eX=g.C(gA.o()*4);if(E.Grad==null){iD.gw(eX,E.Clr.v);iD.Fj(hp,E,!0)}else{iD.Fj(hp,E,null);
var k_={RP:hp,_r:255,j8:0,ti:gA};iD.po(E,eX,gA,R,k_);hp.fill(255);iD.a97(hp,E)}g.Os(hp,eX,3);gA.offset(F,Y);
N={r3:eX,pb:gA}}else if(P=="FrFX"){var fZ=iD.De(E),gb=fZ[0],aR=fZ[1],gA=U.S().Q(),fx=null,f3=null;gA.rz(Math.ceil(M),Math.ceil(M));
if(aR>0){var cp=U.kz(aR,0,!0);f3=cp.WK;if(f3.length<gA.o()){f3=g.C(gA.o());g.Cc(cp.WK,cp.Yf,f3,gA)}}if(gb>0){var cp=U.kz(gb,0,!1);
fx=g.C(gA.o());fx.fill(255);g.Cc(cp.WK,cp.Yf,fx,gA)}gA.offset(F,Y);var eX=g.C(gA.o()*4),dR=E.PntT.v.FrFl;
if(dR=="SClr")iD.gw(eX,E.Clr.v);if(dR=="GrFl")iD.po(E,eX,gA,R,U.a4A(gb,aR));if(dR=="Ptrn")iD.uY(E,eX,gA,R.add.Patt,v);
var gM=E.overprint,iS=gM?gM.v:!1;if(iS){var iT=fx?fx:f3;if(fx&&f3)g.tp.Xt(fx,f3,iT);g.Os(iT,eX,3)}N={r3:eX,pb:gA,$W:f3,Dh:fx,a0R:iS}}A.e[P].push(N);
if(P=="ebbl"){if(N.mM)A.all.push(N.mM,N.gt);if(N.gQ)A.all.push(N.gQ,N.bK)}else{N.Sx=gX.kF(E.Md.v.BlnM);
N.gv=E.Opct.v.val/100,A.all.push(N)}}}return A};iD.PX=function(J){var v=1/Math.sqrt(J.x*J.x+J.y*J.y+J.ZM*J.ZM);
J.x*=v;J.y*=v;J.ZM*=v};iD.akV=function(J,v){return{x:J.y*v.ZM-J.ZM*v.y,y:J.ZM*v.x-J.x*v.ZM,ZM:J.x*v.y-J.y*v.x}};
iD.adG=function(J,v){return J.x*v.x+J.y*v.y+J.ZM*v.ZM};iD.a97=function(J,v){var x=v.Nose.v.val/100;if(x>0)for(var h=0;
h<J.length;h++){var o=J[h];o=Math.min(510-(1+x)*g.style.S_(h),o);J[h]=o}};iD.a7o=function(J,v,x){var o=v.length;
for(var h=0;h<o;h++){var R=x[h]-v[h];x[h]=R}for(var h=0;h<o;h++){var R=x[h];if(R<-J)x[h]=-J;else if(R>J)x[h]=J}};
iD.agq=function(J,v,x,o,R,r,l,M){var P=iD.aHL(x,o),S=P[0],c=P[1],b=Math.cos(S)*Math.cos(c),w=-Math.sin(S)*Math.cos(c),U=Math.sin(c);
r.fill(U);if(M)l.fill(U);var F=(x.bvlT.v.bvlT=="SfBL"?1:.5)*(x.bvlD.v.BESs=="In"?1:-1)*x.srgR.v.val/100,Y=-.125*F;
for(var A=0;A<v;A++){var G=A==0?0:-J,n=A==v-1?0:J,h=A*J;for(var E=0;E<J;E++,h++){var K=E==0?h:h-1,e=E==J-1?h:h+1,$=R[e]-R[K],N=R[h+n]-R[h+G];
if($*$+N*N<.005)continue;var k=R[K+G],V=R[e+G],X=R[K+n],Q=R[e+n],L=Y*(V+2*$+Q-k-X),_=Y*(X+2*N+Q-k-V),a=1/Math.sqrt(L*L+_*_+1);
L*=a;_*=a;r[h]=Math.max(0,L*b+_*w+a*U);if(M)l[h]=Math.max(0,-L*b-_*w+a*U)}}return U};iD.aze=function(J,v,x,o,R,r,l,M,P,S,c,b,w){var U=1/o,F=1/(1-o),Y=1/R,A=g.O2.vb(J.TrnS.v.Crv.v,1024),G=iD.wP(J.hglC.v,0),n=iD.wP(J.sdwC.v,0),E=new Float32Array(2500);
for(var h=0;h<2500;h++){var K=Math.max(0,Math.min(1,(h-500)*.001));E[h]=Math.pow(K,.2)}var e=new Float32Array(1024),$=new Float32Array(1024);
for(var h=0;h<1024;h++){var N=A[h];e[h]=255*(1-Math.min(1,N*U));$[h]=255*(1-Math.min(1,(1-N)*F))}for(var k=0;
k<x;k++)for(var K=0;K<v;K++){var h=k*v+K,V=(l[h]+R*.993)*Y,X=E[~~(500+V*1e3)],Q=~~(b[h]*1023),L=X*e[Q],_=X*$[Q];
P[h]=~~(.5+L)<<24|n;M[h]=~~(.5+_)<<24|G;if(r){Q=~~(w[h]*1023);L=X*e[Q];_=X*$[Q];c[h]=~~(.5+L)<<24|n;
S[h]=~~(.5+_)<<24|G}}};iD.br=function(J){var v=iD.tl(),x=J.BF,o=!1;for(var h=0;h<32;h+=8)if(x[h]+x[h+1]+x[h+4]+x[h+5]!=0||x[h+2]+x[h+3]+x[h+6]+x[h+7]!=1020)o=!0;
if(o){x=x.slice(0);for(var h=0;h<40;h+=4){var R=x[h]/255,r=x[h+1]/255,l=x[h+2]/255,M=x[h+3]/255;x[h]=R-.001;
x[h+1]=R==r?1e6:1/(r-R);x[h+2]=l==M?-1e6:1/(l-M);x[h+3]=M+.001}}var P=J.add.iOpa!=null?J.add.iOpa/255:v.fill,S=J.add.vstk;
if(S&&!S.fillEnabled.v&&(!S.strokeEnabled.v||S.strokeStyleLineWidth.v.val==0))P=0;return{fill:P,G6:o?x:null,uH:J.add.brst!=null?J.add.brst:v.uH,ax0:J.add.knko!=null?J.add.knko:v.ax0,style:!1,Hm:!1}};
iD.tl=function(){return{fill:1,G6:null,uH:[1,1,1],ax0:0,style:!1,Hm:!1}};iD.aGJ=function(J,v,x,o,R,r,l,M){if(M==null)M=1;
if(l==null)l=new bC;var P=J.ub[1].r,S=J.ub[1].$,c=new bC,b=R<2;if(b)c.translate(-P/2,-S/2);if(R==0){M*=Math.max(x/P,o/S)}else if(R==1){M*=Math.min(x/P,o/S)}else if(R==2){c.scale(1/P,1/S);
c.concat(l);c.scale(x,o)}else if(R==3){M=M}c.scale(M,M);if(b)c.translate(x/2,o/2);c.concat(r);v.Ptrn.v.Idnt.v=J.id;
v.Scl.v.val=Math.round(100*c.Nf());v.Angl.v.val=Math.round(180*Math.atan2(-c.c,c.o5)/Math.PI);v.Algn.v=!0;
var w=v.phase.v;w.Hrzn.v=Math.round(c.zP);w.Vrtc.v=Math.round(c.jD)};iD.VC=function(J,v){if(v==null)return null;
var x=J.Idnt.v,o=J.Nm.v;for(var h=0;h<v.length;h++)if(v[h].id==x)return v[h];for(var h=0;h<v.length;
h++)if(v[h].name==o)return v[h];return null};iD.al8=function(J,v,x){var o=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var h=0;h<o.length;h++){var R=J.v[o[h]].v;for(var r=0;r<R.length;r++)if(R[r].v.Ptrn)v.Mk(iD.VC(R[r].v.Ptrn.v,x))}};
iD.a3v=function(J,v,x){var o=["patternFillMulti","ebblMulti","frameFXMulti"];for(var h=0;h<o.length;
h++){var R=J.v[o[h]].v;for(var r=0;r<R.length;r++)if(R[r].v.Ptrn){var l=R[r].v.Ptrn.v,M=iD.VC(l,x),P=iD.VC(l,v.add.Patt);
if(M==null&&P)x.push(P)}}};iD.uY=function(J,v,x,o,R){var r=iD.VC(J.Ptrn.v,o);if(r!=null&&!x.L3()){var l=r.ub,M=l[0],P=l[1],S=0;
g.DV(l);var c=(J.Scl?J.Scl.v.val:100)/100;while((c<.3||c==.5)&&l[S+2]){c*=P.r/l[S+3].r;S+=2;M=l[S];P=l[S+1]}var b=g.scale.uY(M,P.r,P.$),w=J.phase?J.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},U=J.Angl?J.Angl.v.val:0,F=-x.x+w.Hrzn.v-1,Y=-x.y+w.Vrtc.v-1;
if(J.Algn!=null&&!J.Algn.v){}else if(R){F+=R.x;Y+=R.y}if(v)g.scale.a9x(b,v,x.r,x.$,c,c,F+1,Y+1,U*Math.PI/180);
else return[b,c,F+1,Y+1,U*Math.PI/180]}};iD.po=function(J,v,x,o,R,r,l,M){if(r==null)r=x;var P=J.Type?J.Type.v.GrdT:"shapeburst",S=J.Algn&&J.Algn.v?r:new jj(0,0,o.r,o.$),c=J.Angl?g.UH.aB9(J,S):[new aG(0,0),new aG(100,0)],b=c[0].x,w=c[0].y,U=c[1].x-b,F=c[1].y-w,Y=Math.sqrt(U*U+F*F);
Y=1/(2*Y*Y);var A=[U*Y,F*Y,-F*Y,U*Y],G=J.Rvrs?J.Rvrs.v:!1,n=J.Dthr?J.Dthr.v:!1;g.UH.$m(J.Grad.v,v,x,A,b,w,G,gD.UH.types.indexOf(P),l==null?0:l,M==null?0:M,R,n)};
iD.a2r=function(J,v,x){for(var h=0;h<J.all.length;h++){var o=J.all[h];o.ux=o.pb.Q();o.ux.offset(v,x)}};
iD.aAX=function(J,v,x,o,R,r){var l=gi._E?iD.asG:iD.aCE;iD.a2r(v,x.x,x.y);var M=v.e.DrSh;for(var h=0;
h<M.length;h++)if(!M[h].ax3)l(M[h],o,R,r)};iD.a1n=function(J,v,x,o,R,r,l,M,P,S){var c=x,b=gi._E?iD.asG:iD.aCE,w=gi._E?gi.v.le:g.v.PB,U;
U=v.e.DrSh;for(var h=0;h<U.length;h++)if(U[h].ax3)b(U[h],o,R,r);U=v.e.St3D;for(var h=0;h<U.length;h++)b(U[h],o,R,r);
U=v.e.OrGl;for(var h=0;h<U.length;h++)b(U[h],o,R,r);var F="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var Y=0;Y<F.length;Y++){var U=v.e[F[Y]];for(var h=0;h<U.length;h++)b(U[h],l,c,r)}var A=v.e.ebbl[0],G=A!=null&&A.afK;
U=v.e.FrFX;for(var h=0;h<U.length;h++){var n=U[h];db.li.Cc(M,S,P,S,r);b(n,P,S,r);if(G&&h==U.length-1){if(A.bK)b(A.bK,P,S,r);
if(A.gQ)b(A.gQ,P,S,r);if(A.gt)b(A.gt,P,S,r);if(A.mM)b(A.mM,P,S,r)}if(n.a0R){if(n.Dh||n.Yb){b(n,l,c,r)}if(n.$W||n.hU){b(n,o,R,r)}}else{if(n.Dh||n.Yb)w(P,S,l,c,gi._E?n.Yb:n.Dh,n.ux,0,r,1);
if(n.$W||n.hU)w(P,S,o,R,gi._E?n.hU:n.$W,n.ux,0,r,1)}}if(!G&&A!=null){if(A.bK)b(A.bK,o,R,r);if(A.gQ)b(A.gQ,o,R,r);
if(A.gt)b(A.gt,l,c,r);if(A.mM)b(A.mM,l,c,r)}};iD.aCE=function(J,v,x,o){var R=iD.tl();R.fill=J.gv;R.style=!0;
g.v.Ry(J.Sx,J.r3,J.ux,v,x,o,1,R)};iD.asG=function(J,v,x,o){var R=iD.tl();R.fill=J.gv;R.style=!0;gi.v.aIf(J.Sx,J.nz,J.ux,v,x,o,1,R)};
iD.aku=function(J,v){var x=1-v.Inpr.v.val/100,o=1+Math.tan(x*(Math.PI/2)),R=J.length;for(var h=0;h<R;
h++)J[h]=Math.min(255,Math.round(J[h]*o))};iD.Fj=function(J,v,x,o){var R=v.blur.v.val,r=Math.round(R*(v.Ckmt.v.val/100));
if(R>r){var l=g.O2.x6(v.TrnS.v.Crv.v,256,o!=!0);g.a3t(J,l)}if(x!=null&&v.Nose.v.val>0)g.style.rh(J,v.Nose.v.val/100,x)};
iD.wP=function(J,v,x){var o=g.UH.Eb(J);if(x!=null){o.z=Math.round(o.z*x);o.H=Math.round(o.H*x);o.c=Math.round(o.c*x)}return v<<24|o.c<<16|o.H<<8|o.z};
iD.gw=function(J,v,x){var o=g.u3(J);if(o==8)new Uint32Array(J.buffer).fill(iD.wP(v,255,x));else{var R=g.UH.Eb(v),r=(x==null?1:x)/255;
g.rd(J,R.z*r,R.H*r,R.c*r);g.sS(J,1)}};iD.Vk=function(J,v,x,o,R){var r=v.uglg&&v.uglg.v?x.AR():v[R?R:"lagl"].v.val;
r=r*Math.PI/180+o;var l=Math.cos(r)*v.Dstn.v.val,M=Math.sin(r)*v.Dstn.v.val;J.x-=Math.round(l);J.y+=Math.round(M)};
iD.aHL=function(J,v){var x=J.uglg&&J.uglg.v?v.AR():J.lagl.v.val;x=x*(Math.PI/180);var o=J.uglg&&J.uglg.v?v.Ny():J.Lald.v.val;
o=o*(Math.PI/180);return[x,o]};iD.axY=function(J){if(J==null||!J.masterFXSwitch.v)return null;var v=J.frameFXMulti.v,x=null;
for(var h=0;h<v.length;h++)if(v[h].v.enab.v)x=v[h].v;if(x==null)return null;var o=gD.gB.ow();iD.a3K(x,o);
return o};iD.a3K=function(J,v){var x=gD.stroke.HF.indexOf(J.PntT.v.FrFl),o=[gD.AG,gD.Zy,gD.eH][x],R=v.strokeStyleContent.v={classID:gD.gB.dP[x]};
for(var h=0;h<o.length;h++)R[o[h]]=J[o[h]];v.strokeEnabled=J.enab;v.strokeStyleLineWidth=J.Sz;v.strokeStyleLineAlignment.v.strokeStyleLineAlignment=gD.gB.r8[gD.stroke.types.indexOf(J.Styl.v.FStl)];
v.strokeStyleOpacity=J.Opct;v.strokeStyleBlendMode=J.Md;v.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
iD.l_=function(J,v){var x=[];for(var h=0;h<J.length;h++)x.push({t:"UntF",v:{type:"#Nne",val:J[h]*v}});
return x};iD.a5c=function(J,v){var x=J.fc/255*(J.add.iOpa?J.add.iOpa/255:1),o=J.add.TySh,R=J.tX()||J.Id()&&J.add.vmsk&&J.add.vstk.fillEnabled.v&&J.add.vstk.strokeEnabled.v;
if(o){var r=o.vv.EngineDict.StyleRun.RunArray,l=r[0].StyleSheet.StyleSheetData,M=0;if(l.FillFlag)M++;
if(l.StrokeFlag)M++;if(l._FillBackgroundFlag)M++;if(M>1)R=!0}return R&&(v||x!=1||J.gR!="pass"&&J.gR!="norm")};
iD.Yy=function(J,v,x,o){this.td=v.Q();this.anC=v.Q();this.anC.rz(x,x);if(o){this.td.rz(1,1);this.mi=g.C(this.td.o());
g.Cc(J,v,this.mi,this.td)}else this.mi=J;this.A4=null;this.t_=null;this.vX=null};iD.Yy.prototype.WK=function(){return this.mi};
iD.Yy.prototype.S=function(){return this.td};iD.Yy.prototype.Rc=function(){return this.anC};iD.Yy.prototype.Oo=function(){if(this.A4)return this.A4;
this.A4=this.WK().slice(0);g.SV(this.A4);return this.A4};iD.Yy.prototype.ao=function(){if(this.t_)return this.t_;
this.t_=g.style.Fa(this.Oo(),this.S().r,this.S().$);return this.t_};iD.Yy.prototype.v9=function(){if(this.vX)return this.vX;
var J=this.Rc(),v=g.C(J.o());g.Cc(this.WK(),this.S(),v,J);var x=Date.now();this.vX=g.style.Fa(v,J.r,J.$);
return this.vX};iD.Yy.prototype.a4A=function(J,v){var x={_r:-v,j8:J,ti:null,RP:null};if(v==0){x.ti=this.S();
x.RP=this.ao();return x}var o=this.v9().slice(0),R=this.Rc();x.ti=R;x.RP=o;for(var h=0;h<o.length;h++)o[h]=-o[h];
if(J==0)return x;var r=this.ao(),l=this.S();for(var M=0;M<l.$;M++)for(var P=0;P<l.r;P++){var S=M*l.r+P,c=(M+l.y-R.y)*R.r+P+l.x-R.x;
o[c]+=r[S]}return x};iD.Yy.prototype.kz=function(J,v,x){var o=Math.ceil(J+v),R={Yf:this.S().Q(),WK:null};
R.Yf.rz(o,o);R.WK=g.C(R.Yf.o());if(J==0&&v==0)g.oj(x?this.WK():this.Oo(),R.WK);else{var r=R.WK;g.Cc(this.WK(),this.S(),r,R.Yf);
if(!x)g.SV(r);if(J!=0){if(x)g.style.dK(r,R.Yf,this.v9(),this.Rc(),J);else g.style.dK(r,R.Yf,this.ao(),this.S(),J)}if(v!=0)g.Wh.MM(r,R.Yf,Math.max(1,v*.43))}return R};
iD.Yy.prototype.a66=function(J,v,x){var o=J*(v-.5),R={Yf:this.S().Q(),WK:null};if(x)R.Yf.rz(J,J);R.WK=g.C(R.Yf.o());
var r=R.Yf.r,l=R.Yf.$,M=x?this.v9():this.ao(),P=x?this.Rc():this.S(),S=R.Yf,c=S.Xt(P),r=c.r,l=c.$,b=c.x-S.x,w=c.y-S.y,U=c.x-P.x,F=c.y-P.y,Y=1-v*2;
for(var A=0;A<l;A++)for(var G=0;G<r;G++){var n=M[(A+F)*P.r+G+U],E=n/J;R.WK[(A+w)*S.r+G+b]=Math.max(0,Math.min(255,255-255*((E+Y)/(1+Y))))}return R};
iD.ajc=function(J,v,x,o){var R=J.Lefx,r=J.blendOptions;if(R){var l=v.add.lmfx;if(x==null)x=l?l.Scl.v.val:100;
v.add.lmfx=g.F(R.v);if(v.add.lmfx.Scl==null)v.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};iD.Cz(v.add.lmfx,x/v.add.lmfx.Scl.v.val);
if(l)v.add.lmfx.Scl.v.val=l.Scl.v.val;var M=R.v.gagl;if(M&&o)o.OA(M.v.val)}else delete v.add.lmfx;if(r){r=r.v;
if(r.Md)v.gR=gX.kF(r.Md.v.BlnM);if(r.Opct)v.fc=Math.round(r.Opct.v.val*255/100);if(r.fillOpacity)v.add.iOpa=Math.round(r.fillOpacity.v.val*255/100);
if(r.Blnd){var P=[];for(var h=0;h<10;h++)P.push(0,0,255,255);var S=r.Blnd.v,c="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var h=0;h<S.length;h++){var b=S[h].v,w=8*["Gry","Rd","Grn","Bl"].indexOf(b.Chnl.v[0].v.enum);for(var U=0;
U<8;U++){P[w+U]=b[c[U]].v}}v.BF=P}}};iD.aiS=function(J){var v="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),x=[],o=J.BF;
for(var h=0;h<4;h++){var R=h*8;if(o[R]+o[R+1]+o[R+4]+o[R+5]==0&&o[R+2]+o[R+3]+o[R+6]+o[R+7]==4*255)continue;
var r={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][h]}}]}}};
x.push(r);for(var l=0;l<8;l++)r.v[v[l]]={t:"long",v:o[h*8+l]}}var M={classID:"blendOptions"};if(J.gR!="norm")M.Md={t:"enum",v:{BlnM:gX.Pp(J.gR)}};
if(J.fc!=255)M.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(J.fc*100/255)}};if(J.add.iOpa!=null)M.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(J.add.iOpa*100/255)}};
if(x.length!=0)M.Blnd={t:"VlLs",v:x};var P={eZ:{classID:"null",Idnt:{t:"TEXT",v:d7.eO()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},x0:{classID:"Styl",blendOptions:{t:"Objc",v:M}}},S=J.add.lmfx;
if(S)P.x0.Lefx={t:"Objc",v:S};return P};function br(){}br.qF=function(J){var v=g.F(br.aHH),x=v.Brsh.v;
if(J!=null){delete x.Hrdn;x.classID="sampledBrush";x.sampledData={t:"TEXT",v:J}}return v};br.aHH={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
br.a15=function(J,v){var x=["opVr","szVr"],o=["usePaintDynamics","useTipDynamics"];for(var h=0;h<2;h++){var R=x[h];
if(J[R]==null)J[R]=JSON.parse(br.PX.tN[R]);J[R].v.bVTy.v=v[h]?2:0;if(v[h])J[o[h]].v=!0}br.PX.aCq(J)};
br.PX={};br.PX.check=function(J){var v=br.PX.AE;for(var h=0;h<v.length;h++)if(J[v[h]]==null)J[v[h]]=JSON.parse(br.PX.tN[v[h]]);
var x=[];for(var h=0;h<v.length;h++)x.push(v[h]);var o=br.PX.aEh;for(var h=0;h<o.length;h++){var R=o[h][0],r=o[h][1],l=!0;
for(var M=0;M<R.length;M++)l=l&&J[R[M]].v==!0;if(l)for(var M=0;M<r.length;M++){if(J[r[M]]==null)console.log("Missing conditional parameter "+r[M]);
else x.push(r[M])}}for(var P in J)if(x.indexOf(P)==-1&&P!="toolOptions")console.log("Extra parameter "+P);
J=J.Brsh.v;v=br.PX.Kf.AE;for(var h=0;h<v.length;h++)if(J[v[h]]==null)J[v[h]]=JSON.parse(br.PX.Kf.tN[v[h]]);
x=[];for(var h=0;h<v.length;h++)if(J[v[h]])x.push(v[h]);else console.log("Missing default parameter "+v[h]);
o=br.PX.Kf.aAD[J.classID];for(var h=0;h<o.length;h++)if(J[o[h]]==null&&o[h]!="dtipsGridSize"&&o[h]!="dtipsErodibleTipHeightMap"&&J.awd!=1)console.log("Missing conditional parameter "+o[h]);
else x.push(o[h]);for(var P in J)if(x.indexOf(P)==-1)console.log("Extra parameter "+P)};br.PX.aCq=function(J){var v=br.PX.aEh;
for(var h=0;h<v.length;h++){var x=v[h][0],o=v[h][1],R=!0;for(var r=0;r<x.length;r++)R=R&&J[x[r]]&&J[x[r]].v==!0;
if(R){for(var r=0;r<o.length;r++)if(J[o[r]]==null){J[o[r]]=JSON.parse(br.PX.tN[o[r]])}}else for(var r=0;
r<o.length;r++)if(J[o[r]]!=null){delete J[o[r]]}}};br.PX.Kf={};br.PX.Kf.AE="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
br.PX.Kf.tN={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};br.PX.Kf.aAD={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
br.PX.aEh=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
br.PX.AE="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
br.PX.tN={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function c0(J,v){this.aIS=J;this.U1=v==null?0:v;this.dir=0}c0.prototype.Ix=function(J,v){var x=this.aIS,o=new aG(J.x-x.x,J.y-x.y),R=new bC;
R.rotate(-this.U1);o=R.Xw(o);if(this.dir==0&&!x.Ym(J))this.dir=Math.abs(o.x)<Math.abs(o.y)?1:2;if(v.M(gw.Yv)){if(this.dir==1)o.x=0;
if(this.dir==2)o.y=0}R.SV();o=R.Xw(o);var r=new aG(x.x+o.x,x.y+o.y);return r};c0.prototype.aE$=function(J){if(J.M(gw.Yv))return this.dir;
return 0};var dm=function(){function J(){this.apf={}}J.a2L=function(v,x){var o=v.Q();o.zP-=Math.floor(o.zP);
o.jD-=Math.floor(o.jD);var R=new aG(x,0),r=new aG(0,x),l=o.Xw(R),M=o.Xw(r),P=new aG(o.zP,o.jD);return[l,M,P]};
J.axZ=function(v,x){var o=aG.Aj;return o(v[0],x[0])+o(v[1],x[1])+o(v[2],x[2]);return dsum};J.prototype.acv=function(v){var x=this.apf,o=x[v];
if(o==null)o=x[v]={MU:[],eM:0,o:0,aoB:0,aEn:0};o.eM=Date.now();while(Object.keys(x).length>3){var R="",r=Date.now();
for(var l in x){var M=x[l].eM;if(M<r){r=M;R=l}}delete x[R]}return o};J.prototype.aIK=function(v,x){var o=v.MU,R,r=1e6;
for(var h=0;h<o.length;h++){var l=o[h],M=J.axZ(l.p5,x);if(M<r){R=l;r=M}}return R};J.prototype.ayI=function(v,x){var o=v.MU;
o.push(x);v.o+=x.S.o();if(o.length>1e3||v.o>100*100*1600){o.sort(function(r,l){return l.eM-r.eM});while(o.length>500||v.o>100*100*800){var R=o.pop();
v.o-=R.S.o()}}};return J}();function ix(J,v,x,o,R,r,l,M,P){this.En=v;this.pm=x;this.Vb=r;this.Yk=o;this.BW=null;
this._T=null;this.s7=0;this.awN=0;this.aqY=0;this.zF=0;this.jI=0;this.cc=P==null?Math.floor(Math.random()*16777215):P;
this.um=P==null?Math.floor(Math.random()*16777215):P;this.P0=new jj;this.cY=new jj;this.ar=o.depth?o.depth:8;
if(M!=null){this.r3=M}else{var S=ix.atS;if(S.length!=l.o()*4)S=g.C(l.o()*4,this.ar);else S.fill(0);this.r3=ix.atS=S}this.S=l.Q();
this.Pv=[];this.as=[];this.VQ=null;this.P4=0;this.c=null;this.a87="";this.Rn=null;this.L9=null;this.a3B(J,R)}ix.atS=g.C(0);
ix.prototype.a3B=function(J,v){this.P4=v;this.c=J;this.a87=JSON.stringify(J)+JSON.stringify(this.Yk.fP);
this.Rn=ix.ahj(this.c,this.En,this.pm);this.Rn.ub[0]=g.N2(this.Rn.ub[0],this.ar);this.L9=g.C(this.Rn.ub[1].o()*4,this.ar);
g.Os(this.Rn.ub[0],this.L9,3)};ix.prototype.moveTo=function(J,v,x){x=this.a74(x);this.s7=x;var o=new aG(J,v),R=this.c.Brsh.v.Dmtr.v.val;
this.BW=o.Q();this._T=o.Q();this.VQ=o.Q();this.Pv=[J,v];this.as=[x];if(this.Yk.O4!=ix.Ye){var r=this.c.angleDynamics,l=r?r.v.bVTy.v==6:!1;
this.by(l?new jj:this.ayp(o,this.a1r(x),x,new aG(0,0)))}this.zF=o.Q()};ix.prototype.lineTo=function(J,v,x){x=this.a74(x);
var o=this.Pv,R=o.length,r=o[R-2],l=o[R-1];if(J==r&&v==l)return;var M=this.c.Brsh.v.Dmtr.v.val,P=Math.ceil(M)+1,S=new jj(Math.round(r),Math.round(l),0,0);
S.rz(P,P);var c=new jj(Math.round(J),Math.round(v),0,0);c.rz(P,P);this.Pv.push(J,v);this.as.push(x);
R+=2;if(R>=6)this.by(this.aBd(R))};ix.prototype.a74=function(J){if(J==null)J=1;J=Math.max(.05,Math.min(5,J));
if(isNaN(J)){alert("Pressure is not a number");throw"e"}return J};ix.prototype.by=function(J){this.P0=J;
this.cY=this.cY.h0(J)};ix.prototype.finish=function(){var J=this.Pv,v=J.length,x;if(v==4)x=this.CP(J[v-2],J[v-1],this.as[(v>>1)-1],!0);
if(v>4)x=this.aBd(v+2);if(x)this.by(x)};ix.prototype.ca=function(){return this.S.Q()};ix.prototype.qh=function(){return this.P0.Xt(this.S)};
ix.prototype.vn=function(){return this.cY.Xt(this.S)};ix.prototype.Hl=function(){return this.r3};ix.prototype.aBd=function(J){var v=this.Pv,x=this.as,o=v[J-6],R=v[J-5],r=v[J-4],l=v[J-3],M=x[(J>>1)-3],P=x[(J>>1)-2],S=new aG(0,0),c=new aG(0,0);
if(8<=J)S=ix.aBN(v[J-8],v[J-7],o,R,r,l);if(J<=v.length)c=ix.aBN(v[J-2],v[J-1],r,l,o,R);var b=o+S.x,w=R+S.y,U=r+c.x,F=l+c.y,Y=new jj,A=this.axL()?1:10;
for(var h=0;h<A;h++){var G=(h+1)/A,n=1-G,E=n*n*n*o+3*G*n*n*b+3*G*G*n*U+G*G*G*r,K=n*n*n*R+3*G*n*n*w+3*G*G*n*F+G*G*G*l,e=this.CP(E,K,M+G*(P-M));
Y=Y.h0(e)}return Y};ix.aBN=function(J,v,x,o,R,r){var l=J-x,M=v-o,P=R-x,S=r-o,c=Math.sqrt(l*l+M*M),b=Math.sqrt(P*P+S*S),w=Math.acos((l*P+M*S)/(c*b))/Math.PI,U=.35,F=.1;
w=F+w*(U-F);var Y=R-J,A=r-v,G=Math.sqrt(Y*Y+A*A),n=w*b/G;return new aG(Y*n,A*n)};ix.prototype.CP=function(J,v,x,o){var R=new jj,r=this.Yk.aGH;
if(r==null)r=0;if(r==0||o){R=this.a1w(J,v,x);return R}var l=this.VQ,M=J-l.x,P=v-l.y,S=Math.sqrt(M*M+P*P);
M/=S;P/=S;if(S>r){var c=l.x+M*(S-r),b=l.y+P*(S-r);R=this.a1w(c,b,x);this.VQ._h(c,b)}return R};ix.prototype.axL=function(){var J=this.c,v=J.Brsh.v.Dmtr.v.val;
return this.Yk.fP&&v==1};ix.prototype.a1w=function(J,v,x){var o=new jj,R=new aG(J,v),r=this.Yk.O4,l=R.aA(this._T);
l.normalize(1);var M=aG.Aj(this._T,R),P=-this.awN,S=this._T.Q();if(this.axL()){if(M>.99){var c=this._T,b=g.bO.al7(R,this.S,this.Yk.N_);
for(var h=0;h<b.length;h++){var w=b[h],U=w.Xw(c),F=w.Xw(R);ix.am4(U,F,this.r3,this.S,this.GG(this.c));
o=o.h0(g.b.jR([U.x,U.y,F.x,F.y]))}P=M}else R=this._T}else while(!0){var Y=this.s7+(x-this.s7)*(Math.max(0,P)/M),A=this.a1r(Y),G=this.aFe()*(A+this.aqY)/2*this.Rn.ap0;
if(r==ix.Ye)G=1;G=Math.max(G,.5);if(P+G<M){P+=G;this.jI+=G;var n=new aG(this._T.x+l.x*P,this._T.y+l.y*P),K=1;
if(r==ix.Ye){var F=S.Q();F.x+=l.x>0?1:-1;var E=S.Q();E.y+=l.y>0?1:-1;if(aG.Aj(F,n)<aG.Aj(E,n))n=F;else n=E;
P=aG.Aj(n,this._T)}if(this.c.useScatter.v==!0){K=this.c.Cnt.v;var e=this.c.countDynamics.v.jitter.v.val/100,$=e*(-1+2*this.kb());
K+=Math.round(K*$)}for(var h=0;h<K;h++){var N=this.ayp(n,A,x,l);o=o.h0(N)}S=n}else break}this.awN=M-P;
this._T=R;this.s7=x;return o};ix.prototype.aFe=function(){var J=this.c.Brsh.v,v=J.Spcn.v.val,x=Math.max(5,J.Rndn.v.val);
return x/100*(v/100)};ix.prototype.a1r=function(J){var v=this.c,x=v.Brsh.v.Dmtr.v.val;if(v.useTipDynamics.v){var o=x*(v.minimumDiameter.v.val/100);
x=o+(x-o)*(1-this.kb(this.um)*(v.szVr.v.jitter.v.val/100));x*=ix.al(v,"szVr",J,this.jI)}return x};ix.al=function(J,v,x,o){var R=1,r=J[v].v,l=r.bVTy.v,M=r.fStp.v;
if(l==1)R*=Math.max(0,(M-o)/M);if(l==2)R*=x;return R};ix.prototype.ayp=function(J,v,x,o){var R=this.Yk.xR,Y=0;
R=Math.min(1,R);var r=this.c,l=this.c.Brsh.v,M=l.Dmtr.v.val,P=this.Yk,S=P.O4,c=P.aud,b=this.Rn.ub[1],w=new bC;
w.translate(-b.r/2,-b.$/2);w.scale(1/this.Rn.a5q,1/this.Rn.a5q);w.scale(v/M,v/M);w.scale(1,Math.max(5,l.Rndn.v.val)/100);
if(r.usePaintDynamics&&r.usePaintDynamics.v){var U=r.opVr.v.jitter.v.val/100,F=r.prVr.v.jitter.v.val/100;
R*=1-this.kb()*U;R*=1-this.kb()*F;R*=ix.al(r,"opVr",x,this.jI)*ix.al(r,"prVr",x,this.jI)}if(r.useTipDynamics.v){var A=r.angleDynamics.v,G=r.minimumRoundness.v.val/100;
w.scale(1,G+(1-G)*Math.round(100-this.kb()*r.roundnessDynamics.v.jitter.v.val)/100);Y+=(-.5+this.kb())*4*Math.PI*(A.jitter.v.val/100);
Y+=ix.al(r,"angleDynamics",x,this.jI)*2*Math.PI;if(A.bVTy.v==6)Y+=Math.atan2(-o.y,o.x)}Y+=l.Angl.v.val*(Math.PI/180);
w.rotate(Y);if(r.useScatter.v){var n=(-1+2*this.kb())*r.scatterDynamics.v.jitter.v.val/100;w.translate(-n*v*o.y,n*v*o.x)}w.translate(J.x,J.y);
var E=this.aCu(w,J,v),K=E.S.Q();if(S==null){var e=this.GG(r);g.rd(E.ED,e.z,e.H,e.c);if(this.cY.L3()&&this.S.Ym(E.S)&&R==1)this.r3=E.ED.slice(0);
else{var $=g.bO.al7(J,this.S,P.N_);for(var h=0;h<$.length;h++){var N=$[h],k,V;if(N.o5==1&&N.c==0&&N.Mz==0&N.fn==1){k=E.ED;
V=E.S.Q();V.x+=N.zP;V.y+=N.jD}else{var X=w.Q();X.concat(N);var Q=this.aCu(X,N.Xw(J),v);k=Q.ED;V=Q.S;
g.rd(k,e.z,e.H,e.c)}if(V.Rt(this.S)){K=K.h0(V);if(this.ar==8)g.v.ah8(k,V,this.r3,this.S,V,R);else g.v.Ry("norm",k,V,this.r3,this.S,V,R)}}}}if(S==ix.Ye){var L=new aG(E.S.x+E.S.r/2,E.S.y+E.S.$/2),_=Math.round(L.x-this.zF.x),a=Math.round(L.y-this.zF.y),T=E.S.Q();
T.offset(-_,-a);var f=T.Xt(this.S);f.offset(_,a);g.sW(this.r3,this.S,E.ED,T);if(this.ar==8)g.v.aCU(E.ED,E.S,this.r3,this.S,E.MN,E.S,R);
else g.v.PB(E.ED,E.S,this.r3,this.S,E.MN,E.S,0,f,R,!1)}if(S==ix.Tg||S==ix.hD||S==ix.gG){var Z=E.S.Xt(this.S),W;
if(Z.Ym(E.S))W=E.MN;else{W=g.C(Z.o(),this.ar);g.Cc(E.MN,E.S,W,Z)}var D=g.C(Z.o()*4,this.ar);g.sW(this.r3,this.S,D,Z);
if(S==ix.hD){var C=D.slice(0),d=g.yJ.Z8([-1,-1,-1,-1,25,-1,-1,-1,-1]);g.yJ.Ty(D,C,Z.r,Z.$,d);g.oj(C,D)}else if(S==ix.gG){var p=a8.ow("UnsM");
p.Amnt.v.val=15;p.Thsh.v=0;p.Rds.v.val=5;var C=g.C(D.length,this.ar);a8.vY("UnsM",{buffer:D,S:Z},p,0,0,{buffer:C,S:Z});
g.oj(C,D)}else{a8.pP(1,0,D,Z)}if(this.ar==8)g.v.aCU(D,Z,this.r3,this.S,W,Z,R);else g.v.PB(D,Z,this.r3,this.S,W,Z,0,Z,R,!1)}this.aqY=v;
this.zF=L;this.um++;return K};ix.prototype.GG=function(J){var v=ix.aBG(this.P4);if(J.useColorDynamics&&J.useColorDynamics.v){var x=1-this.kb()*J.clVr.v.jitter.v.val/100,o=ix.aBG(this.Vb);
v.z=x*v.z+(1-x)*o.z;v.H=x*v.H+(1-x)*o.H;v.c=x*v.c+(1-x)*o.c;var R=(-.5+this.kb())*J.H.v.val/100,r=(-1+2*this.kb())*J.Strt.v.val/100,l=(-1+2*this.kb())*J.Brgh.v.val/100,M=g.qz(v.z,v.H,v.c);
M.mq=(M.mq+R+1)%1;M.hO=M.hO+r;if(M.hO<0)M.hO=-M.hO;if(M.hO>1)M.hO=1-(M.hO-1);M.Bl=M.Bl+l;if(M.Bl<0)M.Bl=-M.Bl;
if(M.Bl>1)M.Bl=1-(M.Bl-1);v=g.Pu(M.mq,M.hO,M.Bl)}return v};ix.prototype.PX=function(J){return Math.max(0,Math.min(1,J))};
ix.prototype.kb=function(J){if(J==null){J=this.cc++}return ix.hash(J)};ix.aBG=function(J){return{z:(J>>16&255)/255,H:(J>>8&255)/255,c:(J>>0&255)/255}};
ix.hash=function(J){J=J^61^J>>16;J=J+(J<<3);J=J^J>>4;J=J*668265261;J=J^J>>15;return(J&16777215)/16777215};
ix.auy=new dm;ix.prototype.aCu=function(J,v,x){var o=this.Yk.fP,R=Math.round(this.c.Brsh.v.Dmtr.v.val),r;
if(o&&R<=3){r={N:g.C(R*R,this.ar),S:new jj(Math.round(v.x-R/2),Math.round(v.y-R/2),R,R)};r.N.fill(255)}else if(J.o5==1&&J.c==0&&J.Mz==0&&J.fn==1){r={N:this.Rn.ub[0],S:this.Rn.ub[1].Q(),ED:this.L9};
r.S.x=Math.round(J.zP);r.S.y=Math.round(J.jD)}else{if(J.Nf()>1e-4)r=H.ge.qS(this.Rn.ub,J)}if(r==null)r={N:g.C(0,this.ar),S:new jj};
var l={MN:r.N,S:r.S,ED:r.ED};if(l.ED==null||o){if(o)g.round(r.N);l.ED=g.C(r.S.o()*4,this.ar);g.Os(l.MN,l.ED,3)}return l};
ix.ahj=function(J,v,x){var o,R,r,l=J.Brsh.v.Dmtr.v.val,M=J.Brsh.v.classID;if(M=="computedBrush"){var P=J.Brsh.v.Hrdn.v.val/100;
R=l<100?1.4:1;r=1;o=g.aIw.amW(l,P,R)}if(M=="sampledBrush"){var S;for(var h=0;h<v.length;h++)if(v[h].id==J.Brsh.v.sampledData.v)S=v[h];
o=S.ub;var c=o[1];R=Math.max(c.r,c.$)/l;r=Math.min(c.r,c.$)/Math.max(c.r,c.$)}return{a5q:R,ap0:r,ub:o}};
ix.W0=null;ix.zJ=null;ix.QZ=function(J,v,x,o,R,r){var l=ix.W0,M=ix.zJ;if(l==null){ix.W0=l=document.createElement("canvas");
ix.zJ=M=l.getContext("2d")}if(r==null)r=o;if(l.width!=r||l.height!=R){l.width=r;l.height=R}else M.clearRect(0,0,r,R);
M.fillStyle="#000000";M.font=Math.floor(10*H.rR())+"px sans-serif";var P=J.Brsh.v.Dmtr.v.val,S=""+P,c=J.useBrushSize;
if(c&&c.v)S="---";var b=M.measureText(S);M.fillText(S,(o-b.width)/2,R-2);var w=o,U=R-10*H.rR(),F=Math.min(w,U),Y=J.Brsh.v.classID;
if(Y=="computedBrush"){M.translate(w/2,U/2);M.rotate(-J.Brsh.v.Angl.v.val*Math.PI/180);M.scale(1,.1+.9*J.Brsh.v.Rndn.v.val/100);
var A=Math.min(.95*F/2,P/2)+.5,G=.9*J.Brsh.v.Hrdn.v.val/100,n=M.createRadialGradient(0,0,0,0,0,A);n.addColorStop(G,"rgba(0,0,0,1)");
n.addColorStop((.5+G)/1.5,"rgba(0,0,0,.5)");n.addColorStop(1,"rgba(0,0,0,0)");M.fillStyle=n;M.fillRect(-A,-A,2*A,2*A);
M.setTransform(1,0,0,1,0,0)}else if(Y=="sampledBrush"){var E,k=0;for(var h=0;h<v.length;h++)if(v[h].id==J.Brsh.v.sampledData.v)E=v[h];
var K=E.ub;g.To(K);var e=K[0],$=K[1].r,N=K[1].$;while(($>w||N>U)&&K[k+2]){k+=2;e=K[k];$=K[k+1].r;N=K[k+1].$}if($*N!=0){var V=g.C($*N*4);
g.Os(e,V,3);var X=new ImageData(new Uint8ClampedArray(V.buffer),$,N);M.putImageData(X,Math.round((w-$)/2),Math.round((U-N)/2))}}else{}return l.toDataURL()};
ix.Hf=function(J,v,x,o){if(x==0)x=1;var R=J.Brsh.v,r=R.Dmtr.v.val,l=R.Angl.v.val,M=R.Dmtr.v.val=Math.min(o!=null?Math.round(o*2.6):3e3,r*x),P=R.Hrdn?R.Hrdn.v.val/100:1,S=o!=null?o:Math.round((l==0?1:1.42)*M*(1+.55*(1-P)))+4,w;
S=Math.max(25,Math.min(S,3e3));var c=new jj(0,0,S,S),b=new ix(J,v,null,{xR:1},16711712,0,c);R.Dmtr.v.val=r;
b.moveTo(c.r/2,c.$/2);var U=g.N2(b.Hl(),8),F=b.ca();if(c.Ym(F))w=U;else{w=g.C(c.o()*4);g.sW(U,F,w,c)}return[w,c,M]};
ix.aoE=function(J,v,x,o){var R=v.r,r=R>>>1;for(var h=2;h<7;h++){J[R*(r-h)+r-1]=o;J[R*(r-h)+r]=x;J[R*(r-h)+r+1]=o;
J[R*(r+h)+r-1]=o;J[R*(r+h)+r]=x;J[R*(r+h)+r+1]=o;J[R*(r-1)+r-h]=o;J[R*r+r-h]=x;J[R*(r+1)+r-h]=o;J[R*(r-1)+r+h]=o;
J[R*r+r+h]=x;J[R*(r+1)+r+h]=o}o=x;if(H.rR()>=1.5)for(var h=5;h<11;h++){J[R*(r-h)+r-1]=o;J[R*(r-h)+r]=x;
J[R*(r-h)+r+1]=o;J[R*(r+h)+r-1]=o;J[R*(r+h)+r]=x;J[R*(r+h)+r+1]=o;J[R*(r-1)+r-h]=o;J[R*r+r-h]=x;J[R*(r+1)+r-h]=o;
J[R*(r-1)+r+h]=o;J[R*r+r+h]=x;J[R*(r+1)+r+h]=o}};ix.l6=function(J,v,x,o){var R=ix.Hf(J,v,x),r=R[0].slice(0),l=R[1],M=R[2],P=l.o(),S=g.C(P);
g.Vi(r,S,3);var c=g.C(P);g.g.aw0(S,c,l,H.rR()>1.9);if(M<3||g.sM(c,0)||o&&M>12){ix.aoE(c,l,255,0)}var b=[3,5,3,4,8,4,3,5,3];
b=g.yJ.Z8(b);g.yJ.yr(c,S,l.r,l.$,b);r.fill(255);g.Os(S,r,3);for(var h=0;h<P;h++)if(c[h]==255){r[h<<2]=r[(h<<2)+1]=r[(h<<2)+2]=0;
r[(h<<2)+3]=255}return{fK:r,Yf:l,k$:new aG(l.r/2,l.$/2)}};ix.am4=function(J,v,x,o,R){var r=4278190080|Math.round(R.c*255)<<16|Math.round(R.H*255)<<8|Math.round(R.z*255)<<0;
x=new Uint32Array(x.buffer);var l=Math.floor(J.x),M=Math.floor(J.y),P=Math.floor(v.x),S=Math.floor(v.y),c=Math.abs(P-l),b=Math.abs(S-M),w=l<P?1:-1,U=M<S?1:-1,F=c-b;
while(!0){x[M*o.r+l]=r;if(l==P&&M==S)break;var Y=2*F;if(Y>-b){F-=b;l+=w}if(Y<c){F+=c;M+=U}}};ix.Ye="0";
ix.Tg="1";ix.hD="2";ix.gG="3";var h4={};h4.kI=function(J,v,x){if(x==null)x=!0;var o=J.add.TySh,R=o.vv,r=new fc(R,v,o.gZ);
J.QF.m5=r.In();var l=J.QF.path=h4.xZ(r,o);if(du!=0)return[l,r,null];var M=h4.GU(l,o.u,bI.aR(o));if(x){J.S=M.Yf;
var P=g.u3(J.buffer);J.buffer=g.N2(M.r3,P);J.Ai()}return[l,r,M]};h4.GU=function(J,v,x){J={Wp:J.Wp,T:J.T.slice(0)};
g.b.u(J.T,v,J.T);var o=g.b.jR(J.T),R=0;if(o.L3())return{r3:g.C(0),Yf:new jj};for(var h=0;h<J.Wp.length;
h++){var r=J.Wp[h];if(r[0]=="O"&&r[1]=="-")R=Math.max(R,parseFloat(r.split("-")[2]))}R=Math.ceil(R*v.Nf()/2);
o.rz(R,R);var l=g.n2(o.r,o.$);l.translate(-o.x,-o.y);h4.aIz(J,l);var M=l.getImageData(0,0,o.r,o.$),P=new Uint8Array(M.data.buffer);
if(x==0)for(var h=0;h<P.length;h+=4)P[h+3]=P[h+3]>80?255:0;if(x==3)for(var h=0;h<P.length;h+=4)P[h+3]=Math.min(255,P[h+3]*1.5);
l.resetTransform();l.beginPath();return{r3:P,Yf:o}};h4.xZ=function(J,v,x){var o=v.u,R=v.vv;h4.g2=o.Nf();
var r=bI.aR(v),l=Math.max(o.c*o.c,o.Mz*o.Mz)<1e-9?o:null;if(r==3||r==4)l=null;var M={Wp:[],T:[]};h4.asX(J,M,l,!0);
h4.asX(J,M,l,!1);M=h4.Z0(M,v,J,x);return M};h4.g2=1;h4.Z0=function(J,v,x,o){if(J==null)return J;if(x&&x.B7)g.b.u(J.T,x.B7,J.T);
if(x&&!g.wL.KV(v.Pd)){var R=bI.ca(v,x);if(!R.L3()){if(J.Wp){J=g.b.wM(J);var r=Math.min(R.r,R.$)/8;if(r<1)r=1;
J=g.b.eo(J,r)}var l=g.wL.Um(v.Pd,R);g.ZH.u(l,J.T,R)}}var M=v.u;if(o)g.b.u(J.T,M,J.T);return J};h4.aIz=function(J,v){v.save();
v.miterLimit=2;Typr.U.pathToContext({crds:J.T,cmds:J.Wp},v);v.restore()};h4.iR=function(J,v,x){var o=fc.aBO(x),R=J.vv,r=R.ResourceDict.FontSet,l=R.ResourceDict.StyleSheetSet[0].StyleSheetData,M=R.EngineDict.StyleRun.RunLengthArray,P=R.EngineDict.StyleRun.RunArray,S=bI.FB(R),c=!0,b={},w=0;
for(var h=0;h<P.length;h++){var U=P[h].StyleSheet.StyleSheetData.Font;if(U==null)U=l.Font;for(var F=0;
F<M[h];F++){var Y=S.charCodeAt(w+F),A=U+","+(Y>128?Y:-1);if(b[A]==null){b[A]=1;if(v.FX(r[U].Name,Y)==null)c=!1}}w+=M[h]}return c&&o};
h4.Qn=function(J,v,x){var o=!0;for(var R=0;R<J.k.length;R++){var r=J.k[R],l=r.add.TySh;if(l!=null&&!h4.iR(l,v,x))o=!1}return o};
h4.aG=function(J,v,x){for(var o=0;o<J.k.length;o++){var R=J.k[o],r=R.add.TySh;if(r!=null&&h4.iR(r,v,x)){h4.kI(R,v);
J.Ai()}}};h4.asX=function(J,v,x,o){var R=new bC;for(var h=0;h<J.u7.length;h++)h4.aw6(J.iz,J.u7[h],v,R,x,o)};
h4.aw6=function(J,v,x,o,R,r){o.translate(v.fw.x,v.fw.y);for(var h=0;h<v.W9.length;h++){var l={},M=v.W9[h];
if(!M.RG)break;var P=o.Q();P.translate(M.fw.x,M.fw.y);if(R){var S=R.jD+P.jD*R.fn;P.jD=(Math.round(S)-R.jD)/R.fn}for(var c=M.start;
c<M.end;c++)h4.aJa(J,v.uk[c],v,l,x,P,r)}o.translate(-v.fw.x,-v.fw.y)};h4.aJa=function(J,v,x,o,R,r,l){r.translate(v.fw.x,v.fw.y);
for(var M=v.d6;M<=v.K7;M++){var P=x.y_[M],S=P.Yf.r,c=J[x.aee+P.vA],b=c.Rw._FillBackgroundFlag;if(c.E5=="\n"||l&&!b)continue;
var w=c.Rw.FontSize/c.MG.head.unitsPerEm,U=r.Q();U.translate(P.fw.x+P.VT*w,P.fw.y-P.zx*w);var F=new bC;
F.scale(w,-w);if(c.Rw.FauxItalic)F.concat(new bC(1,0,-Math.tan(.18),1,0,0));F.translate(0,c.Y7);F.scale(c.scale.x,c.scale.y);
if(c.Rw.BaselineShift!=null)F.translate(0,-c.Rw.BaselineShift);if(P.U1!=0){F.rotate(-P.U1)}F.concat(U);
var Y=(c.Rw.OutlineWidth?c.Rw.OutlineWidth:1)*h4.g2;if(l){R.Wp.push(h4.GG(c.Rw._FillBackgroundColor));
var A=1.005*P.Yf.$/w,G=new jj(-P.VT,-A*.27,1.03*P.Yf.r/(w*c.scale.x),A);if(c.Rw.StrokeFlag)G.rz(Y/w,Y/w);
g.b.concat(R,g.b.ho(G),F);R.Wp.push("X");continue}if(c.Rw.FillFlag)R.Wp.push(h4.GG(c.Rw.FillColor));
if(c.Rw.StrokeFlag){var n=gD.Ok.aE4(c.Rw);R.Wp.push(h4.aC4(n))}if(P.path.Wp.length!=0&&c.E5!="\t"){if(c.Rw.FauxBold){var E=c.Rw.FontSize/2048*27*c.scale.x,K=Math.cos(P.U1)*E,e=Math.sin(P.U1)*E;
F.zP+=K;F.jD+=e;g.b.concat(R,P.path,F);F.zP-=K+K;F.jD-=e+e;g.b.concat(R,P.path,F)}else g.b.concat(R,P.path,F)}if(c.E5!="\n"){var $=P.Yf.r/w;
if(c.Rw.Underline){if(o.ie==null)o.ie=c.MG.post.underlineThickness;if(o.aCj==null)o.aCj=c.MG.post.underlinePosition;
var N=0,k=o.aCj-o.ie/2,V=-o.ie;g.b.concat(R,{Wp:["M","L","L","L","Z"],T:[N,k,N+$,k,N+$,k+V,N,k+V]},F)}if(c.Rw.Strikethrough){var X=c.MG["OS/2"].yStrikeoutSize,Q=c.MG["OS/2"].yStrikeoutPosition,N=0,k=Q+X/2,V=-X;
g.b.concat(R,{Wp:["M","L","L","L","Z"],T:[N,k,N+$,k,N+$,k+V,N,k+V]},F)}}var L=c.Rw.FillFlag,_=c.Rw.FillFirst;
if(_==null)_=!0;if(L&&_)R.Wp.push("X");if(c.Rw.StrokeFlag)R.Wp.push("OX");if(L&&!_)R.Wp.push("X")}r.translate(-v.fw.x,-v.fw.y)};
h4.aC4=function(J){var v=J.T0,x=["O","#"+g.q2(g.c7({z:v[0],H:v[1],c:v[2]},1)),J.fk];x.push(J.yd,J.$h,J.M0,J.v4,J.Wy.join(","));
return x.join("-")};h4.akz=function(J){var v=parseFloat,x=J.split("-"),o=g.x7(parseInt(x[1].slice(1),16)),R=x[8]=="1"?2:0;
return{T0:[o.z/255,o.H/255,o.c/255],fk:v(x[2]*(R==2?.5:1)),yd:v(x[3]),$h:v(x[4]),M0:v(x[5]),v4:v(x[6]),Wy:x[7]==""?[]:x[7].split(",").map(v),Bf:R}};
h4.GG=function(J){return"#"+g.q2(g.c7(bI.Eb(J)))};function fc(J,v,x){var o=bI.eP(J),R,r,l=bI.JG(J),M=J._LineOrientation==2?new bC:null,b,U;
if(J.Curve)r=fc.$w(J.Curve);if(o!=0){R=new jj(l[0],l[1],l[2],l[3]);if(M){var P=R.r;R.r=R.$;R.$=P;M.translate(0,-l[2])}if(o==2){R.r=r[5]-r[4];
R.$=9999}}this.u7=[];this.iz=[];this.QJ=o;this.B7=M;var S=this.a96=bI.FB(J),c=-1,w=-1;for(var h=0;h<S.length;
h++){var F=b,Y=bI.aem(J,h);if(Y!=c){c=Y;F=b=bI.a1$(J,Y)}var A=U,Y=bI.a9L(J,h);if(Y!=w){w=Y;A=U=bI.ayj(J,Y)}var G={E5:S.charAt(h),Rw:F,MG:null,fH:!1,j7:-1,_j:bI.aa4(J,h),Y7:0,scale:new aG(0,0),uh:0,lineHeight:0,ln:0},n=J.ResourceDict.FontSet[F.Font].Name,E=G.MG=v.FX(n,S.charCodeAt(h));
if(F.FontCaps==1)G.fH=E&&E.GSUB&&E.GSUB.smcp?!1:!0;G.scale.x=F.HorizontalScale==null?1:F.HorizontalScale;
G.scale.y=F.VerticalScale==null?1:F.VerticalScale;var K=E["OS/2"],e=E.hhea;if(G.fH&&G.E5!=G.E5.toUpperCase()){var $=K.sxHeight?K.sxHeight/K.sTypoAscender:.76;
G.scale.x*=$;G.scale.y*=$}var N=1/E.head.unitsPerEm*F.FontSize;if(F.FontBaseline==1){var $=J.ResourceDict.SuperscriptSize;
G.scale.x*=$;G.scale.y*=$;G.Y7-=J.ResourceDict.SuperscriptPosition*F.FontSize}if(F.FontBaseline==2){var $=J.ResourceDict.SubscriptSize;
G.scale.x*=$;G.scale.y*=$;G.Y7+=J.ResourceDict.SubscriptPosition*F.FontSize}G.uh=fc.uh(E)*F.FontSize;
var k=A.AutoLeading;G.lineHeight=F.FontSize*(k==null?1.2:k);if(F.AutoLeading==!1)G.lineHeight=F.Leading;
if(G.E5=="\n"&&S[h-1]!="\n")G.lineHeight=0;if(G.lineHeight==0)G.lineHeight=.01;this.iz.push(G)}var V=this.u7,X=[0];
for(var h=0;h<J.EngineDict.ParagraphRun.RunLengthArray.length;h++){var Q=new fc.pe(J,v,this.iz,h,R,X,o==1?r:null);
V.push(Q)}if(M){if(o==0)M.translate(0,V[0].uk[0].uh/2);M.rotate(-Math.PI/2)}if(o==2){var L=J.Curve.Points,_=r[0],a=r[1],T=r[2],f=r[3],Z=r[4],W=r[5];
for(var h=0;h<V.length;h++)for(var D=0;D<V[h].W9.length;D++)if(!(h==0&&D==0))V[h].W9[D].RG=!1;var Q=V[0],C=Q.W9[0];
Q.fw._h(0,0);C.fw._h(0,0);for(var D=C.start;D<C.end;D++){var d=Q.uk[D],p=d.fw.x;d.fw.x=0;for(var y=d.d6;
y<=d.K7;y++){var i=Q.y_[y],t=i.Yf.r/2;i.fw.x+=p;var O=fc.af5(_,(Z+i.fw.x+t)%f);i.fw.x=O[0]-t*O[2];i.fw.y=O[1]-t*O[3];
i.U1=Math.atan2(O[3],O[2])}}}if(x){var q=x.VAlign.v;if(q!=0&&bI.eP(J)==1){var z=bI.JG(J)[3],jw=this.In().$,u=0;
if(q==1)u=z-jw;if(q==2)u=(z-jw)/2;for(var h=0;h<this.u7.length;h++)this.u7[h].fw.y+=u}}}fc.uh=function(J){var v=J._hhhh;
if(v==null){var x=Typr.U,o=x.codeToGlyph(J,104),R=g.b.ni(Typr.U.glyphToPath(J,o).crds).$;v=J._hhhh=R*(1/J.head.unitsPerEm)}return v};
fc.prototype.aGM=function(){return!this.arS(0)};fc.prototype.ad1=function(){return this.arS(1)};fc.prototype.arS=function(J){var v=this.u7,x=!0,o=0;
for(var h=0;h<v.length;h++){var R=v[h].W9,r=R.length;o+=r;for(var l=0;l<r;l++)x&=R[l].RG}return[x,o][J]};
fc.$w=function(J,v,x){if(v==null)v=.25;var o=J.Points,R=o.length,r=R>>>3,l=J.TextOnPathTRange,M=J.Reversed,w=0,U=0;
if(M){var P=o.slice(0);for(var h=0;h<R;h+=2){P[h]=o[R-2-h];P[h+1]=o[R-1-h]}o=P;l=[r-l[1]%r,r-l[0]%r]}var S=[],c=[0],b=[0];
for(var h=0;h<R;h+=8){var F=o[h+6]-o[h+0],Y=o[h+7]-o[h+1],A=Math.round(Math.sqrt(F*F+Y*Y)/v),G=x&&h==R-8?A+1:A;
for(var n=0;n<G;n++){var E=n/A,K=1-E,e=K*K*K*o[h+0]+3*K*K*E*o[h+2]+3*K*E*E*o[h+4]+E*E*E*o[h+6],$=K*K*K*o[h+1]+3*K*K*E*o[h+3]+3*K*E*E*o[h+5]+E*E*E*o[h+7];
S.push(e,$);if(h+n!=0){var F=e-w,Y=$-U;b.push(b[b.length-1]+Math.sqrt(F*F+Y*Y));c.push((h>>>3)+E)}w=e;
U=$}}var v=b.length,N=b[v-1],k=fc.ck(l[0]%r,c),V=fc.ck(l[1]%r,c),X=b[k%v],Q=b[V%v];if(X>=Q)Q+=N;return[S,c,b,N,X,Q]};
fc.ck=function(J,v){var h=0;while(v[h]<J)h++;return h};fc.af5=function(J,v){var x=0,h=0,o,R,r;while(x<v){o=J[h+2]-J[h];
R=J[h+3]-J[h+1];r=Math.sqrt(o*o+R*R);x+=r;h+=2}return[J[h],J[h+1],o/r,R/r]};fc.prototype.a0m=function(J){return this.iz[J]};
fc.prototype.axR=function(J){for(var v=0;v<this.u7.length;v++){var x=this.u7[v];for(var o=0;o<x.W9.length;
o++){var R=x.W9[o],r=x.uk[R.start].start,l=x.uk[R.end-1].end;if(r<J&&J<l)return[r,l-1]}}return[0,1]};
fc.prototype.a5j=function(J,v){var x=-1,o=this.u7;if(this.QJ==2){var R=1e9,r=0,l=o[0],M=l.W9[0];for(var P=M.start;
P<M.end;P++){var S=l.uk[P];for(var c=S.d6;c<=S.K7;c++){var b=l.y_[c],w=b.Yf.r,U=J.x-b.fw.x,F=J.y-b.fw.y,Y=U*U+F*F;
if(Y<R){R=Y;r=b.vA}}}if(r!=0&&this.a96.codePointAt(r-1)>65535)r--;return r}for(var A=0;A<o.length;A++){var l=o[A];
for(var G=0;G<l.W9.length;G++){x++;var M=l.W9[G],n=l.W9[G+1];if(n==null&&A<o.length-1)n=o[A+1].W9[0];
if(v!=null){if(x!=v)continue}else{if(n!=null&&l.fw.y+M.fw.y<J.y)continue}for(var P=M.start;P<M.end;P++){var S=l.uk[P];
for(var c=S.d6;c<=S.K7;c++){var b=l.y_[c],w=b.Yf.r,E=l.fw.x+M.fw.x+S.fw.x,K=E+b.fw.x,e=E+(c<S.K7?l.y_[c+1].fw.x:b.fw.x+w);
if(J.x<=e||P+1==M.end&&c==S.K7){var $=l.aee+b.vA,N=this.iz[$],k=N.ln&1;if(N.E5!="\n"&&(k==0&&J.x>K+w/2||k==1&&J.x<K+w/2))$+=this.a96.codePointAt($)>65535?2:1;
return $}}}}}};fc.prototype.fj=function(J){var v={Yf:new jj,SN:0},x=0;for(var o=0;o<this.u7.length;o++){var R=this.u7[o];
for(var r=0;r<R.W9.length;r++){var l=R.W9[r];v.SN=x;x++;for(var M=l.start;M<l.end;M++){var P=R.uk[M];
for(var S=P.start;S<P.end;S++){if(S==J){var c=this.iz[S],b=c.j7,w=R.y_[b].vA,U=1;while(R.y_[b]!=null&&R.y_[b].vA==w){var F=R.y_[b],Y=R.fw.x+l.fw.x+P.fw.x+F.fw.x,A=R.fw.y+l.fw.y+P.fw.y+F.fw.y;
v.Yf=v.Yf.h0(new jj(Y,A-c.lineHeight,F.Yf.r,c.lineHeight));v.U1=F.U1;b+=U}return v}}}}}};fc.prototype.In=function(){var J=Infinity,v=Infinity,x=-Infinity,o=-Infinity;
for(var h=0;h<this.u7.length;h++){var R=this.u7[h];for(var r=0;r<R.W9.length;r++){var l=R.W9[r];if(!l.RG)break;
for(var M=l.start;M<l.end;M++){var P=R.uk[M];for(var S=P.d6;S<=P.K7;S++){var c=R.y_[S],b=c.Yf,w=R.fw.x+l.fw.x+P.fw.x+c.fw.x,U=R.fw.y+l.fw.y+P.fw.y+c.fw.y;
J=Math.min(J,w+b.x);v=Math.min(v,U+b.y);x=Math.max(x,w+b.x+b.r);o=Math.max(o,U+b.y+b.$)}}}}return new jj(J,v,x-J,o-v)};
fc.gH=function(J){return 19968<=J&&J<=40959||12288<=J&&J<=12543};fc.Qe=function(J,v,x,o,R,r,l){var M=[r],P=0;
for(var h=r;h<l;h++){if(x[h]==null)console.log(h,r,l,x);var S=x[h].E5,c=S.charCodeAt(0);if(c==32||c==9){M.push(P,h,1,h+1);
P=0}else if(c==3851){M.push(P+1,h+1);P=0}else if(fc.gH(c)){M.push(P,h);P=1}else if(h!=r&&x[h].ln!=x[h-1].ln){M.push(P,h);
P=1}else P++}M.push(P);var b=[];for(var h=0;h<M.length;h+=2){var w=M[h],U=M[h+1];if(U==0)continue;b.push(new fc.aje(J,v,x,o,R,w,U))}return b};
fc.aH5=function(J,v,x,o,R,r,l){var M=[0,v?v.r:1e9],P=[];if(o){var S=J[r].uh,c=R+(R==0?S:J[r].lineHeight),b=c-S*.9,w=g.b.aqq(o[0],b),U=w.length,F=g.b.aqq(o[0],c),Y=F.length;
if(U!=0&&Y!=0){var A=0,G=0,n=[];while(A<U&&G<Y){var E=Math.max(w[A],F[G]),K=w[A+1],e=F[G+1],$=Math.min(K,e);
if(E<$)n.push(E,$);if(K<e)A+=2;else G+=2}if(n.length!=0)M=n}}for(var N=0;N<M.length;N+=2){var k=0,V=r,X=v?M[N+1]-M[N]-x.StartIndent-x.EndIndent-(r==0?x.FirstLineIndent:0):Infinity;
while(r!=J.length){var Q=J[r],L=k==0||(Q.e9||Q.Oe)||k+Q.Yf.r<X;if(!L)break;k+=Q.Yf.r;r++}P.push(r-V)}l[0]=P;
l[1]=M;l[2]=r};fc.a6Q=function(J,v){var x=J.length,o=new Uint32Array(x),R=new Uint8Array(x),r=0;for(var h=0;
h<x;h++){R[h]=0;var l=J.charCodeAt(h);o[h]=l;if(l>r)r=l}if(r>1424)R=fc.afd(o,v);return R};fc.aA7=function(J){return J=="ÃŸ"?J:J.toUpperCase()};
fc.pe=function(J,v,x,o,R,r,l){this.uk=[];this.W9=[];this.fw=new aG(0,0);this.y_=null;this.uk=null;this.Rw=bI.ayj(J,o);
var M=this.Rw,b=0,F="",e=0,$=1,iH=0;if(o!=0){var P=M.SpaceBefore;if(P!=null)r[0]+=P}var S=J.EngineDict.ParagraphRun.RunLengthArray,c=S[o];
for(var h=0;h<o;h++)b+=S[h];var w=M._Direction?M._Direction:0;this.aee=b;var U=bI.FB(J).slice(b,b+c);
for(var Y=0;Y<U.length;Y++){var A=x[b+Y],G=A.Rw.FontCaps,n=U.charAt(Y);if(G==0)F+=n;if(G==1)F+=A.fH?fc.aA7(n):n;
if(G==2)F+=fc.aA7(n)}U=F;var E=fc.a6Q(U,w),K=[],N=E[0]&1,k=x[b].MG;x[b].ln=E[0];for(var h=1;h<U.length;
h++){var n=x[b+h],V=E[h];n.ln=V;if(V!=N||n.MG!=k){K.push(e,$);e=h;$=1;N=V;k=n.MG}else $++}K.push(e,$);
var X=this.y_=[];for(var h=0;h<K.length;h+=2){var Q=K[h],L=K[h+1],_=(x[b+Q].ln&1)==0,a=U.slice(Q,Q+L),T=[];
for(var Y=0;Y<L;Y++){var Z=x[b+Q+Y].Rw,W=[];T.push(W);for(var D=0;D<8;D++)W.push(Z[bI.Wk[D]]?1:0);W.push(Z.FontCaps==1?1:0)}T=fc.atu(T);
var C=Typr.U.shapeHB(x[b+Q].MG,a,_,T),d=[];for(var Y=0;Y<C.length;Y++){var p=C[Y];d.push({H:p.g,vA:p.cl,m4:p.ax,R1:p.ay,VT:p.dx,zx:p.dy})}C=d;
for(var Y=0;Y<a.length;Y++){var y=0,i=-1;for(var t=0;t<C.length;t++){var $=C[t].vA;if($<=Y&&$>i){i=$;
y=t}}x[b+Q+Y].j7=X.length+y}for(var Y=0;Y<C.length;Y++){X.push(C[Y]);C[Y].vA+=Q;var n=x[b+C[Y].vA];if(n._j!=-1&&n._j<n.MG.maxp.numGlyphs){C[Y].H=n._j;
var O=n.MG.hmtx;if(O){var q=Object.keys(O)[0];C[Y].m4=O[q][n._j]}}if(n.E5=="\n")C[Y].m4=0;if(n.E5=="\t")C[Y].m4=n.MG.head.unitsPerEm*36/n.Rw.FontSize}}var z=bI.EF(M),jw=this.uk=fc.Qe(J,v,x,b,X,b,b+c),u=this.W9,s=-1,F=[null,null,0];
while(iH<jw.length){fc.aH5(jw,R,M,l,r[0],iH,F);s++;var bV={start:iH,end:0,Yf:new jj,fw:new aG(0,0),RG:!0},ad=0,jC=0;
u.push(bV);bV.end=F[2];if(bV.start==bV.end)throw"e";var jU=bV.end==jw.length;function eX(jr,Q,fY){var iR=fY-Q>>>1;
for(var h=0;h<iR;h++){var g6=jr[Q+h];jr[Q+h]=jr[fY-1-h];jr[fY-1-h]=g6}}for(var et=1;et<5;et++){var f7=-1;
for(var h=bV.start;h<bV.end;h++){var V=x[jw[h].start].ln;if(f7==-1&&V>=et)f7=h;else if(f7!=-1&&V<et){eX(jw,f7,h);
f7=-1}}var iY=bV.end;if(w==0&&jw[iY-1].e9)iY--;if(f7!=-1)eX(jw,f7,iY)}var cd=F[0],jV=F[1],f7=iH,g2=iH;
for(var gV=0;gV<jV.length;gV+=2){var fD=R?jV[gV+1]-jV[gV]-M.StartIndent-M.EndIndent-(iH==0?M.FirstLineIndent:0):Infinity,j4=0;
f7=g2;g2+=cd[gV>>>1];var dQ=this.aly(f7,g2,jw,w,R!=null);if(R){if(z==1||jU&&z==4)j4=dQ[1]+(fD-dQ[0]);
if(z==2||jU&&z==5)j4=dQ[1]+(fD-dQ[0])/2;if(g2-f7==1&&jw[f7].Yf.r>fD)j4=0;if(s==0)j4+=M.FirstLineIndent;
j4+=M.StartIndent}else{if(z==0)j4=M.StartIndent+M.FirstLineIndent;if(z==1)j4=-dQ[0]-M.EndIndent;if(z==2)j4=-dQ[0]/2}j4+=jV[gV];
if(R&&z>2&&(z==6||!jU))this.awt(f7,g2,jw,fD,w,j4);else{var eO=j4;for(var h=f7;h<g2;h++){var a7=jw[h],cc=a7.Yf.r;
a7.fw.x=eO;if(a7.tw=="\t")cc=Math.ceil((eO+4)/36)*36-eO;eO+=cc}}}iH=bV.end;for(var h=bV.start;h<bV.end;
h++){var iJ=jw[h].Yf.Q();iJ.a8l(jw[h].fw);bV.Yf=bV.Yf.h0(iJ);ad=Math.max(ad,jw[h].uh);jC=Math.max(jC,jw[h].lineHeight)}bV.fw.y=s==0?0:u[s-1].fw.y+jC;
if(s==0){if(o==0&&R)r[0]+=ad;if(o!=0)r[0]+=jC;this.fw.y=r[0]}else r[0]+=jC;if(R)bV.RG=this.fw.y+bV.fw.y<R.y+R.$||o==0&&s==0}var kJ=M.SpaceAfter;
if(kJ!=null)r[0]+=kJ};fc.pe.prototype.aly=function(J,v,x,o,R){var r=0,l=0;for(var h=J;h<v;h++)r+=x[h].Yf.r;
if(R){if(o==0)for(var h=v-1;h>=J;h--)if(x[h].e9||x[h].Oe)r-=x[h].Yf.r;else break;if(o==1)for(var h=J;
h<v;h++)if(x[h].e9||x[h].Oe){var M=x[h].Yf.r;r-=M;l-=M}else break}return[r,l]};fc.pe.prototype.awt=function(J,v,x,o,R,r){var l=0,M=0,P=0,S=0;
for(var h=J;h<v;h++)if(x[h].e9)P++;else{l+=x[h].Yf.r;M++}if(R==0)for(var h=v-1;h>=J;h--)if(x[h].e9||x[h].Oe){if(x[h].e9){P--}}else break;
if(R==1)for(var h=J;h<v;h++)if(x[h].e9||x[h].Oe){if(x[h].e9){P--;S++}}else break;if(M<=1||P==0){if(M==1)x[J].fw.x=r;
return}var c=(o-l)/P,b=-S*c;for(var h=J;h<v;h++){if(x[h].e9)this.y_[x[h].d6].Yf.r=x[h].Yf.r=c;x[h].fw.x=r+b;
b+=x[h].Yf.r}};fc.aje=function(J,v,x,o,R,r,l){this.tw="";for(var h=0;h<l;h++)this.tw+=x[r+h].E5;this.e9=l==1&&(x[r].E5==" "||x[r].E5=="\t");
this.Oe=l==1&&x[r].E5=="\n";this.start=r;this.end=r+l;this.Yf=new jj;this.fw=new aG(0,0);this.uh=0;this.lineHeight=0;
var M=0,P=0;if(l==0){this.lineHeight=x[r].lineHeight;this.uh=x[r].uh;this.Yf=new jj(0,-x[r].lineHeight,0,x[r].lineHeight)}var S=x[r].j7,c=x[r+l-1].j7;
if(c<S){var b=S;S=c;c=b}while(c+1<R.length&&R[c].vA==R[c+1].vA){c++}this.d6=S;this.K7=c;for(var w=S;
w<=c;w++){var U=R[w],F=x[o+U.vA],Y=J._LineOrientation==2&&(F.Rw.BaselineDirection!=2||fc.gH(F.E5.charCodeAt(0))),A=Typr.U.glyphToPath(F.MG,U.H),e=0;
U.path={Wp:A.cmds,T:A.crds};var G=F.Rw.FontSize,n=1/F.MG.head.unitsPerEm*G;if(!F.Rw.AutoKerning)M+=F.Rw.Kerning*2*n*F.scale.x;
U.fw=new aG(M,0);U.U1=0;if(Y&&U.path.T.length>0){U.U1=-Math.PI/2;U.fw.x+=G*.83;U.fw.y=-G*.3+U.m4*n/2;
U.m4=G/n}var E=U.m4*n*F.scale.x;U.Yf=new jj(0,-F.lineHeight,E,F.lineHeight);var K=U.Yf.Q();K.a8l(U.fw);
if(F.Rw.Tracking!=null)e=F.Rw.Tracking*.001*G;if(F.Rw.FauxBold==!0)e+=.027*G;M+=E+e;if(w<R.length-2)U.Yf.r+=e;
if(l==1&&F.E5==" "){K.r+=2*e;U.fw.x+=e}else if(l==1&&F.E5!=null&&fc.gH(F.E5.charCodeAt(0)))K.r+=e;this.Yf=this.Yf.h0(K);
this.uh=Math.max(this.uh,F.uh);this.lineHeight=Math.max(this.lineHeight,F.lineHeight)}};fc.MZ=0;fc.aBO=function(J){if(fc.MZ==2)return!0;
if(fc.MZ==1)return!1;fc.MZ=1;function v(){fetch(f6.mP("code/ext/fribidi.wasm")).then(function(x){return x.arrayBuffer()}).then(function(x){return WebAssembly.instantiate(x)}).then(function(x){var o=x.instance.exports,R=o.memory,r=16,l=256,M=1,P=r|l,S=r|l|M;
fc.afd=function(b,w){var U=b.length,F=U*4+4+U*4+U*4+U;d2.es(o,F+U+1e7);var Y=new Uint8Array(R.buffer),A=new Uint32Array(R.buffer),G=o.calloc(F,1),n=G+U*4,E=n+4,K=E+U*4,e=K+U*4;
A.set(b,G>>>2);A[n>>>2]=w==0?P:S;o.fribidi_get_bidi_types(G,U,E);o.fribidi_get_bracket_types(G,U,E,K);
o.fribidi_get_par_embedding_levels_ex(E,K,U,n,e);var $=Y.slice(e,e+U);o.free(G);return $};fc.MZ=2;var c=new dd(j.E.j,!0);
c.data={R:j.m.Qq,pG:"add",Fu:cj.dX,xO:null};if(J)J.a(c)})}Typr.U.initHB(f6.mP("code/ext/hb.wasm"),v);
return!1};fc.atu=function(J){var v=[],x=J.length,o=bI.a2I;for(var R=0;R<9;R++){var r=o[R],M=null;if(r==null)continue;
var l=-1;for(var h=0;h<x;h++){var P=J[h][R];if(P!=l){if(M)M[3]=h;M=[r,P,h,h+1];v.push(M);l=P}}M[3]=x}return v};
function bI(){}bI.GE=function(J,v){for(var x in v)J[x]=v[x]};bI.Wk="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
bI.X6=[18,20,19,25,28,26,24,23];bI.awO="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
bI.a2I="liga calt dlig swsh salt titl ordn frac smcp".split(" ");bI.Q6=function(J,v,x,o){var R=bI.av8();
if(x)bI.qc(R,0,0,x);var r=new bC;if(o!=null)r.rotate(o);r.translate(Math.round(J),Math.round(v));var l={u:r,vv:R};
l.gZ=bI.aeR();l.Pd=g.wL.C();l.yW=new jj;return l};bI.anR=function(J){var v=["CharacterDirection",0];
for(var h=0;h<v.length;h+=2){if(J[v[h]]!=null&&J[v[h]]!=v[h+1]){throw"e";console.log(v[h],J[v[h]])}}if(J instanceof Array)for(var h=0;
h<J.length;h++)bI.anR(J[h]);else if(J instanceof Object)for(var x in J)bI.anR(J[x])};bI.EF=function(J,v){if(v==null)v=J.Justification;
var x=J._Direction?J._Direction:0;if(x==1){if(v==0||v==3)v++;else if(v==1||v==4)v--}return v};bI.bi=function(J){if(J.add==null)return;
var v=J.vv,x=v.Curve,o=J.add.vmsk,R=o.X,r=g.b.Am(R,2).T,l=J.u.Q();l.SV();g.b.u(r,l,r);var M=r.slice(0,8);
for(var P=8;P<r.length;P+=6)M.push(r[P-2],r[P-1],r[P],r[P+1],r[P+2],r[P+3],r[P+4],r[P+5]);x.Points=M;
x.TextOnPathTRange=o.J7.slice(0);x.Reversed=o.Oj;if(bI.eP(v)==1){var x=fc.$w(v.Curve),S=g.b.ni(x[0]);
bI.lC(v,[0,0,S.r,S.$].map(Math.round));for(var h=0;h<M.length;h+=2){M[h]-=S.x;M[h+1]-=S.y}var c=new bC(1,0,0,1,S.x,S.y);
c.concat(J.u);J.u=c}};bI.ff=function(J){if(J.add==null)return;var v=J.add.vmsk,x=J.vv.Curve,o=x.Points,R={Wp:["M"],T:[o[0],o[1]]};
for(var h=0;h<o.length;h+=8){R.Wp.push("C");R.T.push(o[h+2],o[h+3],o[h+4],o[h+5],o[h+6],o[h+7])}g.b.u(R.T,J.u,R.T);
var r=g.b.ZX(R,!0);v.X=r;v.Oj=x.Reversed;v.J7=x.TextOnPathTRange.slice(0);J.add.vogk=m.Tr(r)};bI.Eb=function(J){var v={z:0,H:0,c:0};
if(J){var x=J.Values;if(J.Type==1)v={z:x[1]*255,H:x[2]*255,c:x[3]*255};else if(J.Type==2){var o={classID:"CMYC",Cyn:{t:"doub",v:x[1]*100},Mgnt:{t:"doub",v:x[2]*100},Ylw:{t:"doub",v:x[3]*100},Blck:{t:"doub",v:x[4]*100}};
v=g.UH.Eb(o)}else console.log("Unknown color type")}return v};bI.aBU=function(J){for(var h=0;h<J.length;
h++){var v=J[h].StyleSheet.StyleSheetData,x=v.FillColor;if(x&&x.Type==2){var o=bI.Eb(x);x.Type=1;x.Values=[1,o.z/255,o.H/255,o.c/255]}}};
bI.ca=function(J,v){var x;if(bI.eP(J.vv)==1){var o=bI.JG(J.vv);x=new jj(0,0,o[2]-o[0],o[3]-o[1])}else{x=v.In();
if(v.B7){var R=v.B7.Q(),r=g.b.ho(x);g.b.u(r.T,R,r.T);x=g.b.ni(r.T)}}return x};bI.K1=function(J){var v=J[0];
for(var h=0;h<J.length;h++)v=bI.af_(v,J[h]);return v};bI.af_=function(J,v){var x={};for(var o in J)if(JSON.stringify(J[o])==JSON.stringify(v[o]))x[o]=J[o];
return x};bI.ud=function(J,v){var x=J.t6,o=-1;for(var h=0;h<x.length;h++)if(x[h].Name==v)o=h;if(o==-1){o=x.length;
x.push({FontType:1,Name:v,Script:0,Synthetic:0})}J.iz.Font=o};bI.FB=function(J){return J.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
bI.in=function(J,v){J.EngineDict.Editor.Text=v.replace(/\n/g,"\r")};bI.eP=function(J){return J.Curve&&J.Curve.TextOnPathTRange[0]>=0?2:J.EngineDict.Rendered.Shapes.Children[0].ShapeType};
bI.IN=function(J,v){var x=J.EngineDict.Rendered.Shapes.Children[0];x.ShapeType=v;var o=x.Cookie.Photoshop;
o.ShapeType=v;o.Base.ShapeType=v;if(v==0){delete o.BoxBounds;o.PointBase=[0,0]}if(v==1){delete o.PointBase;
o.BoxBounds=[0,0,1,1]}};bI.JG=function(J){return J.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
bI.lC=function(J,v){J.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=v};bI.aa4=function(J,v){var x=J.EngineDict.AlternateGlyphRun;
if(x==null)return-1;var o=bI.Iu(x.RunLengthArray,v).r$;if(x.RunArray[o]==null)return-1;var R=x.RunArray[o].Glyph;
return R==null?-1:R};bI.apS=function(J,v,x){var o=J.EngineDict.AlternateGlyphRun;if(o==null){o=J.EngineDict.AlternateGlyphRun=bI.aBx();
o.RunArray.push({});o.RunLengthArray.push(bI.FB(J).length)}var R=bI.Iu(o.RunLengthArray,v),r=R.r$,l=v-R.wy,M=o.RunArray[r],P=JSON.stringify(M),S=o.RunLengthArray[r];
if(l!=0){o.RunArray.splice(r,0,JSON.parse(P));o.RunLengthArray.splice(r,0,l);o.RunLengthArray[r+1]-=l;
r++;S-=l;l=0}if(S!=1){o.RunArray.splice(r+1,0,JSON.parse(P));o.RunLengthArray.splice(r+1,0,S-1);o.RunLengthArray[r]=1;
S=1}M.Glyph=x};bI.aem=function(J,v){var x=J.EngineDict.StyleRun.RunLengthArray;return bI.Iu(x,v).r$};
bI.a1$=function(J,v){var x=J.ResourceDict.StyleSheetSet[0].StyleSheetData,o={};for(var R in x)o[R]=x[R];
var r=J.EngineDict.StyleRun.RunArray[v].StyleSheet.StyleSheetData;bI.GE(o,r);return o};bI.a9L=function(J,v){var x=J.EngineDict.ParagraphRun.RunLengthArray;
return bI.Iu(x,v).r$};bI.ayj=function(J,v){var x=J.ResourceDict.ParagraphSheetSet[0].Properties,o={};
for(var R in x)o[R]=x[R];var r=J.EngineDict.ParagraphRun.RunArray[v].ParagraphSheet.Properties;bI.GE(o,r);
var l=["StartIndent","EndIndent","FirstLineIndent"];for(var h=0;h<3;h++)if(o[l[h]]==null)o[l[h]]=0;return o};
bI.Cq=function(J,v,x){if(x=="")return;var o=bI.FB(J);bI.in(J,o.substring(0,v)+x+o.substring(v,o.length));
var R=J.EngineDict.StyleRun,r=R.RunLengthArray,l=bI.Iu(r,v-1);r[l.r$]+=x.length;var M=J.EngineDict.AlternateGlyphRun;
if(M){var r=M.RunLengthArray,l=bI.Iu(r,v-1);r[l.r$]+=x.length}var P=J.EngineDict.ParagraphRun,r=P.RunLengthArray,S=bI.Iu(r,v),c=x.split("\n");
if(c.length==1){r[S.r$]+=x.length;return}r.splice(S.r$+1,0,r[S.r$]-(v-S.wy));P.RunArray.splice(S.r$+1,0,g.F(P.RunArray[S.r$]));
r[S.r$]-=r[S.r$+1];r[S.r$]+=c[0].length+1;for(var h=1;h<c.length-1;h++){P.RunArray.splice(S.r$+h,0,g.F(P.RunArray[S.r$+h-1]));
P.RunLengthArray.splice(S.r$+h,0,c[h].length+1)}r[S.r$+c.length-1]+=c[c.length-1].length};bI.u9=function(J,v,x){var o=bI.FB(J);
bI.in(J,o.substring(0,v)+o.substring(x,o.length));bI.HV(J.EngineDict.ParagraphRun,v,x,!0);bI.HV(J.EngineDict.StyleRun,v,x,!1);
var R=J.EngineDict.AlternateGlyphRun;if(R)bI.HV(R,v,x,!1)};bI.HV=function(J,v,x,o){var R=J.RunLengthArray,r=bI.Iu(R,v),l=bI.Iu(R,x),M=[];
for(var h=0;h<R.length;h++)for(var P=0;P<R[h];P++)M.push(h);M.splice(v,x-v);var S=[];for(var h=0;h<R.length;
h++)S.push(0);for(var h=0;h<M.length;h++)S[M[h]]++;for(var h=0;h<R.length;h++){if(S[h]==0){S.splice(h,1);
R.splice(h,1);J.RunArray.splice(h,1);h--}else if(S[h]<R[h])R[h]=S[h]}if(o&&r.r$!=l.r$&&r.wy!=v){R[r.r$]+=R[r.r$+1];
R.splice(r.r$+1,1);J.RunArray.splice(r.r$+1,1)}};bI.qc=function(J,v,x,o){var R=J.EngineDict.Editor.Text.length;
if(x==R-2)x++;if(o.iz.Font!=null)J.ResourceDict.FontSet=o.t6.slice(0);if(v<=x)bI.a7B(J.EngineDict.StyleRun,o.iz,v,x,!0);
bI.a7B(J.EngineDict.ParagraphRun,o.u7,v,x,!1)};bI.Ni=function(J,v,x){var o={t6:J.ResourceDict.FontSet.slice(0),iz:[],u7:[]},R=J.EngineDict.StyleRun.RunLengthArray,r=bI.Iu(R,v).r$,l=bI.Iu(R,x).r$;
for(var h=r;h<=l;h++){var M=g.F(J.ResourceDict.StyleSheetSet[0].StyleSheetData),P=J.EngineDict.StyleRun.RunArray;
if(P.length==0)continue;var S=P[h].StyleSheet.StyleSheetData;bI.GE(M,S);o.iz.push(M)}var c=J.EngineDict.ParagraphRun.RunLengthArray,b=bI.Iu(c,v).r$,w=bI.Iu(c,x).r$;
for(var h=b;h<=w;h++){var U=J.EngineDict.ParagraphRun.RunArray;if(U.length==0)continue;o.u7.push(g.F(U[h].ParagraphSheet.Properties))}o.iz=o.iz.length==0?{}:bI.K1(o.iz);
o.u7=o.u7.length==0?{}:bI.K1(o.u7);return o};bI.a7B=function(J,v,x,o,R){var r=J.RunLengthArray;if(R){var l=bI.Iu(r,x);
if(l.wy!=x){var M=r[l.r$];r.splice(l.r$,0,x-l.wy);r[l.r$+1]=M-r[l.r$];J.RunArray.splice(l.r$+1,0,g.F(J.RunArray[l.r$]))}var P=bI.Iu(r,o);
if(P.wy+r[P.r$]-1!=o){var M=r[P.r$];r.splice(P.r$,0,o-P.wy+1);r[P.r$+1]=M-r[P.r$];J.RunArray.splice(P.r$+1,0,g.F(J.RunArray[P.r$]))}}var l=bI.Iu(r,x),P=bI.Iu(r,o);
if(R)for(var h=l.r$;h<=P.r$;h++)bI.GE(J.RunArray[h].StyleSheet.StyleSheetData,v);else for(var h=l.r$;
h<=P.r$;h++)bI.GE(J.RunArray[h].ParagraphSheet.Properties,v)};bI.anw=function(J,v,x){var o=J.EngineDict.StyleRun.RunLengthArray,R=[],r=0;
for(var h=0;h<o.length;h++){var l=o[h];for(var M=0;M<l;M++)if(v<=r+M&&r+M<x)R.push(h);r+=l}var P=R[0],S=[];
for(var h=0;h<R.length;h++){var c=R[h]-P;if(c==S.length)S.push(0);S[c]++}return S};bI.afU=function(J){var v=J.EngineDict.StyleRun,x=v.RunArray,o=v.RunLengthArray;
for(var h=0;h<o.length-1;h++){var R=x[h].StyleSheet.StyleSheetData,r=x[h+1].StyleSheet.StyleSheetData;
if(JSON.stringify(R)==JSON.stringify(r)){x.splice(h+1,1);o[h]+=o[h+1];o.splice(h+1,1);h--}}};bI.aR=function(J){var v=J.gZ.AntA.v.Annt;
v=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(v);if(v==-1)v=1;return v};bI.yK=function(J,v){J.gZ.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][v]};
bI.iT=function(J,v){var x,o;x=["FontSize","Leading","BaselineShift","OutlineWidth"];o=J.iz;for(var h=0;
h<x.length;h++)if(o[x[h]]!=null)o[x[h]]*=v;x=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
o=J.u7;for(var h=0;h<x.length;h++)if(o[x[h]]!=null)o[x[h]]*=v};bI.abr=function(){return bI.Ni(g.F(bI.aeL),0,0)};
bI.aeR=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
bI.Iu=function(J,v){var x=0,h=0;while(x+J[h]<=v){x+=J[h];h++}return{r$:h,wy:x}};bI.av8=function(){var J=g.F(this.aeL);
return J};bI.acs=function(J,v){var x=v.u7};bI.arm=function(J,v){var x=v.iz,o;o=J.Undl;if(o&&o.v.Undl=="underlineOnLeftInVertical")x.Underline=!0;
o=J.syntheticItalic;if(o)x.FauxItalic=o.v};bI.aof={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
bI.aun={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
bI.aBx=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};bI.aeL={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:g.F(bI.aof)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ãƒ¼\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ãƒ½ãƒ¾ã‚ã‚žã€…ããƒã…ã‡ã‰ã£ã‚ƒã‚…ã‚‡ã‚Žã‚¡ã‚£ã‚¥ã‚§ã‚©ãƒƒãƒ£ãƒ¥ãƒ§ãƒ®ãƒµãƒ¶\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ãƒ½ãƒ¾ã‚ã‚žã€…",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:g.F(bI.aof)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:g.F(bI.aun)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var d1={};d1.a0z=function(J){var v=d1.ano(J._0,J._1);d1.ab6(v,J._0);return v};d1.asg=function(J,v,x){var o={};
o._98={_0:"i7"};o._0=d1.a8T(J,v,x?x._0:null);o._1=d1.ajH(J,v,o._0,x?x._1:null);return o};d1.a8T=function(J,v,x){var o={};
o._1=d1.a4T(J,x?x._1:null);o._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};o._3=g.F(d1.abg);o._4=g.F(d1.atZ);
o._5=d1.aut(J,o._1._0,x?x._5:null);o._6=d1.al5(J,x?x._6:null);o._8=d1.ack(J,v,x?x._8:null);o._9=d1.aip;
return o};d1.ab6=function(J,v){d1.agy(J,v._5,v._1._0)};d1.a4T=function(J,v){var x=[],o=[];for(var h=0;
h<J.length;h++){var R=J[h].ResourceDict.FontSet;for(var r=0;r<R.length;r++){var l=R[r];if(o.indexOf(l.Name)!=-1)continue;
x.push(l);o.push(l.Name)}}var M={_0:[]};for(var h=0;h<x.length;h++){var P=x[h],S={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+P.Name,_1:"i"+P.Script,_2:"i"+P.FontType}}};
if(P.Script==0)delete S._0._0._1;M._0.push(S)}return M};d1.aut=function(J,v,x){var o={_0:[],_1:[]},R={_0:g.F(d1.adq)};
d1.azY(R._0,J[0].ResourceDict.StyleSheetSet[0],v,J[0].ResourceDict.FontSet);o._0.push(R);o._1.push({_0:"i0"});
o._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});o._1.push({_0:"i1"});return o};d1.agy=function(J,v,x){var o=v._0[0];
for(var h=0;h<J.length;h++)d1.ahl(o._0,J[h].ResourceDict.StyleSheetSet[0],x,J[h].ResourceDict.FontSet)};
d1.al5=function(J,v){var x={_0:[],_1:[]},o={_0:g.F(d1.RZ)};d1.jv(o._0,J[0].ResourceDict.ParagraphSheetSet[0]);
x._0.push(o);x._1.push({_0:"i0"});o={_0:g.F(d1.RZ)};d1.jv(o._0,J[0].ResourceDict.ParagraphSheetSet[0]);
o._0._0="sBasic Paragraph";o._0._6="i0";x._0.push(o);x._1.push({_0:"i1"});return x};d1.ack=function(J,v,x){var o={_0:[]};
for(var h=0;h<J.length;h++){var R=J[h].Curve,r={};o._0.push({_0:r});var l=bI.eP(J[h]);r._1={};r._2={};
r._2._0="i"+l;if(J[h]._LineOrientation==2)r._2._1="i2";if(l==0){delete r._1;r._2._6=["f-1","f-1"];r._2._11={_4:"i-1",_7:!1}}else if(l==1&&R==null){var M=bI.JG(J[h]),P=M[2],S=M[3];
r._1._0=d1.Rh("f",[0,0,0,0,P,0,P,0,P,0,P,0,P,S,P,S,P,S,P,S,0,S,0,S,0,S,0,S,0,0,0,0]);r._2._6=["f-2","f-2"];
r._2._11={_4:"i-2",_7:!1}}else if(l==1){var M=bI.JG(J[h]),P=M[2],S=M[3];r._1._0=d1.Rh("f",R.Points);
r._2._6=["f-3","f-3"];r._2._11={_4:"i-3",_7:!1}}else if(l==2){r._1._0=d1.Rh("f",R.Points);r._2._6=d1.Rh("f",R.TextOnPathTRange);
r._2._11={_0:R.Reversed,_3:"i0",_5:"f0",_7:!1}}}return o};d1.ajH=function(J,v,x,o){var R={};R._0=g.F(d1.awf);
R._1=d1.a3f(J,v,x,o?o._1:null);R._2=g.F(d1.adq._6);R._3=g.F(d1.RZ._5);return R};d1.ano=function(J,v){return d1.aBI(J,v._1)};
d1.a3f=function(J,v,x,o){var R=[],r=x._1._0;for(var h=0;h<J.length;h++){var l=J[h],M={_0:{}};R.push(M);
M._0._0="s"+l.EngineDict.Editor.Text;M._0._0=M._0._0;var P=M._0._5={_0:[]},S=l.EngineDict.ParagraphRun;
for(var c=0;c<S.RunArray.length;c++){var b={_0:{}};P._0.push(b);b._0._0={_0:"s",_5:{},_6:"i1"};d1.jv(b._0._0,S.RunArray[c].ParagraphSheet);
b._1="i"+S.RunLengthArray[c]}var w=M._0._6={_0:[]};S=l.EngineDict.StyleRun;for(var c=0;c<S.RunArray.length;
c++){var U={_0:{}};w._0.push(U);U._0._0={_0:"s",_5:"i1",_6:{}};d1.azY(U._0._0,S.RunArray[c].StyleSheet,r,l.ResourceDict.FontSet);
U._1="i"+S.RunLengthArray[c]}S=l.EngineDict.AlternateGlyphRun;if(S){var F=M._0._9={_0:[]};for(var c=0;
c<S.RunArray.length;c++){var Y={_0:{}};F._0.push(Y);var A=S.RunArray[c];if(A.Glyph!=null){Y._0._0={_0:"i"+A.Glyph,_1:"e"}}Y._1="i"+S.RunLengthArray[c]}}M._0._10={_0:"i4",_2:!0};
M._1=d1.view.aHX(l,null,h,null)}return R};d1.aBI=function(J,v){var x=[],o=J._1._0;if(v)for(var h=0;h<v.length;
h++){var R=bI.av8();x.push(R);var r=v[h];R.EngineDict.Editor.Text=r._0._0.slice(1);var l=R.EngineDict.ParagraphRun.RunArray[0],M=R.EngineDict.ParagraphRun,P=r._0._5;
if(P)for(var S=0;S<P._0.length;S++){var c=P._0[S];M.RunLengthArray[S]=parseInt(c._1.slice(1));M.RunArray[S]=g.F(l);
d1.akn(c._0._0,M.RunArray[S].ParagraphSheet)}else{M.RunLengthArray[0]=bI.FB(R).length}var b=r._0._6;
M=R.EngineDict.StyleRun;if(b)for(var S=0;S<b._0.length;S++){var w=b._0[S];M.RunLengthArray[S]=parseInt(w._1.slice(1));
M.RunArray[S]={StyleSheet:{StyleSheetData:{}}};d1.ahl(w._0._0,M.RunArray[S].StyleSheet,o,R.ResourceDict.FontSet)}else{M.RunLengthArray[0]=bI.FB(R).length;
M.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return x};d1.azY=function(J,v,x,o,R){J._0="s"+(v.Name?v.Name:"");
var r=J._6,l=R?R._6:null,M=v.StyleSheetData;if(M.Font!=null){var P=o[M.Font].Name,S=-1;for(var h=0;h<x.length;
h++)if("s"+P==x[h]._0._0._0){S=h;break}r._0="i"+S}if(M.FontSize!=null)r._1="f"+M.FontSize;if(M.FauxBold!=null)r._2=M.FauxBold;
if(M.FauxItalic!=null)r._3=M.FauxItalic;if(M.AutoLeading!=null)r._4=M.AutoLeading;if(M.Leading!=null)r._5="f"+M.Leading;
if(M.HorizontalScale!=null)r._6="f"+M.HorizontalScale;if(M.VerticalScale!=null)r._7="f"+M.VerticalScale;
if(M.Tracking!=null)r._8="i"+M.Tracking;if(M.BaselineShift!=null)r._9="f"+M.BaselineShift;if(M.AutoKerning!=null)r._11="i"+(M.AutoKerning?1:0);
if(M.FontCaps!=null)r._12="i"+M.FontCaps;if(M.FontBaseline!=null)r._13="i"+M.FontBaseline;if(M.Strikethrough!=null)r._15="i"+(M.Strikethrough?1:0);
if(M.Underline!=null)r._16="i"+(M.Underline?2:0);if(M.Ligatures!=null)r._18=M.Ligatures;if(M.DLigatures!=null)r._19=M.DLigatures;
if(M.BaselineDirection!=null)r._35="i"+M.BaselineDirection;if(M.Language!=null)r._38="i"+M.Language;
if(M.FillColor!=null)r._53=d1.GG(M.FillColor);if(M.StrokeColor!=null)r._54=d1.GG(M.StrokeColor);if(M.FillFlag!=null)r._56=M.FillFlag;
if(M.StrokeFlag!=null)r._57=M.StrokeFlag;if(M.FillFirst!=null)r._58=M.FillFirst;if(M.OutlineWidth!=null)r._63="f"+M.OutlineWidth;
if(M._FillBackgroundColor!=null)r._79=d1.GG(M._FillBackgroundColor);if(M._FillBackgroundFlag!=null)r._80=M._FillBackgroundFlag;
if(M._LineCap!=null)r._61="i"+M._LineCap;if(M._LineJoin!=null)r._62="i"+M._LineJoin;if(M._MiterLimit!=null)r._64="f"+M._MiterLimit;
if(M._LineDashOffset!=null)r._65="f"+M._LineDashOffset;if(M._LineDashArray!=null)r._66=d1.Rh("f",M._LineDashArray);
for(var h=0;h<8;h++)if(M[bI.Wk[h]]!=null)r["_"+bI.X6[h]]=M[bI.Wk[h]]};d1.GG=function(J){return{_99:"/SimplePaint",_0:{_0:"i1",_1:d1.Rh("f",J.Values)}}};
d1.ahl=function(J,v,x,o){var R=J._6;if(R==null)return;var r=v.StyleSheetData;if(R._0){var l=parseInt(R._0.slice(1)),M=x[l]._0._0._0.slice(1);
bI.ud({iz:r,t6:o},M)}if(R._1!=null)r.FontSize=parseFloat(R._1.slice(1));if(R._2!=null)r.FauxBold=R._2;
if(R._3!=null)r.FauxItalic=R._3;if(R._4!=null)r.AutoLeading=R._4;if(R._5!=null)r.Leading=parseFloat(R._5.slice(1));
if(R._6!=null)r.HorizontalScale=parseFloat(R._6.slice(1));if(R._7!=null)r.VerticalScale=parseFloat(R._7.slice(1));
if(R._8!=null)r.Tracking=parseFloat(R._8.slice(1));if(R._9!=null)r.BaselineShift=parseFloat(R._9.slice(1));
if(R._11!=null)r.AutoKerning=parseFloat(R._11.slice(1))==1;if(R._12!=null)r.FontCaps=parseFloat(R._12.slice(1));
if(R._13!=null)r.FontBaseline=parseFloat(R._13.slice(1));if(R._15!=null)r.Strikethrough=parseFloat(R._15.slice(1))==1;
if(R._16!=null)r.Underline=parseFloat(R._16.slice(1))==1;if(R._18!=null)r.Ligatures=R._18;if(R._19!=null)r.DLigatures=R._19;
if(R._35!=null)r.BaselineDirection=parseFloat(R._35.slice(1));if(R._38!=null)r.Language=parseFloat(R._38.slice(1));
if(R._53!=null)r.FillColor=d1.gJ(R._53);if(R._54!=null)r.StrokeColor=d1.gJ(R._54);if(R._56!=null)r.FillFlag=R._56;
if(R._57!=null)r.StrokeFlag=R._57;if(R._63!=null)r.OutlineWidth=parseFloat(R._63.slice(1));if(R._79!=null)r._FillBackgroundColor=d1.gJ(R._79);
if(R._80!=null)r._FillBackgroundFlag=R._80;if(R._61!=null)r._LineCap=parseFloat(R._61.slice(1));if(R._62!=null)r._LineJoin=parseFloat(R._62.slice(1));
if(R._64!=null)r._MiterLimit=parseFloat(R._64.slice(1));if(R._65!=null)r._LineDashOffset=parseFloat(R._65.slice(1));
if(R._66!=null)r._LineDashArray=d1.gL(R._66);for(var h=0;h<8;h++)if(R["_"+bI.X6[h]]!=null)r[bI.Wk[h]]=R["_"+bI.X6[h]]};
d1.gJ=function(J){var v=J._0._0,x=[1,0,0,0],o=d1.gL(J._0._1);if(v=="i0")x[1]=x[2]=x[3]=o[1];else if(v=="i1")x=o;
else if(v=="i2")x=[1].concat(UDOC.C.cmykToRgb(o.slice(1)));else console.log("unknown color type",v,o);
return{Type:1,Values:x}};d1.jv=function(J,v){J._0="s"+(v.Name?v.Name:"");var x=J._5,o=v.Properties;if(o.Justification!=null)x._0="i"+o.Justification;
if(o.FirstLineIndent!=null)x._1="f"+o.FirstLineIndent;if(o.StartIndent!=null)x._2="f"+o.StartIndent;
if(o.EndIndent!=null)x._3="f"+o.EndIndent;if(o.SpaceBefore!=null)x._4="f"+o.SpaceBefore;if(o.SpaceAfter!=null)x._5="f"+o.SpaceAfter;
if(o.AutoLeading!=null)x._7="f"+o.AutoLeading;if(o.AutoHyphenate!=null)x._9=o.AutoHyphenate;if(o._Direction!=null)x._33="i"+o._Direction;
if(o._ComposerEngine!=null)x._35="i"+o._ComposerEngine};d1.akn=function(J,v){var x=J._5;if(x==null)return;
var o=v.Properties;if(x._0)o.Justification=parseInt(x._0.slice(1))};d1.Rh=function(J,v){var x=[];for(var h=0;
h<v.length;h++)x.push(J+v[h]);return x};d1.gL=function(J){var v=[];for(var h=0;h<J.length;h++)v.push(parseFloat(J[h].slice(1)));
return v};d1.abg={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
d1.atZ={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002ã€…\u3009\u300B\u300A\u300F\u3011\u3015ããƒã…ã‡ã‰ã£ã‚ƒã‚…ã‚‡ã‚Ž\u309B\u309Cã‚ã‚žã‚¡ã‚£ã‚¥ã‚§ã‚©ãƒƒãƒ£ãƒ¥ãƒ§ãƒ®ãƒµãƒ¶\u30FBãƒ¼ãƒ½ãƒ¾\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002ã€…\u3009\u300B\u300A\u300F\u3011\u3015ã‚ã‚ž\u30FBãƒ½ãƒ¾\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002ã€…\u3009\u300B\u300A\u300F\u3011\u3015ããƒã…ã‡ã‰ã£ã‚ƒã‚…ã‚‡ã‚Ž\u309B\u309Cã‚ã‚žã‚¡ã‚£ã‚¥ã‚§ã‚©ãƒƒãƒ£ãƒ¥ãƒ§ãƒ®ãƒµãƒ¶\u30FBãƒ¼ãƒ½ãƒ¾\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002ã€…\u3009\u300B\u300A\u300F\u3011\u3015ã‚ã‚ž\u30FBãƒ½ãƒ¾\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
d1.adq={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
d1.RZ={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
d1.aip={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
d1.awf={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var ca={};ca.a0c=function(J){return ca._q(J,ca.MP,0)};ca.aH$=function(J){return ca.$J(J,ca.MP)};ca._q=function(J,v,x){var o;
if(typeof J=="string")return J;if(J instanceof Array){o=[];for(var h=0;h<J.length;h++)o[h]=ca._q(J[h],v,x+1)}else{o={};
var R={};for(var r in v){var l=v[r],M="_"+l[0];if(J[M]!=null){o[r]=l[1]?ca._q(J[M],l[1],x+1):J[M];R[M]=!0}}for(var r in J){if(R[r]==null){if(r.length>3)continue;
console.log(v,R);console.log(r,J);throw"e"}}}return o};ca.$J=function(J,v){var x;if(typeof J=="string")return J;
else if(J instanceof Array){x=[];for(var h=0;h<J.length;h++)x[h]=ca.$J(J[h],v)}else{x={};var o={};for(var R in v){var r=v[R],l="_"+r[0];
if(J[R]!=null){x[l]=r[1]?ca.$J(J[R],r[1]):J[R];o[R]=!0}}for(var R in J){if(o[R]==null){console.log(v,o);
console.log(R,J);throw"e"}}}return x};ca.Jn={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
ca.EZ={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,ca.Jn],_StrokeColor:[54,ca.Jn],_Blend:[55,{_0:[0],_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,ca.Jn],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
ca.awg={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,ca.EZ],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40],_41:[41]};
ca.arY={_Name:[0],_Features:[5,ca.awg],_Parent:[6],_UUID:[97]};ca.a3C={_Name:[0],_Parent:[5],_Features:[6,ca.EZ],_UUID:[97]};
ca.MP={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,ca.a3C]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,ca.arY]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_12:[12],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,ca.arY]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,ca.a3C]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4],_5:[5]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,ca.EZ],_OriginalNormalParagraphFeatures:[3,ca.awg],_4:[4],_5:[5]}]};
d1.view={};d1.view.aHX=function(J,v,x,o){var R={},r=bI.eP(J);R._0=[{_0:"i"+x}];return R};function CSS(){}CSS.atw=function(J,v){var x=J.add,o=x.vmsk,R=x.vstk,r=x.lmfx,l=x.TySh,M=[],P=CSS.qx(r,x),S=J.fc/255*(J.add.iOpa!=null?J.add.iOpa/255:1);
if(S!=1)M.push("opacity: "+S.toFixed(3));if(J.Id()&&o){var c=g.I.Or(o.X);if(!c.L3()){M.push("width: "+Math.round(c.r)+"px");
M.push("height: "+Math.round(c.$)+"px")}var b=g.I.aCa(o.X);if(b>0)M.push("border-radius: "+Math.round(b)+"px")}else if(l){var w=l.vv;
if(bI.eP(w)==1){var c=bI.JG(w);M.push("width: "+Math.round(c[2])+"px");M.push("height: "+Math.round(c[3])+"px")}CSS.auF(M,bI.Ni(w,0,0),l.u,!1,!1,P[0])}CSS.ak4(v,r,M);
if(l==null)CSS.ayW(P,M);if(R==null||!R.strokeEnabled.v)R=iD.axY(r);if(R&&R.strokeEnabled.v){var U=R.strokeStyleContent.v,F=U.classID,Y=R.strokeStyleOpacity.v.val/100,A=R.strokeStyleLineWidth.v.val,G="";
if(F=="solidColorLayer")G=CSS.Jg(U.Clr.v,Y);M.push("border: "+A+"px solid "+G)}return M};CSS.ak4=function(J,v,x){if(v==null||!v.masterFXSwitch.v)return;
var o=v.dropShadowMulti.v.concat(v.innerShadowMulti.v);for(var h=0;h<o.length;h++){var R=o[h].v;if(R.enab.v){var r=R.classID=="IrSh",l=R.Dstn.v.val,M=R.lagl.v.val*Math.PI/180;
if(R.uglg&&R.uglg.v)M=J.AR()*Math.PI/180;var P=l*Math.cos(M),S=l*Math.sin(M),c=(P==0?"0 ":CSS.ay8(-P)+"px ")+(S==0?"0 ":CSS.ay8(S)+"px ")+R.blur.v.val/2+"px "+CSS.Jg(R.Clr.v,R.Opct.v.val/100);
if(r)x.push("box-shadow: inset "+c);else x.push("filter: drop-shadow("+c+")")}}};CSS.qx=function(J,v){var x=iD.anB(J,v),o=x[0],R=x[1],r,l;
if(o){r=CSS.Jg(o.Clr.v,v.iOpa!=null?v.iOpa/255:1)}else if(R){l=CSS.bI(R)}return[r,l]};CSS.ayW=function(J,v){if(J[0])v.push("background-color: "+J[0]);
if(J[1])v.push("background-image: "+J[1])};CSS.Pa={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.ay8=function(co){return""+parseFloat(co.toFixed(3))};CSS.qn=function(J){if(J==null)return{z:0,H:0,c:0};
var v=J.indexOf("(");if(v!=-1){var x=J.slice(v+1,J.length-1).split(",");for(var h=0;h<x.length;h++){var o=x[h].trim();
x[h]=parseFloat(o)*(o.endsWith("%")?255/100:1)}if(J.startsWith("hsl")){var R=g.aS(x[0]/360,x[1]/255,x[2]/255);
R.z*=255;R.H*=255;R.c*=255;return R}return{z:x[0],H:x[1],c:x[2]}}if(J.charAt(0)!="#"){var r=CSS.Pa;if(r[J])J=r[J];
else console.log("unknown color "+J)}J=J.slice(1);if(J.length==4)J=J[0]+J[0]+J[1]+J[1]+J[2]+J[2]+J[3]+J[3];
if(J.length==3)J=J[0]+J[0]+J[1]+J[1]+J[2]+J[2];var l=-1;if(J.length==8){l=parseInt(J.slice(6),16);J=J.slice(0,6)}J=parseInt(J,16);
var M={z:J>>16&255,H:J>>8&255,c:J&255};if(l!=-1)M.o5=l;return M};CSS.Jg=function(J,v){return CSS.yN(g.UH.Eb(J),v)};
CSS.yN=function(J,v){if(v==null)v=1;var x=Math.round(J.z),o=Math.round(J.H),R=Math.round(J.c),r=x<<16|o<<8|R;
return v==1?"#"+g.q2(r):"rgba("+x+","+o+","+R+","+v+")"};CSS.aHB=function(J,v){return CSS.yN({z:J[0]*255,H:J[1]*255,c:J[2]*255},v)};
CSS.bI=function(J){var v=J.Grad.v;if(v.Clrs==null)return"";var x=v.Clrs.v.slice(0),o=v.Trns.v.slice(0),R=J.Ofst.v,r=J.Type.v.GrdT=="Rdl"?1:0,l=(r==1?"radial":"linear")+"-gradient",M=r==0?Math.round(-J.Angl.v.val+90)+"deg":"circle at center",P=J.Rvrs.v,S=g.UH.afW(v,P);
for(var h=0;h<S.length;h++){var c=S[h],b=c[1];M+=", "+CSS.yN({z:b[0]*255,H:b[1]*255,c:b[2]*255},c[2])+" "+Math.round(c[0]*100)+"%"}return l+"("+M+")"};
CSS.auF=function(J,v,x,o,R,r){var l=v.iz,M=o?1:x.Nf(),P=Math.round(l.FontSize*M);J.push("font-size: "+P+"px");
var S=l.Tracking;if(!o&&S!=null&&S!=0)J.push("letter-spacing: "+Math.round(S*P/1e3)+"px");if(!l.AutoLeading)J.push("line-height: "+Math.round(l.Leading*M)+"px");
if(l.Strikethrough)J.push("text-decoration: line-through");if(l.Underline)J.push("text-decoration: underline");
if(l.FontCaps==2)J.push("text-transform: uppercase");var c=bI.Eb(l.FillColor);c=[c.z,c.H,c.c].map(Math.round);
J.push((o?"fill: ":"color: ")+(r?r:"#"+g.q2(c[0]<<16|c[1]<<8|c[2])));var b=v.t6[l.Font].Name;if(b){var w=b5.DP.FX(b),U="",F=null,Y=null;
if(w!=null&&b!=b5.yx(w))w=null;if(R&&w)U+="\""+b+"\", ";var A=b.toLowerCase();if(w){F=b5.ale(w)[0];if(w["OS/2"])Y=w["OS/2"].usWeightClass}else{F=CSS.acm(b);
if(A.indexOf("light")!=-1)Y=300;else if(A.indexOf("medium")!=-1)Y=500;else if(A.indexOf("black")!=-1||A.indexOf("extrabold")!=-1)Y=800;
else if(A.indexOf("bold")!=-1)Y="bold"}if(F!=null)U+="\""+F+"\"";if(Y!=null)J.push("font-weight: "+Y);
if(A.indexOf("italic")!=-1||A.indexOf("oblique")!=-1)J.push("font-style: italic");if(U)J.push("font-family: "+U)}var G=v.u7.Justification;
if(G!=null&&G!=0)if(o){}else J.push("text-align: "+["left","right","center"][G%3])};CSS.acm=function(J){J=J.split("-")[0];
while(J.endsWith("MT")||J.endsWith("PS"))J=J.slice(0,J.length-2);var v=!0;for(var h=0;h<J.length;h++){var x=J.charAt(h);
if(!v&&x.toLowerCase()!=x){J=J.slice(0,h)+" "+J.slice(h);h++;v=!0}else v=!1}return J};function gy(){}gy.a2={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
gy.zk=function(J,v){var x=Date.now(),o=J.split("\n"),R;if(o.length==1)o=J.split("\r");for(var h=0;h<o.length;
h++)if(o[h].trim()[0]=="#"){o[h]=""}J=o.join("\n");try{R=acorn.parse(J)}catch(gw){console.log(gw);return}var r=g.F(gy.iu.au);
r.__return=!1;r.__continue=!1;r.__break=!1;r.__throw=!1;r.__fs={};r.__window={};gy.eval(R,v,r);var l=r.__fs;
if(Object.keys(l).length!=0){var M=UZIP.encode(l);aB.save(M,"output.zip")}};gy.eval=function(J,v,x){var o=J.type;
if(!1){}else if(o=="Program"||o=="BlockStatement"){var R=J.body;for(var h=0;h<R.length;h++){var r=R[h].type;
if(r=="FunctionDeclaration")x[R[h].id.name]=R[h]}for(var h=0;h<R.length;h++){var r=R[h].type,l=gy.eval(R[h],v,x);
if(x.__continue&&x.__pif==null){x.__continue=!1;return l}if(x.__return||x.__break||x.__throw)return l}}else if(o=="ReturnStatement"){x.__return=!0;
return J.argument?gy.SY(J.argument,v,x):null}else if(o=="BreakStatement"){x.__break=!0}else if(o=="ContinueStatement"){x.__continue=!0}else if(o=="VariableDeclaration"){var M=J.declarations;
for(var h=0;h<M.length;h++)gy.eval(M[h],v,x)}else if(o=="VariableDeclarator"){x[J.id.name]=J.init?gy.SY(J.init,v,x):null}else if(o=="FunctionDeclaration"){x[J.id.name]=J}else if(o=="MemberExpression"){var P=gy.SY(J.object,v,x),l;
if(x.__throw)return;var S=J.computed?gy.SY(J.property,v,x):gy.eval(J.property,v,x);if(P.xY!=null)l=gy.iu.f5(P,S,v,x);
else if(P==window&&gy.a2[S]){}else l=P[S];return l}else if(o=="ArrayExpression"){var c=[],b=J.elements;
for(var h=0;h<b.length;h++)c.push(gy.SY(b[h],v,x));return c}else if(o=="ObjectExpression"){var c={},b=J.properties;
for(var h=0;h<b.length;h++){var w=b[h],U=b[h].key.name?b[h].key.name:b[h].key.value;c[U]=gy.SY(b[h].value,v,x)}return c}else if(o=="ExpressionStatement"){return gy.eval(J.expression,v,x)}else if(o=="NewExpression"){var F=J.arguments,Y=J.callee,A=Y.type,G=Y.name,n=[],c=null;
for(var h=0;h<F.length;h++)n.push(gy.SY(F[h],v,x));if(G=="Array")c=new window[G];else if(A=="Identifier")c=gy.iu.a8J(G,n,v,x);
else throw"e";if(c==null)throw"new "+G;return c}else if(o=="CallExpression"){var F=J.arguments,Y=J.callee,A=Y.type,E={};
for(var K in x)E[K]=x[K];var n=[];for(var h=0;h<F.length;h++)n.push(gy.SY(F[h],v,x));if(A=="Identifier"){var e=Y.name,$=x[e];
if($&&$.xY=="AppFunc"){e=$.ox;$=null}if($){if($.params){var N=$.params;for(var h=0;h<N.length;h++)E[N[h].name]=n[h];
return gy.eval($.body,v,E)}else{return $.apply(null,n)}}else if(gy.iu.aHD.indexOf(e)!=-1)return gy.iu.R_({xY:"Application"},e,n,v,x);
else if(window[e]==null)console.log("Unknown function "+e);else if(gy.a2[e])alert(e+"() not available");
else{var k=window[e].apply(window,n);return k}}else if(A=="MemberExpression"){var P=gy.SY(Y.object,v,x),S=Y.computed?gy.SY(Y.property,v,x):gy.eval(Y.property,v,x);
if(P==window&&gy.a2[S])return;if(P.xY!=null)return gy.iu.R_(P,S,n,v,x);else if(S=="sort"&&P[0]&&P[0].xY=="Layer"){return P.sort(function(q,z){return q.K.getName()>z.K.getName()?1:-1})}else if(S=="toSource")return JSON.stringify(P);
else return P[S].apply(P,n)}else if(A=="FunctionExpression"){var V=gy.eval(Y.body,v,x);x.__return=!1;
return V}else console.log(J)}else if(o=="AssignmentExpression"){var X=J.operator,Q=J.left,L=Q.type,_=gy.SY(Q,v,x),a=gy.SY(J.right,v,x),l=null;
if(!1){}else if(X=="=")l=a;else if(X=="+=")l=_+a;else if(X=="-=")l=_-a;else if(X=="*=")l=_*a;else if(X=="/=")l=_/a;
else if(X=="%=")l=_%a;else if(X=="&=")l=_&a;else if(X=="|=")l=_|a;else if(X=="&&=")l=_&&a;else if(X=="||=")l=_||a;
else console.log(J);if(L=="Identifier"){var T=Q.name;if(x.hasOwnProperty(T))x[T]=l;else x.__window[T]=l}else if(L=="MemberExpression"){var f=gy.eval(Q.property,v,x),Z=gy.SY(Q.object,v,x);
if(Z.xY!=null)gy.iu.aA8(Z,f,l,v,x);else Z[f]=l}else console.log(J);return l}else if(o=="Identifier")return J.name;
else if(o=="Literal")return J.value;else if(o=="UpdateExpression"){var X=J.operator,W=J.argument.name,c=gy.SY(J.argument,v,x),D=x;
if(D[W]==null)D=x.__window;if(!1){}else if(X=="++"){D[W]++;return J.prefix?D[W]:D[W]-1}else if(X=="--"){D[W]--;
return J.prefix?D[W]:D[W]+1}else console.log(J)}else if(o=="UnaryExpression"){var X=J.operator,C=gy.SY(J.argument,v,x);
if(C&&C.xY=="UnitValue"){if(X=="-")return-C.K;else return gy.auG(C.K,X)}else return gy.auG(C,X)}else if(o=="BinaryExpression"||o=="LogicalExpression"){var X=J.operator,Q=gy.SY(J.left,v,x);
if(o=="LogicalExpression"&&X=="&&"&&!Q)return Q;var C=gy.SY(J.right,v,x);if(Q==null||C==null)return gy.l4(Q,C,X);
else if(Q.xY=="UnitValue"&&C.xY=="UnitValue")return gy.l4(Q.K,C.K,X);else if(Q.xY=="UnitValue")return gy.l4(Q.K,C,X);
else if(C.xY=="UnitValue"){if(X=="-")return-(Q-C.K);else return gy.l4(Q,C.K,X)}else return gy.l4(Q,C,X)}else if(o=="IfStatement"){var d=gy.SY(J.test,v,x),p=x.__pif,l=null;
x.__pif=!0;if(d)l=gy.eval(J.consequent,v,x);else if(J.alternate)l=gy.eval(J.alternate,v,x);x.__pif=p;
return l}else if(o=="ConditionalExpression"){var d=gy.SY(J.test,v,x);if(d)return gy.SY(J.consequent,v,x);
else if(J.alternate)return gy.SY(J.alternate,v,x)}else if(o=="ForInStatement"){gy.eval(J.left,v,x);var y=J.left.declarations[0].id.name,i=gy.SY(J.right,v,x);
for(var K in i){x[y]=K;var t=gy.eval(J.body,v,x);if(x.__break)break;if(x.__return)return t}x.__break=!1}else if(o=="ForStatement"){gy.eval(J.init,v,x);
while(gy.eval(J.test,v,x)){var t=gy.eval(J.body,v,x);if(x.__break)break;if(x.__return)return t;gy.eval(J.update,v,x)}x.__break=!1}else if(o=="WhileStatement"){while(gy.eval(J.test,v,x)){var t=gy.eval(J.body,v,x);
if(x.__break)break;if(x.__return)return t}x.__break=!1}else if(o=="DoWhileStatement"){do{var t=gy.eval(J.body,v,x);
if(x.__break)break;if(x.__return)return t}while(gy.eval(J.test,v,x));x.__break=!1}else if(o=="TryStatement"){gy.eval(J.block,v,x);
if(x.__throw){var O=J.handler;x[O.param.name]=x.__throw;x.__throw=!1;gy.eval(O.body,v,x);delete x[O.param.name]}}else if(o=="FunctionExpression"){return J}else if(o=="EmptyStatement"){}else console.log(J)};
gy.l4=function(J,v,x){if(x=="+")return J+v;else if(x=="-")return J-v;else if(x=="*")return J*v;else if(x=="/")return J/v;
else if(x=="%")return J%v;else if(x=="^")return J^v;else if(x=="&")return J&v;else if(x=="&&")return J&&v;
else if(x=="|")return J|v;else if(x=="||")return J||v;else if(x=="<")return J<v;else if(x==">")return J>v;
else if(x=="=="){if(J!=null&&v!=null&&J.xY&&v.xY)return J.K==v.K;return J==v}else if(x=="===")return J===v;
else if(x=="<=")return J<=v;else if(x==">=")return J>=v;else if(x=="!=")return J!=v;else if(x=="!==")return J!==v;
else if(x=="<<")return J<<v;else if(x==">>")return J>>v;else console.log(x)};gy.auG=function(J,v){if(v=="-")return-J;
else if(v=="!")return!J;else if(v=="~")return~J;else if(v=="+")return J;else if(v=="typeof")return typeof J;
else console.log(v,J)};gy.SY=function(J,v,x){var o=J.type;if(o=="Identifier")return gy.auT(J.name,v,x);
else return gy.eval(J,v,x)};gy.auT=function(J,v,x){if(J=="undefined")return undefined;else if(x.hasOwnProperty(J))return x[J];
else if(J=="app")return{xY:"Application"};else if(J=="Folder")return{xY:"Folder"};else if(J=="File")return{xY:"File"};
else if(J=="$")return{xY:"$"};else if(gy.iu.a4w.indexOf(J)!=-1)return gy.iu.f5({xY:"Application"},J,v,x);
else if(gy.iu.aHD.indexOf(J)!=-1)return{xY:"AppFunc",ox:J};else if(x.__window.hasOwnProperty(J))return x.__window[J];
else if(window[J]&&!gy.a2[J])return window[J];else{x[J]=null;return null}};gy.iu={};gy.iu.a8J=function(J,v,x,o){var R;
if(J=="PathPointInfo")R={xY:J,kind:0,Z:[],nQ:[],_v:[]};if(J=="SubPathInfo")R={xY:J,M5:0,q7:!1,K:[]};
if(J=="SolidColor")R={xY:J,K:[1,0,0,0]};if(J=="RGBColor")R={xY:J,K:[1,0,0,0]};if(J=="Window")R={xY:J,K:new bK(v[0],v[1],v[2])};
if(J=="ExportOptionsSaveForWeb")R={xY:J,K:{d_:"png",i$:100}};if(J=="PhotoshopSaveOptions")R={xY:J,K:{d_:"psd"}};
if(J=="PNGSaveOptions")R={xY:J,K:{d_:"png",i$:100}};if(J=="JPEGSaveOptions")R={xY:J,K:{d_:"jpg",i$:100}};
if(J=="PDFSaveOptions")R={xY:J,K:{d_:"pdf",afg:""}};if(J=="File")R={xY:J,K:v[0]};if(J=="ActionReference")R={xY:J,K:{t:"obj ",v:[]}};
if(J=="ActionDescriptor")R={xY:J,K:{t:"Objc",v:{classID:"null"}}};if(J=="ActionList")R={xY:J,K:{t:"VlLs",v:[]}};
if(J=="UnitValue")R={xY:J,K:v.length==0?0:parseFloat(v[0])};return R};gy.iu.a4w="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
gy.iu.aHD="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
gy.iu.f5=function(J,v,x,o){var R=x.f,r=x.j4();if(!1){}else if(v=="typename"){if(J.xY=="Layer")return J.K.tX()?"LayerSet":"ArtLayer";
else return J.xY}else if(["Document","Layer"].indexOf(J.xY)!=-1&&["layers","artLayers","layerSets"].indexOf(v)!=-1){var l=r;
if(J.xY=="Document")l=J.K;else l=J.yE;var M=l.root,P={xY:"Layers",aEW:v,K:[],yE:l};if(J.xY=="Layer")M=l.root.jJ(l.k.indexOf(J.K));
if(M.children==null)return null;for(var h=0;h<M.children.length;h++){var S=M.children[h].w,c=S.tX();
if(c&&v=="artLayers"||!c&&v=="layerSets")continue;P.K.push({xY:"Layer",K:S,yE:l})}P.K.reverse();return P}else if(J.xY=="Documents"||J.xY=="Layers"||J.xY=="HistoryStates"||J.xY=="LayerComps"||J.xY=="PathItems"||J.xY=="SubPathItems"||J.xY=="PathPoints"){if(!1){}else if(v=="length")return J.K.length;
else if(Number.isInteger(v))return J.K[v];else console.log(J.xY+": unknown property ",v)}else if(J.xY=="Application"){if(!1){}else if(v=="activeDocument")return{xY:"Document",K:x.j4()};
else if(v=="documents"){var P={xY:"Documents",K:[]};for(var h=0;h<x.n4.length;h++)P.K.push({xY:"Document",K:x.n4[h]});
return P}else if(v=="fonts")return{xY:"TextFonts"};else if(v=="preferences")return{xY:"Preferences"};
else if(v=="displayDialogs")return{xY:"DialogModes"};else if(v=="foregroundColor"||v=="backgroundColor"){var b=v[0]=="f"?R.P4:R.Vb;
return{xY:"SolidColor",K:[1,(b>>>16&255)/255,(b>>>8&255)/255,(b>>>0&255)/255]}}else if(v=="UI")return{xY:"UI"};
else if(v=="version")return 30;else console.log(J,v)}else if(J.xY=="Document"){var r=J.K;if(!1){}else if(v=="activeLayer"){var S=r.k[r.Y[0]];
return{xY:"Layer",K:S,yE:r}}else if(v=="pixelAspectRatio")return 1;else if(v=="resolution")return r.Bt;
else if(v=="width")return r.r;else if(v=="height")return r.$;else if(v=="name")return r.name;else if(v=="saved")return!r.y6();
else if(v=="selection")return{xY:"Selection"};else if(v=="activeHistoryState")return{xY:"HistoryState",Vn:r.wb};
else if(v=="source")return r.bp;else if(v=="layerComps"){var w=r.eG.list.v,U=[];for(var h=0;h<w.length;
h++)U.push({xY:"LayerComp",K:h});return{xY:"LayerComps",K:U}}else if(v=="historyStates"){var F=[];for(var h=0;
h<r.history.length;h++)F.push({xY:"HistoryState",Vn:h});return{xY:"HistoryStates",K:F}}else if(v=="mode")return r.add.fcmy?1:7;
else if(v=="colorSamplers"){var P={xY:"ColorSamplers",aEW:v,K:r.Ql.slice(0),yE:r};return P}else if(v=="pathItems"){var Y=[],r=J.K,A=r.Ng(),G=A[0],n=A[1];
for(var h=0;h<G.length;h++)Y.push({xY:"PathItem",K:G[h]});return{xY:"PathItems",K:Y}}else console.log(J,v)}else if(J.xY=="PathItem"){if(v=="subPathItems"){var E=J.K,K=E.add.vmsk.X,Y=[];
for(var h=0;h<g.I.Eo(K);h++){var e=g.I.I5(K,h),$=K[e],N=K.slice(e+1,e+1+$.length);Y.push({xY:"SubPathItem",M5:$.da,q7:$.e==0,K:m.e_.w2(N)})}return{xY:"SubPathItems",K:Y}}else alert(v)}else if(J.xY=="SubPathItem"||J.xY=="SubPathInfo"){if(v=="pathPoints"||v=="entireSubPath"){var Y=[];
for(var h=0;h<J.K.length;h++){var k=J.K[h];Y.push({xY:"PathPointInfo",kind:k.e==1||k.e==4?1:0,Z:[k.Z.x,k.Z.y],nQ:[k.nQ.x,k.nQ.y],_v:[k._v.x,k._v.y]})}return{xY:"PathPoints",K:Y}}else if(v=="operation")return J.M5;
else if(v=="closed")return J.q7;else throw v}else if(J.xY=="PathPointInfo"){if(v=="kind")return J.kind;
else if(v=="anchor")return J.Z;else if(v=="leftDirection")return J.nQ;else if(v=="rightDirection")return J._v;
else throw v}else if(J.xY=="LayerComp"){if(v=="name")return r.eG.list.v[J.K].v.Nm.v;else throw v}else if(J.xY=="ColorSamplers"){if(Number.isInteger(v))return{xY:"ColorSampler",K:J.K[v]};
else if(v=="length")return r.Ql.length}else if(J.xY=="ColorSampler"){if(v=="color"){var b=H.WG.xv(r,r.U.Lp(J.K.x,J.K.y),1,2);
return{xY:"SolidColor",K:[1,(b>>>16&255)/255,(b>>>8&255)/255,(b>>>0&255)/255]}}else if(v=="position")return[J.K.x,J.K.y]}else if(J.xY=="Layer"){var V={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},S=J.K;
if(!1){}else if(v=="visible")return S.jh();else if(v=="selected")return r.Y.indexOf(r.k.indexOf(S))!=-1;
else if(v=="grouped")return S.Hv;else if(V[v]!=null)return S.UP(V[v]);else if(v=="opacity")return S.fc*100/255;
else if(v=="fillOpacity")return(S.add.iOpa==null?255:S.add.iOpa)*100/255;else if(v=="blendMode")return S.gR;
else if(v=="name")return S.getName();else if(v=="id")return S.add.lyid;else if(v=="textItem")return{xY:"TextItem",K:S};
else if(v=="bounds"){var X=H.ge.ca(r,[r.k.indexOf(S)]);return gy.iu.ad$(X,r)}else if(v=="parent"){var Q=x.n4,l;
for(var h=0;h<Q.length;h++)if(Q[h].k.indexOf(S)!=-1)l=Q[h];var L=l.root.jJ(l.k.indexOf(S)).parent;return L.depth==0?{xY:"Document",K:l}:{xY:"Layer",K:L.w,yE:l}}else if(v=="kind"){var _=gy.iu.ZF;
for(var h=0;h<_.length;h++)if(S.add[_[h]]!=null)return h;return 0}else if(v=="isBackgroundLayer")return S.add.lnsr="bgnd";
else if(v=="itemIndex")return r.k.indexOf(S)+1;else console.log(J,v)}else if(J.xY=="Selection"){if(!1){}else if(v=="bounds"){if(r.g==null)o.__throw={message:"no selection"};
else return gy.iu.ad$(r.g.S,r)}else console.log(J,v)}else if(J.xY=="TextItem"){var a=J.K.add.TySh,T=a.vv,f=bI.FB(T),Z=a.u.Nf(),W=bI.Ni(T,0,0);
if(v=="contents")return f.slice(0,f.length-1).replace(/\n/g,"\r");else if(v=="font")return W.iz.Font!=null?W.t6[W.iz.Font].Name:null;
else if(v=="size")return gy.iu.XR(W.iz.FontSize*Z,r);else if(v=="leading")return gy.iu.XR(W.iz.Leading*Z,r);
else if(v=="tracking")return gy.iu.XR(W.iz.Tracking);else if(v=="baselineShift")return gy.iu.XR(W.iz.BaselineShift);
else if(v=="fauxBold")return W.iz.FauxBold;else if(v=="fauxItalic")return W.iz.FauxItalic;else if(v=="kind")return 1-bI.eP(T);
else if(v=="useAutoLeading")return W.u7.AutoLeading;else if(v=="hyphenation")return W.u7.AutoHyphenate;
else if(v=="justification")return gy.iu.XR(W.u7.Justification);else if(v=="color")return{xY:"SolidColor",K:W.iz.FillColor.Values.slice(0)};
else if(v=="width"||v=="height"){var D=bI.JG(T),C=(D[2]-D[0])*Z,d=(D[3]-D[1])*Z;return gy.iu.XR(v=="width"?C:d,r)}else if(v=="position"){var p=a.u;
return gy.iu.azK([p.zP,p.jD],r)}else if(v=="horizontalScale"||v=="verticalScale"){var y=v[0].toUpperCase()+v.slice(1);
return Math.round(W.iz[y]*100)}else if(v=="antiAliasMethod")bI.aR(a);else if(v=="totalTextStyle"){var P={};
for(var i=0;i<2;i++){var t=["Style","Paragraph"][i],O=T.EngineDict[t+"Run"].RunLengthArray,q=[],z=0;
for(var h=0;h<O.length;h++){var jw=bI.Ni(T,z,Math.min(z+O[h],f.length-2));z+=O[h];q.push(i==0?jw.iz:jw.u7);
P.fontSet=jw.t6}P[t]={runs:O,styles:q}}return JSON.stringify(P)}else if(v=="transform"){var p=a.u;return JSON.stringify([p.o5,p.c,p.Mz,p.fn,p.zP,p.jD])}else console.log(J,v)}else if(J.xY=="Preferences"){if(v=="rulerUnits")return R.i3.eE;
else console.log(J,v)}else if(J.xY=="SolidColor"){if(v=="rgb")return{xY:"RGBColor",K:J.K};if(v=="cmyk")return{xY:"CMYKColor",K:g.Cv(J.K.slice(1))};
else console.log(J,v)}else if(J.xY=="RGBColor"){var X=Math.round(255*J.K[1]),u=Math.round(255*J.K[2]),iH=Math.round(255*J.K[3]);
if(!1){}else if(v=="red")return X;else if(v=="green")return u;else if(v=="blue")return iH;else if(v=="hexValue")return g.q2(X<<16|u<<8|iH).toUpperCase();
else console.log(J,v)}else if(J.xY=="CMYKColor"){var s=[];for(var h=0;h<4;h++)s.push(Math.round(J.K[h]*100));
var bV=["cyan","magenta","yellow","black"].indexOf(v);if(bV!=-1)return s[bV];else console.log(J,v)}else if(J.xY=="UnitValue"){if(v=="value")return J.K;
else throw"e"}else if(J.xY=="ExportOptionsSaveForWeb"){if(v=="format")return J.K.d_;else if(v=="PNG8"||v=="interlaced")return!1;
else if(v=="quality")return J.K.i$;else if(v=="transparency")return!0;else throw v}else if(J.xY=="PNGSaveOptions"||J.xY=="JPEGSaveOptions"||J.xY=="PDFSaveOptions"){return 0}else if(J.xY=="$"){if(v=="localize")return!1;
else if(v=="os")return"Windows";else throw v}else if(J.xY=="ActionList"){if(v=="count")return J.K.v.length;
else throw v}else console.log(J,v)};gy.iu.ad$=function(J,v){return gy.iu.azK([J.x,J.y,J.x+J.r,J.y+J.$],v)};
gy.iu.azK=function(J,v){var x=[];for(var h=0;h<J.length;h++)x.push(gy.iu.XR(J[h],v));return x};gy.iu.qi=function(J){var v=[];
for(var h=0;h<J.length;h++)v.push(J[h].xY?J[h].K:J[h]);return v};gy.iu.XR=function(J,v){return{xY:"UnitValue",K:J}};
gy.iu.az_=function(J,v){if(J.xY=="UnitValue")return J.K;return J};gy.iu.aA8=function(J,v,x,o,R){var r=new dd(j.E.G,!0),l=new dd(j.E.j,!0),M=o.j4(),P=o.f;
if(!1){}else if(J.xY=="Application"){if(!1){}else if(v=="activeDocument"){l.data={R:j.m.iD,qE:x.K};o.a(l)}else if(v=="displayDialogs"){}else if(v=="foregroundColor"||v=="backgroundColor"){var S=x.K,c=S[1]*255<<16|S[2]*255<<8|S[3]*255<<0;
l.data={R:j.m.Qq,Fu:cj.Zl,Uq:v=="foregroundColor"?0:1,K:c};o.a(l)}else console.log(J,v,x)}else if(J.xY=="Document"){var b=J.K;
if(!1){}else if(v=="name"){r.J=H.wu;r.data={R:m.Gl,K:x,agM:!0,Gm:b};M.Se=!0}else if(v=="source")b.bp=x;
else if(v=="activeLayer"){b.Y=[b.k.indexOf(x.K)]}else if(v=="activeHistoryState"){r.J=H.iI;r.data={R:"h_itemchange",index:x.Vn}}else console.log(J,v)}else if(J.xY=="Layer"){r.J=H.wu;
var w={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},U=J.K,F=M.k.indexOf(U);
if(!1){}else if(v=="visible"){if(U.jh()!=x)r.data={R:m.MA,w:F}}else if(v=="opacity"){r.data={R:m.oh,w:F,ra:Math.round(255*x/100)}}else if(v=="fillOpacity"){r.data={R:m.rS,w:F,ra:Math.round(255*x/100)}}else if(v=="blendMode"){r.data={R:m.xT,w:F,ra:gX.qI.indexOf(x)}}else if(v=="name"){r.data={R:m.E9,w:F,name:x}}else if(w[v]!=null){r.data={R:m.Ey,w:F,ra:[[x],[w[v]]]}}else if(v=="kind"){r.data={R:m.ML,w:F,Ck:gy.iu.ZF[x]}}else if(v=="grouped"){r.data={R:m.Pe,w:F,ra:x}}else console.log(J,v,x)}else if(J.xY=="TextItem"){r.J=H.i9;
var U=J.K,Y=U.add.TySh,A=g.F(Y.vv),G=Y.u.Q(),n=Y.u.Nf(),E=bI.FB(A),K=bI.Ni(A,0,E.length-2),e=!1;if(!1){}else if(v=="contents"){bI.u9(A,0,E.length-1);
bI.Cq(A,0,(x+"").replace(/\r/g,"\n"))}else if(v=="size"){K.iz.FontSize=(x.K!=null?x.K:x)/n;e=!0}else if(v=="leading"){K.iz.Leading=(x.K!=null?x.K:x)/n;
e=!0}else if(v=="tracking"){K.iz.Tracking=x.K!=null?x.K:x;e=!0}else if(v=="baselineShift"){K.iz.BaselineShift=x.K!=null?x.K:x;
e=!0}else if(v=="fauxBold"){K.iz.FauxBold=x;e=!0}else if(v=="fauxItalic"){K.iz.FauxItalic=x;e=!0}else if(v=="kind"){var $=bI.eP(A);
if($==1&&x==1){var N=new fc(A,o.f.rr,Y.gZ).u7[0],k=N.W9[0].end,V=N.uk[k-1].end;bI.u9(A,0,E.length-1);
bI.Cq(A,0,E.slice(0,V-1))}if($==x)bI.IN(A,1-x)}else if(v=="useAutoLeading"){K.u7.AutoLeading=x;e=!0}else if(v=="hyphenation"){K.u7.AutoHyphenate=x;
e=!0}else if(v=="justification"){K.u7.Justification=x;e=!0}else if(v=="font"){bI.ud(K,x);e=!0}else if(v=="color"){K.iz.FillColor.Values=x.K.slice(0);
e=!0}else if(v=="width"||v=="height"){var X=bI.JG(A).slice(0),Q=gy.iu.az_(x);if(v=="width")X[2]=Math.round(X[0]+Q/n);
else X[3]=Math.round(X[1]+Q/n);bI.lC(A,X)}else if(v=="position"){G.zP=x[0];G.jD=x[1]}else if(v=="horizontalScale"||v=="verticalScale"){var L=v[0].toUpperCase()+v.slice(1);
K.iz[L]=x/100;e=!0}else if(v=="antiAliasMethod")bI.yK(Y,x);else console.log(J,v,x);if(e)bI.qc(A,0,E.length-1,K);
r.data={R:"newED",A3:M.k.indexOf(U),Er:A,u:G}}else if(J.xY=="Preferences"){if(!1){}else if(v=="rulerUnits"){var _=g.F(P.i3);
_.eE=x;l.data={R:j.m.Qq,Fu:cj.oT,ra:_};o.a(l)}else console.log(J,v,x)}else if(J.xY=="SolidColor"){if(v=="rgb")J.K=x.K;
else throw v}else if(J.xY=="RGBColor"){if(!1){}else if(v=="red")J.K[1]=x/255;else if(v=="green")J.K[2]=x/255;
else if(v=="blue")J.K[3]=x/255;else if(v=="hexValue"){var a=g.aGc(x.slice(x.charAt(0)=="#"?1:0));J.K[1]=(a>>>16&255)/255;
J.K[2]=(a>>>8&255)/255;J.K[3]=(a>>>0&255)/255}else console.log(J,v)}else if(J.xY=="ExportOptionsSaveForWeb"){if(v=="format")J.K.d_=x;
else if(v=="PNG8"||v=="transparency"||v=="interlaced"){}else if(v=="quality")J.K.i$=x;else throw v}else if(J.xY=="PNGSaveOptions"||J.xY=="JPEGSaveOptions"){if(v=="quality")J.K.i$=Math.round(100*x/12)}else if(J.xY=="PDFSaveOptions"){if(v=="preset")J.K.afg=x}else if(J.xY=="PathPointInfo"){if(v=="kind")J.kind=x;
else if(v=="anchor")J.Z=x;else if(v=="leftDirection")J.nQ=x;else if(v=="rightDirection")J._v=x;else throw v}else if(J.xY=="SubPathInfo"){if(v=="operation")J.M5=x;
else if(v=="closed")J.q7=x;else if(v=="entireSubPath"){J.K=[];for(var h=0;h<x.length;h++){var T=x[h];
J.K.push({e:T.kind==1?1:2,nQ:new aG(T.nQ[0],T.nQ[1]),Z:new aG(T.Z[0],T.Z[1]),_v:new aG(T._v[0],T._v[1])})}}else throw v}else if(J.xY=="$"){if(v=="localize"){}}else console.log(J,v,x);
if(r.data!=null)o.a(r)};gy.iu.aIG=function(J,v,x){if(v==null)return;var o=v.vv.EngineDict.StyleRun.RunArray,R=v.vv.ResourceDict.FontSet,r=[];
for(var h=0;h<o.length;h++){var l=o[h].StyleSheet.StyleSheetData,M=R[l.Font].Name,P=x.f.rr.FX(M);if(P&&P.name.postScriptName!=M)P=null;
r.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:P!=null},fontPostScriptName:{t:"TEXT",v:M}}}}})}J.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:r},textKey:{t:"TEXT",v:bI.FB(v.vv)}}}};
gy.iu.R_=function(J,v,x,o,R){var r=J.xY,l=null,M=new dd(j.E.G,!0),P=new dd(j.E.aT,!0),S=new dd(j.E.j,!0),c=o.j4(),b=o.n4;
if(!1){}else if(r=="Application"){if(!1){}else if(v=="charIDToTypeID"){var w=x[0].trim(),U={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return U[w]?U[w]:w}else if(v=="stringIDToTypeID"){var F=x[0].trim(),U={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr",textStyle:"TxtS"},Y=U[F];
return Y==null?F:Y}else if(v=="typeIDToStringID"){return x[0].trim()}else if(v=="executeAction"){var A;
if(x[1]){A=x[1].K.v;A.classID=x[0]}var G={setd:"set"},n=G[x[0]];if(n==null)n=x[0];var E=kC.QT[x[0]];
if(E&&kC.Tn[E])n=kC.Tn[E];P.data={QI:n,_g:A}}else if(v=="executeActionGet"){var K=x[0].K.v,l={};if(K.length==1){var e=l.classID=K[0].v.classID;
if(e=="Lyr"){var $=kj.YF(c,K[0]),N=c.k[$],k=N.add.SoLd,V=N.add.SoCo,X=N.add.TySh;if(k)l.smartObjectMore={t:"Objc",v:{transform:k.nonAffineTransform}};
if(V)l.adjustment={t:"VlLs",v:[{t:"Objc",v:g.F(V)}]};if(X)gy.iu.aIG(l,X,o)}return{xY:"ActionDescriptor",K:{t:"null",v:l}}}if(K.length==2){var e=l.classID=K[1].v.classID,F=K[0].v.keyID;
if(e=="Dcmn"){var Q=c;if(F=="numberOfLayers")l[F]={t:"long",v:Q.k.length};else throw F}else if(e=="Lyr"){var $=kj.YF(c,K[1]),N=c.k[$],X=N.add.TySh;
if(F=="textKey")gy.iu.aIG(l,X,o);else throw F}else if(e=="ASet"){var L=o.f.L4,_=l.classID=K[0].v.classID;
if(_=="Actn"){l.NmbC={t:"long",v:kj.EK(L,K[0].v.val,K[1].v.val).SU.length}}else throw _}else throw e;
return{xY:"ActionDescriptor",K:{t:"null",v:l}}}}else if(v=="doAction"){S.data={R:j.m.xa,Yk:[x[0],x[1]]}}else if(v=="bringToFront"){}else if(v=="open"){S.data={R:j.m.Ia,Fu:{url:x[0]}};
if(x[2]&&b.length!=0)S.data.Fu.m8=b.indexOf(c)}else if(v=="echoToOE"){S.data={R:j.m.Wt,Fu:x[0]}}else if(v=="showWindow"){S.data={R:j.m.wz,kA:x[0]}}else if(v=="UnitValue"){return x[0]+" "+x[1]}else console.log(v)}else if(r=="LayerComp"){if(v=="apply"){M.J=H.Iq;
M.data={R:"setLC",Vn:c.eG.list.v[J.K].v.compID.v}}else throw v}else if(r=="Document"){var c=J.K;if(!1){}else if(v=="changeMode"){M.J=H.VO;
M.data={R:"fcmy",K:x[0]==1?1:0}}else if(v=="crop"){var a=x[0];P.data=H.cD.ajN([a[0],a[1],a[2]-a[0],a[3]-a[1]])}else if(v=="trim"){var T=[];
for(var h=0;h<4;h++)T.push(x[h+1]!=null?x[h+1]:!0);P.data=H.cD.oI(x[0]!=null?x[0]:0,T)}else if(v=="suspendHistory"){var f=acorn.parse(x[1]);
gy.eval(f,o,R)}else if(v=="save"){S.data={R:j.m.nx}}else if(v=="saveToOE"){S.data={R:j.m.nx,Xo:x}}else if(v=="rotateCanvas"){P.data=H.ge.l2(!0,x[0])}else if(v=="resizeImage"||v=="resizeCanvas"){var Z=x[0],W=x[1];
if(Z!=null){if(typeof Z!="number"){Z=c.r*parseFloat(Z.slice(0,Z.length-1))/100;W=c.$*parseFloat(W.slice(0,W.length-1))/100}Z=Math.round(Z);
W=Math.round(W)}if(v=="resizeCanvas")P.data=H.cD.atI(Z,W,x[2]);else P.data=H.cD.pS(Z,W,x[2],Z!=null?1:null)}else if(v=="paste"){S.data={R:j.m.ia,aIH:x.length!=0&&x[0],wh:!0};
o.a(S);S.data=null;return{xY:"Layer",K:c.k[c.Y[0]],yE:c}}else if(v=="close"){S.data={R:j.m.rM,$E:c}}else if(v=="exportDocument"||v=="saveAs"){var D=R.__fs,C=v=="exportDocument"?x[2].K:x[1].K,d=x[0].K.replace(":","").replace("~/","");
if(!d.toLowerCase().endsWith("."+C.d_))d+="."+C.d_;var p=d2.At(c,C.d_,null,null,C.d_=="pdf"?null:[C.i$],o.f);
D[d]=new Uint8Array(p)}else if(v=="flatten"){P.data={QI:"flattenImage"}}else if(v=="clearHistory"){M.J=H.iI;
M.data={R:"h_clear",force:!0}}else console.log(J,v,x)}else if(r=="Layer"){var y=J.K,$=c.k.indexOf(y);
if(!1){}else if(v=="copy"){gy.iu.FD(c,o,0);S.data={R:j.m.ju,WR:x[0],rk:$,wh:!0};o.a(S);delete S.data;
gy.iu.FD(c,o,1)}else if(v=="clear"){gy.iu.FD(c,o,0);P.data={QI:"delete"};o.a(P);delete P.data;gy.iu.FD(c,o,1)}else if(v=="autoLevels"||v=="autoContrast"){if(v=="autoContrast")P.data={QI:"levels",_g:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else P.data={QI:"levels",_g:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(v=="duplicate"){if(x.length==0){var i=c.Y.slice(0);
M.data={R:m.Qi,w:$};M.J=H.wu;o.a(M);M.data=null;l={xY:"Layer",K:c.k[c.Y[0]],yE:J.yE};c.Y=i}else if(x[0].xY=="Document"){M.data={R:m.XM,k:c.CO($),Ud:c,Nn:x[0].K};
M.J=H.wu}if(M.data){o.a(M);M.data=null;return{xY:"Layer",K:c.k[c.Y[0]],yE:c}}}else if(v=="merge"||v=="remove"){M.data={R:v=="merge"?m.Zn:m.Wd,w:$};
M.J=H.wu;var t=c.k.length-$;o.a(M);M.data=null;if(v!="remove")l={xY:"Layer",K:c.k[c.k.length-t],yE:J.yE}}else if(v=="move"){var O=c.k.indexOf(x[0].K);
if(O==$+1&&x[1]==4)return;if(O==$-1&&x[1]==3)return;M.data={R:m.kK,source:$,target:O,FI:x[1]!=3?.6:.3};
M.J=H.wu}else if(v=="rasterize"){M.J=H.wu;M.data={R:m.mg,w:$};o.a(M);M.data=null;J.K=c.k[$]}else if(v=="rotate"){M.data={R:"rot",hX:[2,5],K:-x[0]*Math.PI/180,__:x[1],w:$};
M.J=H.tS}else if(v=="resize"){M.data={R:"scl",hX:[2,4],K:new aG(x[0]/100,x[1]/100),__:x[2],w:$};M.J=H.tS}else if(v=="translate"){var z=gy.iu.qi(x);
M.data={R:"trsl",w:$,AU:z[0],aq:z[1]};M.J=H.VO}else if(v=="link"){M.data={R:m.OQ,a6k:[$,c.k.indexOf(x[0].K)]};
M.J=H.wu}else if(v=="invert"){M.J=H.hi;M.data={R:"start",BV:"nvrt"}}else if(v=="desaturate"){P.data={QI:"desaturate"}}else if(v.startsWith("apply")&&a8.mk[v.slice(5)]||v.startsWith("adjust")&&a8.mk[v.slice(6)]||v=="mixChannels"){var jw=v.startsWith("apply"),z=gy.iu.qi(x),u=v=="mixChannels"?"mixr":a8.mk[v.slice(jw?5:6)];
if(u=="Dspl"){for(var h=0;h<c.k.length;h++)if(c.k[h].getName()==z[4]){z[4]=c.k[h].add.SoLd.Idnt.v;break}}P.data={QI:jw?a8.Tn[u]:kC.Tn[u]};
var A=a8.ow(u),i=c.Y;c.Y=[$];if(A){if(u=="mixr"){var iH=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var h=0;
h<3;h++){var bV=z[0][h],jU=h*5;iH[jU+0]=bV[0];iH[jU+1]=bV[1];iH[jU+2]=bV[2];iH[jU+4]=bV[3]}A=kC.vB({K:iH,SJ:z[1]})}else a8.FN["g"+u](A,z);
P.data._g=A}o.a(P);P.data=null;c.Y=i}else if(v=="applyStyle"){var hx=o.f.yX,eX=null;for(var h=0;h<hx.length;
h++)if(hx[h].eZ.Nm.v.split("/").pop()==x[0])eX=hx[h];if(eX==null){alert("Style not found!");return}M.J=H.Ar;
M.data={R:"setstl",K:eX.x0,w:$};o.a(M);M.data={R:"confirm",w:$}}else console.log(J,v,x)}else if(r=="Documents"){if(v=="getByName"){for(var h=0;
h<b.length;h++)if(b[h].name==x[0])return{xY:"Document",K:b[h]};return null}else if(v=="add"){if(x.length==0)x=[100,100,72,"New Project"];
var et=x[5];if(et==null)et=1;P.data=d7.$B(x[0],x[1],x[2],x[3],["Wht","Trns","BckC"][et],!1);o.a(P);P.data=null;
return{xY:"Document",K:o.j4()}}else throw"e"}else if(r=="Layers"){if(v=="getByName"){for(var h=0;h<J.K.length;
h++)if(J.K[h].K.getName()==x[0]){l=J.K[h];break}if(l==null)R.__throw={message:"No layer with a name "+x[0]}}else if(v=="add"){M.data={R:J.aEW=="layerSets"?m.HY:m.h5};
M.J=H.wu;o.a(M);M.data=null;l={xY:"Layer",K:c.k[c.Y[0]],yE:J.yE}}else console.log(J,v,x)}else if(J.xY=="Selection"){if(v=="select"){var f7=x[0],iY=[];
for(var h=0;h<f7.length;h++)iY.push(f7[h][0],f7[h][1]);P.data=H.IE.jx(gy.iu.qi(iY),x[1])}else if(v=="clear"){P.data={QI:"delete"}}else if(v=="selectAll"){P.data=H.IE.DT(!0)}else if(v=="invert"){P.data={QI:"inverse"}}else if(v=="copy"){S.data={R:j.m.ju,WR:x[0],wh:!0}}else if(v=="deselect"){P.data=H.IE.DT()}else if(v=="fill"){var cd=x[0].K;
cd=g.UH.YK({z:cd[1]*255,H:cd[2]*255,c:cd[3]*255});P.data=H.P8.Z9("Clr",x[1],x[2]==null?1:x[2]/100,cd)}else if(v=="grow"||v=="similar"){var A={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(x[0]!=null)A.Tlrn={t:"long",v:x[0]};P.data={QI:v,_g:A}}else if(v=="expand"||v=="contract"||v=="feather"){P.data=H.IE.Tx(v,x[0],!0)}else if(v=="translate"){var A={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:x[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:x[1]}}}}};
P.data={QI:"move",_g:A}}else if(v=="smooth"){P.data=H.IE.Tx("smoothness",x[0],!1)}else if(v=="stroke"){var eX=JSON.parse(gD.Sy[1]),jV=eX.Clr.v,cd=x[0].K;
jV.Rd.v=cd[1]*255;jV.Grn.v=cd[2]*255;jV.Bl.v=cd[3]*255;eX.Sz.v.val=x[1];eX.Styl.v.FStl=gD.stroke.types[x[2]];
console.log(eX,x);M.J=H.tW;M.data={R:"stroke",aiu:eX}}else console.log(J,v,x)}else if(J.xY=="Window"){if(v=="show"){S.data={R:j.m.wz,kA:J.K}}else throw"e"}else if(J.xY=="ActionReference"){if(v=="putProperty"){J.K.v.push({t:"prop",v:{classID:x[0],keyID:x[1]}})}else if(v=="putClass"){J.K.v.push({t:"Clss",v:{classID:x[0]}})}else if(v=="putEnumerated"){J.K.v.push({t:"Enmr",v:{classID:x[0],typeID:x[1],enum:x[2]}})}else if(v=="putName"){J.K.v.push({t:"name",v:{classID:x[0],val:x[1]}})}else if(v=="putIndex"){J.K.v.push({t:"indx",v:{classID:x[0],val:x[1]}})}else console.log(v,x)}else if(J.xY=="ActionDescriptor"||J.xY=="ActionList"){var g2=J.xY=="ActionList";
if(v.startsWith("put")){var gV=g2?x:x.slice(1),Y=null;if(v=="putReference"){Y=gV[0].K}else if(v=="putObject"){Y=gV[1].K;
Y.v.classID=gV[0]}else if(v=="putList"){Y=gV[0].K}else if(v=="putDouble"){Y={t:"doub",v:gV[0]}}else if(v=="putUnitDouble"){Y={t:"UntF",v:{type:gV[0],val:gV[1]}}}else if(v=="putBoolean"){Y={t:"bool",v:gV[0]}}else if(v=="putInteger"){Y={t:"long",v:gV[0]}}else if(v=="putString"){Y={t:"TEXT",v:gV[0]}}else if(v=="putClass"){Y={t:"type",v:{classID:gV[0]}}}else if(v=="putEnumerated"){var fD=x[0].split("+");
if(fD.length==2&&x[1]==null){x[0]=fD[0];x[1]=gV[0]=fD[1]}var jU={};jU[gV[0]]=gV[1];Y={t:"enum",v:jU}}else throw v;
if(g2)J.K.v.push(Y);else J.K.v[x[0]]=Y}else if(v=="hasKey"){return J.K.v[x[0]]!=null}else if(v=="getEnumerationValue"){if(x[0]=="layerSection")l="layerSectionContent";
else console.log(x)}else if(v=="getBoolean"){l=J.K.v[x[0]].v}else if(v=="getString"){l=J.K.v[x[0]].v}else if(v=="getObjectValue"){var l=J.K.v[x[0]];
return{xY:"ActionDescriptor",K:g.F(l)}}else if(v=="getList"){var l=J.K.v[x[0]];return{xY:"ActionList",K:l}}else if(v=="getInteger"||v=="getDouble"){return J.K.v[x[0]].v}else console.log(v,x)}else if(J.xY=="$"){if(v=="writeln"){console.log(x[0])}else throw v}else if(J.xY=="UI"){if(v=="scroll"||v=="scrollTo"){var j4=x[0],dQ=x[1],eO=c.U.NT;
if(v=="scrollTo"){j4=(-c.r/2+j4)*eO+c.U.V.x;dQ=(-c.$/2+dQ)*eO+c.U.V.y}M.J=H.Ji;M.data={R:"scroll",Zb:new aG(Math.round(j4),Math.round(dQ))}}else{var a7;
if(v=="zoomIn"||v=="zoomOut"){a7={R:"zoom",xo:v=="zoomIn"}}else if(v=="fitTheArea"){a7={R:"adapt",K:"fitscr"}}else if(v=="pixelToPixel"){a7={R:"adapt",K:"pixel"}}M.J=H.C5;
M.data=a7;if(v=="switchFullscreen"){var cc=o.f.rC,ad=document.fullscreenElement!=null==(cc==2);S.data={R:j.m.WF,K:cc==0?2:0,ss:ad}}}}else if(J.xY=="ColorSamplers"){if(v=="removeAll")c.Ql=[];
else if(v=="add"){var jC={x:x[0][0],y:x[0][1]};c.Ql.push(jC);var l={xY:"ColorSampler",K:jC}}}else if(J.xY=="ColorSampler"){if(v=="move"){var iJ=c.Ql.indexOf(J.K);
jC=c.Ql[iJ];jC.x=x[0][0];jC.y=x[0][1]}else if(v=="remove"){var iJ=c.Ql.indexOf(J.K);c.Ql.splice(iJ,1)}}else if(J.xY=="PathItem"){if(v=="select"){c.GP=[c.h1.indexOf(J.K)];
c.Se=!0}else if(v=="remove"){M.J=H.ih;M.data={R:"pathedit",Uq:"del"}}else console.log(v)}else if(J.xY=="PathItems"){if(v=="add"){var kJ=x[1],jr=d7.bl(x[0]),a=jr.add.vmsk.X;
for(var h=0;h<kJ.length;h++){var fY=kJ[h],iR=fY.K.length;a.push({e:fY.q7?0:3,length:iR,da:fY.M5});for(var g6=0;
g6<iR;g6++){if(!fY.q7)fY.K[g6].e+=3;a.push(fY.K[g6])}}M.J=H.ih;M.data={R:"pathedit",Uq:"new",fF:jr};
o.a(M);return{xY:"PathItem",K:jr}}else throw v}else if(J.xY=="Folder"){if(v=="selectDialog")l="img";
else throw v}else if(J.xY=="File"){if(v=="openDialog")alert("A website can not show the Open dialog from a script");
else throw v}else console.log(J,v,x);if(M.data)o.a(M);if(P.data)o.a(P);if(S.data)o.a(S);return l};gy.iu.FD=function(J,v,x){var o=new dd(j.E.G,!0);
o.J=H.ZT;var R=new dd(j.E.aT,!0);if(x==0){gy.iu.a0Z=J.g;R.data=H.IE.DT(!0)}else{var r=gy.iu.a0Z;if(r)o.data={R:"setsel",hX:"Restore Selection",g:{S:r.S.Q(),N:r.N.slice(0)}};
else R.data=H.IE.DT()}v.a(o.data?o:R)};gy.iu.a0Z=null;gy.iu.au={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},ChangeMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3}};
gy.iu.au.ColorBlendMode=gy.iu.au.BlendMode;gy.iu.ZF="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function ef(){}ef.Qo={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null,"xmp:Rating"],"xmp:Label":["",null,"xmp:Label"],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
ef.zH={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
ef.aD7=function(J,v){if(v==null)v={};var x=ef.zH,o=[],R=[],r="";for(var h=0;h<J.length;h++){var l=J[h],M=x[l[0]+""];
if(M&&v[M]==null)v[M]=l[1];else if(l[0]==12)R.push(l[1]);else if(l[0]==25)o.push(l[1]);else if(l[0]==55)r=l[1];
else if(l[0]==60)r+=";"+l[1]}if(r!=""&&v["exif:DateTimeOriginal"]==null)v["exif:DateTimeOriginal"]=r;
if(R.length!=0&&v["Iptc4xmpCore:SubjectCode"]==null)v["Iptc4xmpCore:SubjectCode"]=R.join(";");if(o.length!=0&&v["dc:Keywords"]==null)v["dc:Keywords"]=o.join(";");
return v};ef.alr=function(J){var v=ef.zH,x=[];for(var o in v)if(J[v[o]])x.push([parseInt(o),J[v[o]]]);
if(J["Iptc4xmpCore:SubjectCode"]){var R=J["Iptc4xmpCore:SubjectCode"].split(";");for(var h=0;h<R.length;
h++)x.push([12,R[h].trim()])}if(J["dc:Keywords"]){var R=J["dc:Keywords"].split(";");for(var h=0;h<R.length;
h++)x.push([25,R[h].trim()])}x.sort(function(r,l){return r[0]-l[0]});return x};ef.Ur=function(J,v){if(v==null)v={};
var x=new DOMParser,o=x.parseFromString(J,"image/svg+xml"),R=o.getElementsByTagName("rdf:Description")[0];
if(R==null)return v;var r=ef.Qo;for(var l in r){var M=r[l][2];if(M==null)continue;var P=[];if(M.startsWith("xmp:")){var S=R.getAttribute(M);
if(S==null)continue;P.push(S)}else{var c=R.getElementsByTagName(M)[0];if(c==null)continue;var b=c.getElementsByTagName("rdf:li");
for(var h=0;h<b.length;h++)P.push(b[h].textContent)}v[l]=P.join("; ")}return v};ef.tu=function(J){var v=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],x=ef.Qo,o="";
for(var R in x){var r=J[R],l=x[R][2];if(r==null||l==null)continue;if(l.startsWith("xmp:")){o+=" "+l+"=\""+r+"\""}else{var M="Seq",P="";
if(l=="dc:title"||l=="dc:description"){M="Alt";P=" xml:lang=\"x-default\""}if(l=="dc:subject")M="Bag";
v.push("\t<"+l+"><rdf:"+M+">");var S=l=="dc:subject"?r.split(";").join(",").split(","):[r];for(var h=0;
h<S.length;h++)v.push("\t\t<rdf:li"+P+">"+S[h].trim()+"</rdf:li>");v.push("\t</rdf:"+M+"></"+l+">")}}v[3]+=o+">";
v.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return v.join("\n")};
ef.aGF=function(J){var v=[];for(var h=0;h<J.length;h++)v[h]=J[h][1]==0?0:J[h][0]/J[h][1];return v};ef.a7Z=function(J){var v=[];
for(var h=0;h<J.length;h++){var x=J[h],o=1;if(x!=Math.round(x)){o=1e3;x=Math.round(x*o)}v[h]=[x,o]}return v};
ef.Zc=function(J,v){var x=ef.Qo;if(v==null)v={};for(var o in x){var R=x[o][1],r="t"+R;if(R!=null&&J[r]!=null){var l=J[r];
if(R==0)l=l.join(".");else if(R==2||R==4){var M=J["t"+(R-1)];if(M==null)M=[R==2?"N":"E"];l=ef.aGF(l).join(",")+M[0]}else if(R==42034)l=ef.aGF(l).join(" ");
else if(R==270||R==315){var P=l[0],S=new Uint8Array(P.length);I.cO(S,0,P);l=I.Aq(S)}else l=l[0];v[o]=l}}if(J.exifIFD)ef.Zc(J.exifIFD,v);
if(J.gpsiIFD)ef.Zc(J.gpsiIFD,v);return v};ef.Ac=function(J,v,x){var o=ef.Qo,r=0,M=0;if(v==null)v={};
var R={},l={};for(var P in o){if(J[P]==null||o[P][1]==null)continue;var S=o[P][1],c="t"+S,b=v;if(P.startsWith("exif:")){b=R;
r++;if(P.startsWith("exif:GPS")){b=l;M++}}var w=J[P];if(S==0)w=new Uint8Array(w.split(".").map(parseFloat));
else if(S==2||S==4){var U=w.length;b["t"+(S-1)]=[w.slice(w.length-1)];w=ef.a7Z(w.split(",").map(parseFloat))}else if(S==42034)w=ef.a7Z(w.split(" ").map(parseFloat));
else if(S==270||S==315){var F=I.xU(w);w=[I.b_(F,0,F.length)]}else w=[w];b[c]=w}if(r!=0){v.exifIFD=R;
v.t34665=[0]}if(M!=0){v.gpsiIFD=l;v.t34853=[0]}var Y=new Date,A=[Y.getFullYear(),Y.getMonth()+1,Y.getDate(),Y.getHours(),Y.getMinutes(),Y.getSeconds()];
for(var h=0;h<6;h++)A[h]=(A[h]+"").padStart(2,"0");v.t305=["Photopea Editor (www.photopea.com)"];if(x!=!0)v.t306=[A[0]+":"+A[1]+":"+A[2]+" "+A[3]+":"+A[4]+":"+A[5]];
return v};function kc(){}kc.KE=function(J){var v={adk:",",LX:"\r\n",RH:"\""},x=[[""]],o,R,r,l,M;for(o=R=r=l=0;
r<J.length;r++){switch(M=J.charAt(r)){case v.RH:if(l&&J.charAt(r+1)==v.RH){x[o][R]+=v.RH;++r}else{l^=1}break;
case v.adk:if(!l){x[o][++R]=""}else{x[o][R]+=M}break;case v.LX.charAt(0):if(!l&&(!v.LX.charAt(1)||v.LX.charAt(1)&&v.LX.charAt(1)==J.charAt(r+1))){x[++o]=[""];
x[o][R=0]="";if(v.LX.charAt(1)){++r}}else{x[o][R]+=M}break;default:x[o][R]+=M}}if(x[x.length-1].length<x[0].length)x.pop();
return x};var B={};B.ags=0;B.mV=function(){B.ags++;return B.ags};B.a3J="uint8";B.fC=function(J){J._.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
J._.style.opacity="1";J._.style.transform="scale(1)"};B.UD=function(J,v){J._.style.opacity="0";J._.style.transform="scale(0.95)";
if(v)setTimeout(function(){v.removeChild(J._)},100)};B.adN=function(){var J=B.Jz();if(J=="")return 0;
if(J!=B.Bu("_TXZRPB;d7@;")&&J!=gF.Bu("eQLZRRM?8a4=8")){var v=B.EV[gF.Ip][gF.$A],x=v.indexOf(String.fromCharCode(35)),o;
if(x==-1)return 0;try{o=JSON.parse(B.EV[gF.aF9](v.slice(x+1)))}catch(gw){return 0}var R=o[B.Bu("bQ[ODL<E<M")];
if(R==null||R.length<<2!=64)return 0;var r=gF.eM(),l=parseInt(R.slice(3*4).split("").reverse().join(""),16)<<16;
if(l<r||R!=gF.ant(l,J))return 0;return 2}return 1};B.Jz=function(){var J=B.EV[B.u0("}$z{2*35")][B.Bu("W[\\ZQAJ?")],v=String.fromCharCode(46),x=J.split(v);
if(x.length<2)return"";var o=x.pop();o=x.pop()+v+o;return o};B.k3=function(J){var v=B.Jz();if(f6.hV())return!0;
if((v==gF.Bu("_TXZRPB;d7@;")||v==gF.Bu("~yy"))&&B.EV==B.EV[gF.axN])return!0;var x=B.EV[gF.Ip][gF.$A],o=x.indexOf("#");
if(o!=-1&&o!=x.length-1&&(x[o+1]=="%"||x[o+1]=="{")){var R=x.substring(o+1,x.length);R=JSON.parse(B.EV[gF.aF9](R));
var r=R[gF.Bu("P\\RY")];if(r)if(J==0&&r[gF.Bu("aYKM")]||J==1&&r[gF.Bu("SQcMR")])return!0}return!1};B.a4f=function(){if(B.EV[gF.a9v][gF.acM]){var J=new B.EV[gF.yh];
J[gF.xk](gF.awL,B.Bu("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+B.Jz());J[gF.ka]()}};B.N4=function(){if(window.top!=window.self)return!1;
var J=navigator.userAgent.toLowerCase();if(J.indexOf("firefox")!=-1)return!1;if(J.indexOf("safari")!=-1&&J.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};B.zR=function(J){this.qX=J;this.u2=B.l("img");this.VH=B.l("canvas");
this.av=null;this.T3="";this.Bc=null;this.hG=new aG(0,0);this.IH=!0;B.W4(this.qX,this.xN.bind(this))};
B.zR.prototype.Q4=function(J,v){this.av=J;if(v)this.T3=v;this.xN()};B.zR.prototype.Ne=function(J){this.IH=J;
this.xN()};B.zR.prototype.xN=function(J){if(J)this.hG=B.C2(J,this.qX);var v=this.IH?this.av:"auto",x=typeof v=="string";
if(!x){var o=B.rR(),R=this.hG,r=v.Yf.r,l=v.Yf.$,M=typeof v.fK=="string",P=M?this.u2:this.VH;if(M)P.setAttribute("src",v.fK);
else{P.width=r;P.height=l;var S=P.getContext("2d"),c=new ImageData(new Uint8ClampedArray(v.fK.buffer),r,l);
S.putImageData(c,0,0)}B.L(P," position:absolute; pointer-events:none;user-select:none;"+"top:"+(R.y-v.k$.y/o)+"px; left:"+(R.x-v.k$.x/o)+"px; width:"+r/o+"px; height:"+l/o+"px");
var b=this.Bc;if(b==null||b!=P){if(b)this.qX.removeChild(b);this.qX.appendChild(P);this.Bc=P}}else if(this.Bc){this.qX.removeChild(this.Bc);
this.Bc=null}B.L(this.qX,"cursor:"+(x?v:"none")+"; "+this.T3)};B.Mg=function(J){return J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
B.Tu=function(J,v){J.f_(ea.get([12,41]).charAt(0)+":");v.f_(ea.get([12,42]).charAt(0)+":")};B.l=function(J,v){var x=document.createElement(J);
if(v!=null)x.className=v;return x};B.wp=function(J){while(J.firstChild)J.removeChild(J.firstChild)};
B._H=function(J,v){var x=J.className;x=x.split(" ");if(x.indexOf(v)==-1)x.push(v);J.className=x.join(" ")};
B.Nv=function(J,v){var x=J.className;if(x=="")return;x=x.split(" ");if(x.indexOf(v)!=-1)x.splice(x.indexOf(v),1);
J.className=x.join(" ")};B.yn=function(J){while(!0){if(J==document)return!0;if(J==null)return!1;J=J.parentNode}};
B.A1=function(J){J.appendChild(B.l("br"))};B.kY=function(J){J.appendChild(B.l("hr"))};B.L=function(co,J){co.setAttribute("style",J)};
B.iY=function(J,v,x){var o=new bj([1,12,1],x==null?!0:x,null,!0);if(J)o.P("click",J.jB,J);if(v)v.appendChild(o._);
return o};B.EV=document;B.m6=function(J){var v=0;for(var h=0;h<J;h++)v+=Math.random();return v/J<Math.PI/4};
B.Bu=function(J){var v="";if(!B.m6(28))J+="-3";for(var h=0;h<J.length;h++){var x=J.charCodeAt(h);if(x<32||126<x)throw"e";
v+=String.fromCharCode(32+(x-32+17+3*h)%95)}return v};B.u0=function(J){var v="";if(!B.m6(28))J+="-1";
for(var h=0;h<J.length;h++){var x=J.charCodeAt(h);x-=32;x+=95e4;x-=17+3*h;x=x%95;v+=String.fromCharCode(32+x)}return v};
B.yG=function(J){var v=Math.random();B.a3J="uint"+(3+v);return new J};(function(){var J=window.PointerEvent,v=J?"pointer":"mouse",x=v+"down",o=v+"move",R=v+"up",r=!1;
B._A=function(l,M){l.addEventListener(x,M,r);if(!J)l.addEventListener("touchstart",M,r)};B.W4=function(l,M){l.addEventListener(o,M,r);
if(!J)l.addEventListener("touchmove",M,r)};B.Kb=function(l,M){l.addEventListener(R,M,r);if(!J)l.addEventListener("touchend",M,r)};
B.axF=function(l,M){l.removeEventListener(x,M,r);if(!J)l.removeEventListener("touchstart",M,r)};B.SP=function(l,M){l.removeEventListener(o,M,r);
if(!J)l.removeEventListener("touchmove",M,r)};B.PD=function(l,M){l.removeEventListener(R,M,r);if(!J)l.removeEventListener("touchend",M,r)}}());
B.sl=function(J){J.addEventListener("touchstart",B.zl,!1);J.addEventListener("touchmove",B.zl,!1);J.addEventListener("touchend",B.zl,!1);
J.addEventListener("gesturestart",B.zl,!1);J.addEventListener("gesturechange",B.zl,!1);J.addEventListener("gestureend",B.zl,!1)};
B.agV=function(J){var v=J.sourceCapabilities;if(v)return v.firesTouchEvents;return!1};B.QH=function(J,v,x,o){var R=B.rR();
J.width=Math.floor(v*R);J.height=Math.floor(x*R);if(o)o.scale(R,R);B.Dt(J)};B.Dt=function(J){var v=B.rR();
J.style.width=J.width/v+"px";J.style.height=J.height/v+"px"};B.Ol=function(J,v,x){B.L(J,"width:"+v/B.rR()+"px; height:"+x/B.rR()+"px")};
B.C2=function(J,v){if(v==null)v=J.currentTarget;var x=v.getBoundingClientRect();if(J.touches)J=J.touches.item(0);
return{x:J.clientX-x.left,y:J.clientY-x.top}};B.rR=function(){return window.devicePixelRatio||1};B.Mb=function(J){J.addEventListener("keydown",B.ahi,!1)};
B.ahi=function(J){if(!gw.oq(J.code,gw.i4))J.stopPropagation()};B.ah5=function(J){J.stopPropagation()};
B.zl=function(J){J.preventDefault()};B.Ib=function(J){J.stopPropagation();J.preventDefault()};B.vr=function(J,v,x){x=x?x:"";
if(PIMG["__"+J]==null)x+=" gsicon";var o=PIMG[J]?PIMG[J]:J;return"<img src=\""+o+"\" alt=\""+(v?v:"")+"\" class=\""+x+"\" />"};
B.Hn=function(J,v,x,o){var R=J.dataTransfer.getData("text/uri-list");if(R!=null&&R.startsWith("http")){var r=new dd(j.E.j,!0);
r.data={R:j.m.Ia,Fu:{url:R,$z:!0,m8:x,Kq:o}};v.a(r)}if(J.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var l=[],M=J.dataTransfer.items.length,P=J.dataTransfer.files;
for(var S of J.dataTransfer.items)S.getAsFileSystemHandle().then(function(c){l.push(c);if(l.length==M){var r=new dd(j.E.j,!0);
r.data={R:j.m.tz,data:P,m8:x,Kq:o,awG:l};v.a(r)}})}else{var r=new dd(j.E.j,!0);r.data={R:j.m.tz,data:J.dataTransfer.files,m8:x,Kq:o};
v.a(r)}};if(B.m6(27))B.EV=window;else B.EV=B.a0F;B.EV._cwY=B.EV[B.u0("t$&!'31")];var k$={};k$.asv=function(h){var J=k$.Ga[h],v=document.documentElement.style,o=1;
v.setProperty("--base","#"+g.q2(J["--base"]));v.setProperty("--bg-panel","#"+g.q2(J["--bg-panel"]));
v.setProperty("--bg-canvas","#"+g.q2(J["--bg-canvas"]));v.setProperty("--bg-input","#"+g.q2(J["--bg-input"]));
v.setProperty("--bg-bbtn","#"+g.q2(J["--bg-bbtn"]));v.setProperty("--bg-bbtnOver","#"+g.q2(J["--bg-bbtnOver"]));
v.setProperty("--brdr","#"+g.q2(J["--brdr"]));v.setProperty("--text-color","#"+g.q2(J["--text-color"]));
v.setProperty("--brdrLgt","rgba(255,255,255,"+J["--brdrLgt"]+")");v.setProperty("--brdrDrk","rgba(  0,  0,  0,"+J["--brdrDrk"]+")");
v.setProperty("--alphaDark",""+J["--alphaDark"]);v.setProperty("--gs-invert",""+J["--gs-invert"]);v.setProperty("--accent","#"+g.q2(J["--accent"]));
var x=J["--sh-clr"];v.setProperty("--sh-clr","rgba("+(x>>16)+","+(x>>8&255)+","+(x&255)+", 0.45)");v.setProperty("--absc",""+J["--absc"]);
v.setProperty("--abs255",""+J["--abs255"]);if(1<B.rR()&&B.rR()<1.5)o=1/B.rR();v.setProperty("--img20",20*o+"px");
v.setProperty("--img18",18*o+"px");v.setProperty("--img15",15*o+"px");if(PIMG!=null){var R="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var h=0;h<R.length;h++){var r=R[h],l=r.split("/").pop(),M=PIMG["__"+r]==null?J["--gs-invert"]:"0";
v.setProperty("--icon_"+l,"url("+PIMG[r]+")");v.setProperty("--icon_"+l+"_invrt",M)}}var P=document.querySelector("meta[name=theme-color]");
if(P)P.setAttribute("content","#"+g.q2(J["--base"]))};(function(){var J=3441398,v=3441398;k$.Ga=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":v},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":J},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":J},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":J},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":J},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":J},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":v}]}());
function gp(){this.OF={};this.vh={}}gp.prototype.a2Q=function(J){var v=this.OF[J];if(v==null)return!1;
return v.length>0};gp.prototype.addEventListener=function(J,v){this.P(J,v,null)};gp.prototype.P=function(J,v,x){if(this.OF[J]==null){this.OF[J]=[];
this.vh[J]=[]}this.OF[J].push(v);this.vh[J].push(x)};gp.prototype.removeEventListener=function(J,v){var x=this.OF[J];
if(x==null)return;var o=x.indexOf(v);if(o<0)return;var R=this.vh[J];x.splice(o,1);R.splice(o,1)};gp.prototype.a=function(J){J.currentTarget=this;
if(J.target==null)J.target=this;var v=this.OF[J.e];if(v==null)return;var x=this.vh[J.e];for(var h=0;
h<v.length;h++){if(x[h]==null)v[h](J);else v[h].call(x[h],J)}};var dd=function(J,v){if(!v)v=!1;this.e=J;
this.target=null;this.currentTarget=null;this.bubbles=v;this.J=null;this.W5=!1},j={E:{G:"0",j:"1",aT:"1.5",n:"2",D_:"3",aeg:"4"},m:{W8:"10",sO:"11",y2:"12",jN:"13",HX:"14",auE:"14.1",Ia:"15",hC:"16",PO:"17",aK:"18",nx:"19",atr:"19.5",Wj:"20",a6N:"20.1",amd:"20.5",aCi:"20.6",Iv:"21",ju:"22",ia:"23",KF:"24",wz:"25",Ut:"26",iD:"27",ol:"28",asj:"28.5",auf:"29",tz:"30",lE:"31",LV:"32",Yr:"33",hf:"34",Qq:"35",a35:"35.5",fY:"37",aGd:"38",A9:"39",fz:"40",Ft:"41",Wt:"41.5",r6:"42",FJ:"43",a9_:"43.5",rM:"44",an3:"45",oH:"46",cS:"47",Q5:"48",xa:"49",aug:"50",WF:"51"}};
function aJ(){gp.call(this);this.parent=null;this._=null;this.BK=0;this.mq=0;this.axK=!1}aJ.prototype=new gp;
aJ.prototype.aCL=function(J){var co=this;while(co!=null){if(co==J)return!0;co=co.parent}return!1};aJ.prototype.RJ=function(){var J=this._;
return J.offsetWidth+J.clientLeft};aJ.prototype.ast=function(){var J=this._;return J.offsetHeight+J.clientTop};
aJ.prototype.update=function(J){};aJ.prototype.a=function(J){gp.prototype.a.call(this,J);if(J.bubbles&&this.parent!=null)this.parent.a(J)};
aJ.prototype.d=function(){};aJ.prototype.qe=function(J,v){};aJ.prototype.UG=function(J){B._H(this._,"disabled")};
aJ.prototype.fS=function(J){B.Nv(this._,"disabled")};aJ.prototype.Ne=function(J){if(J)this.fS();else this.UG()};
aJ.prototype.P3=function(){this.axK=!0};aJ.prototype._B=function(){var J=this.Gc,v=this.axK,x=this.Qd;
if(J){J=ea.get(this.Gc);if(!v)J+=":";x.textContent=J;if(v){x.style.display="block";x.style.lineHeight="1.6em";
x.style.marginLeft="3px";B.Nv(x,"flabel")}}if(v){this.az.style.fontSize="1.15em"}};function fj(J){aJ.call(this);
this.AX=[];this.DA=!1;this.a5w=0;this.$o={x:0,y:0,x4:!1};this.hI=J;this.a0S=this.y1.bind(this);this.VY=this._k.bind(this);
this.gn=this.Vg.bind(this);B._A(J,this.a0S);B.W4(J,this.VY);J.addEventListener("wheel",this.zh.bind(this),!1);
J.addEventListener("contextmenu",this.a5y.bind(this),!1);var v=this.aIb.bind(this);J.addEventListener("gesturestart",v,!1);
J.addEventListener("gesturechange",v,!1);J.addEventListener("gestureend",v,!1);B.sl(J)}fj.prototype=new aJ;
fj.prototype.aIb=function(J){if(J.type=="gesturestart")this.g2=J.scale;if(J.type=="gesturechange"){var v=new dd("mouse",!0);
v.action="scroll";v.v_=!0;this.qp(J,v);var x=(this.g2-J.scale)/this.g2;v.Zb=new aG(0,100*x);this.g2=J.scale;
this.a(v)}};fj.prototype.fd=function(J){var v=-1,x=this.AX;for(var h=0;h<x.length;h++)if(x[h].pointerId==J.pointerId)v=h;
return v};fj.nn=function(J){var v=J.pointerType,x=window.__kb;return v=="touch"&&x.M(gw.aaM)};fj.ahD=function(J){var v=J.button!=null&&J.button!=0?J.which==2?"i":"r":"";
if(gw.TH()&&J.ctrlKey)v="r";return v};fj.prototype.y1=function(J){if(fj.nn(J))return;var v=this.fd(J);
if(v!=-1)this.AX[v]=J;else this.AX.push(J);if(this.AX.length==1){this.a5w=Date.now();var x=fj.ahD(J)+"down",o=new dd("mouse",!0);
o.action=x;this.qp(J,o);this.a(o);B.SP(this.hI,this.VY);B.W4(window,this.VY);B.Kb(window,this.gn)}if(this.AX.length==2){if(Date.now()-this.a5w<100){var o=new dd("mouse",!0);
o.action="cancellast";this.qp(J,o);this.a(o)}this.DA=!0}if(this.AX.length==2)this.aop("multidown")};
fj.prototype._k=function(J){if(fj.nn(J))return;var v=this.fd(J);if(v!=-1)this.AX[v]=J;if(this.AX.length>1){this.aop("multimove")}if(this.DA)return;
if(this.AX.length==1&&v==-1)return;var x=new dd("mouse",!0);x.action="move";this.qp(J,x);this.a(x)};
fj.prototype.Vg=function(J){if(fj.nn(J))return;var v=this.AX;v=this.AX=[];if(v.length==0){var x=fj.ahD(J)+"up",o=new dd("mouse",!0);
o.action=x;this.qp(J,o);this.a(o);B.SP(window,this.VY);B.PD(window,this.gn);B.W4(this.hI,this.VY);this.DA=!1}};
fj.prototype.zh=function(J){J.preventDefault();if(J.deltaX==0&&J.deltaY==0)return;var v=new dd("mouse",!0);
v.action="scroll";v.v_=J.ctrlKey;this.qp(J,v);this.a(v)};fj.prototype.a5y=function(J){B.Ib(J);if(B.agV(J)){var v=new dd("mouse",!0);
this.qp(J,v);v.action="rdown";this.a(v);v.action="rup";this.a(v)}};fj.prototype.aop=function(J){var v=this.AX,x=B.rR(),o=[];
for(var h=0;h<v.length;h++){var R=o[h]=B.C2(v[h],this.hI);R.x*=x;R.y*=x}var r=new dd("mouse",!0);r.action=J;
r.Px=o;if(v.length==2)this.a(r)};fj.prototype.qp=function(J,v,x){var o=this.AX.length!=0;if(v.action!="up"){var R=B.rR();
if(x==null)x=B.C2(J,this.hI);this.$o=v.Yd={x:R*x.x,y:R*x.y,x4:o};var r=B.C2(J,document.body);v.Yd.m4=r.x;
v.Yd.R1=r.y}else this.$o=v.Yd={x:this.$o.x,y:this.$o.y,x4:o};v.Yd.CJ=.5;if(J.pressure!=null)v.Yd.CJ=J.pressure;
if(J.pointerType=="mouse")v.Yd.CJ*=2;v.Yd.a7r=J.pointerType;if(J.deltaX!=null){var l=J.deltaMode==0?1:40;
v.Zb=new aG(J.deltaX*l,J.deltaY*l)}};function kM(J,v,x){aJ.call(this);this.u5=null;this.akO=this.Vg.bind(this);
this.ajR=this.N8.bind(this);this.aEo=this.aFj.bind(this);this.a65=this.aBY.bind(this);this.zj=[];this.hx=[];
this.$N=[];this.aeK=[];this.aDX=x;this._=B.l("div","contextpanel "+(x?"cp_dark":"cp_light"));this._.addEventListener("contextmenu",B.zl,!1);
this.xA=null;this.Kc=0;this.E0=J;this.Oc=v;this.od=[];for(var h=0;h<J.length;h++){var o=B.l("div","enab");
this.hx.push(o);this._.appendChild(o);var R=J[h].CT;if(R){if(R.startsWith("#")){var r=B.l("span");B.L(r,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+R);
o.appendChild(r)}else o.innerHTML=B.vr(J[h].CT,null,"thumb")}else{var l=B.l("span","check");this.aeK.push(l);
o.appendChild(l)}var M=B.l("span","label");M.textContent=ea.get(J[h].name);o.appendChild(M);this.$N.push(M);
if(J[h].vy)this._.appendChild(B.l("hr"));if(J[h].ro||J[h].sub){var P=o.Lk=B.l("span","right");o.appendChild(P);
if(J[h].ro)P.textContent=gw.mN(J[h].ro);else if(J[h].sub)P.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}o.addEventListener(x?"mouseup":"click",this.akO,!1);
o.addEventListener("mouseover",this.ajR,!0);o.addEventListener("mouseout",this.aEo,!0);if(J[h].sub){var S=new kM(J[h].sub,v?v[h].sub:null);
S.parent=this;this.od.push(S);S.P("select",this.a0h,this)}else this.od.push(null)}}kM.prototype=new aJ;
kM.prototype.anu=function(J){B.wp(this._);for(var h=0;h<J.length;h++)if(J[h]!=0&&J[h]!=null){this._.appendChild(this.hx[h]);
if(J[h]!=1&&this.od[h])this.od[h].anu(J[h])}};kM.prototype.d=function(){var J=this.E0;for(var h=0;h<J.length;
h++){if(J[h].title)this.hx[h].title=ea.get(J[h].title);this.$N[h].textContent=ea.get(J[h].name)+(J[h].U6?"...":"")}for(var h=0;
h<this.od.length;h++)if(this.od[h])this.od[h].d()};kM.prototype.update=function(J,v){if(!this.aDX){this._.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var x=this.E0,o=window.innerWidth<450?"none":"inline";
for(var h=0;h<x.length;h++){var R=this.hx[h];if(R.Lk&&!this.od[h])R.Lk.style.display=o;if(x[h].i){var r=x[h].i(J,v,h);
if(r.i!=null)this.hx[h].className=r.i?"enab":"disab";if(r.y0!=null)this.$N[h].textContent=r.y0;if(r.WH!=null)this.aeK[h].innerHTML=r.WH?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(r.p!=null)this.Oc[h]=r.p}}for(var h=0;h<this.od.length;h++)if(this.od[h])this.od[h].update(J,v)};
kM.prototype.hA=function(){return this.zj};kM.prototype.Vg=function(J){if(J.button!=0)return;var h=this.hx.indexOf(J.currentTarget);
if(this.od[h]){this.Kc=h;this.aBY()}else{if(this.Oc){var v=this.Oc[h],x=new dd(v.A,!0);x.J=v.J;x.data=v.p;
this.a(x)}this.u5=null;this.zj=[h];this.a(new dd("select",!1));var x=new dd(j.E.j,!0);x.data={R:j.m.jN};
this.a(x)}};kM.prototype.N8=function(J){var h=this.hx.indexOf(J.currentTarget);this.Lx();this.Kc=h;this.xA=setTimeout(this.a65,300)};
kM.prototype.aFj=function(J){this.Lx()};kM.prototype.Lx=function(){if(this.xA){clearTimeout(this.xA);
this.xA=null}};kM.prototype.aBY=function(){this.Lx();var h=this.Kc;if(this.u5)this.u5.avb();if(this.od[h]==null)return;
this.u5=this.od[h];var J=this.hx[h].getBoundingClientRect(),v=new dd(j.E.j,!0);v.data={R:j.m.sO,rq:this.od[h],x:J.left+J.width+2,y:J.top};
this.a(v)};kM.prototype.avb=function(){for(var h=0;h<this.od.length;h++)if(this.od[h])this.od[h].avb();
var J=new dd(j.E.j,!0);J.data={R:j.m.y2,rq:this};this.a(J)};kM.prototype.a0h=function(J){var h=this.od.indexOf(J.target);
this.zj=[h].concat(J.target.hA());this.a(new dd("select",!1))};function a9(J,v,x){aJ.call(this);this._=B.l("span","fitem cbox");
if(v==null)v=!0;if(x==null)x="flabel";var o="cb"+B.mV();this.az=B.l("input","");this.az.setAttribute("type","checkbox");
this.az.setAttribute("id",o);this._.appendChild(this.az);this.Gc=J;this.Q$=B.l("label",x);if(v)this.Q$.setAttribute("for",o);
this._.appendChild(this.Q$);this.d();this.az.addEventListener("change",this.fA.bind(this),!1)}a9.prototype=new aJ;
a9.prototype.aen=function(){return this.Gc};a9.prototype.f_=function(J){this.Q$.textContent=J};a9.prototype.d=function(){var J=this.Gc;
if(typeof J=="string"&&J.startsWith("<"))this.Q$.innerHTML=J;else this.Q$.textContent=ea.get(J)};a9.prototype.$I=function(){this.az.checked=!0};
a9.prototype.Il=function(){this.az.checked=!1};a9.prototype.G8=function(){return this.az.checked};a9.prototype.q=function(J){this.az.checked=J};
a9.prototype.s=a9.prototype.G8;a9.prototype.fA=function(J){this.a(new dd(j.E.n,!1))};function aT(J,v){aJ.call(this);
this.Gc=J;this._=B.l("span","labelitem fitem"+(v?" spread":""));this.d()}aT.prototype=new aJ;aT.prototype.q=function(J){this._.textContent=J};
aT.prototype.s=function(){return this._.textContent};aT.prototype.fS=function(){this._.removeAttribute("disabled")};
aT.prototype.UG=function(){this._.setAttribute("disabled","")};aT.prototype.f_=function(J){this._.textContent=J};
aT.prototype.d=function(){this._.textContent=ea.get(this.Gc)};aT.prototype.aen=function(){return this.Gc};
function bj(J,v,x,o,R){aJ.call(this);this.RQ=!1;this._=B.l("button","fitem"+(v?" spread":"")+(o?" bbtn":""));
this.Gc=J;this.xq=x;this.d();var r=R&&window.PointerEvent?"pointerup":"click";this._.addEventListener(r,this.w6.bind(this),!1)}bj.prototype=new aJ;
bj.prototype.d=function(){var J=this._,v=this.Gc,x=this.xq;if(typeof v=="string"&&(v.startsWith("<img")||v.startsWith("<svg")||v.startsWith("<span"))){if(!this.RQ){J.innerHTML=v;
B.L(J,"padding:2px");this.RQ=!0}}else J.textContent=ea.get(v);if(x){J.setAttribute("title",ea.get(x))}};
bj.prototype.a7T=function(J){this._.setAttribute("title",J)};bj.prototype.w6=function(J){this.a(new dd("click",!1))};
bj.prototype.$I=function(){B._H(this._,"bactive")};bj.prototype.Il=function(){B.Nv(this._,"bactive")};
bj.prototype.f_=function(J,v){if(J&&J!=this.Gc){this.Gc=J;this.RQ=!1}if(v)this.xq=v;this.d()};bj.prototype.q=function(J){if(J)this.$I();
else this.Il()};bj.prototype.G8=function(){return this._.getAttribute("class").indexOf("bactive")!=-1};
bj.prototype.s=function(){return this.G8()};function ir(J,v,x,o,R){aJ.call(this);var r=B.mV();this._=B.l("span","fitem tinput");
if(x==-1)this._.style.width="100%";if(J){this.Gc=J;this.Qd=B.l("label","flabel");this._.appendChild(this.Qd);
this.Qd.setAttribute("for",r);this.d()}if(R){this.az=B.l("span")}else if(o==null){this.az=B.l("input");
this.az.setAttribute("type","text")}else this.az=B.l("textarea","scrollable");this.az.setAttribute("id",r);
if(x)B.L(this.az,"width:"+(x==-1?"100%;":x+"em;")+(R?" display:inline-block; margin-left:6px;":""));
if(o)this.az.setAttribute("rows",o);this._.appendChild(this.az);if(v){this.Ya=B.l("span");this.Ya.textContent=v;
this.Ya.style.marginLeft="2px";this._.appendChild(this.Ya)}B.Mb(this.az);gw.l9(this.az);this.az.addEventListener("change",this.fA.bind(this),!1);
this.az.addEventListener("input",this.aGw.bind(this),!1);if(o==null)this.az.addEventListener("keyup",this.oe.bind(this),!1)}ir.prototype=new aJ;
ir.prototype.d=function(){this._B()};ir.prototype.oe=function(J){var v=gw.oq(J.code,gw.T1),x=gw.oq(J.code,gw.O9);
if(x||v)this.az.blur()};ir.prototype.f_=function(J){this.Qd.textContent=J};ir.prototype.q=function(J){var v=this.az,x=J==null?"":J,o=v.tagName=="SPAN";
if(o){v.textContent=" "+x;if(this.Ya)v.appendChild(this.Ya)}else v.value=x};ir.prototype.ac1=function(J){this.Ya.textContent=J};
ir.prototype.s=function(){return this.az.value};ir.prototype.lz=function(){this.az.select();this.az.focus()};
ir.prototype.fA=function(J){this.a(new dd(j.E.n,!1))};ir.prototype.aGw=function(J){this.a(new dd("input",!1))};
function jT(J,v,x,o,R,r,l,M,P){aJ.call(this);if(R==null)R=0;this._=B.l("span","fitem");var S=B.mV();
this.Gc=J;this.xq=M;this.av=0;this.K4=P;this._r=v;this.j8=x;this.tU=null;if(o instanceof Array){this.tU=o;
o=o[0]}this.s2=o;this.r7=R;this.aEq=r;this.Y$=l;this.Je=0;this.Qd=B.l("label","flabel");this.Qd.setAttribute("for",S);
B.L(this.Qd,"cursor:col-resize;");this.Yn=B.l("input");this.Yn.setAttribute("type","range");if(l){this.Yn.min=0;
this.Yn.max=400}else{this.Yn.min=v;this.Yn.max=x;if(R!=0)this.Yn.step=(x-v)/200}this.az=B.l("input");
this.az.setAttribute("type","text");this.az.setAttribute("id",S);this.Ya=B.l("span");this.Ya.textContent=o;
B.Mb(this.az);gw.l9(this.az);this.az.addEventListener("change",this.fA.bind(this),!1);this.az.addEventListener("keydown",this.fi.bind(this),!1);
this.az.addEventListener("keyup",this.oe.bind(this),!1);this.az.addEventListener("wheel",this.zh.bind(this),!1);
this.Yn.addEventListener("input",this.fA.bind(this),!1);if(P)this.Yn.addEventListener("change",this.fA.bind(this),!1);
this.Yn.addEventListener("click",this.aa7.bind(this),!1);this.a2G=this.aAk.bind(this);this.a32=this.a2J.bind(this);
this.af6=this.azy.bind(this);this.SC=0;this.bw=0;this.C1=!1;B._A(this.Qd,this.a2G);B.sl(this.Qd)}jT.prototype=new aJ;
jT.prototype.nA=function(J){this.r7=J};jT.prototype.f_=function(J){this.Qd.style.display=J?"inherit":"none";
if(J)this.Qd.textContent=ea.get(J)};jT.prototype.d=function(){var co=this.Gc,J=this.xq;if(co){if(typeof co=="string"&&co.startsWith("<"))this.Qd.innerHTML=co;
else this._B()}if(J){J=ea.get(J);if(co)this.Qd.setAttribute("title",J);this.az.setAttribute("title",J)}};
jT.prototype.q=function(J,v){var x=this._r==this.j8,R;if(!x&&this._r>=0)J=Math.max(this._r,J);if(this.r7==0)J=Math.round(J);
var o=this.s2;this.av=J;this.az.value=parseFloat(this.r7!=0?J.toFixed(this.r7):J)+(this.aEq&&o?(o.toLowerCase()==o.toUpperCase()?"":" ")+o:"");
if(-this._r==this.j8)R=200+Math.sign(J)*200*Math.pow(Math.abs(J)/this.j8,1/2.7);else R=400*Math.pow((J-this._r)/(this.j8-this._r),1/2.7);
this.Yn.value=this.Y$?R:J;if(v)this.hK()};jT.prototype.s=function(){var J=this.av;if(isNaN(J))J=0;return J};
jT.prototype.Cm=function(){return this.s2};jT.prototype.fA=function(J){var v=0;if(J.currentTarget==this.az){var x=J.target.value,o=0;
if(x=="")v=0;else if(this.s2){v=parseFloat(x)}else{try{v=eval(x)}catch(J){v=1}}if(isNaN(v))v=0;while(o<x.length&&(x.charAt(o)=="."||48<=x.charCodeAt(o)&&x.charCodeAt(o)<=57))o++;
var R=x.slice(o).trim();if(this.tU&&this.tU.indexOf(R)!=-1)this.s2=R}else{if(Date.now()-this.Je<10)return;
v=parseFloat(J.target.value);if(this.Y$){if(-this._r==this.j8)v=Math.sign(v-200)*Math.pow(Math.abs(v-200)/200,2.7)*this.j8;
else v=this._r+Math.pow(v/400,2.7)*(this.j8-this._r);v=this.aA6(v)}}this.q(v);if(J.type=="input"&&this.K4)return;
this.hK()};jT.prototype.hK=function(){this.a(new dd(j.E.n))};jT.prototype.aA6=function(J){if(this.j8-this._r>50&&J>10)J=Math.round(J);
return J};jT.prototype.fi=function(J){var v=0;if(gw.oq(J.code,gw.Wl))v=1;if(gw.oq(J.code,gw.yy))v=-1;
if(v!=0)this.a5X(v,J.shiftKey)};jT.prototype.oe=function(J){var v=gw.oq(J.code,gw.T1),x=gw.oq(J.code,gw.O9);
if(v)this.q(this.s());if(x||v)this.az.blur()};jT.prototype.zh=function(J){this.a5X(J.deltaY>0?-1:1,J.shiftKey)};
jT.prototype.a5X=function(J,v){var x=this.s(),o=this.r7,R=J*(o==null||o==0||x>5?1:.1);if(v)R*=10;var r=x+R;
if(!this.Y$&&this.j8!=this._r)r=Math.min(this.j8,r);this.q(r);this.hK()};jT.prototype.aa7=function(J){var v=Date.now()-this.Je;
this.Je=Date.now();if(v>200)return;var x=this._r,o=this.j8,R=(x+o)/2;if(x<1&&o>1&&o<10)R=1;else if(x<90&&o>110)R=100;
else if(x<0&&o>0)R=0;this.q(R);this.hK()};jT.prototype.aAk=function(J){B.W4(document,this.a32);B.Kb(document,this.af6);
this.SC=B.C2(J,document.body).x;this.bw=this.s()};jT.prototype.a2J=function(J){B.Ib(J);var v=this._r==this.j8,x=B.C2(J,document.body).x,o=(x-this.SC)*(v?1:1/120*(this.j8-this._r)),R=this.bw+o;
if(v)R=Math.round(R);if(!v){if(!0){R=Math.max(this._r,R);if(R==this._r){this.SC=x;this.bw=this._r}}if(!this.Y$){R=Math.min(this.j8,R);
if(R==this.j8){this.SC=x;this.bw=this.j8}}R=this.aA6(R)}this.C1=!0;this.q(R);if(!this.K4)this.hK()};
jT.prototype.azy=function(J){if(!this.C1)this.az.focus();this.C1=!1;if(this.K4)this.hK();B.SP(document,this.a32);
B.PD(document,this.af6)};jT.prototype.lz=function(){this.az.select();this.az.focus()};function fL(J,v,x,o,R,r,l,M,P,S){jT.call(this,J,v,x,o,R,!0,r,P,S);
B._H(this._,"rangedropinput");this._.appendChild(this.Qd);B.L(this.az,"width:"+(M?M:3.3)+"em");this._.appendChild(this.az);
this.ap8=B.l("span","rangecontFloat");this.ap8.appendChild(this.Yn);this.$k=B.l("button");this.$k.textContent="\u25BC";
B._A(this.$k,this.aar.bind(this));if(l!=!0)this._.appendChild(this.$k);this.EA=new aJ;this.EA._=this.ap8}fL.prototype=new jT;
fL.prototype.aar=function(J){if(B.yn(this.EA._))return;J.stopPropagation();var v=this._.getBoundingClientRect();
B.L(this.Yn,"width:"+v.width+"px;");var x=new dd(j.E.j,!0);x.data={R:j.m.sO,rq:this.EA,x:v.left-10,y:v.top+v.height};
this.a(x)};function gu(J,v,x,o,R,r){jT.call(this,J,v,x,o,R,!1,r);this._.appendChild(this.Qd);var l=B.l("span");
this._.appendChild(l);l.appendChild(this.Yn);this._.appendChild(this.az);B.L(this.az,"width:3.3em");
if(this.s2)this._.appendChild(this.Ya)}gu.prototype=new jT;function jL(J,v,x,o,R,r,l,M){jT.call(this,J,v,x,o,R,!0,r,null,l);
B._H(this._,"trangeinput");this._.appendChild(this.Qd);this._.appendChild(this.az);var P=B.l("span");
if(M!=!0)this._.appendChild(P);P.appendChild(this.Yn)}jL.prototype=new jT;function dp(J,v,x,o){aJ.call(this);
if(!v)return;this.zr=0;this.Gc=J;this.a7$=o;this.zH=null;this.WE=x;this.Sk=[];var R="dd"+B.mV();this._=B.l("span","fitem ddmenu");
if(J){this.Qd=B.l("label","flabel");this._.appendChild(this.Qd);this.Qd.setAttribute("for",R)}this.az=B.l("select");
gw.l9(this.az);this.az.setAttribute("id",R);this._.appendChild(this.az);this.az.addEventListener("change",this.fA.bind(this),!1);
function r(l){var M=0;if(gw.oq(l.code,gw.Wl))M=1;if(gw.oq(l.code,gw.yy))M=-1;if(M!=0)l.stopPropagation()}this.az.addEventListener("keydown",r,!1);
this.az.addEventListener("keyup",r,!1);this.Qk=[];this.fm=null;this.Qw(v,x);this.d()}dp.prototype=new aJ;
dp.prototype.f_=function(J){this.Gc=J;this.d()};dp.prototype.d=function(){this._B();if(this.fm)this.Qw(this.fm,this.WE);
if(this.a7$)this.az.setAttribute("title",ea.get(this.a7$));this.q(this.zr)};dp.prototype.s=function(){return this.zr};
dp.prototype.Qw=function(J,v){B.wp(this.az);var x=[],o=0;if(v){x.push(v[0]);for(var h=1;h<v.length;h++)x.push(x[h-1]+v[h])}this.fm=J;
this.zH=[];this.WE=v;for(var h=0;h<J.length;h++){var R=B.l("option");if(this.Sk.indexOf(h)!=-1)R.setAttribute("disabled","");
R.textContent=ea.get(J[h]);R.setAttribute("value",h);this.az.appendChild(R);this.Qk.push(R);this.zH.push(h+o);
if(x.indexOf(h+1)!=-1&&h!=J.length-1){var r=B.l("option");r.setAttribute("disabled","");r.textContent="";
this.az.appendChild(r);o++}}};dp.prototype.aJh=function(h){var J=this.Sk,v=J.indexOf(h);if(v==-1)J.push(h);
this.d()};dp.prototype.anY=function(h){var J=this.Sk,v=J.indexOf(h);if(v!=-1)J.splice(v,1);this.d()};
dp.prototype.q=function(J){this.zr=J;this.az.selectedIndex=this.zH[J]};dp.prototype.fA=function(J){this.zr=this.zH.indexOf(this.az.selectedIndex);
this.a(new dd(j.E.n,!1))};dp.prototype.lz=function(){this.az.focus()};function iF(J,v,x,o,R){aJ.call(this);
if(!v)return;this.zr=0;this.asn=o;this.aoj=R;this._=B.l("span","fitem bbmenu");this.Q$=B.l("label","flabel");
if(J){this.Gc=J;this.Q$.textContent=J+":";this._.appendChild(this.Q$)}this.Qk=[];this.QE=B.l("span");
this._.appendChild(this.QE);this.fm=null;this.Qw(v,x);this.q(0)}iF.prototype=new aJ;iF.prototype.f_=function(J){this.Gc=J;
this.d()};iF.prototype.d=function(){var J=this.Q$.parentNode!=null,v=this._;if(this.Gc!=null){if(!J){v.appendChild(this.Q$);
v.appendChild(this.QE)}this.Q$.textContent=ea.get(this.Gc)+": "}else if(J)v.removeChild(this.Q$);for(var h=0;
h<this.Qk.length;h++)this.Qk[h].d()};iF.prototype.s=function(){return this.zr};iF.prototype.Qw=function(J,v){B.wp(this.QE);
this.Qk=[];var x=this.s();this.fm=J;for(var h=0;h<J.length;h++){var o=new bj(J[h],!1,v?v[h]:null,this.asn);
o.P("click",this.fA,this);this.QE.appendChild(o._);this.Qk.push(o)}this.d();this.q(x)};iF.prototype.q=function(J){this.zr=J;
for(var h=0;h<this.Qk.length;h++)this.Qk[h].Il();if(J!=-1)this.Qk[J].$I()};iF.prototype.fA=function(J){var h=this.Qk.indexOf(J.target);
this.q(this.aoj&&h==this.zr?-1:h);this.a(new dd(j.E.n,!1))};iF.gd=function(J,v,x){if(v==null)v=16;var o=iF.VH,R=o.getContext("2d"),r=v>>>1;
o.width=o.height=v;var l=[];for(var h=0;h<J.length;h++){if(J[h][0]=="-")l.push(J[h].slice(1));else if(J[h]=="checker"||J[h].startsWith("#")){if(J[h]=="checker"){R.fillStyle="white";
R.fillRect(0,0,v,v);R.fillStyle="#bbbbbb";R.fillRect(r,0,r,r);R.fillRect(0,r,r,r)}else if(J[h].startsWith("#")){R.fillStyle=J[h];
R.fillRect(0,0,v,v)}l.push("<img src=\""+o.toDataURL()+"\" />")}else l.push(B.vr(J[h],null,x?x:"autoscale"))}return l};
iF.VH=B.l("canvas");function bA(J,v,x,o,R,r){aJ.call(this);this._=B.l("span","fitem mbox");this.axO=x;
this.aCb=R;var l=B.mV();if(J){this.Gc=J;this.Qd=B.l("label","flabel");this.Qd.setAttribute("for",l);
this._.appendChild(this.Qd)}this.v3=v;this.WQ=[];for(var h=0;h<v.length;h++){var M=x?new bj(v[h],!1,o?o[h]:null,!1,r):new a9(v[h],!0,"");
if(h==0)M._.setAttribute("id",l);M.P(x?"click":j.E.n,this.fA,this);this.WQ.push(M);this._.appendChild(M._)}this.d()}bA.prototype=new aJ;
bA.prototype.q=function(J){for(var v=0;v<this.v3.length;v++)this.WQ[v].q(J[v])};bA.prototype.s=function(){var J=[];
for(var v=0;v<this.v3.length;v++)J[v]=this.WQ[v].s();return J};bA.prototype.d=function(){if(this.Gc)this.Qd.innerHTML=ea.get(this.Gc)+": ";
var J=this.WQ;for(var v=0;v<J.length;v++){J[v].d();if(v==J.length-1)J[v]._.style.marginRight="0px"}};
bA.prototype.fA=function(J){var h=this.WQ.indexOf(J.currentTarget),v=this.WQ[h];if(this.axO)v.q(!v.s());
if(this.aCb){var x=v.s();for(var h=0;h<this.WQ.length;h++)this.WQ[h].q(!1);v.q(x)}this.a(new dd(j.E.n,!1))};
bA.prototype.Qw=function(J){for(var h=0;h<J.length;h++)this.WQ[h].f_(J[h])};function ch(J,v){aJ.call(this);
this.Ho=[];this.Y=[];this.a2s=J;this.zn=v;this.KT=0;this.uq=null;this.hG=new aG(0,0);if(v!=null){this.zK=new kM([{name:[6,37]},{name:[5,4]}]);
this.zK.parent=this;this.zK.P("select",this.ik,this)}this._=B.l("div","imageset scrollable");this._.addEventListener("contextmenu",B.zl,!1)}ch.prototype=new aJ;
ch.prototype.d=function(){if(this.zK)this.zK.d()};ch.prototype.ik=function(J){var h=this.zK.hA()[0],v=new dd(j.E.j,!0),x={R:j.m.Qq,Fu:this.zn,D0:this.Y.slice(0)};
if(h==0){var o=this.uq[1][this.Y[0]],R=o.split("/");if(R.length==2){x.yl=R[0]+"/";o=R[1]}x.pG="rnm";
v.data={R:j.m.wz,kA:"namewindow",EB:o,Fm:{A:j.E.j,p:x}}}else{v.data=x;x.pG="del"}this.a(v)};ch.prototype.aEc=function(){return this.KT};
ch.prototype.kO=function(J){this.KT=J;if(this.uq)this._t()};ch.prototype.iP=function(J,v,x,o){this.uq=[J,v,x,o];
this._t()};ch.prototype._t=function(){var J=this.uq,v=this._,x=J[0],o=J[1],R=J[2],r=J[3];this.Ho=[];
B.wp(v);var l=this.w6.bind(this),M=this.KT;if(M==0)B._H(v,"imageset");else B.Nv(v,"imageset");var P={};
for(var h=0;h<x.length;h++){var S=x[h],c=null,b=null;if(S==null){this.Ho.push(null);continue}if(typeof S=="string"){c=B.l("img","image");
c.setAttribute("src",S)}else c=S;if(R)B.Ol(c,R,r);if(this.a2s)B._H(c,"gsicon");if(o){var b=o[h],w=b.split("/");
if(w.length==2){var U=P[w[0]];b=w[1];if(U==null)U=P[w[0]]=[];U.push(h)}}if(M==0){}else{var F=B.l("div","listitem");
F.appendChild(c);var Y=B.l("span");Y.textContent=b?b:"Item "+(h+1);B.L(Y,"margin-left:4px;");F.appendChild(Y);
c=F}if(b)c.setAttribute("title",b);c.addEventListener("mousedown",l,!1);this.Ho.push(c);v.appendChild(c)}if(Object.keys(P).length!=0){B.wp(v);
for(var A in P){var U=P[A],G=B.l("div","listitem head");B.L(G,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var n=B.l("div","headL");G.appendChild(n);n.appendChild(B.l("div","folder"));var Y=B.l("span");Y.textContent=A;
n.appendChild(Y);v.appendChild(G);for(var h=0;h<U.length;h++)v.appendChild(this.Ho[U[h]])}}};ch.prototype.w6=function(J){if(this.zn==null)J.preventDefault();
var v=this.Ho.indexOf(J.currentTarget),x=window.__kb,o=this.Y,R=o.length;if(x.M(gw.Yv)){var r=Math.min(o[0],o[o.length-1],v),l=Math.max(o[0],o[o.length-1],v);
o=[];for(var h=r;h<=l;h++)o.push(h)}else if(x.M(gw.aw)){var M=o.indexOf(v);if(M==-1)o.push(v);else o.splice(M,1)}else o=[v];
o.sort(function(b,w){return b-w});if(J.button==0||R==1)this.q(o);this.hG=B.C2(J,J.currentTarget);if(J.button==0)this.a(new dd(j.E.n));
if(J.button==2&&this.zK){var P=this.zK;P.update(null);var S=B.C2(J,document.body),c=new dd(j.E.j,!0);
c.data={R:j.m.sO,rq:P,x:S.x,y:S.y+2};this.a(c)}};ch.prototype.s=function(){return this.Y.slice(0)};ch.prototype.asp=function(){var J=this.hG;
return new aG(J.x,J.y)};ch.prototype.q=function(J){this.Y=J.slice(0);for(var h=0;h<this.Ho.length;h++){var v=this.Ho[h];
if(v==null)continue;if(J.indexOf(h)!=-1)B._H(v,"selected");else B.Nv(v,"selected")}};function cR(J,v){aJ.call(this);
this.a2s=J;this.zn=v;this.KT=0;this.sP=null;this.Wq=[];this.dd=[];this.Y=[];var x=cj.LK[v],o=x[0].toUpperCase();
this.zK=new kM([{name:["VAR0 ."+o,[1,0]]},{name:["VAR0 ."+o,[1,8]]},{name:[6,37]},{name:[5,4],vy:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.zK.parent=this;this.zK.P("select",this.ik,this);this._=B.l("div","imageset scrollable");this._.addEventListener("contextmenu",B.zl,!1);
this.avw=this.w6.bind(this);this.auU=function(R){R.dataTransfer.setData("text",this.Wq.indexOf(R.currentTarget))}.bind(this);
this.aCn=this.abt.bind(this)}cR.prototype=new aJ;cR.prototype.aFl=function(){return this.zK};cR.prototype.d=function(){this.zK.d()};
cR.prototype.abt=function(J){var v=parseInt(J.dataTransfer.getData("text")),x=this.Wq.indexOf(J.currentTarget),o=this.Y,S=!1;
if(o.indexOf(v)==-1)o=[v];var R=this.dd[x],r=R.join(",")+",",l=cR.eJ(o,this.dd),M=l[1];for(var P in M)if(r.startsWith(P))return;
var c=cR.UQ(this.sP,R)[2],b=cR.getItem(this.sP,R);if(b[1]==null){c=b[2];b=c[0];S=!0}var w=cR.FM(this.sP,l[0]),U=c.indexOf(b);
for(var h=0;h<w.length;h++)c.splice(U+(S?0:1)+h,0,w[h]);this.Y=[];var F=cR.a1J(this.sP);for(var h=0;
h<w.length;h++)this.Y.push(F.indexOf(w[h]));this._t()};cR.prototype.ik=function(J,v){if(v==null)v=this.zK.hA()[0];
var x=this.Y,o=new dd(j.E.j,!0);if(v==0){o.data={R:j.m.hC};this.a(o)}if(v==1){var R=cR.eJ(x,this.dd)[0],r=cR.FM(this.sP,R,!0),l=cj.LK[this.zn],M=kO.an1(r,l[2]);
aB.save(M,l[1]+"."+l[0])}if(v==2){o.data={R:j.m.wz,kA:"namewindow",EB:cR.getItem(this.sP,this.dd[x[0]])[0],MX:this.a9P.bind(this)};
this.a(o)}if(v==3){var R=cR.eJ(x,this.dd)[0],r=cR.FM(this.sP,R);this.Y=[];this._t()}if(v==4){this.KT=1-this.KT;
this._t()}if(v==5){this.a(new dd("define_new"))}if(v==6){this.ahz(["New folder",null,[],!0])}};cR.prototype.ahz=function(J){var v=this.sP,x=this.Y,o=v.length-1;
if(x.length!=0){var R=x[0],r=this.dd[R],v=cR.UQ(this.sP,r)[2],l=cR.getItem(this.sP,r);o=v.indexOf(l);
if(l[1]==null){v=l[2];o=v.length-1}}v.splice(o+1,0,J);this.Y=[cR.a1J(this.sP).indexOf(J)];this._t();
this.ik(null,2)};cR.prototype.a9P=function(J){var v=cR.getItem(this.sP,this.dd[this.Y[0]]);v[0]=J;this._t()};
cR.prototype.Qw=function(J){this.sP=J;this._t()};cR.prototype.a3n=function(J,v,x){for(var h=0;h<J.length;
h++){var o=J[h],R=o[0],r,l=o[1]==null;x.push(h);if(l){r=B.l("div","listitem head");B.L(r,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var M=B.l("div","headL");r.appendChild(M);M.appendChild(B.l("div",o[3]?"open":"closed"));M.appendChild(B.l("div","folder"));
var P=B.l("span");P.textContent=R;M.appendChild(P)}else{var S=o[2],c=cj.LK[this.zn],b=Math.floor(c[5]*B.rR()),w=Math.floor(B.rR()*c[6]);
if(S==null)S=o[2]=c[2].QZ(o,b,w);r=B.l("img","image");r.setAttribute("src",S);B.Ol(r,b,w);if(this.KT==1){var U=B.l("div","listitem");
U.appendChild(r);U.style.height=c[6]+"px";var P=B.l("span");P.textContent=R;B.L(P,"margin-left:4px;");
U.appendChild(P);r=U}r.setAttribute("title",R)}v.appendChild(r);if(this.Y.indexOf(this.Wq.length)!=-1)B._H(r,"selected");
this.Wq.push(r);this.dd.push(x.slice(0));r.addEventListener("mouseup",this.avw,!1);r.setAttribute("draggable","true");
r.addEventListener("dragover",B.Ib,!1);r.addEventListener("dragstart",this.auU,!1);r.addEventListener("drop",this.aCn,!1);
if(l){var F=B.l("div");F.style.marginLeft="14px";if(o[3])v.appendChild(F);this.a3n(o[2],F,x)}x.pop()}};
cR.prototype._t=function(){var J=this.sP,v=this._;B.wp(v);this.Wq=[];this.dd=[];this.a3n(J,v,[])};cR.prototype.w6=function(J){var v=this.Wq.indexOf(J.currentTarget),x=cR.getItem(this.sP,this.dd[v]),o=x[1]==null,R=J.target.getAttribute("class"),r=this.Y,l=r.length,M=r.indexOf(v);
if(R=="open"||R=="closed")x[3]=!x[3];else if(J.button==0||M==-1){var P=window.__kb;if(P.M(gw.Yv)){var S=Math.min(r[0],r[r.length-1],v),c=Math.max(r[0],r[r.length-1],v);
r=[];for(var h=S;h<=c;h++)r.push(h)}else if(P.M(gw.aw)){if(M==-1)r.push(v);else r.splice(M,1)}else r=[v];
r.sort(function(F,Y){return F-Y});this.Y=r}this._t();if(J.button==0&&!o&&r.length==1)this.a(new dd(j.E.n));
if(J.button==2){var b=this.zK;b.update(null);var w=B.C2(J,document.body),U=new dd(j.E.j,!0);U.data={R:j.m.sO,rq:b,x:w.x,y:w.y+2};
this.a(U)}};cR.prototype.s=function(){return cR.getItem(this.sP,this.dd[this.Y[0]])[1]};cR.prototype.q=function(J){this.ahz(["New item",J])};
cR.getItem=function(J,v){var x=["",null,J];for(var h=0;h<v.length;h++)x=x[2][v[h]];return x};cR.UQ=function(J,v){var x=["",null,J];
for(var h=0;h<v.length-1;h++)x=x[2][v[h]];return x};cR.a1J=function(J){function v(o,R){for(var h=0;h<o.length;
h++){var r=o[h];R.push(r);if(r[1]==null)v(r[2],R)}}var x=[];v(J,x);return x};cR.FM=function(J,v,x){var o=[];
for(var R=v.length-1;R>=0;R--){var r=v[R],l=r[r.length-1],M=cR.UQ(J,r);o.unshift(M[2][l]);if(!x)M[2].splice(l,1)}return o};
cR.eJ=function(J,v){var x=[],o={};for(var h=0;h<J.length;h++){var R=v[J[h]],r=R.join(",")+",",l=!1;for(var M in o)if(r.startsWith(M))l=!0;
if(!l){o[r]=!0;x.push(R)}}return[x,o]};function dO(J,v,x,o,R,r,l){aJ.call(this);this._=B.l("span","fitem "+x);
this.zn=r;this.pn=null;this.AT=!0;this.Iw=null;this.bM=new aJ;this.bM._=B.l("div","floatcont");this.qO=o;
this.bM.parent=this;this.avO=B.l("div");this.bM._.appendChild(this.avO);this.tY=B.l("div");this.bM._.appendChild(this.tY);
if(J){this.Gc=J;this.Q$=B.l("label","flabel");this._.appendChild(this.Q$)}this.R=B.l("button",l?"nopadding":"");
B.L(this.R,"position:relative;");var M=this._o.bind(this),P=this.UA.bind(this);B._A(this.R,v?P:M);this._.appendChild(this.R);
this._a=B.l("img",l?"gsicon":"");this.R.appendChild(this._a);if(v){var S=B.l("button");S.textContent="\u25BC";
B._A(S,M);this._.appendChild(S)}else{var c=B.l("span");c.textContent="\u25BC";B.L(c,"position:absolute;  bottom:2px;  right:4px;");
this.R.appendChild(c)}var b=this.a4n=B.l("span");this.tY.appendChild(b);B.L(b,"display:inline-block;  vertical-align:top;");
this.ov=this.aDH()?new cR(l,r):new ch(l,r);b.appendChild(this.ov._);this.ov.parent=this.bM;this.ov.P(j.E.n,this.hZ,this);
this.ov.P("define_new",this.a1e,this);this.ov._.style.height=R+"px";this.SQ=B.l("button");this.SQ.textContent="\u25BC";
B.L(this.SQ,"padding:3px");B._A(this.SQ,this.MO.bind(this));this.tY.appendChild(this.SQ);var w=this.UC(),U=this.ayN=r!=cj.NY&&r!=cj.z0?r:null,F=this.ahP=r==null?!1:cj.LK[r][4]!=0,Y=r==null?"":cj.LK[r][0].toUpperCase(),A=[];
if(U)A.push({name:[12,87]});A.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],vy:!0});A.push({name:[[23,6],"."+(Y=="ICC"?"icc .cube .look .3dl":Y)]},{name:["VAR0 ."+Y,[1,8]]},{name:[6,37]},{name:[5,4],vy:w.length!=0});
for(var h=0;h<w.length;h++)A.push({name:w[h].split("/").pop()});this.a3N=A}dO.prototype=new aJ;dO.prototype.aDH=function(){var J=this.zn;
return J==cj.g0||J==cj.Ui};dO.prototype.a1e=function(){this.ov.q(this.Iw)};dO.prototype.hZ=function(J){this.q(J.target.s());
this.a(new dd(j.E.n))};dO.prototype.h3=function(){if(!this.AT)return;this.ov.Qw(this.pn,this);this.AT=!1};
dO.prototype.q=function(J){this.Iw=g.F(J);this.cM()};dO.prototype.s=function(){return g.F(this.Iw)};
dO.prototype.cM=function(){};dO.prototype.UC=function(){return[]};dO.prototype.UA=function(){};dO.prototype.d=function(){this.ov.d();
var J=this.Gc;if(J)this.Q$.textContent=ea.get(J)+":"};dO.prototype.f_=function(J){this.Q$.textContent=J};
dO.prototype.CN=function(J){var v=this.zn,x=0;if(v==cj.a8){x=this.pn?this.pn.length:0;J=J.slice(0)}this.pn=J;
this.AT=!0;if(B.yn(this.ov._)||v==cj.g0)this.h3();if(v==cj.a8&&J.length-x==1&&B.yn(this._)){this.q(J[x]);
this.AT=!0;this.h3();this.ov.q([x]);this.a(new dd(j.E.n))}};dO.prototype.ik=function(J){var v=J.target.hA()[0];
if(this.ayN==null)v++;var x=new dd(j.E.j,!0);if(v==0){var o=this.Nb();if(this.zn==cj.a8&&o[0].profile==null)return;
x.data={R:j.m.Qq,pG:"add",Fu:this.ayN,xO:o}}else if(v==1)this.ov.kO(1-this.ov.aEc());else if(v<=5)this.vE(v-2);
else{var R=this.UC();x.data={R:j.m.Ia,Fu:{url:"rsrc/"+R[v-6]}}}if(x.data)this.a(x)};dO.prototype.vE=function(J){var v=new dd(j.E.j,!0),x=this.ov.s(),o={R:j.m.Qq,Fu:this.zn,D0:x};
if(J>1&&x.length==0){alert("No items selected");return}if(J==0)v.data={R:j.m.hC};else if(J==1)v.data={R:j.m.oH,axA:this.zn,D0:x.length==0?null:x};
else if(J==2){var R=this.ov.uq[1][x[0]],r=R.split("/");if(r.length==2){o.yl=r[0]+"/";R=r[1]}o.pG="rnm";
v.data={R:j.m.wz,kA:"namewindow",EB:R,Fm:{A:j.E.j,p:o}}}else if(J==3){v.data=o;o.pG="del"}this.a(v)};
dO.prototype.Nb=function(){return[this.s()]};dO.prototype.MO=function(J){var v;J.stopPropagation();if(this.aDH())v=this.ov.aFl();
else{if(this.zK==null){this.zK=new kM(this.a3N);this.zK.parent=this.bM;this.zK.P("select",this.ik,this)}v=this.zK}if(B.yn(v._))return;
v.d();v.update(null);var x=J.currentTarget.getBoundingClientRect(),o=new dd(j.E.j,!0);o.data={R:j.m.sO,rq:v,x:x.left,y:x.top+x.height};
this.a(o)};dO.prototype._o=function(J,v,x){if(B.yn(this.bM._))return;if(J)J.stopPropagation();this.h3();
if(v==null){var o=this.R.getBoundingClientRect(),v=o.left,x=o.top+o.height}this.qe();var R=new dd(j.E.j,!0);
R.data={R:j.m.sO,rq:this.bM,x:v,y:x,a3:!0};this.a(R)};dO.prototype.qe=function(J,v){var J=Math.min(this.qO,window.innerWidth-40);
this.a4n.style.width=J+"px";this.bM._.style.width=J+20+"px"};dO.prototype.aq5=function(J,v){this._o(null,J,v)};
function dr(){aJ.call(this);this._=B.l("div");this.av=!1;this.Wq=[new dp([12,19,1],[[13,1,7]].concat(kC.EJ)),new cB([17,1]),new cB([12,46])];
for(var h=0;h<3;h++){var J=this.Wq[h];this._.appendChild(J._);J.P(j.E.n,this.nE,this)}this.d()}dr.prototype=new aJ;
dr.prototype.d=function(){for(var h=0;h<3;h++)this.Wq[h].d()};dr.prototype.s=function(){return this.av.slice(0)};
dr.prototype.q=function(J){this.av=J.slice(0);var v=this.Wq,x=v[0].s();v[1].q(J.slice(x*8,x*8+4),x);
v[2].q(J.slice(x*8+4,x*8+8),x)};dr.prototype.nE=function(J){var v=this.Wq,x=v.indexOf(J.currentTarget);
if(x==0)this.q(this.av);else{var o=v[0].s()*8+(x==1?0:4),R=v[x].s();for(var h=0;h<4;h++)this.av[o+h]=R[h];
this.a(new dd(j.E.n,!1))}};function cB(J){aJ.call(this);this._=B.l("div");this.W0=B.l("canvas");this.i7=J;
this.av=[0,20,200,255];this.HU=0;this.Yp=-1;this.aeX=[];for(var h=0;h<5;h++){var v=B.l("span");B.L(v,"display:inline-block;width:"+(h==0?8:h==2?7:2)+"em");
this.aeX.push(v);this._.appendChild(v)}this.o1=this.y1.bind(this);this.GR=this._k.bind(this);this._D=this.Vg.bind(this);
B.sl(this.W0);B._A(this.W0,this.o1);this._.appendChild(this.W0);this._t()}cB.prototype=new aJ;cB.prototype.d=function(){this._t()};
cB.prototype.q=function(J,v){this.av=J;this.HU=v;this._t()};cB.prototype.s=function(){return this.av.slice(0)};
cB.prototype.y1=function(J){var v=this.av,x=B.C2(J,this.W0),o=x.x-8,R=-1,r=1e9;for(var h=0;h<4;h++){var l=o-v[h],M=Math.abs(l);
if(M<8&&M<r&&((h&1)==0&&l<0||(h&1)==1&&l>0)){r=l;R=h}}if(R==-1)return;this.Yp=R;this.JA=window.__kb.M(gw.i4)||v[(R>>>1)*2]!=v[(R>>>1)*2+1];
B.W4(window,this.GR);B.Kb(window,this._D)};cB.prototype._k=function(J){var v=this.av,x=this.Yp,o=(x>>>1)*2,R=o+1,r=B.C2(J,this.W0),l=Math.round(Math.max(0,Math.min(255,r.x-8)));
v[x]=l;if(this.JA&&v[o]>=v[R])this.JA=!1;if(!this.JA)v[o]=v[R]=l;this._t();this.a(new dd(j.E.n,!1))};
cB.prototype.Vg=function(J){B.SP(window,this.GR);B.PD(window,this._D)};cB.prototype._t=function(){var J=this.W0;
B.QH(J,255+16,16);var v=J.getContext("2d"),x=J.width,o=J.height,R=Math.round(255*B.rR()),r=Math.round(8*B.rR());
v.translate(r,0);var l=v.createLinearGradient(0,0,R,0);l.addColorStop(0,"black");l.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.HU]);
v.fillStyle=l;v.fillRect(0,0,R,r);var M=this.aeX,P=ea.get(this.i7)+":";M[0].textContent=P;for(var h=0;
h<4;h++){var S=this.av[h];M[1+h].textContent=S;var c=Math.round(S*B.rR());v.beginPath();v.moveTo(c,r);
v.lineTo(c,r+r);v.lineTo(c+((h&1)==0?-1:1)*r,r+r);v.closePath();v.fillStyle=h<2?"#666666":"#cccccc";
v.fill();v.strokeStyle="black";v.stroke()}};function a$(J,v,x){aJ.call(this);if(x==null)x=!1;this.K=[0,0,1];
this.a5$=v;this.aec=x;this.dW=0;var o="ai"+B.mV();this._=B.l("span","fitem angleinput");if(J){this.Q$=B.l("label","flabel");
this.Gc=J;this._.appendChild(this.Q$);this.Q$.setAttribute("for",o)}this.Lm=x?44:20;this.W0=B.l("canvas","gsicon");
this.zJ=this.W0.getContext("2d");B.sl(this.W0);B.QH(this.W0,this.Lm*2+1,this.Lm*2+1);this.zJ.scale(B.rR(),B.rR());
this._.appendChild(this.W0);B._A(this.W0,this.w_.bind(this));this.d4=this.MS.bind(this);this.OS=this.bU.bind(this);
var R=this.fA.bind(this),r=B.l("div");B.L(r,"display:inline-block;  vertical-align:middle;");if(!x)this._.appendChild(r);
this.lc=[];for(var h=0;h<2;h++){var l=B.l("input");this.lc.push(l);l.setAttribute("type","text");B.Mb(l);
if(h==0)l.setAttribute("id",o);l.addEventListener("change",R,!1);var M=B.l("span");M.textContent="\xB0";
if(h==0||v){r.appendChild(l);r.appendChild(M);B.A1(r)}}this.q(this.K)}a$.prototype=new aJ;a$.prototype.d=function(){if(this.Gc)this.Q$.textContent=ea.get(this.Gc)+":"};
a$.prototype.f_=function(J){this.Q$.textContent=J};a$.prototype.s=function(){return this.K.slice(0)};
a$.prototype.q=function(J,v){var x=this.K;J=J.slice(0);if(J[0]==null)J[0]=x[0];if(J[1]==null)J[1]=x[1];
if(J[2]==null)J[2]=x[2];this.K=J;var o=J[0],R=J[1],r=J[2],l=this.a5$,M=this.aec,P=this.Lm*.85;if(!l)R=0;
this.lc[0].value=o;this.lc[1].value=R;var S=this.zJ;S.clearRect(0,0,100,100);o=Math.PI*o/180;R=P*(90-R)/90;
var c=this.Lm+.5;S.save();S.translate(c,c);S.rotate(-o);S.strokeStyle="rgba(0,0,0,0.5)";S.beginPath();
S.ellipse(0,0,P,P*r,0,0,2*Math.PI);if(M){S.moveTo(0,-P*r);S.lineTo(0,P*r);S.moveTo(-R,0)}else S.moveTo(0,0);
S.lineTo(R,0);S.stroke();var b=this.Lm*.15;S.fillStyle="black";S.beginPath();if(M){S.arc(0,-P*r,b*.66,0,2*Math.PI);
S.arc(0,P*r,b*.66,0,2*Math.PI)}if(l){S.arc(R,0,b*.4,0,2*Math.PI)}else{S.moveTo(c-b,-b*.66);S.lineTo(c,0);
S.lineTo(c-b,b*.66)}S.fill();S.restore();if(v)this.fA()};a$.prototype.fA=function(J){var v=parseInt(this.lc[0].value);
if(isNaN(v))v=0;var x=parseInt(this.lc[1].value);if(isNaN(x))x=0;v=v%360;x=x%360;this.q([v,x]);this.a(new dd(j.E.n,!1))};
a$.prototype.w_=function(J){B.W4(window,this.d4);B.Kb(window,this.OS);var v=B.C2(J,this.W0),c=0,b=1e9;
v.x-=this.Lm;v.y-=this.Lm;var x=this.K,o=x[0]*Math.PI/180,R=(90-x[1])/90,r=x[2],l=this.Lm*.85,M=Math.sin(-o),P=Math.cos(-o),S=[new aG(P*l,M*l)];
if(this.aec)S.push(new aG(-M*l*r,P*l*r),new aG(M*l*r,-P*l*r));for(var h=0;h<S.length;h++){var w=aG.Aj(v,S[h]);
if(w<b){b=w;c=h}}this.dW=c;if(c==0)this.MS(J)};a$.prototype.MS=function(J){var v=B.C2(J,this.W0),x=this.dW,o=[],R=v.x-this.Lm,r=v.y-this.Lm,l=this.Lm*.85;
if(x==0){var M=180*Math.atan2(-r,R)/Math.PI,P=90-90*Math.min(1,Math.sqrt(R*R+r*r)/l);if(J.shiftKey)M=Math.round(M/15)*15;
o=[Math.round(M),Math.round(P)]}else o=[null,null,Math.max(.01,Math.min(1,Math.sqrt(R*R+r*r)/l))];this.q(o);
this.a(new dd(j.E.n,!1))};a$.prototype.bU=function(J){this.a(new dd(j.E.n,!1));B.SP(window,this.d4);
B.PD(window,this.OS)};function gl(J,v){aJ.call(this);this.av=0;this.YX=v;this._=B.l("span","fitem angleinput");
if(J){this.Q$=B.l("label","flabel");this.Gc=J;this._.appendChild(this.Q$)}this.W0=B.l("canvas","gsicon");
this.zJ=this.W0.getContext("2d");B.QH(this.W0,v,v);this._.appendChild(this.W0);B.sl(this.W0);B._A(this.W0,this.w_.bind(this));
this.d4=this.MS.bind(this);this.OS=this.bU.bind(this);this.q(0)}gl.prototype=new aJ;gl.prototype.d=function(){if(this.Gc)this.Q$.textContent=ea.get(this.Gc)+":"};
gl.prototype.f_=function(J){this.Q$.textContent=J};gl.prototype.s=function(){return this.av};gl.prototype.ad4=function(J){var v=this.av,x=Math.floor(v/3),o=v-x*3;
o=Math.max(0,Math.min(2,o+J.x));x=Math.max(0,Math.min(2,x+J.y));this.q(x*3+o)};gl.prototype.q=function(J){this.av=J;
var v=this.W0.width,x=Math.floor(J/3),o=J-3*x,R=(o+.5)*v/3,r=(x+.5)*v/3,l=this.zJ,M=[.5,Math.round(v/3)+.5,Math.round(2*v/3)+.5,v-.5];
l.clearRect(0,0,v,v);var P=this.YX<30;l.setLineDash([]);l.strokeStyle=P?"rgba(0,0,0,0.5)":"#000000";
l.beginPath();for(var h=0;h<4;h++){var S=M[h];l.moveTo(S,0);l.lineTo(S,v);l.moveTo(0,S);l.lineTo(v,S)}l.stroke();
if(J==9)return;if(!P){l.setLineDash([1,2]);var c=v*.53,b=Math.max(0,Math.min(v-c,R-c/2)),w=Math.max(0,Math.min(v-c,r-c/2));
l.strokeRect(Math.round(b)+.5,Math.round(w)+.5,Math.round(c),Math.round(c))}l.fillStyle="#000000";l.beginPath();
l.arc(R,r,v/8,0,Math.PI*2);l.fill()};gl.prototype.w_=function(J){B.W4(document.body,this.d4);B.Kb(document.body,this.OS);
this.MS(J)};gl.prototype.MS=function(J){var v=B.C2(J,this.W0),x=Math.max(0,Math.min(2,Math.floor(v.x/(this.YX/3)))),o=Math.max(0,Math.min(2,Math.floor(v.y/(this.YX/3))));
this.q(o*3+x)};gl.prototype.bU=function(J){this.a(new dd(j.E.n,!1));B.SP(document.body,this.d4);B.PD(document.body,this.OS)};
function dx(co){aJ.call(this);this._=B.l("span","fitem cswatch");this.alI=0;this.nj=[];this.ah=[];var J=this.aEb.bind(this);
for(var h=0;h<co;h++){this.nj.push(0);var v=B.l("span","colorsample");v.addEventListener("click",J,!1);
this.ah.push(v);this._.appendChild(v)}var x=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],o=Math.min(co,x.length);
for(var h=0;h<o;h++)this.nj[h]=x[h];this.CL()}dx.prototype=new aJ;dx.prototype.aEb=function(J){this.alI=this.ah.indexOf(J.currentTarget);
this.a(new dd(j.E.n))};dx.prototype.s=function(){return this.nj[this.alI]};dx.prototype.q=function(J){var v=this.nj,x=v.indexOf(J);
if(x!=-1)v.splice(x,1);else v.pop();v.unshift(J);this.CL()};dx.prototype.CL=function(){for(var h=0;h<this.nj.length;
h++){B.L(this.ah[h],"background-color:#"+g.q2(this.nj[h]))}};function hf(J){aJ.call(this);this.Jn={z:0,H:0,c:0};
this.yt=J;this._=B.l("span","fitem colorsample bbtn");this._.addEventListener("click",this.z9.bind(this),!1)}hf.prototype=new aJ;
hf.prototype.d=function(){};hf.prototype.z9=function(J){var v=this.Jn;this.a(new dd("click"));var x=new dd(j.E.j,!0);
x.data={R:j.m.wz,kA:"colorpicker",qt:g.c7(v),Ah:this.Qp.bind(this),eu:this.yt};this.a(x)};hf.prototype.Qp=function(J){this.VR(J);
this.a(new dd(j.E.n))};hf.prototype.mC=function(){this.z9(null)};hf.prototype.ab=function(){var J=this.Jn;
return J.z<<16|J.H<<8|J.c};hf.prototype.s=function(){return g.UH.YK(this.Jn)};hf.prototype.VR=function(J){this.Jn=g.x7(J);
this.as5()};hf.prototype.q=function(J){this.Jn=g.UH.Eb(J);this.as5()};hf.prototype.as5=function(){var J=this.Jn,v=J.z,x=J.H,o=J.c,R=v<<16|x<<8|o;
B.L(this._,"background-color:#"+g.q2(R))};function iz(){aJ.call(this);this.DG=!1;this.Au=20;this.aih=10;
this.ep=0;this.DG=!1;this.lv={z:255,H:0,c:0};this.wx={z:0,H:0,c:0};this.f=null;this.U8=null;this.x$=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this._=B.l("canvas");this._t();B.sl(this._);B._A(this._,this.o1.bind(this))}iz.prototype=new aJ;iz.prototype.aoP=function(J){if(this.DG==J)return;
this.DG=J;this._t()};iz.prototype.d=function(){};iz.prototype.a8C=function(J,v){function x(o){return{z:o>>16&255,H:o>>8&255,c:o&255}}if(J!=null)this.lv=x(J);
if(v!=null)this.wx=x(v);this._t()};iz.prototype.adE=function(J,v){this.f=J;this.U8=v;this._t()};iz.prototype.o1=function(J){var v=B.C2(J,this._),x=v.x*B.rR(),o=v.y*B.rR(),R=this.Au,r=this.aih,l=0;
if(o>R){l=4+Math.floor(3*x/R)}else if(x<r&&o<r){l=0}else if(x>R-r&&o>R-r){l=1}else if(x<r){l=2}else{l=3}this.mC(l)};
iz.prototype.mC=function(J){var v=this.f,x=new dd(j.E.j,!0);if(J>1){if(du==0)x.data={R:j.m.Qq,Fu:cj.Zl,Uq:J};
else{var o=g.F(v.Ok);if(J==2){var R=o.T0;o.T0=o.sN;o.sN=R}if(J==3){o.sN=[1,1,1];o.T0=[0,0,0]}if(J>=4){var r=this.x$[J-4];
if(this.ep==0)o.sN=r;else o.T0=r}x.data={R:j.m.Qq,Fu:cj.YI,K:o}}}else{var l=this.Qp.bind(this),M=this.ep;
this.ep=J;if(du==0){var P=J==0?this.lv:this.wx;x.data={R:j.m.wz,kA:"colorpicker",qt:g.c7(P),Ah:l}}else{if(M!=J){this._t();
return}var S=J==0?v.Ok.sN:v.Ok.T0;if(S.length==0)S=[0,0,0];iz.aDJ(S,this,l);return}}this.a(x)};iz.prototype.Qp=function(J){var v=new dd(j.E.j,!0),x=this.ep,o=this.f;
if(du==0)v.data={R:j.m.Qq,Fu:cj.Zl,Uq:x,K:J};else{var R=J;if(typeof J=="number"){R=g.x7(J,1);R=[R.z,R.H,R.c]}var r=g.F(o.Ok);
if(x==0)r.sN=R;else r.T0=R;v.data={R:j.m.Qq,Fu:cj.YI,K:r}}this.a(v)};iz.prototype._t=function(){var J=this._,v=J.getContext("2d"),x=B.rR(),x=B.rR(),o=this.Au=Math.floor(34*x),R=Math.floor((o-2)/3),r="#aaaaaa",l=.62;
J.width=o;J.height=o+du*(R+9);B.Dt(J);J.style.cursor="pointer";var o=this.Au=J.width,M=this.aih=Math.round(o*l);
function P(E,K){var e=E.z,$=E.H,N=E.c;if(K)e=$=N=Math.round(g.x3(e,$,N));var k=e<<16|$<<8|N;return"#"+g.q2(k)}function S(v,w,E,K,e,$){v.beginPath();
if(K>=$*2&&e>=$*2){v.moveTo(w+$,E);v.lineTo(w+K-$,E);v.quadraticCurveTo(w+K,E,w+K,E+$);v.lineTo(w+K,E+e-$);
v.quadraticCurveTo(w+K,E+e,w+K-$,E+e);v.lineTo(w+$,E+e);v.quadraticCurveTo(w,E+e,w,E+e-$);v.lineTo(w,E+$);
v.quadraticCurveTo(w,E,w+$,E)}v.closePath()}function c(w,E,M,K,e){v.strokeStyle=e?e:"black";v.fillStyle=K;
S(v,w+.5,E+.5,M-1,M-1,M*.2);v.fill();v.stroke()}var b=this.f;if(b){v.beginPath();var w=o-M,U=Math.floor(M*.28),F=M-2*U;
v.lineWidth=1;v.strokeStyle="white";if(this.ep==0)iz.$L(v,b.Ok.T0,this.U8,M,M,w,w,!0);iz.$L(v,b.Ok.sN,this.U8,M,M,0,0);
if(this.ep==1)iz.$L(v,b.Ok.T0,this.U8,M,M,w,w,!0);for(var h=0;h<3;h++){v.beginPath();iz.$L(v,this.x$[h],this.U8,R,R,h*(R+1),o+9,!1)}}else{c(o-M,o-M,M,P(this.wx,this.DG));
c(0,0,M,P(this.lv,this.DG))}var Y=o-M,A=Math.round(Y*l);c(o-A,Y-A,A,du==0?"white":"black",r);c(o-Y,0,A,du==0?"black":"white",r);
v.save();v.fillStyle=r;v.translate(0,o);v.rotate(-Math.PI/2);Y=o-M;var G=Math.round(Y*.28),n=Math.round(Y*.25);
for(var h=0;h<2;h++){v.fillRect(G,G,Y-G,1);v.beginPath();v.moveTo(Y-n,G+.5-n);v.lineTo(Y,G+.5);v.lineTo(Y-n,G+.5+n);
v.closePath();v.fill();v.transform(0,1,1,0,0,0)}v.restore()};iz.aDJ=function(J,v,x){var o=new dd(j.E.j,!0);
if(J.length==3)o.data={R:j.m.wz,kA:"colorpicker",qt:g.c7({z:J[0]*255,H:J[1]*255,c:J[2]*255}),Ah:x};else o.data={R:j.m.wz,kA:"vgradienteditor",K:J,Ah:x};
v.a(o)};iz.$L=function(J,v,x,o,R,r,l,M){function P(Y,A){return CSS.yN({z:Y[0]*255,H:Y[1]*255,c:Y[2]*255},A)}if(v==null){J.fillStyle="#888888";
J.clearRect(r,l,o,R);J.font=Math.round(R*.6*(M?.5:1))+"px sans-serif";J.fillStyle="white";if(M){J.fillText("?",r+o*.05,l+R*.3);
J.fillText("?",r+o*.8,l+R*.3);J.fillText("?",r+o*.05,l+R*.9);J.fillText("?",r+o*.8,l+R*.9)}else J.fillText("?",o*.36,R*.7)}else if(v.length==0){J.fillStyle="#ffffff";
J.fillRect(r,l,o,R);J.strokeStyle="#ff0000";J.lineWidth=2;J.moveTo(r,l);J.lineTo(r+o,l+R);J.moveTo(r,l+R);
J.lineTo(r+o,l);J.stroke()}else if(v.length==3){J.fillStyle=P(v);J.fillRect(r,l,o,R)}else if(v.length==4){var S=r+o/2,c=l+R/2,b=v[0]==0?J.createLinearGradient(r,l,r+o,l):J.createRadialGradient(S,c,0,S,c,o/2);
g.UH.cg(b,v[1]);J.fillStyle=b;J.fillRect(r,l,o,R)}else if(v.length==2){var w=x.mW[v[0]];J.save();J.fillStyle="white";
J.fillRect(r,l,o,R);J.rect(r,l,o,R);J.scale(o/w.r,R/w.$);J.fillStyle=w.dm;J.fill();J.restore()}J.lineWidth=1;
J.strokeStyle="white";J.strokeRect(r+.5,l+.5,o-1,R-1);if(M){var U=Math.floor(o*.28),F=o-2*U;J.clearRect(r+U,r+U,F,F);
J.strokeRect(r+U+.5,r+U+.5,F-1,F-1)}};function fP(J){dO.call(this,J,!1,"brushbutton nopadding",19*13,10*13,cj.kN,!0);
var v=this.avO;B._H(v,"flexrow");var x=B.l("div");v.appendChild(x);var o=B.l("div");v.appendChild(o);
B.L(o,"margin-left:8px");this.W2=new a$(null,null,!0);this.W2.P(j.E.n,this.EQ,this);x.appendChild(this.W2._);
this.z5=new jL([12,14,0],1,1e3," px",0,!0);this.z5.P(j.E.n,this.EQ,this);o.appendChild(this.z5._);this.eD=new jL([12,17],0,100,"%");
this.eD.P(j.E.n,this.EQ,this);o.appendChild(this.eD._);this.V2=new bA(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.V2.P(j.E.n,this.EQ,this);o.appendChild(this.V2._)}fP.prototype=new dO;fP.prototype.UC=function(){var J=["pencil","trees"];
for(var h=0;h<J.length;h++)J[h]="brushes/"+J[h]+".abr";return J};fP.prototype.q=function(J,v,x){this.Iw=g.F(J);
var o=Math.floor(20*B.rR()),R=Math.floor(36*B.rR()),r=Math.floor(24*B.rR()),l=ix.QZ(J,v,x,o,r,R);this._a.setAttribute("src",l);
B.Ol(this._a,R,r);var M=J.Brsh.v;this.z5.q(M.Dmtr.v.val);if(M.Hrdn!=null){this.eD.fS();this.eD.q(M.Hrdn.v.val)}else this.eD.UG();
if(M.Angl!=null)this.W2.q([M.Angl.v.val]);if(M.Rndn!=null)this.W2.q([null,null,M.Rndn.v.val/100]);var P=[!1,!1];
if(J.opVr)P[0]=J.opVr.v.bVTy.v==2;if(J.szVr)P[1]=J.szVr.v.bVTy.v==2;this.V2.q(P)};fP.prototype.Nb=function(){return{list:[{t:"Objc",v:this.s()}],En:[],pm:[]}};
fP.prototype.s=function(){return this.Iw};fP.prototype.h3=function(){if(!this.AT)return;var J=[],v=[],x=this.pn,o=Math.floor(33*B.rR()),R=Math.floor(40*B.rR());
for(var h=0;h<x.list.length;h++){var r=x.list[h].v,l=ix.QZ(r,x.En,x.pm,o,R);J.push(l);v.push(r.Nm.v)}this.ov.iP(J,v,o,R);
this.AT=!1};fP.prototype.hZ=function(J){var v=this.pn;this.q(v.list[this.ov.s()[0]].v,v.En,v.pm);this.a(new dd(j.E.n))};
fP.prototype.d=function(){dO.prototype.d.call(this);this.W2.d();this.z5.d();this.eD.d()};fP.prototype.EQ=function(J){var v=this.pn,x=this.Iw,o=x.Brsh.v;
o.Dmtr.v.val=this.z5.s();if(o.Hrdn!=null)o.Hrdn.v.val=this.eD.s();if(o.Angl!=null)o.Angl.v.val=this.W2.s()[0];
if(o.Rndn!=null)o.Rndn.v.val=Math.round(this.W2.s()[2]*100);if(J.target==this.V2)br.a15(x,this.V2.s());
this.q(x,v.En,v.pm);this.a(new dd(j.E.n))};function gH(J){dO.call(this,J,!0,"contourbutton",17*13,10.5*13,cj.Lg)}gH.prototype=new dO;
gH.prototype.hZ=function(J){this.q(this.pn[J.target.s()]);this.a(new dd(j.E.n))};gH.prototype.UA=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.wz,kA:"contoureditor",SU:this.Iw,response:this.a1Z.bind(this)};this.a(v)};gH.prototype.a1Z=function(J){this.q(J);
this.a(new dd(j.E.n))};gH.prototype.h3=function(){if(!this.AT)return;var J=Math.floor(38*B.rR()),v=Math.floor(38*B.rR()),x=[],o=[],R=this.pn;
for(var h=0;h<R.length;h++){o.push(R[h].Nm?R[h].Nm.v:"");x.push(g.O2.QZ(R[h].Crv.v,J,v))}this.ov.iP(x,o,J,v);
this.AT=!1};gH.prototype.q=function(J){this.Iw=g.F(J);var v=this.Iw.Crv.v;for(var h=0;h<v.length;h++)if(v[h].v.Cnty==null)v[h].v.Cnty={t:"bool",v:!0};
this.cM()};gH.prototype.cM=function(){var J=Math.floor(30*B.rR()),v=Math.floor(30*B.rR()),x=g.O2.QZ(this.Iw.Crv.v,J,v);
this._a.setAttribute("src",x);B.Ol(this._a,J,v)};function jE(J){aJ.call(this);this.tL=null;this.f=null;
this.qE=null;this.N6=null;this.aBX=[];this.abl=[];this._=B.l("span","fitem fillbutton");this.bM=new aJ;
this.bM._=B.l("div","floatcont form");B.L(this.bM._,"width: 21em;");this.bM.parent=this;this.zO=J;this.Q$=this.Q$=B.l("label","flabel");
this._.appendChild(this.Q$);this.W0=B.l("canvas");this.zJ=this.W0.getContext("2d");this.aaD=null;this._.appendChild(this.W0);
B._A(this.W0,this._o.bind(this));this.qw=new iF([12,66],["","Color","Grad","Patt"]);this.bM._.appendChild(this.qw._);
this.qw.P(j.E.n,this.nE,this);this.bM._.appendChild(B.l("hr"));this.azZ=B.l("span");this.Qz=new hf(!1);
this.Qz.parent=this.bM;this.Qz.P(j.E.n,this.nE,this);this.qf=new dx(10);this.qf.P(j.E.n,this.nE,this);
this.uA=B.l("div","marged hiline");this.uA.appendChild(this.Qz._);B.A1(this.uA);this.uA.appendChild(this.qf._);
this.Bv=new ig("GrFl",!0);this.Bv.parent=this.bM;this.Bv.P(j.E.n,this.nE,this);this.PZ=B.l("div","marged hiline");
var v="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var h=0;h<v.length;h++){var x=this.Bv.uD[v[h]]._;
this.PZ.appendChild(x)}this.I3=new ig("patternFill",!0);this.I3.parent=this.bM;this.I3.P(j.E.n,this.nE,this);
this.Iy=B.l("div","marged hiline");var v=["Ptrn","Angl","Scl","Algn","phase"];for(var h=0;h<v.length;
h++){var x=this.I3.uD[v[h]]._;this.Iy.appendChild(x)}}jE.prototype=new aJ;jE.prototype.pJ=function(J,v){var x=jS.R4(J,v);
if(x!=null)this.qf.q(x);if(v==cj.q1){this.aBX=[];this.abl=[];if(this.tL)this.q(this.qE,this.s(),this.tL)}this.f=J;
this.Bv.pJ(J,v);this.I3.pJ(J,v)};jE.prototype.d=function(){this.Q$.textContent=ea.get(this.zO)+": ";
this.qw.d();this.Qz.d();this.Bv.d();this.I3.d()};jE.prototype.nE=function(J){var v=J.currentTarget;if(v==this.qw){var x=this.qw.s(),o={It:x,BD:this.tL[x]};
if(x>0&&o.BD==null)o.BD=g.F(gD.iS[x-1]);if(this.tL)this.q(this.qE,o,this.tL)}if(v==this.qf)this.Qz.VR(v.s());
this.a(new dd(j.E.n,!1))};jE.prototype._o=function(J){if(B.yn(this.bM._))return;J.stopPropagation();
var v=[[13,1,0],[13,0],[12,37],[12,62]],x=this.tL,o=this.aBX,R=this.abl,r=!1;for(var h=0;h<4;h++){var l={It:h,BD:x[h]},M=jE.aFK(l);
if(R[h]==M)continue;r=!0;var P=jE.aeF(null,l,this.f,this.qE,22,22,!1);o[h]="<img width=\"22\" height=\"22\" src=\""+P+"\" />";
R[h]=M}if(r)this.qw.Qw(o,v);var S=this.W0.getBoundingClientRect(),c=new dd(j.E.j,!0);c.data={R:j.m.sO,rq:this.bM,x:S.left,y:S.top+S.height+4};
this.a(c)};jE.prototype.q=function(J,v,x){this.tL=x;this.qE=J;this.qw.q(v.It);var o=jE.aFK(v),R;if(o!=this.aaD)jE.aeF(this.zJ,v,this.f,this.qE,30,23,!0);
this.aaD=o;var r=v.It;if(r==0){R=this.azZ}if(r==1){this.Qz.q(v.BD.Clr.v);R=this.uA}if(r==2){this.Bv.update(J,v.BD);
R=this.PZ}if(r==3){this.I3.update(J,v.BD);R=this.Iy}if(R!=this.N6){if(this.N6!=null){this.bM._.removeChild(this.N6)}this.bM._.appendChild(R);
this.N6=R}};jE.prototype.s=function(){var J={It:this.qw.s()};if(J.It==1){J.BD=g.F(gD.iS[0]);J.BD.Clr.v=this.Qz.s()}if(J.It==2){J.BD=this.Bv.s()}if(J.It==3){J.BD=this.I3.s()}return J};
jE.aFK=function(J){var v=J.It,x=J.BD,o="empty";if(v==1){o=g.UH.Eb(x.Clr.v);o=o.z+","+o.H+","+o.c}if(v==2)o=JSON.stringify(x.Grad.v);
if(v==3)o=x.Ptrn.v.Idnt.v;return o};jE.aeF=function(J,v,x,o,R,r,l){if(J==null)J=jE.zJ;var M=Math.floor(R*B.rR()),P=Math.floor(r*B.rR()),S=J.canvas;
S.width=M;S.height=P;B.Ol(S,M,P);jE.akh(J,v,x,o,M,P);if(l){J.beginPath();J.strokeStyle="#000000";J.fillStyle="#ffffff";
J.lineWidth=2;var c=M*.7,b=Math.floor(P*.7),w=7*B.rR();J.moveTo(c,b);J.lineTo(c+w,b);J.lineTo(c+w/2,b+w/2);
J.closePath();J.stroke();J.fill()}if(J==jE.zJ)return S.toDataURL()};jE.zJ=B.l("canvas").getContext("2d");
jE.akh=function(J,v,x,o,R,r,l,M){if(l==null)l=0;if(M==null)M=0;var P=v.It;if(P==0){J.fillStyle="#ffffff";
J.fillRect(l,M,R,r);J.strokeStyle="#ff0000";J.lineWidth=2;J.moveTo(l,M);J.lineTo(l+R,M+r);J.moveTo(l,M+r);
J.lineTo(l+R,M);J.stroke()}if(P==1){var S=v.BD.Clr.v;S=g.UH.Eb(S);J.fillStyle="#"+g.q2(S.z<<16|S.H<<8|S.c);
J.fillRect(l,M,R,r)}if(P==2){var c=H.La.QZ(v.BD.Grad.v,R,r,0,x.P4,x.Vb,!0);J.putImageData(c,l,M)}if(P==3){var b=v.BD.Ptrn.v,w;
if(o!=null)w=iD.VC(b,o.add.Patt);if(w==null)w=iD.VC(b,x.HZ);hV.QZ(w,R,r,J.canvas)}};function hV(J){dO.call(this,J,!1,"patternbutton",18*13,10*13,cj.q1);
this.cW=null}hV.prototype=new dO;hV.prototype.hZ=function(J){var v=this.pn[this.ov.s()];this.Iw={classID:"Ptrn",Nm:{t:"TEXT",v:v.name},Idnt:{t:"TEXT",v:v.id}};
this.a(new dd(j.E.n));this.cM()};hV.prototype.h3=function(){if(!this.AT)return;var J=this.pn,v=Math.floor(34*B.rR()),x=Math.floor(34*B.rR()),o=[],R=[];
for(var h=0;h<J.length;h++){o.push(hV.QZ(J[h],v,x));R.push(J[h].name)}this.ov.iP(o,R,v,x);this.AT=!1};
hV.prototype.q=function(J,v){if(this.Iw&&J.Idnt.v==this.Iw.Idnt.v)return;this.Iw=g.F(J);this.cM(v)};
hV.prototype.s=function(){return g.F(this.Iw)};hV.prototype.Nb=function(){return this.cW?[this.cW]:[]};
hV.prototype.cM=function(J){var v=Math.floor(50*B.rR()),x=Math.floor(50*B.rR()),o;if(J!=null)o=iD.VC(this.Iw,J.add.Patt);
if(o==null)o=iD.VC(this.Iw,this.pn);this.cW=o;var R=hV.QZ(o,v,x);this._a.setAttribute("src",R);B.Ol(this._a,v,x)};
hV.W0=B.l("canvas","");hV.QZ=function(J,v,x,o){if(o==null)o=hV.W0;var R=o.getContext("2d");o.width=v;
o.height=x;if(J){var r=J.ub[1],l=r.r,M=r.$,P=J.ub[0],S=Math.min(v/l,x/M),c=S;if(c*l<2)c=2/l;var b=S;
if(b*M<2)b=2/M;var w=H.ge.EN([P,r],new bC(c,0,0,b,0,0),c>2),U=w.S.r,F=w.S.$,Y=new ImageData(U,F);g.oj(w.buffer,Y.data);
R.putImageData(Y,Math.floor((v-U)/2),Math.floor((x-F)/2))}return o.toDataURL()};function dU(J,v,x){if(v==null)v=24.2;
if(x==null)x=17;dO.call(this,J,!1,"patternbutton",v*13,x*13,cj.NY);this.U5=""}dU.prototype=new dO;dU.prototype.hZ=function(J){this.Iw=g.F(this.pn[0][this.ov.s()[0]]);
this.a(new dd(j.E.n))};dU.prototype.h3=function(){var J=this.pn;if(J==null||!this.AT)return;var v=Math.floor(50*B.rR()),x=Math.floor(50*B.rR()),o=[],R=[];
for(var h=0;h<J[0].length;h++){o.push(dU.QZ(this.pn[0][h].x0,v,x,this.pn[1]));R.push(J[0][h].eZ.Nm.v.split("=").pop())}this.ov.iP(o,R,v,x);
this.AT=!1};dU.prototype.q=function(J,v,x,o){var R=JSON.stringify(J.x0)+","+x+","+o;if(this.U5!=R){this.U5=R;
this.Iw=g.F(J);this.cM(v,x,o)}};dU.prototype.cM=function(J,v,x){var o=Math.floor(68*B.rR()),R=Math.floor(68*B.rR()),r=dU.QZ(this.Iw.x0,o,R,J?J:this.pn[1],v,x);
this._a.setAttribute("src",r);B.Ol(this._a,o,R)};dU.QZ=function(J,v,x,o,R,r){var l=new d7;l.r=v;l.$=x;
l.buffer=g.C(v*x*4);l.add.Patt=o;l.OA(R==null?90:R);l.vm(r==null?30:r);var M=new jj(0,0,Math.round(v*.5),Math.round(x*.5));
M.x=Math.round((v-M.r)/2);M.y=Math.round((x-M.$)/2);var P=l.qL();P.S=M;P.buffer=g.C(M.o()*4);g.SX(P.buffer,4284045657);
iD.ajc(J,P,.5*100);l.k.push(P);l.HQ();l.Ai();var S=gi._E;gi._E=!1;l.er();var c=l.rv();gi._E=S;var b=d2.IR(c.buffer,l.r,l.$);
return b};function j7(J){dO.call(this,null,!1,"tpresetbutton",18*13,24*13,cj.jZ,!0);B.Nv(this._,"fitem");
this.ov.kO(1);this.id=J;this.cM();this.R.style.overflow="hidden";this.Jb=new a9([15,7,9]);this.Jb.q(!0);
this.Jb.P(j.E.n,this.arK,this);this.tY.appendChild(this.Jb._)}j7.prototype=new dO;j7.prototype.aq_=function(J){if(this.id==J)return;
this.id=J;this.CN(this.pn)};j7.prototype.hZ=function(J){var v=this.pn[this.ov.s()],x=new dd(j.E.j,!0);
x.data={R:j.m.Qq,pG:"set",Fu:cj.jZ,xO:v};this.a(x)};j7.prototype.d=function(){dO.prototype.d.call(this);
this.Jb.d()};j7.prototype.arK=function(){this.AT=!0;this.h3()};j7.prototype.h3=function(){if(!this.AT)return;
var J=Math.floor(16*B.rR()),v=Math.floor(16*B.rR()),x=[],o=[],R=this.pn,r=this.Jb.s();for(var h=0;h<R.length;
h++){var l=H.Tn[R[h][1].classID];if(!r||l==this.id){o.push(R[h][0]?R[h][0].split("=").pop():"");x.push(l==-1?"":PIMG[H.Qt[l]])}else{x.push(null);
o.push(null)}}this.ov.iP(x,o,J,v);this.AT=!1};j7.prototype.cM=function(){var J=this._a;J.setAttribute("src",PIMG[H.Qt[this.id]]);
B._H(J,"toolicon")};j7.prototype.Nb=function(){return null};j7.MP={};j7.QZ=function(J,v,x){var o=j7.zJ,R=j7.MP,r=g.q2(J.z<<16|J.H<<8|J.c);
if(R[r])return R[r];if(o==null){var l=B.l("canvas");o=j7.zJ=l.getContext("2d")}var l=o.canvas;l.width=v;
l.height=x;o.fillStyle="#"+r;o.fillRect(0,0,v,x);var M=R[r]=l.toDataURL();return M};function ec(J,v,x){aJ.call(this);
this._=B.l("span","fitem curveeditor");this.kw=null;this.a86=0;this.HU="";this.mode=0;this.aes=null;
this.atb=null;this.$0=J;this.ao9=v;this.aHM=x;this.Pb=null;this.VD=null;this.aiq=0;this.arC=0;this._T=new aG;
this.IL=this.MS.bind(this);this.CV=this.bU.bind(this);this.YX=256;this.W0=B.l("canvas");this.zJ=this.W0.getContext("2d");
B.sl(this.W0);this._.appendChild(this.W0);this.qe(256,256);B._A(this.W0,this.w_.bind(this));this.coords=B.l("div");
B.L(this.coords,"width:250px");this._.appendChild(this.coords);var o=this.j8=x?100:255,R=null;this.uo=new fL("X (in)",0,o,R,0,!1,!0);
this.Ea=new fL("Y (out)",0,o,R,0,!1,!0);this.Zi=new a9([19,3,0]);this.uo.P(j.E.n,this.L2,this);this.Ea.P(j.E.n,this.L2,this);
this.Zi.P(j.E.n,this.L2,this);this.coords.appendChild(this.uo._);if(x)this.coords.appendChild(this.Zi._);
this.coords.appendChild(this.Ea._)}ec.prototype=new aJ;ec.prototype.d=function(){this.Zi.d();this.uo.d();
this.Ea.d()};ec.prototype.qe=function(J,v){this.YX=Math.round(J);this.zJ.resetTransform();B.QH(this.W0,this.YX,this.YX,this.zJ);
this.zJ.scale(this.YX/256,this.YX/256);if(this.Pb)this.f7()};ec.prototype.L2=function(J){var h=this.aC$(),v=this.Pb[h],x=255/this.j8;
v.v.Hrzn.v=this.uo.s()*x;v.v.Vrtc.v=this.Ea.s()*x;if(this.aHM)v.v.Cnty.v=this.Zi.s();this.Pb.sort(function(o,R){return o.v.Hrzn.v-R.v.Hrzn.v});
this.f7();this.a(new dd(j.E.n))};ec.prototype.q=function(J,h,v){var x=JSON.stringify(J),o=v?JSON.stringify(v):null;
if(x==JSON.stringify(this.Pb)&&o==this.atb)return;this.mode=J.length==256?1:0;this.Pb=JSON.parse(x);
this.aes=v;this.atb=o;if(h!=null)this.VD=this.Pb[h];this.f7()};ec.prototype.MY=function(J,v,x){this.kw=J;
this.a86=v;this.HU=x;this.f7()};ec.prototype.s=function(){return g.F(this.Pb)};ec.prototype.aC$=function(){return this.Pb.indexOf(this.VD)};
ec.prototype.w_=function(J){var v=256/this.YX,x=B.C2(J,this.W0);x.x*=v;x.y*=v;var o=x.x,R=256-x.y;if(this.$0){var r=o;
o=256-R;R=r}this._T._h(o,R);if(this.mode==0){var l=0,M=1e9,w;for(var h=0;h<this.Pb.length;h++){var P=this.Pb[h].v,S=P.Hrzn.v-o,c=P.Vrtc.v-R,b=Math.sqrt(S*S+c*c);
if(b<M){M=b;l=h}}if(M<15)w=this.Pb[l];else{w=g.O2.Ep(o,R,!0);this.Pb.push(w);this.Pb.sort(function(U,F){return U.v.Hrzn.v-F.v.Hrzn.v})}this.VD=w;
this.arC=this.Pb.slice(0)}B.W4(document.body,this.IL);B.Kb(document.body,this.CV);this.MS(J)};ec.prototype.MS=function(J){var v=256/this.YX,x=B.C2(J,this.W0);
x.x*=v;x.y*=v;var o=x.x,R=256-x.y;if(this.$0){var r=o;o=256-R;R=r}if(this.mode==0){var l=this.Pb,M=this.VD,P=this.arC,S=P.indexOf(M),c=l.indexOf(M)!=-1,b=P.length-1,w=o;
if(S==0){w=Math.max(0,Math.min(P[1].v.Hrzn.v-1,o))}else if(S==b){w=Math.min(255,Math.max(P[b-1].v.Hrzn.v+1,o))}else{var U=o<0||o>255||R<0||R>255;
if(o<=P[S-1].v.Hrzn.v||o>=P[S+1].v.Hrzn.v)U=!0;if(!U&&!c)l.splice(S,0,M);if(U&&c)l.splice(S,1)}if(this.ao9&&(S==0||S==P.length-1)){}else M.v.Hrzn.v=Math.round(w);
M.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(R)))}else{o=Math.round(o);R=Math.round(R);o=Math.max(0,Math.min(255,o));
R=Math.max(0,Math.min(255,R));var F=this._T.x,Y=o,A=this._T.y,G=R;if(o<this._T.x){Y=F;F=o;G=A;A=R}this.Pb[o]=R;
if(F!=Y)for(var n=F;n<=Y;n++)this.Pb[n]=Math.round(A+(n-F)*(G-A)/(Y-F))}this._T._h(o,R);this.f7();this.a(new dd(j.E.n))};
ec.prototype.bU=function(J){B.SP(document.body,this.IL);B.PD(document.body,this.CV);this.a(new dd(j.E.n))};
ec.prototype.f7=function(){var J=this.zJ,v=this.W0;J.fillStyle="#ffffff";J.fillRect(0,0,256,256);var x=256/v.width;
if(this.kw){J.save();J.translate(0,256);J.scale(1,-1);jy.art(J,this.kw,5700/this.a86,this.HU);J.restore()}J.strokeStyle="#aaaaaa";
J.lineWidth=1*x;J.beginPath();for(var h=1;h<4;h++){var o=(Math.floor(64*h/x)+.5)*x;J.moveTo(0,o);J.lineTo(255,o);
J.moveTo(o,0);J.lineTo(o,255)}J.stroke();if(this.$0){J.save();J.transform(0,1,-1,0,256,0)}var R=g.O2.x6,r=ec.afH,l=this.aes,M=["#ff0000","#00ff00","#0000ff"];
if(this.mode==0){var P=this.Pb;if(l)for(var h=0;h<l.length;h++)r(J,R(l[h],256),M[h]);r(J,R(P,256),"#000000");
J.lineWidth=2*x;for(var h=0;h<P.length;h++){var S=P[h].v;J.fillStyle=this.VD==P[h]?"#333":"#fff";J.beginPath();
J.moveTo(S.Hrzn.v,255.5-S.Vrtc.v);J.arc(S.Hrzn.v,255.5-S.Vrtc.v,5*x,0,2*Math.PI);J.stroke();J.fill()}}else{if(l)for(var h=0;
h<l.length;h++)r(J,l[h],M[h]);r(J,this.Pb,"#000000")}if(this.$0)J.restore();var h=this.aC$();this.coords.className=h==-1?"disabled":"";
if(h==-1)return;var S=this.Pb[h].v,c=255/this.j8;this.uo.q(Math.round(S.Hrzn.v/c));this.Ea.q(Math.round(S.Vrtc.v/c));
if(S.Cnty)this.Zi.q(S.Cnty.v)};ec.afH=function(J,v,x){J.strokeStyle=x;J.beginPath();J.moveTo(0,255.5-v[0]);
for(var h=0;h<256;h++)J.lineTo(h,255.5-v[h]);J.stroke()};function jy(J,v){aJ.call(this);this._=B.l("span","");
this.lB=new dp([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.lB.P(j.E.n,this._t,this);this._.appendChild(this.lB._);
B.A1(this._);var x=B.l("div");this._.appendChild(x);B.L(x,"background-color: var(--bg-canvas); margin:6px 0;");
this.W0=B.l("canvas");var o=this.W0;x.appendChild(o);o.width=Math.round(J*B.rR());o.height=Math.round(100*B.rR());
B.Ol(o,o.width,o.height);o.style.display="block";this.zJ=o.getContext("2d");this.kw=null;this.jO=0;this.a0n=null;
this.akx=[];this.fU=[];var R=["Mean:","Pixels:"],r=this._;if(v)for(var h=0;h<R.length;h++){var l=new aT(R[h]);
this.akx.push(l);r.appendChild(l._);var M=new aT("hi");this.fU.push(M);r.appendChild(M._);B.A1(r)}}jy.prototype=new aJ;
jy.prototype.d=function(){this.lB.d()};jy.prototype.kO=function(J){this.lB.q(J);this._t()};jy.prototype.q=function(J,v){this.kw=J;
this.a0n=v;this._t()};jy.prototype.VR=function(J){if(J==this.jO)return;this.jO=J;this._t()};jy.prototype._t=function(){if(this.kw==null)return;
var J=this.W0,v=this.zJ,x=this.kw,o=this.a0n,R=this.lB.s(),r=6e3/x[4],l="#"+g.q2(this.jO),M=jy.art;J.width=J.width;
v.setTransform(J.width/256,0,0,-J.height/100,0,J.height);v.globalCompositeOperation="lighter";if(R==0)M(v,x[0],r/3,l);
else if(R<4)M(v,x[R],r,l);else{M(v,x[1],r,"#ff4545",!0);M(v,x[2],r,"#40bb60",!0);M(v,x[3],r,"#2266bb",!0)}v.setTransform(1,0,0,1,0,0);
if(o!=null){if(R==4)R=0;var P=0;for(var h=0;h<256;h++)P+=h*x[R][h];if(R==0)P/=3;this.fU[0].q((P/o).toFixed(1)+"");
this.fU[1].q(o+"")}};jy.art=function(J,v,x,o,R){J.beginPath();J.moveTo(0,0);for(var r=0;r<256;r++)J.lineTo(r,v[r]*x);
J.lineTo(256,0);J.closePath();J.fillStyle=o;J.strokeStyle=o;if(R){J.globalAlpha=.2;J.fill();J.globalAlpha=1;
J.stroke()}else J.fill()};function ar(J,v){aJ.call(this);this.xm={z:0,H:0,c:0};if(Math.abs(J-256/B.rR())<10)J=256/B.rR();
var x=this._=B.l("div","flexrow");x.style.position="relative";var o=this.aEY=B.l("div");x.appendChild(o);
this.AL=new aG;this.sL=new aG;this.d4=this.Uy.bind(this);this.OS=this.axl.bind(this);this.W0=B.l("canvas","");
this.zJ=this.W0.getContext("2d");this.W0.width=this.W0.height=256;this.ago=this.zJ.getImageData(0,0,256,256);
this.aax=-1;this.a6x="";this.nO=null;B.sl(this.W0);B._A(this.W0,this.avS.bind(this));o.appendChild(this.W0);
this.aaq=this.apZ.bind(this);this.aIB=this.ar$.bind(this);this.qC=B.l("canvas","");this.T7=this.qC.getContext("2d");
this.qC.width=20;this.qC.height=256;this.a0N=this.T7.getImageData(0,0,20,256);ar.a4N(this.a0N.data,20,256);
B.sl(this.qC);B._A(this.qC,this.alH.bind(this));x.appendChild(this.qC);B.L(this.W0,"width:"+J+"px; height:"+J+"px");
B.L(this.qC,"width:16px; height:"+J+"px");this.HR=new a9("Web Colors\u2001");this.HR.P(j.E.n,this.update,this);
this.e3=new a9("CMYK gamut");this.e3.P(j.E.n,this.update,this);if(v){B.A1(o);o.appendChild(this.HR._);
o.appendChild(this.e3._)}var R=this.IO=document.createElementNS("http://www.w3.org/2000/svg","svg");
x.appendChild(R)}ar.prototype=new aJ;ar.prototype.qe=function(J,v){this.W0.style.width=this.aEY.style.width=J-16+"px"};
ar.prototype.q=function(J){if(this.HR.s()){var v=g.F(J);ar.rO(v);var x=this.s();if(v.z==x.z&&v.H==x.H&&v.c==x.c)J=this.xm}this.xm=J;
this.update()};ar.prototype.s=function(){var J=g.F(this.xm);if(this.HR.s())ar.rO(J);return J};ar.prototype.update=function(){var J=this.xm,v=g.qz(J.z,J.H,J.c),M=18;
if(v.Bl==0)v.hO=this.AL.x/255;if(v.hO==0||v.Bl==0)v.mq=(255-this.PX(this.sL.y))/255;if(v.Bl!=0)this.AL.x=v.hO*255;
this.AL.y=(1-v.Bl)*255;this.sL.y=(1-v.mq)*255;var x=this.ago,o=this.HR.s(),R=this.e3.s(),r=o+","+R;if(Math.abs(v.mq-this.aax)>.002||this.a6x!=r){this.aGX(new Uint8Array(x.data.buffer),256,256,v.mq,o,R);
this.avX();this.aax=v.mq;this.a6x=r}var l=this.zJ;l.putImageData(x,0,0);x=this.a0N;l=this.T7;l.putImageData(x,0,0);
l.strokeStyle="#ffffff";l.beginPath();l.moveTo(0,this.sL.y);l.lineTo(20,this.sL.y);l.lineWidth=2;l.stroke();
var P=this.AL.y/255,S=parseFloat(this.W0.style.width),c=parseFloat(this.W0.style.height),b=this.IO;b.setAttribute("width",M);
b.setAttribute("height",M);var w=Math.round(J.z*255)<<16|Math.round(J.H*255)<<8|Math.round(J.c*255),U="<circle cx=\""+M/2+"\" cy=\""+M/2+"\" r=\""+M/2+"\" fill=\"#"+g.q2(w)+"\"></circle>";
U+="<circle cx=\""+M/2+"\" cy=\""+M/2+"\" r=\""+(-.5+M/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*P)+")\" stroke-width=\"1\"></circle>";
U+="<circle cx=\""+M/2+"\" cy=\""+M/2+"\" r=\""+(-1.2+M/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
b.innerHTML=U;b.style.pointerEvents="none";b.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
b.style.position="absolute";b.style.left=S*(this.AL.x/255)-M/2+"px";b.style.top=c*(this.AL.y/255)-M/2+"px"};
ar.rO=function(J){J.z=~~(.5+J.z*5)*.2;J.H=~~(.5+J.H*5)*.2;J.c=~~(.5+J.c*5)*.2};ar.prototype.aGX=function(J,v,x,o,R,r){var l=1/v,M=1/x;
for(var P=0;P<x;P++)for(var S=0;S<v;S++){var c=g.Pu(o,S*l,(x-P-1)*M);if(R)ar.rO(c);var h=P*v+S<<2;J[h+0]=~~(c.z*255);
J[h+1]=~~(c.H*255);J[h+2]=~~(c.c*255);J[h+3]=255}if(r){var b=J.slice(0),w=g.GT("rgbToRgbC"),U=w[2],F=w[3];
ICC.U.applyLUT(F,U,b,b);this.nO=g.C(v*x);for(var h=0;h<J.length;h+=4){var Y=J[h]-b[h],A=J[h+1]-b[h+1],G=J[h+2]-b[h+2],n=Y*Y+A*A+G*G;
if(n>300){J[h]=J[h+1]=J[h+2]=200;this.nO[h>>>2]=255}}}};ar.a4N=function(J,v,x,o,R){if(o==null)o=1;if(R==null)R=0;
var r=new Uint32Array(J.buffer);for(var l=0;l<x;l++){var M=g.Pu((1+o*(1-l/x)+R)%1,1,1),P=255<<24|M.c*255<<16|M.H*255<<8|M.z*255;
for(var S=0;S<v;S++)r[l*v+S]=P}};ar.prototype.avS=function(J){B.W4(window,this.d4);B.Kb(window,this.OS);
this.Uy(J);this.IO.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.IO.style.transform="scale(2.4)"};
ar.prototype.axl=function(J){B.SP(window,this.d4);B.PD(window,this.OS);this.IO.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.IO.style.transform="scale(1)"};ar.prototype.Uy=function(J){var v=B.C2(J,this.W0);v.x=v.x*(256/parseFloat(this.W0.style.width));
v.y=v.y*(256/parseFloat(this.W0.style.height));this.AL._h(this.PX(v.x),this.PX(v.y));this.avX();this.hK()};
ar.prototype.avX=function(){if(!this.e3.s())return;var J=this.AL,v=0,x=0,o=1e9;for(var R=0;R<256;R++){for(var r=0;
r<256;r++){if(this.nO[R*256+r]==255)continue;var l=r-J.x,M=R-J.y,P=l*l+M*M;if(P<o){v=r;x=R;o=P}}}J.x=v;
J.y=x};ar.prototype.hK=function(){this.xm=this.a6U();this.a(new dd(j.E.n))};ar.prototype.a6U=function(){var J=g.Pu((255-this.PX(this.sL.y))/255,this.iv(this.AL.x/255),this.iv(1-this.AL.y/255));
return{z:J.z,H:J.H,c:J.c}};ar.prototype.alH=function(J){B.W4(window,this.aaq);B.Kb(window,this.aIB);
this.apZ(J)};ar.prototype.ar$=function(J){B.SP(window,this.aaq);B.PD(window,this.aIB)};ar.prototype.apZ=function(J){var v=B.C2(J,this.qC);
v.y=v.y*(256/parseFloat(this.qC.style.height));this.sL._h(this.PX(v.x),this.PX(v.y));this.hK()};ar.prototype.PX=function(J){return Math.max(0,Math.min(255,J))};
ar.prototype.iv=function(J){return Math.max(0,Math.min(1,J))};function iq(J,v,x,o){var R=iF.gd(v,o);
iF.call(this,J,R,x)}iq.prototype=new iF;function a1(){aJ.call(this);this.wN=new hv;this.wN.P(j.E.n,this.apJ,this);
this.wN.parent=this;this.TR=new fL([12,14,0],1,150,"px",2,!0);this.TR.P(j.E.n,this.yF,this);this.TR.parent=this;
this._$=new fL([16,0],.01,100,"px",2,!0,null,5);this._$.P(j.E.n,this.yF,this);this._$.parent=this;this.ws=new a9("Auto");
this.ws.P(j.E.n,this.yF,this);this.$d=new fL([16,1],-500,5e3,"%",0,!0);this.$d.P(j.E.n,this.yF,this);
this.$d.parent=this;this.$K=new fL("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.$K.P(j.E.n,this.yF,this);
this.$K.parent=this;this.a6=new fL("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.a6.P(j.E.n,this.yF,this);
this.a6.parent=this;this.X0=new fL([16,2],-10,10,"px");this.X0.P(j.E.n,this.yF,this);this.X0.parent=this;
this.ei=new hf(!0);this.ei.P(j.E.n,this.SZ,this);this.ei.parent=this;this.uC=new hf(!0);this.uC.P(j.E.n,this.SZ,this);
this.uC.parent=this;this.Ir=new hf(!0);this.Ir.P(j.E.n,this.SZ,this);this.Ir.parent=this;this.Uu=new hf(!0);
this.Uu.P(j.E.n,this.SZ,this);this.Uu.parent=this;this.IW=new a9([2,3]);this.IW.P(j.E.n,this.yF,this);
this.el=new a9([14,9]);this.el.P(j.E.n,this.yF,this);this.vk=new a9([12,46]);this.vk.P(j.E.n,this.yF,this);
this.je=new hH(!0,!0);this.je.P(j.E.n,this.yF,this);this.sy=new bj("...",null,null,!0);this.sy._.style.marginLeft="-8px";
B._A(this.sy._,this.asH.bind(this));this.bM=new aJ;var J=this.bM._=B.l("div","floatcont form"),l=100;
this.bM.parent=this;this.je.parent=this.bM;this.q_=new fL([12,41],1,20,"px",0,!0,!0);this.q_._.style.marginLeft="16px";
this.q_.P(j.E.n,this.yF,this);this.q_.parent=this.bM;J.appendChild(this.uC._);J.appendChild(this.IW._);
B.A1(J);J.appendChild(this.Ir._);J.appendChild(this.el._);B.A1(J);J.appendChild(this.q_._);J.appendChild(this.je._);
B.A1(J);J.appendChild(this.Uu._);J.appendChild(this.vk._);this.rj=new bj("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.vQ=new bj("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.Oq=new bj("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.Im=new bj("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.m$=new bj("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.xc=new bj("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.CC=new bj("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.bc=new bj("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var v=[this.rj,this.vQ,this.Oq,this.Im,this.m$,this.xc,this.CC,this.bc];for(var h=0;h<v.length;h++)v[h].P("click",this.aaj,this);
var x="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.Wk=[];for(var h=0;
h<8;h++){var o=new bj("<img src=\""+PIMG["lig/"+x[h]]+"\" class=\"autoscale gsicon\" />",!1,bI.awO[h]);
o.P("click",this.aaj,this);this.Wk.push(o)}this.ea=new bj("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.cz=new bj("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.zD=new bj("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.akb=new bj("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.agk=new bj("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.atB=new bj("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.as8=new bj("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.J_=[this.ea,this.cz,this.zD,this.akb,this.agk,this.atB,this.as8];for(var h=0;h<this.J_.length;h++)this.J_[h].P("click",this.yF,this);
var R=["lind","rind","flind","bind","aind"],r=[];for(var h=0;h<5;h++)r.push("<img src=\""+PIMG["par/"+R[h]]+"\" class=\"autoscale gsicon\" /> ");
this.yY=new fL(r[0],-l,l,"px");this.ae=new fL(r[1],-l,l,"px");this.gk=new fL(r[2],-l,l,"px");this.Nz=new fL(r[3],-l,l,"px");
this.yQ=new fL(r[4],-l,l,"px");this.vR=new iF([12,33],["Abc ...","... Ø£ÙŠ Ø¨ÙŠ"]);this.hr=new fL(["Auto VAR0",[16,0]],0,500,"%");
this.uR=[this.yY,this.ae,this.gk,this.Nz,this.yQ,this.vR,this.hr];for(var h=0;h<this.uR.length;h++){var M=this.uR[h];
M.P(j.E.n,this.yF,this);M.parent=this}}a1.prototype=new aJ;a1.prototype.asH=function(J){if(B.yn(this.bM._))return;
J.stopPropagation();var v=this.sy._.getBoundingClientRect(),x=new dd(j.E.j,!0);x.data={R:j.m.sO,rq:this.bM,x:v.left,y:v.top+v.height+4};
this.a(x)};a1.prototype.d=function(){this.wN.d();this.TR.d();this._$.d();this.$d.d();this.X0.d();this.$K.d();
this.a6.d();this.IW.d();this.el.d();this.vk.d();this.q_.d();this.je.d();for(var h=0;h<this.uR.length;
h++)this.uR[h].d()};a1.prototype.q=function(J,v,x){this.oC=g.F(J);var o=this.oC,R=o.iz,r=o.u7;this.rj.q(R.FauxBold!=null?R.FauxBold:!1);
this.vQ.q(R.FauxItalic!=null?R.FauxItalic:!1);this.Oq.q(R.FontCaps==2);this.Im.q(R.FontCaps==1);this.m$.q(R.FontBaseline==1);
this.xc.q(R.FontBaseline==2);this.CC.q(R.Underline);this.bc.q(R.Strikethrough);var l={};if(R.Font!=null){var M=v.FX(o.t6[R.Font].Name);
if(M)l=M.GSUB;if(l==null)l={}}for(var h=0;h<8;h++){this.Wk[h].Ne(l[bI.a2I[h]]);this.Wk[h].q(R[bI.Wk[h]])}this.wN.q(R.Font==null?null:o.t6[R.Font].Name,v,x);
var P=R.FontSize==null?20:R.FontSize;this.TR.q(P);var S=R.Tracking;this.$d.q(S==null?0:S);this.q_.q(R.OutlineWidth!=null?R.OutlineWidth:1);
this.je.q(gD.Ok.aE4(R));this._$.q(R.Leading!=null&&R.Leading!=0?R.Leading:P);this.ws.q(R.AutoLeading);
this.$K.q((R.VerticalScale!=null?R.VerticalScale:0)*100);this.a6.q((R.HorizontalScale!=null?R.HorizontalScale:0)*100);
this.X0.q(R.BaselineShift!=null?R.BaselineShift:0);this.IW.q(R.FillFlag!=null?R.FillFlag:!1);this.el.q(R.StrokeFlag!=null?R.StrokeFlag:!1);
this.vk.q(R._FillBackgroundFlag!=null?R._FillBackgroundFlag:!1);this.Wg(R.FillColor,this.ei);this.Wg(R.FillColor,this.uC);
this.Wg(R.StrokeColor,this.Ir);this.Wg(R._FillBackgroundColor,this.Uu);var c=r._Direction!=null?r._Direction:0,b=bI.EF(r);
for(var h=0;h<this.J_.length;h++)this.J_[h].q(b==h);this.vR.q(c);this.hr.q((r.AutoLeading!=null?r.AutoLeading:1.2)*100);
this.yY.q(r.StartIndent!=null?r.StartIndent:0);this.ae.q(r.EndIndent!=null?r.EndIndent:0);this.gk.q(r.FirstLineIndent!=null?r.FirstLineIndent:0);
this.Nz.q(r.SpaceBefore!=null?r.SpaceBefore:0);this.yQ.q(r.SpaceAfter!=null?r.SpaceAfter:0)};a1.prototype.Wg=function(J,v){if(J){var x=bI.Eb(J);
v.VR(Math.round(x.z)<<16|Math.round(x.H)<<8|Math.round(x.c))}else v.VR(0)};a1.prototype.vH=function(){var J=new dd(j.E.j,!0);
J.data={R:j.m.Qq,Fu:cj.KI,oC:this.oC};this.a(J);var J=new dd(j.E.G,!0);J.J=H.i9;J.data={R:"updateStyles"};
this.a(J)};a1.prototype.aaj=function(J){var v=this.oC.iz,x=J.target,o=!x.G8(),R=this.Wk.indexOf(x);if(R!=-1){v[bI.Wk[R]]=o}else{if(x==this.rj)v.FauxBold=o;
if(x==this.vQ)v.FauxItalic=o;if(x==this.Oq)v.FontCaps=o?2:0;if(x==this.Im)v.FontCaps=o?1:0;if(x==this.m$)v.FontBaseline=o?1:0;
if(x==this.xc)v.FontBaseline=o?2:0;if(x==this.CC)v.Underline=o;if(x==this.bc)v.Strikethrough=o}this.vH()};
a1.prototype.yF=function(J){var v=this.oC.iz,x=this.oC.u7,o=J.target;if(o==this.je){gD.Ok.agt(o.s(),v)}if(o==this.$d){var R=this.$d.s();
v.Tracking=R}if(o==this._$){v.AutoLeading=!1;v.Leading=this._$.s()}if(o==this.ws){v.AutoLeading=this.ws.s()}if(o==this.q_)v.OutlineWidth=o.s();
if(o==this.TR)v.FontSize=o.s();if(o==this.$K)v.VerticalScale=o.s()/100;if(o==this.a6)v.HorizontalScale=o.s()/100;
if(o==this.X0)v.BaselineShift=o.s();if(o==this.IW)v.FillFlag=o.s();if(o==this.el)v.StrokeFlag=o.s();
if(o==this.vk)v._FillBackgroundFlag=o.s();if(this.J_.indexOf(o)!=-1){x.Justification=bI.EF(x,this.J_.indexOf(o))}if(o==this.yY)x.StartIndent=o.s();
if(o==this.ae)x.EndIndent=o.s();if(o==this.gk)x.FirstLineIndent=o.s();if(o==this.Nz)x.SpaceBefore=o.s();
if(o==this.yQ)x.SpaceAfter=o.s();if(o==this.vR)x._Direction=o.s();if(o==this.hr)x.AutoLeading=o.s()/100;
this.vH()};a1.prototype.apJ=function(J){var v=this.oC,x=this.wN.s(),o=-1;for(var h=0;h<v.t6.length;h++)if(v.t6[h].Name==x)o=h;
if(o==-1){o=v.t6.length;var R=g.F(v.t6[0]);R.Name=x;v.t6.splice(o,0,R)}v.iz.Font=o;this.vH()};a1.prototype.SZ=function(J){var v=J.target,x=v.ab(),o={Type:1,Values:[1,(x>>16&255)/255,(x>>8&255)/255,(x>>0&255)/255]};
for(var h=0;h<4;h++)o.Values[h]=Math.round(o.Values[h]*1e3)/1e3;var R=v==this.ei||v==this.uC?0:v==this.Ir?1:2;
this.oC.iz[["FillColor","StrokeColor","_FillBackgroundColor"][R]]=o;this.vH()};function hv(){aJ.call(this);
this._=B.l("span","fontinput");this.UR=null;this._y=null;this.fE=null;this.w9="";this.Ho={};this.T2=[];
this.HK={};this.aBz={};this.CQ=[];this.Ts=!1;this.dC=B.l("button","fitem");B.L(this.dC,"width:9em;");
this.dC.textContent="Family Name \u25BC";this._.appendChild(this.dC);B._A(this.dC,this.aeI.bind(this));
this.Vv=new aJ;this.Vv.parent=this;var J=this.Vv._=B.l("div","floatcont");J.style.padding="7px 7px 3px 7px";
var v=new aT("Recent");J.appendChild(v._);var x=this.aE8=new bj([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
x.P("click",this.aft,this);x._.style.float="right";J.appendChild(x._);var o=this.SI=new a9("Local Fonts");
o.P(j.E.n,this.aj3,this);o._.style.float="right";o._.style.marginRight="10px";o._.style.marginTop="3px";
J.appendChild(o._);B.A1(J);this.NP=B.l("span","fitem imageset scrollable");this.NP.style.maxHeight="8em";
J.appendChild(this.NP);var R=B.l("div","form");this.Vv._.appendChild(R);this.Fc=new bj(B.vr("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.Fc.P("click",this.ah6,this);R.appendChild(this.Fc._);this.yH=new ir([12,86],null,7.5);this.yH.P("input",this.KQ,this);
R.appendChild(this.yH._);this.Zd=new c1(10,"\u2630");R.appendChild(this.Zd._);this.Zd.parent=this.Vv;
this.Zd.P(j.E.n,this.cK,this);this.Zd._.style.float="right";this.Zd._.style.marginRight="0";this.bQ=B.l("span","fitem imageset scrollable");
this.bQ.style.height="30em";this.Vv._.appendChild(this.bQ);this.bQ.addEventListener("scroll",this.al6.bind(this),!1);
this.sJ=B.l("button","fitem");B.L(this.sJ,"width:7em;");this.sJ.textContent="SubFamily Name \u25BC";
this._.appendChild(this.sJ);B._A(this.sJ,this.aeI.bind(this));this.K9=new aJ;this.K9.parent=this;this.K9._=B.l("div","floatcont");
this.a0C=B.l("span","fitem imageset scrollable");this.K9._.appendChild(this.a0C);this.as9=this.alA.bind(this);
this.ave=this.anW.bind(this)}hv.prototype=new aJ;hv.prototype.aj3=function(J){b5.BI.Ne(J.target.s(),function(){this.q();
this.cK()}.bind(this),function(){this.SI.q(!1)}.bind(this));this.cK()};hv.prototype.al6=function(J){var v=this.bQ.scrollTop,x=this.T2,o=Math.floor(v/27),R=Math.min(o+20,x.length);
for(var h=o;h<R;h++)this.ayi(x[h])};hv.prototype.aft=function(){var J=new dd(j.E.j,!0);J.data={R:j.m.hC};
this.a(J)};hv.prototype.d=function(){this.Zd.d();this.aE8.d();this.SI.q(b5.BI.G8());this.Fc.f_(B.vr("tools/cshape",null,"autoscale"))};
hv.prototype.ah6=function(J){this.Fc.q(!this.Fc.G8());this.cK()};hv.prototype.KQ=function(J){this.w9=this.yH.s().toLowerCase();
this.cK()};hv.prototype.aeI=function(J){B.Ib(J);var v=J.currentTarget,x=v.getBoundingClientRect(),o=v==this.dC,R=o?this.Vv:this.K9;
if(B.yn(R._)){this.aD3(R);return}if(!o&&this.UR.I0()[this.fE]==null)return;var r=new dd(j.E.j,!0);r.data={R:j.m.sO,rq:R,x:x.left,y:x.top+x.height};
this.a(r);if(o){this.cK(null,!0)}};hv.prototype.alA=function(J){var v=J.currentTarget.firstChild.nextSibling.textContent;
if(J.target.tagName.toLowerCase()=="button"){var x=this._y.slice(0),o=x.indexOf(v);if(o==-1){x=x.slice(Math.max(0,x.length-99));
x.push(v)}else x.splice(o,1);var R=new dd(j.E.j,!0);R.data={R:j.m.Qq,Fu:cj.bS,ra:x};this.a(R);this.Ts=!0;
this.cK()}else{this.aj$(v,null)}};hv.prototype.anW=function(J){this.aj$(null,J.currentTarget.firstChild.textContent)};
hv.prototype.aj$=function(J,v){var x=J==null?this.K9:this.Vv,o=this.UR;if(J==null)J=o.I0()[this.fE][0];
else{var R=o.G_(J),r=o.I0()[this.fE];v=b5.AM(R,r?r[1]:"regular")}var l=o.Oi(J,v)[2];this.q(l,o);this.a(new dd(j.E.n,!1));
this.aD3(x);this.cK()};hv.prototype.aD3=function(J){var v=new dd(j.E.j,!0);v.data={R:j.m.y2,rq:J};this.a(v)};
hv.prototype.s=function(){return this.fE};hv.prototype.q=function(J,v,x){var o=this.UR;if(J!=null)this.fE=J;
else J=this.fE;if(v)this.UR=v;else v=this.UR;if(x)this._y=x;else x=this._y;if(J!=null){var R=v.I0()[J],r,l;
if(R==null){r="- "+J;l="-------"}else{r=R[0];l=R[1];var M=this.CQ;for(var h=0;h<M.length;h++)if(M[h][0][0]==r)M.splice(h,1);
M.push([R,Date.now()]);M.sort(function(b,w){return w[1]-b[1]});M=M.slice(0,10);B.wp(this.NP);for(var h=1;
h<M.length;h++){var P=M[h][0],S=this.rs(P,!0);this.w3(S,P,!0);this.NP.appendChild(S)}var c=v.G_(r);c.sort(b5.a7C);
this.a0C.textContent="";for(var h=0;h<c.length;h++){var R=v.Oi(r,c[h]);if(!this.Zd.JQ(R))continue;var S=this.rs(R,!1);
this.a0C.appendChild(S)}}this.dC.textContent=r.substring(0,15)+" \u25BC";this.dC.setAttribute("title",r+", \""+J+"\"");
this.sJ.textContent=l.substring(0,10)+" \u25BC";this.sJ.setAttribute("title",l)}};hv.prototype.cK=function(J,v){var x=this.UR.I0()[this.fE],o=this._y,R=this.UR.aAp();
this.T2=[];var r=this.SI.s();for(var l in R){var M=o.indexOf(l)!=-1,P=this.UR.G_(l),S=!1;for(var h=0;
h<P.length;h++){var c=this.UR.Oi(l,P[h]),b=!0;if(this.w9.length>0&&c[0].toLowerCase().indexOf(this.w9)==-1)b=!1;
else if(!this.Zd.JQ(c))b=!1;else if(this.Fc.G8()&&!M)b=!1;else if(c[5]=="--loc"&&!r)b=!1;if(b)S=!0}var w=this.Ho[l];
if(w==null){var U=b5.AM(R[l],"regular"),F=this.UR.Oi(l,U),w=this.rs(F,!0);this.Ho[l]=w;this.bQ.appendChild(w);
this.HK[l]="[true,false,false]"}if(S)this.T2.push(l);var Y=x!=null&&x[0]==l;this.aBz[l]="["+S+","+Y+","+M+"]";
if(!v)this.ayi(l)}if(x&&!this.Ts){var A=this.Ho[x[0]];this.bQ.scrollTop=A.offsetTop-210}this.al6();this.Ts=!1};
hv.prototype.ayi=function(J){var v=this.Ho[J];if(v.firstChild==null){var x=this.UR.aAp(),o=b5.AM(x[J],"regular"),R=this.UR.Oi(J,o);
this.w3(v,R,!0)}var r=this.HK[J],l=this.aBz[J];if(r==l)return;var M=JSON.parse(r),P=JSON.parse(l);if(M[0]!=P[0]||M[1]!=P[1]){var S=P[0]?"":"display:none; ";
if(P[1])S+="background-color:rgba(0,0,0,0.13);";B.L(v,S)}if(M[2]!=P[2])B.L(v.firstChild,"opacity: "+(P[2]?"1":"0.2"));
this.HK[J]=l};hv.prototype.rs=function(J,v){var x=B.l("div","fontitem");if(!v)this.w3(x,J,v);return x};
hv.prototype.w3=function(J,v,x){var o=v[x?0:1],R=x?this.as9:this.ave,P="";J.addEventListener("click",R,!1);
if(x)J.appendChild(B.l("button","star"));var r=B.l("span","label");r.setAttribute("title",o);r.textContent=o;
J.appendChild(r);var l=B.rR(),M=1/l,S=b5.iE*M,c=b5.z4*M;if(1<l&&l<1.5)P="width:"+S+"px; height:"+c+"px;";
var b=B.l("span","thumb gsicon");if(v.UW){P+="background: url("+v.UW+");";if(1<l&&l<1.5)P+="background-size: "+S+"px "+c+"px;"}else{var w=Math.ceil(FNTS.list.length/b5.cols),U=Math.floor(v.Vn/b5.cols),F=v.Vn-U*b5.cols,Y=F*b5.iE,A=U*b5.z4;
if(1<l&&l<1.5){P+="background-size: "+b5.cols*S+"px "+w*c+"px;";Y*=M;A*=M}P+="background-position:-"+Y+"px -"+A+"px;"}B.L(b,P);
J.appendChild(b)};function c1(J,v){aJ.call(this);this._=B.l("button","fitem bbtn");this._.addEventListener("click",this.nY.bind(this),!1);
this.bM=new aJ;this.bM._=B.l("div","floatcont");this.bM.parent=this;this.a2l=B.l("div","flexrow");this.bM._.appendChild(this.a2l);
this.i7=v;this.tQ=[];this.No=[];var x=this.a2l,o=B.l("div",""),R=B.l("div","");x.appendChild(o);x.appendChild(R);
this.zm=[];for(var h=0;h<FNTS.cats.length;h++)this.zm.push({name:FNTS.cats[h],index:h,vO:0});this.CM=new a9([7,0]);
this.CM.q(!0);this.CM.P(j.E.n,this.arP,this);o.appendChild(this.CM._);this.aEB=B.l("div","vlist marged scrollable");
B.L(this.aEB,"width:10.3em; height:"+J+"em; ");o.appendChild(this.aEB);this.T_=[];for(var h=0;h<this.zm.length;
h++){var r=this.zm[h],l=new a9(r.name);this.T_.push(l);l.P(j.E.n,this.aDy,this);l.q(!0);this.aEB.appendChild(l._);
this.tQ.push(1)}this.alQ=new a9([7,0]);this.alQ.P(j.E.n,this.aI6,this);this.avd=B.l("div","vlist marged scrollable");
B.L(this.avd,"width:8.6em; height:"+(J+1.5)+"em; ");R.appendChild(this.avd);this.oJ=[];for(var h=0;h<FNTS.subsetNames.length;
h++){var l=new a9(FNTS.subsetNames[h]);this.oJ.push(l);l.P(j.E.n,this.ajf,this);l.q(!1);this.avd.appendChild(l._);
this.No.push(l.s()?1:0)}}c1.prototype=new aJ;c1.prototype.ahT=function(J){var v=this.oJ;for(var h=0;
h<v.length;h++){var x=(J>>>h&1)==1;this.No[h]=x;v[h].q(x)}};c1.prototype.aFl=function(){return this.a2l};
c1.prototype.d=function(){this._.textContent=this.i7?this.i7:ea.get([25,1,0])+" \u25BC";this.CM.d();
this.alQ.d()};c1.prototype.nY=function(J){var v=this._.getBoundingClientRect(),x=new dd(j.E.j,!0);x.data={R:j.m.sO,rq:this.bM,x:v.left,y:v.top+v.height,a3:!0};
this.a(x)};c1.prototype.JQ=function(J){if(this.tQ[J[4]]==0)return!1;else for(var v=0;v<this.No.length;
v++)if(this.No[v]==1&&(J[3]>>>v&1)==0)return!1;return!0};c1.prototype.arP=function(J){var v=J.target.s(),x=this.T_,o=this.tQ;
for(var h=0;h<x.length;h++){x[h].q(v);o[h]=v?1:0}this.a(new dd(j.E.n,!1))};c1.prototype.aI6=function(J){var v=J.target.s(),x=this.oJ,o=this.No;
for(var h=0;h<x.length;h++){x[h].q(v);o[h]=v?1:0}this.a(new dd(j.E.n,!1))};c1.prototype.aDy=function(J){var h=this.T_.indexOf(J.target),v=this.zm[h].index;
this.tQ[v]=1-this.tQ[v];this.a(new dd(j.E.n,!1));this.a55(this.T_,this.CM)};c1.prototype.ajf=function(J){var h=this.oJ.indexOf(J.target);
this.No[h]=1-this.No[h];this.a(new dd(j.E.n,!1))};c1.prototype.a55=function(J,v){var x=!0;for(var h=0;
h<J.length;h++)x=x&&J[h].s();v.q(x)};function aE(J,v,x){dO.call(this,v,!0,"gradientbutton",18*13,10*13,cj.Ui);
this.P4=-1;this.Vb=-1;this.asu=null;this.as4=J;this.yt=x}aE.prototype=new dO;aE.prototype.UA=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.wz,kA:"gradienteditor",UH:this.Iw,Ah:this.aan.bind(this),eu:this.yt};this.a(v)};aE.prototype.aan=function(J){this.q(J);
this.a(new dd(j.E.n))};aE.prototype.kx=function(J,v){this.P4=J;this.Vb=v;this.cM()};aE.prototype.cM=function(){if(this.Iw==null)return;
var J=JSON.stringify(this.Iw)+","+this.P4+","+this.Vb;if(J==this.asu)return;this.asu=J;var v=Math.floor(80*B.rR()),x=Math.floor(16*B.rR()),o=H.La.QZ(this.Iw,v,x,0,this.P4,this.Vb);
this._a.setAttribute("src",o);B.Ol(this._a,v,x)};aE.prototype.s=function(){var J;if(this.as4)J=H.La.ac2(this.Iw,this.P4,this.Vb);
else J=g.F(this.Iw);return J};function cE(J){dO.call(this,J,!1,"swatchbutton",16*13,9.75*13,cj.g0)}cE.prototype=new dO;
function kV(J){dO.call(this,null,!0,"swatchbutton",16*13,8.75*13,cj.kN);this.ny=J}kV.prototype=new dO;
kV.prototype.hZ=function(J){var v=this.pn,x=J.target.s();this.q(x==0?[]:v._I[x-1][1],v);this.a(new dd(j.E.n))};
kV.prototype.UA=function(J){if(this.Iw.length!=0)iz.aDJ(this.Iw,this,this.hK.bind(this))};kV.prototype.hK=function(J){var v=J;
if(typeof J=="number"){v=g.x7(J,1);v=[v.z,v.H,v.c]}this.q(v);this.a(new dd(j.E.n))};kV.prototype.q=function(J,v){this.Iw=J;
this.cM(v)};kV.prototype.cM=function(J){var v=Math.floor(20*B.rR()),x=Math.floor(20*B.rR()),o=B.l("canvas"),R=o.getContext("2d");
o.width=v;o.height=x;iz.$L(R,this.Iw,J,v,x,0,0,this.ny==1);var r=R.canvas.toDataURL("png");this._a.setAttribute("src",r);
B.Ol(this._a,v,x)};kV.prototype.h3=function(){if(!this.AT)return;var J=Math.floor(20*B.rR()),v=Math.floor(20*B.rR()),x=[],o=[],R=this.pn,r=R._I,l=B.l("canvas"),M=l.getContext("2d");
l.width=J;l.height=v;r=[["None",[]]].concat(r);for(var h=0;h<r.length;h++){o.push(r[h][0]);iz.$L(M,r[h][1],R,J,v,0,0);
var P=M.canvas.toDataURL("png");x.push(P)}this.ov.iP(x,o,J,v);this.AT=!1};kV.prototype.s=function(){return g.F(this.Iw)};
function a0(J,v,x){aJ.call(this);this._=B.l(x?"div":"span");var o=this.Ly=B.l("input");this.Ly.setAttribute("type","file");
if(v)o.setAttribute("multiple","");this.Ly.addEventListener("change",this.atN.bind(this),!1);this.atK=this.Rd.bind(this);
this._f={};this.Di=0;this.Qd=J;var R=this.ZD=new bj(ea.get(J)+" (0)",null,null,!0);this._.appendChild(R._);
R.addEventListener("click",function(r){o.click()});if(x){this.oW=B.l("div","scrollable");B.L(this.oW,"height:120px; width:100%; line-height:1.5em;");
this._.appendChild(this.oW);this._t()}}a0.prototype=new aJ;a0.prototype.q=function(J){this._f=J;this._t()};
a0.prototype.s=function(J){return this._f};a0.prototype.atN=function(J){var v=J.target.files;this.Di=v.length;
this._f={};for(var h=0;h<v.length;h++){var x=v[h],o=new FileReader;o.onload=this.atK;o.Gc=x.name;o.readAsArrayBuffer(x)}};
a0.prototype.Rd=function(J){var v=this._f[J.target.Gc]=new Uint8Array(J.target.result);this.Di--;if(this.Di==0){this._t();
this.a(new dd(j.E.n));this.Ly.value=null}};a0.prototype._t=function(){var J=this._f;this.ZD.f_(ea.get(this.Qd)+" ("+Object.keys(J).length+")");
var v=this.oW;if(v==null)return;B.wp(v);var x=[];for(var o in J)x.push(o);x.sort();for(var h=0;h<x.length;
h++){var R=B.l("div");R.textContent=x[h];v.appendChild(R)}};function j3(J,v,x,o,R){if(J==null)J=!1;if(v==null)v=!1;
if(x==null)x=!1;aJ.call(this);this.Ou=new aG;this.CB=new aG;this.atF=72;this.jd=72;this.VV=!0;this.kt=!1;
this._=B.l("span");this.AD=new fL([12,41],0,0,null,0,!1,!0,4);this._.appendChild(this.AD._);this.AD.P(j.E.n,this.nE,this);
var r=["px","%"];if(J)r=r.concat(["cm","mm","in"]);if(R){r=[[12,76,2],[12,76,6]];if(J)r=r.concat([[12,76,4],[12,76,5],[12,76,3]])}this.cQ=new dp(null,r);
this._.appendChild(this.cQ._);B.A1(this._);this.cQ.P(j.E.n,this.nE,this);this.pc=new fL([12,42],0,0,null,0,!1,!0,4);
this._.appendChild(this.pc._);this.pc.P(j.E.n,this.nE,this);var l=new bj("\u21F5",!1,null,!0);l.P("click",this.WZ,this);
this.mH=new bj("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.mH.P("click",this.nE,this);
this.GL=new aT("");this.GL._.style.margin="0";this.GL._.style.padding="0";if(v){this._.appendChild(this.mH._);
this._.appendChild(this.GL._);this.mH.$I()}else this._.appendChild(l._);this.J3=new fL("DPI",0,0,null,3,!1,!0,4);
this.t5=new dp(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(J&&!o){B.A1(this._);this._.appendChild(this.J3._);
this._.appendChild(this.t5._)}this.t5.P(j.E.n,this.nE,this);this.J3.P(j.E.n,this.nE,this);this._u=new a9([12,23,1]);
this._u.P(j.E.n,this.nE,this);if(x){B.A1(this._);this._.appendChild(this._u._)}B.A1(this._)}j3.prototype=new aJ;
j3.prototype.qe=function(J,v){this.AD.az.style.width=this.pc.az.style.width=(J-78-this.mH.RJ())/2+"px"};
j3.prototype.P3=function(){this.AD.P3();this.pc.P3();this.cQ.P3();var J=this._;B.wp(J);this.cQ._.style.marginRight="0";
J.appendChild(this.AD._);J.appendChild(this.mH._);J.appendChild(this.pc._);J.appendChild(this.cQ._)};
j3.prototype.lz=function(){this.AD.lz()};j3.prototype.akS=function(J,v){this.VV=J;if(v!=null)this.kt=v;
if(!this.VV&&!this.kt&&this.cQ.s()==0){this.cQ.q(4);this.zX()}};j3.prototype.avj=function(J){this.mH.q(J)};
j3.prototype.d=function(){this.AD.d();this.pc.d();this.J3.d();this.t5.d();this.mH.d();this._u.d();this.cQ.d()};
j3.prototype.WZ=function(J){var v=this.CB.x;this.CB.x=this.CB.y;this.CB.y=v;this.zX();this.a(new dd(j.E.n,!1))};
j3.prototype.nE=function(J){if(J.target==this.cQ&&!this.VV&&!this.kt&&this.cQ.s()==0)this.cQ.q(4);if(J.target==this.cQ||J.target==this._u){this.zX();
return}if(J.target==this.mH)J.target.q(!J.target.s());if(J.target==this.t5)window.locStor.setItem("dpiUnit",this.t5.s());
var v=this.Ou,x=parseFloat(this.AD.s());if(isNaN(x))x=1;var o=parseFloat(this.pc.s());if(isNaN(o))o=1;
var R=this.J3.s()*[1,2.54][this.t5.s()],r=this.cQ.s();if(this.VV){var l=this.jd;if(r==1){x=this.Ou.x*(x/100);
o=this.Ou.y*(o/100)}var M=[1,1,2.54/l,25.4/l,1/l][r];x/=M;o/=M;if(this._u.s()){x+=this.Ou.x;o+=this.Ou.y}if(J.target==this.J3){var P=R;
if(!this.kt){var S=P/l;x*=S;o*=S}l=P}if(this.mH.s()){if(J.target==this.AD)o=x*(v.y/v.x);else x=o*(v.x/v.y)}x=Math.max(Math.abs(x),1);
o=Math.max(Math.abs(o),1)}else{var l=this.atF;if(J.target==this.J3)l=R;else{if(this.mH.s()){if(J.target==this.AD)o=x*(v.y/v.x);
else x=o*(v.x/v.y)}var M=[1,1,2.54/l,25.4/l,1/l][r],c=x/(r==1?100:v.x*M);l=l/c}x=v.x;o=v.y}this.CB=new aG(Math.round(x),Math.round(o));
this.jd=l;this.zX();this.a(new dd(j.E.n,!1))};j3.prototype.rQ=function(h){this.cQ.q(h);this.zX()};j3.prototype.ao1=function(){return this.cQ.s()};
j3.prototype.q=function(J,v,x){var o=window.locStor.getItem("dpiUnit");if(o!=null)this.t5.q(o);if(x!=!0)this.Ou=J.Q();
this.CB=J.Q();if(v!=null){this.atF=v;this.jd=v}this.zX()};j3.prototype.zX=function(){var J=this.CB.x,v=this.CB.y,x=this.jd,o=(J/v).toFixed(3);
while(o.charAt(o.length-1)=="0")o=o.substring(0,o.length-1);if(o.charAt(o.length-1)==".")o=o.substring(0,o.length-1);
var R="  "+o+" : 1",r=function(c,b){while(b!=0){var w=b;b=c%b;c=w}return c},l=r(J,v);if(Math.min(J,v)/l<10)R="  "+Math.round(J/l)+" : "+Math.round(v/l);
this.GL.q(R);if(this._u.s()){J-=this.Ou.x;v-=this.Ou.y}var M=this.cQ.s();if(M==1){if(this.VV){J=100*J/this.Ou.x;
v=100*v/this.Ou.y}else{J=v=100*this.atF/this.jd}}else{J=Math.round(J);v=Math.round(v)}var P=[1,1,2.54/x,25.4/x,1/x][M];
J*=P;v*=P;var S=M==1||M==2||M==4?2:0;this.AD.nA(S);this.pc.nA(S);this.AD.q(J);this.pc.q(v);this.J3.q(x*[1,1/2.54][this.t5.s()])};
j3.prototype.s=function(){return this.CB.Q()};j3.prototype.b2=function(){return this.jd};function aK(J,v,x){aJ.call(this);
var o=J==0?["W","H","X","Y"]:["\u250F","\u2517","\u2513","\u251B"];this.I4=J;this.a6O=v;this.auz=1;this.ar0=[1,1,0];
var R=this._=B.l("div","numlist"),r=B.l("div","flexrow");R.appendChild(r);var l=B.l("div"),M=B.l("div");
r.appendChild(l);r.appendChild(M);B.L(l,"width:100px");B.L(M,"width:100px");var P=this.bW=[];for(var h=0;
h<4;h++){var S=new fL(o[h],0,0,null,2,!1,!0,4,null,x&&h<2);S.P(j.E.n,this.nE,this);(h<2?l:M).appendChild(S._);
P[h]=S}P[4]=new a9(J==0?[12,51]:[12,91,2]);P[4].q(!0);R.appendChild(P[4]._)}aK.prototype=new aJ;aK.prototype.d=function(){var J=this.bW;
for(var h=0;h<5;h++)J[h].d();if(this.I4==0)B.Tu(J[0],J[1])};aK.prototype.q=function(J,v){if(v)this.ar0=v;
v=this.ar0;var x=this.I4==0?[J[2],J[3],J[0],J[1]]:[J[0],J[3],J[1],J[2]];this.auz=J[2]/J[3];for(var h=0;
h<4;h++){var o=this.bW[h];o.nA(v[2]==0&&this.a6O?0:2);o.q(g.Av.Zo(x[h],v[0],v[1],v[2]))}};aK.prototype.s=function(){var J=[],v=this.ar0;
for(var h=0;h<4;h++){var x=g.Av.qM(this.bW[h].s(),v[0],v[1],v[2]);J[h]=this.a6O?Math.round(x):x}var o=this.I4==0?[J[2],J[3],J[0],J[1]]:[J[0],J[2],J[3],J[1]];
return o};aK.prototype.nE=function(J){var v=this.I4,x=this.bW.indexOf(J.currentTarget),o=this.s(),R=this.bW[4].s();
if(v==0){o[2]=Math.max(1,o[2]);o[3]=Math.max(1,o[3]);if(R&&x==0)o[3]=o[2]/this.auz;if(R&&x==1)o[2]=o[3]*this.auz}if(v==1){o[x]=Math.max(0,o[x]);
if(R)for(var h=0;h<4;h++)o[h]=o[x]}this.q(o,null);this.a(new dd(j.E.n,!1))};function jA(J){aJ.call(this);
this.aGp=0;this.fU=[0,0,1,1,100,100];this.pp=[10,5,1,1,4,3,3,2,16,9];this.ajO=0;this.afO=72;this.auS=J;
this._=B.l("span","fitem");this.v1=new dp(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this._.appendChild(this.v1._);this.v1.P(j.E.n,this.nE,this);this.AD=new fL("W",0,0,null,2,!1,!0);this._.appendChild(this.AD._);
this.AD.P(j.E.n,this.nE,this);var v=this.je=new bj("\u21C4",!1,null,!0);v.P("click",this.WZ,this);this._.appendChild(v._);
this.pc=new fL("H",0,0,null,2,!1,!0);this._.appendChild(this.pc._);this.pc.P(j.E.n,this.nE,this);this.J3=new fL("New DPI",0,0,null,3,!1,!0,4);
this.J3.P(j.E.n,this.nE,this);this.q({t:0,x:0,y:0})}jA.prototype=new aJ;jA.prototype.b9=function(J){this.pp[0]=J[0];
this.pp[1]=J[1];var v=this.s();this.afO=J[2];this.ajO=J[3];this.q(v)};jA.prototype.d=function(){B.Tu(this.AD,this.pc);
this.J3.d();this.v1.d()};jA.prototype.WZ=function(J){var v=this.pc.s();this.pc.q(this.AD.s());this.AD.q(v);
this.nE(J)};jA.prototype.nE=function(J){if(J.target==this.v1){var h=this.v1.s(),v=this.fU,x=this.J3._;
if(h==2&&x.parentNode==null&&this.auS)this._.appendChild(x);if(h!=2&&x.parentNode!=null)this._.removeChild(x);
if(h>2){h-=3;var o=this.pp[2*h],R=this.pp[2*h+1];v[2]=o;v[3]=R;this.AD.q(o);this.pc.q(R);this.v1.q(1)}var r=this.s();
v[this.aGp*2]=r.x;v[this.aGp*2+1]=r.y;this.aGp=r.t;this.q({t:r.t,x:v[r.t*2],y:v[r.t*2+1]})}if(this.AD.s()<1)this.AD.q(1);
if(this.pc.s()<1)this.pc.q(1);this.a(new dd(j.E.n,!1))};jA.prototype.q=function(J){this.v1.q(J.t);var v=J.x,x=J.y;
if(J.t==2){var o=this.ajO,R=this.afO,r=this.pp;v=g.Av.Zo(J.x,R,r[0],o);x=g.Av.Zo(J.y,R,r[1],o)}this.AD.q(v);
this.pc.q(x);if(J.t==0){this.AD.UG();this.pc.UG();this.je.UG()}else{this.AD.fS();this.pc.fS();this.je.fS()}};
jA.prototype.s=function(){var J=this.AD.s(),v=this.pc.s(),x=this.v1.s();if(x==2){var o=this.ajO,R=this.afO,r=this.pp;
J=g.Av.qM(J,R,r[0],o);v=g.Av.qM(v,R,r[1],o);J=Math.round(J);v=Math.round(v)}var l={t:x,x:J,y:v},M=this.J3.s();
if(this.auS&&M!=0)l.Bt=M;return l};function es(J){aJ.call(this);this._=B.l("span","");this.alP=J;var v=J?100:300;
this.rF=new gu("Off X",-v,v,J?"%":"px",0,!J);this.it=new gu("Off Y",-v,v,J?"%":"px",0,!J);this.rF.P(j.E.n,this.nE,this);
this.it.P(j.E.n,this.nE,this);this._.appendChild(this.rF._);this._.appendChild(this.it._)}es.prototype=new aJ;
es.prototype.d=function(){this.rF.d();this.it.d()};es.prototype.nE=function(J){this.a(new dd(j.E.n,!1))};
es.prototype.a1Q=function(J){this.rF.q(J.x);this.it.q(J.y)};es.prototype.a2g=function(){return new aG(this.rF.s(),this.it.s())};
es.prototype.q=function(J,v){var x=J.Hrzn.v,o=J.Vrtc.v;if(this.alP){x=x.val;o=o.val}this.rF.q(x);this.it.q(o);
if(v==!0)this.nE()};es.prototype.s=function(){var J=this.rF.s(),v=this.it.s();if(this.alP)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:J}},Vrtc:{t:"UntF",v:{type:"#Prc",val:v}}};
else return{classID:"Pnt",Hrzn:{v:J,t:"doub"},Vrtc:{v:v,t:"doub"}}};function hH(J,v){aJ.call(this);this._=B.l("button");
this.Pl=[{fk:3,Wy:[]},{fk:3,Wy:[12,6],yd:0},{fk:3,Wy:[0,6],yd:1,$h:1}];this.JH=gD.Ok.ow();this.aiP=J;
this.Zd=v;this._.addEventListener("click",this.nY.bind(this),!1);var x=B.l("canvas","gsicon");this.zJ=x.getContext("2d");
this._.appendChild(x);var o=B.l("span");o.textContent=" \u25BC";this._.appendChild(o);this.bM=new aJ;
this.bM.parent=this;this.bM._=B.l("div","floatcont form label6");var R=this.bM._;B.L(R,"width: 15em;");
this.Ho=[v?new a9("Fill First"):new dp([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new iF([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new iF([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new fL("Limit",1,50,null,null,null,!0,2.5),new ir([19,9,2])];
for(var h=0;h<this.Ho.length;h++){var r=this.Ho[h];if(du==0||h!=0||!v)R.appendChild(r._);r.P(j.E.n,this.nE,this)}B.A1(R);
this.ah=[];var l=this.Pr.bind(this);for(var h=0;h<this.Pl.length;h++){var M=B.l("button","fitem");this.ah.push(M);
R.appendChild(M);M.addEventListener("click",l,!1);var x=B.l("canvas","gsicon"),P=x.getContext("2d");
M.appendChild(x);this.aAL(P,40,20,this.Pl[h])}}hH.prototype=new aJ;hH.prototype.nY=function(J){var v=this._.getBoundingClientRect(),x=new dd(j.E.j,!0);
x.data={R:j.m.sO,rq:this.bM,x:v.left,y:v.top+v.height+4,a3:!0};this.a(x)};hH.prototype.nE=function(J){var v=this.Ho,x=v.indexOf(J.target),o=v[x].s(),R=this.JH;
if(x==0)R.Bf=this.Zd?o?1:0:o;if(x==1)R.yd=o;if(x==2)R.$h=o;if(x==3)R.M0=o;if(x==4){var r=R.Wy=o==""?[]:o.split(" ").map(parseFloat);
if(!this.aiP)for(var h=0;h<r.length;h++)r[h]*=R.fk}this.a(new dd(j.E.n,!1))};hH.prototype.Pr=function(J){var v=this.ah.indexOf(J.currentTarget),x=this.Pl[v],o=this.JH;
if(x.yd!=null)o.yd=x.yd;if(x.$h!=null)o.$h=x.$h;o.Wy=x.Wy.slice(0);if(o.fk==null)o.fk=3;for(var h=0;
h<o.Wy.length;h++)o.Wy[h]*=o.fk/x.fk;this.a(new dd(j.E.n,!1))};hH.prototype.d=function(){for(var h=0;
h<this.Ho.length;h++)this.Ho[h].d()};hH.prototype.q=function(J){this.JH=g.F(J);var v=this.Ho;if(J.Bf!=null)v[0].q(this.Zd?J.Bf==1:J.Bf);
if(J.yd!=null)v[1].q(J.yd);if(J.$h!=null)v[2].q(J.$h);if(J.M0!=null)v[3].q(J.M0);v[3].Ne(J.$h==0);if(J.Wy!=null){var x=J.Wy.slice(0);
if(!this.aiP)for(var h=0;h<x.length;h++)x[h]/=J.fk;v[4].q(x.join(" "))}this.aAL(this.zJ,40,16,J)};hH.prototype.s=function(){return g.F(this.JH)};
hH.prototype.aAL=function(J,v,x,o){B.QH(J.canvas,v,x);var R=o.Wy?o.Wy:[],r=o.fk;if(r==null)r=3;else{r=Math.min(5,r);
R=R.slice(0);for(var h=0;h<R.length;h++)R[h]*=r/o.fk}J.clearRect(0,0,v,x);J.setLineDash(R);J.lineCap=["butt","round","square"][o.yd];
J.lineJoin=["miter","round","bevel"][o.$h];J.lineWidth=r;J.beginPath();J.moveTo(0,x/2);J.lineTo(v*2,x/2);
J.stroke()};function hQ(J){dO.call(this,J,!1,"contourbutton",34*13,16*13,cj.z0,!0);this.yH=new ir([12,86],null,16);
this.yH.P("input",this.KQ,this);this.bM._.appendChild(this.yH._);this.a7E=null;this.w9="";this.ex=null;
this.q(b0.ow())}hQ.prototype=new dO;hQ.prototype.d=function(){dO.prototype.d.call(this);this.yH.d()};
hQ.prototype.hZ=function(J){this.q(this.a7E[J.target.s()[0]]);this.a(new dd(j.E.n))};hQ.prototype.KQ=function(J){this.w9=this.yH.s().toLowerCase();
this.ajF()};hQ.aBn=!1;hQ.prototype.h3=function(){if(!this.AT)return;var J=this.pn;if(J==null||!hQ.aBn){var v=new dd(j.E.j,!0);
v.data={R:j.m.Ia,Fu:{url:"rsrc/basic/fa.zip"}};this.a(v);hQ.aBn=!0}else{var x=Date.now(),o=Math.floor(38*B.rR()),R=Math.floor(38*B.rR());
this.ex=[];for(var h=0;h<J.length;h++){if(J[h].a1u==null)J[h].a1u=hQ.ahp(J[h],o,R);this.ex.push(J[h].a1u)}this.ajF();
this.AT=!1}};hQ.prototype.ajF=function(){var J=Math.floor(38*B.rR()),v=Math.floor(38*B.rR());this.a7E=[];
var x=[],o=[],R=this.pn;for(var h=0;h<R.length;h++){if(R[h].lG.toLowerCase().indexOf(this.w9)==-1)continue;
this.a7E.push(R[h]);x.push(this.ex[h]);o.push(R[h].lG)}this.ov.iP(x,o,J,v)};hQ.prototype.q=function(J){this.Iw=hQ.Q(J);
this.cM()};hQ.prototype.cM=function(){var J=Math.floor(23*B.rR()),v=Math.floor(23*B.rR()),x=hQ.ahp(this.Iw,J,v);
this._a.setAttribute("src",x);B.Ol(this._a,J,v)};hQ.prototype.s=function(){return hQ.Q(this.Iw)};hQ.Q=function(J){return{lG:J.lG,eZ:J.eZ,X:m.e_.w2(J.X),ZW:J.ZW.Q()}};
hQ.W0=null;hQ.zJ=null;hQ.ahp=function(J,v,x){var o=J.ZW,R=Math.min(v/o.r,x/o.$)*.9,r=new bC;r.translate(-.5,-.5);
r.scale(.95,.95);r.translate(.5,.5);r.scale(R*o.r,R*o.$);r.translate((v-R*o.r)/2,(x-R*o.$)/2);var l=g.n2(v,x);
l.save();l.fillStyle="black";l.clearRect(0,0,v,x);l.setTransform(r.o5,r.c,r.Mz,r.fn,r.zP,r.jD);g.I.yz(J.X,l,0,0);
l.restore();var M=UPNG.encode([l.getImageData(0,0,v,x).data.buffer],v,x,0);return"data:image/png;base64,"+d2.vd(M)};
function fl(J){dO.call(this,J,!1,"ICCButton",16*13,12*13,cj.a8,!0);this.ov.kO(1)}fl.prototype=new dO;
fl.prototype.UC=function(){var J="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var h=0;h<J.length;h++)J[h]="luts/"+J[h]+".CUBE";return J};fl.prototype.hZ=function(J){this.q(this.pn[J.target.s()]);
this.a(new dd(j.E.n))};fl.prototype.h3=function(){if(!this.AT)return;var J=Math.floor(1*B.rR()),v=Math.floor(1*B.rR()),x=[],o=[],R=this.pn;
for(var h=0;h<R.length;h++){var r=R[h].Nm.v.split("\\").pop().split("/").pop();o.push(r);x.push(fl.QZ(R[h],J,v))}this.ov.iP(x,o,J,v);
this.AT=!1};fl.QZ=function(J,v,x){var o=B.l("canvas"),l="ICC / 3DL / look / cube";o.width=v;o.height=x;
var R=o.getContext("2d"),r=Math.floor(14*B.rR());R.font=r+"px sans-serif";if(J.Nm)l=J.Nm.v.split("\\").pop().split("/").pop();
R.fillText(l,10,r);return o.toDataURL()};fl.prototype.cM=function(){var J=Math.floor(120*B.rR()),v=Math.floor(20*B.rR());
this._a.setAttribute("src",fl.QZ(this.Iw,J,v));B.Ol(this._a,J,v)};function d0(){aJ.call(this);this.xm=null;
this._=B.l("span","fitem");this.Wx=new jE([14,9]);this.a6A=new fL(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.XU=new hH;this.Np=[this.Wx,this.a6A,this.XU];for(var h=0;h<this.Np.length;h++){var J=this.Np[h];
this._.appendChild(J._);J.parent=this;J.P(j.E.n,this.nE,this)}}d0.prototype=new aJ;d0.prototype.d=function(){for(var h=0;
h<this.Np.length;h++)this.Np[h].d()};d0.prototype.pJ=function(J,v){this.Wx.pJ(J,v)};d0.prototype.nE=function(J){var v=this.xm,x=this.Wx.s();
gD.iJ(v,x);v.strokeStyleLineWidth.v.val=this.a6A.s();if(J.target==this.XU)gD.gB.write(v,this.XU.s());
this.xm=v;this.a(new dd(j.E.n,!1))};d0.prototype.q=function(J,v,x){this.xm=g.F(v);var o=gD.mh(v);this.Wx.q(J,o,x);
this.a6A.q(v.strokeStyleLineWidth.v.val);this.XU.q(gD.gB.Fy(v))};d0.prototype.s=function(){return g.F(this.xm)};
function gC(J){var v=[[18,0],[18,1],[18,2],[18,3]],x=iF.gd(["set/front","set/union","set/difference","set/intersection"]);
iF.call(this,J?[12,36]:null,x,v)}gC.prototype=new iF;function fu(){aJ.call(this);this._=B.l("button","fitem bbtn");
B._A(this._,this._o.bind(this));this.bM=new aJ;this.bM._=B.l("div","floatcont form");B.L(this.bM._,"max-width: 200px;");
this.bM.parent=this;var J=jL;this.HP=[new a9("Start"),new a9("End"),new J([12,41],0,100,"px",null,!0,null,!0),new J([12,80,0],0,100,"px",null,!0,null,!0),new J("Concavity",-50,50,"%",null,null,null,!0)];
for(var h=0;h<this.HP.length;h++){var v=this.HP[h];v.parent=this;v.P(j.E.n,this.hK,this);this.bM._.appendChild(v._)}this.aER=B.l("div");
this.bM._.appendChild(this.aER)}fu.prototype=new aJ;fu.prototype.q=function(J){for(var h=0;h<5;h++)this.HP[h].q(J[h]);
this._t()};fu.prototype.s=function(J){var v=[];for(var h=0;h<5;h++)v[h]=this.HP[h].s();return v};fu.prototype.d=function(){this._.textContent=ea.get([12,93,4]);
for(var h=0;h<this.HP.length;h++)this.HP[h].d()};fu.prototype.hK=function(J){this.a(new dd(j.E.n,!1));
this._t()};fu.prototype._t=function(J){var v=this.s(),x=200,o=60;v[2]/=B.rR();v[3]/=B.rR();var R=g.I.yu.Gb(0,o/2,x,o/2,5,v),r=g.I.K2(R);
this.aER.innerHTML="<svg width=\""+x+"\" height=\""+o+"\" class=\"gsicon\">\t\t\t<path d=\""+r.fF+"\" />\t\t\t</svg>"};
fu.prototype._o=function(J){if(B.yn(this.bM._))return;J.stopPropagation();var v=this._.getBoundingClientRect(),x=new dd(j.E.j,!0);
x.data={R:j.m.sO,rq:this.bM,x:v.left,y:v.top+v.height,a3:!0};this.a(x)};function b3(){aJ.call(this);
this._=B.l("div");this.bW=[];this.aqx=[];var J=this.DP=B.l("div"),v=B.l("h2");v.textContent="Create Teams";
J.appendChild(v);v.style.margin="26px 0 16px 0";var x=new bj("More about Teams",!1,null,!0);v.appendChild(x._);
x._.style.float="right";x.P("click",this.a1j,this);this.H5=B.l("div");J.appendChild(this.H5);this.aFs=new ir("Team Name",null,10);
J.appendChild(this.aFs._);var o=this.a7M=new bj("Create Team",null,null,!0);J.appendChild(o._);o.P("click",this.azw,this);
var v=B.l("h2");v.textContent="Join Teams";J.appendChild(v);v.style.margin="26px 0 16px 0";this.lL=B.l("div");
J.appendChild(this.lL);this.axd=new ir("Team ID",null,10);J.appendChild(this.axd._);var o=new bj("Join Team",null,null,!0);
J.appendChild(o._);o.P("click",this.azw,this);this.a08;this.a39=this.Q4.bind(this);this.aH_=this.amf.bind(this);
this.agK=!1;this.qu();this.zA=null;this.ao8=""}b3.prototype=new aJ;b3.prototype.a1j=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.fY,link:"https://www.photopea.com/api/accounts#teams"};this.a(v)};b3.prototype.qu=function(){clearTimeout(this.aCS);
this.aCS=setTimeout(this.aH_,this.zA?10:3e3)};b3.prototype.amf=function(){var J=f6.sr();if(document.hidden||!B.yn(this._)||J==null){this.qu();
return}var v=f6.yf();if(this.zA==null&&v==null)return;f6.QD(this.zA?this.zA:v,this.a39);this.agK=!0;
this.zA=null};b3.prototype.a3O=function(J){J.acc.update=!0;this._.style.pointerEvents="none";this._.style.opacity="0.5";
if(this.agK)this.zA=J;else{clearTimeout(this.aCS);f6.QD(J,this.a39)}};b3.prototype.Dq=function(J){var v=typeof J=="string"?this.a08:this.bW.indexOf(J.target),x=this.aqx[v],o=x[0],R=f6.yf();
if(R==null)R={};var r=R.acc,l=r.tjoin,M=r.tstart;if(o=="leave"){l.splice(l.indexOf(x[1]),1)}if(o=="add"||o=="remove"||o=="delTeam"||o=="showRename"||o=="rename"){var P=-1,S=0;
for(var h=0;h<M.length;h++){S+=M[h][1].length;if(M[h][2]==x[1])P=h}var c=M[P];if(o=="add"){var b=f6.hV();
if(b&&b[0]==0&&b[1][2]<=S){alert("You can have at most "+b[1][2]+" members in your Premium.");return}c[1].push(x[2])}if(o=="remove")c[1].splice(c[1].indexOf(x[2]),1);
if(o=="delTeam"){if(c[1].length!=0){alert("Remove members first.");return}M.splice(P,1)}if(o=="showRename"){var w=new dd(j.E.j,!0);
w.data={R:j.m.wz,kA:"namewindow",EB:c[0],MX:this.Dq.bind(this)};this.a(w);this.a08=v;x[0]="rename";return}if(o=="rename")c[0]=J}this.a3O(R)};
b3.prototype.azw=function(J){var v=this.a7M==J.target,x=(v?this.aFs:this.axd).s().trim();if(x==""){alert("The Team "+(v?"Name":"ID")+" is empty.");
return}if(!v){x=parseInt(x);if(isNaN(x)){alert("The ID must be a number");return}}var o=f6.yf();if(o==null)o={};
var R=o.acc;if(R==null)R=o.acc={};var r=R.tstart,l=R.tjoin;if(v){if(r==null)r=R.tstart=[];if(r.length>5){alert("You can have at most 5 teams");
return}r.push([x,[]])}else{if(r)for(var h=0;h<r.length;h++)if(r[h][2]==x){alert("You are the owner of this team");
return}if(l==null)l=R.tjoin=[];if(l.indexOf(x)!=-1){alert("You already asked to join this team.");return}R.tjoin.push(x)}R.update=!0;
this.a3O(o)};b3.prototype.Q4=function(){this.agK=!1;var J=f6.sr(),v=J!=null,x=this.DP.parentNode!=null;
if(v!=x){B.wp(this._);if(v)this._.appendChild(this.DP);else this._.textContent="Log In to access Team Settings."}if(!v)return;
var o=f6.yf();if(o==null)o={};var R=o.acc;if(R==null)R={};var r=JSON.stringify(R)+"===="+JSON.stringify(J);
if(r!=this.ao8){this.ao8=r;var l=this.H5,M=this.lL;B.wp(l);B.wp(M);var P=this.bW=[],S=this.aqx=[],c=this.Dq.bind(this);
function b(a,T){a.addEventListener("click",c);P.push(a);S.push(T)}function w(K,a){var N=B.l("div"),T="rgba(255,255,255,0.15)";
N.appendChild(F("ID: "+K[2],54,T));N.appendChild(F(K[0],160,null,!0));if(a){N.appendChild(F(K[1].length+" members",80,null,!0))}else{N.appendChild(F(K[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<K[1]*1e3)N.appendChild(F("Premium",80,"rgba(0,140,0,1)"))}var f=F("",120);N.appendChild(f);
B.L(f,"float:right;text-align:right");if(a){var Z=new bj("Rename",null,null,!0);b(Z,["showRename",K[2]]);
f.appendChild(Z._)}var Z=new bj(a?"Delete":"Leave",null,null,!0);b(Z,[a?"delTeam":"leave",K[2]]);f.appendChild(Z._);
return N}function U(a,T,_){var N=B.l("div");N.style.paddingLeft="46px";N.appendChild(F(T?"\u2713":"...",8,T?"#229922":"#aa7700"));
N.appendChild(F(a[1],200));N.appendChild(F(a[2],240));var f=F("",120);N.appendChild(f);B.L(f,"float:right;text-align:right");
var Z=new bj(T?"Remove":"Add",null,null,!0);b(Z,[T?"remove":"add",_,a[0]]);f.appendChild(Z._);return N}function F(a,T,f,Z){var W=B.l("span");
W.textContent=a;B.L(W,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+T+"px;  "+(f!=null?"background-color:"+f+";":"")+(Z?"font-weight:bold;":""));
return W}var Y=R.tstart,A=R.tjoin,G=J.wantToJoin,n=J.inTeams;if(Y)for(var E=0;E<Y.length;E++){var K=Y[E],e=G["t"+K[2]];
if(e==null)e=[];var $={};for(var h=0;h<e.length;h++)$["u"+e[h][0]]=e[h];var N=w(K,!0);l.appendChild(N);
N.style.marginTop="10px";for(var h=0;h<K[1].length;h++){var k=K[1][h],V=$["u"+k];if(V==null)V=[k,"========","... user has left your team"];
delete $["u"+k];var X=U(V,!0,K[2]);l.appendChild(X)}for(var Q in $){var V=$[Q],X=U(V,!1,K[2]);l.appendChild(X)}}if(A){var L={};
for(var h=0;h<n.length;h++)L["t"+n[h][2]]=n[h];for(var E=0;E<A.length;E++){var _=A[E],K=L["t"+_],N=w(K?K:["==========",-1,_],!1);
M.appendChild(N)}}this.a(new dd(j.E.n))}if(this.zA==null){this._.style.pointerEvents="auto";this._.style.opacity="1"}this.qu()};
function kU(){aJ.call(this);this._=B.l("span","fitem SymButton");var J=this.ZD=new bj("<img src=\""+PIMG.sym+"\" class=\"autoscale gsicon\" />");
this._.appendChild(J._);B.Kb(J._,this.VU.bind(this));this.Wr=null;this.d()}kU.prototype=new aJ;kU.prototype.d=function(){if(this.Wr)this.Wr.d()};
kU.prototype.VU=function(J){var v=this.Wr;if(v==null){var x=40,o=40,R=B.l("canvas"),r=R.getContext("2d");
R.width=x;R.height=o;var l=new bC(x,0,0,o,0,0);r.lineWidth=2;var M=[{name:"No Symmetry",vy:!0}],P=g.bO.list,S=[{A:j.E.G,J:H.ih,p:{R:"pathedit",Uq:"sspath",K:-1}}];
for(var h=0;h<P.length;h++){r.clearRect(0,0,x,o);var c=g.bO.c9(h,5);g.b.u(c.T,l,c.T);for(var b=0;b<c.T.length;
b++)c.T[b]=Math.round(c.T[b]);r.beginPath();Typr.U.pathToContext({cmds:c.Wp,crds:c.T},r);r.rect(0,0,x,o);
r.stroke();var w={name:P[h][0],CT:r.canvas.toDataURL()};M.push(w);if(h<8)S.push({A:j.E.G,J:H.ih,p:{R:"pathedit",Uq:"new",N_:[h,0]}});
else{w.sub=[];var U={sub:[]};S.push(U);for(var b=0;b<12;b++){w.sub.push({name:"Rays: "+(2+b)});U.sub.push({A:j.E.G,J:H.ih,p:{R:"pathedit",Uq:"new",N_:[h,2+b]}})}}}M[M.length-1].vy=!0;
M.push({name:"Selected Path"},{name:"Transform Symmetry"});S.push({A:j.E.G,J:H.ih,p:{R:"pathedit",Uq:"sspath",K:0}},{A:j.E.G,J:H.ih,p:{R:"pathedit",Uq:"sspath",K:1}});
v=this.Wr=new kM(M,S)}var F=this.ZD._.getBoundingClientRect();v.d();v.parent=this;var U=new dd(j.E.j,!0);
U.data={R:j.m.sO,rq:v,x:F.x,y:F.y+F.height};this.a(U)};function eC(){aJ.call(this);this.uq=[16,!0,!0];
this._=B.l("span","");this.Wq=[new fL([12,24],0,255),new a9([12,25,1]),new a9([12,25,0])];for(var h=0;
h<3;h++){var J=this.Wq[h];J.parent=this;J.q(this.uq[h]);this._.appendChild(J._);J.P(j.E.n,this.nE,this)}}eC.prototype=new aJ;
eC.prototype.nE=function(){for(var h=0;h<3;h++)this.uq[h]=this.Wq[h].s();this.a(new dd(j.E.n,!1))};eC.prototype.q=function(J){this.uq=J.slice(0);
for(var h=0;h<3;h++)this.Wq[h].q(J[h])};eC.prototype.s=function(){return this.uq.slice(0)};eC.prototype.d=function(){for(var h=0;
h<3;h++)this.Wq[h].d()};function c5(J,v){aJ.call(this);if(v==null)v=!1;this.ex=[];this.acL=Math.floor(120*B.rR());
this.a4k=Math.floor(23*B.rR());this.lw=0;this.uS=[];this.R2=[];for(var x in g.wL.e){if((x=="warpCustom"||x=="warpCylinder")&&!v)continue;
this.uS.push(x);this.R2.push(g.wL.e[x])}this._=B.l("span","fitem warpbutton");this.bM=new aJ;this.bM._=B.l("div","floatcont");
if(J){this.Qd=J;this.Q$=B.l("label","flabel");this._.appendChild(this.Q$)}this.R=B.l("button");this._.appendChild(this.R);
B._A(this.R,this._o.bind(this));this.DY=new ch(!0);this.bM._.appendChild(this.DY._);this.DY.P(j.E.n,this.acF,this);
B.L(this.bM._,"width:"+Math.floor(8+this.acL/B.rR())+"px;");this.d()}c5.prototype=new aJ;c5.prototype.f_=function(J){this.Q$.textContent=J};
c5.prototype.d=function(){if(this.Qd)this.Q$.innerHTML=ea.get(this.Qd)+":";this.cM()};c5.aIP={};c5.a48=function(J,v,x){var o=ea.get(g.wL.e[J]),R=o+"-"+J+"-"+v+"-"+x,r=c5.aIP[R];
if(r)return r;var l=c5.zJ;if(M==null){var M=B.l("canvas");l=c5.zJ=M.getContext("2d")}var M=l.canvas;
if(M.width!=v||M.height!=x){M.width=v;M.height=x}l.font=Math.floor(13*B.rR())+"px sans-serif";l.lineWidth=1;
l.strokeStyle="#000000";var P=Math.floor(16*B.rR()),S=new jj(0,0,P,P);l.clearRect(0,0,M.width,M.height);
var c=g.wL.wL(J,J=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);g.wL.ag1(c[3],S);var b=g.b.ho(S);
b.Wp.push("M","L","M","L");b.T.push(0,P/2,P,P/2);b.T.push(P/2,0,P/2,P);b=g.b.wM(b);b=g.b.eo(b,P/5);g.ZH.u(c,b.T,S);
g.b.u(b.T,new bC(1,0,0,1,Math.floor(8*B.rR())+.5,Math.floor(3*B.rR())+.5),b.T);l.beginPath();Typr.U.pathToContext({cmds:b.Wp,crds:b.T},l);
l.stroke();l.fillText(o,Math.floor(40*B.rR()),Math.floor(16*B.rR()));r=c5.aIP[R]=M.toDataURL();return r};
c5.prototype._o=function(J){if(B.yn(this.bM._))return;J.stopPropagation();var v=this.acL,x=this.a4k;
for(var h=0;h<this.uS.length;h++)this.ex[h]=c5.a48(this.uS[h],v,x);this.DY.iP(this.ex,null,v,x);var o=this.R.getBoundingClientRect(),R=new dd(j.E.j,!0);
R.data={R:j.m.sO,rq:this.bM,x:o.left,y:o.top+o.height+4};this.a(R)};c5.prototype.acF=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.y2,rq:this.bM};this.a(v);this.lw=J.target.s()[0];this.cM();this.a(new dd(j.E.n))};c5.prototype.cM=function(){var J=this.acL,v=this.a4k;
this.DY.q([this.lw]);this.R.innerHTML="<img src=\""+c5.a48(this.uS[this.lw],J,v)+"\" class=\"gsicon\" />";
B.Ol(this.R.firstChild,J,v)};c5.prototype.s=function(){return this.uS[this.lw]};c5.prototype.q=function(J){this.lw=this.uS.indexOf(J);
this.cM()};function kS(J,v,x){aJ.call(this);if(J==null)J=!1;if(v==null)v=!1;if(x==null)x=!1;this.asa=v;
this.wL=null;this.ta=new c5([12,22],x);this.ta.parent=this;this.ta.P(j.E.n,this.vH,this);this.vp=new dp([22,0],[[22,4,0],[22,4,1]]);
this.vp.P(j.E.n,this.vH,this);var o=J?fL:jL;this.sH=new o([22,1],-100,100,"%");this.Ct=new o("Horizontal Distortion:",-100,100,"%");
this._M=new o("Vertical Distortion:",-100,100,"%");this.sH.parent=this.Ct.parent=this._M.parent=this;
this.sH.P(j.E.n,this.vH,this);this.Ct.P(j.E.n,this.vH,this);this._M.P(j.E.n,this.vH,this)}kS.prototype=new aJ;
kS.prototype.d=function(){this.ta.d();this.vp.d();this.sH.d();var J=this.asa?1:100;this.Ct.f_(ea.get([22,2]).substring(0,J)+":");
this._M.f_(ea.get([22,3]).substring(0,J)+":")};kS.prototype.vH=function(){var J=this.wL,v=this.ta.s(),x=J.warpStyle.v.warpStyle;
if(v=="warpCustom")g.wL.vf(J,g.wL.Um(J));else delete J.customEnvelopeWarp;J.warpStyle.v.warpStyle=this.ta.s();
J.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.vp.s()];var o=this.sH.s();J.warpPerspective.v=this.Ct.s();J.warpPerspectiveOther.v=this._M.s();
if(v=="warpNone"||v=="warpCustom"){o=0;J.warpPerspective.v=0;J.warpPerspectiveOther.v=0}else if(x=="warpNone"||x=="warpCustom"||x=="warpCylinder")o=50;
if(v!="warpCylinder"){J.warpValue={t:"doub",v:o};delete J.warpValues}else{J.warpValues=H.ge.y7([0,100,100,0,.15,.2,1]);
delete J.warpValue}this.a(new dd(j.E.n,!1));this.q(J)};kS.prototype.s=function(J){return g.F(this.wL)};
kS.prototype.q=function(J){this.wL=g.F(J);var v=J.warpStyle.v.warpStyle,x=v=="warpNone"||v=="warpCustom"||v=="warpCylinder";
this.ta.q(v);if(!x){this.vp.q(J.warpRotate.v.Ornt=="Hrzn"?0:1);this.sH.q(J.warpValue.v);this.Ct.q(J.warpPerspective.v);
this._M.q(J.warpPerspectiveOther.v)}var o=[this.vp,this.sH,this.Ct,this._M];for(var h=0;h<o.length;h++)if(x)o[h].UG();
else o[h].fS()};function iW(J,v){aJ.call(this);this.aaS={};this._=B.l("div");this.a59=J;this.nG=null;
this.hG=new aG(0,0);this.T3="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.auL=v;
this.O0=null;this.dU=new B.zR(this._);this.cT("grab");this.W0=B.l("canvas","canv");this._.appendChild(this.W0);
this.zJ=this.W0.getContext("2d",{willReadFrequently:!0});this.apt=null;this.qB=null;this.Ed=0;this.a0t=0;
this.a5f=0;this.awm=0;this.aks=this.aCW.bind(this);this.amM=null;this.U=new a_({r:1,$:1});this.G5=null;
this.U_=null;this.AX=[];this.avD=0;this.tn=0;this.alG=this.y1.bind(this);this.a3U=this._k.bind(this);
this.avH=this.Vg.bind(this);this.a7l=this.zh.bind(this);this.aGN=0;this.ma=null;this.ax1(this.W0);this.aa(this)}iW.prototype=new aJ;
iW.prototype.ahb=function(J){this.aaS=J;this.f7()};iW.NN=function(J){var v=new gw(!0);if(J>=0)v.$F("Space");
if(J>=1){v.$F("ControlLeft");if(J==2)v.$F("AltLeft")}return v};iW.prototype.lb=function(J){var v=this.O0,x=null;
if(J.M(gw.OW)){x="grab";if(J.M(gw.aw)){x="zoom-in";if(J.M(gw.i4))x="zoom-out"}}this.nG=x;if(x)v=x;this.dU.Q4(v,this.T3);
if(J.M(gw.aw)){var o=0;if(J.M(gw.gF))o=1;if(J.M(gw.bE))o=-1;if(o!=0){this.pq(new aG(this.W0.width/2,this.W0.height/2),o==1)}}};
iW.prototype.cT=function(J){this.O0=J;if(this.nG)return;this.dU.Q4(J,this.T3)};iW.prototype.ax1=function(J){B._A(J,this.alG);
B.sl(J);J.addEventListener("wheel",this.a7l,!1)};iW.prototype.aa=function(J){J.P("viewchange",this.aqD,this)};
iW.prototype.aqD=function(J){var v=this.U.NT,x=J.currentTarget.Rj();this.U.NT=x.NT;this.U.V=x.V.Q();
if(v!=x.NT)this.Yj();this.f7()};iW.prototype.Rj=function(){return{NT:this.U.NT,V:this.U.V}};iW.prototype.q=function(J,v,x,o){var R=J[0].P0;
if(this.qB!=null&&this.qB[0].P0.Ym(R)){}else{this.U.qE={r:R.r,$:R.$};this.U.NT=1;this.U.V=new aG(0,0)}this.qB=J;
this.Yj(o);this.QU();this.Ed=0;this.a0t=Date.now();this.a5f=0;this.awm=v==null?0:v;if(x)this.aaS=x;this.aCW(o)};
iW.prototype.zh=function(J){J.preventDefault();if(J.deltaY==0||Date.now()-this.aGN<100)return;var v=B.C2(J);
v.x=B.rR()*v.x;v.y=B.rR()*v.y;this.aGN=Date.now();this.pq(v,J.deltaY<0)};iW.prototype.pq=function(J,v){H.gu.p9(this.U,J,v);
this.aCR()};iW.prototype.te=function(J){var v=this.U,x=this.qB[0].P0;this.U.NT=H.gu.pl(x.r,x.$,v.SU.r,v.SU.$);
if(J)this.U.V=new aG(0,0);this.aCR()};iW.prototype.aCR=function(){this.Yj();this.a(new dd("viewchange"));
this.a(new dd("zoom"))};iW.prototype.Yj=function(J){};iW.prototype.QU=function(){clearTimeout(this.amM)};
iW.prototype.f7=function(J){if(this.qB==null||!B.yn(this.W0)||J&&J.L3())return;var v=this.U,x=this.qB[0].P0,o=v.SU,R=o.r,r=o.$,l=this.apt,K;
if(l==null||l.length!=o.o()*4){l=this.apt=g.C(o.o()*4);console.log("creating image data")}else l.fill(0);
var M=this.qB[this.Ed],P=this.zJ,S=v.Vu(!1),c=S.Q();c.SV();var b=Date.now(),w=J?J:x,U=g.b.ho(w).T;g.b.u(U,c,U);
var F=g.b.jR(U),Y=o.Xt(F),A=new Uint8Array(l.buffer,0,Y.o()*4);v.f6();var G=new Uint8Array(v.Ek.buffer,0,Y.o()*4),n=new Uint8Array(M.data);
if(v.NT==1){var E=x.Q();E.offset(F.x-w.x,F.y-w.y);g.sW(n,E,G,Y)}else g.scale.Ka(n,x,S,G,Y,!1);if(this.auL)K=G;
else{K=A;g.PH(A,Y.r,Y.$,8,w.x,w.y);g.v.Ry("norm",G,Y,A,Y,Y,1)}if(J==null)P.clearRect(0,0,R,r);P.putImageData(new ImageData(new Uint8ClampedArray(K.buffer,0,Y.o()*4),Y.r,Y.$),Y.x,Y.y);
var e=iW.afi(v.NT,"#ffffff");P.putImageData(e,0,v.SU.$-e.height);var $=this.aaS;if($){var N=hq.zu([.1,.5,1,1]),k=hq.zu([1,0,0,1]),V=hq.zu([1,1,1,1]),X=hq.zu([0,0,0,1]),c=v.Vu(!1);
c.SV();P.save();P.setTransform(c.o5,c.c,c.Mz,c.fn,c.zP,c.jD);P.strokeStyle=k;if($.a4B){hq.ed($.a4B,null,P);
P.lineWidth=1/v.NT;P.stroke()}P.strokeStyle=V;if($.a9m){hq.ed($.a9m,null,P);P.lineWidth=1/v.NT;P.stroke();
P.strokeStyle=X;P.setLineDash([4/v.NT,4/v.NT]);P.stroke();P.setLineDash([])}P.strokeStyle=N;P.fillStyle=hq.zu([1,1,1,1]);
if($.xt){hq.ed($.xt,null,P);P.lineWidth=1/v.NT;P.stroke()}if($.f3){hq.U4($.f3,P,v,.5);P.lineWidth=2/v.NT;
P.stroke();P.fill()}if($.$N){P.font=16/v.NT+"px sans-serif";var Q=1/v.NT;for(var h=0;h<$.$N.length;h++){var L=$.$N[h],_=L[0],a=L[1]+6/v.NT,T=L[2];
P.fillStyle="black";P.fillText(T,_-Q,a);P.fillText(T,_+Q,a);P.fillStyle="white";P.fillText(T,_,a)}}P.restore()}P.getImageData(0,0,1,1)};
iW.aDx="";iW.agI=null;iW.afi=function(J,v,x,o){if(x==null){x=0;o=0}var R=x+" \xD7 "+o,r="z"+J+","+v+","+x+","+o;
if(r==iW.aDx)return iW.agI;var l=Math.round(50*B.rR()),M=Math.round(18*B.rR()),P=x==0?0:Math.round((R.length+2)*M*.35),S=B.l("canvas"),c=S.getContext("2d");
S.width=l+P;S.height=M;c.fillStyle="rgba(1,1,1,1)";c.fillRect(0,0,l,M);if(x!=0)c.fillRect(l+2,0,P,M);
c.font=Math.round(11*B.rR())+"px monospace";c.fillStyle=v;var b=J*100;if(b<100)b=b.toFixed(2);else b=Math.round(b);
b=b+"%";var w=c.measureText(b).width;c.fillText(b,(l-w)/2,Math.round(M*.7));if(x!=0){var U=c.measureText(R).width;
c.fillText(R,l+(P-U)/2+1,Math.round(M*.7))}var F=c.getImageData(0,0,l+P,M);iW.aDx=r;iW.agI=F;return F};
iW.prototype.aCW=function(J){var v=this.qB,x=v.length,o=this.Ed,R=this.qB[o],r=(o+1)%x;this.f7(J);var l=Date.now();
if(x!=1&&v[r].P0.Ym(R.P0)){var M=R.gT?parseInt(R.gT.split(",").pop()):30;if(M==0)M=16;if(r==0)this.a5f++;
if(this.awm==0||this.a5f<this.awm)this.amM=setTimeout(this.aks,M)}this.Ed=r;this.a0t=l};iW.prototype.qe=function(J,v){if(J<=0||v<=0)return;
var x=Math.floor(J*B.rR()),o=Math.floor(v*B.rR());this.U.SU=new jj(0,0,x,o);this.W0.width=x;this.W0.height=o;
B.L(this.W0,"width:"+x/B.rR()+"px; height:"+o/B.rR()+"px; display:block;");this.f7()};iW.prototype.fd=function(J){var v=-1,x=this.AX;
for(var h=0;h<x.length;h++)if(x[h].pointerId==J.pointerId)v=h;return v};iW.prototype.y1=function(J){var v=this.fd(J),x=this.AX;
if(v!=-1)x[v]=J;else x.push(J);if(x.length==1){this.ma=J.target;B.W4(window,this.a3U);B.Kb(window,this.avH);
this.G5=B.C2(J,this.W0);this.G5.x*=B.rR();this.G5.y*=B.rR();this.hG=this.G5;this.U_=this.U.V.Q();if(this.a59&&this.ma==this.W0&&!this.nG)this.a(new dd("mousedown"))}else this.avD=this.tn=aG.Aj(B.C2(x[0],this.W0),B.C2(x[1],this.W0))};
iW.prototype._k=function(J){var v=this.fd(J),x=this.AX;if(v!=-1)x[v]=J;var o=this.U,R=this.nG,r=this.qB[this.Ed].P0.Q();
r.r*=o.NT;r.$*=o.NT;var l=B.C2(J,this.W0);l.x*=B.rR();l.y*=B.rR();this.hG=l;if(this.a59&&this.ma==this.W0&&!R)this.a(new dd("mousemove"));
else if(R=="grab"||R==null){if(x.length>1){var M=B.C2(x[0],this.W0),P=B.C2(x[1],this.W0),S=new aG(B.rR()*(M.x+P.x)/2,B.rR()*(M.y+P.y)/2),c=aG.Aj(M,P),b=null;
if(c>this.tn+50){this.tn+=50;b=!0}if(c<this.tn-50){this.tn-=50;b=!1}if(b!=null)this.pq(S,b);return}else{var w=l.x-this.G5.x,U=l.y-this.G5.y;
o.V.x=this.U_.x+Math.round(w);o.V.y=this.U_.y+Math.round(U)}this.a(new dd("viewchange"))}};iW.prototype.Vg=function(J){var v=this.fd(J),x=this.AX;
x.splice(v,1);if(x.length==0){B.SP(window,this.a3U);B.PD(window,this.avH);var o=this.nG;if(J.detail>1){this.U.NT=1;
this.U.V._h(0,0);this.f7()}if(this.a59&&this.ma==this.W0&&!this.nG)this.a(new dd("mouseup"));else{if(o=="zoom-in"||o=="zoom-out")this.pq(this.hG,o=="zoom-in")}}else{var R=this.G5=B.C2(x[0],this.W0);
R.x*=B.rR();R.y*=B.rR()}};iW.prototype._8=function(J){var v=this.hG;if(J){v=B.C2(J,this.W0);v.x*=B.rR();
v.y*=B.rR()}return this.U.hW(v.x,v.y)};function g1(){aJ.call(this);this.OK=null;this.Au=null;this.lN=null;
this.XJ=null;this.aFG="";this.Vw=[];this.Ex=0;this.O_=[];this.f=null;this.l7=0;var J=this._=B.l("div",""),v=this.aIZ=B.l("div","form");
B.L(v,"line-height:0; margin-bottom:0.5em;");J.appendChild(v);var x=this.Qd=B.l("span");v.appendChild(x);
B.L(x,"font-size:1.2em; font-weight:bold; margin-right:3em;");var o=this.aer=new a9([25,2,0]);o.q(!0);
v.appendChild(o._);o.P(j.E.n,this.CL,this);var R=this.aaK=new a9([25,2,1]);R.q(!0);v.appendChild(R._);
R.P(j.E.n,this.CL,this);var r=new aT(" ");v.appendChild(r._);var l=this.aqm=new ir([25,1,1]);v.appendChild(l._);
l.P(j.E.n,this.CL,this);this.Zd=new c1(14);this.Zd.ahT(3);v.appendChild(this.Zd._);this.Zd.parent=this;
this.Zd.P(j.E.n,this.aI0,this);var M=this.ao0=new bj([25,1,2],null,null,!0);v.appendChild(M._);M.P("click",this.Md,this);
var P=new bj("?",null,null,!0);v.appendChild(P._);P.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.aqQ=this.apr.bind(this);this.$f=B.l("div","svggallery scrollable");J.appendChild(this.$f);this.$f.addEventListener("scroll",this.aAn.bind(this))}g1.prototype=new aJ;
g1.prototype.pJ=function(J){this.f=J};g1.prototype.d=function(){this.Qd.textContent=ea.get([25,0]);this.Zd.d();
this.aer.d();this.aaK.d();this.aqm.d();this.ao0.d()};g1.prototype.qe=function(J,v){if(this.OK&&this.OK.x==J&&this.OK.y==v)return;
this.OK=new aG(J,v);B.L(this.aIZ,"width:"+J+"px");var x=this.aIZ.getBoundingClientRect();v-=710<J?30:60;
B.L(this.$f,"width:"+J+"px; height:"+v+"px");if(B.yn(this._))this.CL()};g1.prototype.q=function(J){this.Au=J;
this.CL()};g1.prototype.aAn=function(J){var v=this.$f;if(v.scrollTop+v.clientHeight+10>=v.scrollHeight){this.CL(!0)}};
g1.prototype.aI0=function(J){this.lN=null;this.CL()};g1.prototype.apr=function(J){if(Date.now()-this.l7<2e3)return;
this.l7=Date.now();this.Ex=this.O_.indexOf(J.currentTarget);var v=this.PT(this.Au.x,this.Au.y);if(v[1]){var x=v[1].largeImageURL,o=new XMLHttpRequest;
o.responseType="arraybuffer";o.open("GET",x,!0);o.onload=this.aw7.bind(this);o.send();return}this.a52(v)};
g1.prototype.aw7=function(J){var v=J.target.response,x=d2.e4(v),o=d2.s$(x),R=o.lx(v),r=this.PT(this.Au.x,this.Au.y,[v,R[0].P0.r,R[0].P0.$]);
this.a52(r)};g1.prototype.a52=function(J){var v=J[0],x=d2.e4(v),o=d2.s$(x),R=new d7("template.psd");
o.lx(v,R);var r=new dd("tempready",!0);r.data={qE:R};this.a(r)};g1.prototype.Md=function(J){var v=J.target;
this.Vw=[];this.lN=null;this.CL()};g1.prototype.au8=function(J){var v=JSON.parse(J.target.response),x=this.XJ=v.hits;
for(var h=0;h<x.length;h++)if(x[h].user_id==6314823)x.splice(h,1);this.CL()};g1.prototype.CL=function(J){if(this.Au==null||this.OK==null||this.f==null)return;
if(this.OK.x<=0)return;var v=this.Au.x,x=this.Au.y;if(Math.min(v,x)<50)return;if(J!=!0){this.O_=[];B.wp(this.$f);
this.$f.scrollTop=0}if(this.O_.length>300)return;var o=Math.min(1,300/Math.max(v,x)),R=this.OK.Q();R.x-=20;
var r=Math.max(1,Math.floor(R.x/(v*o))),l=Math.max(1,Math.ceil(R.y/(x*o)));o=R.x/r/v;var M=r*l;if(this.lN==null){var P=this.f.rr.I0(),S=[];
for(var c in P){var b=P[c],w=b[3];if(!this.Zd.JQ(b))continue;if(b[5]==null||b[5].slice(0,2)=="gf")continue;
S.push(b)}if(S.length==0)S.push(P.DejaVuSans);var U=S.length;for(var h=0;h<U*10;h++){var F=Math.floor(Math.random()*U),Y=Math.floor(Math.random()*U),A=S[F];
S[F]=S[Y];S[Y]=A}S=S.slice(0,10);this.lN=S}var G=this.aaK.s(),n=this.aqm.s().trim();this.aqm.Ne(G);if(G&&(this.XJ==null||n!=this.aFG)){var E=new XMLHttpRequest,K="https://pixabay.com/api/?image_type=photo"+(n==""?"":"&q="+encodeURIComponent(n))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(n=="")K="//www.photopea.com/plugins/gallery.json";E.open("GET",K,!0);E.onload=this.au8.bind(this);
E.onerror=function(X){console.log(X.target.response)};E.send();this.aFG=n;return}o*=(v*o-5)/(v*o);var e=this.O_.length;
for(var h=0;h<M;h++){var $=this.Ex=e+h;if(this.Vw[$]==null)this.Vw[$]=Math.floor(Math.random()*4294967295);
var N=this.PT(Math.round(v*o),Math.round(x*o)),k=N[0];k=I.Aq(new Uint8Array(k));var V=B.l("span");V.innerHTML=k;
this.O_.push(V);this.$f.appendChild(V);V.addEventListener("click",this.aqQ,!1)}};g1.prototype.PT=function(J,v,x){var o=this.aaK.s(),R=this.aer.s(),r=o&&this.XJ.length!=0?this.XJ:null;
if(R&&!o)r=null;if(R&&o&&(this.Ex&1)==0)r=null;return hb.yu(J,v,this.Vw[this.Ex],this.lN,x?x:r)};function dZ(){aJ.call(this);
this._=B.l("div");this.DP=null;this.aCf=null;this.auC=-1;this.IJ={JPG:[{E8:new jL([12,52,0],0,100,"%",null,null,!0),me:70},{E8:new a9("attach metadata"),me:!1}],TIFF:[{E8:new a9("attach metadata"),me:!1}],WEBP:[{E8:new jL([12,52,0],0,100,"%",null,null,!0),me:70},{E8:new a9("attach metadata"),me:!1}],GIF:[{E8:new jL([12,52,0],0,100,"%",null,null,!0),me:100},{E8:new a9([12,23,3]),me:!1}],PNG:[{E8:new jL([12,52,0],0,100,"%",null,null,!0),me:100},{E8:new a9("don't use palettes"),me:!1},{E8:new a9("attach metadata"),me:!1}],BMP:[{E8:new a9("don't use palettes"),me:!1}],PDF:[{E8:new ir([12,52,1]),me:""},{E8:new jL([12,52,0],0,100,"%",null,null,!0),me:100},{E8:new a9("reverse pages"),me:!1},{E8:new a9("rasterize all"),me:!1},{E8:new a9("vectorize text"),me:!1},{E8:new jL("Add Margin",0,5,"in",2),me:0},{E8:new a9("add crop marks"),me:!1}],EMF:[{E8:new ir([12,52,1]),me:""},{E8:new jL([12,52,0],0,100,"%",null,null,!0),me:100},{E8:new a9("reverse pages"),me:!1},{E8:new a9("rasterize all"),me:!1},{E8:new a9("vectorize text"),me:!1},{E8:new jL("Add Margin",0,5,"in",2),me:0}],SVG:[{E8:new a9("add raster graphics"),me:!0},{E8:new a9("add hidden layers"),me:!1},{E8:new a9("vectorize text"),me:!1},{E8:new a9("rasterize text"),me:!1},{E8:new a9("minify"),me:!1}],RAW:[{E8:new iF([12,72],["1","3","4"]),me:2},{E8:new iF([12,34],["8 Bits","16 Bits"]),me:0},{E8:new iF("Byte Order",["12-34","34-12"]),me:0}],DDS:[{E8:new dp("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),me:0},{E8:new a9("Add Mipmaps"),me:!0}],MP4:[{E8:new jL([12,52,0],0,100,"%",null,null,!0),me:50}],anim:[{E8:new jL("Speed",10,1e3,"%",null,!0,!0),me:100},{E8:new fL("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),me:0},{E8:new a9("reverse frames"),me:!1},{E8:new a9("boomerang"),me:!1}],slcs:[{E8:new dp([8,11,0],["No Slices","All Slices","User Slices"]),me:1}],artb:[{E8:new a9([1,16,1]),me:!0}],hicc:[{E8:new a9("convert to sRGB"),me:!0}]};
for(var J in this.IJ){var v=this.IJ[J];for(var h=0;h<v.length;h++){v[h].E8.q(v[h].me);v[h].E8.P(j.E.n,this.H8,this)}}}dZ.prototype=new aJ;
dZ.prototype.ah2=function(){this.auC=-1};dZ.prototype.d=function(){for(var J in this.IJ)for(var h=0;
h<this.IJ[J].length;h++)this.IJ[J][h].E8.d()};dZ.prototype.H8=function(){this.CL();this.a(new dd(j.E.n,!1))};
dZ.prototype.CL=function(){var J=this.DP,v=J[0],x=J[1],o=J[2],R=J[3],r=J[4],l=this.IJ[v];if(l==null)l=[];
else l=l.slice(0);if(x)l=l.concat(this.IJ.anim);if(["GIF","PNG","JPG","WEBP"].indexOf(v)!=-1&&o)l=l.concat(this.IJ.slcs);
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(v)!=-1&&R)l=l.concat(this.IJ.artb);if(r)l=l.concat(this.IJ.hicc);
var M=J.join(",");if(M!=this.auC){this.auC=M;B.wp(this._);for(var h=0;h<l.length;h++){if(v=="PDF"&&!R&&(h==0||h==2))continue;
this._.appendChild(l[h].E8._);B.A1(this._)}}var P=this.aCf=[];for(var h=0;h<l.length;h++)P.push(l[h].E8.s())};
dZ.prototype.sk=function(J,v,x,o,R){this.DP=[J,v,x,o,R];this.CL()};dZ.prototype.s=function(){return this.aCf.slice(0)};
dZ.prototype.q=function(J,v){var x=this.DP,o=x[0],R=this.IJ[o],r=Math.min(R.length,J.length);for(var h=0;
h<r;h++)R[h].E8.q(J[h]);this.CL();if(v!=!0)this.H8()};function g0(){aJ.call(this);this._=B.l("span","fitem");
this.av=!1;this.aHT=new bj("No",!1,"Cancel");this.jc=new bj("Yes",!1,"Confirm");this._.appendChild(this.aHT._);
this._.appendChild(this.jc._);this.aHT.P("click",this.o0,this);this.jc.P("click",this.o0,this);this.d()}g0.prototype=new aJ;
g0.prototype.d=function(){this.aHT.f_(B.vr("cross",null,"autoscale"));this.jc.f_(B.vr("checkmark",null,"autoscale"))};
g0.prototype.o0=function(J){this.av=J.target==this.jc;this.a(new dd("click",!1))};g0.prototype.s=function(){return this.av};
function ht(J){aJ.call(this);this._=B.l("span","fitem");this.aHk=new bj("\u25BC",null,"Auto Options",!0);
B._A(this.aHk._,this.a0g.bind(this));this._.appendChild(this.aHk._);this.vi=new bj("Auto",null,null,!0);
this.vi.P("click",this.hK,this);this._.appendChild(this.vi._);this.uv=new bA("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.uv.P(j.E.n,this.hK,this);this.uv.q([!1,!1,!1,!0]);this.bM=new aJ;var v=this.bM._=B.l("div","floatcont form");
B.L(v,"width: 250px;");this.bM.parent=this;v.appendChild(this.uv._);this.a71=[];for(var h=0;h<2;h++){var x=new fL((h==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
x.q(.1);x.P(j.E.n,this.hK,this);this.a71.push(x);v.appendChild(x._)}}ht.prototype=new aJ;ht.prototype.hK=function(J){this.a(new dd(j.E.n,!1))};
ht.prototype.d=function(){};ht.prototype.s=function(){return[this.uv.s().indexOf(!0),this.a71[0].s(),this.a71[1].s()]};
ht.prototype.a0g=function(J){if(B.yn(this.bM._))return;J.stopPropagation();var v=this.aHk._.getBoundingClientRect(),x=new dd(j.E.j,!0);
x.data={R:j.m.sO,rq:this.bM,x:v.left,y:v.top+v.height+4};this.a(x)};function jb(){aJ.call(this);var J=this._=B.l("div","fitem");
this.Zk=new dp([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Zk.P(j.E.n,this.nE,this);J.appendChild(this.Zk._);
this.nK=new hf(!1);this.nK.parent=this;this.nK.VR(16777215);this.nK.P(j.E.n,this.nE,this);J.appendChild(this.nK._)}jb.prototype=new aJ;
jb.prototype.d=function(){this.Zk.d();this.nK.d()};jb.prototype.aj0=function(J){var v=[J.artboardBackgroundType.v-1];
if(J.Clr)v.push(J.Clr.v);this.q(v)};jb.prototype.afz=function(){var J=this.s();return{classID:"artboard",Clr:{t:"Objc",v:J[1]},artboardBackgroundType:{t:"long",v:J[0]+1}}};
jb.prototype.q=function(J){this.Zk.q(J[0]);if(J[1])this.nK.q(J[1])};jb.prototype.s=function(){return[this.Zk.s(),this.nK.s()]};
jb.prototype.nE=function(J){if(J.target==this.nK)this.Zk.q(3);this.a(new dd(j.E.n,!1))};function jv(){aJ.call(this);
var J=this._=B.l("div");B.kY(J);var v=B.l("span");v.textContent="Prompt";J.appendChild(v);B.A1(J);this.b8=new ir(null,null,-1,4);
this.IC=new a6;this.IC.parent=this;this.hk=new bj("Generate",!1,null,!0);this.hk.P("click",this.Rr,this);
this.KS=null;this.ajn=0;J.appendChild(this.b8._);B.A1(J);J.appendChild(this.IC._);J.appendChild(this.hk._);
this.a6V=this.a9d.bind(this);this.alj=this.acl.bind(this);this.kw=B.l("div","scrollable");J.appendChild(this.kw)}jv.prototype=new aJ;
jv.prototype.q=function(J){var v=new Uint8Array(J),x=Date.now(),o=UZIP.adler(v,0,v.length);if(o==this.axc)return;
this.axc=o;var R=new d7;ih.KE(J,R);B.wp(this.kw);this.ajn=R.k.length-2;if(this.KS==this.ajn)this.KS=null;
var x=Date.now();for(var h=R.k.length-2;h>0;h--){var r=R.k[h],v=r.buffer,l=r.S;while(l.o()>500*500){var M=g.WU(v,l);
v=M.r3;l=M.S}var P=d2.IR(v.buffer,l.r,l.$,"png"),S=B.l("div");B.L(S,"width:75px; margin:4px; cursor:pointer; display:inline-block; text-align:center;"+(r.jh()?" box-shadow:0 0 0px 3px #00aaff;":""));
var c=B.l("img");B.L(c,"width:100%; margin-bottom:-18px;");if(r.jh()&&this.KS==null)this.b8.q(r.getName());
c.agf=h;c.setAttribute("src",P);var b=new bj("x",!1,"Delete",!0);B.L(b._,"height:15px; line-height:1em; padding: 0px 4px;");
b._.agf=h;S.appendChild(c);S.appendChild(b._);B.Kb(c,this.a6V);B.Kb(b._,this.alj);this.kw.appendChild(S)}console.log(Date.now()-x)};
jv.prototype.d=function(){this.IC.d()};jv.prototype.a9d=function(J){var v=new dd(j.E.G,!0);v.J=H.wu;
v.data={R:m.U0,K:J.currentTarget.agf,Uq:"switch"};this.a(v)};jv.prototype.acl=function(J){var v=new dd(j.E.G,!0);
v.J=H.wu;v.data={R:m.U0,K:J.currentTarget.agf,Uq:"del"};this.a(v)};jv.prototype.Rr=function(J){var v=this.IC.amC(this.b8.s());
if(v)this.KS=this.ajn+1};function a6(){this.kk=new bj("\u2026",!1,null,!0);this.kk.P("click",this._o,this);
this._=this.kk._;this.bM=new aJ;this.bM.parent=this;var J=this.bM._=B.l("div","floatcont form label6");
J.style.width="270px";var v=this.qR="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.a4x=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var x=this.bW=[new a9("Use default settings"),new dp("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new ir("Neg. prompt",null,13.25),new gu("Guidance",-20,20),new gu("Steps",10,50),new dp("Sampler",v)];
x[0].P(j.E.n,this.d,this);x[0].q(!0);x[1].q(1);x[3].q(6);x[4].q(20);for(var h=0;h<x.length;h++){J.appendChild(x[h]._);
B.A1(J)}}a6.prototype=new aJ;a6.prototype.s=function(){var J=this.bW,v={},x=["model","negative_prompt","guidance","steps","sampler"],o=!J[0].s();
if(o){for(var h=1;h<J.length;h++)v[x[h-1]]=J[h].s();v.model=this.a4x[v.model];v.sampler=this.qR[v.sampler];
v.steps=Math.min(v.steps,50)}return o?null:v};a6.prototype.d=function(){var J=this.bW;for(var h=0;h<J.length;
h++){J[h].d();if(h>0)J[h].Ne(!J[0].s())}};a6.prototype._o=function(J){if(B.yn(this.bM._))return;var v=this.kk._.getBoundingClientRect(),x=new dd(j.E.j,!0);
x.data={R:j.m.sO,rq:this.bM,x:v.left,y:v.top+v.height+4,a3:!0};this.a(x)};a6.prototype.amC=function(J){if(J.length>1e3){alert("Your prompt is too long");
return!1}var v=new dd(j.E.aT,!0);v.data=H.P8.Z9("aiHeal");v.data._g.prmt={t:"TEXT",v:J};v.data._g.Fu=this.s();
this.a(v);return!0};function aX(J){aJ.call(this);this.fX=J;this.axz=0;this.aGv=!1;this.aCo=J?new aX.YO:null;
this._=B.l("div","flexrow storageset");this._.style.background="var(--bg-panel)";this.kv=B.l("div");
this._.appendChild(this.kv);this.Lk=B.l("div");this._.appendChild(this.Lk);this.ah=[];var v=Storage.list.length;
if(J)v=v+1+aX.at.length;var x=this.Ze.bind(this);for(var h=0;h<v;h++){var o=B.l("div");this.ah.push(o);
this.kv.appendChild(o);o.addEventListener("click",x,!1)}this.Ze(null,0)}aX.prototype=new aJ;aX.oW=[];
aX.lU=function(J){aX.oW.push(J);J._t()};aX.Ra=function(){var J=aX.oW;J.pop();J[J.length-1]._t()};aX.prototype._t=function(){this.Ze(null,this.axz)};
aX.prototype.pJ=function(J,v){if(!J.rT&&!this.aGv){var x=this.fX?2:1;for(var h=x;h<this.ah.length;h++)this.kv.removeChild(this.ah[h]);
this.aGv=!0;if(this.fX)this.aCo.pJ(J,v)}if(this.Za)this.Za.pJ(J,v)};aX.prototype.d=function(){if(this.fX)this.aCo.d();
if(this.Za)this.Za.d()};aX.prototype.Ze=function(J,v){var x=this.ah,o;if(v==null)v=x.indexOf(J.currentTarget);
this.axz=v;for(var h=0;h<x.length;h++)B.Nv(x[h],"active");B._H(x[v],"active");if(this.fX)v--;B.wp(this.Lk);
var R=Storage.list.length;if(v==-1)o=this.aCo;else if(v<R)o=Storage.h8(v);else{var r=aX.at[v-R];o=new aX.Nk(r[1]);
f6.event("strg_"+r[0])}this.Za=o;o.parent=this;this.Lk.appendChild(o._);this.qe(this.BK,this.mq);this.d()};
aX.prototype.qe=function(J,v){this.BK=J;this.mq=v;var x=J<850,o=x?50:210,R=Storage.list;if(this.fX)R=[["Home",null,"strg/home"]].concat(R.concat(aX.at));
for(var h=0;h<R.length;h++){var r=this.ah[h],l="padding: 8px "+(x?13:36)+"px; cursor:pointer;";B.L(r,l);
var M=R[h][2],P=R[h].length==6;M=P?M:PIMG[M];r.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+M+"\" /> "+(x?"":R[h][0])}this._.style.width=J+"px";
this._.style.height=v+"px";this.kv.style.width=o+"px";this.kv.style.paddingTop="32px";if(this.Za)this.Za.qe(J-o,v)};
aX.at=[["PeaGames","plugins/games.html","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664]];
for(var h=0;h<aX.at.length;h++)if(aX.at[h][5]*1e3<Date.now()){aX.at.splice(h,1);h--}aX.YO=function(){this.dt=null;
var J=this._=B.l("div");J.style.background="var(--bg-canvas)";var v=this.an=B.l("div");J.appendChild(v);
var x=B.l("style");J.appendChild(x);x.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var h=0;h<2;h++){var o=B.l("div"),x="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";v.appendChild(o);
if(h==0)x+="padding: 12px 0px";if(h==1)x+="position:absolute;  bottom:0;";B.L(o,x);var R=B.l("img");
o.appendChild(R);R.setAttribute("src",PIMG[h==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);if(h==0)this.aeU=R;
else this.anT=R;if(h==0)this.ak9=o;else this.a0o=o}this.ah=[];x="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var r=this.VU.bind(this),l=B.l("div");v.appendChild(l);B.L(l,"width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var h=0;h<4;h++){var M=B.l("span","bhover");this.ah.push(M);B.L(M,x+"cursor:pointer; padding:12px;");
M.addEventListener("click",r,!1);l.appendChild(M)}B.A1(v);var o=B.l("div");B.L(o,x+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
o.textContent="Drop any files here";v.appendChild(o);var P=new Date().getDate(),S=new Date().getMonth();
if(S==11&&P>20||S==0&&P<10){this.W0=B.l("canvas");B.L(this.W0,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.zJ=this.W0.getContext("2d");this.a8R=g.C(4);J.appendChild(this.W0);var c=Math.random()<.5,b={z:255,H:255,c:255};
if(!c){b=g.Pu(Math.random(),Math.random()*.7,1);b.z*=255;b.H*=255;b.c*=255}this.pC=[Math.round(1048575*Math.random()),c?.05:.02,Math.round(4+Math.random()*8),1,c?3:15,b,0,!0,c,c?1:.2,3];
this.ahy=c?.1:.2;this.xi=this.o3.bind(this);window.requestAnimationFrame(this.xi)}};aX.YO.prototype=new aJ;
aX.YO.prototype.o3=function(){window.requestAnimationFrame(this.xi);if(!B.yn(this._))return;var J=this.a8R,v=this.W0,x=this.zJ,o=v.width,R=v.height;
this.pC[6]=Date.now()*.001*this.ahy;g.V5.T5(J,o,R,this.pC,!0);x.putImageData(new ImageData(new Uint8ClampedArray(J.buffer),o,R),0,0)};
aX.YO.prototype.VU=function(J){var h=this.ah.indexOf(J.currentTarget),v=new dd(j.E.j,!0);if(h==0)v.data={R:j.m.wz,kA:"newproject"};
if(h==1)v.data={R:j.m.hC};if(h==2)v.data={R:j.m.wz,kA:"res0"};if(h==3)v.data={R:j.m.r6};this.a(v)};aX.YO.prototype.d=function(){var J=this.ah,v=[[11,7],[1,6],[25,0],[0,17,6]],x=["\u2605","\uD83E\uDC7F","\u25A3"],x=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var h=0;h<J.length;h++)J[h].innerHTML="<span style=\"vertical-align:middle\">"+B.vr(x[h],null,"autoscale")+"</span>\u2000"+ea.get(v[h]);
var o="l"+"o"+"g"+"o",R=o+"_"+["pp","vp"][du],r=new Date;if(r.getMonth()==3&&r.getDate()==1)R="lo"+"go_cuc"+"umber";
if(PIMG[o])R=o;this.aeU.setAttribute("src",PIMG[R]);this.anT.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
aX.YO.prototype.qe=function(J,v){var x=Math.min(v*1.5,Math.min(J,600)),o=this.W0;if(o){B.QH(o,J,x*.26);
this.a8R=g.C(o.width*o.height*4)}this._.style.width=J+"px";this._.style.height=v+"px";this.a0o.style.width=J+"px";
this.an.style.marginLeft=Math.max(0,Math.round((J+200-600)/2)-200)+"px";this.aeU.style.width=x+"px";
this.anT.style.width=x+"px"};aX.YO.prototype.pJ=function(J,v){var x=J;if(J==null)J=this.f;this.f=J;if(!J.rT&&this.ah[2].parent){this.an.removeChild(this.ah[2]);
this.an.removeChild(this.ah[3])}this.ah[3].style.display=J.Op?"inline-block":"none";if(x)this.dt=setTimeout(this.pJ.bind(this),100)};
aX.Nk=function(J){var v=this._=B.l("iframe");v.style.background="var(--bg-canvas)";v.setAttribute("src",J)};
aX.Nk.prototype=new aJ;aX.Nk.prototype.qe=function(J,v){var x=this._;x.style.width=J+"px";x.style.height=v+"px"};
aX.Nk.prototype.pJ=function(){};function Storage(J){aJ.call(this);var v=this._=B.l("div","storage");
B.Mb(v);v.addEventListener("drop",this.auo.bind(this),!1);var x=this.a7a=B.l("style");v.appendChild(x);
v.setAttribute("tabindex","0");v.style.outline="none";v.addEventListener("keydown",this.agd.bind(this),!1);
this.xE=this.aa$.bind(this);this.jm=0;this.KS=0;var o=B.l("div");v.appendChild(o);var R=this.acg.bind(this);
this.pQ=B.l("div","bar");o.appendChild(this.pQ);this.x$=B.l("div","fls scrollable");o.appendChild(this.x$);
this.yj=B.l("div");o.appendChild(this.yj);B.L(this.yj,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.cA=B.l("div","bar");this.cA.textContent="Name: ";var r=this.WO=B.l("input");r.setAttribute("type","text");
this.cA.appendChild(r);var l=this.hj=B.l("div","btn");l.textContent="Save";this.cA.appendChild(l);B.Kb(l,R);
B._A(this.x$,this.xE);this.ax2=0;this.ig=J;var M=this.a9N.bind(this),P=this.apE=B.l("div");B.L(P,"text-align:center; font-size:1.6em");
var S=B.l("img");P.appendChild(S);B.A1(P);S.setAttribute("src",PIMG[Storage.list[this.ig][2]]);B.L(S,"opacity:0.5;  width:25%; cursor:pointer;");
B.Kb(S,M);this.ae9=B.l("div","btn");P.appendChild(this.ae9);B.Kb(this.ae9,M);this.Ig=new kM([{name:[6,20]},{name:[5,2],ro:[gw.aw,gw.g3],i:function(){return{i:Storage.qV!=null}}}]);
this.Ig.parent=this;this.Ig.P("select",this.Vp,this);this.x$.addEventListener("contextmenu",this.xE);
this.ark=B.l("span");this.bx=B.l("span");B.L(this.bx,"position:absolute; right:0; top:5px;");this.o6=[];
this.$l=[];for(var h=0;h<3;h++){var c=B.l("div","btn");this.o6.push(c);this.ark.appendChild(c);B.Kb(c,R);
c.innerHTML=Storage.aiA[[3,1,0][h]]}for(var h=0;h<5;h++){if(h==0){var b=B.l("span");b.textContent="Sort by:";
this.bx.appendChild(b)}var c=B.l("div","btn");this.$l.push(c);this.bx.appendChild(c);B.Kb(c,R)}window.addEventListener("message",this.acc.bind(this),!1);
this.a1A=!1;this.qT=0;setInterval(this.a5r.bind(this),300);this.RQ();var w=this.aF3=document.createElement("input");
w.setAttribute("type","file");w.addEventListener("change",this.auo.bind(this),!1);document.body.appendChild(w);
B.L(w,"display:none");w.setAttribute("multiple","")}Storage.prototype=new aJ;Storage.fa=!1;(function(){Storage.aiA=[];
var J="<svg viewBox=\"0 0 14 14\" width=\"10\" height=\"10\" fill=\"black\"><path transform=\"translate(7 7) rotate(",v=") translate(-7 -7)\" d=\"m4 4m-4 2h11l-5-5 2-1 7 7-7 7-2-1 5-5h-11\" /></svg>";
for(var h=0;h<4;h++)Storage.aiA.push(J+[-90,0,90,180][h]+v)}());Storage.prototype.auo=function(J){J.stopPropagation();
J.preventDefault();var v=J.dataTransfer?J.dataTransfer.files:J.target.files;this.aqy=v.length;Storage.qV={};
for(var h=0;h<v.length;h++){var x=v[h],o=new FileReader;o.h4=x;o.onload=this.avU.bind(this);o.readAsArrayBuffer(x)}};
Storage.prototype.avU=function(J){var v=Storage.qV;v[J.target.h4.name]=J.target.result;this.aqy--;if(this.aqy==0)this.DZ()};
Storage.prototype.pJ=function(J,v){var x=Storage.list[this.ig][3],o=f6.sr();if(x){if(this.qT==1&&B.yn(this._)&&o!=null){this.RQ()}if(this.qT==2&&o==null){this.ka("forget","")}}};
Storage.prototype.a5r=function(){var J=B.yn(this._),v=this.a1A;if(J&&!v){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!J&&v){window.onpopstate=function(){};history.go(-1)}this.a1A=J};
Storage.prototype.RQ=function(){if(this.ZZ)document.body.removeChild(this.ZZ);this.dJ=[[]];this.JF=0;
this.ap5={"/":[]};this.azW="";this.tr=null;this.Wq=[];this.akc=[];this.a2F=[];this.aB5=null;var J=Storage.list[this.ig][1],v=f6.mP("code/storages/"+Storage.list[this.ig][1]);
if(du==1&&this.ig==0)v=J;var x=this.ZZ=B.l("iframe");x.setAttribute("src",v);B.L(x,"display:none");document.body.appendChild(x)};
Storage.prototype.Yg=function(){return this.ap5[this.dc()]};Storage.prototype.Jl=function(J){this.ap5[this.dc()]=J};
Storage.h8=function(h){var J=Storage.Qs[h];if(J==null)J=Storage.Qs[h]=new Storage(h);return J};Storage.Qs=[];
Storage.I4=0;Storage.awl="";Storage.kO=function(J,v){Storage.I4=J;Storage.awl=v;var x=Storage.Qs;for(var h=0;
h<x.length;h++)if(x[h])x[h]._t()};Storage.aC2=[500*(1<<20),5e3*(1<<20)];Storage.lD=0;Storage.Pk=2;Storage.zq=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.azl=function(J){for(var h=0;h<Storage.Qs.length;h++){if(Storage.Qs[h]&&Storage.Qs[h].ZZ.contentWindow==J)return!0}return!1};
Storage.prototype.agd=function(J){if(J.target.tagName=="INPUT")return;var v=gw;if(v.oq(J.code,v.Fp)&&this.dc().length!=0)this.aqA();
else if(J.ctrlKey){if(v.oq(J.code,v.m)){var x=[];this.Jl(x);for(var h=0;h<this.tr.length;h++)x.push(h);
this.Kx()}if(v.oq(J.code,v.wC))this.OT(2);if(v.oq(J.code,v.g3))this.DZ()}else if(v.oq(J.code,v.O9)){var o=this.Yg();
if(o.length!=0)this.aAw(o)}else if(v.oq(J.code,v.hP)){this.JF=Math.max(this.JF-1,0);this.PM()}else{var R=0;
for(var h=65;h<=90;h++)if(J.code=="Key"+String.fromCharCode(h))R=h;if(R!=0){var r=String.fromCharCode(R).toLowerCase(),l=[],M=this.tr,P;
for(var h=0;h<M.length;h++)if(M[h][0][0].toLowerCase()==r)l.push(h);if(l.length==0)return;var o=this.Yg();
if(o.length==0)P=l[0];else{var S=l.indexOf(o[0]);if(S==-1){P=l[0];for(var h=0;h<l.length;h++)if(l[h]>o[0]){P=l[h];
break}}else P=l[(S+1)%l.length]}this.Jl([P]);this.Kx(!0)}}};Storage.prototype.qe=function(J,v){this.BK=J;
this.mq=v;this._.style.width=J+"px";this._.style.height=v+"px";var x=J-30,o=Math.floor(x/230),x=Math.floor(x/o)-70;
this.a7a.textContent=".storage .tile .name {  width:"+x+"px;  }";this.WO.style.width=J-140+"px";this.x$.style.width=this.pQ.style.width=J-20+"px";
this.x$.style.height=v-70-(Storage.I4==0?0:45)+"px"};Storage.prototype.a9N=function(){this.PM()};Storage.prototype.PM=function(){var J=this.ig,v="____strg"+J;
if(window[v]==null){f6.event("strg_"+Storage.list[J][0]);window[v]=!0}this.KS=1;this.ka("show",this.dc())};
Storage.prototype.dc=function(J){var v=this.dJ[this.JF],x="/"+v.join("/");if(J&&v.length!=0)x+="/";return x};
Storage.prototype.acg=function(J){var v=J.currentTarget,x=this.JF,o=this.o6.indexOf(v),R=this.$l.indexOf(v);
if(o>=0&&!this.aH3(o))return;if(o==0){this.JF=Math.max(x-1,0);this.PM()}if(o==1){this.JF=Math.min(x+1,this.dJ.length-1);
this.PM()}if(o==2){var r=this.dJ[x+1]=this.dJ[x].slice(0);r.pop();this.JF++;this.dJ=this.dJ.slice(0,this.JF+1);
this.PM()}if(R==0){Storage.Pk=(Storage.Pk+1)%3;this._t()}if(R==1){Storage.zq=(Storage.zq+1)%2;this._t()}if(R==2){Storage.lD=(Storage.lD+1)%3;
this._t()}if(R==3){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.aF3.dispatchEvent(l)}if(R==4){this.ka("forget","")}if(v==this.hj){var M=this.WO.value.trim(),P=this.tr,S=-1,c=["psd","ai"][du];
if(!M.toLowerCase().endsWith(c)){alert("File Name has to end with \"."+c+"\".");return}for(var h=0;h<P.length;
h++)if(P[h][0]==M)S=h;if(S!=-1){this.PJ("Do you really want to replace \""+M+"\"?",this.a5k.bind(this))}else this.a5k()}};
Storage.prototype.a5k=function(){var J=this.WO.value.trim(),v=[this.ig,this.dc(!0)+J];this.pF({R:j.m.aCi,xb:v});
this.a(new dd("canclose",!0))};Storage.prototype.DZ=function(){if(Storage.qV==null)return;this.pF({R:j.m.A9,oy:ea.get("Uploading ...")});
this.jm=4;fV.h8(2,this.ZZ,[this.dc(),Storage.qV,this.tr],null,this.aig.bind(this))};Storage.prototype.aig=function(J){this.jm=0;
this.pF({R:j.m.fz,oy:ea.get("Uploading ...")});this.PM()};Storage.prototype.Vp=function(J){var v=J.target.hA();
if(J.target==this.Ig){if(v[0]==0){var x=[ea.get([6,20]),-1,0];this.tr.push(x);this._t();var h=this.tr.indexOf(x),o=this.Wq[h].querySelector(".name");
console.log(o);var R=new gB.kB(o,function(b){this.pF({R:j.m.A9,oy:ea.get([1,2])+" ..."});var w=this.dc(!0)+b+"/";
console.log(w);this.ka("save",w)}.bind(this),!0)}else this.DZ()}else{if(v[0]==0){this.OT(2)}else if(v[0]==1){var h=this.Yg()[0],r=this.tr[h],o=this.Wq[h].querySelector(".name");
console.log(o);o.innerHTML=r[0];var R=new gB.kB(o,function(b){b=b.trim();if(b.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this._t();return}var w=this.tr;for(var h=0;h<w.length;h++)if(w[h][0]==b){alert("Item with such name already exists.");
this._t();return}var U=this.dc(!0)+r[0]+":"+b;console.log(U);this.ka("rename",U)}.bind(this))}else if(v[0]==2){this.OT(3)}else if(v[0]==3)this.aqA();
else if(v[0]==4){this.OT(1)}else{var l=this.tr[this.Yg()[0]],M=Storage.sB(l),P=M[v[1]],S=P[0],c=this.eY().pop()[1];
if(Storage.a40(l,S)!=-1){this.ka("share",c+":"+S+":-1");alert("Unshared.")}else{this.ka("share",c+":"+S+":"+v[2]);
alert("Shared.")}}}};Storage.a40=function(J,v){var x=J[4];if(x==null)return-1;if(x.indexOf(v+":0")!=-1)return 0;
if(x.indexOf(v+":1")!=-1)return 1;return-1};Storage.prototype.aqA=function(){var J=this.Yg();this.PJ("Do you really want to delete "+(J.length==1?"\""+this.tr[J[0]][0]+"\"":"these files")+"?",this.F0.bind(this))};
Storage.prototype.PJ=function(J,v){var x={R:j.m.wz,kA:"confirm",K:J,MX:v};this.pF(x)};Storage.prototype.OT=function(J){this.jm=J;
if(1<J)this.pF({R:j.m.A9,oy:ea.get("Downloading ...")});else this.pF({R:j.m.A9,oy:ea.get("Getting info ...")});
fV.h8(0,this.ZZ,this.dc(),this.eY(!0),this.ahV.bind(this))};Storage.prototype.ahV=function(J){if(this.jm==1){var v=0,x=0;
for(var o in J){var R=J[o];v+=R[1];x++}this.PJ(x+" files, "+eF.Ux(v)+" in total.",function(){});this.pF({R:j.m.fz,oy:ea.get("Getting info ...")});
this.jm=0}if(1<this.jm)fV.h8(1,this.ZZ,J,null,this.aJd.bind(this))};Storage.prototype.aJd=function(J){if(1<this.jm){if(1<this.jm)this.pF({R:j.m.fz,oy:ea.get("Downloading ...")});
var v={},x=this.dc(!0);for(var o in J)v[o.slice(x.length)]=J[o];if(this.jm==2){Storage.qV=v;alert("Copied to a clipboard")}if(this.jm==3){var R=Object.keys(J);
if(R.length==1)aB.save(J[R[0]].buffer,R[0].split("/").pop());else aB.save(UZIP.encode(v),x=="/"?"files.zip":this.dc().split("/").pop()+".zip")}}this.jm=0};
Storage.qV=null;Storage.prototype.F0=function(){this.pF({R:j.m.A9,oy:ea.get([5,4])+" ..."});this.akc=this.eY();
this.Rg()};Storage.prototype.Rg=function(){if(this.akc.length==0){this.pF({R:j.m.fz,oy:ea.get([5,4])+" ..."});
this.Jl([]);this.PM()}else this.ka("delete",this.akc.pop()[1])};Storage.prototype.eY=function(J){var v=[],x=this.dc(!0),o=this.Yg();
for(var h=0;h<o.length;h++){var R=this.tr[o[h]];if(J)v.push(R[0]);else v.push([this.ig,x+R[0]])}return v};
Storage.prototype.ka=function(J,v){B._H(this._,"disabled");this.azW=J;if(Storage.fa)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+J+"\", \"prm\": "+JSON.stringify(v)+"  }");
this.ZZ.contentWindow.postMessage("{\"code\": \""+J+"\", \"prm\": "+JSON.stringify(v)+"  }","*")};Storage.prototype.acc=function(J){if(J.source!=this.ZZ.contentWindow||this.jm!=0)return;
B.Nv(this._,"disabled");if(typeof J.data=="string"){if(Storage.fa)console.log("==",Math.floor(Date.now()/1e3),J.data);
var v=JSON.parse(J.data),x=v.code,o=v.prm,R=this.azW,r=Storage.list[this.ig][3];if(x=="ready"){if(r&&!o){var l=f6.sr();
console.log(l);var M=f6.yf(),P=M.acc;if(l==null){this.qT=1;alert("Log in to use this storage (press Account at the top).");
this.fJ();return}var S=[],c=l.wantToJoin;for(var b in c)S.push(parseInt(b.slice(1)));var w=[],U=l.inTeams;
for(var h=0;h<U.length;h++)w.push(U[h][2]);var F={uid:l.id,limit:Storage.aC2[f6.hV()?1:0],inTeams:w,myTeams:S};
F.secret=P&&P.pds?P.pds:"";this.ka("login",F);return}if(r)this.qT=2;if(r&&v.secret){var M=f6.yf(),P=M.acc;
if(P==null)P=M.acc={};P.pds=v.secret;f6.QD(M)}if(o)this.PM();else this.fJ()}else if(x!="0"){if(R=="save")this.pF({R:j.m.fz,oy:ea.get([1,2])+" ..."});
if(R=="delete")this.Rg();alert(o);this._t()}else if(R=="show"){this.KS=0;this.tr=o;this._t()}else if(R=="save"){this.KS=0;
this.pF({R:j.m.fz,oy:ea.get([1,2])+" ..."});this.PM()}else if(R=="delete"){this.Rg()}else if(R=="forget"){if(r)this.fJ();
else this.RQ()}else if(R=="rename"||R=="share"){this.PM()}else throw x}else{if(Storage.fa)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.pF({R:j.m.amd,xb:this.eY()[this.aL],u8:J.data});this.amV()}};Storage.prototype.fJ=function(){B.wp(this.pQ);
B.wp(this.x$);B.wp(this.yj);this.x$.appendChild(this.apE)};Storage.prototype.aH3=function(h){if(h==0)return this.JF>0;
if(h==1)return this.JF<this.dJ.length-1;if(h==2)return this.dc()!="/"};Storage.aka=function(J){J=J+"";
return J.length==1?"0"+J:J};Storage.aEJ=function(J){var v=new Date(J),x=Storage.aka,o=x(v.getDate())+"."+x(v.getMonth()+1)+"."+v.getFullYear();
if(v.toLocaleDateString().indexOf("/")!=-1)o=x(v.getMonth()+1)+"/"+x(v.getDate())+"/"+v.getFullYear();
var R=x(v.getHours())+":"+x(v.getMinutes());return o+" "+R};Storage.colSpan=function(J){var v=B.l("span");
v.style.opacity="0.8";v.style.display="inline-block";v.style.width="120px";v.textContent=J;return v};
Storage.prototype._t=function(){var J=Storage.list[this.ig][3],v=this.tr,x=Storage.Pk,o=Storage.zq,R=Storage.lD;
if(v==null)return;v.sort(function(a,T){var f=a[1]==-1?1:5,Z=T[1]==-1?1:5,W=0;if(Math.min(f,Z)==1&&f!=Z)return f-Z;
else if(f==1||x==0)W=a[0].toLowerCase()<T[0].toLowerCase()?-1:1;else if(x==1)W=a[1]-T[1];else if(x==2)W=a[2]-T[2];
if(o==1)W=-W;if(a[0]=="Shared")W=-1;if(T[0]=="Shared")W=1;return W});var r=this.x$,l=this.pQ,M=this.dJ[this.JF];
B.wp(r);B.wp(l);this.Wq=[];for(var h=0;h<3;h++)if(this.aH3(h))B.Nv(this.o6[h],"disabled");else B._H(this.o6[h],"disabled");
l.appendChild(this.ark);l.appendChild(this.bx);var P=B.l("span");P.textContent="/";l.appendChild(P);
for(var h=0;h<M.length;h++){var P=B.l("span");P.textContent=M[h];l.appendChild(P);var P=B.l("span");
P.textContent="/";l.appendChild(P)}var S=["tile","icon","litm"][R];for(var h=0;h<v.length;h++){var c=v[h],b=c[1]==-1,w=b?"":eF.Ux(c[1]),U=B.l("div","cont "+S),k=!1;
r.appendChild(U);this.Wq.push(U);var F=b?"":Storage.aEJ(c[2]*1e3);U.setAttribute("title",c[0]+(b?"":"\nSize: "+w+"\nDate Modified: "+F));
var Y=B.l("img");Y.setAttribute("src",b?Storage.a3q:c[3]?c[3]:Storage.h4);if(!b&&c[3])B.L(Y,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var A=B.l("span","name"),G=c[0];if(S=="icon"&&G.length>30)G=G.slice(0,24)+".."+G.slice(G.length-5);if(J&&M.length==1&&M[0]=="Shared"){var n=Storage.sB(),E=parseInt(G.slice(5));
for(var K=0;K<n.length;K++)if(n[K][0]==E)G=n[K][1]}A.textContent=G;U.appendChild(Y);U.appendChild(A);
if(S!="icon"&&!b){if(S=="litm")U.appendChild(Storage.colSpan(F));if(S=="tile")B.A1(A);var e=Storage.colSpan(w);
if(S=="litm")e.style["text-align"]="right";(S=="tile"?A:U).appendChild(e)}var $=c[0].split("."),N=($.length==1?"":$.pop()).toUpperCase();
if(J&&c[0]=="Shared"&&M.length==0){k=!0;N="\u21E7"}if(S!="litm"&&(!b&&c[3]==null||k)){var V=B.l("span","ext");
V.textContent=N;var X=Storage.Pa[N];V.style.backgroundColor=X?X:Storage.atY(N);U.appendChild(V)}B._A(U,this.xE);
U.addEventListener("contextmenu",this.xE)}this.Kx();var Q=this.cA.parentNode!=null,L=Storage.I4,_=this._;
if(Q&&L==0)_.removeChild(this.cA);if(!Q&&L==1)_.appendChild(this.cA);this.qe(this.BK,this.mq);this.d()};
Storage.prototype.Kx=function(J){var v=this.Wq,x=this.tr,o=this.Yg(),R=!1,r=0;for(var h=0;h<v.length;
h++){var l=x[h],M=l[1]==-1,P=v[h];if(Storage.I4==1&&!M&&!l[0].toLowerCase().endsWith(".psd"))P.style.display="none";
else P.style.display="auto";if(o.indexOf(h)==-1)B.Nv(P,"active");else{if(M)R=!0;else r+=l[1];B._H(P,"active");
if(J)P.scrollIntoView({block:"center",behavior:"smooth"})}}var S=R?"":eF.Ux(r);this.yj.textContent=o.length==0?"":o.length+" item"+(o.length==1?"":"s")+" selected\u2001"+S;
this.WO.value=o.length==1&&!R?x[o[0]][0]:Storage.awl};Storage.prototype.aAw=function(J){var v=J[0],x=this.tr[v];
if(x[1]==-1){var o=this.dJ[this.JF].slice(0);o.push(x[0]);this.JF++;this.dJ[this.JF]=o;this.dJ=this.dJ.slice(0,this.JF+1);
this.Jl([]);this.PM()}else if(Storage.I4==0){this.amV(J)}};Storage.prototype.amV=function(J){if(J){this.pF({R:j.m.A9,oy:"Opening ..."});
this.a(new dd("canclose",!0));this.ay_=J.slice(0);this.aL=0}else this.aL++;if(this.ay_.length==this.aL){this.pF({R:j.m.fz,oy:"Opening ..."})}else{var v=this.ay_[this.aL],x=this.tr[v],o=this.dc(!0)+x[0];
this.ka("load",o)}};Storage.prototype.d=function(){var J=Storage.Pk,v=Storage.zq,x=Storage.lD;this.$l[0].textContent=ea.get([[12,48],[12,14,0],"Date"][J]);
this.$l[1].innerHTML=Storage.aiA[[2,0][v]];this.$l[2].textContent=ea.get(["Tiles","Icons",[25,3,1]][x]);
this.$l[3].textContent="Upload";this.$l[4].textContent="\u2716";this.ae9.innerHTML=ea.get([[23,6],Storage.list[this.ig][0]])+"<br/><small><small>"+Storage.list[this.ig][4]+"</small></small>";
this.pJ()};Storage.prototype.aa$=function(J){this.pF({R:j.m.jN});if(B.yn(this.apE))return;if(J.button==3||J.button==4){if(Date.now()-this.aHZ>50){var v=this.JF;
if(J.button==3)this.JF=Math.max(v-1,0);else this.JF=Math.min(v+1,this.dJ.length-1);this.PM()}this.aHZ=Date.now();
return}J.stopPropagation();var h=this.Wq.indexOf(J.currentTarget);if(J.type=="contextmenu"){if(this.tr==null)return;
J.preventDefault();var x=this.Ig;if(h!=-1){var o=[{name:[5,1],ro:[gw.aw,gw.wC]},{name:[6,37]},{name:"Download",vy:!0},{name:[5,4],ro:[gw.Fp]},{name:[9,2]}];
if(Storage.list[this.ig][3]){var R=this.tr[h],r=Storage.sB(R);if(r.length!=0){var l=[];for(var M=0;M<r.length;
M++){var P=[],S=r[M],c=Storage.a40(R,S[0]);if(c!=-1)P.push({name:"Unshare"});else P.push({name:"Allow Read"},{name:"Allow Read & Write"});
l.push({name:S[1]+[""," (R)"," (R,W)"][c+1],sub:P})}o.push({name:"Share With",sub:l})}}x=new kM(o);x.parent=this;
x.P("select",this.Vp,this)}x.parent=this;x.d();x.update();this.pF({R:j.m.sO,rq:x,x:J.clientX+4,y:J.clientY});
return}var b=this.Yg(),w=b.indexOf(h);if(J.button!=0&&w!=-1)return;if(J.target==this.x$)this.Jl([]);
else{if(J.ctrlKey){if(w==-1)b.push(h);else b.splice(w,1)}else if(J.shiftKey&&b.length!=0){var M=b[0];
if(M<h){var U=h;h=M;M=U}b=[];this.Jl(b);for(var F=h;F<=M;F++)b.push(F)}else{this.Jl([h]);if(Date.now()-this.ax2<300&&b.length!=0&&b[0]==h){this.aAw([h]);
this.ax2=0}}}this.ax2=Date.now();this.Kx()};Storage.prototype.pF=function(J){var v=new dd(j.E.j,!0);
v.data=J;this.a(v)};Storage.sB=function(J){var v=[],x=[],o=f6.yf(),R=o.acc.tstart;if(R)for(var h=0;h<R.length;
h++){v.push([R[h][2],R[h][0]]);x.push(R[h][2])}var r=f6.sr();R=r.inTeams;if(R)for(var h=0;h<R.length;
h++){v.push([R[h][2],R[h][0]]);x.push(R[h][2])}if(J&&J[4]){for(var h=0;h<J[4].length;h++){var l=parseInt(J[4][h].split(":")[0]);
if(x.indexOf(l)==-1)v.push([l,"Team "+l])}}return v};Storage.prototype.alK=function(J,v){if(this.KS!=0)return 1;
this.KS=2;this.pF({R:j.m.A9,oy:ea.get([1,2])+" ..."});this.ka("save",J);if(Storage.fa)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.ZZ.contentWindow.postMessage(v,"*")};Storage.Pa={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.atY=function(J){J=J.toLowerCase();
var v=0;for(var h=0;h<J.length;h++)v+=J.charCodeAt(h)*613<<8*h;return"#"+g.q2(v&16777215)};Storage.a3q="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.h4="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var fV=function(){var J,v,x,o,R,r,l,M;function P(U,F,Y,A,G){v=F;o=A;l=G;J=U;r={};if(J==0){x=[Y]}if(J==1){x=[];
for(var n in Y)x.push(n)}if(J==2){var E=Y[0],K=Y[1],e=Y[2],$={};for(var h=0;h<e.length;h++)$[e[h][0]]=!0;
var N={};for(var n in K){var k=n.split("/"),V=k[0],X=V.split("."),Q="";if(X.length!=1){Q="."+X.pop();
V=X.join(".")}while($[V+Q])V+=" - Copy";k[0]=V+Q;N[k.join("/")]=K[n]}var L={};x=[];for(var n in N){var k=n.split("/");
for(var h=0;h<k.length-1;h++){var _=E+k.slice(0,h+1).join("/")+"/";if(L[_]==null){L[_]=!0;x.push([_])}}var a=E.endsWith("/")||n.startsWith("/")?"":"/";
x.push([E+a+n,N[n]])}}window.addEventListener("message",c,!1);M=Date.now();S()}function S(){if(x.length==0){w();
return}R=x.shift();if(J==0)b("show",R);if(J==1)b("load",R);if(J==2){b("save",R[0]);if(R.length==2)v.contentWindow.postMessage(R[1],"*")}}function c(U){if(U.source!=v.contentWindow)return;
if(J==0){var F=JSON.parse(U.data),Y=F.code,A=F.prm;for(var h=0;h<A.length;h++){var G=A[h];if(o&&o.indexOf(G[0])==-1)continue;
var n=R+(R=="/"?"":"/"),E=n+G[0];if(G[1]==-1)x.push(E);else r[E]=G}o=null}else if(J==1){r[R]=new Uint8Array(U.data)}S()}function b(U,F){var Y=U=="show"?", \"nothumbs\": true":"",A="{\"code\": \""+U+"\", \"prm\": "+JSON.stringify(F)+Y+"  }";
v.contentWindow.postMessage(A,"*")}function w(){console.log(Date.now()-M);window.removeEventListener("message",c,!1);
l(r)}return{h8:P}}();function hP(J){aJ.call(this);var v=this._=B.l("div","form scrollable padded label12");
this.ny=J;this.CB=null;var x=[],o=hP.zm[J];this.ahJ=[];for(var R in o){var r=parseInt(R.slice(1)),l=r%10==0?"":"\u2800\u2800- ";
x.push(l+o[R]);this.ahJ.push(r)}this.b0=[new ir("Name",null,30),new ir("Description",null,30,4),J==0?new ir("File"," www.Photopea.com#i...",17):new a0("File",!1,!1),new ir("Thumbnail URL","* Use Imgur.com etc.",17),new dp("Category",x),new a9("Make Public"),new bj("<< Back",null,null,!0),new bj("Save",null,null,!0)];
if(J==0)this.b0.push(new aT("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new aT("Get a Thumbnail URL: File - Publish Online - JPG."),new aT("Write a proper description, so that your work can be found using text search."));
if(J==1)this.b0.push(new aT("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(J!=0)this.b0.push(new aT("Do not load any file to preserve the old version."));for(var h=0;h<this.b0.length;
h++){var M=this.b0[h];v.appendChild(M._);M.parent=this;if(h!=4&&h!=6)B.A1(v);if(M instanceof bj)M.P("click",this.aE6,this);
if(J!=0&&h==2)M.P(j.E.n,this.ag6,this)}}hP.prototype=new aJ;hP.prototype.ag6=function(J){var v=this.b0[2],x=v.s(),o=Object.keys(x),R=x[o[0]].buffer,r=d2.e4(R),l=" json atn abr grd asl pat csh icc".split(" ")[this.ny];
if(r!=l){alert("This is a wrong file"+(r?" ("+r.toUpperCase()+")":"")+". You need to upload the "+l.toUpperCase()+" file.");
v.q({})}};hP.prototype.aE6=function(J){if(J.target==this.b0[6]){this.a(new dd("back"));return}var v=this.b0[3].s().trim(),x=v.startsWith("http")&&(v.endsWith(".jpeg")||v.endsWith(".jpg")||v.endsWith(".png")||v.endsWith(".gif"));
if(!x){alert("Thumbnail URL is incorrect.");return}var o=new XMLHttpRequest,R="mirror.php?url="+encodeURIComponent(v);
o.open("GET",R);o.responseType="arraybuffer";o.onload=this.a3Q.bind(this);o.send()};hP.prototype.a3Q=function(J){var v=J.target.response,x=v.byteLength;
if(x>2e5&&d2.e4(v)!="gif"){alert("Thumbnail is too large ("+eF.Ux(x)+"). Make it under 200 kB.");return}var o=this.b0[2].s(),R=Object.keys(o);
if(this.ny!=0&&R.length==0&&(this.CB==null||this.CB.file==null||this.CB.file=="")){alert("You need to select a file.");
return}if(this.ny!=0&&R.length!=0){console.log(o);aB.DP.aFk(o[R[0]].buffer,R[0],this.avt.bind(this),"pp-resources");
return}this.avt()};hP.prototype.avt=function(J){var v=this.ny,x="name desc file thmb catg publ".split(" "),o=this.CB;
for(var h=0;h<6;h++){if(v!=0&&h==2)continue;var R=this.b0[h].s();if(h<=3){R=R.trim();if(R.length==0){alert("One of values is empty.");
return}}if(h==2){if(R.endsWith(".psd"))R=R.slice(0,R.length-4);var r=R.split("#i");if(r.length!=2||r[1].length!=8){alert("File ID is incorrect.");
return}R=r.pop()}if(h==4)R=this.ahJ[R];o[x[h]]=R}if(v!=0){if(J)o.file=J;else if(o.file==null){alert("Select a file from your computer.");
return}}if(o.utme.length==0)o.utme=""+Math.round(Date.now()/1e3);o.type=v;this.a(new dd("save"))};hP.prototype.d=function(){};
hP.prototype.q=function(J){var v=this.CB=g.F(J),x=this.ny,o="name desc file thmb catg publ".split(" ");
for(var h=0;h<6;h++){if(x!=0&&h==2)continue;var R=v[o[h]];if(R!=""&&h==2)R="https://photopea.com#i"+R;
if(h==4)R=this.ahJ.indexOf(R);if(h==5&&R==null)R=!0;this.b0[h].q(R)}};hP.prototype.s=function(){return g.F(this.CB)};
hP.zm=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function h3(){aJ.call(this);var J=this._=B.l("div","form");this.CB=null;this.c3=null;this.Nc=null;this.ti=null;
var v=B.l("canvas");this.zJ=v.getContext("2d");B.sl(v);B._A(v,this.o1.bind(this));this.bW=[new iF([12,44],[[19,0,0],[19,0,1]]),{_:v},new fL([12,0],0,100,"%",null,null,null,4),new hf,new fL([12,40],0,100,"%",2,null,null,4),new bj([5,4],null,null,!0)];
for(var h=0;h<this.bW.length;h++){var x=this.bW[h];x.parent=this;J.appendChild(x._);if(h!=2&&h!=4)B.A1(J);
if(h!=1)x.P(h==5?"click":j.E.n,this.hK,this)}this.VY=this.GR.bind(this);this.gn=this._D.bind(this)}h3.prototype=new aJ;
h3.prototype.s=function(){return g.F(this.CB)};h3.prototype.q=function(J){this.CB=g.F(J);this.CL()};
h3.prototype.d=function(){var J=this.bW;for(var h=0;h<J.length;h++)if(J[h].d)J[h].d()};h3.prototype.o1=function(J){var v=B.rR(),x=B.C2(J,this.zJ.canvas);
x.x*=v;x.y*=v;var o=this.Nc,R=this.ti,r=this.CB,l=r[1],M=7*B.rR(),P=-1;for(var h=0;h<o.length;h++){if(aG.Aj(x,o[h][0])<M)P=h}if(P==-1){if(Math.abs(x.y-(R.y+R.$))>10*v)return;
var S=[.5,[0,0,0],1,.5];l.push(S);l.sort(function(c,b){return c[0]-b[0]});this.dW=[new aG,l.indexOf(S),0]}else this.dW=o[P];
this.c3=JSON.stringify(this.CB);B.W4(window,this.VY);B.Kb(window,this.gn);if(P==-1)this.GR(J);this.CL()};
h3.prototype.GR=function(J){this.CB=JSON.parse(this.c3);var v=B.rR(),x=B.C2(J,this.zJ.canvas);x.x*=v;
x.y*=v;var o=this.dW,R=o[1],r=this.ti,l=this.CB[1],M=l[R],P=(x.x-r.x)/r.r;if(o[2]==0){M[0]=Math.max(0,Math.min(1,P));
if(Math.abs(x.y-(r.y+r.$))>30*v)l.splice(R,1)}else{var S=M[0],c=l[R+1][0],b=M[3];M[3]=Math.max(.13,Math.min(.87,(P-S)/(c-S)))}l.sort(function(w,U){return w[0]-U[0]});
this.CL()};h3.prototype._D=function(J){B.SP(window,this.VY);B.PD(window,this.gn)};h3.prototype.hK=function(J){var v=this.bW,h=v.indexOf(J.target),x=this.CB,o=J.target.s(),R=this.dW;
if(h==0)x[0]=o;if(R){var r=x[1][R[1]];if(h==2)r[2]=o/100;if(h==3){o=g.x7(J.target.ab());r[1]=[o.z/255,o.H/255,o.c/255]}if(h==4)if(R[2]==0)r[0]=o/100;
else r[3]=Math.max(.13,Math.min(.87,o/100));if(h==5){x[1].splice(R[1],1);this.dW=null}}this.CL()};h3.prototype.CL=function(){var J=this.bW,v=this.CB,x=v[1],o=this.zJ,R=o.canvas;
J[0].q(v[0]);var r=R.width=Math.floor(300*B.rR()),l=R.height=Math.floor(60*B.rR()),M=Math.floor(20*B.rR()),P=r-M-M;
this.ti=new jj(M,M,P,l-M-M);B.Dt(R);var S=o.fillStyle=o.createLinearGradient(M,M,r-M,M);g.UH.cg(S,x);
o.fillRect(M,M,P,l-M-M);o.lineWidth=1;o.strokeRect(M-.5,M-.5,P+1,l-M-M+1);var c=this.Nc=[],b=this.dW;
o.fillStyle="white";for(var h=0;h<x.length;h++){var w=x[h],U=w[0],F=l-M*.6;if(b&&b[1]==h&&b[2]==0){o.fillStyle="#00aaff";
o.beginPath();o.arc(M+U*P,F,l*.125,0,2*Math.PI);o.fill()}o.fillStyle="white";o.beginPath();o.arc(M+U*P,F,l*.1,0,2*Math.PI);
o.fill();o.beginPath();o.arc(M+U*P,F,l*.07,0,2*Math.PI);o.stroke();c.push([new aG(M+U*P,F),h,0]);if(h!=x.length-1){var Y=w[3],A=x[h+1][0];
U=U+Y*(A-U);F=M*.7;if(b&&b[1]==h&&b[2]==1){o.fillStyle="#00aaff";o.beginPath();o.arc(M+U*P,F,l*.075,0,2*Math.PI);
o.fill()}o.fillStyle="white";o.beginPath();o.arc(M+U*P,F,l*.05,0,2*Math.PI);o.fill();c.push([new aG(M+U*P,F),h,1])}}J[2].Ne(b&&b[2]==0);
J[3].Ne(b&&b[2]==0);J[4].Ne(b!=null);J[5].Ne(b&&b[2]==0&&x.length>2);if(b){var w=x[b[1]],G=w[1];if(b[2]==0)J[2].q(w[2]*100);
J[3].VR(g.c7({z:G[0]*255,H:G[1]*255,c:G[2]*255}));J[4].q(w[b[2]==0?0:3]*100)}};function i8(J){aJ.call(this);
this.pg=J;this._=B.l("div","");this.G9=[];this.agw=null;this.aCk=[]}i8.prototype=new aJ;i8.prototype.fQ=function(J){};
i8.prototype.WV=function(){return!1};i8.prototype.qe=function(J,v){};i8.prototype.pJ=function(J,v){};
i8.prototype.MY=function(J){};i8.prototype.q=function(J,v,x,o,R,r){var l=[],M=this.G9,P=0,S=a8.FN["s"+this.pg];
if(this.pg=="Dspl")this.Br(J,l,r);else S?S(J,l,r):this.Br(J,l,r);for(var h=0;h<M.length;h++)if(!(M[h]instanceof aT))M[h].q(l[P++]);
if(J.RndS)this.agw=J.RndS.v};i8.prototype.s=function(){var J=a8.ow(this.pg),v=[],x=this.G9,o=0;for(var h=0;
h<x.length;h++)if(!(x[h]instanceof aT))v[o++]=x[h].s();var R=a8.FN["g"+this.pg];if(this.pg=="Dspl")this.oQ(J,v);
else R?R(J,v):this.oQ(J,v);if(J.RndS)J.RndS.v=this.agw;return J};i8.prototype.lb=function(J){};i8.prototype.vH=function(J){if(J&&J.target instanceof bj){this.agw=Math.floor(Math.random()*4294967295)}var v=this.aCk;
for(var h=0;h<v.length;h+=2){var x=this.G9[v[h]],o=this.G9[v[h+1]],R=x.s(),r=o.s();if(J.target==x)o.q(Math.max(R,r));
else x.q(Math.min(R,r))}this.a(new dd(j.E.n))};i8.prototype.d=function(){for(var h=0;h<this.G9.length;
h++)this.G9[h].d();var J=this.a6i;if(J)J.d()};i8.prototype.pU=function(J){B._H(this._,"form");var v=this.G9;
for(var h=0;h<v.length;h++){var x=v[h];x.parent=this;x.P(j.E.n,this.vH,this);this._.appendChild(x._);
if(x instanceof a9&&v[h+1]instanceof hf)continue;if(J&&J.indexOf(h)!=-1)B.kY(this._);else B.A1(this._)}var o=a8.ow(this.pg);
if(o.RndS){var R=this.a6i=new bj([25,1,2],null,null,!0);this._.appendChild(R._);R.P("click",this.vH,this)}};
i8.prototype.V9=function(J){return!1};i8.prototype.uj=function(){return!1};i8.prototype._N=function(J,v,x,o,R){};
i8.prototype.kq=function(J,v,x,o,R){};i8.prototype.ER=function(J,v,x,o,R){};i8.prototype.oQ=function(J,v){};
i8.prototype.Br=function(J,v){};i8.prototype.Zh=function(J){var v=J.target.s().indexOf(!0),x=v!=-1;if(v!=-1){this.KC=v}if(this.WP==null)this.WP=0;
var o=Date.now(),R=new dd(j.E.j,!0);R.W5=!0;if(o-this.WP<300&&this.KC<3&&this.bC){if(this.hN==null)this.hN=[0,8421504,16777215];
R.data={R:j.m.wz,kA:"colorpicker",qt:this.hN[this.KC],Ah:this.acn.bind(this)};this.a(R)}else{this.ag0(v!=-1)}this.WP=o};
i8.prototype.ag0=function(J){var v=new dd(j.E.j,!0);v.W5=!0;v.data={R:J?j.m.lE:j.m.LV,J:H.Nq};this.a(v);
v=new dd(j.E.G,!0);v.J=H.Nq;v.W5=!0;v.data={R:"supertool",J:J?this:null};this.a(v)};i8.prototype.acn=function(J){this.hN[this.KC]=J;
var v=[];for(var h=0;h<3;h++)v[h]="#"+g.q2(this.hN[h]);this.bC.Qw(iF.gd(v));var x=[!1,!1,!1];x[this.KC]=!0;
this.bC.q(x);this.ag0(!0)};i8.aiO=function(J){J.uj=function(){return!0};J._N=function(v,x,o,R,r){this.$x=!0;
this.auY(v,r)};J.kq=function(v,x,o,R,r){if(!this.$x)return;this.auY(v,r)};J.ER=function(v,x,o,R,r){this.$x=!1};
J.auY=function(v,x){var o=new jj(0,0,v.r,v.$);if(v.g)o=v.g.S;var R=v.U.hW(x.x,x.y);R.x-=o.x;R.y-=o.y;
function r(l,M){return Math.round(Math.max(0,Math.min(100,100*l/M)))}this.G9[2].q(r(R.x,o.r));this.G9[3].q(r(R.y,o.$));
this.vH()}};i8.azx=function(J,v,x,o){var R=J.bC.s().indexOf(!0);if(R==-1||R>2)return;var r=o=="levl"?je:k1,l=J.value;
J.value=a8.ow(o);J.vH();var M=H.WG.xv(v,x,1,null,!0),P=[M>>>16&255,M>>>8&255,M&255],S=J.hN;if(S==null)S=[0,8421504,16777215];
M=S[R];var c=[M>>>16&255,M>>>8&255,M&255];for(var h=0;h<3;h++){var b=r.Tc(l,1+h);if(R==0){var w=P[h]-c[h];
if(o=="levl")b[0]=w;else b[0].v.Hrzn.v=w}if(R==1){var U=Math.log(P[h]/255)/Math.log((P[0]+P[1]+P[2])*.333/255),F=Math.log(c[h]/255)/Math.log((c[0]+c[1]+c[2])*.333/255),Y=U/F;
if(o=="levl")b[4]=Math.min(999,Math.max(10,Math.round(100*Y)));else{if(b.length==2)b.splice(1,0,g.F(b[0]));
b[1].v.Hrzn.v=127-Math.log(Y)*80;b[1].v.Vrtc.v=127}}if(R==2){var w=255*P[h]/c[h];if(o=="levl")b[1]=w;
else b[b.length-1].v.Hrzn.v=w}r.tM(l,1+h,b)}J.q(l);J.vH()};i8.Bokh=function(){i8.call(this,"Bokh");this.G9=[new dp("Depth Map",["A","b"]),new jL("Focal Distance",0,255),new a9([4,11]),new dp([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new jL([12,56],0,100),new jL([12,15],0,360),new jL([12,2],0,100),new jL([4,13],0,255),new jL([24,6],0,100),new iF([12,58],[[12,59,0],[12,59,1]]),new a9([12,60])];
this.pU([5,7])};i8.Bokh.prototype=new i8;i8.Bokh.prototype.Br=function(J,v,x){var o=[[22,5,0],[6,5,3],[6,2]],R=J.BkDi.v.BtDi,r=J.BkDc,l=0;
if(R=="BeIn")l=0;else if(R=="BeIt"&&r.v.BtDc=="BeCt")l=1;else if(R=="BeIt"&&r.v.BtDc=="BeCm")l=2;else l=3+r.v;
for(var h=0;h<x[1].length;h++)o.push(x[1][h].name);this.G9[0].Qw(o,[3]);v[0]=l;v[1]=J.BkDp.v;v[2]=J.BkDs.v;
v[3]=parseInt(J.BkIs.v.BtIs.slice(3))-3;v[4]=J.BkIb.v;v[5]=J.BkIr.v;v[6]=J.BkSb.v;v[7]=J.BkSt.v;v[8]=J.BkNa.v;
v[9]=J.BkNt.v.BtNt=="BeNu"?0:1;v[10]=J.BkNm.v};i8.Bokh.prototype.oQ=function(J,v){var x;if(v[0]==0){x="BeIn";
delete J.BkDc}else if(v[0]<3){x="BeIt";J.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][v[0]-1]}}}else{x="BeIa";
J.BkDc={t:"long",v:v[0]-3}}J.BkDi.v.BtDi=x;J.BkDp.v=v[1];J.BkDs.v=v[2];J.BkIs.v.BtIs="BeS"+(3+v[3]);
J.BkIb.v=v[4];J.BkIr.v=v[5];J.BkSb.v=v[6];J.BkSt.v=v[7];J.BkNa.v=v[8];J.BkNt.v.BtNt=["BeNu","BeNg"][v[9]];
J.BkNm.v=v[10]};i8.oilPaint=function(){i8.call(this,"oilPaint");this.G9=[new jL([12,56],.1,10,"px",!0),new jL("Cleanliness",0,10,"px",!0),new jL([12,38],.1,10,null,!0),new jL("Bristle Detail",0,10,null,!0),new a9("Lighting"),new jL("Shine",0,10,null,!0),new a$([12,15])];
this.pU()};i8.oilPaint.prototype=new i8;i8.oilPaint.prototype.Br=function(J,v){var x="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var h=0;h<x.length;h++)v[h]=J[x[h]].v;v[6]=[J.LghD.v]};i8.oilPaint.prototype.oQ=function(J,v){var x="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var h=0;h<x.length;h++)J[x[h]].v=v[h];J.LghD.v=v[6][0]};i8.TrcC=function(){i8.call(this,"TrcC");
this.G9=[new jL("Level",0,255),new iF([12,69],[[19,4,1],[19,4,0]])];this.pU()};i8.TrcC.prototype=new i8;
i8.TrcC.prototype.Br=function(J,v){v[0]=J.Lvl.v;v[1]=["Lwr","Upr"].indexOf(J.Edg.v.CntE)};i8.TrcC.prototype.oQ=function(J,v){J.Lvl.v=v[0];
J.Edg.v.CntE=["Lwr","Upr"][v[1]]};i8["Dfs "]=function(){i8.call(this,"Dfs ");this.G9=[new iF([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.pU()};i8["Dfs "].prototype=new i8;i8["Dfs "].prototype.Br=function(J,v){v[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(J.Md.v.DfsM)};
i8["Dfs "].prototype.oQ=function(J,v){J.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][v[0]]};i8.Embs=function(){i8.call(this,"Embs");
this.G9=[new a$([12,15]),new jL([12,42],1,100,"px"),new jL([12,57],1,500,"%")];this.pU()};i8.Embs.prototype=new i8;
i8.Embs.prototype.Br=function(J,v){v[0]=[J.Angl.v];v[1]=J.Hght.v;v[2]=J.Amnt.v};i8.Embs.prototype.oQ=function(J,v){J.Angl.v=v[0][0];
J.Hght.v=v[1];J.Amnt.v=v[2]};i8["Wnd "]=function(){i8.call(this,"Wnd ");this.G9=[new iF([12,32],["Wind","Blast","Stagger"]),new iF([12,33],["From the Right","From the Left"])];
this.pU()};i8["Wnd "].prototype=new i8;i8["Wnd "].prototype.Br=function(J,v){v[0]=["Wnd","Blst","Stgr"].indexOf(J.WndM.v.WndM);
v[1]=["Left","Rght"].indexOf(J.Drct.v.Drct)};i8["Wnd "].prototype.oQ=function(J,v){J.WndM.v.WndM=["Wnd","Blst","Stgr"][v[0]];
J.Drct.v.Drct=["Left","Rght"][v[1]]};i8.denoise=function(){i8.call(this,"denoise");this.G9=[new jL([12,64],0,10),new jL([12,65],0,100,"%")];
this.pU()};i8.denoise.prototype=new i8;i8.denoise.prototype.Br=function(J,v){var x=J.channelDenoise.v[0].v;
v[0]=x.Amnt.v;v[1]=x.EdgF.v};i8.denoise.prototype.oQ=function(J,v){var x=J.channelDenoise.v[0].v;x.Amnt.v=v[0];
x.EdgF.v=v[1]};i8.lightFilterGradient=function(){i8.call(this,"lightFilterGradient");this.G9=[new jL([24,3,1],0,100,"px",1,!0),new jL([12,38],0,200,"%"),new a9([4,11]),new jL("High",0,100,"%"),new jL("Medium",0,100,"%"),new jL("Low",0,100,"%")];
this.pU()};i8.lightFilterGradient.prototype=new i8;i8.lightFilterGradient.prototype.Br=function(J,v){v[0]=J.blur.v;
v[1]=J.textureScale.v*100;v[2]=J.Scl.v==-1;var x=J.Dtl.v;v[3]=x[0].v*100;v[4]=x[1].v*100;v[5]=x[2].v*100};
i8.lightFilterGradient.prototype.oQ=function(J,v){J.blur.v=v[0];J.textureScale.v=v[1]/100;J.Scl.v=v[2]?-1:1;
var x=J.Dtl.v;x[0].v=v[3]/100;x[1].v=v[4]/100;x[2].v=v[5]/100};i8.Fbrs=function(){i8.call(this,"Fbrs");
this.G9=[new jL("Variance",1,64),new jL([12,64],1,64)];this.pU()};i8.Fbrs.prototype=new i8;i8.Fbrs.prototype.Br=function(J,v){v[0]=J.Vrnc.v;
v[1]=J.Strg.v};i8.Fbrs.prototype.oQ=function(J,v){J.Vrnc.v=v[0];J.Strg.v=v[1]};i8.LnsF=function(){i8.call(this,"LnsF");
this.G9=[new jL([12,2],10,300,"%"),new iF([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new jL("Position X",0,100,"%"),new jL("Position Y",0,100,"%")];
this.pU()};i8.LnsF.prototype=new i8;i8.LnsF.prototype.Br=function(J,v){v[0]=J.Brgh.v;v[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(J.Lns.v.Lns);
var x=J.FlrC.v;v[2]=Math.round(x.Hrzn.v*100);v[3]=Math.round(x.Vrtc.v*100)};i8.LnsF.prototype.oQ=function(J,v){J.Brgh.v=v[0];
J.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][v[1]];var x=J.FlrC.v;x.Hrzn.v=v[2]/100;x.Vrtc.v=v[3]/100};i8.aiO(i8.LnsF.prototype);
i8.blendOptions=function(){i8.call(this,"blendOptions");this.G9.push(new dp([12,19,0],gX.R2,gX.TD));
this.G9.push(new jL([12,0],0,100,"%"));this.pU()};i8.blendOptions.prototype=new i8;i8.blendOptions.prototype.Br=function(J,v){v[0]=gX.EZ.indexOf(J.Md.v.BlnM);
v[1]=J.Opct.v.val};i8.blendOptions.prototype.oQ=function(J,v){J.Md.v.BlnM=gX.EZ[v[0]];J.Opct.v.val=v[1]};
i8.LnCr=function(){i8.call(this,"LnCr");this.G9=[new jL([12,57],-100,100),new jL([12,38],10,150,"%")];
this.pU()};i8.LnCr.prototype=new i8;i8.LnCr.prototype.Br=function(J,v){v[0]=J.LnIa.v;v[1]=J.LnSi.v};
i8.LnCr.prototype.oQ=function(J,v){J.LnIa.v=v[0];J.LnSi.v=v[1]};i8.adaptCorrect=function(){i8.call(this,"adaptCorrect");
var J=gu;this.G9=[new aT([19,6,0]),new J([12,57],0,100,"%"),new J("Tone",0,100,"%"),new J([12,56],0,200,"px"),new aT([19,6,2]),new J([12,57],0,100,"%"),new J("Tone",0,100,"%"),new J([12,56],0,200,"px"),new aT([3]),new J([13,0],-100,100)];
this.pU([3,7])};i8.adaptCorrect.prototype=new i8;i8.adaptCorrect.prototype.Br=function(J,v){var x=J.sdwM.v;
v[0]=x.Amnt.v.val;v[1]=x.Wdth.v.val;v[2]=x.Rds.v;var x=J.hglM.v;v[3]=x.Amnt.v.val;v[4]=x.Wdth.v.val;
v[5]=x.Rds.v;v[6]=J.ClrC.v};i8.adaptCorrect.prototype.oQ=function(J,v){var x=J.sdwM.v;x.Amnt.v.val=v[0];
x.Wdth.v.val=v[1];x.Rds.v=v[2];var x=J.hglM.v;x.Amnt.v.val=v[3];x.Wdth.v.val=v[4];x.Rds.v=v[5];J.ClrC.v=v[6]};
i8.Flam=function(){i8.call(this,"Flam");var J=this.G9=[new dp([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new jL([12,80,0],20,1e3,"px"),new a9("Randomize Length"),new jL([12,41],5,600,"px"),new jL([12,15],0,360,"\xB0"),new jL("Interval",10,200,"px"),new a9("Adapt Interval for Loops"),new hf(!1),new dp([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new jL("Turbulent",0,100),new jL("Jag",0,100),new jL([12,0],0,100),new jL("Lines",2,30),new jL("Bottom",0,100),new dp([12,22],["Normal","Violent","Flat"]),new dp([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new a9("Randomize Shape"),new jL("Random Seed",0,100)];
this.pU();var v=this._;B.wp(v);var x=new iF(null,["Basic","Advanced"]);x.P(j.E.n,this.aD$,this);v.appendChild(x._);
B.kY(v);var o=B.l("div"),R=B.l("div");this.akP=[o,R];v.appendChild(o);for(var h=0;h<J.length;h++){(h<9?o:R).appendChild(J[h]._);
if(h==6)B.A1(o)}J[0].P(j.E.n,this.a10,this);this.a10()};i8.Flam.prototype=new i8;i8.Flam.prototype.a10=function(J){var v=this.G9,h=v[0].s();
v[1].Ne(h!=0&&h!=5);v[2].Ne(h!=0&&h!=5);v[4].Ne(h!=0&&h!=5&&h!=1);v[5].Ne(h!=0&&h!=5);v[6].Ne(h!=0&&h!=5)};
i8.Flam.prototype.aD$=function(J){var h=J.target.s(),v=this.akP,x=this._;x.removeChild(v[1-h]);x.appendChild(v[h])};
i8.boxblur=function(){i8.call(this,"boxblur");this.G9=[new jL([12,56],1,200," px")];this.pU()};i8.boxblur.prototype=new i8;
i8.boxblur.prototype.Br=function(J,v){v[0]=J.Rds.v.val};i8.boxblur.prototype.oQ=function(J,v){J.Rds.v.val=v[0]};
i8.GsnB=function(){i8.call(this,"GsnB");this.G9=[new jL([12,56],.1,400,"px",1,!0)];this.pU()};i8.GsnB.prototype=new i8;
i8.Dila=function(){i8.call(this,"Dila");this.G9=[new jL([11,12,1],0,20,"px",0),new jL([12,56],0,400,"px",0,!0)];
this.pU()};i8.Dila.prototype=new i8;i8.MtnB=function(){i8.call(this,"MtnB");this.G9=[new a$([12,15]),new jL([12,28],1,100," px")];
this.pU()};i8.MtnB.prototype=new i8;i8.RdlB=function(){i8.call(this,"RdlB");this.G9=[new jL([12,57],1,100),new iF([12,36],["Spin","Zoom"]),new jL("Position X",0,100,"%"),new jL("Position Y",0,100,"%")];
this.pU()};i8.RdlB.prototype=new i8;i8.RdlB.prototype.Br=function(J,v){v[0]=J.Amnt.v;v[1]=["Spn","Zm"].indexOf(J.BlrM.v.BlrM);
v[2]=J.Cntr.v.Hrzn.v*100;v[3]=J.Cntr.v.Vrtc.v*100};i8.RdlB.prototype.oQ=function(J,v){J.Amnt.v=v[0];
J.BlrM.v.BlrM=["Spn","Zm"][v[1]];J.Cntr.v.Hrzn.v=v[2]/100;J.Cntr.v.Vrtc.v=v[3]/100};i8.aiO(i8.RdlB.prototype);
i8.Dspl=function(){i8.call(this,"Dspl");this.G9=[new dp([6,36,3],["a","b"]),new jL([22,4,0],-100,100,"px"),new jL([22,4,1],-100,100,"px"),new dp([24,18,0],[[24,18,3],[24,18,2]])];
this.pU()};i8.Dspl.prototype=new i8;i8.Dspl.prototype.Br=function(J,v,x){this.azu=[];this.vW=[];var o=-1,R=x?x[0]:null;
if(R==null)R=this.aGr;else this.aGr=R;if(R)for(var h=0;h<R.length;h++){var r=R[h];this.azu.push(r.d8.trim());
this.vW.push(r.KK);if(r.KK==J.DspF.v.pth)o=h}this.G9[0].Qw(this.azu);v[0]=o==-1?0:o;v[1]=J.HrzS.v;v[2]=J.VrtS.v;
v[3]=["WrpA","RptE"].indexOf(J.UndA.v.UndA)};i8.Dspl.prototype.oQ=function(J,v){var x=this.aGr;if(this.vW.length==0)return;
J.DspF.v.pth=this.vW[v[0]];J.HrzS.v=v[1];J.VrtS.v=v[2];J.UndA.v.UndA=["WrpA","RptE"][v[3]];var o=x[v[0]];
o.rv();var R=o.Vs[1],r=R.r,l=R.$,M=g.C(R.o());g.dF(o.Vs[0],M);var P=[l&255,l>>>8,0,0,r&255,r>>>8,0,0,3,0];
for(var S=0;S<2;S++)for(var h=0;h<M.length;h++)P.push(M[h]);for(var h=0;h<1e3;h++)P.push(0);J.DspD={t:"tdta",v:P};
J.EmbF={t:"bool",v:!0}};i8.Pnch=function(){i8.call(this,"Pnch");this.G9=[new jL([12,57],-100,100,"%")];
this.pU()};i8.Pnch.prototype=new i8;i8["Plr "]=function(){i8.call(this,"Plr ");this.G9=[new iF(null,["Rect to Polar","Polar to Rect"])];
this.pU()};i8["Plr "].prototype=new i8;i8.Rple=function(){i8.call(this,"Rple");this.G9=[new jL([12,57],-999,999),new dp([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.pU()};i8.Rple.prototype=new i8;i8["Shr "]=function(){i8.call(this,"Shr ");this.G9=[new ec(!0,!0),new dp([24,18,0],[[24,18,3],[24,18,2]])];
this.pU()};i8["Shr "].prototype=new i8;i8["Shr "].prototype.Br=function(J,v){var x=new bC(0,255/127,255/127,0,-2,128),o=g.F(J.ShrP.v);
g.O2.u(o,x);v[0]=o;v[1]=["WrpA","RptE"].indexOf(J.UndA.v.UndA)};i8["Shr "].prototype.oQ=function(J,v){var x=new bC(0,255/127,255/127,0,-2,128);
x.SV();g.O2.u(v[0],x);J.ShrP.v=v[0];J.ShrE.v=v[0].length-1;J.UndA.v.UndA=["WrpA","RptE"][v[1]]};i8.Sphr=function(){i8.call(this,"Sphr");
this.G9=[new jL([12,57],-100,100),new dp([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.pU()};i8.Sphr.prototype=new i8;
i8.Sphr.prototype.Br=function(J,v){v[0]=J.Amnt.v;v[1]=["Nrml","HrzO","VrtO"].indexOf(J.SphM.v.SphM)};
i8.Sphr.prototype.oQ=function(J,v){J.Amnt.v=v[0];J.SphM.v.SphM=["Nrml","HrzO","VrtO"][v[1]]};i8.Dthr=function(){i8.call(this,"Dthr");
this.G9=[new dp("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new iF("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.pU()};i8.Dthr.prototype=new i8;i8.Dthr.prototype.Br=function(J,v){v[0]=J.Plte.v;v[1]=J.Mthd?J.Mthd.v:1};
i8.Dthr.prototype.oQ=function(J,v){J.Plte.v=v[0];J.Mthd.v=v[1]};i8.Part=function(){i8.call(this,"Part");
this.G9=[new jL([15,5,1],0,100,"%"),new jL([12,14,0],1,50,"px"),new jL([12,34],0,100,"%"),new jL([12,2],10,1e3,"%"),new hf(!0),new jL("Time",0,1,null,3),new jL("Turbulence",0,100,"%"),new a9("Blink"),new a9("Fall")];
this.pU([4])};i8.Part.prototype=new i8;i8.Part.prototype.Br=function(J,v){v[0]=J.Cont.v;v[1]=J.Size.v;
v[2]=J.Dpth.v;v[3]=J.Brgh.v;v[4]=J.Clr.v;v[5]=J.Time.v;v[6]=J.Turb.v;v[7]=J.Blnk.v;v[8]=J.Fall.v};i8.Part.prototype.oQ=function(J,v){J.Cont.v=v[0];
J.Size.v=v[1];J.Dpth.v=v[2];J.Brgh.v=v[3];J.Clr.v=v[4];J.Time.v=v[5];J.Turb.v=v[6];J.Blnk.v=v[7];J.Fall.v=v[8]};
i8.Twrl=function(){i8.call(this,"Twrl");this.G9=[new jL([12,15],-999,999)];this.pU()};i8.Twrl.prototype=new i8;
i8.Wave=function(){i8.call(this,"Wave");this.aCk=[1,2,3,4];this.G9=[new jL("Number of Generators",1,100),new gu("Min Length",1,999),new gu("Max Length",1,999),new gu("Min Ampl.",1,999),new gu("Max Ampl.",1,999),new gu("Scale X",1,100,"%"),new gu("Scale Y",1,100,"%"),new iF([12,44],["Sine","Triangle",[12,93,3]]),new dp([24,18,0],[[24,18,3],[24,18,2]])];
this.pU()};i8.Wave.prototype=new i8;i8.ZgZg=function(){i8.call(this,"ZgZg");this.G9=[new jL([12,57],-100,100),new jL("Ridges",0,20),new dp([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.pU()};i8.ZgZg.prototype=new i8;i8.surfaceBlur=function(){i8.call(this,"surfaceBlur");this.G9=[new jL([12,56],1,200," px"),new jL([4,13],1,255," px")];
this.pU()};i8.surfaceBlur.prototype=new i8;i8.surfaceBlur.prototype.Br=function(J,v){v[0]=J.Rds.v.val;
v[1]=J.Thsh.v};i8.surfaceBlur.prototype.oQ=function(J,v){J.Rds.v.val=v[0];J.Thsh.v=v[1]};i8.AdNs=function(){i8.call(this,"AdNs");
this.G9=[new jL([12,57],0,200," %"),new dp([12,58],[[12,59,1],[12,59,0]]),new a9([12,60])];this.pU()};
i8.AdNs.prototype=new i8;i8.DstS=function(){i8.call(this,"DstS");this.G9=[new jL([12,56],1,200," px"),new jL([4,13],1,255," px")];
this.pU()};i8.DstS.prototype=new i8;i8["Mdn "]=function(){i8.call(this,"Mdn ");this.G9=[new jL([12,56],1,200," px")];
this.pU()};i8["Mdn "].prototype=new i8;i8["Mdn "].prototype.Br=function(J,v){v[0]=J.Rds.v.val};i8["Mdn "].prototype.oQ=function(J,v){J.Rds.v.val=v[0]};
i8.ClrH=function(){i8.call(this,"ClrH");this.G9=[new jL([12,56],4,100," px")];for(var h=1;h<4;h++)this.G9.push(new jL("Angle "+h,0,90," \xB0"));
this.pU()};i8.ClrH.prototype=new i8;i8.ClrH.prototype.Br=function(J,v){v[0]=J.Rds.v;for(var h=1;h<4;
h++)v[h]=J["Ang"+h].v};i8.ClrH.prototype.oQ=function(J,v){J.Rds.v=v[0];for(var h=1;h<4;h++)J["Ang"+h].v=v[h]};
i8.ClrH.prototype.d=function(){var J=this.G9;J[0].d();for(var h=1;h<4;h++)J[h].f_(ea.get([12,15])+" "+h)};
i8.Crst=function(){i8.call(this,"Crst");this.G9=[new jL([12,61],3,100," px")];this.pU()};i8.Crst.prototype=new i8;
i8.Crst.prototype.Br=function(J,v){v[0]=J.ClSz.v};i8.Crst.prototype.oQ=function(J,v){J.ClSz.v=v[0]};
i8.Mztn=function(){i8.call(this,"Mztn");this.G9.push(new dp([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.vW="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.pU()};i8.Mztn.prototype=new i8;
i8.Mztn.prototype.Br=function(J,v){v[0]=this.vW.indexOf(J.MztT.v.MztT)};i8.Mztn.prototype.oQ=function(J,v){J.MztT.v.MztT=this.vW[v[0]]};
i8["Msc "]=function(){i8.call(this,"Msc ");this.G9=[new jL([12,61],2,200," px")];this.pU()};i8["Msc "].prototype=new i8;
i8["Msc "].prototype.Br=function(J,v){v[0]=J.ClSz.v.val};i8["Msc "].prototype.oQ=function(J,v){J.ClSz.v.val=v[0]};
i8.Pntl=function(){i8.call(this,"Pntl");this.G9=[new jL([12,61],3,100," px")];this.pU()};i8.Pntl.prototype=new i8;
i8.Pntl.prototype.Br=function(J,v){v[0]=J.ClSz.v};i8.Pntl.prototype.oQ=function(J,v){J.ClSz.v=v[0]};
i8.smartSharpen=function(){i8.call(this,"smartSharpen");this.G9=[new jL([12,57],1,200,"%"),new jL([12,56],0,200,"px",1,!0)];
this.pU()};i8.smartSharpen.prototype=new i8;i8.smartSharpen.prototype.Br=function(J,v){v[0]=J.Amnt?J.Amnt.v.val:200;
v[1]=J.Rds?J.Rds.v.val:1};i8.smartSharpen.prototype.oQ=function(J,v){J.Amnt.v.val=v[0];J.Rds.v.val=v[1]};
i8.UnsM=function(){i8.call(this,"UnsM");this.G9=[new jL([12,57],1,200," %"),new jL([12,56],.1,400,"px",1,!0),new jL([4,13],0,255," ")];
this.pU()};i8.UnsM.prototype=new i8;i8.HghP=function(){i8.call(this,"HghP");this.G9=[new jL([12,56],.1,400,"px",1,!0)];
this.pU()};i8.HghP.prototype=new i8;i8.HsbP=function(){i8.call(this,"HsbP");this.G9=[new iF("Input",["RGB","HSB","HSL"]),new iF("Output",["RGB","HSB","HSL"])];
this.pU()};i8.HsbP.prototype=new i8;i8["Mxm "]=function(){i8.call(this,"Mxm ");this.G9=[new jL([12,56],.1,200," px",1,!0),new dp([12,76,1],[[12,93,3],"Circle"])];
this.pU()};i8["Mxm "].prototype=new i8;i8["Mnm "]=function(){i8.call(this,"Mnm ");this.G9=[new jL([12,56],.1,200," px",1,!0),new dp([12,76,1],[[12,93,3],"Circle"])];
this.pU()};i8["Mnm "].prototype=new i8;i8.Ofst=function(){i8.call(this,"Ofst");this.G9=[new jL([22,4,0],-1024,1024," px"),new jL([22,4,1],-1024,1024," px"),new dp([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.pU()};i8.Ofst.prototype=new i8;i8.Kale=function(){i8.call(this,"Kale");this.G9=[new gu("Mirrors",2,20),new gu([12,15],0,360,"\xB0")];
this.pU()};i8.Kale.prototype=new i8;i8.Kale.prototype.Br=function(J,v){v[0]=J.Mirr.v;v[1]=J.MRot.v};
i8.Kale.prototype.oQ=function(J,v){J.Mirr.v=v[0];J.MRot.v=v[1]};i8.Rept=function(){i8.call(this,"Rept");
this.G9=[new gu([12,38],1,300," %"),new gu("Row Shift",-50,50," %"),new gu("Space X",-99,200," %"),new gu("Space Y",-99,200," %"),new a9([4,16,2]),new a$([12,15])];
this.pU()};i8.Rept.prototype=new i8;i8.Rept.prototype.Br=function(J,v){v[0]=J.Scl.v.val;v[1]=J.Rsft.v.val;
v[2]=J.SpcX.v.val;v[3]=J.SpcY.v.val;v[4]=J.SpcC.v;v[5]=[J.Angl.v]};i8.Rept.prototype.oQ=function(J,v){J.Scl.v.val=v[0];
J.Rsft.v.val=v[1];J.SpcX.v.val=v[2];J.SpcY.v.val=v[3];J.SpcC.v=v[4];J.Angl.v=v[5][0];return J};i8.Ctoa=function(){i8.call(this,"Ctoa");
this.G9=[new aT([13,0]),new hf(!0),new jL(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new jL(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.pU()};i8.Ctoa.prototype=new i8;i8.Ctoa.prototype.Br=function(J,v){v[0]=J.Clr.v;v[1]=J.Trsp.v.val;
v[2]=J.Opct.v.val};i8.Ctoa.prototype.oQ=function(J,v){J.Clr.v=v[0];J.Trsp.v.val=v[1];J.Opct.v.val=v[2]};
i8.LqFy=function(){i8.call(this,"LqFy");this.sa=!1;this.tk=!1;this.$o=null;this.aeP=null;this.J=0;this.Mn=-1;
this.W={n8:[[{J:{id:0,name:[24,1,0,1,0],Q2:"liq/smudge"}}],[{J:{id:1,name:[24,1,0,1,1],Q2:"liq/reconstruct"}}],[{J:{id:2,name:[24,1,0,1,2],Q2:"liq/smooth"}}],[{J:{id:3,name:[24,1,0,1,3],Q2:"liq/twirl"}}],[{J:{id:4,name:[24,1,0,1,4],Q2:"liq/shrink"}}],[{J:{id:5,name:[24,1,0,1,5],Q2:"liq/blow"}}],[{J:{id:6,name:[24,1,0,1,6],Q2:"liq/pleft"}}],[{J:{id:7,name:"Hand",Q2:"tools/hand"}}],[{J:{id:8,name:"Zoom In",Q2:"zoomIn"}}],[{J:{id:9,name:"Zoom Out",Q2:"zoomOut"}}]],keys:[]};
this.LS=new bk(this.W,!1);this.LS.p1(0);this.LS.P(j.E.j,this.I$,this);this.qQ=br.qF();this.MP=null;this.Es=[];
this.os=-1;this.ti=null;this.axq=null;this.RI=null;this.oM=null;this.ic=null;var J=B.l("div","flexrow");
this.qX=J;this._.appendChild(J);J.appendChild(this.LS._);this.view=new iW(!0);this.view.qe(100,100);
this.view.P("mousedown",this.y1,this);this.view.P("mousemove",this._k,this);this.view.P("mouseup",this.Vg,this);
this.view.P("zoom",this.B4,this);J.appendChild(this.view._);var v=B.l("div","form");J.appendChild(v);
this.aow=v;v.style.width="230px";this.WQ=[new jL([12,14,0],0,1e3,null,!1,!0),new jL([12,74],0,100,null,!1,!1),new jL([12,84],0,100,null,!1,!1),new a9([12,46]),new jL([12,0],0,100,null,!1,!1),new a9([24,18,5])];
var x=this.qQ.Brsh.v;x.Dmtr.v.val=100;var o=[100,50,100,!1,100,!0];for(var h=0;h<this.WQ.length;h++){var R=this.WQ[h];
R.q(o[h]);if(h==4)R.UG();R.P(j.E.n,this.aqe,this);v.appendChild(R._)}var r=this.atT=new bj([1,12,2],!0,null,!0);
r.P("click",this.Md,this);v.appendChild(r._);this.alc=this.wO.bind(this);this.MI=new aJ;this.MI._=B.l("div","floatcont");
this.Tq=new bj("Menu",!1,null,!0);var l=this.Tq._;B.L(l,"position:absolute; right:13px; top:47px");B._A(l,this.aDa.bind(this))};
i8.LqFy.prototype=new i8;i8.LqFy.prototype.WV=function(){return!0};i8.LqFy.prototype.fQ=function(J){this.aow.appendChild(J)};
i8.LqFy.prototype.aDa=function(J){if(B.yn(this.MI._))return;J.stopPropagation();var v=this.Tq._.getBoundingClientRect();
this.MI._.appendChild(this.aow);var x=new dd(j.E.j,!0);x.data={R:j.m.sO,rq:this.MI,x:v.right+v.width-290,y:v.top+v.height};
this.a(x)};i8.LqFy.prototype.lb=function(J){this.sa=J.M(gw.i4);var v=H.P8.lY(this.qQ,J);if(v!=null){this.qQ=v;
this.B4();this.WQ[0].q(v.Brsh.v.Dmtr.v.val)}else if(J.M(gw.aw)&&J.M(gw.mK)){var x=this.Es;if(J.M(gw.Yv)){if(this.os+1<x.length)this.os++}else if(this.os>0)this.os--;
this.MP.map=x[this.os].slice(0);this._t(null)}else if(this.J<=6)this.view.lb(J);var o=this.J,R=-1,r=J.M(gw.i4);
if(r&&this.Mn==-1){if(o==0)R=1;if(o==4)R=5;if(o==5)R=4;if(R!=-1)this.Mn=o}if(!r&&this.Mn!=-1){R=this.Mn;
this.Mn=-1}if(R!=-1){this.J=R;this.LS.p1(this.J)}};i8.LqFy.prototype.I$=function(J){if(J.data.R==j.m.lE){var v=this.J=J.data.J;
this.LS.p1(this.J);this.view.lb(v>6?iW.NN(v-7):new gw)}};i8.LqFy.prototype.aqe=function(J){var v=J.currentTarget,h=this.WQ.indexOf(v),x=this.qQ.Brsh.v;
if(h==0){x.Dmtr.v.val=v.s();this.B4()}this.WQ[4].Ne(this.WQ[3].s());if(h>2)this._t(null)};i8.LqFy.prototype.Lc=function(){var J=this.Es;
this.os++;J[this.os]=this.MP.map.slice(0);while(J.length>this.os+1)J.pop();while(J.length>50){J=J.slice(1);
this.os--}};i8.LqFy.prototype.y1=function(J){this.$o=this.view._8();this.aeP=new aG(0,0);this.tk=!0;
window.requestAnimationFrame(this.alc)};i8.LqFy.prototype._k=function(J){var v=this.view._8(),x=new aG(v.x-this.$o.x,v.y-this.$o.y);
if(this.J==0||this.J==6)this.ae8(x);this.$o=v};i8.LqFy.prototype.Vg=function(J){this.Lc();this.tk=!1};
i8.LqFy.prototype.wO=function(J){if(this.J!=0&&this.J!=6)this.ae8(new aG(0,0));if(this.tk)window.requestAnimationFrame(this.alc)};
i8.LqFy.prototype.ae8=function(J){var v=this.MP,x=v.BK/this.ti.r,o=this.$o,R=this.qQ.Brsh.v,r=R.Dmtr.v.val,l=Date.now(),M=v.BK,P=v.mq,S=Math.sqrt(J.x*J.x+J.y*J.y),c=Math.max(1,Math.ceil(S/2)),b=J.x/c,w=J.y/c,U=o.Q(),F=this.J,Y=this.WQ[1].s()/100,A=this.WQ[2].s()/100,G=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],n=G[F*2],E=G[F*2+1],K=(1-Y)*n+Y*E,e=r*x/2;
for(var h=0;h<c;h++){var $=[];U.x+=b;U.y+=w;g.eS.af9(v.map,M,P,F,U.x*x,U.y*x,e,Y,A,b*x,w*x,$,this.sa);
g.eS.aiz(M,P,v.map,$,2*K*A)}var N=new jj(0,0,M,P),k=new jj(o.x*x,o.y*x,0,0);k.rz(r*x*.5,r*x*.5);var V=k.Q();
V.offset(J.x*x,J.y*x);k=k.h0(V);var X=new jj(k.x/x,k.y/x,k.r/x,k.$/x);X=g.b.RN(X).Xt(this.ti);this.WQ[5].q(!0);
this._t(X)};i8.LqFy.prototype.B4=function(){var J=ix.l6(this.qQ,null,this.view.Rj().NT);this.view.cT(J)};
i8.LqFy.prototype.q=function(J,v,x,o,R){x=x.Q();if(v==null)return;if(!o.Ym(x)){var r=x.h0(o),l=g.C(r.o()*4);
g.sW(v,x,l,r);v=l;x=r;var M=g.C(r.o()*4);g.sW(R,o,M,r);R=M}x.x=x.y=0;this.RI=v;this.axq=R;this.ic=v.slice(0);
this.oM=v.slice(0);this.ti=x;this.MP=eV.KE(new Uint8Array(J.LqMe.v).buffer);var P=x.r,S=x.$;if(this.MP.BK/P<.22){this.MP={BK:Math.floor(P/4),mq:Math.floor(S/4)};
this.MP.map=new Float32Array(this.MP.BK*this.MP.mq*2)}this.Es=[];this.os=-1;this.Lc();this._t(null);
this.view.te(!0);this.B4()};i8.LqFy.prototype.s=function(){var J=a8.ow("LqFy"),v=new Uint8Array(eV.Ce(this.MP)),x=[];
for(var h=0;h<v.length;h++)x.push(v[h]);J.LqMe.v=x;return J};i8.LqFy.prototype.qe=function(J,v){this.LS.qe(J,v);
var x=this.Tq._,o=this.aow;this.qX.appendChild(o);this.qX.appendChild(x);if(J>450&&J-v>200){o.style.marginLeft="1em";
this.qX.removeChild(x);this.view.qe(J-238-45,v)}else{o.style.marginLeft="";this.qX.removeChild(o);this.view.qe(J-40,v)}};
i8.LqFy.prototype.d=function(){this.LS.d();this.atT.d();for(var h=0;h<this.WQ.length;h++)this.WQ[h].d()};
i8.LqFy.prototype.Md=function(){this.MP.map.fill(0);this.Lc();this._t(null)};i8.LqFy.prototype._t=function(J){var v=this.ti,x=this.RI,o=this.ic,R=this.MP;
if(this.WQ[5].s())g.eS.QG(x,this.oM,v.r,v.$,J,R.map,R.BK,R.mq,0);else this.oM.set(x);if(this.WQ[3].G8()){g.sW(this.axq,v,o,v,J?J:v);
g.v.Ry("norm",this.oM,v,o,v,J?J:v,this.WQ[4].s()/100)}else g.oj(this.oM,o);this.view.q([{P0:v,data:o.buffer}],null,null,J)};
i8.GEfc=function(){i8.call(this,"GEfc");this.qO=0;this.rt=0;this.RI=null;this.ic=null;this.ti=null;this.f=null;
this.CB=null;this.wn=0;this.xe=null;this.Nr=null;var J=B.l("div","flexrow");this.qX=J;this._.appendChild(J);
this.view=new iW(null);this.view.qe(100,100);J.appendChild(this.view._);this.C7="";this.amL=270;var v=this.HG=B.l("div","form scrollable");
J.appendChild(v);B.L(v,"width:"+this.amL+"px;");var x=this.bx=B.l("div","form");J.appendChild(x);B.L(x,"width:230px;  margin:0 10px");
this.o9={};for(var o in j$.names){var R=new i8.GEfc.Jk(o);R.parent=this;this.o9[o]=R;R.P(j.E.n,this.aFd,this)}this.m2=!0;
this.Tq=new bj("Menu",null,null,!0);this.Tq.P("click",this.aAe,this);J.appendChild(this.Tq._);this.adx=new bj(">>",null,null,!0);
this.adx.P("click",this.aet,this);x.appendChild(this.adx._);this.aov=B.l("div");B.L(this.aov,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
x.appendChild(this.aov);this.sU=B.l("div");this.sU.style.minHeight="14em";this.sU.style.marginBottom="1em";
x.appendChild(this.sU);this.c0=B.l("div","lpbody scrollable");this.XK=B.l("div","lpfoot");x.appendChild(this.c0);
x.appendChild(this.XK);this.P("click",this.al2,this);this.cq=[];hm.pj([[5,3],[5,4]],this.cq,this.XK,this.cr.bind(this))};
i8.GEfc.prototype=new i8;i8.GEfc.prototype.WV=function(){return!0};i8.GEfc.prototype.fQ=function(J){this.aov.appendChild(J)};
i8.GEfc.prototype.lb=function(J){this.view.lb(J)};i8.GEfc.prototype.pJ=function(J,v){this.f=J;if(J.P4==J.Vb)alert("Your foreground and a background color are identical.",4e3)};
i8.GEfc.prototype.aet=function(J){var v=this.HG.style.display!="none";this.HG.style.display=v?"none":"";
this.adx.f_(v?"<<":">>");this.qe()};i8.GEfc.prototype.aAe=function(J){this.m2=!this.m2;this.qe()};i8.GEfc.prototype.qe=function(J,v){var x=this.HG.style.display!="none";
if(J!=null){this.qO=J;this.rt=v;if(J<1e3&&x||J>=1e3&&!x){this.aet();x=!x}this.m2=J>600}else{J=this.qO;
v=this.rt}var o=this.m2?250+(x?this.amL:0):0;if(B.yn(this.bx)&&!this.m2){this.qX.removeChild(this.HG);
this.qX.removeChild(this.bx)}if(!B.yn(this.bx)&&this.m2){this.qX.appendChild(this.HG);this.qX.appendChild(this.bx)}this.HG.style.height=v+"px";
this.view.qe(J-o,v);this.c0.style.height=v-Math.max(this.sU.getBoundingClientRect().height,186)-96+"px";
B.L(this.Tq._,"position:absolute; top:46px;  right:"+(o+16)+"px")};i8.GEfc.prototype.a6K=function(){var J=d2.he.get("img/beach",!0)[0],v=J.P0,x=this.HG,o=Math.floor(B.rR()*(this.amL-44)/3),R=~~(o*.7),r=new jj(0,0,o,R),l=g.C(o*R*4),M=l.slice(0),P=Math.round(10*B.rR()),S=new ImageData(new Uint8ClampedArray(M.buffer),o,R);
g.sW(new Uint8Array(J.data),v,l,new jj(Math.round((v.r-o)/2),Math.round((v.$-R)/2),o,R));var c=B.l("canvas"),b=c.getContext("2d");
c.width=o;c.height=R+Math.round(P*1.5);b.font=P+"px sans-serif";this.xe={};B.wp(x);var w=this.agR.bind(this);
for(var h=0;h<j$.zm.length;h++){var U=j$.zm[h],F=B.l("div");x.appendChild(F);B.L(F,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
F.textContent=ea.get(U);for(var Y in j$.names){var A=j$.names[Y];if(A[0]!=h)continue;j$.vY(Y,{S:r,buffer:l},j$.ow(Y),{z:0,H:0,c:0},{z:255,H:255,c:255},{S:r,buffer:M},{});
b.fillStyle="black";b.fillRect(0,0,500,500);b.putImageData(S,0,0);var G=ea.get(A[1]);b.fillStyle="white";
b.fillText(G,(o-b.measureText(G).width)/2,R+Math.round(P*1.1));var n=B.l("div");x.appendChild(n);B.L(n,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
n.addEventListener("click",w,!1);var F=B.l("img");n.appendChild(F);F.setAttribute("src",c.toDataURL());
B.L(F,"width:"+o/B.rR()+"px; margin-bottom:0px;");this.xe[Y]=n}}};i8.GEfc.prototype.agR=function(J){var v;
for(var x in this.xe)if(this.xe[x]==J.currentTarget)this.C7=x;this.aFd()};i8.GEfc.prototype.cr=function(J){var v=hm.cp(this.cq,J),x=this.CB.GEfs.v,o=x[this.wn].v;
if(v==0){x.push(g.F(x[this.wn]));this.wn=x.length-1}else if(x.length>1){x.splice(this.wn,1);if(this.wn==x.length)this.wn--}this.Q8();
this._t()};i8.GEfc.prototype.aFd=function(J){var v=this.C7,x;if(J==null)x=j$.ow(v);else x=this.o9[v].s();
this.CB.GEfs.v[this.wn].v=x;this.Q8();this._t()};i8.GEfc.prototype.q=function(J,v,x,o,R){var r=ea.get([24,0]);
if(this.xe==null||r!=this.Nr)this.a6K();this.Nr=r;J=this.CB=g.F(J);if(J.GEfs==null)J=this.CB={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:J}]}};
var l=J.GEfs.v;for(var h=0;h<l.length;h++)if(l[h].v.GELv==null)l[h].v.GELv={t:"bool",v:!0};this.wn=l.length-1;
this.Q8();x=x.Q();if(v==null)return;if(!o.Ym(x)&&j$.BC(J).x!=0){var M=x.h0(o),P=g.C(M.o()*4);g.sW(v,x,P,M);
v=P;x=M}x.x=x.y=0;this.RI=v;this.ic=v.slice(0);this.ti=x;this._t();this.view.te()};i8.GEfc.prototype.al2=function(J){var v=J.data,h=v.Vn,x=this.CB.GEfs.v;
if(v.bT){x[h].v.GELv.v=!x[h].v.GELv.v;this._t()}else this.wn=h;this.Q8()};i8.GEfc.prototype.Q8=function(){var J=this.CB.GEfs.v,v=J[this.wn].v,x=v.GEfk.v.GEft,o=this.sU;
if(j$.names[x]==null){alert("Unsupported gallery filter");B.wp(o)}else{this.C7=x;for(var R in this.xe)B.Nv(this.xe[R],"selected");
B._H(this.xe[x],"selected");var r=this.o9[x];r.q(v);if(o.firstChild!=r._){B.wp(o);o.appendChild(r._)}}var l=[];
for(var h=0;h<J.length;h++){var M=J[h].v,P=j$.names[M.GEfk.v.GEft],S=new gQ(h,!0,!0,null,P?P[1]:"Filter",h==this.wn,M.GELv.v);
S.parent=this;l.push(S._)}B.wp(this.c0);l.reverse();for(var h=0;h<l.length;h++)this.c0.appendChild(l[h]);
this.qe()};i8.GEfc.prototype.s=function(){return g.F(this.CB)};i8.GEfc.prototype._t=function(J){var v=this.ti,x=this.RI,o=this.ic,R=this.C7,r=this.CB,l=this.f;
a8.vY("GEfc",{S:this.ti,buffer:this.RI},r,g.x7(l.P4),g.x7(l.Vb),{S:this.ti,buffer:this.ic},null);this.view.q([{P0:v,data:o.buffer}])};
i8.GEfc.prototype.d=function(){for(var J in this.o9)this.o9[J].d();hm.BJ(this.cq,["lrs/newlayer","lrs/bin"])};
i8.GEfc.Jk=function(J){aJ.call(this);this.dP=J;this._=B.l("div");this.ij={};var v=j$.ow(J);for(var x in v){var o=null;
if(x=="__name"||x=="classID"||x=="GEfk"||x=="GELv"||["FlRs"].indexOf(x)!=-1)continue;else if(x=="EdgW")o=new jL([24,21,0],1,14);
else if(x=="EdgB")o=new jL([24,21,1],0,J=="AccE"?50:20);else if(x=="Smth")o=new jL([19,3,3],1,J=="Stmp"?50:15);
else if(x=="ClSz")o=new jL([12,61],3,100);else if(x=="BrdT")o=new jL([7,9],1,20);else if(x=="HghS")o=new jL([12,64],0,20);
else if(x=="HlSz")o=new jL([12,14,0],1,15);else if(x=="Cntr")o=new jL([12,3,0],0,J=="WtrP"?100:50);else if(x=="Shrp")o=new jL([24,21,2],0,40);
else if(x=="SprR")o=new jL([24,21,3],0,25);else if(x=="LgDr")o=new jL([24,21,4],0,J=="Stmp"?50:100);
else if(x=="Drkn")o=new jL([24,21,5],1,50);else if(x=="Dstr")o=new jL([24,21,6],0,20);else if(x=="Scln")o=new jL([12,38],50,200);
else if(x=="Rlf")o=new jL([24,21,7],0,J=="Ptch"||J=="NtPr"?25:50);else if(x=="ChAm")o=new jL([24,21,8],1,7);
else if(x=="Pncl")o=new jL([19,2,5],1,30);else if(x=="StrP")o=new jL([24,21,9],0,15);else if(x=="PprB")o=new jL([24,21,10],0,50);
else if(x=="BrsS")o=new jL([24,21,11],0,10);else if(x=="BrsD")o=new jL([24,21,12],0,10);else if(x=="Txtr")o=new jL([12,67],1,3);
else if(x=="Grn")o=new jL([24,20,42],0,20);else if(x=="HghA")o=new jL([24,21,13],0,20);else if(x=="Intn")o=new jL([24,21,14],0,10);
else if(x=="Brgh")o=new jL([24,21,15],0,J=="WtrP"?100:50);else if(x=="StrS")o=new jL([24,21,16],1,50);
else if(x=="StDt")o=new jL([24,21,17],1,3);else if(x=="Sftn")o=new jL([24,21,18],0,10);else if(x=="EdgT")o=new jL([24,21,19],0,10);
else if(x=="EdgI")o=new jL([24,21,20],0,10);else if(x=="Pstr")o=new jL([24,21,23],0,6);else if(x=="Dfnt")o=new jL([24,21,24],0,25);
else if(x=="TxtC")o=new jL([24,21,25],0,50);else if(x=="ShdI")o=new jL([24,21,26],0,10);else if(x=="DrcB")o=new jL([24,21,28],0,100);
else if(x=="Strg")o=new jL([12,64],1,3);else if(x=="Blnc")o=new jL([24,21,27],0,10);else if(x=="BlcI")o=new jL([24,21,30],0,10);
else if(x=="WhtI")o=new jL([24,21,31],0,10);else if(x=="DrkI")o=new jL([24,21,32],0,50);else if(x=="LghI")o=new jL([24,21,33],0,50);
else if(x=="StrW")o=new jL([24,21,34],3,15);else if(x=="Grns")o=new jL([24,21,36],0,J=="NtPr"?20:10);
else if(x=="GlwA")o=new jL([24,21,37],0,20);else if(x=="ClrA")o=new jL([24,21,38],0,20);else if(x=="ChrA")o=new jL([24,21,39],0,20);
else if(x=="ChlA")o=new jL([24,21,40],0,20);else if(x=="FrgL")o=new jL([24,21,41],1,15);else if(x=="BckL")o=new jL([24,21,42],1,15);
else if(x=="WhtL")o=new jL([24,21,42],0,50);else if(x=="BlcL")o=new jL([24,21,41],0,50);else if(x=="ImgB")o=new jL([24,21,29],0,50);
else if(x=="Dnst")o=new jL([12,74],0,50);else if(x=="FbrL")o=new jL([24,21,43],3,50);else if(x=="CrcS")o=new jL([24,21,44],2,100);
else if(x=="CrcD")o=new jL([24,21,45],0,10);else if(x=="CrcB")o=new jL([24,21,46],0,10);else if(x=="TlSz")o=new jL([24,21,47],2,100);
else if(x=="GrtW")o=new jL([24,21,48],1,15);else if(x=="LghG")o=new jL([24,21,49],0,10);else if(x=="SqrS")o=new jL([24,21,50],0,10);
else if(x=="RplS")o=new jL([24,21,51],1,15);else if(x=="RplM")o=new jL([24,21,52],0,20);else if(x=="NmbL")o=new jL([24,21,53],2,8);
else if(x=="EdgS")o=new jL([24,21,21],0,10);else if(x=="EdgF")o=new jL([24,21,22],1,3);else if(x=="Sz")o=J=="NGlw"?new jL([24,21,54],-24,24):new jL([24,21,11],1,50);
else if(x=="Dtl")o=J=="Chrc"?new jL([24,21,56],0,5):new jL([24,21,56],1,15);else if(x=="StrL")o=J=="InkO"?new jL([24,21,35],1,50):new jL([24,21,35],0,20);
else if(x=="TxtT")o=new dp([12,67],[[24,22,0],[24,22,1],[24,22,2],[24,22,3],[24,22,4],[24,22,5],[24,22,6]]);
else if(x=="BrsT")o=new dp([24,21,57],[[24,23,0],[24,23,1],[24,23,2],[24,23,3],[24,23,4],[24,23,5]]);
else if(x=="Grnt")o=new dp([24,21,58],[[24,24,0],[24,24,1],[24,24,2],[24,24,3],[24,24,4],[24,24,5],[24,24,6],[22,4,0],[22,4,1],[24,24,7]]);
else if(x=="SDir")o=new dp([12,33],[[24,25,0],[22,4,0],[24,25,1],[22,4,1]]);else if(x=="ScrT")o=new dp([12,62],[[12,93,5],[12,93,6],[10,35]]);
else if(x=="LghD"||x=="LghP")o=new dp([24,21,59],[[24,26,0],[24,26,1],[24,26,2],[24,26,3],[24,26,4],[24,26,5],[24,26,6],[24,26,7]]);
else if(x=="Clr")o=new hf([24,21,55]);else if(x=="InvT")o=new a9([4,11]);else console.log(x);o.P(j.E.n,this.hK,this);
o.parent=this;this.ij[x]=o;this._.appendChild(o._)}};i8.GEfc.Jk.prototype=new aJ;i8.GEfc.Jk.prototype.hK=function(J){this.a(new dd(j.E.n,!1))};
i8.GEfc.arU="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
i8.GEfc.Jk.prototype.q=function(J){for(var v in this.ij){var x;if(i8.GEfc.arU.indexOf(v)!=-1)x=J[v].v;
else if(v=="TxtT")x=j$.mR.indexOf(J[v].v[v]);else if(v=="BrsT")x=j$.agZ.indexOf(J[v].v[v]);else if(v=="LghD")x=j$.Ko.indexOf(J[v].v[v]);
else if(v=="LghP")x=j$.Cw.indexOf(J[v].v[v]);else if(v=="Grnt")x=j$.X1.indexOf(J[v].v[v]);else if(v=="ScrT")x=j$.UI.indexOf(J[v].v[v]);
else if(v=="SDir")x=j$.gI.indexOf(J[v].v.StrD);this.ij[v].q(x)}};i8.GEfc.Jk.prototype.s=function(){var J=j$.ow(this.dP);
for(var v in this.ij){var x=this.ij[v].s();if(i8.GEfc.arU.indexOf(v)!=-1)J[v].v=x;else if(v=="TxtT")J[v].v[v]=j$.mR[x];
else if(v=="BrsT")J[v].v[v]=j$.agZ[x];else if(v=="LghD")J[v].v[v]=j$.Ko[x];else if(v=="LghP")J[v].v[v]=j$.Cw[x];
else if(v=="Grnt")J[v].v[v]=j$.X1[x];else if(v=="ScrT")J[v].v[v]=j$.UI[x];else if(v=="SDir")J[v].v.StrD=j$.gI[x]}return J};
i8.GEfc.Jk.prototype.d=function(){for(var J in this.ij)this.ij[J].d()};i8["Adobe Camera Raw Filter"]=function(){var J=function(v){i8.call(this,"Adobe Camera Raw Filter");
var x=this._;this.asy=v;this.t3=null;this._a=null;this.a2B="";this.oP=null;this.qR=1e3;this.MJ=null;
this.tg=null;B._H(x,"flexrow");var o=B.l("div"),R=B.l("div","padded");x.appendChild(o);x.appendChild(R);
this.view=new iW(!1,v);this.view.P("zoom",this._t,this);o.appendChild(this.view._);this.kw=new jy(225);
this.kw.kO(4);R.appendChild(this.kw._);this.dN=B.l("div");B.L(this.dN,"width:18em;");R.appendChild(this.dN);
this.DX=new aT("Hi",!0);this.dN.appendChild(this.DX._);this.ajJ=B.l("div","scrollable");this.dN.appendChild(this.ajJ);
this.ij={Temp:new jL("Temperature",-100,100),Tint:new jL("Tint",-100,100),Ex12:new jL([4,3],-4,4,null,!0),Cr12:new jL([12,3,0],-100,100),Vibr:new jL([4,4],-100,100),Strt:new jL([12,9],-100,100)};
this.s_={Temp:new jL("Temperature",2e3,3e4),Tint:new jL("Tint",-100,100),Ex12:new jL([4,3],-4,4,null,!0)};
for(var r in this.ij){var l=v&&this.s_[r]?this.s_[r]:this.ij[r];l.q(0);l.P(j.E.n,this._t,this);this.ajJ.appendChild(l._)}};
J.prototype=new i8;J.prototype.WV=function(){return!0};J.prototype.fQ=function(v){v.style.marginTop="4px";
this.dN.appendChild(v)};J.prototype.lb=function(v){this.view.lb(v)};J.prototype.pJ=function(v,x){this.kw.VR(k$.Ga[v.Lh]["--text-color"])};
J.prototype.axP=function(v){var x=g.raw.ayZ(v),o=x.aD9,R=x.aEC,r=o*R,l=new jj(0,0,o,R),M=x.r3,P=new Float32Array(o*R*4);
for(var h=0;h<r;h++){var S=h*4,c=h*3;P[S]=M[c];P[S+1]=M[c+1];P[S+2]=M[c+2];P[S+3]=1}this.t3=[P,l];g.DV(this.t3);
this._a=v;var b=g.raw.a1k(v),w=gk.aEi(b);this.s_.Temp.q(w.d5);this.s_.Tint.q(w.A0);this.s_.Ex12.q(0);
var U=new Float32Array(r*4);U.fill(1);var F=a8.ow("Adobe Camera Raw Filter");this.ahn(F,U,l)};J.prototype.a4m=function(v,x){var o=this.s_,R=o.Temp.s(),r=o.Tint.s(),l=o.Ex12.s(),M=R+":"+r+":"+":"+l+":"+x+":"+v;
if(this.a2B==M)return;this.a2B=M;var P=Date.now();g.raw.p2(this.t3[x*2],this.oP[x*2],this._a,[R,r,l],v);
console.log(Date.now()-P,"remapping XYZ")};J.prototype.q=function(v,x,o,R,r){var l=new Float32Array(o.o()*4);
g.N2(x,32,l);this.ahn(v,l,o)};J.prototype.ahn=function(v,x,o){this.CB=v;this.ti=o;var R=o.r,r=o.$,l=R*r;
this.DX.q(R+" x "+r+", "+(R*r/1e6).toFixed(1)+" MPx");this.qR=1e3;this.a2B="";this.oP=[x,o];this.MJ=[new Float32Array(R*r*4),o];
this.MJ[0].fill(1);this.tg=[new Uint8Array(R*r*4),o];this.tg[0].fill(255);g.DV(this.oP);g.DV(this.MJ);
g.DV(this.tg);for(var M in this.ij){this.ij[M].q(v[M]?v[M].v:0)}this.view.q([{P0:o,data:this.tg[0].buffer}]);
this.view.te();this._t(null)};J.prototype.aC9=function(v,x){var o=this.ti,R=this.MJ[0];if(this.asy)this.a4m(v,0);
hI(this.oP[0],o.r,o.$,R,this.CB);return[g.N2(R,x),o]};J.prototype.s=function(){return g.F(this.CB)};
J.prototype.a9h=function(){this.t3=null;this.MJ=null;this.oP=null;this.tg=null};J.prototype._t=function(v){if(v&&v.target!=this.view){this.qR=1e3;
for(var x in this.ij){this.CB[x]={t:x=="Ex12"?"doub":"long",v:this.ij[x].s()}}}var o=this.view.Rj().NT,R=0;
while(o*2<=1){o*=2;R++}if(this.qR<=R)return;this.qR=R;var r=this.a0r(R);this.kw.q(r);this.view.q([{P0:this.ti,data:this.tg[0].buffer}])};
J.prototype.a0r=function(v){console.log("---");var x=this.oP[v*2],o=this.MJ[v*2],R=this.tg[v*2],r=this.oP[v*2+1],l=r.r,M=r.$;
if(this.asy)this.a4m(0,v);hI(x,l,M,o,this.CB);var P=Date.now();g.N2(o,8,R);console.log(Date.now()-P,"integer conversion");
P=Date.now();var S=g.n7(R,Math.max(1,Math.floor(l*M/2e5)));console.log(Date.now()-P,"histogram done");
P=Date.now();if(v!=0){var c=new Uint32Array(R.buffer),b=new Uint32Array(this.tg[0].buffer),w=this.ti.r,U=this.ti.$;
for(var F=0;F<U;F+=2)for(var Y=0;Y<w;Y+=2){var A=F*w+Y,G=c[(F>>>v)*l+(Y>>>v)];b[A]=G;b[A+1]=G;b[A+w]=G;
b[A+w+1]=G}console.log(Date.now()-P,"upscale");P=Date.now()}for(var r=0;r<2;r++)for(var G=0;G<4;G++){var M=S[G],U=M.slice(0);
for(var h=1;h<M.length-1;h++)M[h]=(U[h-1]+U[h]+U[h+1])*.33333}return S};J.prototype.qe=function(v,x){this.a1C=v-248;
this.ad3=x;this.view.qe(this.a1C,this.ad3);this.ajJ.style.height=x-264+"px"};J.prototype.d=function(){for(var v in this.ij)this.ij[v].d();
for(var v in this.s_)this.s_[v].d()};return J}();i8.VaPo=function(){i8.call(this,"VaPo");this.J=-1;this.dW=null;
this.$x=!1;this.SW=null;this.sC=null;this.mx=null;this.$R=null;this.lQ=null;this.aoG=null;this.x_=null;
this.axf=null;this.Yh=null;this.eT=null;this.DH=null;this.Es=[];this.os=-1;this.Y=null;this.W={n8:[[{J:{id:0,name:"Move",Q2:"tools/move"}}],[{J:{id:1,name:"Create Plane",Q2:"tools/pcrop"}}],[{J:{id:2,name:"Marquee",Q2:"tools/rselect"}}],[{J:{id:3,name:"Stamp",Q2:"tools/clone"}}],[{J:{id:4,name:"Brush",Q2:"tools/brush"}}],[{J:{id:5,name:"Transform",Q2:"tools/transform"}}],[{J:{id:6,name:"Hand",Q2:"tools/hand"}}],[{J:{id:7,name:"Zoom In",Q2:"zoomIn"}}],[{J:{id:8,name:"Zoom Out",Q2:"zoomOut"}}]],keys:[gw.g3,gw.wC,gw.LO,gw.Xv,gw.Nu,gw.QF,gw.HN,gw.mK]};
this.LS=new bk(this.W,!1);this.LS.P(j.E.j,this.I$,this);this.TG=null;this.ti=null;this.RI=null;this.ayM=null;
this.ic=null;this._C=null;var J=B.l("div","flexrow"),o=0;this.qX=J;this._.appendChild(J);J.appendChild(this.LS._);
var v=B.l("div");J.appendChild(v);var top=B.l("div","form");v.appendChild(top);B.L(top,"padding-left:8px; height:30px;");
this.X_=B.l("span");top.appendChild(this.X_);this.yV=[[new fL([12,80,5],1,1e3)],[new fL([7,6],0,30)],[new fL([12,14],1,200),new fL([12,17],0,100),new fL([12,0],0,100),new a9([12,75])],[new fL([12,14],1,200),new fL([12,17],0,100),new fL([12,0],0,100),new hf],[new a9("Flip"),new a9("Flop")],[]];
var x=[100,0,100,100,100,!1,100,100,100,JSON.parse(gD.Zg.uz.slice(6)).v];this.NI=[];for(var h=0;h<6;
h++){var R=B.l("span"),r=this.yV[h];this.NI.push(R);for(var l=0;l<r.length;l++){var M=r[l];M.parent=this;
M.q(x[o++]);M.P(j.E.n,this.aHh,this);R.appendChild(M._)}}this.aFw=B.l("div");B.L(this.aFw,"display:inline-block;float:right; width:100px;");
top.appendChild(this.aFw);this.view=new iW(!0);this.view.qe(100,100);this.view.cT("auto");this.view.P("mousedown",this.y1,this);
this.view.P("mousemove",this._k,this);this.view.P("mouseup",this.Vg,this);B.W4(this.view.W0,this.Uy.bind(this));
v.appendChild(this.view._)};i8.VaPo.prototype=new i8;i8.VaPo.prototype.WV=function(){return!0};i8.VaPo.prototype.fQ=function(J){this.aFw.appendChild(J)};
i8.VaPo.prototype.aHh=function(J){if(J.target==this.yV[0][0]){var v=this.A7(),x=J.target.s();for(var h=0;
h<this.Y.length;h++)if(this.Y[h].length!=0&&v[h])v[h][0]=x;this.ZN(v)}if(this.J==5){this.TG=this.fO();
this._t(!0)}this._t()};i8.VaPo.prototype.lb=function(J){var v=this.J,x=this.sC;if(v==3||v==4){var o=this.yV[v-1],R=br.qF(),r=R.Brsh.v;
r.Dmtr.v.val=o[0].s();r.Hrdn.v.val=o[1].s();R=H.P8.lY(R,J);if(R){r=R.Brsh.v;o[0].q(r.Dmtr.v.val);o[1].q(r.Hrdn.v.val)}this.B4()}if(v==1&&x&&(J.M(gw.Fp)||J.M(gw.hP))){x.pop();
x.pop();if(x.length==0)x=this.sC=null;this._t()}function l(c,h,F){g.sW(c[h],c[0],F.RI,F.ti);F.wZ(c[0])}this.SW=J;
if(v<6)this.view.lb(J);var M=J.M(gw.aw);if(M){var P=this.os,S=0;if(J.M(gw.mK)){if(J.M(gw.Yv))S=1;else S=-1}else if(J.M(gw.Ds))S=1;
if(S!=0&&v!=5){console.log(this.os,S,this.Es);var c=this.Es[this.os],b=!1;if(c.length==3&&S==-1){l(c,1,this);
b=!0}P+=S;this.os=Math.max(0,Math.min(this.Es.length-1,P));c=this.Es[this.os];if(c.length==3&&S==1){l(c,2,this);
b=!0}this._t(b)}if(J.M(gw.g3)){if(B.N4())aB.akd(this.y4.bind(this))}if(J.M(gw.Ao)){this.lQ=null;this._t()}}else{var w=this.W.keys;
for(var h=0;h<w.length;h++)if(J.M(w[h]))this.p1(h)}if(J.M(gw.hP)||J.M(gw.Fp)){var U=this.A7();U=g.Xh.a7V(U,this.Y);
this.Y=[];for(var h=0;h<U.length;h++)this.Y[h]=[];this.ZN(U);this._t()}};i8.VaPo.prototype.y4=function(J){if(J=="granted")aB._l(this,this.S3.bind(this))};
i8.VaPo.prototype.S3=function(J,v){var x=this.A7();if(x.length==0){alert("Make a plane before pasting an image");
return}if(this.$R==null)this.$R=[0,0];if(this.J==5)this.p1(0);this.p1(5,{u8:J,Yf:v})};i8.VaPo.prototype.I$=function(J){if(J.data.R==j.m.lE){this.p1(J.data.J)}};
i8.VaPo.prototype.ajM=function(J){var v=this.view._8(J),x=g.Xh.ew(this.A7(),this.Y),o=1e9,R=0;for(var h=0;
h<x.length;h++){var r=x[h][0],l=v.x-r[0],M=v.y-r[1],P=Math.sqrt(l*l+M*M);if(P<o){o=P;R=h}}if(o>4*B.rR()/this.view.Rj().NT)return null;
return x[R]};i8.VaPo.prototype.Uy=function(J){var v=this.J,x=this.sC;if(v<2&&!this.$x){var o=this.dW=this.ajM(J),R=this.A7(),r="auto";
if(v==0&&g.Xh.dp(R,o)){var l=R[o[1]][1][o[2]],M=l[5+{1:0,5:1,7:2,3:3}[o[3]]],P=M[0],S=M[1];r=jY.aIW(P[1]-S[1],-P[0]+S[0])}if(g.Xh.aDP(R,o))r="crosshair";
this.view.cT(r)}if(x){var c=this.view._8(J),b=x.slice(0);x[x.length-2]=c.x;x[x.length-1]=c.y;this._t()}this.B4(J);
if(v==5&&!this.$x&&this.d7){var c=this.view._8(J),R=this.A7(),w=g.Xh.A8(R,c.x,c.y,this.ef());if(w){var U=new aG(w[2][0],w[2][1]),F=g.Xh.lM(R,R[w[0]][1][w[1]],this.ef()),Y=F[1],A=g.O.e6(F[0],Y),G=[Y.x+Y.r/2,Y.y+Y.$/2];
g.O.u(A,G);var n=c.x-G[0],E=c.y-G[1],K=this.d7.Nh(U,this.view.Rj().NT,null,null,Math.atan2(-E,-n));this.view.cT(K?K:"default")}}};
i8.VaPo.prototype.B4=function(J){var v=this.J,x=this.SW;if((v==3||v==4)&&!this.$x){var o=J?this.view._8(J):this.xW,R=this.A7();
this.xW=o;if(o==null)return;var r=g.Xh.A8(R,o.x,o.y,this.ef());if(r){if(v==3&&this.DH&&this.yV[2][3].s()){var l=new aG(r[2][0],r[2][1]);
this.eT=l.aA(this.DH);this._t()}if(v==3&&(this.eT==null||x&&(x.M(gw.i4)||x.M(gw.Lo)))){if(this.TG){this._C=null;
this.wZ(this.TG);this._t(!0,this.TG)}return}this.auX(r,this.TG)}}};i8.VaPo.prototype.ef=function(){return[this.ti.r/2,this.ti.$/2]};
i8.VaPo.prototype.y1=function(J){this.$x=!0;var v=this.J,x=this.sC,o=this.A7(),R=this.SW,r=this.dW=this.ajM(null),l=this.view._8(),M=g.Xh.A8(o,l.x,l.y,this.ef()),P=M?new aG(M[2][0],M[2][1]):null;
if(g.Xh.aDP(o,r)){var S=o[r[1]][1][r[2]];o.splice(r[1],1);this.Y.splice(r[1],1);x=g.Xh.aCM(S);var c=-1,l=r[0];
for(var h=0;h<8;h+=2){var b=x[h]-l[0],w=x[h+1]-l[1];if(b*b+w*w<1e-5)c=h}c=c+2&7;x=this.sC=x.slice(c).concat(x.slice(0,c));
this.ZN(o)}else if(g.Xh.dp(o,r)){if(v==1||R&&R.M(gw.aw)){o=g.Xh.aq3(o,r,this.ef());this.ZN(o);r[2]=o[r[1]][1].length-1;
r[3]=8+(r[3]+4&7);this.Y[r[1]].push(r[2]);this.ZN(o,!0);this.p1(0)}else this.ZN(this.A7(o))}else if(v==0){var U=[];
for(var h=0;h<o.length;h++)U.push([]);if(M){if(R&&R.M(gw.Yv))U=this.Y;var F=U[M[0]].indexOf(M[1]);if(F==-1)U[M[0]].push(M[1]);
else U[M[0]].splice(F,1)}this.Y=U;this.ZN(o,!0);this._t()}else if(v==2){if(M){var Y=this.lQ;if(Y&&Y.bB(P)){if(R)if(R.M(gw.i4)||R.M(gw.aw)){this.p1(5);
this.y1(J);return}this.aoG=new aG(P.x-Y.x,P.y-Y.y)}else{this.mx=M[2].concat(M[2]);this.$R=M}}}else if(v==3||v==4){if(v==3){if(R&&(R.M(gw.i4)||R.M(gw.Lo))){if(M){this.eT=P;
this.axf=P.Q();this.DH=null;this.Yh=M;this._t()}else alert("You must click into a plane");this.$x=!1;
return}else if(this.eT==null){alert(ea.get([15,7,0]));this.$x=!1;return}else if(M){var A=this.DH=P.aA(this.eT)}}if(M){this.auX(M)}}else if(v==5){if(M){var G=new aG(M[2][0],M[2][1]),n=this.d7._N({U:this.view.Rj()},{},R,G)}}};
i8.VaPo.prototype.auX=function(J,v){var x=this._C;if(x==null)this._C=x=g.C(this.ti.o()*4);else x.fill(0);
var o=this.J;this.$R=J;var R=this.yV[o-1],r=g.aIw.amW(R[0].s(),R[1].s()/100,1),l=g.C(r[1].o()*4);g.Os(r[0],l,3);
if(o==4){var M=g.UH.Eb(R[3].s());g.rd(l,M.z/255,M.H/255,M.c/255)}this.x_={arb:r[0],u8:l,Yf:r[1]};var P=this.TG=this.CP(J[2],J[2]),S=v?v.h0(P):P;
this.wZ(S);this._t(!0,S)};i8.VaPo.prototype._k=function(J){var v=this.dW,x=this.J,o=this.A7();if(x==0&&g.Xh.dp(o,v)){o=g.Xh.aCB(o,v,this.view._8());
this.ZN(o,!0);this._t()}var R=this.aoG;if(x==2&&this.$x&&(this.mx||R)){var r=this.view._8(),l=g.Xh.A8(o,r.x,r.y,this.ef());
if(l){this.$R=l;if(R){this.lQ.x=l[2][0]-R.x;this.lQ.y=l[2][1]-R.y}else{this.mx=this.mx.slice(0,2).concat(l[2]);
this.lQ=g.b.jR(this.mx)}this._t()}}if((x==3||x==4)&&this.$x){var r=this.view._8(),l=g.Xh.A8(o,r.x,r.y,this.ef());
if(l){if(x==3){var M=this.DH;this.eT=new aG(l[2][0]-M.x,l[2][1]-M.y)}var P=this.CP(this.$R[2],l[2]);
this.TG=this.TG.h0(P);this.$R=l;this.wZ(P);this._t(!0,P)}}if(x==5&&this.$x){var r=this.view._8(),l=g.Xh.A8(o,r.x,r.y,this.ef(),this.$R);
if(l){var S=new aG(l[2][0],l[2][1]);this.d7.kq({U:this.view.Rj()},{},this.SW,S);this.$R=l;var P=this.TG;
if(P)this.wZ(P);else P=new jj;this.TG=this.fO(null,null,!0);this._t(!0,P.h0(this.TG))}}};i8.VaPo.prototype.CP=function(J,v){J=new aG(J[0],J[1]);
v=new aG(v[0],v[1]);var x=Math.max(1e-5,aG.Aj(J,v)),o=this.x_.Yf.r*.2,R=new jj;for(var r=0;r<x;r+=o){var l=1-r/x,M=l*J.x+(1-l)*v.x,P=l*J.y+(1-l)*v.y,S=this.x_.Yf.Q();
S.x=Math.round(M-S.r/2);S.y=Math.round(P-S.$/2);if(this.J==3){var c=this.DH;if(c==null)c=new aG(M,P).aA(this.eT);
var b=this.lQ=S.Q();b.x=Math.round(b.x-c.x);b.y=Math.round(b.y-c.y);var w=this.x_.arb;this.x_=this.ado(this.Yh);
this.lQ=null;g.xh(w,this.x_.u8);this.x_.arb=w}var U=this.fO(this._C,S);R=R.h0(U)}return R};i8.VaPo.prototype.Vg=function(J){var v=this.dW;
if(v&&v[3]>=8){var x=g.Xh.a4g(this.A7(),v,this.ef());this.ZN(x,!0);this._t();alert("new plane added")}var o=this.J,R=this.sC;
if(R||o==1){var r=this.view._8();if(R==null)R=this.sC=[r.x,r.y];if(R.length==8&&jY.Ub(R)){var x=this.A7();
x.push([100,[g.Xh.aFf(R,this.ef())]]);this.Y.push([0]);this.ZN(x,!0);R=this.sC=null;this.p1(0);this._t()}else if(R.length<8){R.push(r.x,r.y);
if(R.length==8&&!jY.Ub(R)){var l=R[0],M=R[1];R[0]=R[4];R[1]=R[5];R[4]=l;R[5]=M}}}var P=this.mx;if(o==2&&P&&P[0]==P[2]&&P[1]==P[3]){this.lQ=null;
this._t()}if((o==3||o==4)&&this.$x){if(o==3&&!this.yV[2][3].s()&&this.axf){this.eT=this.axf.Q();this._t()}this.ZN();
this._C=null}if(!this.yV[2][3].s())this.DH=null;this.$x=!1;this.aoG=null;this.mx=null};i8.VaPo.prototype.p1=function(J,v){if(J==this.J)return;
var x=this.TG,R=6;if(this.J==5){this.ZN();this.wZ(x);this.d7=null;this._t()}if(this.J==3||this.J==4){this._C=null;
if(x)this.wZ(x);this._t(!0,x)}if(J==5){if(v==null&&this.lQ==null){alert("Select the area to be transformed");
return}this.a36(v)}if(J>1){var o=this.A7();this.Vp();this.ZN(o,!0);this._t()}this.view.lb(J>=R?iW.NN(J-R):new gw(!0));
if(J<R)this.view.cT("auto");this.J=J;this.LS.p1(J);B.wp(this.X_);var r={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[J];
this.X_.appendChild(this.NI[r])};i8.VaPo.prototype.A7=function(){var h=this.os,J=this.Es;while(J[h].length==3)h--;
var v=J[h];this.Y=JSON.parse(v[1]);return JSON.parse(v[0])};i8.VaPo.prototype.ZN=function(J,v){if(J==null&&this.TG==null)return;
var x=this.Es,o=this.os,h=o;while(h>=0&&x[h].length==3)h--;if(v==null)this.os=o=o+1;if(J!=null)x[v?h:o]=[JSON.stringify(J),JSON.stringify(this.Y)];
else{var R=this.ti,r=this.TG,l=g.C(r.o()*4),M=g.C(r.o()*4);x[o]=[r,l,M];g.sW(this.RI,R,l,r);if(this._C)g.v.Ry("norm",this._C,R,this.RI,R,R,this.atJ());
else this.fO(this.RI);g.sW(this.RI,R,M,r);this.TG=null}while(x.length!=o+1)x.pop()};i8.VaPo.prototype.atJ=function(){return this.yV[this.J-1][2].s()/100};
i8.VaPo.prototype.Vp=function(J,v){if(J==null)J=this.A7();this.Y=[];for(var h=0;h<J.length;h++){var x=[];
this.Y.push(x);if(v)for(var o=0;o<J[h][1].length;o++)x.push(o)}};i8.VaPo.prototype.q=function(J,v,x,o,R,r){var l=g.F(r[2].Xh);
this.os=-1;this.Vp(l);this.ZN(l);var M=g.C(o.o()*4);g.sW(v,x,M,o);this.aAq=new jj;this.ti=o;this.ayM=R;
this.RI=M;this.ic=R.slice(0);this.wZ(o);this._t(!0);this.view.te();this.p1(0)};i8.VaPo.prototype.a36=function(J){this.x_=J?J:this.ado();
var v=g.b.ho(this.x_.Yf).T;if(J){var x=this.A7(),o=g.Xh.lM(x,x[0][1][0],this.ef()),R=o[1],r=Math.min(R.r/J.Yf.r,R.$/J.Yf.$)*.9;
if(r<1)g.b.u(v,new bC(r,0,0,r,0,0),v)}this.d7=new jY(v,!0,!0);this.lQ=null;this.TG=this.fO();this._t(!0)};
i8.VaPo.prototype.ado=function(J){var v=this.ti,x=g.b.RN(this.lQ),o=this.A7(),R=g.C(x.o()*4);if(J==null)J=this.$R;
var r=o[J[0]][1],l=g.Xh.l3(o[J[0]][1],J[1],x,this.ef());for(var M=0;M<l.length;M++){var P=r[l[M]],S=g.Xh.lM(o,P,this.ef()),c=S[0],b=S[1],w=b.Xt(x);
if(w.L3())continue;w=g.b.RN(w);var U=g.C(w.o()*4),F=g.O.e6(c,b);F=g.O.K1([1/v.r,0,0,0,1/v.$,0,0,0],F);
F=g.O.SV(F);g.O.drawImage(F,this.ic,v.r,v.$,U,w);g.sW(U,w,R,x)}var Y=this.yV[1][0].s(),A=Math.round(Y*1.4),G=x.Q();
G.rz(-A,-A);var n=g.C(G.o());n.fill(255);var E=g.C(x.o());g.Cc(n,G,E,x);var K=E.slice(0);g.Wh.MM(K,x,Y);
g.Vi(R,E,3);g.tp.Xt(E,K,K);g.Os(K,R,3);return{u8:R,Yf:x}};i8.VaPo.prototype.wZ=function(J,v){var x=this.ti;
g.sW(this.ayM,x,this.ic,x,J);g.v.Ry("norm",this.RI,x,this.ic,x,J,1);if(this._C)g.v.Ry("norm",this._C,x,this.ic,x,J,this.atJ())};
i8.VaPo.prototype.fO=function(J,v,x){var o=this.x_,R=o.Yf,r=this.ti,l,M=v?g.b.ho(v).T:this.d7.ew(),P=g.b.ni(M),l=g.O.e6(M,R),S=this.yV[4],c=new bC;
if(S[0].s()){c.o5=-1;c.zP=2*R.x+R.r}if(S[1].s()){c.fn=-1;c.jD=2*R.y+R.$}l=g.O.K1(l,g.O.Mf(c));function b(T,f){T.beginPath();
T.moveTo(f[0],f[1]);for(var h=1;h<4;h++)T.lineTo(f[h*2],f[h*2+1]);T.closePath()}var w=this.A7(),U=g.Xh.l3(w[this.$R[0]][1],this.$R[1],P,this.ef()),F=w[this.$R[0]][1],Y=new jj;
for(var A=0;A<U.length;A++){var G=F[U[A]],n=g.Xh.lM(w,G,this.ef()),E=n[0],K=n[1],e=K.Xt(P);if(this.lQ)e=e.Xt(this.lQ);
if(e.L3())continue;var $=g.O.e6(E,K),N=g.b.ho(e).T;g.O.u($,N);var k=M.slice(0);g.O.u($,k);var V=g.b.jR(k).Xt(g.b.jR(N)),X=V.r,Q=V.$;
if(V.L3())continue;$=g.O.K1(g.O.K1($,l),[R.r,0,R.x,0,R.$,R.y,0,0]);var L=g.C(V.o()*4);g.O.drawImage($,o.u8,R.r,R.$,L,V,x);
if(e.o()!=P.o()){var _=g.n2(X,Q);_.save();_.clearRect(0,0,X,Q);_.translate(-V.x,-V.y);b(_,N);_.clip();
b(_,k);_.fill();_.restore();var a=new Uint8Array(_.getImageData(0,0,X,Q).data.buffer);for(var h=3;h<L.length;
h+=4)if(a[h]<L[h])L[h]=a[h]}g.v.Ry("norm",L,V,J?J:this.ic,r,V,1);Y=Y.h0(V)}return Y};i8.VaPo.prototype.s=function(){return g.F(this.A7())};
i8.VaPo.prototype.aG$=function(){if(this.J==5)this.p1(0);var J=new jj,v=this.Es;for(var h=0;h<=this.os;
h++)if(v[h].length==3)J=J.h0(v[h][0]);var x=g.C(J.o()*4);g.sW(this.RI,this.ti,x,J);return[x,J]};i8.VaPo.prototype.qe=function(J,v){this.LS.qe(J,v);
this.view.qe(J-40,v-30)};i8.VaPo.prototype.d=function(){this.LS.d();for(var h=0;h<this.yV.length;h++)for(var J=0;
J<this.yV[h].length;J++)this.yV[h][J].d()};i8.VaPo.prototype._t=function(J,v){var x=this.ti,o=[],R=[],r=[],l=this.A7(),M=g.Xh.ew(l,this.Y),P=0,S=null,A=null,G=null,n=null;
for(var h=0;h<M.length;h++)r.push(M[h][0][0],M[h][0][1]);for(var h=0;h<l.length;h++){var c=this.Y[h].length;
P+=c;if(c!=0)S=[h,this.Y[h][0]]}var b=this.yV[0][0];b.Ne(P!=0);if(P!=0)b.q(Math.round(l[S[0]][0]));if(P==1){var w=l[S[0]][1]}var U=[];
if(this.lQ&&l[this.$R[0]])U=g.Xh.l3(l[this.$R[0]][1],this.$R[1],this.lQ,this.ef());var F=[];if(this.d7){F=this.d7.a3$();
F[4]=this.d7.mt()}var Y=[];if(this.d7&&l[this.$R[0]])Y=g.Xh.l3(l[this.$R[0]][1],this.$R[1],g.b.jR(this.d7.ew()),this.ef());
for(var E=0;E<l.length;E++){var K=l[E][0],w=l[E][1],e=this.Y[E];for(var $=0;$<w.length;$++){var S=w[$],N=g.Xh.lM(l,S,this.ef()),k=N[0],x=N[1],V=g.O.e6(k,x);
if(x.L3()){if(G==null)G={Wp:[],T:[]};g.b.concat(G,{Wp:["M","L","L","L","Z"],T:k});continue}var X=g.b.ho(x),Q=X.T,L=X.Wp,_=this.eT;
if(_&&x.bB(_)&&this.Yh&&this.Yh[0]==E){A=[_.x,_.y];g.O.u(V,A)}if(U.indexOf($)!=-1){var a=this.lQ.Xt(x);
if(E==this.$R[0]&&!a.L3()){if(n==null)n={T:[],Wp:[]};var T=g.b.ho(a);g.O.u(V,T.T);g.b.concat(n,T)}}if(Y.indexOf($)!=-1&&E==this.$R[0]){var f=[];
for(var h=0;h<F.length;h++)if(x.bB(F[h]))f.push(F[h].x,F[h].y);if(f.length!=0){g.O.u(V,f);r=r.concat(f)}}if(e&&e.indexOf($)!=-1){var Z=Math.ceil(x.x/K)*K,W=x.x+x.r,D=Math.ceil(x.y/K)*K,C=x.y+x.$;
for(var d=Z;d<W;d+=K){Q.push(d,x.y,d,C);L.push("M","L")}for(var p=D;p<C;p+=K){Q.push(x.x,p,W,p);L.push("M","L")}}g.O.u(V,Q);
o=o.concat(L);R=R.concat(Q)}if(A&&this.J==3){var d=A[0],p=A[1],y=10/this.view.Rj().NT;R.push(d-y,p,d+y,p);
R.push(d,p-y,d,p+y);o.push("M","L","M","L")}}var k=this.sC,x=this.ti;if(k){var i=["M"];for(var h=0;h<k.length-2;
h+=2)i.push("L");i.push("Z");var t=H.cD.ut(k,x.r/2,x.$/2);if(isNaN(t)||t==Infinity||t==-Infinity||!jY.Ub(k)){if(G==null)G={Wp:[],T:[]};
g.b.concat(G,{Wp:i,T:k})}else{R=R.concat(k);o=o.concat(i)}}var O={xt:{Wp:o,T:R},a4B:G,a9m:n,f3:r,$N:null};
if(J){this.view.q([{P0:x,data:this.ic.buffer}],null,O,v)}else this.view.ahb(O)};i8.blnc=function(){i8.call(this);
var J=this._;this.av=null;this.VW=new dp([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.VW.P(j.E.n,this._t,this);
J.appendChild(this.VW._);this.ha=[];for(var h=0;h<3;h++){var v=new jL(["VAR0 - VAR1",kC.arh[h],kC.EJ[h]],-100,100);
v.P(j.E.n,this.vH,this);this.ha.push(v);J.appendChild(v._)}this.nC=new a9([13,4]);this.nC.P(j.E.n,this.vH,this);
J.appendChild(this.nC._)};i8.blnc.prototype=new i8;i8.blnc.prototype.d=function(){this.VW.d();for(var h=0;
h<3;h++)this.ha[h].d();this.nC.d()};i8.blnc.prototype.q=function(J){this.av=g.F(J);this._t()};i8.blnc.prototype.s=function(J){var v=["ShdL","MdtL","HghL"],x=this.av[v[this.VW.s()]].v;
for(var h=0;h<3;h++)x[h].v=this.ha[h].s();this.av.PrsL.v=this.nC.s();return g.F(this.av)};i8.blnc.prototype._t=function(J){var v=["ShdL","MdtL","HghL"],x=this.av[v[this.VW.s()]].v;
for(var h=0;h<3;h++)this.ha[h].q(x[h].v);this.nC.q(this.av.PrsL.v)};i8.brit=function(){i8.call(this,"brit");
this.G9.push(new jL([12,2],-150,150,""));this.G9.push(new jL([12,3,0],-100,100,""));this.G9.push(new a9([12,3,1]));
this.pU()};i8.brit.prototype=new i8;i8.curv=function(){i8.call(this);this.value=null;this.MU=null;this.f=null;
var J=this._;this.Y_=new dp("Preset",["basic","advanced"]);this.Y_.P(j.E.n,this.aa6,this);J.appendChild(this.Y_._);
B.A1(J);this.a7=new dp([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.a7.P(j.E.n,this.f7,this);J.appendChild(this.a7._);
this.v1=new dp(null,["Spline","Sketch"]);this.v1.P(j.E.n,this.aa6,this);J.appendChild(this.v1._);this.vi=new ht;
this.vi.parent=this;this.vi.P(j.E.n,this.Sf,this);J.appendChild(this.vi._);B.A1(J);this.II=new ec;this.II.P(j.E.n,this.ly,this);
J.appendChild(this.II._);this.Aa=null;this.avv=0;this.ae2=0;B.A1(J);this.bC=new bA("Sample from image",iF.gd(["#000000","#888888","#ffffff","-\u2195"]),!0,null,!0);
this.bC.P(j.E.n,this.Zh,this);this.bC._.style.marginRight="0";J.appendChild(this.bC._)};i8.curv.prototype=new i8;
i8.curv.prototype.pJ=function(J,v){if(v==cj.q6||v==cj.tI){var x=J.zo,o=["Default"];for(var h=0;h<x.length;
h++)o.push(x[h].presetFileName.v);o.push("Custom");this.Y_.Qw(o,[1,x.length,1]);this.f=J}};i8.curv.prototype.qe=function(J,v){this.II.qe(J,v)};
i8.curv.prototype.d=function(){this.a7.d();this.II.d()};i8.curv.prototype.iC=function(){this.Y_.q(this.f.zo.length+1)};
i8.curv.prototype.aa6=function(J){if(J.target==this.Y_){var v=this.Y_.s(),x=this.f.zo,o;if(v==0)o=a8.ow("curv");
else if(v-1<x.length)o=g.F(x[v-1]);else return;this.q(o);this.vH();return}this.iC();var R=k1.Tc(this.value,0),r=R.length==256?1:0,l=this.v1.s();
if(r==l)return;var o=a8.ow("curv");if(l==1){var M=[];for(var h=0;h<256;h++)M.push(h);k1.tM(o,0,M)}this.q(o);
this.vH()};i8.curv.prototype.ly=function(){this.iC();k1.tM(this.value,this.a7.s(),this.II.s());this.vH()};
i8.curv.prototype.f7=function(){var J=this.a7.s(),v=k1.Tc,x=v(this.value,J),o;if(J==0)o=[v(this.value,1),v(this.value,2),v(this.value,3)];
var R=x.length==256?1:0;this.v1.q(R);if(this.MU)this.II.MY(this.MU[J],this.MU[4]*[1,.33,.33,.33][J],["#ccc","#fcc","#cfc","#ccf"][J]);
this.II.q(x,null,o)};i8.curv.prototype.uj=function(){return!0};i8.curv.prototype._N=function(J,v,x,o,R){var r=this.value;
this.value=a8.ow("curv");this.vH();var l=H.WG.xv(J,R,1,null,!0),M=this.Aa=[l>>>16&255,l>>>8&255,l&255];
this.avv=R.y;this.q(r);this.vH()};i8.curv.prototype.kq=function(J,v,x,o,R){if(this.Aa==null)return;if(this.bC.s().indexOf(!0)==3){var r=this.Aa,l=this.value,M=this.a7.s(),P=k1.Tc(l,M),S,c=M==0?Math.round((r[0]+r[1]+r[2])/3):r[M-1],b=-1;
for(var h=0;h<P.length;h++)if(P[h].v.Hrzn.v==c)b=h;if(b==-1){S=g.F(P[0]);S.v.Hrzn.v=c;S.v.Vrtc.v=c;P.push(S);
P.sort(function(w,U){return w.v.Hrzn.v-U.v.Hrzn.v});k1.tM(l,M,P);b=P.indexOf(S)}S=P[b];S.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(S.v.Hrzn.v+(this.avv-R.y))));
k1.tM(l,M,P);this.q(l);this.vH()}};i8.curv.prototype.ER=function(J,v,x,o,R){i8.azx(this,J,R,"curv");
this.iC();this.Aa=null};i8.curv.prototype.q=function(J){this.value=J;this.f7()};i8.curv.prototype.MY=function(J){this.MU=J;
this.f7()};i8.curv.prototype.s=function(J){return g.F(this.value)};i8.curv.prototype.Sf=function(){var J=this.vi.s(),v=this.MU,x=this.value,o=g.a54(J,v);
for(var h=0;h<4;h++){var R=o[h][0],r=o[h][1],l=o[h][2],M=[g.O2.Ep(R,0,!0),g.O2.Ep(r,255,!0)];if(l!=null)M.splice(1,0,g.O2.Ep(128,l,!0));
k1.tM(x,h,M)}this.f7();this.vH()};i8.expA=function(){i8.call(this,"expA");this.G9.push(new jL([12,5],-20,20,null,2,!0));
this.G9.push(new jL([12,6],-.5,.5,null,2));this.G9.push(new jL([12,7],.01,9.99,null,2,!0));this.pU()};
i8.expA.prototype=new i8;i8.expA.prototype.Br=function(J,v){v[0]=J.Exps.v;v[1]=J.Ofst?J.Ofst.v:0;v[2]=J.gammaCorrection?J.gammaCorrection.v:1};
i8.expA.prototype.oQ=function(J,v){J.Exps={t:"doub",v:v[0]};J.Ofst={t:"doub",v:v[1]};J.gammaCorrection={t:"doub",v:v[2]}};
i8.grdm=function(){i8.call(this,"grdm");this.G9.push(new aE(!0,null,!0));this.G9.push(new a9([12,23,0]));
this.pU()};i8.grdm.prototype=new i8;i8.grdm.prototype.Br=function(J,v){v[0]=J.Grad.v;v[1]=J.Rvrs?J.Rvrs.v:!1};
i8.grdm.prototype.oQ=function(J,v){J.Grad.v=v[0];J.Rvrs={t:"bool",v:v[1]}};i8.grdm.prototype.pJ=function(J,v){this.G9[0].kx(J.P4,J.Vb);
if(v==cj.q6||v==cj.Zl||v==cj.Ui)this.G9[0].CN(J.TF)};i8.selc=function(){i8.call(this);var J=this._;this.BT=[];
this.q4=null;this.VW=new dp([12,82],kC.y5.concat([[13,1,8],[13,1,13],[13,1,10]]));this.VW.P(j.E.n,this.hK,this);
J.appendChild(this.VW._);B.A1(J);for(var h=0;h<4;h++){var v=new jL(kC.arh[h],-100,100,"%");v.P(j.E.n,this.hK,this);
this.BT.push(v);J.appendChild(v._)}this.kP=new a9([13,3]);J.appendChild(this.kP._);this.kP.P(j.E.n,this.hK,this)};
i8.selc.prototype=new i8;i8.selc.prototype.d=function(){this.VW.d();this.kP.d();for(var h=0;h<4;h++)this.BT[h].d()};
i8.selc.prototype.q=function(J){this.q4=g.F(J);this._t()};i8.selc.prototype.s=function(J){return g.F(this.q4)};
i8.selc.prototype.hK=function(J){if(J.target!=this.VW){var v=this.q4,x=[];for(var h=0;h<4;h++)x[h]=this.BT[h].s();
f1.tM(v,this.VW.s(),x);v.Mthd={t:"enum",v:{CrcM:this.kP.s()?"Absl":"Rltv"}}}this._t();this.vH()};i8.selc.prototype._t=function(){var J=this.q4,v=f1.Tc(J,this.VW.s());
for(var h=0;h<4;h++)this.BT[h].q(v[h]);this.kP.q(J.Mthd?J.Mthd.v.CrcM=="Absl":!1)};i8.blwh=function(){i8.call(this,"blwh");
this.G9.push(new a9([12,11]));this.G9.push(new hf(!0));for(var h=0;h<6;h++)this.G9.push(new jL(kC.y5[h],-200,300));
this.pU()};i8.blwh.prototype=new i8;i8.blwh.prototype.Br=function(J,v){v[0]=J.useTint.v;v[1]=J.tintColor.v;
var x="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var h=0;h<6;h++)v[2+h]=J[x[h]].v};i8.blwh.prototype.oQ=function(J,v){J.useTint.v=v[0];
J.tintColor.v=v[1];var x="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var h=0;h<6;h++)J[x[h]].v=v[2+h]};
i8.hue2=function(){i8.call(this);this.value=null;this.rF=null;this.FQ=null;this.aCZ=[[0,0,0],[0,50,0]];
var J=this._;this.bC=new bA(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.bC.P(j.E.n,this.aiH,this);this.bC.P(j.E.n,this.Zh,this);J.appendChild(this.bC._);var v=this.G9=[new dp([12,12],["Master"].concat(kC.y5)),new jL([12,8],-180,180),new jL([12,9],-100,100),new jL([12,10],-100,100),new a9([12,11])];
for(var h=0;h<v.length;h++){var x=v[h];x.P(j.E.n,h==0?this.f7:this.aGD,this);J.appendChild(x._)}this.VW=v[0];
this.aB8=v[1];this.dv=v[2];this.ald=v[3];this.BR=v[4];this.Zw=new bA("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.Zw.P(j.E.n,this.aiH,this);this.Zw.P(j.E.n,this.Zh,this);this.Zw._.style.marginLeft="20px";J.appendChild(this.Zw._);
this.af1=B.l("div");J.appendChild(this.af1);this.IL=this.MS.bind(this);this.CV=this.bU.bind(this);this.W0=B.l("canvas");
this.zJ=this.W0.getContext("2d");this.Yp=null;B.sl(this.W0);B.QH(this.W0,282,18);J.appendChild(this.W0);
B._A(this.W0,this.w_.bind(this))};i8.hue2.prototype=new i8;i8.hue2.prototype.qe=function(J,v){B.QH(this.W0,Math.round(J),18);
if(this.value)this.f7()};i8.hue2.prototype.aiH=function(J){var v=J.target.s().indexOf(!0);if(v==-1)return;
if(J.target==this.bC)this.Zw.q([!1,!1,!1]);else this.bC.q([!1,!1,!1])};i8.hue2.prototype.w_=function(J){if(this.VW.s()==0||this.BR.s())return;
var v=B.C2(J,this.W0).x/(this.W0.width/B.rR()),r=1e6;function x(b,w,U){return b<w&&w<U||U<b&&(b<w||w<U)}var o=this.OC(),R=-1;
for(var h=0;h<4;h++){var l=Math.abs(v-(o[h]+h*1e-5));if(l<r){r=l;R=h}}if(r>.025){R=-1;var M=o[0],P=o[1],S=o[2],c=o[3];
if(x(M,v,P))R=4;if(x(P,v,S))R=5;if(x(S,v,c))R=6}if(R==-1)return;this.Yp=R;B.W4(document.body,this.IL);
B.Kb(document.body,this.CV)};i8.hue2.prototype.MS=function(J){var v=B.C2(J,this.W0).x/(this.W0.width/B.rR()),x=this.OC(),o=this.Yp;
for(var h=1;h<4;h++)if(x[h]<x[h-1]){x[h]+=1}if(o<4){var R=1e6,r=0;for(var h=-20;h<20;h++){var l=Math.abs(x[o]-(v+h));
if(l<R){R=l;r=h}}v+=r;x[o]=v;for(var h=o+1;h<4;h++)if(x[h]<x[h-1]){x[h]=x[h-1]}for(var h=o-1;h>=0;h--)if(x[h]>x[h+1]){x[h]=x[h+1]}}else{var M=v-(x[o-4]+x[o-3])/2;
if(M<-.5)M+=1;if(o==4){x[0]+=M;x[1]+=M;x[2]=Math.max(x[1],x[2]);x[3]=Math.max(x[1],x[3])}if(o==5)for(var h=0;
h<4;h++)x[h]+=M;if(o==6){x[2]+=M;x[3]+=M;x[0]=Math.min(x[0],x[2]);x[1]=Math.min(x[1],x[2])}}for(var h=1;
h<4;h++)if(x[h]<x[h-1])throw"e";this.a8y(x);this.f7();this.vH()};i8.hue2.prototype.bU=function(J){B.SP(document.body,this.IL);
B.PD(document.body,this.CV)};i8.hue2.prototype.d=function(){for(var h=0;h<this.G9.length;h++)this.G9[h].d()};
i8.hue2.prototype.aGD=function(J){var v=this.value.Clrz.v=this.BR.s();if(v)this.VW.q(0);if(J&&J.target==this.BR){var x=v?1:0;
this.aCZ[1-x]=ic.Tc(this.value,0);var o=this.aCZ[x];ic.tM(this.value,0,o);if(this.VW.s()==0){this.aB8.q(o[0]);
this.dv.q(o[1]);this.ald.q(o[2])}}var R=this.VW.s(),r=ic.Tc(this.value,R),o=R==0?r:r.ha;o[0]=this.aB8.s();
var l=this.dv.s();o[1]=v?Math.max(0,l):l;o[2]=this.ald.s();ic.tM(this.value,R,r);this.f7();this.vH()};
i8.hue2.prototype.f7=function(){var J=this.VW.s(),v=this.value.Clrz?this.value.Clrz.v:!1;this.BR.q(v);
this.VW.Ne(!v);this.Zw.Ne(!v&&J!=0);var x=ic.Tc(this.value,J),o=J==0?x:x.ha;this.aB8.q(o[0]);this.dv.q(o[1]);
this.ald.q(o[2]);var R=this.W0.width,r=this.W0.height,l=this.zJ;l.clearRect(0,0,R,r);if(v||J==0){this.af1.innerHTML="";
return}var M=x.no;this.af1.innerHTML=M[0]+"\xB0 / "+M[1]+"\xB0<span style=\"float:right\">"+M[2]+"\xB0 \\ "+M[3]+"\xB0</span>";
var P=g.C(R*4);ar.a4N(P,1,R,-1,.5);var S=new ImageData(new Uint8ClampedArray(P.buffer),R,1),c=Math.round(r/4);
for(var h=0;h<c;h++)l.putImageData(S,0,h);function b(G,n,E){l.fillStyle=E;var K=c*2;if(G<=n)l.fillRect(G*R,K,(n-G)*R,c);
else{l.fillRect(0,K,n*R,c);l.fillRect(G*R,K,(1-G)*R,c)}}var w=this.OC();b(w[0],w[1],"#888888");b(w[1],w[2],"#cccccc");
b(w[2],w[3],"#888888");l.fillStyle="#ffffff";l.lineWidth=1;l.beginPath();var U=c+.5,F=4*c+.5;for(var h=0;
h<4;h++){var Y=Math.floor(R*w[h])+.5,A=(h<2?-1:1)*c*(h==1||h==2?1:2);l.moveTo(Y,U);l.lineTo(Y,F);l.lineTo(Y+A,F);
l.lineTo(Y+A,c+c+.5);l.closePath()}l.fill();l.stroke()};i8.hue2.prototype.OC=function(){var J=this.VW.s(),v=ic.Tc(this.value,J).no;
for(var h=0;h<4;h++)v[h]=(1000.5+v[h]/360)%1;return v};i8.hue2.prototype.a8y=function(J){var v=this.VW.s(),x=ic.Tc(this.value,v);
for(var h=0;h<4;h++)x.no[h]=Math.round(36e3+(J[h]-.5)*360)%360;ic.tM(this.value,v,x)};i8.hue2.prototype.uj=function(){return!0};
i8.hue2.prototype.aEt=function(){var J=this.bC.s().indexOf(!0),v=this.Zw.s().indexOf(!0);return J!=-1?J:v!=-1?v+1:-1};
i8.hue2.prototype._N=function(J,v,x,o,R){var r=this.aEt();if(r==-1)return;var l=this.value;this.value=a8.ow("hue2");
this.vH();var M=H.WG.xv(J,R,1,null,!0);this.q(l);var P=[M>>>16&255,M>>>8&255,M&255],S=g.qz(P[0]/255,P[1]/255,P[2]/255);
if(r==0){this.VW.q(1+Math.round(S.mq*6)%6)}else{var c=this.OC(),b=.5+S.mq,w=1/12,U=c[1],F=c[2];if(F<U){F++;
if(b<U&&b+1-F<U-b)b++}var Y=U<=b&&b<=F;if(r==1){U=b-w/2;F=b+w/2}else if(r==2&&!Y){U=Math.min(b,U);F=Math.max(b,F)}else if(r==3&&Y){if(b-U<F-b)U=b;
else F=b}c=[U-w,U,F,F+w];this.a8y(c)}this.vH();this.rF=R.x;this.FQ=this.dv.s()};i8.hue2.prototype.kq=function(J,v,x,o,R){var r=this.aEt();
if(r==-1)return;if(r==0){if(this.rF!=null){var l=R.x-this.rF;l=Math.max(-100,Math.min(100,this.FQ+.5*l));
this.dv.q(l);this.aGD()}}};i8.hue2.prototype.ER=function(J,v,x,o,R){this.rF=null};i8.hue2.prototype.q=function(J){this.value=g.F(J);
var v=this.value.Clrz?this.value.Clrz.v:!1;this.aCZ[v?1:0]=ic.Tc(this.value,0);this.f7()};i8.hue2.prototype.s=function(J){return g.F(this.value)};
i8.levl=function(){function J(){i8.call(this);this.value=null;this.MU=null;this.hn=[new aG(0,0),new aG(0,0),new aG(0,0),new aG(0,0),new aG(0,0)];
this.g1=-1;this.IL=this.MS.bind(this);this.CV=this.bU.bind(this);var v=this._;this.a7=new dp([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.a7.P(j.E.n,this.f7,this);v.appendChild(this.a7._);this.vi=new ht;this.vi.parent=this;this.vi.P(j.E.n,this.Sf,this);
v.appendChild(this.vi._);var x=B.l("div","");v.appendChild(x);var o=B.l("div","");v.appendChild(o);this.W0=B.l("canvas");
x.appendChild(this.W0);this.zJ=this.W0.getContext("2d");this.JR=new aG(256,120);B.L(this.W0,"display:block");
B.sl(this.W0);B._A(this.W0,this.w_.bind(this));this.qC=B.l("canvas","");o.appendChild(this.qC);this.T7=this.qC.getContext("2d");
this.or=new aG(this.JR.x,40);B.L(this.qC,"display:block");B.sl(this.qC);B._A(this.qC,this.aH2.bind(this));
var R=this.a8k=[];for(var h=0;h<5;h++){var r=new ir(null,null,3);R.push(r);r.P(j.E.n,this.aGf,this);
(h<2||h==4?x:o).appendChild(r._)}x.appendChild(R[1]._);this.bC=new bA("Sample from image",iF.gd(["#000000","#888888","#ffffff"]),!0,null,!0);
this.bC.P(j.E.n,this.Zh,this);v.appendChild(this.bC._);this.qe(250,100)}J.prototype=new i8;J.prototype.Sf=function(){var v=this.vi.s(),x=this.MU,o=this.value,R=g.a54(v,x);
for(var h=0;h<4;h++){var r=R[h][0],l=R[h][1],M=R[h][2],P=[g.O2.Ep(r,0,!0),g.O2.Ep(l,255,!0)];if(M!=null)P.splice(1,0,g.O2.Ep(128,M,!0));
var S=[~~r,~~l,0,255,M==null?100:~~(100+.75*100*(M-128)/128)];je.tM(o,h,S)}this.f7();this.vH()};J.prototype.qe=function(v,x){v+=6;
this.JR.x=this.or.x=v;B.QH(this.W0,v,this.JR.y,this.zJ);B.QH(this.qC,v,this.or.y,this.T7);var o=this.a8k;
B.L(o[3]._,"margin-left: "+(v-104)+"px");B.L(o[4]._,"margin: 0 "+(v/2-74)+"px");if(this.value)this.f7()};
J.prototype.d=function(){this.a7.d()};J.prototype.aGf=function(v){var x=[];for(var h=0;h<5;h++){var o=255,R=1;
if(h==4){o=999;R=100}var r=parseFloat(this.a8k[h].s());x[h]=Math.max(0,Math.min(o,r*R))}je.tM(this.value,this.a7.s(),x);
this.f7();this.vH()};J.prototype.f7=function(v){var x=this.JR.x,o=this.JR.y,R=this.a7.s(),r=this.zJ;
r.clearRect(0,0,x,o);r.fillStyle="#cccccc";r.fillRect(8,8,x-16,o-16-8);if(this.MU){var l=this.MU[0].slice(0),F=0;
if(R==0){l.fill(0);var M=g.F(this.value);je.tM(M,0,[0,255,0,255,100]);var P=kC.f2("levl",M),S=[P.B7,P.xn,P.Sx];
for(var c=0;c<3;c++){var b=this.MU[1+c],w=S[c];for(var h=0;h<256;h++)l[~~(w[h]*255)]+=b[h]}}var U=R==0?l:this.MU[R];
for(var h=0;h<U.length;h++)F+=U[h];r.fillStyle="#333333";r.beginPath();r.moveTo(8,o-16);for(var h=0;
h<256;h++){var Y=55*U[h]/F;r.lineTo(8+h/256*(x-16),Math.max(8,o-16-o*Y))}r.lineTo(x-8,o-16);r.closePath();
r.fill()}var A=je.Tc(this.value,R);for(var h=0;h<5;h++)this.a8k[h].q(A[h]/(h==4?100:1));this.hn[0]._h(8+A[0]/255*(x-16),o-14);
this.hn[1]._h(8+A[1]/255*(x-16),o-14);var G=Math.log(A[4]/100)/Math.log(9.99);G=.5-G/2;this.hn[4]._h(this.hn[0].x+G*(this.hn[1].x-this.hn[0].x),o-14);
this.GK(r,this.hn[0],"#000000");this.GK(r,this.hn[1],"#ffffff");this.GK(r,this.hn[4],"#777777");var x=this.or.x,o=this.or.y;
r=this.T7;r.clearRect(0,0,x,o);var n=r.createLinearGradient(0,0,x-16,0);n.addColorStop(0,"black");n.addColorStop(1,"white");
r.fillStyle=n;r.fillRect(8,8,x-16,16);this.hn[2]._h(8+A[2]/255*(x-16),o-14);this.hn[3]._h(8+A[3]/255*(x-16),o-14);
this.GK(r,this.hn[2],"#000000");this.GK(r,this.hn[3],"#ffffff")};J.prototype.GK=function(v,x,o){v.fillStyle=o;
v.fillRect(x.x-5,x.y,10,10)};J.prototype.w_=function(v){var x=B.C2(v,this.W0),o=this.aB3([0,1,4],x);
if(o!=-1)this.g1=o;this.acr()};J.prototype.aH2=function(v){var x=B.C2(v,this.qC),o=this.aB3([2,3],x);
if(o!=-1)this.g1=o;this.acr()};J.prototype.aB3=function(v,x){var o=-1,R=1e9;for(var h=0;h<v.length;h++){var r=Math.abs(this.hn[v[h]].x-x.x);
if(r<R){R=r;o=v[h]}}return R<16?o:-1};J.prototype.acr=function(v){if(this.g1==-1)return;B.W4(document.body,this.IL);
B.Kb(document.body,this.CV)};J.prototype.MS=function(v){var x=je.Tc(this.value,this.a7.s()),o=B.C2(v,this.g1==2&&this.g1==3?this.qC:this.W0),R=255*(o.x-8)/(this.JR.x-16);
R=Math.max(0,Math.min(255,R));if(this.g1==0)R=Math.min(R,x[1]-2);if(this.g1==1)R=Math.max(R,x[0]+2);
if(this.g1!=4)x[this.g1]=Math.round(R);else{var r=(R-x[0])/(x[1]-x[0]);r=1-2*r;r=Math.pow(9.99,r);x[4]=Math.min(999,Math.max(10,Math.round(r*100)))}je.tM(this.value,this.a7.s(),x);
this.f7();this.vH()};J.prototype.bU=function(v){B.SP(document.body,this.IL);B.PD(document.body,this.CV);
this.g1=-1};J.prototype.uj=function(){return!0};J.prototype.ER=function(v,x,o,R,r){i8.azx(this,v,r,"levl")};
J.prototype.q=function(v){this.value=v;this.f7()};J.prototype.MY=function(v){this.MU=v;this.f7()};J.prototype.s=function(v){return g.F(this.value)};
return J}();i8.phfl=function(){i8.call(this,"phfl");this.G9.push(new hf);this.G9.push(new jL([12,74],0,100,"%"));
this.G9.push(new a9([13,4]));this.pU()};i8.phfl.prototype=new i8;i8.phfl.prototype.Br=function(J,v){v[0]=J.Clr.v;
v[1]=J.Dnst.v;v[2]=J.PrsL.v};i8.phfl.prototype.oQ=function(J,v){var x=g.UH.Eb(v[0]),o=J.Clr.v,R=g.ZG(x.z,x.H,x.c);
o.Lmnc.v=R.jj;o.A.v=R.o5;o.B.v=R.c;J.Dnst.v=v[1];J.PrsL.v=v[2]};i8.vibA=function(){i8.call(this,"vibA");
this.G9.push(new jL([12,13],-100,100,null));this.G9.push(new jL([12,9],-100,100,null));this.pU()};i8.vibA.prototype=new i8;
i8.vibA.prototype.Br=function(J,v){v[0]=J.vibrance?J.vibrance.v:0;v[1]=J.Strt?J.Strt.v:0};i8.vibA.prototype.oQ=function(J,v){J.vibrance.v=v[0];
J.Strt.v=v[1]};i8.thrs=function(){i8.call(this,"thrs");this.G9.push(new jL([4,13],1,255,null));this.pU()};
i8.thrs.prototype=new i8;i8.thrs.prototype.Br=function(J,v){v[0]=J.Lvl.v};i8.thrs.prototype.oQ=function(J,v){J.Lvl.v=v[0]};
i8.mixr=function(){i8.call(this);var J=this._;this.BT=[];this.q4=null;this.VW=new dp([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.ap7=!1;this.VW.P(j.E.n,this.hK,this);J.appendChild(this.VW._);B.A1(J);this.SJ=new a9([12,60]);J.appendChild(this.SJ._);
this.SJ.P(j.E.n,this.hK,this);for(var h=0;h<4;h++){var v=new jL([[13,1,1],[13,1,4],[13,1,5],[13,2]][h],-200,200,"%");
v.P(j.E.n,this.hK,this);this.BT.push(v);J.appendChild(v._)}};i8.mixr.prototype=new i8;i8.mixr.prototype.d=function(){this.VW.d();
this.SJ.d();for(var h=0;h<4;h++)this.BT[h].d()};i8.mixr.prototype.q=function(J){this.q4=g.F(J);this._t()};
i8.mixr.prototype.s=function(J){return g.F(this.q4)};i8.mixr.prototype.hK=function(J){if(J.target!=this.VW){var v=kC.zd(this.q4);
if(J.target==this.SJ){v.SJ=this.SJ.s();if(v.SJ)v.K=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else v.K=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var x=(v.SJ?0:this.VW.s())*5,h=this.BT.indexOf(J.target);
v.K[x+(h<3?h:4)]=J.target.s()}this.q4=kC.vB(v)}this._t();this.vH()};i8.mixr.prototype._t=function(){var J=kC.zd(this.q4);
if(J.SJ!=this.ap7)this.VW.Qw(J.SJ?[[13,1,7]]:kC.EJ);this.ap7=J.SJ;this.SJ.q(J.SJ);var v=(J.SJ?0:this.VW.s())*5;
for(var h=0;h<4;h++)this.BT[h].q(J.K[v+(h<3?h:4)])};i8.post=function(){i8.call(this,"post");this.G9.push(new jL([4,1],2,255,null));
this.pU()};i8.post.prototype=new i8;i8.post.prototype.Br=function(J,v){v[0]=J.Lvls.v};i8.post.prototype.oQ=function(J,v){J.Lvls.v=v[0]};
i8.clrL=function(){i8.call(this,"clrL");this.G9.push(new fl("LUTs"));this.pU()};i8.clrL.prototype=new i8;
i8.clrL.prototype.Br=function(J,v){v[0]=J};i8.clrL.prototype.oQ=function(J,v){var x=v[0];for(var o in x)J[o]=x[o]};
i8.clrL.prototype.pJ=function(J,v){if(v==cj.q6||v==cj.a8)this.G9[0].CN(J.a6n)};i8.rplc=function(){i8.call(this,"rplc");
this.G9.push(new jL([12,92],0,200));this.G9.push(new hf);this.G9.push(new jL([12,8],-180,180));this.G9.push(new jL([12,9],-100,100));
this.G9.push(new jL([12,10],-100,100));this.pU()};i8.rplc.prototype=new i8;i8.rplc.prototype.Br=function(J,v){v[0]=J.Fzns.v;
v[1]=J.Mxm.v;v[2]=J.H.v;v[3]=J.Strt.v;v[4]=J.Lght.v};i8.rplc.prototype.oQ=function(J,v){function x(R,r){r.Lmnc.v=R.jj;
r.A.v=R.o5;r.B.v=R.c}J.Fzns.v=v[0];J.H.v=v[2];J.Strt.v=v[3];J.Lght.v=v[4];var o=g.UH.Eb(v[1]),R=g.ZG(o.z,o.H,o.c);
x(R,J.Mnm.v);x(R,J.Mxm.v)};i8.fade=function(){i8.call(this,"fade");this.G9.push(new jL([12,0],0,100,"%"));
this.G9.push(new dp([12,19,0],gX.R2,gX.TD));this.pU()};i8.fade.prototype=new i8;i8.fade.prototype.Br=function(J,v){v[0]=J.Opct.v.val;
v[1]=gX.EZ.indexOf(J.Md.v.BlnM)};i8.fade.prototype.oQ=function(J,v){J.Opct.v.val=v[0];J.Md.v.BlnM=gX.EZ[v[1]]};
i8.aply=function(){var J=gX.EZ.concat(["Add","Sbtr"]);J.splice(21,1);var v=gX.R2.concat([[15,10,28],[15,10,21]]);
v.splice(21,1);var x=gX.TD.slice(0);x[4]--;function o(){i8.call(this,"aply");this.G9.push(new dp([0,3],[]));
this.G9.push(new dp([12,4],["RGB"].concat(kC.EJ).concat(["Transparency"])));this.G9.push(new a9([4,11]));
this.G9.push(new dp([12,19,0],v,x));this.G9.push(new jL([12,0],0,100,"%"));this.G9.push(new fL([12,38],1,2,null,2));
this.G9.push(new fL([12,6],-255,255));this.G9.push(new a9([13,5]));this.pU([2]);this.a4X=null}o.prototype=new i8;
o.prototype.Br=function(R,r,l){if(l){var M=l[2].k,P=this.a4X=[];for(var h=0;h<M.length;h++){var S=M[h].getName();
P.push(S.length<30?S:S.slice(0,27)+"...")}P.reverse();this.G9[0].Qw([[5,7]].concat(P),[1,P.length])}else var P=this.a4X;
R=R.With.v;var c=R.T.v;r[0]=c[1].t=="name"?1+P.indexOf(c[1].v.val):0;r[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(c[0].v.enum);
r[2]=R.Invr.v;var b=R.Clcl.v.Clcn;r[3]=J.indexOf(b);r[4]=R.Opct.v.val;r[5]=R.Scl.v;r[6]=R.Ofst.v;r[7]=R.PrsT.v};
o.prototype.oQ=function(R,r){R=R.With.v;var l=R.T.v;if(r[0]==0)l[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else l[1]={t:"name",v:{classID:"Lyr",val:this.a4X[r[0]-1]}};l[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][r[1]];
R.Invr.v=r[2];var M=R.Clcl.v.Clcn=J[r[3]];R.Opct.v.val=r[4];R.Scl.v=r[5];R.Ofst.v=r[6];R.PrsT.v=r[7];
var P=M=="Add"||M=="Sbtr";this.G9[5].Ne(P);this.G9[6].Ne(P)};return o}();i8.matc=function(){var J,v,x=0;
function o(){i8.call(this,"matc");this.G9.push(new jL("Luminance",1,200));this.G9.push(new jL("Color Intensity",1,200));
this.G9.push(new jL([2,11],0,100,"%"));this.G9.push(new a9("Neutralize"));this.G9.push(new dp([12,70],[]));
this.G9.push(new dp([0,3],[]));this.pU([2])}function R(r,l){r.G9[5].Qw([[5,7]].concat(l),[1,l.length])}o.prototype=new i8;
o.prototype.Br=function(r,l,M){x=0;l[0]=r.Lght.v;l[1]=r.ClrR.v;l[2]=r.Fade.v;l[3]=r.neutralizeColor?r.neutralizeColor.v:!1;
l[4]=l[5]=0;var P=r.Srce;if(P)P=P.v;if(M){J=[];v=[];var S=M[2],c=M[3];for(var h=0;h<c.length;h++){var b=c[h];
J.push(b.name);var w=b.k,U=[];v.push(U);for(var F=0;F<w.length;F++)U.push(w[F].getName());U.reverse()}this.G9[4].Qw([[13,1,0]].concat(J),[1,J.length]);
var Y=c.indexOf(S);if(P)Y=J.indexOf(P[1].v.val);R(this,v[Y])}if(P){var A=J.indexOf(P[1].v.val);l[3]=x=1+A;
if(P[0].t=="name")l[4]=1+v[A].indexOf(P[0].v.val)}};o.prototype.oQ=function(r,l){r.Lght.v=l[0];r.ClrR.v=l[1];
r.Fade.v=l[2];r.neutralizeColor.v=l[3];if(l[4]==0){r.noReference={t:"bool",v:!0};delete r.Srce}else{if(l[4]!=x){x=l[4];
R(this,v[l[4]-1])}delete r.noReference;var M={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},P=v[l[4]-1];
if(l[5]!=0)M={t:"name",v:{classID:"Lyr",val:P[l[5]-1]}};r.Srce={t:"obj ",v:[M,{t:"name",v:{classID:"Dcmn",val:J[l[4]-1]}}]}}};
return o}();function kX(J,v){aJ.call(this);if(J==null)return;this.id=v;this.Zx=J;this.a0K=null;this._=B.l("div","window "+v);
this.a8A=null;this.wI=B.l("div","whead");this.abi=B.l("span","wname");this.wI.appendChild(this.abi);
this.aeq=!1;this._.appendChild(this.wI);this.o1=this.anx.bind(this);this.GR=this.aDS.bind(this);this._D=this.ajq.bind(this);
B.sl(this.wI);B._A(this.wI,this.o1);this.ac5=B.l("span","cross gsicon");this.wI.appendChild(this.ac5);
kX.prototype.d.call(this);B.Kb(this.ac5,this.ajT.bind(this));this.body=B.l("div","body");this._.appendChild(this.body)}kX.prototype=new aJ;
kX.prototype.b7=function(){return!1};kX.prototype.uj=function(){return!1};kX.prototype.d=function(){if(this.Zx==null)return;
this.abi.textContent=ea.get(this.Zx)};kX.prototype._N=function(J,v,x,o,R){};kX.prototype.HD=function(J,v,x,o,R){};
kX.prototype.kq=function(J,v,x,o,R){};kX.prototype.ER=function(J,v,x,o,R){};kX.prototype.Su=function(J,v,x,o,R){};
kX.prototype.lb=function(J,v,x,o){if(o.M(gw.O9)&&this.jB)this.jB();if(o.M(gw.aw)){var R=new dd(j.E.G);
R.W5=!0;H.gu.agG(o,R);if(R.data)v.a(R)}};kX.prototype.V9=function(J){return!1};kX.prototype.Xe=function(J,v){return!0};
kX.prototype.Q4=function(J,v,x,o){};kX.prototype.pJ=function(J,v){};kX.prototype.z$=function(J,v){return null};
kX.prototype.alS=function(J){return this.a8A};kX.prototype.qe=function(){};kX.prototype.close=function(){this.a(new dd(j.E.D_))};
kX.prototype.anx=function(J){this.a0K=B.C2(J,this._);B.W4(window,this.GR);B.Kb(window,this._D)};kX.prototype.aDS=function(J){var v=this._.parentNode,x=B.C2(J,v),o=Math.round(x.x-this.a0K.x),R=v.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(x.y-this.a0K.y)));
this.a8A=new aG(o,R);this._.style.left=o+"px";this._.style.top=R+"px"};kX.prototype.ajq=function(J){B.SP(window,this.GR);
B.PD(window,this._D)};kX.prototype.ajT=function(J){if(this.aeq){this.jB();return}this.a(new dd("closebtn"));
this.close()};function by(){kX.call(this,"About Photopea","aboutpp");var J=this.body,v=this.adK=B.l("img");
J.appendChild(v);B.L(this.body,"margin:0; padding:0");var x=this.NI=B.l("div");x.innerHTML=by.an;J.appendChild(x);
var o=this.i7=B.l("span");o.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(o)}by.prototype=new kX;by.prototype.z$=function(J,v){return new aG(0,0)};by.prototype.qe=function(J,v){var x=(J+v-42-42)/110,o,R,r;
x=Math.sqrt((J-42)*(v-42))/50;if(J>v){B._H(this.body,"flexrow");o="width:"+J/2+"px; height:"+v+"px; display:block; object-fit:cover;";
R="width:"+(J/2-42)+"px; height:"+(v-42)+"px; padding:20px; font-size:"+x+"px;";r="position:absolute;  bottom:10px; right:"+(J/2+10)+"px"}else{if(J*1.5>v)x*=.9;
B.Nv(this.body,"flexrow");o="width:"+J+"px; height:"+v/2+"px; display:block; object-fit:cover;";R="width:"+(J-42)+"px; height:"+(v/2-42)+"px; padding:20px; font-size:"+x+"px;";
r="position:absolute;  bottom:"+(v/2+10)+"px; right:10px"}B.L(this.adK,o);B.L(this.NI,R);B.L(this.i7,r)};
by.prototype.d=function(){};by.prototype.Q4=function(J,v,x,o){this.adK.setAttribute("src","promo/ivan_pp.webp")};
by.an="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function cz(){kX.call(this,"Are you blocking ads?","bnotify");var J=this.body,v="style=\"color:inherit\" target=\"_blank\"",x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
J.style.width="540px";var o="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+v+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>$15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+v+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+x+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+v+" href=\"img/exts.png\"><img style=\"width:100%\" src=\"img/exts.png\" /></a>";
J.innerHTML=o}cz.prototype=new kX;function kA(){kX.call(this,[0,13,0],"account");this.dN=B.l("div","form scrollable");
this.body.appendChild(this.dN);this.body.style.padding="0";this.bJ=[new kA.nW,new kA.Ul("::"+f6.mP("privacy.html")),new kA.Ul(kA.aAR)];
for(var h=0;h<this.bJ.length;h++)this.bJ[h].parent=this;this.P("showpage",this.a1I,this)}kA.prototype=new kX;
kA.prototype.Xe=function(J,v){var x=navigator.onLine;if(!x)alert("Go online first");return x};kA.prototype.qe=function(J,v){B.L(this.dN,"width:"+Math.min(J-40,740)+"px;  height:"+(v-38)+"px;  padding:1.5em;");
this.bJ[0].qe(J,v)};kA.prototype.z$=function(J,v){return new aG(Math.max(0,Math.min(150,(J-740)/2)),Math.max(0,Math.min(100,(v-500)/2)))};
kA.prototype.a1I=function(J){B.wp(this.dN);this.dN.scrollTop=0;this.dN.appendChild(this.bJ[J.data.Vn]._)};
kA.prototype.d=function(){kX.prototype.d.call(this);for(var h=0;h<this.bJ.length;h++)this.bJ[h].d()};
kA.prototype.Q4=function(J,v,x){if(!navigator.onLine)return;B.wp(this.dN);var o=this.bJ[0];this.dN.appendChild(o._);
o.Q4();this.d()};kA.prototype.pJ=function(J,v){this.Q4(null,null,null)};kA.nW=function(){aJ.call(this);
this._=B.l("div");var J=this._,M,P,c="font-size:1.25em;",b="text-align:center;",U="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",F="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",Y="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",n=12;
this.r5=B.l("div");J.appendChild(this.r5);this.fl=new bj([0,11],!1,null,!0);B.L(this.fl._,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.fl.P("click",this.rb,this);J.appendChild(this.fl._);this.a6d=new bj([0,13,1],!1,null,!0);this.a6d.P("click",this.a0E,this);
J.appendChild(this.a6d._);this.atc=new bj("Business Terms",!1,null,!0);this.atc.P("click",this.at9,this);
J.appendChild(this.atc._);var v=B.l("div");v.style.margin="20px 0";J.appendChild(v);var x=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],o=this.hx=[],R=this.a7d=[],r=this.SU=B.l("div");
J.appendChild(r);for(var h=0;h<x.length;h++){var l=B.l("span");l.textContent=x[h];v.appendChild(l);o.push(l);
B.L(l,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
l.addEventListener("click",this.LT.bind(this));R.push(B.l("div"))}this.LT(0);var S=this.aaw="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
J=R[0];var P=B.l("table"),w="style=\" "+b+c+" padding-bottom:20px;\"";P.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+Y+">\t\t\t\t\t<div "+w+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+F+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+F+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+Y+">\t\t\t\t\t<div "+w+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+F+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+F+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+F+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+F+">\u2713</span> 3000 AI credits per month</li> \t\t\t\t\t\t\t<li><span "+F+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
J.appendChild(P);var l=new bj("Go Premium");B.L(l._,S+"padding:10px 0;");l.P("click",function(e){this.LT(1)},this);
P.children[0].children[1].children[1].appendChild(l._);this.T8=B.l("div");J.appendChild(this.T8);J=R[1];
var A=this.ao6=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.yR=[];for(var h=0;h<A.length;h++)this.yR.push(new bj("Buy: $"+A[h][0],!1,null,!0));for(var h=0;
h<this.yR.length;h++){this.yR[h].P("click",this.a2j,this)}this.Gu=new bj("...",!0);B.L(this.Gu._,S);
J.appendChild(this.Gu._);P=this.a3w(4,["Single user",this.yR[0],this.yR[1],this.yR[2],"Team of 5",this.yR[3],this.yR[4],this.yR[5],"Team of 20",this.yR[6],this.yR[7],this.yR[8],"Team of 50",this.yR[9],this.yR[10],this.yR[11]]);
J.appendChild(P);var G=B.l("div");J.appendChild(G);G.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.azP=new a9("I accept",!0,"");J.appendChild(this.azP._);this.aGK=new bj([0,13,1],!1,null,!0);this.aGK.P("click",this.a0E,this);
J.appendChild(this.aGK._);this.aqF=new bj("I have a key",!1,null,!0);B.L(this.aqF._,S+" float:right; width:inherit;");
this.aqF.P("click",this.a2j,this);J.appendChild(this.aqF._);J=R[2];this.dt=new b3;this.dt.parent=this;
this.dt.P(j.E.n,this.eN,this);J.appendChild(this.dt._);J=R[3];this.J9=new bj("...",!0);B.L(this.J9._,S);
J.appendChild(this.J9._);P=this.a3w(3,["1000 views/mo",this.yR[n++],this.yR[n++],this.yR[n++],"5000 views/mo",this.yR[n++],this.yR[n++],this.yR[n++],"20000 views/mo",this.yR[n++],this.yR[n++],this.yR[n++]]);
J.appendChild(P);var E=B.l("p");E.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
J.appendChild(E);this.Lr=new ir("Domain name (e.g. domain.com)",null,14);J.appendChild(this.Lr._);var K=new bj("Save Domain Settings",!1,null,!0);
K.$I();J.appendChild(K._);K.P("click",this.a2R,this)};kA.nW.prototype=new aJ;kA.nW.prototype.LT=function(J){var v=typeof J=="number"?J:this.hx.indexOf(J.target);
for(var h=0;h<this.hx.length;h++)this.hx[h].style.opacity=.6;this.hx[v].style.opacity=1;B.wp(this.SU);
this.SU.appendChild(this.a7d[v])};kA.nW.prototype.qe=function(J,v){var x=J<600?"d":" days",o=["30 days","90 days","365 days"];
if(J<600)o=["30d","90d","365d"];var R=this.ao6;for(var h=0;h<R.length;h++){this.yR[h].f_("<span>"+o[h%3]+": <sup>$</sup><big><b>"+R[h][0]+"</b></big>"+"</span>");
B.L(this.yR[h]._,this.aaw)}};kA.nW.prototype.a0E=function(J){var v=new dd("showpage",!0);v.data={Vn:1};
this.a(v)};kA.nW.prototype.at9=function(J){var v=new dd("showpage",!0);v.data={Vn:2};this.a(v)};kA.nW.prototype.d=function(){this.fl.f_(f6.A5()?ea.get([0,11]):ea.get([0,10]));
this.aGK.d();this.a6d.d();this.atc.d()};kA.nW.prototype.a1j=function(J){var v=new dd(j.E.j,!0);v.data={R:j.m.fY,link:"https://www.photopea.com/api/accounts#"+(J.target==this.apG?"teams":"distributors")};
this.a(v)};kA.nW.prototype.al3=function(J){var v=J.currentTarget==this.a5W;this.a5W.q(v);this.akU.q(!v)};
kA.nW.prototype.apL=function(J){var v=this.a5W.s(),x=this.aap.s().trim().toLowerCase(),o=this.aCF.value.trim().toLowerCase();
if(x.length>60){alert("Too long email address");return}if(o.length>600){alert("Too many team members");
return}o=o.split(",").join(" ").trim();o=o.replace(/\s+/g," ");if(o=="")o=[];else o=o.split(" ");var R=f6.yf();
if(R==null)R={};if(R.acc==null)R.acc={};R.acc.team={jin:v,ldr:x,mmb:o};f6.QD(R,this.eN.bind(this));alert("Saved!");
this.Q4()};kA.nW.prototype.a2R=function(J){var v=this.Lr.s().trim();if(!f6.A5()){alert("You have to log in first.");
return}if(f6.Cj()==0){alert("Order a distributor account first.");return}var x=f6.yf();if(x==null)x={};
if(x.acc==null)x.acc={};if(v=="")delete x.acc.dname;else x.acc.dname=v;f6.QD(x,this.eN.bind(this));alert("Saved!");
this.Q4()};kA.nW.prototype.a3L=function(J){var v=f6.sr(),h=this.m8,x=f6.yf();if(x==null)x={};if(x.acc==null)x.acc={};
x.acc.bto=J;f6.QD(x,function(){});var o=kA.a8Q(J.split("\n"),v.pmnts[h]);aB.save(o,"photopea_invoice.pdf")};
kA.nW.prototype.a4L=function(J){var v=f6.sr(),x=f6.yf(),o=x&&x.acc?x.acc.bto:null;if(o==null)o=v.name+"\n"+v.email;
var h=-1,R=J.target._.parentNode;while((R=R.previousSibling)!=null)h++;this.m8=h;var r=new dd(j.E.j,!0);
r.data={R:j.m.wz,kA:"billto",EB:o,MX:this.a3L.bind(this)};this.a(r)};kA.nW.prototype.Q4=function(){this.r5.innerHTML="";
B.wp(this.T8);if(f6.A5()){var J=f6.sr(),v=J.pmnts;if(J==null)return;this.r5.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+J.name+"</span> "+J.email+" <br/>";
if(v){var x="<h2>Payments</h2>";for(var h=0;h<v.length;h++){var o=v[h],R=new Date(o[0]*1e3);x+="<div style=\"font-size:1.2em\">"+R.getDate()+". "+(R.getMonth()+1)+". "+R.getFullYear()+" - "+kA.afc(o)+"</div>"}this.T8.innerHTML=x;
for(var h=0;h<v.length;h++){var r=new bj("Get Invoice",!1,null,!0);B.L(r._,"float:right");r.P("click",this.a4L,this);
this.T8.children[h+1].appendChild(r._)}}}else{}var l=f6.A5()&&f6.hV();this.Gu._.style.display=l?"block":"none";
if(l){var M,P,S=l,x="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(S[0]==0){M=f6.lm(S[1])-Date.now()*(1/1e3);
P=S[1][2]==1?"Single User":"Team Of "+S[1][2]}else{M=S[1][1]-Date.now()*(1/1e3);P="Member of \""+S[1][0]+"\""}this.Gu.f_("Premium active for "+Math.round(M/(60*60*24))+" more days! ("+P+")");
var c=this.a7d[4];B.wp(c);for(var b=cl.Sq();b>=648;b--){var w=1970+Math.floor(b/12),U=b%12,R=new Date(w,U,2);
x+="<tr><td>"+w+" "+R.toDateString().split(" ")[1]+"</td><td>"+cl.ayQ(b)+"</td></tr>"}var F=cl.ak2(cl.Sq()+1)-Date.now(),Y=Math.floor(F/(24*60*6e4));
F-=Y*24*60*6e4;var A=Math.floor(F/(60*6e4));F-=A*60*6e4;var U=Math.floor(F/6e4);F-=U*6e4;x="New period starts in "+Y+" days, "+A+" hours, "+U+" mins"+x;
c.innerHTML=x+"</table>"}var G=f6.A5()&&f6.Cj()*1e3>Date.now();this.J9._.style.display=G?"block":"none";
if(G){var M=f6.Cj()-Date.now()/1e3;this.J9.f_("Distributor active for "+Math.round(M/(60*60*24))+" more days!")}var n=f6.yf();
this.dt.Q4();if(n&&n.acc&&n.acc.dname)this.Lr.q(n.acc.dname);else this.Lr.q("")};kA.nW.prototype.a3w=function(J,v){var x=B.l("table");
if(!0){var o="<table><tr>";for(var h=0;h<J;h++)o+="<th>"+v[h*4]+"</th>";o+="</tr></table>";x.innerHTML=o;
for(var h=0;h<3;h++){var R=B.l("tr"),r;x.appendChild(R);for(var l=0;l<J;l++){r=B.l("td");r.style.width=Math.round(100/J)+"%";
R.appendChild(r);r.appendChild(v[l*4+1+h]._)}}}return x};kA.nW.prototype.a2j=function(J){var v=this.yR.indexOf(J.currentTarget),o=30,R=1;
if(!f6.A5()){this.rb();return}if(this.azP.s()==!1&&v<12){alert("You must accept Terms of Service");return}var x=f6.A5()&&f6.hV();
if(v!=-1){var r=this.ao6[v];o=r[1];R=r[2]}if(x&&R<1e3){alert("You already have premium.");return}console.log(r,o,R);
if(v==-1){var l=prompt("Please enter your key");if(l!=null){f6.a6E(l,this.eN.bind(this));this.Sn()}return}if(o==30&&R==1){var M=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!M)return}f6.order(o,R,this.eN.bind(this));this.Sn()};kA.nW.prototype.eN=function(J){this.Q4();this.Sn()};
kA.nW.prototype.rb=function(J){if(f6.A5()){f6.abO();this.Sn();this.Q4(null,null,null)}else f6.rb(this.alO.bind(this))};
kA.nW.prototype.alO=function(){var J=new dd(j.E.j,!0);J.data={R:j.m.aIi};this.a(J)};kA.nW.prototype.Sn=function(){var J=new dd(j.E.j,!0);
J.data={R:j.m.aGd};this.a(J)};kA.Ul=function(J){aJ.call(this);this._=B.l("div");var v=this._,x=this.auj=new bj([0,13,2],!1,null,!0),o;
x.P("click",this.a2O,this);v.appendChild(x._);if(J.startsWith("::")){o=B.l("iframe");B.L(o,"width:100%;height:1700px; background-color:white;");
o.setAttribute("src",J.slice(2))}else{o=B.l("div");o.innerHTML=J}v.appendChild(o)};kA.Ul.prototype=new aJ;
kA.Ul.prototype.a2O=function(J){var v=new dd("showpage",!0);v.data={Vn:0};this.a(v)};kA.Ul.prototype.d=function(){this.auj.d()};
kA.aAR="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IÄŒ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: HÃ¡lkova 483, 517 41 Kostelec nad OrlicÃ­, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>GoÄÃ¡rova tÅ™Ã­da 1754 / 48b, Hradec KrÃ¡lovÃ©</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
kA.afc=function(J){var v=J[1]+" days, ";if(J[2]<1e3)return"Photopea Premium ("+v+J[2]+" user"+(J[2]==1?"":"s")+")";
else return"Photopea Distributor ("+v+J[2]+" views/month)"};kA.a8Q=function(J,v){J=["Bill To:"].concat(J);
var x=new ToPDF,o=595,R=842,r=40,l=18,M=12,P=500,S=100,c=400,Y=0;function b(X,Q,L,_,a){U.font.Tf=a?"Helvetica-Bold":"Helvetica";
U.ctm=[1,0,0,1,Q,L];U.font.Tfs=_?_:M;x.PutText(U,X,0)}function w(X,Q,L,_){for(var h=0;h<X.length;h++){b(X[h],Q,L-h*_,null,h==0)}}var U=UDOC.getState();
x.StartPage(0,0,o,R);b("INVOICE",o-r-140,R-r-30,30,!0);w(["Bill From:","Ivan Kuckir","HÃ¡lkova 483, 517 41 Kostelec nad OrlicÃ­","Tax ID: CZ9011014309"],r,R-r-40,l);
var F=new Date(v[0]*1e3);w(["Date: "+F.getDate()+". "+(F.getMonth()+1)+". "+F.getFullYear(),"Transaction ID: "+v[4]],o-r-140,R-r-40-l*2,l);
var A=J.join("");for(var h=0;h<A.length;h++)Y=Math.max(Y,A.charCodeAt(h));if(Y>256){var G=4,n=B.l("canvas"),E=n.getContext("2d"),K=0;
E.font=M*G+"px sans-serif";for(var h=0;h<J.length;h++)K=Math.max(K,E.measureText(J[h]).width);var e=Math.round(K)+20,$=J.length*G*l+20;
n.width=e;n.height=$;E.font=M*G+"px sans-serif";for(var h=0;h<J.length;h++){E.font=(h==0?"bold ":"")+M*G+"px sans-serif";
E.fillText(J[h],10,(h+1)*G*l)}document.body.appendChild(n);var N=new Uint8Array(E.getImageData(0,0,e,$).data.buffer);
U.ctm=[e/G,0,0,$/G,r-10/G,R-r-40-100-$/G];x.PutImage(U,N,e,$);U.ctm=[1,0,0,1,0,0]}else w(J,r,R-r-40-100,l);
U.colr=[.8,.8,.8];U.pth={cmds:["M","L","L","L","Z"],crds:[r,P,o-r,P,o-r,P-l,r,P-l]};x.Fill(U);U.colr=[0,0,0];
var k=[r,P,o-r,P,r,P-l,o-r,P-l,r,P-S,o-r,P-S,r,P,r,P-S,o-r,P,o-r,P-S,c,P,c,P-S],V=[];for(var h=0;h<k.length;
h+=4)V.push("M","L");U.pth={cmds:V,crds:k};x.Stroke(U);b("Order details",r+4,P-14);b(kA.afc(v),r+4,P-l-14);
b("TOTAL:",r+4,P-S-14,null,!0);b("Price",o-r-50,P-14);b(v[3]+" USD",o-r-60,P-l-14);b(v[3]+" USD",o-r-60,P-S-14,null,!0);
b("www.Photopea.com",r,r);b("support@photopea.com",o-r-130,r);x.ShowPage();x.Done();return x.buffer};
function k5(){kX.call(this,[11,14],"addguides");this.U8;this.f={i3:{eE:0}};this.a3F=null;var J=B.l("div","form");
this.body.appendChild(J);this.bq=[];this.jg=new iF(null,["Hi"]);J.appendChild(this.jg._);B.A1(J);this.jg.P(j.E.n,this.CL,this);
this.pc=new ir([22,4,0],null,16);this.pc.P(j.E.n,this.Ow,this);this.Co=new ir([22,4,1],null,16);this.Co.P(j.E.n,this.Ow,this);
this.St=new dp(null,g.Av.aO);this.St.P(j.E.n,this.Ow,this);J.appendChild(this.pc._);J.appendChild(this.St._);
B.A1(J);J.appendChild(this.Co._);this.jc=B.iY(this,J);this.P("closebtn",this.Q0,this)}k5.prototype=new kX;
k5.prototype.Xe=function(J,v){return J!=null};k5.prototype.b7=function(){return!0};k5.prototype.d=function(){kX.prototype.d.call(this);
this.pc.d();this.Co.d();this.St.d();this.jc.d()};k5.prototype.pJ=function(J,v){var x=J.i3.eE;this.f.i3.eE=x;
this.St.q(x)};k5.prototype.Q4=function(J,v){this.U8=J;this.a3F=JSON.stringify(J.lg());this.bq=[-1];var x=["Global"],o=J.root.children,R=J.Ss();
for(var h=0;h<o.length;h++){var r=o[h].w;if(r.add.artb){x.push(r.getName());this.bq.push(o[h].index)}}this.jg.Qw(x);
this.jg.q(this.bq.indexOf(R));this.CL()};k5.prototype.CL=function(){var J=this.U8,v=J.lg(),x=this.bq[this.jg.s()],o=[0,0];
if(x!=-1){var R=J.k[x].Gf();o=[R.x,R.y]}var r=function(l,M,J,P,S){var c=l[0],b=[];for(var h=0;h<c.length;
h++)if(l[1][h]==x&&c[h][0]==M)b.push(g.Av.OV(c[h][1]-o[M],J.Bt,P,S));b.sort(function(w,U){return w-U});
return b.join(", ")};this.pc.q(r(v,1,J,this.f,J.$));this.Co.q(r(v,0,J,this.f,J.r))};k5.prototype.Ow=function(J){if(J&&J.currentTarget==this.St)this.f.i3.eE=this.St.s();
else{var v=this.avR(),x=this.U8;x.P_(v);x.ms=!0}this.CL()};k5.prototype.avR=function(){var J=this.U8,v=J.lg(),x=this.bq[this.jg.s()],o=[0,0];
if(x!=-1){var R=J.k[x].Gf();o=[R.x,R.y]}var r=[];for(var l=0;l<2;l++){var M=l==0?this.Co:this.pc,P=l==0?J.r:J.$,S=M.s().replace(/,/g," ").replace(/  +/g," ").trim(),c=S==""?[]:S.split(" ");
for(var h=0;h<c.length;h++)r.push([l,g.Av.aaa(c[h],J.Bt,this.f,P)+o[l]])}for(var h=0;h<v[0].length;h++)if(v[1][h]==x){v[0].splice(h,1);
v[1].splice(h,1);h--}for(var h=0;h<r.length;h++){v[0].push(r[h]);v[1].push(x)}return v};k5.prototype.Q0=function(J){var v=this.U8;
v.P_(JSON.parse(this.a3F));v.ms=!0;this.U8=null};k5.prototype.jB=function(J){this.Ow(J);var v=new dd(j.E.G,!0);
v.J=H.VO;v.data={R:"gids",NO:JSON.parse(this.a3F),TQ:this.U8.lg()};this.U8=null;this.close();this.a(v)};
function eZ(J){kX.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[J],J);
this.f=null;this.U8=null;this.n4=null;var v=B.l("div","form");this.body.appendChild(v);B.L(v,"width:300px");
this.Ly=new a0("Source Images",!0,!0);v.appendChild(this.Ly._);this.aDp=new dp([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.kS=new a9("Order images by name");this.kS.q(!0);var x=this.aDI=d2.Td();for(var h=0;h<x.length;h++)if(d2.s$(x[h]).KY){x.splice(h,1);
h--}x.push("SVG","PDF");this.vJ=new dp([12,50],x);this.vJ.q(1);this.uB=new dZ;this.vJ.P(j.E.n,this.ZI,this);
this.bR=new dp("Action Set",[]);this.bR.P(j.E.n,this.pJ,this);this.aoZ=new dp("Action",[]);this.azp=new a9("Apply to all opened documents");
this.aaI=new a9("Stretch inserted images");this.aaI.q(!0);this.C$=new a9("Resize");this.C$.P(j.E.n,this.a6a,this);
var o=this.az6=B.l("div","label6");this.wr=new fL([12,41],1,5e3,"px",0,null,null,5);this.wr.parent=this;
this.wr.q(1e3);this.Cy=new fL([12,42],1,5e3,"px",0,null,null,5);this.Cy.parent=this;this.Cy.q(1e3);o.appendChild(this.wr._);
B.A1(o);o.appendChild(this.Cy._);if(J=="pdfpres"){v.appendChild(this.aDp._);v.appendChild(this.kS._)}else{if(J=="batch"){v.appendChild(this.bR._);
B.A1(v);v.appendChild(this.aoZ._);B.kY(v)}if(J=="mockups"){v.appendChild(this.azp._);v.appendChild(this.aaI._);
B.A1(v)}if(J=="resize"){this.C$.q(!0)}else{v.appendChild(this.C$._);B.A1(v)}v.appendChild(o);this.a6a();
B.kY(v);v.appendChild(this.vJ._);v.appendChild(this.uB._)}var R=["VAR0 PDF",[1,8]];if(J=="cformat")R="Convert Images";
if(J=="batch")R="Process Images";if(J=="mockups")R="Generate";if(J=="resize")R="Resize Images";var r=new bj(R,!0,null,!0);
r.P("click",this.rX,this);v.appendChild(r._);this.ZI();this.On=-1;this.k4=null}eZ.prototype=new kX;eZ.prototype.a6a=function(J){this.az6.style.display=this.C$.s()?"":"none"};
eZ.prototype.ZI=function(J){var v=this.aDI[this.vJ.s()];this.uB.sk(v)};eZ.prototype.rX=function(J){this.k4=null;
if(this.id=="mockups"&&this.n4.length>1&&this.azp.s()){this.k4={};this.On=0}this.D7()};eZ.prototype.D7=async function(){var J=Date.now(),v=this.Ly.s(),x=[],r=595,l=842,F,Y,A,G;
for(var o in v)x.push(o);if(x.length==0){alert("No images selected");return}if(this.kS.s())x.sort();
var R=this.aDp.s(),M=new ToPDF,P=UDOC.getState(),S=this.aDI[this.vJ.s()],c=d2.s$(S),b=this.uB.s(),w={},U=this.U8;
if(this.k4)U=this.n4[this.On];if(this.id=="mockups"){if(U==null){alert("Open a document with smart objects");
return}var n=U.k[U.Y[0]];if(n.add.SoLd==null){n=null;for(var h=0;h<U.k.length;h++)if(U.k[h].add.SoLd)n=U.k[h];
if(n==null){alert("There are no smart objects in a current document.");return}}U.Y=[U.k.indexOf(n)];
var E=n.add.SoLd;Y=U.mA(E.Idnt.v);A=Y.Vs;G=Y.fb;F=E.Sz.v}for(var K=0;K<x.length;K++){var o=x[K],e=v[o],$=e[0]==255,N=d2.e4(e.buffer),k=d2.s$(N),V=[{P0:new jj,data:new ArrayBuffer(0)}],X=null;
if(N=="psd"&&!c.KY)V=ih.a7y(e.buffer);else if(k.KY){X=new d7("file.psd");k.lx(e.buffer,X);X.HQ();if(!c.KY){if(X.C4)h4.aG(X,this.f.rr,this);
X.Ai();X.er();V=[{P0:new jj(0,0,X.r,X.$),data:X.rv().buffer}]}}else if(k.NM){V=await d2.a0q(k,e.buffer);
console.log(V)}else V=k.lx(e.buffer);if(this.id=="batch"){var Q=new dd(j.E.j,!0),L=this.f,_=L.L4,a=_[this.bR.s()];
for(var h=0;h<V.length;h++){X=d2.QB(o,[V[h]]);Q.data={R:j.m.iD,qE:X};this.a(Q);if(X.k.length==3)X.Y=[1];
kj.auR(X,_,a.SU[this.aoZ.s()].hX,a.hX,this);X.Ai();X.er();V[h].P0=new jj(0,0,X.r,X.$);V[h].data=X.rv().buffer;
V[h].Bt=X.Bt;V[h].gX=X.gX;Q.data={R:j.m.rM,$E:X};this.a(Q)}}if(this.id=="mockups"){var T=new Uint8Array(V[0].data),f=V[0].P0,Z=F.Wdth.v,W=F.Hght.v;
if(!this.aaI.s()){var D=f.r,C=f.$,d=D/C,p=Z/W;if(p>d)D=Math.ceil(C*p);else C=Math.ceil(D/p);f.x=D-f.r>>>1;
f.y=C-f.$>>>1;var y=new jj(0,0,D,C),i=g.C(D*C*4);g.sW(T,f,i,y);T=i;f=y}var t=H.ge.EN([T,f],new bC(Z/f.r,0,0,W/f.$,0,0));
Y.Vs=[t.buffer,t.S];g.DV(Y.Vs);Y.fb=t.S;U.aEm(Y.KK);V=[{data:g.N2(U.rv(),8).buffer,P0:new jj(0,0,U.r,U.$),Bt:U.Bt,gX:U.gX,b5:U.b5}]}if(this.C$.s()){var O=V[0].P0,z=Math.min(this.wr.s()/O.r,this.Cy.s()/O.$);
if(z<1)for(var h=0;h<V.length;h++){var T=new Uint8Array(V[h].data),f=V[h].P0,t=H.ge.EN([T,f],new bC(z*.999999,0,0,z*.999999,0,0));
V[h].data=t.buffer.buffer;V[h].P0=t.S}}var O=V[0].P0,jw=new Uint8Array(V[0].data),u=O.r,iH=O.$;if(this.id=="pdfpres"){var s=[[595,842],[842,595],[595,595],[595,0]][R];
if(R==3)s[1]=Math.round(s[0]*iH/u);var r=s[0],l=s[1],bV=Math.min(r/u,l/iH);M.StartPage(0,0,r,l);P.ctm=[u*bV,0,0,iH*bV,(r-u*bV)/2,(l-iH*bV)/2];
M.PutImage(P,$?e:jw,u,iH);M.ShowPage()}else{var jU=o.split("."),hx;jU.pop();jU.push(S.toLowerCase());
if(c.KY){if(X==null){X=d2.QB(o,V);X.HQ()}hx=c.lS(X,X.r,X.$,b,this.f)}else{var eX=[];for(var h=0;h<V.length;
h++){var et=V[h],f7=et.gT,iY=0;if(f7){f7=f7.split(",");if(f7[1])iY=parseInt(f7[1])}eX.push([et.data,iY,et.Bt,et.b5,null,et.gX])}hx=c.lS(eX,u,iH,b)}w[jU.join(".")]=new Uint8Array(hx)}}if(this.id=="mockups"){Y.Vs=A;
Y.fb=G;U.aEm(Y.KK)}console.log(Date.now()-J);if(this.id=="pdfpres"){M.Done();this.Fh(M.buffer,"file.pdf")}else{var cd="images";
if(this.id=="mockups")cd=U.name.slice(0,U.name.length-4);if(this.k4){for(var o in w)this.k4[cd+"/"+o]=w[o];
this.On++;if(this.On==this.n4.length){this.Fh(UZIP.encode(this.k4),"images.zip");this.k4=null}else this.D7()}else this.Fh(UZIP.encode(w),cd+".zip")}};
eZ.prototype.Fh=function(J,v){f6.event("auto_"+this.id);aB.save(J,v)};eZ.prototype.Q4=function(J,v,x,o){this.U8=J;
this.n4=x};eZ.prototype.pJ=function(J,v){if(v!=null){this.f=J;var x=J.L4,o=[];for(var h=0;h<x.length;
h++)o.push(x[h].hX);this.bR.Qw(o)}else J=this.f;var x=J.L4.length==0?[]:J.L4[this.bR.s()].SU,o=[];for(var h=0;
h<x.length;h++)o.push(x[h].hX);this.aoZ.Qw(o)};eZ.prototype.d=function(){kX.prototype.d.call(this);this.uB.d();
this.wr.f_("Max. "+ea.get([12,41])+":");this.Cy.f_("Max. "+ea.get([12,42])+":");this.Ly.d();this.aDp.d();
this.kS.d()};function cH(J){var v=a8.names[J];if(v==null)v=kC.names[J];if(J=="aply")v=[2,12];if(J=="fade")v=[2,11];
if(J=="matc")v=[4,18];if(J=="blendOptions")v=[14,10];kX.call(this,v,"afw_"+J);this.Y8=J;this.H2=null;
this.a43=null;this.II=new i8[J];this.II.P(j.E.n,this.vH,this);this.II.parent=this;this.body.appendChild(this.II._);
this.Ju=new a9([24,18,5]);this.Ju.q(!0);this.Ju.P(j.E.n,this.vH,this);this.akW=new bj([1,12,2],!0,null,!0);
this.akW.P("click",this.Md,this);this.jc=B.iY(this);if(this.VS())this.II.fQ(this.jc._);else{B._H(this.II._,"form");
B._H(this.body,"flexrow");B.L(this.II._,"width:312px");var x=B.l("div");this.body.appendChild(x);B.L(x,"width:8em; margin-left:1em; line-height:2.3em");
x.appendChild(this.jc._);x.appendChild(this.akW._);x.appendChild(this.Ju._)}this.P("closebtn",this.Lx,this)}cH.prototype=new kX;
cH.prototype.b7=function(){return!0};cH.prototype.VS=function(){return this.II!=null&&this.II.WV()};
cH.prototype.z$=function(){return this.VS()?new aG(0,0):kX.prototype.z$()};cH.prototype.V9=function(J){return this.II.V9(J)};
cH.prototype.uj=function(){return this.II.uj()};cH.prototype._N=function(J,v,x,o,R){this.II._N(J,v,x,o,R)};
cH.prototype.kq=function(J,v,x,o,R){this.II.kq(J,v,x,o,R)};cH.prototype.ER=function(J,v,x,o,R){this.II.ER(J,v,x,o,R)};
cH.prototype.Xe=function(J,v){if(this.Y8=="fade")return cH.azn(J);return!0};cH.prototype.Md=function(J){this.II.q(a8.ow(this.Y8));
this.vH()};cH.prototype.vH=function(J){this.PE({R:"edit",Bl:this.II.s(),dH:!this.Ju.s()})};cH.prototype.Lx=function(J){this.PE({R:"cancel"})};
cH.prototype.jB=function(J){if(!this.Ju.s()){this.Ju.q(!0);this.vH()}this.a43=this.II.s();if(this.VS())this.vH();
this.PE({R:"confirm"});this.close()};cH.prototype.d=function(){kX.prototype.d.call(this);this.Ju.d();
if(this.II)this.II.d();this.jc.d()};cH.prototype.pJ=function(J,v){if(this.II)this.II.pJ(J,v)};cH.prototype.lb=function(J,v,x,o){if(this.VS())this.II.lb(o);
else kX.prototype.lb.call(this,J,v,x,o)};cH.prototype.Q4=function(J,v,x,o){this.H2=v.H2;var R=J.add.lnk2?J.add.lnk2:[],r,l,M=new jj(0,0,J.r,J.$),P=J.k[J.Y[0]],c=null;
r=P.buffer;l=P.S;var S=J.g&&this.Y8=="LqFy"&&v.H2==null;if(S){l=J.g.S.Q();r=g.C(l.o()*4);g.sW(P.buffer,P.S,r,l)}if(this.VS()){c=J.rv(J.Y[0]-1);
if(S){var b=g.C(l.o()*4);g.sW(c,M,b,l);M=l.Q();c=b}}var w=a8.ow(this.Y8),U=[R,J.ac,J,x];if(v.H2==null){this.II.q(w,r,l,M,c,U);
if(kC.names[this.Y8]){if(o.M(gw.i4)&&this.a43)this.II.q(this.a43);var F=H.Cs.getData(J),Y=g.n7(F[0].u8);
this.II.MY(Y)}}else{var A=!1,P=J.k[this.H2.w];if(P.Ov()){var G=P.V0(J);r=G.buffer;l=G.S;var n=P.add.SoLd.filterFX.v.filterFXList.v;
if(n[this.H2.index]){var E=n[this.H2.index].v;this.II.q(this.Y8=="blendOptions"?E.blendOptions.v:E.Fltr.v,r,l,M,c,U);
this.II.MY(g.n7(r));A=!0}}if(!A){this.II.q(w,r,l,M,c,U);this.II.MY(g.n7(r))}}if(!this.VS()){this.vH();
var K=this.II;if(K&&K.G9&&K.G9[0]&&K.G9[0].lz&&Math.min(window.innerWidth,window.innerHeight)>500)K.G9[0].lz()}};
cH.prototype.PE=function(J){var v=new dd(j.E.G,!0);J.Y8=this.Y8;J.H2=this.H2;if(this.Y8=="VaPo"){J.K=this.II.s();
J.fK=this.II.aG$()}v.data=J;v.J=a8.names[this.Y8]||this.H2?H.c$:H.hi;v.W5=!0;this.a(v)};cH.prototype.qe=function(J,v){if(!this.II.WV()){}else{this.body.style.padding="0";
this.II.qe(J,v)}};cH.azn=function(J){if(J==null)return!1;var v=J.Wo();if(v==null||!(v.data instanceof Array)||v.data.length!=J.Y.length)return!1;
for(var h=0;h<v.data.length;h++){var x=v.data[h];if(x.w<0&&J.ac[-1-x.w])return!0;if(x.w==null||J.k[x.w]==null||J.k[x.w].kG!=x.tF)return!1;
if(J.Y.indexOf(x.w)==-1)return!1}return!0};function d9(){kX.call(this,[11,0],"camera");this.data=null;
this.aDg=new aG(1,1);this.afy=[];var J=B.l("div","form hbar");this.body.appendChild(J);this.a2M=new dp(null,[]);
this.a18=new dp([21,0],[[21,2],[21,1]]);J.appendChild(this.a18._);this.zz=new dp(null,[]);this.zz.P(j.E.n,this.aBJ,this);
J.appendChild(this.zz._);this.a8b=new bj([11,0],!1,null,!0);this.a8b.P("click",this.anN,this);J.appendChild(this.a8b._);
this.ape=new aT("");J.appendChild(this.ape._);this.stream=null;this.cu=B.l("video");this.cu.setAttribute("autoplay","true");
this.body.appendChild(this.cu);this.aI5=this.arO.bind(this);this.aj2=this.a6S.bind(this);this.ahv=this.a6Z.bind(this);
this.P("closebtn",this.aEZ,this)}d9.prototype=new kX;d9.prototype.d=function(){kX.prototype.d.call(this);
this.a18.d();this.a8b.d();this.qe(this.BK,this.mq)};d9.prototype.rv=function(){var J=this.cu.videoWidth,v=this.cu.videoHeight,x=B.l("canvas","");
x.width=J;x.height=v;var o=x.getContext("2d");o.drawImage(this.cu,0,0,J,v);var R=o.getImageData(0,0,J,v);
return{P0:new jj(0,0,J,v),data:R.data.buffer}};d9.prototype.anN=function(J){if(this.a18.s()==0)this.aFb();
else this.amo()};d9.prototype.amo=function(){var J=this.rv(),v={buffer:new Uint8Array(J.data),S:J.P0},x=new dd(j.E.G,!0);
x.W5=!0;x.J=H.wu;x.data={R:m.NH,YE:v};this.a(x);alert(ea.get([21,4]))};d9.prototype.aFb=function(){var J=this.rv(),v=d2.QB("camera",[J]),x=new dd(j.E.j,!0);
x.data={R:j.m.iD,qE:v};this.a(x);alert(ea.get([21,5]))};d9.prototype.Q4=function(J,v,x){navigator.mediaDevices.enumerateDevices().then(this.aAI.bind(this))};
d9.prototype.aAI=function(J){var v=this.afy=[],x=[];for(var h=0;h<J.length;h++)if(J[h].kind=="videoinput"){v.push(J[h]);
x.push("Camera "+v.length)}this.zz.Qw(x);this.zz.q(0);this.aBJ()};d9.prototype.aBJ=function(J){this.aEZ();
var v={video:{deviceId:this.afy[this.zz.s()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(v).then(this.aI5).catch(this.aj2);
else navigator.webkitGetUserMedia(v,this.aI5,this.aj2)};d9.prototype.arO=function(J){this.stream=J;this.cu.srcObject=J;
this.cu.addEventListener("loadedmetadata",this.ahv,!1)};d9.prototype.a6Z=function(J){this.cu.play();
this.qe(this.BK,this.mq)};d9.prototype.z$=function(J,v){return new aG(0,0)};d9.prototype.qe=function(J,v){var x=this.cu.videoWidth,o=this.cu.videoHeight;
this.ape.q(x+" x "+o+" px");B.L(this.ape._,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.aDg._h(x,o);this.BK=J;this.mq=v;var R=J-28,r=v-28-30,l=this.aDg.x/this.aDg.y;if(R/r>l)R=r*l;else r=R/l;
B.L(this.cu,"display: block; width: "+Math.round(R)+"px; height:"+Math.round(r)+"px;")};d9.prototype.a6S=function(J){console.log("error",J);
alert(ea.get([21,6]));this.close()};d9.prototype.aEZ=function(J){if(this.stream!=null){var v=this.stream.getTracks();
for(var h=0;h<v.length;h++)v[h].stop();this.stream=null}};function bH(){kX.call(this,[7,8],"crange");
this.U8=null;this.Ge={jj:73,o5:4.45,c:4};this.kM={jj:73,o5:4.45,c:4};this.body.style.width="20em";this.I4=new dp([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.I4.P(j.E.n,this.a90,this);this.body.appendChild(this.I4._);this.an=B.l("div","form");this.body.appendChild(this.an);
var J=this.ag_=2,v=this.Wq=[new jL([12,92],0,200),new iF([12,36],[[18,0],"\uFF0B","-"]),new jL([12,92],0,100,"%"),new fL("Min",0,255),new fL("Max",0,255)];
v[0].q(40);v[J].q(40);for(var h=0;h<v.length;h++){v[h].P(j.E.n,this._t,this);v[h].parent=this}this.W0=B.l("canvas");
this.body.appendChild(this.W0);this.jc=B.iY(this,this.body)}bH.prototype=new kX;bH.prototype.Xe=function(J,v){return J!=null};
bH.prototype.uj=function(){return!0};bH.prototype.b7=function(){return!0};bH.prototype.a90=function(J){var v=this.I4.s(),x=this.Wq,o=this.an,R=0,r=x.length,l=this.ag_;
if(v==0)r=l;else{R=l;x[R+1].q([0,100,190][v-1]);x[R+1].Ne(v!=1);x[R+2].q([60,150,255][v-1]);x[R+2].Ne(v!=3)}B.wp(o);
for(var h=R;h<r;h++){o.appendChild(x[h]._)}this._t()};bH.prototype.d=function(){kX.prototype.d.call(this);
this.jc.d();this.I4.d();for(var h=0;h<this.Wq.length;h++)this.Wq[h].d()};bH.prototype._N=function(J,v,x,o,R){var r=J.U.hW(R.x,R.y);
this.a4y(r.x,r.y)};bH.prototype.a4y=function(J,v){var x=Math.min,o=Math.max,R=this.U8,r=o(0,x(R.r-1,Math.floor(J))),l=o(0,x(R.$-1,Math.floor(v))),M=R.rv(),P=(l*R.r+r)*4,S=M[P],c=M[P+1],b=M[P+2],w=g.ZG(S,c,b),U=this.Wq[1].s(),F=this.Ge,Y=this.kM;
if(U==0){this.Ge=g.F(w);this.kM=w}else if(U==1){F.jj=x(F.jj,w.jj);F.o5=x(F.o5,w.o5);F.c=x(F.c,w.c);Y.jj=o(Y.jj,w.jj);
Y.o5=o(Y.o5,w.o5);Y.c=o(Y.c,w.c)}else if(U==2){var A=(F.jj+Y.jj)/2,G=(F.o5+Y.o5)/2,n=(F.c+Y.c)/2;if(w.jj<A)F.jj=o(F.jj,w.jj+10);
else Y.jj=x(Y.jj,w.jj-10);if(w.o5<G)F.o5=o(F.o5,w.o5+1);else Y.o5=x(Y.o5,w.o5-1);if(w.c<n)F.c=o(F.c,w.c+1);
else Y.c=x(Y.c,w.c-1)}this._t()};bH.prototype.jB=function(J){var v=this.I4.s(),x=this.Wq,o={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(v==0){var R=this.Ge,r=this.kM;o.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:R.jj},A:{t:"doub",v:R.o5},B:{t:"doub",v:R.c}}};
o.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:r.jj},A:{t:"doub",v:r.o5},B:{t:"doub",v:r.c}}};o.Fzns={t:"long",v:x[0].s()}}else{v--;
var l=["shadows","midtones","highlights"][v];o.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][v]}};if(0<v)o[l+"LowerLimit"]={t:"long",v:x[3].s()};
if(v<2)o[l+"UpperLimit"]={t:"long",v:x[4].s()};o[l+"Fuzziness"]={t:"long",v:x[2].s()}}this.close();var M=new dd(j.E.aT,!0);
M.data={QI:"colorRange",_g:o};this.a(M)};bH.prototype.Q4=function(J,v){this.U8=J;this.a4y(0,0);this.a90()};
bH.prototype._t=function(){var J=this.U8,v=this.I4.s(),x=this.Ge,o=this.kM,R=this.Wq,r=R[0].s()/200,l=!1;
if(v>0){x=R[3].s();o=R[4].s();if(x>=o)x=o-1;l=!0;r=R[2].s()/100}var M=H.IE.xC(J,x,o,r,l),P=M.S,S=M.N,c=this.W0,b=c.getContext("2d"),w=Math.floor(230*B.rR()),U=Math.floor(w*(P.$/P.r));
c.width=w;c.height=U;B.Ol(c,w,U);var F=g.C(S.length*4);F.fill(255);for(var h=0;h<3;h++)g.Os(S,F,h);var Y=H.ge.EN([F,P],new bC(w/P.r,0,0,U/P.$,0,0)),A=Y.S,G=new ImageData(new Uint8ClampedArray(Y.buffer.buffer),A.r,A.$);
b.putImageData(G,0,0)};function el(){kX.call(this,[12,76,1],"createshape");this.uq=null;var J=B.l("div","form");
B.L(J,"width:20em");this.body.appendChild(J);this.pf=new j3(!0,!0,null,!0,!0);this.pf.q(new aG(100,100));
J.appendChild(this.pf._);this.aG9=new a9([19,5,3]);J.appendChild(this.aG9._);this.jc=B.iY(this,J)}el.prototype=new kX;
el.prototype.jB=function(J){var v=this.pf.s();this.uq.ayd(this.uq.a2y,v.x,v.y,this.aG9.s());this.close()};
el.prototype.d=function(){if(this.uq)this.Zx=ea.get([5,3])+": "+ea.get(this.uq.ax9);kX.prototype.d.call(this);
this.jc.d();this.pf.d();this.aG9.d()};el.prototype.Q4=function(J,v){this.uq=v;this.d();this.pf.q(this.pf.s(),J.Bt)};
function kn(){kX.call(this,[11,1],"colorpicker");this.mY=null;this.xm=null;this.Gs=null;this.Dl=!1;this.yt=!1;
this.a1T=[.9642,1,.8249];var J=B.l("div","flexrow"),l,M;this.body.appendChild(J);this.D6=new ar(256,!0);
this.D6.P(j.E.n,this.Vo,this);J.appendChild(this.D6._);var v=B.l("div","form");B.L(v,"width:14.5em; margin-left:1em;");
J.appendChild(v);var x=B.l("div","flexrow");v.appendChild(x);var o=B.l("div");x.appendChild(o);o.style="width:95px; margin-right:14px";
this.a6g=B.l("div","full");o.appendChild(this.a6g);this.aHg=B.l("div","full");o.appendChild(this.aHg);
var o=B.l("col");x.appendChild(o);o.style.width="80px";this.jc=B.iY(this,o);var x=B.l("div","flexrow");
v.appendChild(x);var R=B.l("div"),r=B.l("div");x.appendChild(R);x.appendChild(r);R.style=r.style="margin-left:14px; max-width:80px;";
l=["H","S","B"];M=R;this.lu=[];for(var h=0;h<3;h++){var P=0,S=360,c="\xB0";if(h!=0){S=100;c="%"}var b=new fL(l[h],P,S,c,0,!1,!0);
this.lu.push(b);b.P(j.E.n,this.aeQ,this);M.appendChild(b._);if(h==2)b._.style.marginBottom="8px"}l=["R","G","B"];
M=R;this.wE=[];for(var h=0;h<3;h++){var b=new fL(l[h],0,255,null,0,!1,!0);this.wE.push(b);b.P(j.E.n,this.a1X,this);
M.appendChild(b._)}l=["L","a","b"];M=r;this.yD=[];for(var h=0;h<3;h++){var P=[0,-128,-128][h],S=[100,127,127][h],b=new fL(l[h],P,S,null,0,!1,!0);
b.q(0);this.yD.push(b);b.P(j.E.n,this.aIN,this);M.appendChild(b._);if(h==2)b._.style.marginBottom="8px"}l=["C","M","Y","K"];
M=r;this.n5=[];for(var h=0;h<4;h++){var b=new fL(l[h],0,100,"%",0,!1,!0);b.q(0);this.n5.push(b);b.P(j.E.n,this.asD,this);
M.appendChild(b._);if(h==3)b._.style.marginBottom="8px"}this.pc=new ir("#",null,4.5);this.pc.P(j.E.n,this.uL,this);
R.appendChild(this.pc._);this.pc._.style.marginRight="0";this.i_=B.l("input","fitem");this.i_.setAttribute("type","color");
B.L(this.i_,"width:59px;  margin-left:19px;");this.i_.addEventListener("change",this.uL.bind(this),!1);
this.Q_=new dx(9);this.Q_.P(j.E.n,this.uL,this);v.appendChild(this.Q_._);this.P("closebtn",this.Lx,this);
this.r_=!1}kn.prototype=new kX;kn.prototype.uj=function(){return!0};kn.prototype.z$=function(J,v){if(Math.min(J,v)>500)return null;
return new aG(Math.max(0,Math.min(150,(J-484)/2)),Math.max(0,Math.min(150,(v-316)/2)))};kn.prototype.qe=function(J,v){this.D6.qe(Math.min(256,J-226),v)};
kn.prototype.d=function(J,v){kX.prototype.d.call(this);for(var h=0;h<3;h++){this.wE[h].d();this.lu[h].d();
this.yD[h].d()}for(var h=0;h<4;h++)this.n5[h].d();this.jc.d()};kn.prototype.Vo=function(J){this.xm=this.D6.s();
this.update()};kn.prototype._N=function(J,v,x,o,R){this.r_=!0;this.aah(J,R)};kn.prototype.kq=function(J,v,x,o,R){if(!this.r_)return;
this.aah(J,R)};kn.prototype.ER=function(J,v,x,o,R){this.r_=!1};kn.prototype.aah=function(J,v){this.xm=g.x7(H.WG.xv(J,v,1),1);
this.update()};kn.prototype.a1X=function(J){var v=this.wE,x=this.PX(parseInt(v[0].s())),o=this.PX(parseInt(v[1].s())),R=this.PX(parseInt(v[2].s()));
this.xm={z:x/255,H:o/255,c:R/255};this.update()};kn.prototype.aeQ=function(J){var v=this.lu,x=this.iv(parseInt(v[0].s())/360),o=this.iv(parseInt(v[1].s())/100),R=this.iv(parseInt(v[2].s())/100);
this.xm=g.Pu(x,o,R);this.update()};kn.prototype.asD=function(J){var v=this.n5,x=[];for(var h=0;h<4;h++){var o=this.aA3(parseInt(v[h].s()));
v[h].q(o);x.push(o/100)}var R=g.D4(x);this.xm={z:R[0],H:R[1],c:R[2]};this.update(!0)};kn.prototype.aIN=function(J){var v=this.yD,x=parseInt(v[0].s()),o=parseInt(v[1].s()),R=parseInt(v[2].s()),r=g.XL(x,o,R);
this.xm={z:r.z/255,H:r.H/255,c:r.c/255};this.update()};kn.prototype.uL=function(J){var v;if(J.currentTarget==this.Q_)v=this.Q_.s();
else{v=J.currentTarget==this.pc?this.pc.s():this.i_.value;if(v.charAt(0)=="#")v=v.slice(1);if(v.length==3)v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2];
v=g.aGc(v)}this.xm=g.x7(v,1);this.update()};kn.prototype.jB=function(J){this.avq();var v=g.c7(this.xm,1);
this.Gs(v);this.close();this.yt=!1;this.xm=null};kn.prototype.Lx=function(J){this.avq();if(this.Dl)this.Gs(g.c7(this.mY,1));
this.yt=!1;this.xm=null};kn.prototype.avq=function(J){var v=new dd(j.E.j,!0);v.data={R:j.m.auE};this.a(v)};
kn.prototype.pJ=function(J,v){var x=jS.R4(J,v);if(x!=null)this.Q_.q(x);if(v!=cj.Zl)return;if(this.xm!=null){this.xm=g.x7(x,1);
this.update()}};kn.prototype.Q4=function(J,v){var x=g.x7(v.qt,1);if(this.xm==null){var o=new dd(j.E.j,!0);
o.data={R:j.m.HX,O5:"crosshair",push:!0};this.a(o);this.r_=!1;this.Gs=v.Ah;this.Dl=!1;this.yt=v.eu;this.mY=g.F(x);
B.L(this.aHg,"height:2.3em;background-color:#"+g.q2(v.qt)+";")}this.xm=x;this.update()};kn.prototype.update=function(J){var v=this.xm,x=g.c7(v,1);
this.pc.q(g.q2(x));this.i_.value="#"+g.q2(x);B.L(this.a6g,"height:2.3em;background-color:#"+g.q2(x)+";");
var o=this.wE;o[0].q(Math.round(v.z*255));o[1].q(Math.round(v.H*255));o[2].q(Math.round(v.c*255));var R=g.qz(v.z,v.H,v.c);
o=this.lu;o[0].q(Math.round(R.mq*360));o[1].q(Math.round(R.hO*100));o[2].q(Math.round(R.Bl*100));var r=g.ZG(v.z*255,v.H*255,v.c*255,this.a1T);
o=this.yD;o[0].q(Math.round(r.jj));o[1].q(Math.round(r.o5));o[2].q(Math.round(r.c));if(J==null){var l=g.Cv([v.z,v.H,v.c]);
o=this.n5;o[0].q(Math.round(l[0]*100));o[1].q(Math.round(l[1]*100));o[2].q(Math.round(l[2]*100));o[3].q(Math.round(l[3]*100))}this.D6.q(v);
if(this.yt){this.Gs(g.c7(this.xm,1));this.Dl=!0}};kn.prototype.aA3=function(J){return Math.max(0,Math.min(100,J))};
kn.prototype.PX=function(J){return Math.max(0,Math.min(255,J))};kn.prototype.iv=function(J){return Math.max(0,Math.min(1,J))};
function gG(){kX.call(this,[11,2],"contoureditor");this.a4r=null;this.GY=null;this.response=null;this.VF=B.l("div","cell");
this.body.appendChild(this.VF);this.Xd=B.l("div","cell padded");this.body.appendChild(this.Xd);var J=B.l("div","bordered padded vmargin");
this.VF.appendChild(J);this.II=new ec(null,null,!0);this.II.P(j.E.n,this.ly,this);J.appendChild(this.II._);
this.jc=B.iY(this,this.Xd);this.P("closebtn",this.Ib,this)}gG.prototype=new kX;gG.prototype.jB=function(){this.close()};
gG.prototype.d=function(){kX.prototype.d.call(this);this.jc.d();this.II.d()};gG.prototype.ly=function(J){this.GY.Crv.v=this.II.s();
this.response(this.GY)};gG.prototype.Ib=function(J){this.response(this.a4r)};gG.prototype.Q4=function(J,v){this.a4r=g.F(v.SU);
this.GY=v.SU;this.response=v.response;this.II.q(this.GY.Crv.v)};function df(){kX.call(this,[11,4],"duplinto");
this.qE=null;this.n4=null;this.CU=null;var J=B.l("div","form");B.L(J,"max-width:26em");this.body.appendChild(J);
this.sh=new dp([12,43],["abc","def"]);this.sh.P(j.E.n,this.hK,this);J.appendChild(this.sh._);B.A1(J);
this.lo=new dp([1,16,0],["abc","def"]);this.lo.P(j.E.n,this.hK,this);J.appendChild(this.lo._);B.A1(J);
this.Fq=new ir([12,48],null,14);J.appendChild(this.Fq._);this.jc=B.iY(this,J)}df.prototype=new kX;df.prototype.b7=function(){return!0};
df.prototype.d=function(){kX.prototype.d.call(this);this.jc.d();this.sh.d();this.Fq.d()};df.prototype.hK=function(J){if(J&&J.target==this.lo)return;
var v=this.sh.s(),x=this.n4[v],o=this.qE,R=x!=null&&x.add.artd!=null;for(var h=0;h<o.Y.length;h++)if(o.k[o.Y[h]].add.artb)R=!1;
this.Fq.Ne(v==this.n4.length);this.lo.Ne(R);if(R){var r=x.root.children,l=[],M=this.CU=[];for(var h=0;
h<r.length;h++){var P=r[h].w;if(P.add.artb)l.push(P.getName());M.push(r[h].index)}this.lo.Qw(l);this.lo.q(0)}else this.CU=null};
df.prototype.Q4=function(J,v,x){this.qE=J;this.n4=x;this.Fq.q(J.Y.length==0?"Layer":J.k[J.Y[0]].getName());
var o=[];for(var h=0;h<x.length;h++){var R=x[h].name;o.push(R.length<30?R:R.slice(0,27)+"...")}o.push([11,7]);
this.sh.Qw(o);this.sh.q(x.indexOf(J));this.hK(null)};df.prototype.jB=function(J){var v=this.sh.s();if(v==this.n4.length){var x=new d7(this.Fq.s()+".psd"),o=this.qE.r,R=this.qE.$,r=this.qE.Ss();
if(r!=-1){var l=this.qE.k[r].Gf();o=l.r;R=l.$}x.r=o;x.$=R;x.buffer=g.C(x.r*x.$*4);var M=x.qL();M.v7("Background");
x.C0([M]);var P=new dd(j.E.j,!0);P.W5=!0;P.data={R:j.m.iD,qE:x};this.a(P)}var S=this.qE.CO(null,this.qE!=this.n4[v]),P=new dd(j.E.G,!0);
P.data={R:m.XM,k:S,Ud:this.qE,Nn:this.n4[v]};if(this.CU)P.data.v6=this.CU[this.lo.s()];P.J=H.wu;P.W5=!0;
this.a(P);this.close()};function dw(){kX.call(this,[1,9],"eassets");this.f=null;this.qE=null;var J=this.body;
B._H(J,"form");J.style.width="32em";this.I4=new iF(null,["Layers","Combinations"]);this.I4.P(j.E.n,this.CL,this);
J.appendChild(this.I4._);B.kY(J);this.oy=B.l("span");J.appendChild(this.oy);this.Y6=B.l("div");J.appendChild(this.Y6);
var v=B.l("div"),x=B.l("div","flexrow");this.abw=[v,x];this.gy=[new a9("Only layers / folders, whose name starts with \"-e-\""),new a9("Remove parts outside the canvas"),new a9("Trim transparent parts")];
for(var h=0;h<3;h++){var o=this.gy[h];o.q(!0);o.P(j.E.n,this.CL,this);v.appendChild(o._);B.A1(v)}this.vG=new bA([12,14,0],["1x","2x","3x","4x"]);
this.vG.q([!0,!1,!1,!1]);v.appendChild(this.vG._);var R=B.l("div");x.appendChild(R);var r=B.l("img");
r.setAttribute("src",f6.mP("img/nft.png"));r.style.width="150px";x.appendChild(r);var l=B.l("span");
l.textContent="File Names:";R.appendChild(l);this.Gc=new bA(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
R.appendChild(this.Gc._);this.Gc.q([!0,!1,!1]);B.kY(J);this.aaf=["PNG","JPG","SVG","TIFF","TGA"];this.EY=new dp([12,50],this.aaf);
this.EY.P(j.E.n,this.ZI,this);J.appendChild(this.EY._);this.uB=new dZ;J.appendChild(this.uB._);this.jc=new bj([1,9],!0,null,!0);
this.jc.P("click",this.jB,this);J.appendChild(this.jc._);this.P("closebtn",this.zW,this)}dw.prototype=new kX;
dw.prototype.ZI=function(J){this.uB.sk(this.aaf[this.EY.s()],!1,!1,!1,this.qE.L_()!=null)};dw.prototype.zW=function(J){this.qE=null};
dw.prototype.d=function(){kX.prototype.d.call(this);this.EY.d();this.vG.d();this.jc.d();this.uB.d()};
dw.prototype.Q4=function(J,v,x){this.qE=J;this.CL()};dw.prototype.CL=function(J){var v=this.I4.s(),x;
B.wp(this.Y6);this.Y6.appendChild(this.abw[v]);if(v==0){var o=this.alC();x=o.length+" exportable layers"}else{var o=this.arL();
x=o[1]+" combinations ("+o[0].join(" \xD7 ")+")"}this.oy.textContent="- - - "+x;this.ZI(null)};dw.prototype.alC=function(){var J=this.gy[0].s(),v=[],x=this.qE;
for(var h=0;h<x.k.length;h++){var o=x.k[h],R=o.getName();if(!J&&!o.tX()&&!o.S.L3()||R.startsWith("-e"))v.push(h)}return v};
dw.prototype.arL=function(){var J=this.qE,v=J.root.children,x=[],o=1,R=[];for(var h=0;h<v.length;h++){var r=v[h],l=r.w;
if(l.tX()){var M=r.children.length;x.push(M);o*=M;R.push(r.index)}l}return[x,o,R]};dw.prototype.pJ=function(J,v){this.f=J};
dw.prototype.jB=function(J){var v=this.qE,x=this.I4.s(),o=[this.aaf[this.EY.s()]],R=[this.uB.s()],r={};
if(x==0){var l=this.vG.s(),M={},P=this.alC();if(P.length==0){alert("No layers to export.");return}var S=[this.gy[1].s(),this.gy[2].s()];
for(var h=0;h<P.length;h++){var c=P[h],b=v.k[c],w=b.getName();if(M[w]!=null){M[w]++;w+=" "+M[w]}else M[w]=1;
var U=b.jh();b.G0(!0);for(var F=0;F<l.length;F++){if(!l[F])continue;var Y=F+1,A=H.Io.afF(v,o,Y,this.f,c,R,S);
for(var G=0;G<o.length;G++){var n=o[G],E=w.slice(w.startsWith("-e-")?3:0)+(Y==1?"":"@"+Y+"x")+"."+n.toLowerCase();
if(A[G])r[E]=new Uint8Array(A[G])}}b.G0(U)}}else{var U=[];for(var h=0;h<v.k.length;h++)U.push(v.k[h].jh());
var K=this.arL(),e=K[0],P=K[2],$=[];function N(Q,c,L,_){if(c==Q.length){_.push(L.slice(0));return}var a=Q[c];
for(var h=0;h<a;h++){L.push(h);N(Q,c+1,L,_);L.pop(h)}}N(e,0,[],$);var k=this.Gc.s().indexOf(!0);this.HP=[$,r,P,o,R,U,k,this.ahC.bind(this),0,0];
this.ahC();return}var V=UZIP.encode(r),X=new dd(j.E.j,!0);X.data={R:j.m.Ut,data:V,name:"assets.zip"};
this.a(X)};dw.prototype.ahC=function(){var J=this.HP,v=J[0],x=J[1],o=this.qE,R=J[2],r=J[3],l=J[4],M=J[5],P=J[6],S=J[7],c=0;
while(v.length!=0&&c<1e3){var b=Date.now(),w=v.shift(),U=[];for(var h=0;h<w.length;h++){var F=o.root.jJ(R[h]);
for(var Y=0;Y<F.children.length;Y++)F.children[Y].w.G0(!1);var A=F.children[w[h]].w;U.push(P==2?A.getName():F.w.getName()+w[h]);
A.G0(!0)}o.Ai();o.er();var G=(P==0?w:U).join("-")+"."+r[0].toLowerCase();x[G]=new Uint8Array(d2.At(o,r[0],o.r,o.$,l[0],this.f));
J[8]++;J[9]+=x[G].length;c+=Date.now()-b}if(v.length!=0){alert(J[8]+" done, "+eF.Ux(J[9])+".",800);setTimeout(S,35);
return}for(var h=0;h<o.k.length;h++)o.k[h].G0(M[h]);o.Ai();var n=UZIP.encode(x),E=new dd(j.E.j,!0);E.data={R:j.m.Ut,data:n,name:"assets.zip"};
this.a(E)};function cV(){kX.call(this,"Export Color Lookup Tables","exlut");this.f=null;this.qE=null;
var J=B.l("div","form");B.L(J,"width:20em");this.body.appendChild(J);this.gy=[new fL("Grid Points",1,256),new iF([12,50],[".CUBE"])];
var v=[16,0];for(var h=0;h<this.gy.length;h++){var x=this.gy[h];x.q(v[h]);x.parent=this;x.P(j.E.n,this.CL,this);
J.appendChild(x._);B.A1(J)}this.jc=B.iY(this,J);this.P("closebtn",this.zW,this)}cV.prototype=new kX;
cV.prototype.Xe=function(J,v){if(Math.min(J.r,J.$)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(J.k.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};cV.prototype.zW=function(J){this.qE=null};cV.prototype.pJ=function(J,v){this.f=J};
cV.prototype.Q4=function(J,v,x){this.qE=J};cV.prototype.jB=function(){var J=this.qE,v=this.gy[0].s(),x=[],o=new jj(0,0,J.r,J.$),R=g.C(v*v*4),r=R.slice(0),l=new jj(J.r-v>>>1,J.$-v>>>1,v,v),M=J.k[0],P=M.buffer,S=M.S;
M.S=l;M.buffer=R;for(var c=0;c<v;c++){this.acJ(v,c,R);M.Ai(l);J.Ai(l);var b=J.rv();g.sW(b,o,r,l);for(var w=0;
w<v;w++)for(var U=0;U<v;U++){var F=w*v+U<<2;x.push(r[F]/255,r[F+1]/255,r[F+2]/255)}}var Y=go.ad_(x,v,J.name);
aB.save(Y,J.name.split(".")[0]+".CUBE");M.buffer=P;M.S=S;M.Ai();J.Ai()};cV.prototype.acJ=function(J,v,x){var o=255/(J-1),R=Math.round(v*o);
for(var r=0;r<J;r++)for(var l=0;l<J;l++){var M=r*J+l<<2;x[M]=Math.round(l*o);x[M+1]=Math.round(r*o);
x[M+2]=R;x[M+3]=255}};cV.prototype.d=function(){kX.prototype.d.call(this);for(var h=0;h<this.gy.length;
h++)this.gy[h].d();this.jc.d()};function gt(){kX.call(this,[1,14],"finfo");this.aki=null;this.MP=null;
this.asR=null;this.dN=B.l("div","form scrollable label12");B.L(this.dN,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.dN);var J=B.l("div","form");this.body.appendChild(J);this.$S=new dp(null,["Hello"]);
J.appendChild(this.$S._);this.ax6=new bj("Add Parameter",!1,null,!0);J.appendChild(this.ax6._);this.ax6.P("click",this.Zk,this);
this.hj=new bj("=== S A V E ===",!1,null,!0);J.appendChild(this.hj._);this.hj.P("click",this.Fh,this);
this.anz=""}gt.prototype=new kX;gt.prototype.z$=function(J,v){return J<450||v<450?new aG(0,0):new aG(150,100)};
gt.prototype.Zk=function(J){if(this.asR.length==0)return;var v=this.asR[this.$S.s()],x=this.nM();x[v]=ef.Qo[v][0];
this.Th(x);this.MP[v]._.scrollIntoView();this.MP[v].lz()};gt.prototype.zw=function(J){var v=this.nM();
delete v[J.currentTarget.ah7];this.Th(v)};gt.prototype.Fh=function(J){var v=this.nM(),x=this.aki,o=!0;
for(var R in x)if(JSON.stringify(x[R])!=JSON.stringify(v[R]))o=!1;for(var R in v)if(JSON.stringify(x[R])!=JSON.stringify(v[R]))o=!1;
if(o)return;var r=new dd(j.E.G,!0);r.J=H.wu;r.data={R:m.yO,Mp:v};this.a(r);this.aki=v;this.Th(v)};gt.a16=function(J){function v(R){var r=R.toLowerCase();
return R==r}var x=J.split(":").pop();for(var o=1;o<x.length-1;o++){if(x[o]==x[o].toUpperCase()&&(v(x[o+1])||v(x[o-1]))){x=x.slice(0,o)+" "+x.slice(o);
o++}}return x};gt.prototype.Q4=function(J,v){this.aki=J.b5;this.Th(J.b5)};gt.prototype.Th=function(J){var v=this.dN,R=0;
B.wp(v);var x=this.MP={},o=["tiff","exif","exif:GPS"],r=this.asR=[],l=[];for(var M in ef.Qo){var P=gt.a16(M),S=0,c=15,b=null;
if(J[M]==null){if(ef.Qo[M].length!=1||M=="photoshop:Credit"||M=="photoshop:Source"){r.push(M);l.push(P)}continue}for(var h=0;
h<o.length;h++)if(M.startsWith(o[h]))S=h;if(S!=R){B.kY(v);R=S}if(M=="tiff:ImageDescription"||M=="dc:Keywords"){c=18.5;
b=3}var w=new ir(P,null,c,b);x[M]=w;var U=J[M];if(U instanceof Array)U=U[1]==0?"---":U[0]+"/"+U[1];var F=new bj("\u2716",null,ea.get([5,4]));
v.appendChild(F._);F.P("click",this.zw,this);F.ah7=M;w.q(U);v.appendChild(w._);B.A1(v);if(M=="exif:GPSLongitude"&&J["exif:GPSLatitude"]){this.anz=gt.ayk(J["exif:GPSLatitude"])+","+gt.ayk(J["exif:GPSLongitude"]);
var Y=new bj("Show on map",!1,null,!0);v.appendChild(Y._);B.A1(v);Y.P("click",this.a8n,this)}}this.$S.Qw(l);
this.$S.q(0)};gt.prototype.nM=function(){var J=this.MP,v=ef.Qo,x={};for(var o in v){var R=v[o][0],r=typeof R;
if(R==null||J[o]==null)continue;var l=J[o].s(),M="The value of \""+gt.a16(o)+"\" must ";if(r=="number"){l=parseFloat(l);
if(isNaN(l)){alert(M+"be a number.");l=R}}else if(R instanceof Array&&R.length==2){if(l.indexOf("/")==-1){alert(M+"be a fraction.");
l=R.slice(0)}else{l=l.split("/").map(parseFloat);if(isNaN(l[0])||isNaN(l[1])){l=R.slice(0)}}}x[o]=l}return x};
gt.ayk=function(J){var v=J.length,x=J.slice(0,v-1).split(",").map(parseFloat),o=J.slice(v-1),R=x[0]+x[1]/60+x[2]/3600;
if(o!="N"&&o!="E")R=-R;return R};gt.prototype.a8n=function(J){window.open("https://maps.google.com?q="+this.anz,"Map")};
function d_(){kX.call(this,[11,5],"gradienteditor");this.mY=null;this.xm=null;this.f=null;this.Gs=null;
this.Dl=!1;this.yt=!1;this.sG=null;this.cU=null;this.fg=-1;this.Tk=-1;this.Je=0;this.IL=this.MS.bind(this);
this.CV=this.bU.bind(this);this.W0=B.l("canvas");this.zJ=this.W0.getContext("2d");B.L(this.W0,"display:block");
this.Q3=null;B.sl(this.W0);B._A(this.W0,this.w_.bind(this));this.q5=B.l("div","form");this.H5=B.l("div");
this._n=B.l("div","form");this.lL=B.l("div");this.ny=new dp([12,44],[[15,10,0],[24,6]]);this.ny.P(j.E.n,this.GM,this);
this.body.appendChild(this.ny._);B.kY(this.body);var J=this.q5;this.ye=new fL([19,3,3],0,100,"%");this.ye.P(j.E.n,this.GM,this);
this.ye.parent=this;J.appendChild(this.ye._);B.A1(J);this.a38=new aT([12,0]);J.appendChild(this.a38._);
this.lP=B.l("div","bordered padded noalign");J.appendChild(this.lP);this.xR=new fL([12,0],0,100,"%");
this.xR.parent=this;this.xR.P(j.E.n,this.GM,this);this.lP.appendChild(this.xR._);this.so=new fL([12,40],0,100,"%");
this.so.parent=this;this.so.P(j.E.n,this.GM,this);this.lP.appendChild(this.so._);this.XF=new bj([5,4],!1,null,!0);
this.XF.P("click",this.aoJ,this);this.lP.appendChild(this.XF._);J.appendChild(this.H5);this.akR=new aT([13,0]);
J.appendChild(this.akR._);this.N1=B.l("div","bordered padded noalign");J.appendChild(this.N1);this.PF=new dp([12,44],[[12,45],[12,46],[12,47]]);
this.PF.P(j.E.n,this.GM,this);this.N1.appendChild(this.PF._);this.bb=new hf(!0);this.bb.parent=this;
this.bb.P(j.E.n,this.GM,this);this.N1.appendChild(this.bb._);this.Ve=new fL([12,40],0,100,"%");this.Ve.parent=this;
this.Ve.P(j.E.n,this.GM,this);this.N1.appendChild(this.Ve._);this.Sa=new bj([5,4],!1,null,!0);this.Sa.P("click",this.ac4,this);
this.N1.appendChild(this.Sa._);var J=this._n;this.LE=new fL("Roughness",0,100,"%");this.LE.P(j.E.n,this.GM,this);
this.LE.parent=this;J.appendChild(this.LE._);J.appendChild(this.lL);this.kb=new bj([25,1,2],!1,null,!0);
this.kb.P("click",this.GM,this);J.appendChild(this.kb._);this.jc=B.iY(this);this.P("closebtn",this.Lx,this)}d_.prototype=new kX;
d_.prototype.Lx=function(J){if(this.Dl)this.Gs(this.mY);this.Gs=null;this.yt=!1};d_.prototype.d=function(){kX.prototype.d.call(this);
this.jc.d();this.ye.d();this.a38.d();this.akR.d();this.XF.d();this.Sa.d();this.xR.d();this.so.d();this.PF.d();
this.Ve.d();this.kb.d()};d_.prototype.pJ=function(J,v){this.f=J;if(v==cj.Zl)this.f7()};d_.prototype.Q4=function(J,v){this.xm=g.F(v.UH);
this.mY=g.F(v.UH);this.sG=this.cU=null;this.Gs=v.Ah;this.Dl=!1;this.yt=v.eu;this.f7();this.s4()};d_.prototype.jB=function(J){var v=this.xm;
this.Gs(v);this.close();this.Gs=null;this.yt=!1};d_.prototype.V9=function(J){return J==gw.Fp||J==gw.hP};
d_.prototype.lb=function(J,v,x,o){if(o.M(gw.Fp)||o.M(gw.hP)){if(this.cU)this.aoJ();if(this.sG)this.ac4()}};
d_.prototype.aoJ=function(J){var v=this.xm.Trns.v;if(this.cU==null||v.length==1)return;v.splice(v.indexOf(this.cU),1);
this.cU=null;this.f7();this.s4()};d_.prototype.ac4=function(J){var v=this.xm.Clrs.v;if(this.sG==null||v.length==1)return;
v.splice(v.indexOf(this.sG),1);this.sG=null;this.f7();this.s4()};d_.prototype.f7=function(){var J=this.W0,v=this.zJ;
if(this.xm==null)return;var x=B.rR();J.width=Math.floor(410*x);J.height=Math.floor(70*x);B.Ol(J,J.width,J.height);
J.style.marginTop="8px";this.Q3=new jj(0,0,Math.floor(380*x),Math.floor(32*x));this.Q3.x=Math.floor((J.width-this.Q3.r)/2);
this.Q3.y=Math.floor((J.height-this.Q3.$)/2);var o=this.Q3,R=o.r,r=o.$,l=o.x,M=o.y,P=new jj(0,0,R,r),S=v.getImageData(0,0,R,r),c=new Uint8Array(S.data.buffer);
g.PH(c,R,r,8);var b=g.C(R*r*4);g.UH.$m(this.xm,b,P,[1/R,0,0,1/r],R/2,r/2,!1,0,this.f.P4,this.f.Vb);g.v.Ry("norm",b,o,c,o,o,1);
v.clearRect(0,0,J.width,J.height);v.putImageData(S,l,M);var w=this.xm;if(w.Clrs){var U=w.Trns.v,F=w.Clrs.v,Y=g.UH.Yx(w,this.f.P4,this.f.Vb),A=Math.round(6*B.rR()),G=Math.round(14*B.rR()),n=this.cU?this.cU.v:null,E=this.sG?this.sG.v:null;
for(var h=0;h<U.length;h++){var K=U[h].v,e=Math.round(255-255*K.Opct.v.val/100);if((K==n||U[h-1]&&U[h-1].v==n||h==this.Tk)&&h!=0){v.fillStyle="#000000";
v.fillRect(l-3+R*(U[h-1].v.Lctn.v+(K.Lctn.v-U[h-1].v.Lctn.v)*K.Mdpn.v/100)/4096,M-6-2,6,6)}if(K==n){v.fillStyle="#ffffff";
v.fillRect(l-A+R*(K.Lctn.v/4096)-2,M-2-G-2,2*A+4,G+4)}v.fillStyle="rgb("+e+","+e+","+e+")";v.fillRect(l-A+R*(K.Lctn.v/4096),M-2-G,2*A,G)}for(var h=0;
h<F.length;h++){var $=F[h].v,N=Y[0][h][0];if(($==E||F[h-1]&&F[h-1].v==E||h==this.fg)&&h!=0){v.fillStyle="#000000";
v.fillRect(l-3+R*(F[h-1].v.Lctn.v+($.Lctn.v-F[h-1].v.Lctn.v)*$.Mdpn.v/100)/4096,M+r+2,6,6)}if($==E){v.fillStyle="#ffffff";
v.fillRect(l-A+R*($.Lctn.v/4096)-2,M+r+2-2,2*A+4,G+4)}v.fillStyle="rgb("+Math.round(N.z)+", "+Math.round(N.H)+","+Math.round(N.c)+")";
v.fillRect(l-A+R*($.Lctn.v/4096),M+r+2,2*A,G)}}if(this.yt){this.Gs(this.xm);this.Dl=!0}};d_.prototype.s4=function(){var J=this.xm,v=J.Clrs?0:1;
this.ny.q(v);if(B.yn(this.q5))this.body.removeChild(this.q5);if(B.yn(this._n))this.body.removeChild(this._n);
(v==0?this.H5:this.lL).appendChild(this.W0);if(v==0){this.body.appendChild(this.q5);this.ye.q(Math.round(100*J.Intr.v/4096));
var x=J.Trns.v,o=J.Clrs.v,R=this.cU!=null,r=this.Tk!=-1;this.xR.Ne(R);this.so.Ne(R||r);this.XF.Ne(R);
if(R){B.L(this.lP,"");var l=this.cU.v;this.so.q(Math.round(100*l.Lctn.v/4096));this.xR.q(l.Opct.v.val)}if(r)this.so.q(x[this.Tk].v.Mdpn.v);
var R=this.sG!=null,r=this.fg!=-1;this.PF.Ne(R);this.bb.Ne(R);this.Ve.Ne(R||r);this.Sa.Ne(R);if(R){B.L(this.N1,"");
var M=this.sG.v;this.Ve.q(Math.round(100*M.Lctn.v/4096));var P=M.Type.v.Clry;this.PF.q(["FrgC","BckC","UsrS"].indexOf(P));
if(P=="FrgC")this.bb.VR(this.f.P4);if(P=="BckC")this.bb.VR(this.f.Vb);if(P=="UsrS")this.bb.q(M.Clr.v)}if(r)this.Ve.q(o[this.fg].v.Mdpn.v)}else{this.body.appendChild(this._n);
this.LE.q(Math.round(100*J.Smth.v/4096))}this.body.appendChild(this.jc._)};d_.prototype.GM=function(J){var v=this.xm,x=v.Clrs?0:1;
if(J.target==this.ny){var o=x==0?JSON.parse(gD.Zg.ag8).v:a8.ow("grdm").Grad.v;this.xm=o;this.s4();this.f7();
return}if(x==0){v.Intr.v=Math.round(4096*this.ye.s()/100);var R=v.Trns.v,r=v.Clrs.v;if(this.cU!=null){var l=this.cU.v;
l.Lctn.v=Math.round(4096*(this.so.s()/100));l.Opct.v.val=this.xR.s()}if(this.sG!=null){var M=this.sG.v;
M.Lctn.v=Math.round(4096*(this.Ve.s()/100));if(J.target==this.bb)this.PF.q(2);var P=this.PF.s();M.Type.v.Clry=["FrgC","BckC","UsrS"][P];
if(P==2)M.Clr={t:"Objc",v:this.bb.s()};else if(M.Clr)delete M.Clr}if(this.Tk!=-1)R[this.Tk].v.Mdpn.v=this.so.s();
if(this.fg!=-1)r[this.fg].v.Mdpn.v=this.Ve.s()}else{v.Smth.v=Math.round(4096*this.LE.s()/100);if(J.target==this.kb)v.RndS.v=Math.floor(Math.random()*4294967295)}this.f7()};
d_.prototype.w_=function(J){var v=B.C2(J,this.W0),x=this.Q3,o=(v.x*B.rR()-x.x)/x.r,R=(v.y*B.rR()-x.y)/x.$,r=this.xm.Trns.v,l=this.xm.Clrs.v,M=null,P=null,S=-1,c=-1;
if(R<1)for(var h=0;h<r.length;h++){var b=r[h].v;if(Math.abs(b.Lctn.v/4096-o)<.02)M=r[h];if(h>0)if(Math.abs((r[h-1].v.Lctn.v+(b.Lctn.v-r[h-1].v.Lctn.v)*b.Mdpn.v/100)/4096-o)<.01)S=h}if(R>0)for(var h=0;
h<l.length;h++){var w=l[h].v;if(Math.abs(w.Lctn.v/4096-o)<.02)P=l[h];if(h>0)if(Math.abs((l[h-1].v.Lctn.v+(w.Lctn.v-l[h-1].v.Lctn.v)*w.Mdpn.v/100)/4096-o)<.01)c=h}if(P==null&&M==null&&S==-1&&c==-1){if(R<0){var b={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
b.v.Lctn.v=Math.round(o*4096);r.push(b);r.sort(this.ip);M=b}if(R>1){var l=this.xm.Clrs.v,U=g.UH.Yx(this.xm,this.f.P4,this.f.Vb),F=g.UH.SY(this.xm,U,o),w={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:g.UH.YK({z:F&255,H:F>>8&255,c:F>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
w.v.Lctn.v=Math.round(o*4096);l.push(w);l.sort(this.ip);P=w}}if(P!=null)c=-1;if(M!=null)S=-1;if(P!=null||M!=null||S>-1||c>-1){this.cU=M;
this.sG=P;this.Tk=S;this.fg=c;this.s4();this.f7();B.W4(window,this.IL);B.Kb(window,this.CV)}};d_.prototype.MS=function(J){var v=B.C2(J,this.W0),x=this.Q3,o=(v.x*B.rR()-x.x)/x.r,R=(v.y*B.rR()-x.y)/x.$;
o=Math.max(0,Math.min(1,o));var r=this.xm.Trns.v,l=this.xm.Clrs.v;if(this.cU!=null){var M=this.cU.v;
M.Lctn.v=Math.round(4096*o);var P=r.indexOf(this.cU);if(P!=-1&&R<-1&&r.length>1)r.splice(P,1);if(P==-1&&R>-1)r.push(this.cU);
r.sort(this.ip)}if(this.sG!=null){var S=this.sG.v;S.Lctn.v=Math.round(4096*o);var c=l.indexOf(this.sG);
if(c!=-1&&R>2&&l.length>1)l.splice(c,1);if(c==-1&&R<2)l.push(this.sG);l.sort(this.ip)}if(this.Tk>-1){var M=r[this.Tk].v;
M.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(o*4096-r[this.Tk-1].v.Lctn.v)/(M.Lctn.v-r[this.Tk-1].v.Lctn.v))))}if(this.fg>-1){var S=l[this.fg].v;
S.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(o*4096-l[this.fg-1].v.Lctn.v)/(S.Lctn.v-l[this.fg-1].v.Lctn.v))))}if(this.cU!=null||this.sG!=null||this.Tk>-1||this.fg>-1){this.s4();
this.f7()}};d_.prototype.bU=function(J){B.SP(window,this.IL);B.PD(window,this.CV);if(Date.now()-this.Je<300){if(this.fg!=-1||this.Tk!=-1){var v=(this.fg!=-1?this.xm.Clrs.v[this.fg]:this.xm.Trns.v[this.Tk]).v;
v.Mdpn.v=50;this.s4();this.f7()}else if(this.sG!=null)this.bb.mC()}this.Je=Date.now()};d_.prototype.ip=function(J,v){return J.v.Lctn.v-v.v.Lctn.v};
function fr(){kX.call(this,[11,5],"vgradienteditor");this.Gs=null;this.Ca=new h3;this.Ca.parent=this;
this.body.appendChild(this.Ca._);this.jc=B.iY(this,this.body)}fr.prototype=new kX;fr.prototype.Q4=function(J,v){this.Gs=v.Ah;
this.Ca.q(v.K)};fr.prototype.d=function(){kX.prototype.d.call(this);this.Ca.d()};fr.prototype.jB=function(J){this.Gs(this.Ca.s());
this.close()};function jx(J){kX.call(this,J=="isize"?[11,10]:[11,3],J);this.ap$=J;this.FQ=null;var v=B.l("div","form");
B.L(v,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(v);var x=J=="csize";this.agD=new aT("Hi");
v.appendChild(this.agD._);B.A1(v);this.pf=new j3(!0,!0,x,x,!0);if(x)this.pf.avj(!1);v.appendChild(this.pf._);
this.W3=new a9([12,25,3]);this.W3.q(!0);this.W3.P(j.E.n,this.a0i,this);this.v1=new dp(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.v1.q(1);this.WC=new gl([12,23,2],41);this.WC.q(4);if(J=="isize"){v.appendChild(this.W3._);v.appendChild(this.v1._)}else v.appendChild(this.WC._);
this.jc=B.iY(this,this.body)}jx.prototype=new kX;jx.prototype.Xe=function(J,v){return J!=null};jx.prototype.b7=function(){return!0};
jx.prototype.V9=function(J){return this.ap$=="isize"?!1:[gw.wv,gw.fZ,gw.Wl,gw.yy].indexOf(J)!=-1};jx.prototype.lb=function(J,v,x,o){if(o.M(gw.O9))this.jB();
this.WC.ad4(o.m0())};jx.prototype.d=function(){kX.prototype.d.call(this);this.pf.d();this.W3.d();this.v1.d();
this.WC.d();this.jc.d()};jx.prototype.jB=function(J){var v=this.pf.s(),x=v.x,o=v.y,R=new dd(j.E.aT,!0),r=this.pf._u.s();
if(this.ap$=="csize"){if(r){var l=this.pf.Ou,M=this.pf.CB;x=M.x-l.x;o=M.y-l.y}R.data=H.cD.atI(x,o,this.WC.s(),r)}else{var P=this.v1.s();
if(!this.W3.s())P=null;var S=this.pf.ao1(),c=this.FQ;console.log(S);if(S==1)R.data=H.cD.pS(x/c.x,o/c.y,this.pf.b2(),P,!0);
else R.data=H.cD.pS(x,o,this.pf.b2(),P)}this.close();this.a(R)};jx.prototype.Q4=function(J,v){this.FQ=new aG(J.r,J.$);
this.pf.q(this.FQ,J.Bt);this.pf.lz();this.agD.q(ea.get(this.Zx)+": "+(J.r*J.$/1e6).toFixed(2)+" MPx")};
jx.prototype.a0i=function(J){var v=this.W3.s(),x=this.pf,o=this.v1;if(v)o.fS();else o.UG();x.akS(v)};
function j1(){kX.call(this,"Import RAW","importraw");var J=B.l("div","flexrow"),v=B.l("div");B.L(v,"margin-bottom: 1em");
this.body.appendChild(J);this.body.appendChild(v);var x=B.l("div","form");B.L(x,"width:18em");J.appendChild(x);
var o=B.l("div","form");B.L(o,"width:15em");J.appendChild(o);this.uq=null;this.WO=null;this._a=null;
this.vI=null;this.aII=[];var R=[];for(var h=0;h<j1.HH.length;h++)R.push(j1.HH[h]+" Bits");var r=this.HP=[new j3(!0,null,null,!0),new fL([12,72],1,8),new a9("Last one is Transparency"),new iF([12,34],R),new iF("Byte Order",["12-34","34-12"]),new dp("Guesses",[])];
for(var h=0;h<r.length;h++){var l=r[h];l.parent=this;l.P(j.E.n,h==5?this.aHA:this.hK,this);var M=h==0?x:h==5?v:o;
M.appendChild(l._)}this.W0=B.l("canvas");this.zJ=this.W0.getContext("2d");this.body.appendChild(this.W0);
this.jc=B.iY(this,this.body)}j1.prototype=new kX;j1.prototype.d=function(){kX.prototype.d.call(this);
var J=this.HP;this.jc.d();for(var h=0;h<J.length;h++)J[h].d()};j1.prototype.jB=function(J){this.close();
var v=this.HP[0].s(),x=d2.QB(this.WO,[{data:this._a,P0:new jj(0,0,v.x,v.y)}]);if(this.vI)x.ac=this.vI;
var o=new dd(j.E.j,!0);o.data={R:!0?j.m.iD:j.m.ol,qE:x};this.a(o)};j1.HH=[8,16];j1.prototype.Q4=function(J,v){this.uq=new Uint8Array(v.wR);
this.WO=v.d8;var x=this.uq.length,o=[1,3,4],R=0,r=0,l=1,M=1,P=this.aII=[],S=Math.round(Math.sqrt(x)*2);
S=Math.max(S,4e3);for(var c=0;c<3;c++){for(var b=0;b<2;b++){var w=j1.HH[b],U=o[c],F=U*w,Y=Math.round(x*8/F);
if(Y!=x*8/F)continue;for(var A=0;A<=S;A++)for(var G=0;G<=S;G++)if(A*G==Y){var n=0;if(A==G)n+=64;if(Math.round(A/100)==A/100&&Math.round(G/100)==G/100)n+=32;
if(Math.round(A/10)==A/10&&Math.round(G/10)==G/10)n+=16;if(Math.round(A/2)==A/2&&Math.round(G/2)==G/2)n+=8;
P.push([A,G,U,w,n])}}}var E=function(N,k){if(k[4]!=N[4])return k[4]-N[4];var V=Math.max(N[0],N[1])/Math.min(N[0],N[1]),X=Math.max(k[0],k[1])/Math.min(k[0],k[1]);
if(V!=X)return V-X;return k[0]-N[0]};P.sort(E);var K=this.HP,e=[];for(var h=0;h<P.length;h++){var $=P[h];
e.push($[0]+" x "+$[1]+", "+$[2]+"ch, "+$[3]+"-bit")}K[5].Qw(e);K[5].q(0);this.aHA(null)};j1.prototype.aHA=function(J){var v=this.HP,x=this.aII[this.HP[5].s()];
v[0].q(new aG(x[0],x[1]),72);v[1].q(x[2]);v[3].q(j1.HH.indexOf(x[3]));this.hK()};j1.prototype.hK=function(J){var v=this.HP,x=v[0].s(),o=x.x,R=x.y,r=j1.HH[v[3].s()],l=this.uq;
if(r==16&&v[4].s()==1){l=l.slice(0);for(var h=0;h<l.length;h+=2){var M=l[h];l[h]=l[h+1];l[h+1]=M}}var P=this._a=this.lx(l,o,R,v[1].s(),r,v[2].s()),S=this.W0,c=this.zJ,b=[P,new jj(0,0,o,R)];
g.DV(b);for(var h=0;h<b.length;h+=2)if(b[h+1].$<300){P=b[h];o=b[h+1].r;R=b[h+1].$;break}S.width=o;S.height=R;
B.Ol(S,o,R);var w=new ImageData(new Uint8ClampedArray(P.buffer),o,R);c.putImageData(w,0,0)};j1.prototype.lx=function(J,v,x,o,R,r){this.vI=null;
var l=[],M=v*x;for(var P=0;P<o;P++){var S=g.C(M);l.push(S);if(R==8)for(var h=0;h<M;h++)S[h]=J[h*o+P];
else if(R==16)for(var h=0;h<M;h++)S[h]=Math.round((J[(h*o+P)*2]<<8|J[(h*o+P)*2+1])*(255/65535))}var c=g.C(M*4);
g.SX(c,4278190080);if(r){g.Os(l.pop(),c,3);o--}if(o==0){}else if(o==1)g.QR(l[0],c);else{g.Os(l[0],c,0);
g.Os(l[1],c,1);if(o>2){g.Os(l[2],c,2);if(o>3){this.vI=[];for(var h=3;h<o;h++){var b=new m.V1;b.name="Alpha "+(h-2);
b.S=new jj(0,0,v,x);b.N=l[h];this.vI.push(b)}}}}return c};function ig(J,v,x){aJ.call(this);this._=B.l("div","");
this.EZ=J;this.uD=null;this.Ca=v==null?!1:v;this.oS=null;this.So=x;this.ajQ=[];this.cF=[];this.hJ=[];
this.Ho=[];this.gr=0;this.uD=this.abj(ig.Ho[J]);this.pU();this.G5=null;this.ae$;this.ajD}ig.prototype=new aJ;
ig.prototype._N=function(J,v,x,o,R){this.G5=R;this.ae$=g.F(this.oS);if(this.uD.lagl)this.ajD=this.uD.lagl.s()[0]};
ig.prototype.kq=function(J,v,x,o,R){var r=this.G5,l=this.EZ,M=this.ae$;if(r==null)return;var P=(R.x-r.x)/J.U.NT,S=(R.y-r.y)/J.U.NT;
if(l=="GrFl"){var c=g.F(M.Ofst.v);c.Hrzn.v.val+=P*.5;c.Vrtc.v.val+=S*.5;this.uD.Ofst.q(c,!0)}if(l=="patternFill"){var c=g.F(M.phase.v);
c.Hrzn.v+=P;c.Vrtc.v+=S;this.uD.phase.q(c,!0)}if(l=="DrSh"||l=="IrSh"||l=="ChFX"){var b=M.Dstn.v.val,w=this.ajD*Math.PI/180,U=-Math.cos(w)*b+P,F=Math.sin(w)*b+S;
this.uD.Dstn.q(Math.sqrt(U*U+F*F),!0);this.uD.lagl.q([Math.atan2(F,-U)*180/Math.PI],!0)}};ig.prototype.ER=function(J,v,x,o,R){this.G5=null};
ig.prototype.aq6=function(){for(var h=0;h<this.Ho.length;h++){B.Nv(this.Ho[h],"selected");if(this.hJ[h]instanceof a9)this.hJ[h].q(!1)}};
ig.prototype.a0W=function(J){var v=this.aeB.bind(this);for(var h=0;h<this.hJ.length;h++){var x=B.l("div","listitem");
this.Ho.push(x);if(h>0)x.textContent="\u2003";x.appendChild(this.hJ[h]._);if(gD.aBV.indexOf(this.EZ)!=-1){var o=new bj("+");
o.$I();o._.style.float="right";x.appendChild(o._);var R=new bj("\u2B0D");R.$I();R._.style.float="right";
R._.style["margin-right"]="2px";x.appendChild(R._)}x.addEventListener("click",v,!1);J.appendChild(x)}};
ig.sv=function(J,v){var x=v.getBoundingClientRect();return(J.clientY-x.top)/x.height};ig.prototype.aeB=function(J){var v=J.target.tagName.toLowerCase();
if(v=="input"){return}if(v=="button"){var x=new dd(j.E.G,!0),o=J.target.textContent=="+",R=o?0:ig.sv(J,J.target)<.5?-1:1;
if(o)x.data={R:"st_dupsingle",w:this.parent.data.w,xH:this.So};else x.data={R:"st_movsingle",w:this.parent.data.w,xH:this.So,a09:R};
x.J=H.Ar;x.W5=!0;this.a(x);x=new dd("redrawall",!0);x.data={a09:R};this.a(x);return}B.Ib(J);this.wS();
this.gr=this.Ho.indexOf(J.currentTarget);this.a(new dd("showme"))};ig.prototype.wS=function(){if(this.uD.enab&&this.uD.enab.s()==!1)this.PE({f5:"enab",K:!0})};
ig.prototype.aqG=function(){var J=this.Ho[this.gr];if(J)B._H(J,"selected");return this.cF[this.gr]};
ig.prototype.abj=function(J){var v={};for(var h=0;h<J.length;h++){var x=J[h],o=null;if(x=="----")o={_:B.l("hr")};
if(x=="\n")o={_:B.l("br")};if(x=="blOptions")o=new aT([14,10]);if(x=="brst")o=new bA([12,72],["R","G","B"]);
if(x=="knko")o=new dp("Knockout",[[13,1,0],"Shallow","Deep"]);if(x=="enab")o=new a9(gD.names[gD.order.indexOf(this.EZ)]);
if(x=="lrMd"||x=="Md")o=new dp([12,19,0],gX.R2,gX.TD);if(x=="Opct")o=this.Ca?new fL([12,0],0,100,"%"):new gu([12,0],0,100,"%");
if(x=="iOpa")o=new gu([12,26],0,100,"%");if(x=="blIf")o=new dr;if(x=="ShdN")o=new gu([12,68],0,100,"%");
var R=this.EZ=="St3D"&&x=="lagl";if(x=="lagl"||x=="Angl")o=new a$(R?"Light":[12,15],this.EZ=="ebbl"||R);
if(x=="uglg")o=new a9([12,27]);if(x=="Dstn")o=new gu([12,28],0,200,"px");if(x=="Ckmt")o=new gu([12,29],0,100,"%");
if(x=="Srnk")o=new gu("Shrink",0,100,"%");if(x=="Drkn")o=new gu("Darken",0,100,"%");if(x=="blur")o=new gu([12,14,0],0,200,"px");
if(x=="TrnS"||x=="MpgS")o=new gH([12,21]);if(x=="Nose")o=new gu([12,30],0,100,"%");if(x=="layerConceals")o=new a9([12,31]);
if(x=="Cntn")o=new a9([12,25,4]);if(x=="AntA"||x=="antialiasGloss")o=new a9([12,25,1]);if(x=="GlwT")o=new dp([12,32],gD.sT.names);
if(x=="glwS")o=new dp([12,70],gD.sT.ad6);if(x=="Inpr")o=new gu([12,12],1,100,"%");if(x=="bvlS")o=new dp([12,22],gD._S.style);
if(x=="bvlT")o=new dp([12,32],gD._S.ae4);if(x=="bvlD")o=new dp(null,gD._S.dir);if(x=="srgR")o=new gu([12,34],0,1e3,"%");
if(x=="Sftn")o=new gu([12,35],0,20,"px");if(x=="Lald")o=v.lagl;if(x=="hglM"||x=="sdwM")o=new dp([12,36],gX.R2,gX.TD);
if(x=="hglC"||x=="sdwC")o=new hf;if(x=="hglO"||x=="sdwO")o=new gu([12,0],0,100,"%");if(x=="Invr"||x=="InvT")o=new a9([4,11]);
if(x=="overprint")o=new a9("Overprint");if(x=="Sz")o=new gu([12,14,0],1,200,"px");if(x=="Styl")o=new dp([12,40],gD.stroke.names);
if(x=="PntT")o=new dp([12,66],gD.stroke.ahW);if(x=="Clr")o=new hf(!0);if(x=="Grad"){o=new aE(!0,this.Ca?null:[12,37],!0);
o.q(JSON.parse(gD.Zg.apM).v)}if(x=="Rvrs")o=new a9([12,23,0]);if(x=="Dthr")o=new a9([12,23,3]);if(x=="Type")o=new dp(this.Ca?null:[12,22],gD.UH.names.slice(0,this.EZ=="FrFX"?6:5));
if(x=="Ptrn")o=new hV([12,62]);if(x=="Scl")o=new gu([12,38],5,500,"%",0,!0);if(x=="Algn")o=new a9([12,39]);
if(x=="Ofst")o=new es(!0);if(x=="phase")o=new es(!1);if(x=="useShape")o=new a9([12,21]);if(x=="useTexture")o=new a9([12,67]);
if(x=="textureDepth")o=new gu([12,34],-300,300,"%");var r=x=="----"||x=="\n"?x+h:x;if(o!=null)v[r]=o}return v};
ig.prototype.axD=function(J){var v=this.cF[this.gr];for(var h=0;h<J.length;h++){var x=this.uD[J[h]];
if(x&&v.contains(x._))v.removeChild(x._)}};ig.prototype.aaG=function(J){var v=this.cF[this.gr];for(var h=0;
h<J.length;h++){var x=this.uD[J[h]];if(x&&!v.contains(x._))v.appendChild(x._)}};ig.prototype.pJ=function(J,v){if(this.uD==null)return;
var x=v==cj.q6;if(this.uD.Grad){this.uD.Grad.kx(J.P4,J.Vb);if(x||v==cj.Zl||v==cj.Ui)this.uD.Grad.CN(J.TF)}if(this.uD.Ptrn){if(x||v==cj.q1)this.uD.Ptrn.CN(J.HZ)}if(this.uD.TrnS){if(x||v==cj.Lg)this.uD.TrnS.CN(J.Tp)}if(this.uD.MpgS){if(x||v==cj.Lg)this.uD.MpgS.CN(J.Tp)}};
ig.prototype.d=function(){for(var h=0;h<this.ajQ.length;h++)this.ajQ[h].d();for(var J in this.uD)if(this.uD[J]instanceof aJ)this.uD[J].d()};
ig.prototype.pU=function(){for(var J in this.uD){var v=this.uD[J];v.parent=this;if(v instanceof aJ)v.P(j.E.n,this.a5H,this);
if(this.cF.length==0||J=="useShape"||J=="useTexture"){var x=new aT(v.aen()),o=B.l("div","bordered padded");
if(this.Ca==!1){o.appendChild(x._);o.appendChild(B.l("hr",""))}this.ajQ.push(x);this.cF.push(o);this.hJ.push(v)}else this.cF[this.cF.length-1].appendChild(v._)}};
ig.prototype.update=function(J,v){if(this.uD==null)return;this.oS=g.F(v);for(var x in v){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(x)!=-1)this.uD[x].q(v[x].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(x)!=-1){this.uD[x].q(v[x].v,J)}if(["Md","hglM","sdwM"].indexOf(x)!=-1)this.uD[x].q(gX.EZ.indexOf(v[x].v.BlnM));
if(x=="lrMd"){var o=(v.isFolder?[[15,10,27]]:[]).concat(gX.R2),R=(v.isFolder?[1]:[]).concat(gX.TD);this.uD[x].Qw(o,R);
this.uD[x].q(v[x].v)}if(x=="Angl")this.uD[x].q([v[x].v.val]);if(x=="lagl"){var r=v.uglg&&v.uglg.v?J.AR():v.lagl.v.val;
this.uD[x].q([r])}if(x=="Lald"){var r=v.uglg&&v.uglg.v?J.Ny():v.Lald.v.val;this.uD[x].q([null,r])}if(x=="Type")this.uD[x].q(gD.UH.types.indexOf(v.Type.v.GrdT));
if(x=="Styl")this.uD[x].q(gD.stroke.types.indexOf(v.Styl.v.FStl));if(x=="PntT"){var l=gD.stroke.HF.indexOf(v.PntT.v.FrFl);
this.uD[x].q(l);if(!this.Ca){this.axD(gD.AG.concat(gD.Zy.concat(gD.eH)));this.aaG([gD.AG,gD.Zy,gD.eH][l])}}if(x=="GlwT")this.uD[x].q(gD.sT.types.indexOf(v.GlwT.v.BETE));
if(x=="glwS")this.uD[x].q(gD.sT.acS.indexOf(v.glwS.v.IGSr));if(x=="bvlS")this.uD[x].q(gD._S.types.indexOf(v.bvlS.v.BESl));
if(x=="bvlT")this.uD[x].q(gD._S.ar5.indexOf(v.bvlT.v.bvlT));if(x=="bvlD")this.uD[x].q(["In","Out"].indexOf(v.bvlD.v.BESs))}};
ig.prototype.a5H=function(J){for(var v in this.uD){if(this.uD[v]!=J.target)continue;var x=null,o=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(v)!=-1)x={type:"#Prc",val:J.target.s()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(v)!=-1)x={type:"#Pxl",val:J.target.s()};if(["Angl","lagl"].indexOf(v)!=-1)x={type:"#Ang",val:J.target.s()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(v)!=-1)x=J.target.s();
if(["Md","hglM","sdwM"].indexOf(v)!=-1)x={BlnM:gX.EZ[J.target.s()]};if(v=="uglg"){x=J.target.s();o=!0}if(v=="PntT"){x={FrFl:gD.stroke.HF[J.target.s()]};
o=!0}if(v=="Lald")x={type:"#Ang",val:J.target.s()[1]};if(v=="Type")x={GrdT:gD.UH.types[J.target.s()]};
if(v=="Styl")x={FStl:gD.stroke.types[J.target.s()]};if(v=="GlwT")x={BETE:gD.sT.types[J.target.s()]};
if(v=="glwS")x={IGSr:gD.sT.acS[J.target.s()]};if(v=="bvlS")x={BESl:gD._S.types[J.target.s()]};if(v=="bvlT")x={bvlT:gD._S.ar5[J.target.s()]};
if(v=="bvlD")x={BESs:["In","Out"][J.target.s()]};this.PE({f5:v,K:x});if(o){if(this.Ca)this.update(null,this.oS);
else{var R=this.parent,r=R.qE,l=this.So,M=r.k[R.data.w].add.lmfx[gD.Lw[l[0]]].v[l[1]].v;this.update(r,M)}}}};
ig.prototype.PE=function(J){if(this.oS&&this.oS[J.f5])this.oS[J.f5].v=J.K;if(this.Ca){this.a(new dd(j.E.n))}else{J.R="changeprop";
J.w=this.parent.data.w;J.Vn=this.So;var v=new dd(j.E.G,!0);v.data=J;v.J=H.Ar;v.W5=!0;this.a(v);this.a(new dd("afterchange",!0))}};
ig.prototype.s=function(){return g.F(this.oS)};ig.Ho={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(gD.AG),GrFl:["enab","Md","Opct"].concat(gD.Zy),patternFill:["enab","Md","Opct"].concat(gD.eH),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(gD.AG.concat(gD.Zy.concat(gD.eH)))};
function k8(){kX.call(this,[11,6],"layerstyle");this.aFR=-1;this.data={};this.qE=null;this.f=null;this.ST=[];
this.Mu=[];B._H(this.body,"flexrow");this.VF=B.l("div","bordered");B.L(this.VF,"min-width:13em;");this.body.appendChild(this.VF);
this.Wr=B.l("div","");B.L(this.Wr,"width:25em; padding-left: 1em;");this.body.appendChild(this.Wr);this.Xd=B.l("div","form");
B.L(this.Xd,"padding-left: 1em; width:7em;");this.body.appendChild(this.Xd);this.jc=B.iY(this,this.Xd);
this.a5Q=new bj([12,87],!0,null,!0);this.a5Q.P("click",this.aGu,this);this.Xd.appendChild(this.a5Q._);
this.GO=new dU;this.GO.parent=this;this.GO.P(j.E.n,this.ajI,this);this.Xd.appendChild(this.GO._);this.P("closebtn",this.Lx,this);
this.P("redrawall",this.a7K,this)}k8.prototype=new kX;k8.prototype.b7=function(){return!0};k8.prototype.uj=function(){return!0};
k8.prototype._N=function(J,v,x,o,R){var r=this.AF();if(r)r._N(J,v,x,o,R)};k8.prototype.kq=function(J,v,x,o,R){var r=this.AF();
if(r)r.kq(J,v,x,o,R)};k8.prototype.ER=function(J,v,x,o,R){var r=this.AF();if(r)r.ER(J,v,x,o,R)};k8.prototype.AF=function(J){if(J==null)J=this.data.index;
return J==null?null:J==0?this.ST[0]:this.Mu[J[0]][J[1]]};k8.prototype.ajI=function(J){var v=this.GO.s();
this.PE({R:"setstl",K:v.x0});this.a7K(null)};k8.prototype.aGu=function(J){var v=this.qE,x=this.data.w;
if(x==null)x=v.Y[0];var o=this.qE.k[x],R=iD.aiS(o),r=new dd(j.E.j,!0);r.data={R:j.m.Qq,pG:"add",Fu:cj.NY,xO:[g.F(R)]};
this.a(r)};k8.prototype.amy=function(J){this.data.index=J.currentTarget.So;this.nl(J.currentTarget.So)};
k8.prototype.a7K=function(J){this.Q4(this.qE,this.data)};k8.prototype.nl=function(J,v){B.wp(this.Wr);
for(var h=0;h<this.ST.length;h++)this.ST[h].aq6();var x=this.AF(J);this.Wr.appendChild(x.aqG());if(v)x.wS();
var o=this.qE;if(o){var R=o.k[this.data.w];this.ST[0].update(o,H.UM.br(o,R));var r=R.add.lmfx;if(r==null)return;
for(var h=0;h<gD.order.length;h++){var l=r[gD.Lw[h]].v;for(var M=0;M<l.length;M++)this.Mu[h][M].update(o,l[M].v)}}if(v)x.wS()};
k8.prototype.d=function(){kX.prototype.d.call(this);this.a5Q.d();this.GO.d();this.jc.d();for(var h=0;
h<this.ST.length;h++)this.ST[h].d()};k8.prototype.Q4=function(J,v){var x=v.w==null;this.data.w=v.w;this.data.index=v.index;
v=this.data;this.qE=J;if(x)v.w=J.Y.length==0?J.k.length-1:J.Y[0];B.wp(this.VF);var o=J.k[v.w].add.lmfx;
this.t0();this.ST=[new ig("bops",!1,0)];this.Mu=[];for(var h=0;h<gD.order.length;h++){this.Mu.push([]);
var R=o==null?[]:o[gD.Lw[h]].v;for(var r=0;r<R.length;r++){var l=new ig(gD.order[h],!1,[h,r]);this.ST.push(l);
this.Mu[h].push(l)}if(R.length==0){var l=new ig(gD.order[h],!1,[h,0]);this.ST.push(l);this.Mu[h].push(l)}}this.d();
this.axa(this.f,cj.q6);for(var h=0;h<this.ST.length;h++){this.ST[h].parent=this;this.ST[h].a0W(this.VF);
this.ST[h].P("showme",this.amy,this)}if(v.index==null||v.index==0||!x&&o[gD.Lw[v.index[0]]].v.length==0){this.nl(0)}else this.nl(v.index,x);
this.P("afterchange",this.t0,this)};k8.prototype.t0=function(J){var v=this.qE,x=this.data.w;if(x==null)x=v.Y[0];
var o=this.qE.k[x],R=iD.aiS(o);this.GO.q(R,v.add.Patt?v.add.Patt:[],v.AR(),v.Ny())};k8.prototype.pJ=function(J,v){this.f=J;
this.axa(J,v);if(v==cj.NY||v==cj.q6){this.GO.CN([J.yX,J.HZ])}if(v==cj.z0){}};k8.prototype.axa=function(J,v){for(var h=0;
h<this.ST.length;h++)this.ST[h].pJ(J,v)};k8.prototype.Lx=function(J){this.PE({R:"cancel"})};k8.prototype.jB=function(J){this.PE({R:"confirm"});
this.close()};k8.prototype.PE=function(J){J.w=this.data.w;var v=new dd(j.E.G,!0);v.data=J;v.J=H.Ar;v.W5=!0;
this.a(v);this.t0()};k8.aIm=function(){var J=function(v){if(v==null||v.Y.length==0)return{i:!1};var x=v.k[v.Y[0]];
return{i:x.add.lmfx!=null}};return{name:[11,6],vy:!0,sub:[{name:[5,1],i:J},{name:[5,2]},{name:[2,2],i:J}]}};
k8.aBT=function(){return{sub:[{A:j.E.G,J:H.Ar,p:{R:"st_copy"}},{A:j.E.G,J:H.Ar,p:{R:"st_paste"}},{A:j.E.G,J:H.Ar,p:{R:"st_clear"}}]}};
k8.dD=function(J){var v=[{name:[14,10],vy:!0}];for(var h=0;h<gD.names.length;h++)v.push({name:gD.names[h]});
if(J){v[v.length-1].vy=!0;v.push(k8.aIm());v.push({name:[6,30,1],i:function(x){return{i:x!=null&&x.Y.length!=0&&x.k[x.Y[0]].nf()}}});
v.push({name:["VAR0 VAR1",[12,49],[9,1]],i:function(x){return{i:x!=null&&x.Y.length!=0&&x.k[x.Y[0]].add.lmfx!=null}}})}return v};
k8.JJ=function(J){var v=[{A:j.E.j,p:{R:j.m.wz,kA:"layerstyle"}}];for(var h=0;h<gD.names.length;h++)v.push({A:j.E.j,p:{R:j.m.wz,kA:"layerstyle",index:[h,0]}});
if(J){v.push(k8.aBT());v.push({A:j.E.j,p:{R:j.m.wz,kA:"scaleeffects",EB:100,Fm:{A:j.E.G,J:H.Ar,p:{R:"scaleeffects"}}}});
var x={classID:"Mk",null:kj.RS("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
v.push({A:j.E.aT,p:{QI:"make",_g:x}})}return v};k8.aia=function(J){var v=[];if(J)v.push({name:[6,48,0,0],U6:!0},{name:[6,48,0,1],U6:!0},{name:[6,48,0,2],U6:!0,vy:!0});
for(var x in kC.names)v.push({name:kC.names[x],vy:kC.aD4.indexOf(x)!=-1,U6:i8[x]!=null});return v};k8.Hh=function(J){var v=[];
if(J){v.push({A:j.E.G,J:H.Mj,p:{R:"newfill",QJ:0}});for(var h=1;h<3;h++)v.push({A:j.E.aT,p:H.YP.Z9(h)})}for(var x in kC.names){var o=a8.ow(x);
if(o==null)o={};for(var R in kC.th)if(kC.th[R]==x)o.classID=R;var r={QI:"make",_g:{classID:"Mk",null:kj.RS("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:o}}}}};
v.push({A:j.E.aT,p:r})}return v};function kR(){kX.call(this,"Merge Channels","mergechannels");this.n4=null;
var J=B.l("div","form");this.body.appendChild(J);this.HP=[];for(var h=0;h<3;h++){var v=new dp(kC.EJ[h],[]);
this.HP.push(v);J.appendChild(v._);B.A1(J)}this.jc=B.iY(this,J)}kR.prototype=new kX;kR.prototype.d=function(){kX.prototype.d.call(this);
this.jc.d();for(var h=0;h<3;h++)this.HP[h].d()};kR.prototype.Q4=function(J,v,x,o){this.n4=x;var R=[];
for(var h=0;h<x.length;h++)R.push(x[h].name);for(var h=0;h<3;h++){var r=this.HP[h];r.Qw(R);r.q(Math.min(h,x.length-1))}};
kR.prototype.jB=function(J){var v=this.n4,x=v[0],o=new dd(j.E.aT,!0);o.data=d7.$B(x.r,x.$,x.Bt,"Merged Document","Wht",!1);
this.a(o);var R=[];for(var h=0;h<3;h++)R.push(v[this.HP[h].s()].rv());var x=v[v.length-1],r=x.k[0],l=r.buffer;
for(var h=0;h<l.length;h+=4){l[h]=R[0][h];l[h+1]=R[1][h];l[h+2]=R[2][h]}r.Ai();x.Ai();this.close()};
function gn(){kX.call(this,[1,10],"script");var J=B.l("div","form");B.L(J,"width:44em");this.body.appendChild(J);
this.f=null;this.ah=[];this.XY=[];this.aGg;var v=this.hj=new bj([1,2],!1,null,!0);v.P("click",this.Fh,this);
J.appendChild(v._);var x=new bj("JS Reference",!1,null,!0);x.P("click",this.aiE,this);J.appendChild(x._);
J.appendChild(new aT("Demos:")._);this.aEf=[];var o=gn.o7;for(var h=0;h<o.length;h++){var R=new bj(o[h].UL,!1,null,!0);
this.aEf.push(R);J.appendChild(R._);R.P("click",this.af4,this)}this.a9=B.l("textarea");B.Mb(this.a9);
this.a9.setAttribute("rows",16);B.L(this.a9,"display:block;tab-size:4; font-family:monospace;width:100%;");
J.appendChild(this.a9);var r=new bj("Run",!0,null,!0);r.P("click",this.jB,this);J.appendChild(r._);this.P7=B.l("div");
J.appendChild(this.P7)}gn.prototype=new kX;gn.prototype.d=function(){this.hj.d()};gn.prototype.Fh=function(){var J=this.aGg;
if(J==null)J="script.jsx";var v=new dd(j.E.j,!0);v.data={R:j.m.wz,kA:"namewindow",EB:J.slice(0,J.length-4),MX:this.aGI.bind(this)};
this.a(v)};gn.prototype.aGI=function(J){var v=this.a9.value,x=I.xU(v),o=new dd(j.E.j,!0);o.data={R:j.m.cS,wR:x.buffer,ox:J+".jsx",aeH:!0};
this.a(o)};gn.prototype.ai4=function(J){var h=this.ah.indexOf(J.target),v=this.aGg=this.XY[h],x=this.f.FK.sZ[v],o=new Uint8Array(x),R=I.Aq(o,0,o.length);
this.a9.value=R};gn.prototype.Q4=function(J,v,x){this.a9.value=gn.o7[0].Mi;this.aGk()};gn.prototype.aGk=function(){var J=this.f.FK,v=this.P7;
B.wp(v);this.ah=[];this.XY=[];v.textContent="Saved scripts: ";for(var x in J.sZ){if(x.endsWith(".jsx")){var o=new bj(x,!1,null,!0);
this.ah.push(o);this.XY.push(x);o.P("click",this.ai4,this);v.appendChild(o._)}}};gn.prototype.pJ=function(J,v){this.f=J;
if(v==cj.jP)this.aGk()};gn.prototype.aiE=function(J){var v=new dd(j.E.j,!0);v.data={R:j.m.fY,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.a(v)};gn.prototype.jB=function(J){var v=this.a9.value,x=this.f.FK.sZ;v=gn.acZ(v,x);var o=new dd(j.E.j,!0);
o.data={R:j.m.Ft,TM:v};this.a(o)};gn.acZ=function(J,v){var x=J.split("\n");for(var h=0;h<x.length;h++){var o=x[h].trim();
if(o.startsWith("#include")){var R=o.slice(o.indexOf("\"")+1,o.lastIndexOf("\"")),r=v[R];if(r==null)alert("\""+R+"\" not found in the Local Storage");
x[h]=gn.acZ(I.Aq(new Uint8Array(r)),v)}}return x.join("\n")};gn.prototype.af4=function(J){var v=this.aEf.indexOf(J.currentTarget);
this.a9.value=gn.o7[v].Mi};gn.o7=[{UL:"Hello",Mi:"\nalert(\"Hello Photopea!\");\n"},{UL:"Process Layers",Mi:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{UL:"Clone Layers",Mi:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function dH(){kX.call(this,[11,7],"newproject");this.data=null;this.n4=null;this.vq=0;var J=B.l("div","flexrow");
this.an=J;this.body.appendChild(J);var v=B.l("div","form");this.dN=v;J.appendChild(v);this.Fq=new ir([12,48],null,10);
v.appendChild(this.Fq._);B.A1(v);this.pf=new j3(!0,null,null,null,!0);this.pf.q(new aG(1280,720),72);
if(du==1){this.pf.q(new aG(8.3*300,11.7*300),300);this.pf.rQ(4)}this.pf.akS(!0,!0);this.pf.P(j.E.n,this.Wc,this);
v.appendChild(this.pf._);this.yC=new jb;this.yC.parent=this;if(du==0)v.appendChild(this.yC._);this.Z_=new bj("\u02C5",null,[0,14],!0);
this.Z_.P("click",this.MO,this);if(du==0)v.appendChild(this.Z_._);var x=this.kk=B.l("span");v.appendChild(x);
x.style.display="none";this.MT=new dp([13,6],d7.ot);x.appendChild(this.MT._);this.c8=new dp(null,["8 bit","16 bit","32 bit"]);
if(bD)x.appendChild(this.c8._);this.ac7=new a9([1,16,1]);x.appendChild(this.ac7._);this.jc=new bj([12,49],!0,null,!0);
this.jc.P("click",this.jB,this);v.appendChild(this.jc._);var o=dH.uq,R=[];for(var h=0;h<o.length;h++)R.push(o[h].name);
this.gD=new iF(null,R);this.gD.P(j.E.n,this.aqa,this);v.appendChild(this.gD._);this.gD._.style["margin-top"]="1em";
this.JY=new ch(!0);this.JY.P(j.E.n,this.aq0,this);v.appendChild(this.JY._);this.aqa();this.IP=new g1;
this.IP.parent=this;B.L(this.IP._,"margin-left:1em");this.IP.P("tempready",this.at1,this)}dH.prototype=new kX;
dH.prototype.MO=function(J){var v=this.kk,x=v.style.display!="none";v.style.display=x?"none":"";this.Z_.f_(x?"\u02C5":"\u02C4");
this.qe(this.BK,this.mq)};dH.prototype.pJ=function(J,v){this.IP.pJ(J)};dH.prototype.z$=function(J,v){return new aG(Math.max(0,Math.min(70,(J-690)/2)),J>v?Math.max(0,Math.min(50,(v-400)/2)):0)};
dH.prototype.qe=function(J,v){if(this.BK==J&&this.mq==v)return;this.BK=J;this.mq=v;B.L(this.dN,"width:"+Math.min(J-24,338)+"px");
this.JY._.style.height=v-248-(this.kk.style.display=="none"?0:28)+(du==0?0:28)+"px";var x=this.IP._,o=x.parentNode;
if(J<500){if(o!=null)this.an.removeChild(x)}else{if(o==null)this.an.appendChild(x);this.IP.qe(J-378,v-28)}};
dH.prototype.Wc=function(){this.IP.q(this.pf.s())};dH.prototype.aq0=function(J){var v=this.JY.s()[0],x=dH.uq[this.gD.s()].ha[v],o=x[4];
if(o==0)o=72;var R=x[1],r=x[2],l=["px","%","mm","in"].indexOf(x[3]),M=[1,1,25.4/o,1/o][l];R/=M;r/=M;
this.pf.q(new aG(Math.round(R),Math.round(r)),o);this.pf.rQ(l);this.Wc();if(Date.now()-this.vq<300)this.jB();
this.vq=Date.now()};dH.prototype.aqa=function(J){var v=dH.uq[this.gD.s()].ha,x=[],o=[],R=Math.round(106*B.rR()),r=Math.round(106*B.rR()),l=0;
for(var h=0;h<v.length;h++)l=Math.max(l,v[h][1],v[h][2]);for(var h=0;h<v.length;h++){var M=v[h],P=M[1]+" x "+M[2]+" "+M[3];
if(M[3]=="in")P=(M[1]*25.4).toFixed(0)+" x "+(M[2]*25.4).toFixed(0)+" mm";if(M[3]=="mm")P=(M[1]/25.4).toFixed(1)+" x "+(M[2]/25.4).toFixed(1)+" in";
if(M[4])P=P+" @ "+M[4]+" ppi";o.push(P);x.push(dH.QZ(M,R,r,l))}this.JY.iP(x,o,R,r)};dH.QZ=function(J,v,x,o){var R=g.n2(v,x),r=Math.round(v/8),l=Math.floor(11*B.rR()),M=J[1],P=J[2];
R.fillStyle="#000000";R.font=Math.round(l*.9)+"px \"Open Sans\", Sans-Serif";var S=M+" x "+P+" "+J[3],c=R.measureText(S);
R.fillText(S,Math.round((v-c.width)/2),x-Math.round(r/2));if(J[0]!=null){R.font="bold "+l+"px \"Open Sans\", Sans-Serif";
var S=J[0],c=R.measureText(S);R.fillText(S,Math.round((v-c.width)/2),x-Math.round(r/2)-Math.round(l*1.3))}var b=x-Math.round(2.5*l),w=Math.min((v-r)/M,(b-r)/P);
w*=.5+.5*(Math.max(M,P)/o);var U=(v-M*w)/2,F=(b-P*w)/2;R.strokeRect(Math.round(U)+.5,Math.round(F)+.5,Math.round(M*w),Math.round(P*w));
var Y=R.getImageData(0,0,v,x).data;return d2.IR(Y.buffer,v,x,null,null,!0)};dH.prototype.d=function(){kX.prototype.d.call(this);
this.pf.d();this.Fq.d();this.yC.d();this.jc.d();this.Fq.q(ea.get([11,7]));this.gD.d();this.ac7.d();this.Z_.d();
this.IP.d()};dH.prototype.jB=function(J){var v=this.pf.s(),x=v.x,o=v.y;this.close();var R=this.yC.s(),r=d7.fx[this.MT.s()],l=new dd(j.E.aT,!0);
l.data=d7.$B(x,o,this.pf.b2(),this.Fq.s(),["Wht","Blck","Trns","Clr"][R[0]],this.ac7.s(),R[1],r,8<<this.c8.s());
this.a(l);this.anr()};dH.prototype.at1=function(J){var v=J.data.qE;v.Bt=this.pf.b2();var x=new dd(j.E.j,!0);
x.data={R:j.m.iD,qE:v};this.a(x);this.close();this.anr()};dH.prototype.anr=function(){var J=this.n4[this.n4.length-1],v=this.data.apl;
if(v)e5.OL(function(){var x=new XMLHttpRequest,o="https://www.googleapis.com/drive/v3/files?"+e5.aiM();
x.open("POST",o,!0);x.setRequestHeader("Content-Type","application/json");x.addEventListener("load",function(R){var r=JSON.parse(R.target.response);
J.My={file:r,Mc:"psd"};alert(J.name+" created in Google Drive")});x.send(JSON.stringify({name:J.name,aiC:[v]}))})};
dH.prototype.Q4=function(J,v,x,o){this.n4=x;if(J!=null&&J.g!=null){var R=new jj(0,0,J.r,J.$).Xt(J.g.S);
this.pf.q(new aG(R.r,R.$))}this.data=v;this.Wc();if(B.N4())aB.akd(this.y4.bind(this))};dH.prototype.y4=function(J){if(J=="granted")aB._l(this,this.S3.bind(this))};
dH.prototype.S3=function(J,v){this.pf.q(new aG(v.r,v.$))};dH.uq=[{name:"Social",ha:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],ha:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],ha:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],ha:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],ha:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],ha:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2á´º",ha:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function f9(J,v,x){kX.call(this,v,"sel_"+J);this.R=J;var o=B.l("div","form");this.body.appendChild(o);
this.Fq=new fL(v,0,255,null,0,!1,!0);o.appendChild(this.Fq._);this.Fq.q(1);this.Fq.P(j.E.n,this.H8,this);
var R=B.l("span");R.textContent=x;o.appendChild(R);B.A1(o);this.arv=new a9("Apply at canvas bounds");
if(J!="border")o.appendChild(this.arv._);this.jc=B.iY(this,o);this.P("closebtn",this.sc,this)}f9.prototype=new kX;
f9.prototype.Xe=function(J,v){if(J==null)return;if(J.g==null)alert("No selection!");return J.g!=null};
f9.prototype.sc=function(){var J=new dd(j.E.G,!0);J.J=H.iI;J.data={R:"h_undoredo"};this.a(J)};f9.prototype.H8=function(J,v,x){if(v==null)this.sc();
var o=new dd(j.E.aT,!0);o.data=H.IE.Tx(this.R,this.Fq.s(),this.arv.s());o.W5=!0;if(x!=!0)o.data.aAM=!0;
this.a(o)};f9.prototype.jB=function(J){this.H8(null,null,!0);this.close()};f9.prototype.d=function(){kX.prototype.d.call(this);
this.jc.d();if(this.Fq)this.Fq.d()};f9.prototype.Q4=function(J,v){this.Fq.lz();this.H8(null,!0)};function iB(J,v,x,o,R,r){kX.call(this,x,v);
this.aaC=r;this.yt=R;this.uq=null;this.dN=B.l("div","form");this.body.appendChild(this.dN);this.ail=B.l("div");
this.dN.appendChild(this.ail);var l=500;if(o){var M=o.split(",");o=M[0];if(M[1])l=parseFloat(M[1])}this.Fq=J==0?new ir(x,null,10):J==1?new gu(x,0,l,o,1):new ir(x,null,24,5);
this.Fq.P(j.E.n,this.H8,this);this.dN.appendChild(this.Fq._);this.jc=B.iY(this,this.dN);this.P("closebtn",this.Lx,this)}iB.prototype=new kX;
iB.prototype.z$=function(J,v){return new aG(Math.max(0,Math.min(150,(J-250)/2)),Math.max(0,Math.min(150,(v-120)/2)))};
iB.prototype.b7=function(){return this.aaC};iB.prototype.H8=function(J){var v=this.Fq.s();if(this.yt)this.ue(v)};
iB.prototype.Lx=function(J){if(this.yt)this.ue("cancel")};iB.prototype.jB=function(J){if(this.yt)this.ue("confirm");
else this.ue(this.Fq.s());this.close()};iB.prototype.ue=function(J){if(this.uq.MX)this.uq.MX(J);else if(this.uq.Fm){var v=this.uq.Fm,x=new dd(v.A,!0);
x.J=v.J;x.data=v.p;x.data.K=J;x.W5=!0;this.a(x)}};iB.prototype.d=function(){kX.prototype.d.call(this);
this.jc.d();if(this.Fq)this.Fq.d()};iB.prototype.Q4=function(J,v){this.uq=v;this.Fq.q(v.EB);this.Fq.lz();
this.ail.innerHTML=v.aHJ?v.aHJ:"";this.H8(null)};function gf(){kX.call(this,[1,5],"open_from_url");this.m8=null;
var J=B.l("div","form");this.body.appendChild(J);this.a69=new ir("URL",null,22);J.appendChild(this.a69._);
B.A1(J);this.ajd=new iF([21,0],[[21,2],[21,1]]);J.appendChild(this.ajd._);this.jc=B.iY(this,J)}gf.prototype=new kX;
gf.prototype.d=function(){kX.prototype.d.call(this);this.jc.d();this.ajd.d()};gf.prototype.Q4=function(J,v,x){this.a69.lz();
this.m8=null;if(J&&x.indexOf(J)!=-1)this.m8=x.indexOf(J)};gf.prototype.jB=function(J){var v=new dd(j.E.j,!0),x=this.a69.s();
v.data={R:j.m.Ia,Fu:{url:x,$z:!0,m8:this.ajd.s()==1?this.m8:null}};this.a(v);this.close()};function bf(){kX.call(this,[12,79],"preferences");
this.f=null;var J=B.l("div","form");this.body.appendChild(J);this.Ho=[new a9([8,2]),new hf,new hf,new a9([8,4]),new hf,new dp([12,80,3],[[12,93,3],[12,80,4]]),new gu([12,80,5],.02,100,null,2),new dp(null,g.Av.aO),new dp([12,80,6],g.Av.aO),new a9("Zoom with Scroll Wheel"),new a9("Glass Menus"),new gu("Cursor Offset",0,200),new ir("Dezgo API Key")];
for(var h=0;h<this.Ho.length;h++){var v=this.Ho[h];v.parent=this;v.P(j.E.n,this.Ow,this);if(h==2){var x=new aT("Local guides:");
J.appendChild(x._)}J.appendChild(v._);if(h!=0&&h!=1&&h!=3&&h!=4&&h!=6)B.A1(J);if(h==8)B.kY(J)}}bf.prototype=new kX;
bf.prototype.d=function(){kX.prototype.d.call(this);for(var h=0;h<this.Ho.length;h++)this.Ho[h].d()};
bf.prototype.Q4=function(J,v,x){};bf.prototype.pJ=function(J,v){this.f=J;var x=J.i3;this.Ho[0].q(x.HC);
this.Ho[1].VR(x.jb);this.Ho[2].VR(x._m);this.Ho[3].q(x.kE);this.Ho[4].VR(x.u_);this.Ho[5].q(x.wT);this.Ho[6].q(x.V_);
this.Ho[7].q(x.G3);this.Ho[8].q(x.eE);var o=window.locStor.getItem("__zwh");this.Ho[9].q(o==1);var R=window.locStor.getItem("__glm");
this.Ho[10].q(R=="1");this.Ho[11].q(J.$b);var r=window.locStor.getItem("__dak");this.Ho[12].q(r?r:"")};
bf.prototype.Ow=function(J){var v=this.Ho;if(J.target==v[9])this.f.DR=1-this.f.DR;var x=g.F(this.f.i3);
x.HC=v[0].s();x.jb=v[1].ab();x._m=v[2].ab();x.kE=v[3].s();x.u_=v[4].ab();x.wT=v[5].s();x.V_=v[6].s();
x.G3=v[7].s();x.eE=v[8].s();var o=window.locStor;o.setItem("__zwh",v[9].s()?"1":"0");o.setItem("__glm",v[10].s()?"1":"0");
this.f.$b=v[11].s();var R=v[12].s();if(R=="")o.removeItem("__dak");else o.setItem("__dak",R);var r=new dd(j.E.j,!0);
r.data={R:j.m.Qq,Fu:cj.oT,ra:x};this.a(r)};function eF(){kX.call(this,[11,8],"saveforweb");this.aEQ="";
this.P("closebtn",function(){this.j3.QU()},this);this.qE=null;this.vz=null;this.amn=null;this.f=null;
B._H(this.body,"flexrow");this.body.style.padding="0";var J=B.l("div");B.L(J,"position:relative;");var v=B.l("div");
this.body.appendChild(J);this.body.appendChild(v);this.N1=B.l("div","imgcont");J.appendChild(this.N1);
this.j3=new iW;this.j3.qe(512,512);var x=this.Eq=B.l("video");x.setAttribute("controls","");x.setAttribute("preload","auto");
x.setAttribute("loop","");this.Sl=B.l("div");B.L(this.Sl,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
J.appendChild(this.Sl);var o=this.dN=B.l("div","form cell");B.L(o,"width:195px; padding:9px 13px;");
v.appendChild(o);this.Gc=new ir([12,48],null,7.6);this.Gc.P3();o.appendChild(this.Gc._);var R=d2.Td();
R[R.indexOf("WEBP")]="webP";this.iQ=new dp([12,50],R);this.iQ._.style.marginRight="0";this.iQ.P3();o.appendChild(this.iQ._);
this.iQ.P(j.E.n,this.CL,this);B.A1(o);this.pf=new j3(!0,!0,!1,!0);this.pf.P3();this.pf.P(j.E.n,this.CL,this);
this.pf.AD._.style.paddingBottom="8px";o.appendChild(this.pf._);this.uB=new dZ;this.uB.P(j.E.n,this.CL,this);
o.appendChild(this.uB._);this._V=new bj([1,2],!0,null,!0);this._V.P("click",this.jB,this);o.appendChild(this._V._)}eF.prototype=new kX;
eF.prototype.Xe=function(J,v){return J!=null};eF.prototype.d=function(){kX.prototype.d.call(this);this.pf.d();
this.Gc.d();this.iQ.d();this.uB.d();this._V.d()};eF.prototype.jB=function(J){var v=this.Gc.s().trim(),x=d2.Td()[this.iQ.s()],o=x=="JPG"||x=="PNG"||x=="GIF"||x=="SVG"||x=="WEBP",R=d2.s$(x),r="."+x.toLowerCase(),l=this.vz,M=v+r,P=this.qE,S=P.ek,c=this.uB.s();
if(P.L_())c.pop();var b=S.length!=0&&o?c.pop():0;if(b!=0){var w=[],U={},F=new jj(0,0,P.r,P.$),Y=g.N2(P.rv(),8);
for(var h=0;h<S.length;h++)w.push(H.mT.X4(S,h));w.reverse();var A=g.S.aIc([0,0,P.r,P.$],w),G=[];for(var h=0;
h<A.length;h++){var n=A[h],E=new jj(n[0],n[1],n[2]-n[0],n[3]-n[1]),co=""+(h+1);if(co.length<2)co="0"+co;
co=v+"_"+co;if(n[4]!=null&&S[n[4]].v.Nm)co=S[n[4]].v.Nm.v;var K="images/"+co+r;G.push(K);if(b==2&&n[4]==null)continue;
var e=g.C(E.o()*4);g.sW(Y,F,e,E);U[K]=new Uint8Array(R.lS([[e.buffer,0,P.Bt,P.b5]],E.r,E.$,c))}G.push("images/spacer.gif");
var $="<html>\n<head>\n<title>"+v+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
$+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
$+="<!-- Save for Web Slices ("+P.name+") -->\n";$+=g.S.aAs(A,G,S,b)+"\n";$+="<!-- End Save for Web Slices -->\n";
$+="</body>\n</html>\n";var N=g.C(Math.round($.length*1.5)),k=I.Ez($,N,0);U["index.html"]=N.slice(0,k);
l=UZIP.encode(U);M=v+".zip"}else if(P.ajV()&&o&&c.pop()){var V=[],F,Y;if(du==0){F=new jj(0,0,P.r,P.$);
Y=g.N2(P.rv(),8);var X=P.root.children;for(var h=0;h<X.length;h++){var Q=X[h].w;if(Q.add.artb==null||!Q.jh())continue;
V.push([Q.getName(),Q.Gf()])}}else{F=P.Sd();Y=new Uint8Array(P.aJf(this.f));var L=P.add.arts;for(var h=0;
h<L.length;h++){var _=L[h];V.push([_.ox,g.b.jR(_.ZW)])}}var U={};for(var h=0;h<V.length;h++){var a,_=V[h][1];
if(x=="SVG")a=new Uint8Array(R.lS(P,_.r,_.$,c,this.f,h));else{var T=g.C(_.o()*4);console.log(F,_);g.sW(Y,F,T,_);
a=new Uint8Array(R.lS([[T.buffer,0,P.Bt,P.b5]],_.r,_.$,c))}U[V[h][0]+r]=a}l=UZIP.encode(U);M=v+".zip"}var f=function(){if(P.zY)aB.NC("act=1&id="+P.zY);
this.j3.QU();this.close();var r=d2.Td()[this.iQ.s()];f6.event("efmt_"+r.toLowerCase(),.1);var W=new dd(j.E.j,!0);
W.data={R:j.m.Ut,data:l,name:M};this.a(W)}.bind(this);P.og();if(!this.f.rT||f6.hV()){f();return}var Z=cP.Ph()!=0;
f();var W=new dd(j.E.j,!0),D=gF.Bu("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),C=gF.Bu(";QJXQ_*II9"),d=function(){W.data={R:j.m.wz,kA:"account"};
this.a(W)}.bind(this);if(Z){D=gF.Bu("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
d=function(){};C=null}W.data={R:j.m.wz,kA:gF.jt,K:D,MX:d,aEG:C};if(Math.random()<.1||Z)this.a(W)};eF.prototype.Q4=function(J,v){if(v.d_!=null)this.iQ.q(v.d_);
this.qE=J;var x=this.qE.name,o=x.lastIndexOf("."),x=o==-1?x:x.slice(0,o);this.Gc.q(x);var R=J.r,r=J.$;
if(du==1){var l=J.Sd();R=l.r;r=l.$}var M=R+","+r;if(M!=this.aEQ){this.aEQ=M;this.pf.q(new aG(R,r),J.Bt)}this.uB.ah2();
if(v.acO){this.pf.rQ(3);this.uB.IJ.PDF[2].E8.q(!0)}this.CL(null,!0)};eF.prototype.aDm=function(J,v){return J<v&&J<660};
eF.prototype.z$=function(J,v){return this.aDm(J,v)?new aG(0,0):new aG(Math.max(0,Math.min(150,(J-770)/2)),Math.max(0,Math.min(150,(v-590)/2)))};
eF.prototype.qe=function(J,v,x){this.BK=J;this.mq=v;if(this.qE==null)return;var o=this._V._,R=this.aDm(J,v),r,l,w="<span style=\"width:",U="display:inline-block; text-align:right;\">";
if(R){var M=this.dN.getBoundingClientRect().height;r=J;l=v-Math.max(M,252);B.Nv(this.body,"flexrow")}else{r=Math.min(512,J-195-2*13);
l=Math.min(512,v-24);B._H(this.body,"flexrow")}var P=R?J-2*13:195;this.dN.style.width=P+"px";this.Gc.az.style.width=P-77+"px";
this.pf.qe(P);var S=d2.Td()[this.iQ.s()],c=d2.s$(S);if(c.KY||c.dH)B.L(this.N1.firstChild,"display:block; width:"+r+"px; height:"+l+"px;");
else{this.j3.qe(r,l);this.Eq.width=r;this.Eq.height=l}if(this.vz==null)return;var b=this.vz.byteLength,F=w+64+"px;"+U+eF.Ux(b)+"</span>";
if(r>400)F+=w+90+"px; opacity:"+.5+";"+U+b.toLocaleString()+" B</span>";this.Sl.innerHTML=F;if(x)setTimeout(function(){this.qe(this.BK,this.mq)}.bind(this),20)};
eF.Ux=function(J){var v=J.toString(2),x=0;while(x+10<v.length)x+=10;var o=(J/Math.pow(2,x)).toFixed(1);
if(o.endsWith(".0"))o=o.slice(0,-2);var R="B KB MB GB TB PB".split(" ")[Math.floor(x/10)];return o+" "+R};
eF.prototype.pJ=function(J,v){this.f=J};eF.prototype.CL=async function(J,v){var x=this.qE,o=this.pf.s(),R=o.x,r=o.y,l=this.iQ.s(),M=d2.Td()[l],P=d2.aw3(x)[0].length,S=["GIF","PNG","WEBP","MP4"].indexOf(M)!=-1&&P>1,Y="";
if(S&&M!="MP4"&&v&&(P>4&&R*r>1024*1024||R*r*P>800*800*50)){var c=1;while(Math.max(R>>>c,r>>>c)>800)c++;
var b=window.confirm("Your animation is large ("+R+" x "+r+" px). Press \"OK\" to scale it to "+(100>>>c)+"%. Press \"Cancel\" to keep the size.");
if(b){this.pf.q(new aG(R>>>c,r>>>c),null,!0);R=R>>>c;r=r>>>c}}var w=x.L_();this.uB.sk(M,S,x.ek.length!=0,x.ajV(),w!=null);
var U=window.locStor.getItem("sfwPrms");if(U==null)U={};else{U=JSON.parse(U);if(U.MP4&&U.MP4[0]==100)U.MP4[0]=50}var F=this.uB.s();
if(J&&J.target==this.uB){U[M]=F;window.locStor.setItem("sfwPrms",JSON.stringify(U))}else if(U[M]){this.uB.q(U[M],!0);
F=this.uB.s()}this.vz=await d2.At(x,M,R,r,F,this.f);if(this.vz==null){this.qE=null;return}B.wp(this.N1);
this.j3.QU();var A=d2.s$(M);if(A.dH){this.N1.innerHTML="<div></div>"}else if(A.KY){var G=R,n=r,E;if(M=="PDF"||M=="AI"){E=URL.createObjectURL(new Blob([this.vz],{type:"application/pdf"}))}else{E=URL.createObjectURL(new Blob([this.vz],{type:"image/svg+xml"}))}this.N1.innerHTML="<iframe src=\""+E+"\"></iframe>"}else if(M=="MP4"){var E=URL.createObjectURL(new Blob([this.vz]));
this.Eq.setAttribute("src",E);this.N1.appendChild(this.Eq)}else{var K=this.amn=A.lx(this.vz),e=K[0],$=e.P0,G=$.r,n=$.$;
if(e.gX){var N=ICC.R(e.gX.buffer),k=17,V=ICC.U.sampleLUT(N,k);for(var h=0;h<K.length;h++){var X=new Uint8Array(K[h].data);
ICC.U.applyLUT(V,k,X,X)}}this.j3.q(K,K.length>1?F[F.length-3]:0);this.N1.appendChild(this.j3._);Y="background: rgba(0,0,0,0);"}B.L(this.N1,"display:block; "+(A.dH?"background:rgba(0,0,0,0);":"background-size:"+16/B.rR()+"px;")+Y);
this.qe(this.BK,this.mq,v)};function aL(){kX.call(this,[11,13],"shortcuts");this.f=null;var J=this.an=B.l("div","scrollable");
B.L(J,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(J);this.NW()}aL.prototype=new kX;
aL.prototype.d=function(){kX.prototype.d.call(this);this.NW()};aL.prototype.pJ=function(J,v){this.f=J};
aL.prototype.Q4=function(J,v,x,o){if(B.yn(this._))this.NW()};aL.prototype.NW=function(){var J="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",v="",x=gw,o=x.aw,R=x.Yv,r=x.i4;
v+="<h2 style=\"margin-top:0;\">Main Menu</h2>";v+=J;v+=this.Wn([[0,0],"---",[1,0],[o,x.Re],[1,2],[o,x.Xv],[1,3],[R,o,x.Xv],[1,8],[r,R,o,x.Xv],[0,1],"---",[2,0],[R,o,x.mK],[2,1],[o,x.mK],[5,0],[o,x.aN],[5,1],[o,x.wC],[5,2],[o,x.g3],[2,2],"Delete",[2,3],[r,x.hP],[10,16],[r,o,x.QF],[12,79],[o,x.Lo],[3],"---",[4,1],[o,x.jj],[4,2],[o,x.LO],[4,5],[o,x.li],[4,11],[o,x.WW],[0,3],"---",[6,13],[R,o,x.Kv],[6,49,0],[o,x.vN],[6,6,0],[r,o,x.iV],[6,9],[o,x.iV],[6,10],[o,x.E],[0,5],"---",[7,0],[o,x.m],[7,1],[o,x.Ao],[7,2],[R,o,x.WW],[0,7],"---",[8,0],[o,x.gF],[8,1],[o,x.bE],[8,3],[o,x.mL],[8,2],[o,x.Rf],[8,4],[o,x.M1],[11,13],"?"]);
v+="</div>";v+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";v+=J;v+=this.Wn(["Vertical scroll","Wheel","Horizontal scroll",[o,"Wheel"],"Zooming",[r,"Wheel"]]);
v+="</div>";v+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
v+=J;v+=this.Wn([[10,11],[o],[10,7],"Space",[10,17],[o,x.OW]]);v+="</div>";v+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
v+=J;var l=[],M=this.f;if(M==null)return;var P=M.W;for(var h=0;h<P.n8.length;h++){var S=P.n8[h],c=P.keys[h];
for(var b=0;b<S.length;b++)l.push(S[b].J.name,c?c.UL:null)}l=l.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[o,x.Xz]]);
v+=this.Wn(l);v+="</div>";this.an.innerHTML=v};aL.prototype.Wn=function(J){var v="",x=!0;for(var h=0;
h<J.length;h+=2){var o=J[h],R=gw.mN(J[h+1]);if(R==null){x=!1;continue}var r=B.Mg(ea.get(o));if(R=="---"){if(!x)v+="<br/>";
v+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+r+"</div>"}else v+="<div>"+r+" <span style=\"float:right; font-weight:bold;\">"+R+"</span> </div>";
x=!1}return v};function ce(J){kX.call(this,J?"Artboard Options":[8,11,1],(J?"a":"s")+"options");this.CB=null;
this.ahr=J;var v=B.l("div","form");v.style.width="20em";this.body.appendChild(v);this.XZ={Nm:[12,48],url:"URL",null:[12,71]};
this.Ho={};for(var x in this.XZ){if(J&&x!="Nm")continue;var o=new ir(this.XZ[x],null,15);this.Ho[x]=o;
v.appendChild(o._)}this.aef=new aT([12,14,0]);v.appendChild(this.aef._);this._P=new aK(0,!0);v.appendChild(this._P._);
this.jc=B.iY(this,v)}ce.prototype=new kX;ce.prototype.Q4=function(J,v,x){var o=v.K;this.CB=JSON.stringify(o);
console.log(o);if(o.ZW){this.Ho.Nm.q(o.ox);var R=o.ZW,r=R[0],l=R[1];this._P.q([r,l,R[2]-r,R[3]-l])}else{for(var M in this.XZ){this.Ho[M].q(o[M]?o[M].v:"")}var P=o.bounds.v,r=P.Left.v,l=P.Top.v;
this._P.q([r,l,P.Rght.v-r,P.Btom.v-l])}};ce.prototype.jB=function(J){var v=JSON.parse(this.CB),x=new dd(j.E.G,!0),o=this._P.s(),R=o[0],r=o[1];
console.log(o);if(this.ahr){v.ox=this.Ho.Nm.s();v.ZW=[R,r,R+o[2],r+o[3]];x.J=H.h9;x.data={R:"rpl",K:v}}else{for(var l in this.XZ){var M=this.Ho[l].s();
v[l]={t:"TEXT",v:M}}var P=v.bounds.v;P.Left.v=R;P.Top.v=r;P.Rght.v=R+o[2];P.Btom.v=r+o[3];x.J=H.BG;x.data=v}x.W5=!0;
this.a(x);this.close()};ce.prototype.d=function(){kX.prototype.d.call(this);this.jc.d();this.aef.d();
this._P.d()};function eU(){kX.call(this,[2,3],"fill");this.U8=null;var J=B.l("div","form padded");J.style.width="22em";
this.body.appendChild(J);this.eL="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.qw=new dp([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.qw.P(j.E.n,this.aHO,this);J.appendChild(this.qw._);this.N1=B.l("span");J.appendChild(this.N1);this.uz=new hf;
this.uz.parent=this;this.uz.VR(0);this.pm=new hV;this.pm.parent=this;this.aBf=new dp([12,19,0],gX.R2,gX.TD);
J.appendChild(this.aBf._);this.ok=new gu([12,0],0,100,"%",0,!1);this.ok.q(100);J.appendChild(this.ok._);
this.rW=new a9([13,5]);this.rW.q(!1);J.appendChild(this.rW._);this.jc=B.iY(this,this.body)}eU.prototype=new kX;
eU.prototype.Xe=function(J,v){return J!=null};eU.prototype.b7=function(){return!0};eU.prototype.aHO=function(){var J=this.qw.s(),v=this.uz._,x=this.pm._,o=this.N1;
if(J==2)o.appendChild(v);else if(o.contains(v))o.removeChild(v);if(J==7)o.appendChild(x);else if(o.contains(x))o.removeChild(x)};
eU.prototype.d=function(){kX.prototype.d.call(this);this.qw.d();this.aBf.d();this.ok.d();this.rW.d();
this.jc.d()};eU.prototype.jB=function(J){if(!this.U8.hH())return;var v=new dd(j.E.aT,!0),x=this.qw.s();
v.data=H.P8.Z9(this.eL[x],gX.qI[this.aBf.s()],this.ok.s()/100,this.uz.s(),this.rW.s(),this.pm.s());this.close();
this.a(v)};eU.prototype.Q4=function(J,v){this.U8=J};eU.prototype.pJ=function(J,v){if(v==cj.q6||v==cj.q1){this.pm.CN(J.HZ);
this.pm.q({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function ek(){kX.call(this,[14,9],"stroke");this.f=null;this.dN=B.l("div","form");B.L(this.dN,"width:24em");
this.body.appendChild(this.dN);this.XU=new ig("FrFX",!0);this.XU.parent=this;var J=["Sz","Styl","Md","Opct"].concat(gD.AG);
for(var h=0;h<J.length;h++){var v=this.XU.uD[J[h]]._;this.dN.appendChild(v)}this.tH=!1;this.jc=B.iY(this,this.body)}ek.prototype=new kX;
ek.prototype.Xe=function(J,v){return J!=null};ek.prototype.b7=function(){return!0};ek.prototype.d=function(){kX.prototype.d.call(this);
this.jc.d();this.XU.d()};ek.prototype.jB=function(J){var v=this.XU.s(),x={classID:"Strk"};x.Md=v.Md;
x.Opct=v.Opct;x.Clr=v.Clr;x.Wdth={t:"long",v:v.Sz.v.val};var o=gD.stroke.types.indexOf(v.Styl.v.FStl);
x.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][o]}};var R=new dd(j.E.aT,!0);R.data={QI:"stroke",_g:x};
this.close();this.a(R)};ek.prototype.Q4=function(J,v){if(!this.tH){var x=gD.Sy[gD.order.indexOf("FrFX")];
x=JSON.parse(x);this.XU.update(J,x);this.tH=!0}var x=this.XU.s(),o=this.f.P4;x.Clr.v=g.UH.YK({z:o>>16&255,H:o>>8&255,c:o&255});
this.XU.update(J,x)};ek.prototype.pJ=function(J,v){this.f=J};function jX(){kX.call(this,[11,9],"textwarp");
this.Ho=new kS;this.Ho.P(j.E.n,this.vH,this);this.Ho.parent=this;this.dN=B.l("div","form");B.L(this.dN,"width:20em");
this.body.appendChild(this.dN);this.dN.appendChild(this.Ho.ta._);this.dN.appendChild(this.Ho.vp._);this.dN.appendChild(this.Ho.sH._);
this.dN.appendChild(this.Ho.Ct._);this.dN.appendChild(this.Ho._M._);this.jc=B.iY(this,this.dN);this.P("closebtn",this.Lx,this)}jX.prototype=new kX;
jX.prototype.b7=function(){return!0};jX.prototype.d=function(){kX.prototype.d.call(this);this.jc.d();
this.Ho.d()};jX.prototype.vH=function(J){var v=this.Ho.s();this.ue({R:"warp",wL:v})};jX.prototype.ue=function(J){var v=new dd(j.E.G,!0);
v.J=H.i9;v.data=J;v.W5=!0;this.a(v)};jX.prototype.Lx=function(J){this.ue({R:"warpCancel"})};jX.prototype.jB=function(J){this.ue({R:"warpConfirm"});
this.close()};jX.prototype.Q4=function(J,v){var x=J.k[J.Y[0]];this.Ho.q(x.add.TySh.Pd)};function cU(){kX.call(this,[11,12,0],"trim");
var J=this.dN=B.l("div","form");B.L(this.dN,"width:22em");this.body.appendChild(this.dN);var v=new aT("Color To Trim:");
J.appendChild(v._);this.I4=new bA(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.I4.q([!0]);this.dN.appendChild(this.I4._);var v=new aT("Sides:");J.appendChild(v._);this.yv=new bA(null,["Top","Left","Bottom","Right"]);
this.yv.q([!0,!0,!0,!0]);this.dN.appendChild(this.yv._);this.jc=B.iY(this,this.body)}cU.prototype=new kX;
cU.prototype.Xe=function(J,v){return J!=null};cU.prototype.b7=function(){return!0};cU.prototype.d=function(){kX.prototype.d.call(this);
this.I4.d();this.yv.d();this.jc.d()};cU.prototype.jB=function(J){var v=this.I4.s().indexOf(!0),x=this.yv.s(),o=new dd(j.E.aT,!0);
o.data=H.cD.oI(v,x);this.close();this.a(o)};function b$(){kX.call(this,"Raw Photopea","rawpea");this._a=null;
this.body.style.padding="0";var J=this.R0=new i8["Adobe Camera Raw Filter"](!0),v="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(J._);this.MT=new dp("Space",d7.ot);this.c8=new dp(null,["8 bit","16 bit","32 bit"]);
this.a03=new bj([1,0],!0,null,!0);this.a03.P("click",this.jB,this);this.je=new bj(v+" JPG",!0,null,!0);
this.je.P("click",this.au7,this);J.fQ(this.MT._);J.fQ(this.c8._);J.fQ(this.a03._);J.fQ(this.je._)}b$.prototype=new kX;
b$.prototype.z$=function(){return new aG(0,0)};b$.prototype.qe=function(J,v){this.R0.qe(J,v)};b$.prototype.pJ=function(J,v){this.R0.pJ(J,v)};
b$.prototype.d=function(){kX.prototype.d.call(this);this.R0.d()};b$.prototype.au7=function(J){var v=this.R0.aC9(0,8),x=v[1],o=d2.s$("JPG").lS([[v[0].buffer]],x.r,x.$,[85]),R=new dd(j.E.j,!0);
R.data={R:j.m.Ut,data:o,name:"photo.jpg"};this.a(R)};b$.prototype.jB=function(J){var v=this._a,x=8<<this.c8.s(),o=this.MT.s(),R=ef.Zc(v),r=this.R0.aC9(o,x),l=r[1],v={P0:l,data:r[0].buffer,b5:R,depth:x},M=d2.QB("Raw Photo",[v]);
if(o!=0)M.G$(d2.he.get(d7.Sr[o]));var P=new dd(j.E.j,!0);P.data={R:j.m.iD,qE:M};this.a(P);this.cC();
this.close()};b$.prototype.cC=function(){this._a=null;this.R0.a9h()};b$.prototype.Q4=function(J,v,x,o){this._a=v.fK;
this.R0.axP(v.fK)};b$.prototype.V9=function(J){return!0};b$.prototype.lb=function(J,v,x,o){kX.prototype.lb.call(this,J,v,x,o);
this.R0.lb(o)};function d8(J){kX.call(this,J?[11,11,0]:[11,11,1],J?"vbitmap":"rcolors");this.uq=null;
this.fq=null;this.aoi=null;this.tG=null;this.gK=null;this.aFS=null;this.qE=null;this.f=null;this.HP="";
this.Fx=J;this.Ma=this.f7.bind(this);this.alg=!1;this.body.style.padding="0";this.dN=B.l("div","form hbar padded");
this.body.appendChild(this.dN);this.BQ=new bA(null,["Fill","Stroke","Labels"]);this.BQ.P(j.E.n,this.f7,this);
var v=B.l("span","rangecontFloat form padded"),P=16;v.appendChild(this.BQ._);B.L(v,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var x=new aJ;x._=v;var o=this.lc={cnum:new fL([12,82],2,50,null),nois:new a9([12,81]),mode:new dp(null,["Cartoon","Photo"]),segm:new a9("Segmentize"),cbok:new a9("Coloring book"),poly:new a9("Polygon"),merg:new a9("Merge colors"),polE:new fL("Roughness",2,30,null),dthr:new a9([12,23,3]),vprm:new bj("\u2026",!1,null,!0),ok:B.iY(this,null,!1)},R=this;
for(var r in o){var l=o[r];l.parent=this;if(r=="ok"){}else if(r=="vprm"){l.P("click",function(c){var b=o.vprm._.getBoundingClientRect(),w=new dd(j.E.j,!0);
w.data={R:j.m.sO,rq:x,x:b.left,y:b.top+20};R.a(w)})}else l.P(j.E.n,this.f7,this)}var M=this.F$=B.l("div","flexrow");
this.body.appendChild(M);B.L(M,"background-color:var(--bg-canvas)");this.Ba=new iW;this.Ba.P("viewchange",this.Uf,this);
this.$Z=new iW;this.W0=B.l("canvas");B.L(this.W0,"margin:0 0 0 1px; padding:0; cursor:grab;");this.zJ=this.W0.getContext("2d");
var S=g.C(16*16*4);g.PH(S,P,P,8);this.mz=g.scale.uY(S,P,P);this.Ba.ax1(this.W0);this.Ba.aa(this.$Z);
this.$Z.aa(this.Ba);M.appendChild(this.Ba._);if(J)M.appendChild(this.W0);else M.appendChild(this.$Z._)}d8.prototype=new kX;
d8.prototype.z$=function(){return new aG(0,0)};d8.prototype.b7=function(){return!0};d8.prototype.qe=function(J,v){this.BK=J;
this.mq=v;v=v-44;if(J<600)v-=29;if(this.uq==null)return;var x=this.uq.P0,o=iI.NZ(J,v,x.r,x.$);if(o==1)v-=3;
if(o==0){J=Math.floor(J/2);B._H(this.F$,"flexrow")}else{v=Math.floor(v/2);B.Nv(this.F$,"flexrow")}B.QH(this.W0,J,v);
this.Ba.qe(J,v);if(this.Fx)this.Uf();else this.$Z.qe(J,v)};d8.prototype.lb=function(J,v,x,o){this.Ba.lb(o)};
d8.prototype.d=function(){kX.prototype.d.call(this);for(var J in this.lc)this.lc[J].d()};d8.prototype.Q4=function(J,v){this.qE=J;
this.gK=null;var x=J.k[J.Y[0]],o=g.wc.afs(x.buffer.buffer,x.S.r,x.S.$).ani,R=o/((x.S.r-2)*(x.S.$-2)),r=this.lc;
r.cnum.q(20);r.nois.q(R<.75);r.mode.q(R<.75?1:0);r.segm.q(!1);r.cbok.q(!1);r.poly.q(!1);r.merg.q(!0);
r.polE.q(1);r.dthr.q(!1);var l=x.S.Q();l.x=l.y=0;this.uq={P0:l,data:x.buffer.buffer.slice(0)};this.fq=null;
this.qe(this.BK,this.mq);this.Ba.q([this.uq]);this.Ba.te();this.alg=!0;this.BQ.q([!0,!1,!1]);setTimeout(this.Ma,20)};
d8.prototype.f7=function(){var J=!0,v=Date.now(),x=this.uq,o=this.lc,R=o.cnum.s(),r=o.nois.s(),l=o.mode.s(),M=o.segm.s(),P=o.cbok.s(),S=o.poly.s(),c=o.merg.s(),b=o.polE.s(),X=null;
if(l==0)M=S=P=!1;var w=o.dthr.s(),U=["cnum","nois","mode"];if(l==1){U.push("cbok");if(this.Fx){U.push("poly");
if(S)U.push("polE");U.push("vprm")}}if(this.Fx)U.push("merg");else U.push("dthr");U.push("ok");B.wp(this.dN);
for(var h=0;h<U.length;h++)this.dN.appendChild(o[U[h]]._);if(J)console.log("---------------------------------------");
var F=r||M,Y=r+","+M;if(F&&(this.fq==null||this.HP!=Y)){this.HP=Y;var A=new Uint8Array(x.data),G=x.P0.r,n=x.P0.$;
if(r){if(this.gK==null){this.gK=A.slice(0);g.Q7.IU=35;g.Q7.z8(this.gK,this.gK,G,n,15,1);if(J){console.log("denoise",Date.now()-v);
v=Date.now()}}A=this.gK.slice(0)}else A=A.slice(0);if(M){var E=g.wc.ZS(A,G,n,40,10),K=E.Lo,e=new Uint8Array(K*4);
for(var h=0;h<K;h++){var $=h*4,N=h*6,k=1/E.ku[N+5];e[$]=E.ku[N]*k;e[$+1]=E.ku[N+1]*k;e[$+2]=E.ku[N+2]*k}for(var h=0;
h<A.length;h+=4){var V=E.D0[h>>>2]*4;A[h]=e[V];A[h+1]=e[V+1];A[h+2]=e[V+2]}if(J){console.log("segm",Date.now()-v);
v=Date.now()}}this.fq={P0:x.P0.Q(),data:A.buffer}}if(F)x=this.fq;var A=new Uint8Array(x.data),G=x.P0.r,n=x.P0.$;
for(var h=0;h<A.length;h+=4){if(A[h+3]<10)A[h]=A[h+1]=A[h+2]=A[h+3]=0}if(l==0){X=g.wc.aq7(A,G,n,R,F?.1:2e-4);
if(J){console.log("quantize",Date.now()-v);v=Date.now()}}if(l!=0||X&&X._I.length<2){X=j$.ase(A.buffer,R,G,n,null,P)}if(this.Fx){var Q=X.D0.slice(0);
for(var h=0;h<Q.length;h++)Q[h]++;this.v3=g.wc.amh(X.D0,G,n);var L=new Uint8Array((G+2)*(n+2));g.Cc(Q,new jj(1,1,G,n),L,new jj(0,0,G+2,n+2));
if(!S){var _=Math.round((G+2)*(n+2)/1e4),a=dy.np(L.slice(0),G+2,n+2,Math.min(12,_)),T=dy.Ng(a);if(J){console.log("trace smooth",Date.now()-v);
v=Date.now()}}else{var T=g.b.KH(L,G+2,n+2,b,J)}var f=T.length,Z=new bC(1,0,0,1,-1,-1);for(var h=0;h<f;
h++)g.b.u(T[h].path.T,Z,T[h].path.T);this.tG=T;this.aoi=X;for(var h=0;h<f;h++){var W=T[h];if(X._I[W.color-1].est.q[3]>.05)continue;
var D=W.parent;while(D!=-1){var C=T[D];D=C.parent;if(X._I[C.color-1].est.q[3]<.05)break;g.b.concat(C.path,g.b.reverse(W.path))}}if(J){console.log("finding holes",Date.now()-v);
v=Date.now()}for(var h=0;h<T.length;h++){var d=T[h];if(d.parent!=-1){var p=T[d.parent];d.parent=p;if(p.qK==null)p.qK=[];
p.qK.push(d)}d.depth=d.parent==-1?0:d.parent.depth+1}if(c){function y(g2,O){var gV={},fD=0,j4=0;for(var h=0;
h<g2.length;h++){var z=g2[h].color,dQ="c"+z;if(z==O)throw z;if(gV[dQ]==null)gV[dQ]=0;gV[dQ]++;if(gV[dQ]>fD){fD=gV[dQ];
j4=z}}return j4}var i=[],t=[],O=-1,q=!0;for(var h=0;h<T.length;h++)if(T[h].parent==-1)t.push(T[h]);while(t.length!=0){var z=y(t,O);
O=z;for(var h=0;h<t.length;h++)if(t[h].color==z){var jw=t[h];i.push(jw);t.splice(h,1);h--;if(jw.qK)for(var u=0;
u<jw.qK.length;u++){t.push(jw.qK[u]);if(jw.qK[u].color!=z)q=!1}}}if(q)T=i;else{var iH=[];for(var s=0;
s<500;s++){var bV=[],a=iH[s-1];iH.push(bV);for(var h=0;h<T.length;h++){var d=T[h],p=d.parent;if(s==0&&p==-1||s!=0&&a.indexOf(p)!=-1){bV.push(d);
T.splice(h,1);h--}}bV.sort(function(g2,gV){return g2.color-gV.color});if(T.length==0)break}for(var h=0;
h<iH.length;h++)T=T.concat(iH[h])}}else{var i=[],jU=[];while(T.length!=0){jU.push(T.shift());while(jU.length!=0){var hx=jU.pop();
i.push(hx);if(hx.qK)for(var h=0;h<hx.qK.length;h++){var d=hx.qK[h];T.splice(T.indexOf(d),1);jU.push(d)}}}T=i}this.tG=T;
for(var h=0;h<T.length;h++){var W=T[h],eX=X._I[W.color-1].est.q;if(eX[3]<=.05){T.splice(h,1);h--;continue}}for(var h=1;
h<T.length;h++){var et=T[h-1],W=T[h];if(et.color==W.color&&(c||et.parent==W.parent&&et.depth>=2)){g.b.concat(et.path,W.path);
T.splice(h,1);h--;continue}}if(J){console.log("reordering layers",Date.now()-v,f,T.length);v=Date.now()}this.Uf()}else{var f7=new Uint32Array(G*n),iY=G*n,cd=this.aFS=new Uint8Array(f7.buffer);
if(w){var jV=[];for(var h=0;h<X._I.length;h++)jV.push(X._I[h].est.rgba);var V=g.C(G*n);UPNG.encode.dither(new Uint8Array(x.data),G,n,jV,cd,V)}else{for(var h=0;
h<iY;h++){var z=X._I[X.D0[h]];f7[h]=z.est.rgba}}this.$Z.q([{P0:x.P0,data:f7.buffer}]);if(this.alg){this.$Z.te();
this.alg=!1}}};d8.prototype.Uf=function(J){if(this.tG==null)return;var v=this.BQ.s(),x=this.uq.P0.r,o=this.uq.P0.$,R=this.tG,r=this.aoi._I,l=this.W0,M=this.zJ,P=this.Ba.Rj(),c="rgba(0,0,0,0.3)";
M.setTransform(1,0,0,1,0,0);M.clearRect(0,0,l.width,l.height);M.translate(l.width/2,l.height/2);M.scale(P.NT,P.NT);
M.translate(P.V.x/P.NT-x/2,P.V.y/P.NT-o/2);M.scale(1/P.NT,1/P.NT);M.fillStyle=this.mz;M.fillRect(0,0,x*P.NT,o*P.NT);
M.scale(P.NT,P.NT);M.lineWidth=(x+o)*5e-4;var S=this.Mr();M.strokeStyle=c;for(var b=0;b<2;b++){if(!v[b])continue;
for(var h=0;h<R.length;h++){var w=R[h],U=S[w.color-1];if(U.o5==0)continue;M.fillStyle=U.zu;M.beginPath();
Typr.U.pathToContext({crds:w.path.T,cmds:w.path.Wp},M);if(b==0)M.fill();else M.stroke()}}if(v[2])this.a9p(M,x,o)};
d8.prototype.Mr=function(){var J=this.aoi._I,v=[];for(var h=0;h<J.length;h++){var x=J[h].est.q,o={z:Math.round(255*x[0]),H:Math.round(255*x[1]),c:Math.round(255*x[2]),o5:Math.round(255*x[3])};
o.zu="rgba("+o.z+","+o.H+","+o.c+","+o.o5/255+")";v.push(o)}return v};d8.prototype.a9p=function(J,v,x){var o=this.Mr(),R=this.a22(v,x,o);
function r(S,c,b,w){J.font=w+"px sans-serif";S++;var U=J.measureText(S);J.fillText(S,c-U.width/2,b+w*.25)}J.fillStyle="rgba(0,0,0,0.5)";
var l=this.v3;for(var h=0;h<l.length;h++){var M=l[h];if(M[3]<v*x*5e-4)continue;r(M[2],M[0],M[1],(v+x)*.008)}J.fillStyle="rgba(255,255,255,1)";
J.fillRect(0,0,R,R*o.length);for(var h=0;h<o.length;h++){var P=o[h];J.fillStyle=P.zu;J.fillRect(R,R*h,R,R);
J.fillStyle="black";r(h,R*.5,R*(h+.5),R*.65)}};d8.prototype.a22=function(J,v,x){var o=x.length*(J+v)/70;
return Math.min(v,o)/x.length};d8.prototype.jB=function(J){var v=this.qE,x=v.Y[0],o=v.k[x],R=new dd(j.E.G,!0);
R.W5=!0;R.J=H.wu;var r=this.f.rr,l=this;if(this.Fx){var M=this.Mr(),c=0,w=!1;function P(G,Y){var A=v.qL();
A.fc=Y.o5;A.eW|=16;A.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK(Y)}};A.add.vmsk=new m.e_;A.add.vstk=gD.gB.ow(!0);
A.add.vmsk.X=G;A.Tr();A.B0(v);return A}var S=this.BQ.s();for(var h=0;h<3;h++)if(S[h])c++;if(c==0){alert("Enable Fill, Stroke or Labels");
return}var b=this.tG;if(c==1&&S[0]&&b.length==1)w=!0;var U=v.k.slice(0,x);if(!w)U.push(v.V4());if(S[0])for(var h=0;
h<b.length;h++){var F=b[h],Y=M[F.color-1];g.b.u(F.path.T,new bC(1,0,0,1,o.S.x,o.S.y),F.path.T);var A=P(g.b.ZX(F.path,!1),Y);
A.v7("Path "+h);U.push(A)}if(S[1]){var A=v.qL();A.v7("Stroke");U.push(A);A.fc=128;A.eW|=16;A.add.SoCo={classID:"null",Clr:{t:"Objc",v:g.UH.YK({z:0,H:0,c:0})}};
A.add.vmsk=new m.e_;A.add.vstk=gD.gB.ow(!1,!0);var G=[];for(var h=0;h<b.length;h++){var F=b[h],n=g.b.ZX(F.path,!1);
if(h==0)G=n;else G=G.concat(n.slice(2))}A.add.vmsk.X=G;A.Tr();A.B0(v)}if(S[2]){var E=this.uq.P0,K=E.r,e=E.$,$=this.a22(K,e,M);
U.push(v.V4());function N(_,a,T,f){_=1+_+"";var A=v.qL();U.push(A);A.fc=f;A.add.lnsr="rend";var Z=A.add.TySh=bI.Q6(a-$*.2,T+$*.25),W=A.add.TySh.vv,D=bI.Ni(W,0,0);
D.iz.FontSize=Math.round($*.6);bI.qc(W,0,0,D);bI.Cq(W,0,_);A.n9();if(h4.iR(Z,r,l)){h4.kI(A,r,v);v.Ai()}}var k=this.v3;
for(var h=0;h<k.length;h++){var V=k[h];if(V[3]<K*e*5e-4)continue;N(V[2],V[0],V[1],128)}var A=P(g.I.yu.Rect(0,0,$,$*M.length),{z:255,H:255,c:255,o5:255});
A.v7("white");U.push(A);for(var h=0;h<M.length;h++){var Y=M[h],A=P(g.I.yu.Rect($,$*h,$,$),Y);A.v7("color");
U.push(A);N(h,$/2,$*(h+.5),255)}var A=v.qL();A.v7("Labels");A.add.lsct=h2.Le;A.gR="pass";A.eW=24;U.push(A)}var X=U[U.length-1];
if(!w){var A=v.qL();A.v7(o.getName());A.add.lsct=h2.Uk;A.gR="pass";A.eW=24;U.push(A);X=A}var Q=o.add.lmfx;
if(Q)X.add.lmfx=g.F(Q);var L=U.length;for(var h=x+1;h<v.k.length;h++)U.push(v.k[h]);R.data={R:m.jS,i8:U,gb:[L-1],hX:[11,11,0]}}else{var U=v.k.slice(0),A=v.qL();
A.v7(o.getName());U.splice(v.Y[0]+1,0,A);A.S=o.S.Q();A.buffer=this.aFS;A.Ai();R.data={R:m.jS,i8:U,gb:[v.Y[0]+1],hX:[11,11,1]}}this.a(R);
this.close();v.C4=!0};d8.prototype.pJ=function(J,v){this.f=J};function iI(J){kX.call(this,[[7,11],[7,13]][J],["redge","magiccut"][J]);
this.I4=J;this.uq={};this.XO=null;this.f=null;this.qE=null;this.SW=null;this.$o=null;this.body.style.padding="0";
this.Es=[];this.os=-1;this.dN=B.l("div","form hbar padded");this.body.appendChild(this.dN);this.jg=new fP;
this.jg.parent=this;this.jg.P(j.E.n,this.B4,this);this.dN.appendChild(this.jg._);var v=J==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
v=v.concat("tools/hand","zoomIn","zoomOut");var x=J==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.sQ=new iq(null,v,x,28);this.sQ.P(j.E.n,this.lb,this);this.dN.appendChild(this.sQ._);this.VM=new fL([7,9],0,50,null);
this.VM.parent=this;this.VM.P(j.E.n,[this.aIk,this.f7][J],this);this.dN.appendChild(this.VM._);var o=this.aHx=new bj([2,2],!1,null,!0);
o.P("click",this.cC,this);this.dN.appendChild(o._);var R=this.Lk=B.l("span","form");this.dN.appendChild(R);
var r=this.a1U=new bj([12,90],!1,null,!0);r.P("click",function(P){alert(J==0?ea.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
R.appendChild(r._);var l=new bj("Tutorial",!1,null,!0);l.P("click",this.acH,this);R.appendChild(l._);
this.Cn=new iq([12,46],["checker","#ffffff","#000000"]);this.Cn.P(j.E.n,this.a07,this);R.appendChild(this.Cn._);
this.atn=new dp(null,[[6,13],[6,2],[17,2]]);R.appendChild(this.atn._);this.jc=B.iY(this,R,!1);var M=this.F$=B.l("div","flexrow");
this.body.appendChild(M);this.ZE=new iW(!0);this.cB=new iW;this.ZE.aa(this.cB);this.cB.aa(this.ZE);this.ZE.P("mousedown",this.y1,this);
this.ZE.P("mousemove",this._k,this);this.ZE.P("mouseup",this.Vg,this);this.ZE.P("zoom",this.B4,this);
this.cB.P("zoom",this.B4,this);M.appendChild(this.ZE._);M.appendChild(this.cB._)}iI.prototype=new kX;
iI.prototype.Xe=function(J,v){var x=J!=null&&!J.k[J.Y[0]].S.L3();if(!x)alert("The layer is empty.");
return x};iI.prototype.z$=function(){return new aG(0,0)};iI.prototype.b7=function(){return!0};iI.prototype.qe=function(J,v){this.BK=J;
this.mq=v;v=v-12-33;if(J<900){B.L(this.Lk,"display:block;  text-align:right;");v-=29}else{B.L(this.Lk,"position:absolute;  right:0px")}this.Cn.f_(J<440?null:[12,46]);
this.VM.f_(J<470?null:[7,9]);var x=this.uq.S;if(x){var o=iI.NZ(J,v,x.r,x.$);if(o==0){J=Math.floor(J/2);
B._H(this.F$,"flexrow")}else{v=Math.floor(v/2);B.Nv(this.F$,"flexrow")}this.ZE.qe(J,v);this.cB.qe(J,v)}};
iI.NZ=function(J,v,x,o){var R=J/2,r=v/2,l=Math.min(R/x,v/o),M=Math.min(J/x,r/o);return l>M?0:1};iI.prototype.d=function(){kX.prototype.d.call(this);
this.jg.d();this.VM.d();this.jc.d();this.Cn.d();this.atn.d();this.aHx.d();this.a1U.d()};iI.prototype.acH=function(J){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.I4],"_blank")};
iI.prototype.pJ=function(J,v){this.f=J;if(v==cj.kN||v==cj.q6){this.jg.CN(J.DK);this.jg.q(br.qF(),J.DK.En,J.DK.pm)}};
iI.prototype.lb=function(J,v,x,o){var R=this.sQ.s();if(o==null){this.ZE.lb(iW.NN(R-3));return}this.SW=o;
var r=H.P8.lY(this.jg.s(),o);if(r!=null){this.jg.q(r);this.B4()}else if(o.M(gw.aw)&&o.M(gw.mK)){var l=this.Es,M=0;
if(o.M(gw.Yv)){if(this.os+1<l.length)M=1}else if(this.os>0)M=-1;if(M!=0){this.os+=M;var P=this.os,S=this.uq;
if(M==1)g.sW(l[P][2],l[P][0],S.L1,S.S);else g.sW(l[P+1][1],l[P+1][0],S.L1,S.S);S.gE=S.S;this.f7()}}else if(R<3)this.ZE.lb(o)};
iI.prototype.Lc=function(J){var v=this.uq,x=this.Es,o=g.C(J.o()*4);g.sW(v.S5,v.S,o,J);v.S5=null;var R=g.C(J.o()*4);
g.sW(v.L1,v.S,R,J);this.os++;x[this.os]=[J.Q(),o,R];while(x.length>this.os+1)x.pop();while(x.length>50){x=x.slice(1);
this.os--}};iI.prototype.B4=function(){var J=this.f,v=ix.l6(this.jg.s(),J.DK.En,this.ZE.Rj().NT);this.ZE.cT(v)};
iI.prototype.y1=function(J){var v=this.f,x=this.uq,o=this.SW,R=this.jg.s(),r=this.ZE._8(),l=[16777215,8421504,0][this.sQ.s()];
this.XO=new ix(R,v.DK.En,v.DK.pm,{xR:1,fP:!0},l,v.Vb,x.S);x.S5=x.L1.slice(0);if(o!=null&&o.M(gw.Yv)&&this.$o){this.XO.moveTo(this.$o.x,this.$o.y);
this.XO.lineTo(r.x,r.y)}else this.XO.moveTo(r.x,r.y);this.a6_()};iI.prototype._k=function(J){var v=this.uq,x=this.ZE._8();
this.XO.lineTo(x.x,x.y);this.a6_()};iI.prototype.Vg=function(J){this.$o=this.ZE._8();this.Lc(this.XO.vn());
this.f7()};iI.prototype.a6_=function(){var J=this.uq,v=this.XO,x=v.qh();if(x.L3())return;J.gE=x;g.v.Ry("norm",v.Hl(),v.ca(),J.L1,J.S,x,1);
this.a58()};iI.prototype.cC=function(J){var v=this.uq;v.S5=v.L1.slice(0);v.gE=v.S;g.SX(v.L1,[4278190080,4292730333][this.I4]);
this.Lc(v.S);this.f7()};iI.prototype.Q4=function(J,v){this.qE=J;var x=J.k[J.Y[0]],o=x.S.Q(),R=o.r,r=o.$,P;
this.VM.q(this.I4==0?3:R*r<3e6?3:0);this.sQ.q(J.g==null?0:1);this.VM.UG();if(this.I4==0&&J.g!=null||this.I4==1)this.VM.fS();
var l=this.I4,M=g.C(o.o());if(l==0&&J.g){g.Cc(J.g.N,J.g.S,M,o);var S=g.C(o.o());for(var c=0;c<r;c++)for(var b=0;
b<R;b++){var h=c*R+b,w=M[h];if(b>0&&M[h-1]!=w||b<R-1&&M[h+1]!=w||c>0&&M[h-R]!=w||c<r-1&&M[h+R]!=w)S[h]=255}P=g.style.Fa(S,R,r)}else{P=new Float32Array(o.o());
P.fill(1e9)}o.x=o.y=0;this.uq={S:o,r3:x.buffer,ee:M,de:P,L8:g.C(o.o()*4),YQ:g.C(o.o()*4),L1:g.C(o.o()*4),S5:null,pE:null,gE:o,ajx:{}};
if(l==0)this.aIk();else{this.uq.ajx=H.iO.axX(J);var U=this.uq.L1;g.SX(U,4287137928);var F=g.cs.getSelection(x.buffer,R,r),Y=Math.round(R/60),A=Math.round(.7*r);
for(var c=0;c<r;c++)for(var b=0;b<R;b++){var G=(c*R+b)*4,n=F[G>>>2];n=n>128?255:128;if(c<Y||c<A&&(b<Y||b>R-1-Y))n=0;
U[G]=U[G+1]=U[G+2]=n}this.f7()}this.Es=[1];this.os=0;var E=this.jg.s();E.Brsh.v.Dmtr.v.val=Math.round(o.r/(l==0?10:20));
this.jg.q(E);this.B4();this.qe(this.BK,this.mq);this.ZE.te()};iI.prototype.aIk=function(){var J=this.uq,v=J.S.o(),x=this.VM.s(),o=J.ee.slice(0);
for(var h=0;h<v;h++)if(J.de[h]<x)o[h]=128;J.L1.fill(255);g.Os(o,J.L1,0);g.Os(o,J.L1,1);g.Os(o,J.L1,2);
J.gE=J.S;this.f7()};iI.prototype.f7=function(){var J=this.uq,R,M,P=0,S=0,c=0;this.a58();var v=J.S,x=v.r,o=v.$,r=g.C(v.o()),l=J.r3;
g.Vi(J.L1,r,0);for(var h=0;h<r.length;h++){if(l[(h<<2)+3]!=255)continue;var b=r[h];if(b==0)P++;else if(b==255)S++;
else c++}if(P*S*c!=0){if(this.I4==0)M=g.eQ.eQ(v,l,r);else{var w=this.sQ.s();for(var U=1;U<o;U++)for(var F=1;
F<x;F++){var h=U*x+F,Y=r[h],A=r[h-1];if(Y==0&&A==255||Y==255&&A==0){R="The Red and Green should never touch! Erase it with Grey.";
break}}var G=Date.now(),n=this.uq.ajx;g.oj(r,n.MN);H.iO.tv(n,!0,this.qE);var E=Math.ceil(this.VM.s()/2);
if(E==0){M=l.slice(0);g.Os(n.g,M,3)}else{var K=n.g.slice(0),e=n.g.slice(0);for(var $=0;$<E;$++){for(var U=1;
U<o-1;U++)for(var F=1;F<x-1;F++){var h=U*v.r+F,N=K[h];if(K[h-x]!=N||K[h-1]!=N||K[h+1]!=N||K[h+x]!=N)e[h]=128;
else e[h]=N}var k=K;K=e;e=k}for(var U=0;U<o;U++)for(var F=0;F<x;F++){var h=U*x+F;if(r[h]==0||r[h]==255)K[h]=r[h]}M=g.eQ.eQ(v,l,K,20,!1)}}}else{M=l.slice(0);
g.Os(r,M,3)}for(var h=3;h<M.length;h+=4)if(M[h]>l[h])M[h]=l[h];if(v.Ym(J.S))J.pE=M;else g.sW(M,v,J.pE,J.S);
this.a07();if(R)alert(R,4e3)};iI.prototype.a58=function(J){var v=this.uq,x=v.gE;g.sW(v.r3,v.S,v.L8,v.S,x,!0);
var o=v.L1,R=v.S,r=Date.now();if(this.I4==1){var l=new Uint32Array(256);l[0]=4278190335;l[255]=4278255360;
var M=g.C(x.o()*4),P=x.o();g.sW(o,R,M,x);o=M;R=x;var S=new Uint32Array(o.buffer);for(var h=0;h<P;h++)S[h]=l[S[h]&255]}console.log(Date.now()-r);
g.v.Ry("norm",o,R,v.L8,v.S,x,.3);this.ZE.q([{P0:v.S,data:v.L8.buffer}],null,null,x)};iI.prototype.a07=function(J){var v=this.uq;
g.SX(v.YQ,[0,4294967295,4278190080][this.Cn.s()]);g.v.Ry("norm",v.pE,v.S,v.YQ,v.S,v.S,1);this.cB.q([{P0:v.S,data:v.YQ.buffer}])};
iI.prototype.jB=function(J){var v=this.qE,x=this.uq,o=this.atn.s(),R=v.k[v.Y[0]],r=new dd(j.E.G,!0);
r.W5=!0;var l=R.S.Q();if(o==0&&R.jh()||o!=0&&!R.jh()){r.J=H.wu;r.data={R:m.MA,w:v.Y[0]};this.a(r)}if(v.g!=null){r.J=H.ZT;
r.data={R:"fromAction",h7:H.IE.DT()};this.a(r)}if(o==0){var M=v.k.slice(0),P=v.qL();P.v7(R.getName());
M.splice(v.Y[0]+1,0,P);P.S=l;P.buffer=x.pE;P.Ai();r.J=H.wu;r.data={R:m.jS,i8:M,gb:[v.Y[0]+1],hX:[7,11]};
this.a(r)}if(o==1){var S=R.q9();r.J=H.wu;r.data={R:m.Fe,alT:!0};this.a(r);var c=R.q9();c.N=g.C(l.o());
c.S=l;c.color=0;c.px=!0;g.Vi(x.pE,c.N,3);if(S){var b=c.K1(S);c.S=b.S;c.N=b.N;c.color=b.color}c.Zv();
R.B0(v)}if(o==2){var w={S:l,N:g.C(l.o())};g.Vi(x.pE,w.N,3);r.J=H.ZT;r.data={R:"setsel",g:w,hX:this.Zx};
this.a(r)}this.close()};function gT(){kX.call(this,[1,13],"locstor");this.f=null;this.uS=[];var J=this.body,v=B.l("p");
v.textContent="These files are loaded every time you start Photopea.";J.appendChild(v);this.a8B=0;this.arG=B.l("span");
J.appendChild(this.arG);B.L(this.arG,"display:inline-block;  width:12em;  font-weight:bold;");var x=B.l("span","form");
J.appendChild(x);this.zw=new bj([5,4],!1,null,!0);this.zw.P("click",this.F0,this);x.appendChild(this.zw._);
this.m1=new bj("Get all as ZIP",!1,null,!0);this.m1.P("click",this.Fh,this);x.appendChild(this.m1._);
this.Og=new ch(!0);this.Og.parent=this;this.Og.kO(1);J.appendChild(this.Og._);B.L(this.Og._,"width: 40em; height: 25em")}gT.prototype=new kX;
gT.prototype.d=function(){kX.prototype.d.call(this);this.arG.textContent=ea.get([13,2])+": "+eF.Ux(this.a8B);
this.zw.d()};gT.prototype.pJ=function(J,v){this.f=J;if(v==cj.jP)this.Q4()};gT.prototype.Q4=function(J,v){var x=this.f.FK.sZ,P=0;
this.uS=[];for(var o in x)this.uS.push(o);this.uS.sort(function(c,b){c=c.split(".");b=b.split(".");return c[1]==b[1]?c[0]<b[0]?-1:1:c[1]<b[1]?-1:1});
var R=Math.floor(100*B.rR()),r=Math.floor(16*B.rR()),l=[],M=[];for(var h=0;h<this.uS.length;h++){var o=this.uS[h],S=gT.QZ(o,x[o],R,r);
l.push(S);M.push(o);P+=x[o].byteLength}this.Og.iP(l,M,R,r);this.a8B=P;this.d()};gT.prototype.F0=function(J){var v=this.Og.s();
if(v.length==0){alert("Select a file first.");return}this.Og.q([]);var x=this.f.FK.sZ;for(var h=0;h<v.length;
h++)delete x[this.uS[v[h]]];var o=new dd(j.E.j,!0);o.data={R:j.m.Qq,Fu:cj.jP};this.a(o)};gT.prototype.Fh=function(J){var v=this.f.FK.sZ,x={};
for(var o in v)x[o]=new Uint8Array(v[o]);var R=UZIP.encode(x);aB.save(R,"resources.zip")};gT.QZ=function(J,v,x,o){var R=B.l("canvas"),M=0;
R.width=x;R.height=o;var r=R.getContext("2d"),l=J.split(".").pop().toLowerCase();for(var h=0;h<l.length;
h++)M+=l.charCodeAt(h)*613<<8*h;r.fillStyle="#"+g.q2(M&16777215);r.fillRect(0,0,20,o);var P=Math.floor(14*B.rR());
r.fillStyle="#000000";r.font="bold "+P+"px sans-serif";var S=(o-P)/2,c=eF.Ux(v.byteLength),b=r.measureText(c);
r.fillText(c,x-12-b.width,o-S);return R.toDataURL()};function aM(){kX.call(this,[1,15],"pmanager");this.f=null;
this.lB=new dp([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.lB.P(j.E.n,this.Q4,this);
this.body.appendChild(this.lB._);var J=B.l("div","flexrow");this.body.appendChild(J);var v=this.amJ=B.l("div");
J.appendChild(v);var x=B.l("div","form");J.appendChild(x);B.L(x,"width:140px; margin-left:12px");this.aGB=[cj.kN,cj.Ui,cj.q1,cj.NY,cj.z0,cj.Lg];
this.ah=[new fP,new aE,new hV,new dU,new hQ,new gH];for(var h=0;h<this.ah.length;h++)this.ah[h].parent=this;
this.kv=[];for(var h=0;h<4;h++){var o=new bj("Hello",!0,null,!0);o.P("click",this.Dq,this);this.kv.push(o);
x.appendChild(o._)}this.Q4()}aM.prototype=new kX;aM.prototype.V9=function(J){return J==gw.Fp||J==gw.hP};
aM.prototype.Dq=function(J){var h=this.kv.indexOf(J.target);this.ah[this.lB.s()].vE(h)};aM.prototype.d=function(){kX.prototype.d.call(this);
this.lB.d();for(var h=0;h<this.ah.length;h++)this.ah[h].d();var J=this.kv,v=this.lB.s(),x=cj.LK[this.aGB[v]],o=x[0].toUpperCase();
J[0].f_([[23,6],"."+o]);J[1].f_(["VAR0 ."+o,[1,8]]);J[2].f_([6,37]);J[3].f_([5,4])};aM.prototype.pJ=function(J,v){this.f=J;
this.Q4()};aM.prototype.Q4=function(J,v){if(!B.yn(this._))return;this.d();B.wp(this.amJ);this.amJ.appendChild(this.ah[this.lB.s()].tY);
var x=this.ah,o=this.f;if(o==null)return;x[0].CN(o.DK);x[1].kx(o.P4,o.Vb);x[1].CN(o.TF);x[2].CN(o.HZ);
x[3].CN([o.yX,o.HZ]);x[4].CN(o.tx);x[5].CN(o.Tp)};function bK(J,v,x){kX.call(this,v,"cwindow");this.aEU=new aG(x[0],x[1]-33);
this.dN=B.l("div","form");B.L(this.dN,"width:"+(x[2]-x[0])+"px; height:"+(x[3]-x[1])+"px");this.body.appendChild(this.dN)}bK.prototype=new kX;
bK.prototype.z$=function(J,v){return this.aEU.Q()};function is(J){var v=is.awu(J);kX.call(this,v,"res"+J);
var x=this.atE.bind(this);window.addEventListener("message",function(R){if(typeof R.data=="string"&&R.data.startsWith("--et ")){console.log(R.data);
var r=this.aCG=R.data.slice(5).split(",");r[0]=parseFloat(r[0]);f6.auh(r[0],r[1],x)}}.bind(this));this.Gc=v;
this.ny=J;this.aty=null;this.$f=null;this.NJ=0;this.Km=null;this.ug=null;this.aCG=null;this.f=null;B.L(this.body,"padding:0");
this.Ro=new bj("",null,null,!0);this.body.appendChild(this.Ro._);this.Ro.P("click",this.RV,this);B.L(this.Ro._,"position:absolute; margin-top: -28px;  margin-left:150px");
this.$x=new bj("\u25BC",null,null,!0);B.L(this.$x._,"position:absolute; margin-top: -28px;  margin-left:270px");
this.$x.P("click",this.aw$,this);this.body.appendChild(this.$x._);this.um=B.l("span","form");this.body.appendChild(this.um);
this.kv=[];for(var h=0;h<9;h++){var o=new bj(is.awu(h));this.kv.push(o);if(h==J)o.q(!0);this.um.appendChild(o._);
o.P("click",this.aCz,this)}this.a4q=new bj([5,3],null,null,!0);this.a4q.P("click",this.a2n,this);this.at$=new bj("Upload Current Document as a Template",null,null,!0);
this.at$.P("click",this.aBD,this);this.a42=new ir("Creator / Brand name");this._V=new bj([1,2],null,null,!0);
this._V.P("click",this.Fh,this);this.ml=B.l("iframe","scrollable");B.L(this.ml,"border:none; margin:0; padding:0;");
this.Rb=B.l("div","form scrollable padded");this.II=new hP(J);this.II.P("back",this.cC,this);this.II.P("save",this.aGy,this);
this.body.appendChild(this.ml)}is.prototype=new kX;is.awu=function(J){var v;if(J==0)v=[25,0];else if(J==1)v="Plugins";
else for(var x in cj.LK)if(cj.LK[x][4]==J)v=cj.LK[x][3];return v};is.prototype.aw$=function(J){this.um.style.display=this.um.style.display=="none"?"":"none"};
is.prototype.aCz=function(J){var h=this.kv.indexOf(J.target);if(h==this.ny)return;this.close();var v=new dd(j.E.j,!0);
v.data={R:j.m.wz,kA:"res"+h};this.a(v)};is.prototype.atE=function(J){this.RV();this.ug=JSON.parse(J.target.response);
this.A6()};is.prototype.z$=function(J,v){return new aG(0,0)};is.prototype.qe=function(J,v){this.BK=J;
this.mq=v;this.U8=null;v=v-4;J=J;var x=J>820,o="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",R="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
B.L(this.um,x?o:R);this.um.style.marginTop=(x?-31:0)+"px";this.$x._.style.display=x?"none":"";var r=this.Rb;
r.style.width=J-12+"px";r.style.height=v-12+"px";var r=this.II._;r.style.width=J-12+"px";r.style.height=v-12+"px";
var r=this.ml;r.style.width=J+"px";r.style.height=v+"px";this.Lq()};is.prototype.pJ=function(J,v){this.f=J};
is.prototype.d=function(){kX.prototype.d.call(this);for(var h=0;h<this.kv.length;h++)this.kv[h].d();
this.a4q.d()};is.prototype.Q4=function(J,v,x,o){this.U8=J;this.RV(null,!1)};is.prototype.RV=function(J,v){var x=v!=null?v:B.yn(this.ml);
if(x){if(!f6.A5()){alert("You need to log in first!");return}var o=f6.yf();if(o==null)o={};this.$f=o.tpl?o.tpl.list:[];
this.a42.q(o.tpl&&o.tpl.brnd?o.tpl.brnd:"");this.Lq()}else{this.ml.setAttribute("src","");this.ml.setAttribute("src",f6.mP("templates/?type="+this.ny+"&rsrc="+this.f.xO.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(x?this.Rb:this.ml);var R=ea.get(this.Gc);this.Ro.f_(x?"All "+R:"Add "+R)};is.prototype.Lq=function(){var J=ea.get(this.Gc),v=this.$f,x=this.ny,M=450;
if(v==null)return;var o=this.Rb;B.wp(o);var R=B.l("h1");o.appendChild(R);R.textContent="Share your "+J+" with the world!";
var r=B.l("ul");o.appendChild(r);var l=B.l("li");r.appendChild(l);l.textContent="By publishing your "+J+", you agree to let others use them for all kinds of purposes, even commercially.";
o.appendChild(this.a4q._);if(x==0)o.appendChild(this.at$._);B.A1(o);o.appendChild(this.a42._);o.appendChild(this._V._);
B.A1(o);M=(this.BK-20)/Math.max(1,Math.floor(this.BK/M))-42;var P="display:inline-block; width:"+M+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var h=v.length-1;h>=0;h--){var S=v[h];if(S.type==null)S.type=0;if(S.type!=x)continue;var c=B.l("div");
o.appendChild(c);B.L(c,P);var b=B.l("img");c.appendChild(b);b.setAttribute("src",S.thmb);B.L(b,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var w=B.l("h3");c.appendChild(w);w.textContent=S.name;B.L(w,"margin:0 0 10px 0");var U=B.l("p");c.appendChild(U);
U.textContent=S.desc;B.L(U,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var F=0;F<2;F++){var Y=new bj(F==0?"Edit":"Delete",null,null,!0);
Y.avf=h;Y.A6=F==0;Y.P("click",this.amF,this);c.appendChild(Y._)}}};is.prototype.aBD=function(J){if(this.U8==null){alert("No document opened.");
return}var v=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!v)return;var x=new dd(j.E.j,!0);x.data={R:j.m.aK,d_:"psd",VX:this.acA.bind(this)};this.a(x)};is.prototype.acA=function(J){this.ajB=J;
var v=new dd(j.E.j,!0);v.data={R:j.m.aK,d_:"jpg",VX:this.af8.bind(this),ady:1400};this.a(v)};is.prototype.af8=function(J){this.Km={type:0,catg:0,desc:"",file:this.ajB,name:this.U8.name.split(".")[0],thmb:J,publ:!0,utme:""};
this.A6()};is.prototype.a2n=function(J){this.Km={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.A6()};is.prototype.amF=function(J){this.NJ=J.target.avf;if(!J.target.A6){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.$f.splice(this.NJ,1);this.Fh();this.Lq();return}this.A6()};is.prototype.A6=function(){if(B.yn(this.Rb))this.body.removeChild(this.Rb);
this.body.appendChild(this.II._);var J=this.Km?this.Km:this.ug?this.ug:this.$f[this.NJ];if(J.type==null)J.type=0;
this.II.q(J)};is.prototype.aGy=function(J){var v=this.II.s();if(this.Km)this.$f.push(v);else if(this.ug){var x=this.aCG;
f6.auh(x[0],x[1],this.cC.bind(this),JSON.stringify(v));return}else this.$f[this.NJ]=v;this.Fh();this.cC()};
is.prototype.cC=function(){var J=this.ug;this.Km=null;this.ug=null;this.body.removeChild(this.II._);
this.body.appendChild(this.Rb);this.Lq();if(J)this.RV()};is.prototype.Fh=function(){var J=f6.yf();if(J==null)J={};
if(this.$f.length==0)delete J.tpl;else{J.tpl={list:g.F(this.$f)};var v=this.a42.s().trim();if(v!="")J.tpl.brnd=v}f6.QD(J,function(){alert("Saved.")})};
function hS(){kX.call(this,"Make Selection","makesel");var J=B.l("div","form");this.body.appendChild(J);
this.SL=new a9([12,25,1]);this.SL.q(!0);J.appendChild(this.SL._);B.A1(J);this.ayD=new gC(!0);J.appendChild(this.ayD._);
this.jc=B.iY(this,this.body)}hS.prototype=new kX;hS.prototype.d=function(){kX.prototype.d.call(this);
this.ayD.d();this.SL.d();this.jc.d()};hS.prototype.jB=function(J){var v=new dd(j.E.G,!0);v.J=H.ZT;v.data={R:"frompath",Yk:[null,0,this.ayD.s(),this.SL.s()]};
this.close();this.a(v)};function i2(){kX.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.U8=null;this.Zg=null;
this.a4U=null;var J=this.a92=B.l("div","form");B.L(J,"width:20em");this.body.appendChild(J);this.vJ=new iF([12,50],["PSD","PSB"]);
this.vJ.P(j.E.n,this.CL,this);J.appendChild(this.vJ._);B.kY(J);var v=new aT("Minify the file");J.appendChild(v._);
B.A1(J);var x=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.j5=[];for(var h=0;h<x.length;h++){var o=new a9(x[h]);this.j5.push(o);J.appendChild(o._);o.P(j.E.n,this.CL,this)}B.kY(J);
this.hQ=new aT("aa.psd");this.uw=new aT("10 kB");J.appendChild(this.uw._);this.aAh=new aT("1000 B");
J.appendChild(this.aAh._);this.jc=new bj([1,2],!0,null,!0);this.jc.P("click",this.jB,this);J.appendChild(this.jc._);
this.V3=new bj(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.V3.P("click",this.jB,this);J.appendChild(this.V3._);
this.P("closebtn",this.Lx,this)}i2.prototype=new kX;i2.prototype.Q4=function(J,v,x,o){var R=B.yn(this.V3._),r=J.My!=null&&J.My.Mc=="psd";
if(r&&!R)this.a92.appendChild(this.V3._);if(!r&&R)this.a92.removeChild(this.V3._);for(var h=0;h<this.j5.length;
h++)this.j5[h].q(!1);this.U8=J;this.CL()};i2.prototype.jB=function(J){if(J.target==this.jc)aB.save(this.Zg,this.a4U);
else{if(this.j5[3].s()){alert("You should not save a ZIP as a PSD to Google Drive.");return}cA.a3z(this.U8,this.Zg)}};
i2.prototype.Lx=function(){this.U8=null;this.Zg=null};i2.prototype.CL=function(){var J=this.U8,v=[!1,!1,!1,!1];
for(var h=0;h<3;h++)v[h]=this.j5[h].s();var x=this.j5[3].s(),o=v[3]=this.vJ.s()==1,R=J.name.slice(0,J.name.length-3),r=this.Zg=d2.s$("PSD").lS(J,0,0,v),co=this.a4U=R+"ps"+(o?"b":"d");
if(x){var l={};l[co]=new Uint8Array(r);r=this.Zg=UZIP.encode(l);co=this.a4U=R+"zip"}this.hQ.q(co);this.uw.q(eF.Ux(r.byteLength));
this.uw._.style["font-size"]="2em";this.aAh.q(" \u2001 "+r.byteLength+" B");this.jc.f_(ea.get([1,2])+" \""+co+"\"")};
i2.prototype.d=function(){kX.prototype.d.call(this);this.vJ.d();this.jc.d();this.V3.d()};function ex(){kX.call(this,"Confirm","confirm");
this.MX=null;var J=B.l("div");B.L(J,"margin-bottom:1em");this.body.appendChild(J);this.Fq=B.l("div");
this.Fq.textContent="Hello";J.appendChild(this.Fq);this.jc=B.iY(this,this.body)}ex.prototype=new kX;
ex.prototype.jB=function(J){if(this.MX==null)return;console.log("okconfirm");this.close();this.MX();
this.MX=null};ex.prototype.d=function(){kX.prototype.d.call(this);this.jc.d()};ex.prototype.Q4=function(J,v){if(v.aFU||v.a9M)this.Fq.innerHTML=v.K;
else this.Fq.textContent=v.K;if(v.aEG)this.jc.f_(v.aEG);this.MX=v.MX;this.jc._.focus();if(v.aFU!=null)this._.style.top=Math.random()*(window.innerHeight-150)+"px";
this.aeq=v.aFU!=null};ex.prototype.z$=function(J,v){return new aG(Math.max(0,(J-500)/2),Math.max(0,Math.min(60,(v-100)/2)))};
ex.prototype.qe=function(J,v){this.Fq.style.width=J-30+"px"};function io(){kX.call(this,[1,16,2],"newartb");
this.I4=0;this.RB=null;var J=B.l("div","form");J.style.width="260px";this.body.appendChild(J);this.Og=new j3;
J.appendChild(this.Og._);this.jc=B.iY(this,J)}io.prototype=new kX;io.prototype.Xe=function(J,v){return J!=null};
io.prototype.jB=function(J){var v=this.Og.s();this.RB.r=v.x;this.RB.$=v.y;var x=new dd(j.E.G,!0);x.J=H.LW;
x.data={a4c:this.RB,tj:this.I4};this.a(x);this.close()};io.prototype.d=function(){kX.prototype.d.call(this);
this.Og.d();this.jc.d()};io.prototype.Q4=function(J,v){this.I4=v.tj;var x=new jj(0,0,J.r,J.$);if(J.Y.length!=0){var o=J.k[J.Y[0]];
if(o.add.artb){x=o.Gf();x.x+=x.r+100}if(v.tj==1)x=H.ge.ca(J)}this.RB=x;this.Og.q(new aG(x.r,x.$))};function j_(){kX.call(this,"Storage","storwindow");
B.L(this.body,"padding:0");this.qR=null;this.P("closebtn",this.Q0,this);this.P("canclose",this.Q0,this)}j_.prototype=new kX;
j_.prototype.pJ=function(J,v){if(this.qR)this.qR.pJ(J,v)};j_.prototype.z$=function(J,v){return new aG(Math.max(0,Math.min(150,(J-980)/2)),Math.max(0,Math.min(150,(v-590)/2)))};
j_.prototype.qe=function(J,v){this.BK=J;this.mq=v;J=Math.min(J,980);v=Math.min(v,590);if(this.qR)this.qR.qe(J,v)};
j_.prototype.d=function(){kX.prototype.d.call(this);if(this.qR)this.qR.d()};j_.prototype.Q4=function(J,v,x,o){this.Zx=v.tj==0?"Open from Storage":"Save to Storage";
this.d();if(this.qR==null){this.qR=new aX;this.qR.parent=this;this.body.appendChild(this.qR._);this.d();
this.qe(this.BK,this.mq)}Storage.kO(v.tj,J?J.name:"");aX.lU(this.qR)};j_.prototype.Q0=function(J){Storage.kO(0);
aX.Ra();if(J.e=="canclose")this.close()};function ip(){kX.call(this,[2,14],"varsdats");var J=this.dN=B.l("div","form");
B.L(J,"width:300px");this.body.appendChild(J);this.U8=null;this.KL=0;this.f=null;this.iU=new iF(null,[[2,14],"Data Sets",[1,8]]);
this.iU.P(j.E.n,this.ai6,this);this.J5=new ip.J1;this.aB=new ip.qg;this.p8=new ip.o_;this.aB.P("activate",this.E$,this);
this.p8.P("export",this.D7,this);this.jc=B.iY(this)}ip.prototype=new kX;ip.prototype.ai6=function(J){var v=this.iU.s(),x=this.dN;
B.wp(x);x.appendChild(this.iU._);B.kY(x);x.appendChild([this.J5,this.aB,this.p8][v]._);x.appendChild(this.jc._)};
ip.prototype.jB=function(J){var v=new dd(j.E.G,!0);v.J=H.wu;v.data={R:m.Gy,K:JSON.stringify([this.J5.s(),this.aB.s()])};
this.a(v);this.close()};ip.prototype.d=function(){kX.prototype.d.call(this);this.jc.d();this.p8.d()};
ip.prototype.Q4=function(J,v){this.U8=J;this.p8.U8=J;if(J==null)return;this.J5.Q4(J,v);this.aB.Q4(J,v);
this.iU.q(0);this.ai6();this.KL=0;this.p8.aDN()};ip.prototype.pJ=function(J,v){this.f=J};ip.prototype.D7=function(J){var v=this.J5.s(),x=this.aB.s(),o=this.p8.s();
if(v.length==0){alert("There are no variables.");return}if(x.length==0){alert("There are no data sets.");
return}var R=d2.a6q(this.U8,v,x,this.aB.a7b(),o[0],o[1],o[2],this.f,this);if(R!=null)aB.save(R,"images.zip")};
ip.prototype.E$=function(J){var v=this.aB.Y,x=this.J5.s(),o=this.aB.s();if(x.length==0){alert("There are no variables.");
return}if(o.length==0){alert("There are no data sets.");return}this.sc();this.KL+=d2.azQ(this.U8,this,x,o,this.aB.a7b(),v)};
ip.prototype.sc=function(){var J=new dd(j.E.G,!0);J.J=H.iI;J.data={R:"h_stepbck"};while(this.KL>0){this.a(J);
this.KL--}};ip.o_=function(){aJ.call(this);var J=this._=B.l("div");this.alk=new ir("Variable for file names");
J.appendChild(this.alk._);B.kY(J);this.U8=null;this.EY=["JPG","PNG","PDF"];this.vJ=new iF([12,50],this.EY);
this.vJ.P(j.E.n,this.aDN,this);J.appendChild(this.vJ._);this.uB=new dZ;J.appendChild(this.uB._);this.m1=new bj("Export all items",!0,null,!0);
this.m1.P("click",this.D7,this);J.appendChild(this.m1._)};ip.o_.prototype=new aJ;ip.o_.prototype.d=function(J){this.alk.d();
this.vJ.d();this.m1.d();this.uB.d()};ip.o_.prototype.aDN=function(J){if(this.U8==null)return;var v=this.EY[this.vJ.s()],x=this.U8,o=x.add.artd;
this.uB.sk(v,null,null,o!=null&&o.Cnt.v>1)};ip.o_.prototype.D7=function(J){this.a(new dd("export"))};
ip.o_.prototype.s=function(){var J=this.EY[this.vJ.s()];return[J,this.uB.s(),this.alk.s().trim()]};ip.qg=function(){aJ.call(this);
this.K$=null;this.a49=[];this.Y=0;var J=this._=B.l("div","form");this.awB=new a0("Import a CSV file");
J.appendChild(this.awB._);this.awB.P(j.E.n,this.agr,this);this.P7=B.l("div","scrollable");B.L(this.P7,"overflow:scroll;  height:234px;");
J.appendChild(this.P7);this.asE=new a0("Source Images",!0);J.appendChild(this.asE._)};ip.qg.prototype=new aJ;
ip.qg.prototype.agr=function(J){var v=this.awB.s();for(var x in v){v=v[x];break}this.K$=kc.KE(I.Aq(v));
this._t()};ip.qg.prototype.a7b=function(){return this.asE.s()};ip.qg.prototype.Q4=function(J,v){var x=this.K$=g.F(J.VI);
this._t()};ip.qg.prototype.s=function(){return this.K$};ip.qg.prototype._t=function(){var J=this.Pr.bind(this),v=this.K$,o="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.a49=[];var x=B.l("table");B.L(x,"border-collapse: collapse;");for(var h=0;h<v.length;h++){var R=B.l("tr"),r=v[h],l=h==0?"th":"td";
x.appendChild(R);var M=B.l(l);R.appendChild(M);B.L(M,o+"cursor:pointer;");if(h!=0)M.textContent="\u2713";
this.a49.push(M);M.addEventListener("click",J,!1);for(var P=0;P<r.length;P++){var M=B.l(l);M.textContent=r[P];
R.appendChild(M);B.L(M,o);M.setAttribute("title",r[P])}}B.wp(this.P7);this.P7.appendChild(x)};ip.qg.prototype.Pr=function(J){this.Y=this.a49.indexOf(J.currentTarget);
this.a(new dd("activate"))};ip.J1=function(){aJ.call(this);var J=this._=B.l("div","form marged");this.Ii=null;
this.JW=[];this.XY=[];this.qy=null;this.fy=new dp([0,3],[]);this.fy.P(j.E.n,this.aJ1,this);J.appendChild(this.fy._);
this.aAP=[];var v=["Visibility","Text Content","Pixel Content"];for(var h=0;h<v.length;h++){B.kY(J);
var x=new a9(v[h]);x.P(j.E.n,this.hK,this);J.appendChild(x._);B.A1(J);var o=new ir("Variable Name");
o.P(j.E.n,this.hK,this);J.appendChild(o._);this.aAP.push(x,o)}};ip.J1.prototype=new aJ;ip.J1.prototype.hK=function(J){var v=this.fy.s(),x=this.qy[v],o=this.JW[v],R=this.Ii["l"+x],r=this.aAP;
if(R==null)this.Ii["l"+x]=R=[];while(R.length!=0)R.pop();for(var h=0;h<3;h++){var l=r[2*h+1].s().trim();
if(!r[2*h].s())continue;if(l.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}l=l.replaceAll(" ","");
var M={varName:l,trait:["visibility","textcontent","fileref"][h]};R.push(M);if(h==2){M.align="center";
M.clip="false";M.placementMethod="fit";M.valign="middle"}}if(R.length==0)delete this.Ii["l"+x];this.Q4()};
ip.J1.prototype.aJ1=function(J){var v=this.fy.s(),x=this.qy[v],o=this.JW[v],R=this.Ii["l"+x],r=this.aAP;
if(R==null)R=[];for(var h=0;h<3;h++){var l=h==0||h==1&&o==0||h==2&&o==1;r[2*h].Ne(l);r[2*h].q(!1);r[2*h+1].Ne(l);
if(!l)r[2*h+1].q("")}for(var h=0;h<R.length;h++){var M=R[h],P=M.trait,S=["visibility","textcontent","fileref"].indexOf(P);
r[S*2].q(!0);r[S*2+1].q(M.varName)}};ip.J1.prototype.Q4=function(J,v){if(J){var x=g.F(J.AB),o=this.Ii={};
for(var h=0;h<x.length;h++){var R=x[h],r=R.docRef;r="l"+r.slice(4,r.length-2);if(o[r]==null)o[r]=[];
o[r].push(R)}this.qy=[];this.JW=[];this.XY=[];for(var h=J.k.length-1;h>=0;h--){var l=J.k[h],r=l.add.lyid;
if(l.add.lsct==h2.lj)continue;this.qy.push(r);this.JW.push(l.add.TySh?0:1);this.XY.push(l.getName())}}var M=[],P=this.XY;
for(var h=0;h<P.length;h++){M.push(P[h]+(this.Ii["l"+this.qy[h]]?" *":""))}var S=this.fy.s();this.fy.Qw(M);
this.fy.q(S);this.aJ1()};ip.J1.prototype.s=function(){var J=this.Ii,v=[];for(var x in J){var o=J[x];
for(var R=0;R<o.length;R++){o[R].docRef="id('"+x.slice(1)+"')";v.push(o[R])}}return v};function hl(){kX.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.aml=!1;var J=this.Gd=[],v=B.l("div","form");B.L(v,"width:20em");this.body.appendChild(v);for(var h=0;
h<2;h++){var x=new a9([22,4,2+h]);v.appendChild(x._);B.A1(v);var o=new iF(null,[["N equal parts"],["N pixels per part"]]);
v.appendChild(o._);B.A1(v);var R=new fL("N",0,1e3);R.q(4);R.parent=this;v.appendChild(R._);B.A1(v);if(h==0)B.kY(v);
J.push(x,o,R)}for(var h=0;h<J.length;h++)J[h].P(j.E.n,this.nE,this);J.push(B.iY(this,v));this.P("closebtn",this.sc,this)}hl.prototype=new kX;
hl.prototype.sc=function(){if(this.aml){var J=new dd(j.E.G,!0);J.J=H.iI;J.data={R:"h_stepbck"};this.a(J)}};
hl.prototype.nE=function(J){this.sc();this.aml=!0;var v=[];for(var h=0;h<6;h++)v.push(this.Gd[h].s());
var x={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var o=0;o<2;o++){if(!v[o*3])continue;var R=v[o*3+1],r=v[o*3+2];x[["slices","pixels"][R]+["Across","Down"][o]]={t:"long",v:r}}var l=new dd(j.E.aT,!0);
l.data={QI:"divide",_g:x};this.a(l)};hl.prototype.jB=function(J){this.close()};hl.prototype.d=function(){kX.prototype.d.call(this);
var J=this.Gd;for(var h=0;h<J.length;h++)J[h].d()};hl.prototype.Q4=function(J,v){this.aml=!1};function cx(){kX.call(this,"Stroke Path","strokepath");
this.f=null;this.kJ=null;this.aod=null;this.jc=null;this.aG2=[H.if,H.kN,H.tW,H.x2,H.lk,H.f9,H.DJ,H.Ye,H.Tg,H.hD,H.mb,H.tb,H.R$,H.BX,H.v2]}cx.prototype=new kX;
cx.prototype.d=function(){kX.prototype.d.call(this);if(this.jc){this.kJ.d();this.jc.d()}};cx.prototype.jB=function(J){var v=this.aG2[this.kJ.s()],x=null;
for(var o in H.Tn)if(H.Tn[o]==v)x=o;var R=new dd(j.E.aT,!0);R.data=H.qk.uf(x,this.aod.s());this.close();
this.a(R)};cx.prototype.pJ=function(J,v){if(this.f==null){var x=[];for(var h=0;h<this.aG2.length;++h){x.push(J.W.map[this.aG2[h]].J.name)}var o=B.l("div","form");
this.body.appendChild(o);this.kJ=new dp("Tool",x);this.kJ.q(1);o.appendChild(this.kJ._);this.aod=new a9("Simulate Pressure");
B.A1(o);o.appendChild(this.aod._);this.jc=B.iY(this,this.body)}this.f=J};function l1(){kX.call(this,[1,18],"linkview");
B._H(this.body,"form");var J=this.lc=[new ir(null,null,17),new bj([5,1],!1,null,!0),new bj([1,0],!1,null,!0)];
for(var h=0;h<3;h++){var v=J[h];this.body.appendChild(v._);if(h!=0)v.P("click",this.pX,this);if(h==0)B.A1(this.body)}}l1.prototype=new kX;
l1.prototype.Q4=function(J,v){var x=v.age;if(x.startsWith("https://"))x=x.slice(8);this.lc[0].q(x)};
l1.prototype.pX=function(J){var v=this.lc,x=v[0].s(),o=J.target==this.lc[1];if(o){navigator.clipboard.writeText(x);
alert("Copied to a clipboard!")}else window.open("https://"+x,"Shared")};function bx(J){kX.call(this,J==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][J]);
this.n4=null;this.auM=J;var v=B.l("div","form label8");B.L(v,"max-width:26em");this.body.appendChild(v);
this.sh=new dp("Document",["abc","def"]);this.sh.P(j.E.n,this.hK,this);v.appendChild(this.sh._);B.A1(v);
this.a7=new dp([12,4],["abc","def"]);this.a7.P(j.E.n,this.hK,this);v.appendChild(this.a7._);this.a5v=new a9([4,11]);
this.Fq=new ir([12,48]);this.Fq.q("Alpha");if(J==0){}else{v.appendChild(this.Fq._)}this.N0=new gC(!0);
v.appendChild(this.N0._);this.jc=B.iY(this,v)}bx.prototype=new kX;bx.prototype.b7=function(){return!0};
bx.prototype.d=function(){kX.prototype.d.call(this);this.jc.d();this.sh.d();this.a7.d();this.Fq.d();
this.a5v.d();this.N0.d()};bx.prototype.hK=function(J){var v=this.auM;if(J==null||J==this.sh){var x=this.sh.s(),o=this.n4[x],R=[];
if(v==0)R.push(o.k[o.Y[0]].getName()+" Transparency",o.k[o.Y[0]].getName()+" Gray");else R.push([5,3]);
for(var h=0;h<o.ac.length;h++)R.push(o.ac[h].name);this.a7.Qw(R)}if(v==0)return;var r=this.a7.s();this.Fq.Ne(r==0);
this.N0.Ne(r!=0)};bx.prototype.Q4=function(J,v,x){this.n4=x;var o=[];for(var h=0;h<x.length;h++){var R=x[h].name;
o.push(R.length<30?R:R.slice(0,27)+"...")}this.sh.Qw(o);this.sh.q(x.indexOf(J));this.hK(null)};bx.prototype.jB=function(J){var v=this.auM,x=this.a7.s(),o=this.sh.s(),R=this.n4[o],r=this.N0.s(),l,M=!1;
if(v==0){if(x==1)M=!0;x=Math.max(x-1,0)}if(x==0){l=new dd(j.E.aT,!0);if(v==0)l.data=H.IE.EW(r,M?"Gray":"Trsp",R.k[R.Y[0]].getName());
else l.data={QI:"duplicate",_g:{classID:"null",Nm:{t:"TEXT",v:this.Fq.s()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{l=new dd(j.E.G,!0);
if(v==0){l.J=H.ZT;l.data={R:"fromchannel",Yk:[-4-x,0,r]}}else{l.J=H.wu;l.data={R:m.WX,Uq:"seltochannel",Yk:[x-1,r]}}}this.close();
this.a(l)};function iM(){kX.call(this,"PeaMark","peamark");var J=B.l("span");J.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small><br/><br/>";
this.body.appendChild(J);var v=B.l("div","form");B.L(this.body,"width:300px;");this.body.appendChild(v);
this.a8f=!1;this.WE=[];this.dn=[];this.aqE=[];for(var h=0;h<3;h++){var J=B.l("div");J.textContent="0";
v.appendChild(J);B.L(J,"text-align:center; font-size:2em");var x=B.l("hr");this.dn.push(x);if(h!=2)v.appendChild(x);
B.L(x,"height:2px; background-color:#00ff00");var o=new bj("Test "+["CPU","GPU","free RAM"][h],!0,null,!0);
v.appendChild(o._);o.P("click",this.aE9,this);this.WE.push(J);this.aqE.push(o)}B.A1(this.body);this.aE3=new bj("Browse scores",!1,null,!0);
var R=this.aE3._;this.body.appendChild(R);this.aE3.P("click",this.abD,this);B.L(R,"position:absolute;top:100px;left:10px;");
this.awF=new bj("Tweet your score!",!1,null,!0);var R=this.awF._;this.body.appendChild(R);this.awF.P("click",this.abD,this);
B.L(R,"position:absolute;top:100px;right:10px;");this.ai=B.l("div","scrollable");this.body.appendChild(this.ai);
this.ai.style.height="160px";this.HP=[];this.ahd=0;this.abW=this.aix.bind(this);this.aqO()}iM.prototype=new kX;
iM.prototype.abD=function(J){var v=iM.sf,x;if(J.target==this.aE3){x="https://twitter.com/hashtag/peamark?f=live"}else{var o=v[v.length-1];
if(Math.min(o[2],o[3])==0){alert("Run both tests first.");return}x="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+o[2]+"/"+o[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(x,"_blank")};
iM.prototype.aE9=function(J){var v=this.aqE.indexOf(J.target),x=1024,o=1024,R=new jj(0,0,x,o),r=this.abW;
if(v==0){var l=g.C(R.o());for(var M=0;M<o;M++)for(var P=0;P<x;P++)l[M*x+P]=((M>>>7)+(P>>>7)&1)*255;this.HP=[v,l,x,o];
for(var h=0;h<4;h++)r(!0)}else if(v==1){var S=g.C(R.o()*4),c=gi.Et(1,x,o);c.set(S);g.SX(S,4278190335);
var b=gi.Et(0,x,o);b.set(S);var w=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],U={e:gi.filter.aBc,Mv:new Float32Array([1/x,1/o]),amK:0,mS:20,af$:new Float32Array([0,1]),aqV:new Float32Array([0,0,0]),a9E:new Float32Array(w),a2V:new Float32Array(w)};
this.HP=[v,U,S,b,c];r(!0)}else{if(this.a8f){alert("Close all documents before running this test.");return}this.HP=[v,[]];
r(!0)}this.a7g=[[0,0],[0,0],[0,0]];this.ahd=Date.now();setTimeout(this.abW,20)};iM.prototype.aix=function(J){var v=this.HP,x=v[0],o=Date.now(),l=!1,M;
if(x==0){g.style.Fa(v[1],v[2],v[3])}else if(x==1){gi.DM(v[4]);gi.filter.I7(v[1],v[3].qb);v[4].get(v[2])}if(J)return;
var R=Date.now()-o,r=this.a7g[x];r[0]+=R;r[1]++;if(x<2){var P=[26,73];M=Math.round(1e3*P[x]/(r[0]/r[1]));
var S=(Date.now()-this.ahd)/5e3,l=S>1;this.dn[x].style.width=Math.min(100,S*100)+"%"}else{var c=128*(1<<20);
try{var b=new Uint8Array(c);b.fill(117);v[1].push(b)}catch(gw){l=!0;this.HP=null;alert("finished")}M=(v[1].length*c/(1<<30)).toFixed(2)+" GB"}this.WE[x].textContent=M;
if(!l)setTimeout(this.abW,20);else{var w=iM.sf;w[w.length-1][2+x]=M;this.aqO()}};iM.prototype.aqO=function(){var J=this.ai,x="",o=" style=\"text-align:right; width:4em;\">";
B.wp(J);var v=iM.sf.slice(0);v.sort(function(P,S){return 1e3*(S[2]-P[2])+(S[3]-P[3])});var R="<td"+o,r="<th"+o;
for(var h=0;h<v.length;h++){var l=v[h],M=null;if((h&1)==0)M="rgba(255,255,255,0.05)";if(l[1]=="Your Device")M="rgba(255,255,0,0.2)";
x+="<tr style=\""+(M?" background-color:"+M:"")+"\"><td>"+l[1]+"</td>"+R+l[2]+"</td>"+R+l[3]+"</td></tr>"}J.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th style=\"width:13.7em;\">Device</th>"+r+"CPU</th>"+r+"GPU</th></tr>"+x+"</table>"};
iM.prototype.Q4=function(J,v,x,o){this.a8f=J!=null};iM.sf=[[0,"Ryzen 9 7900X + RTX 3080 Ti",1411,13059],[0,"Raspberry Pi 5",370,17],[0,"Raspberry Pi 400",150,6],[1,"Ryzen 7 5700U",1e3,1e3],[1,"MacBook Air 2017",539,367],[1,"MacBook Pro M1",1394,1856],[1,"MacBook Air M1",1273,971],[2,"iPad Air 4th Gen",1386,386],[3,"iPhone 15 Pro",1700,934],[3,"iPhone 13 Pro Max",1476,556],[3,"iPhone SE 2020",1180,303],[3,"Google Pixel 6a",830,638],[3,"Sony Xperia 1 II",410,720],[3,"iPhone 11",827,207],[3,"LG G4 (2015)",111,87],[3,"Google Nexus 7 2013",48,36],[0,"Your Device",0,0]];
function j6(){kX.call(this,"Measurement Scale","measscale");var J=B.l("div","form label8");J.style.width="300px";
this.body.appendChild(J);var v=this.v3=[new ir("Pixel Length"),new ir("Logical Length"),new ir("Unit Name"),new aT("Hi")];
for(var h=0;h<4;h++){var x=v[h];x.P(j.E.n,this.hK,this);J.appendChild(x._)}this.jc=B.iY(this,J)}j6.prototype=new kX;
j6.prototype.z$=function(J,v){return new aG(Math.max(0,Math.min(150,(J-250)/2)),Math.max(0,Math.min(150,(v-120)/2)))};
j6.prototype.hK=function(J){var v=this.v3;v[3].q(v[0].s()+" pixels = "+v[1].s()+" "+v[2].s())};j6.prototype.jB=function(J){var v=this.v3,x=[];
for(var h=0;h<3;h++)x.push(v[h].s());x[0]=parseFloat(x[0]);x[1]=parseFloat(x[1]);var o=new dd(j.E.G,!0);
o.J=H.rJ;o.data={R:"unit",K:x};this.a(o);this.close()};j6.prototype.d=function(){kX.prototype.d.call(this);
var J=this.v3;for(var h=0;h<J.length;h++)J[h].d()};j6.prototype.Q4=function(J,v){var x=this.v3;x[0].q(Math.round(v.XV));
if(J.Vj){var o=J.Vj.T.v;console.log(o);x[1].q(o.logicalLength.v);x[2].q(o.logicalUnits.v)}else{x[1].q(1);
x[2].q("unitName")}this.hK()};function gB(J,v,x,o){aJ.call(this);this.name=J;this.aj5=x;this.G7=o;this.aP=B.l("div","");
this.aP.setAttribute("draggable","true");this.Kp=B.l("div","pbody");this.f$=new bj("",!1,"");this.f$.parent=this;
this.akN=B.l("span","cross gsicon");this.zO=B.l("span","label");var R=this.a4$.bind(this);this.aP.addEventListener("mousedown",this.z9.bind(this),!1);
this.aP.addEventListener("contextmenu",R,!1);this.f$._.addEventListener("contextmenu",R,!1);this.akN.addEventListener("mousedown",this.zW.bind(this),!1);
this.aP.appendChild(this.zO);if(v)this.aP.appendChild(this.akN);this.zr=!1;this.zO.textContent=J}gB.prototype=new aJ;
gB.prototype.Hi=function(){return null};gB.prototype.d=function(){var J=ea.get(this.name),v=!1,x=this.BK==0?22:Math.round(2+this.BK/50);
if(J.endsWith(" *")){v=!0;J=J.slice(0,J.length-2);x-=2}var o=J.length>x;this.zO.textContent=o?J.slice(0,x-2):J;
this.aP.setAttribute("title",J);if(o)for(var R=0;R<2;R++){var r=B.l("span");r.textContent=J.charAt(x-2+R);
B.L(r,"opacity:"+(.6-R*.4));this.zO.appendChild(r)}if(v){var r=B.l("span");r.textContent=" *";this.zO.appendChild(r)}var l=J.split(" "),M=l.length==2?l[0].substring(0,2)+l[1][0]:J.substring(0,3);
if(M.charCodeAt(0)>=11776)M=M.substring(0,1);var P=this.aj5;if(P==null)this.f$.f_(M,J);else{var S;if(P.startsWith("---"))S="<img src=\""+PIMG[P.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(P.startsWith("==="))S="<img src=\""+P.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(P.indexOf("\"")==-1)S="<img src=\""+P+"\" alt=\""+B.Mg(J).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.f$.f_(S,J)}};gB.prototype.enable=function(){this.Kp.className="pbody"};gB.prototype.disable=function(){this.Kp.className="pbody disabled"};
gB.prototype.pJ=function(J,v){};gB.prototype.Q4=function(J,v,x){};gB.prototype.Mo=function(J){};gB.prototype.qe=function(J,v){};
gB.prototype._1=function(J){this.name=J;this.d()};gB.prototype.dL=function(){};gB.prototype.z9=function(J){if(J.button==0)this.a(new dd("select",!1));
if(J.button==1)this.DI()};gB.prototype.a4$=function(J){B.Ib(J);if(this.G7!=null&&isNaN(this.G7))return;
var v=B.C2(J,document.body),x=this.ayE;if(x==null){x=this.ayE=new kM([{name:[1,12,0]},{name:"Close All"},{name:"Close Others"}]);
this.ayE.P("select",this.ate,this)}x.update(null);x.d();x.parent=this;var o=new dd(j.E.j,!0);o.data={R:j.m.sO,rq:x,x:v.x+1,y:v.y+1};
this.a(o)};gB.prototype.DI=function(){if(this.G7!=null&&!isNaN(this.G7)){var J=new dd(j.E.j,!0);J.data={R:j.m.y2,rq:this.ayE};
this.a(J);J.data={R:j.m.Qq,Fu:cj.u$,K:parseFloat(this.G7),pG:"del"};this.a(J)}else if(this.aed())this.a(new dd(j.E.D_,!1))};
gB.prototype.aed=function(J){return!0};gB.prototype.zW=function(J){if(J.stopPropagation)J.stopPropagation();
this.DI()};gB.prototype.ate=function(J){var h=J.target.hA()[0];if(h==0)this.DI();else{var v=new dd(j.E.D_,!1);
v.data=h-1;this.a(v)}};gB.prototype._N=function(J,v,x,o,R){};gB.prototype.kq=function(J,v,x,o,R){};gB.prototype.ER=function(J,v,x,o,R){};
gB.kB=function(J,v,x){if(J.childElementCount!=0)return;var o=J.textContent;this.oe=this.aat.bind(this);
this.a6$=this.aCH.bind(this);this.Uc=v;this.auQ=x;this.hI=J;this.aCQ=o;var R=B.l("input","");R.setAttribute("type","text");
R.setAttribute("size","10");R.setAttribute("value",o);B.wp(J);J.appendChild(R);R.select();R.focus();
B.Mb(J);J.addEventListener("keyup",this.oe,!1);document.body.addEventListener("mousedown",this.a6$,!1)};
gB.kB.prototype.aat=function(J){var v=gw.oq,x=v(J.code,gw.O9);if(v(J.code,gw.T1)||x)this.aim(x)};gB.kB.prototype.aCH=function(J){var v=J.target;
if(v.tagName&&v.tagName.toLowerCase()=="input")return;this.aim(!0)};gB.kB.prototype.aim=function(J){var v=this.hI,x=v.firstChild.value;
v.removeEventListener("keyup",this.oe);document.body.removeEventListener("mousedown",this.a6$);if(this.auQ||J&&x!=""&&x!=this.aCQ){this.Uc(x)}else{B.wp(v);
v.textContent=this.aCQ}};gB.m_=function(){return[0,1,2,3,5,6,7,9,10,16,17,100]};gB.avV=function(J){var v=gB.m_(),x=[];
for(var h=0;h<J.length;h++)if(v.indexOf(J[h])==-1)x.push(J[h]);for(var h=0;h<v.length;h++)if(J.indexOf(v[h])==-1)x.push(-v[h]);
return x};gB.ax8=function(J){var v=gB.m_();for(var h=0;h<J.length;h++){var x=J[h],o=v.indexOf(x);if(o==-1)o=v.indexOf(-x);
if(0<=x&&o==-1)v.push(x);if(x<0&&o!=-1)v.splice(o,1)}return v};gB.mL={iI:"0",atk:"1",wu:"2",a3S:"3",aAt:"4",eV:"5",CSS:"6",kN:"7",aj8:"8",aHK:"9",a81:"10",aom:"11",aIu:"12",Zl:"13",jZ:"14",aw_:"15",axu:"16",kD:"17",a0x:"18",aI8:"19",a5F:"20",NY:"21",aEu:"22",aiQ:"23",aHC:"24",adv:"25",aa2:"26"};
function hL(){gB.call(this,[9,9],!1,"---panels/actions",gB.mL.aom);this.f=null;this.Y9=[0,0]}hL.prototype=new gB("");
hL.prototype.RQ=function(){if(!B.yn(this.Kp))return;if(this.DP){this._t();return}this.DP=B.l("div","padded scrollable");
B.L(this.DP,"width:260px;  height:260px");this.Kp.appendChild(this.DP);this.P(j.E.n,this.H8,this);this.XK=B.l("div","lpfoot");
this.Kp.appendChild(this.XK);this.ah=[];var J="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",v="</svg>",x=J+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+v,o=J+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+v;
this.auc=J+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+v;this.a7Q=J+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+v;
var R=[this.auc,o,"lrs/folder","lrs/newlayer","lrs/bin",x],r=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var h=0;h<R.length;h++){var l=R[h];if(1<h&&h!=R.length-1)l="<img src=\""+PIMG[R[h]]+"\" class=\"miniscale gsicon\" />";
var M=new bj(l,!1,r[h]);M.P("click",this.Kl,this);this.XK.appendChild(M._);this.ah.push(M)}this._t()};
hL.prototype.d=function(){gB.prototype.d.call(this);if(this.DP==null)return;for(var h=0;h<this.ah.length;
h++)this.ah[h].d()};hL.prototype.Kl=function(J){var h=this.ah.indexOf(J.currentTarget),v=this.Y9,x=this.f,o=x.L4;
if(h==0){var R,r=x.Ae;if(o.length==0){alert("Create an Action Set first.");return}if(v.length<2){alert("Select a target action first.");
return}if(r==null){R=this.a7Q;r=this.Y9}else{R=this.auc;r=null}this.ah[0].f_(R);x.Ae=r}else if(h==1)this.adB();
else if(h==2||h==3){var l={hX:"Action Set "+o.length,SU:[],exp:!0};if(h==2||o.length==0){v=[o.length];
o.push(l)}if(h==3){var M=o[v[0]].SU;v=[v[0],M.length];M.push({hX:"Action "+M.length,color:0,SU:[],adu:!1,shift:!1,exp:!0,Vn:M.length})}this.Y9=v;
this._t()}else if(h==4){var P;if(v.length==1)P=o;else if(v.length==2)P=o[v[0]].SU;else P=o[v[0]].SU[v[1]].SU;
var S=v.length-1;P.splice(v[S],1);if(P.length==0)v.pop();else while(v[S]>=P.length)v[S]--;if(v.length==0)v.push(0);
this._t()}else if(h==5){if(o.length==0){alert("No Actions Present.");return}var c=new dd(j.E.j,!0);c.data={R:j.m.oH,axA:cj.G,xH:v[0]};
this.a(c)}};hL.prototype.H8=function(J){var v=this.f.L4,x=J.data.R,o=J.data.cZ;if(x=="sel")this.Y9=o;
if(x=="fold"){if(o.length==1)v[o[0]].exp=!v[o[0]].exp;else v[o[0]].SU[o[1]].exp=!v[o[0]].SU[o[1]].exp}if(x=="enab"){var R=v[o[0]].SU[o[1]].SU[o[2]];
R.i=!R.i}if(x=="nchange"){if(o.length==1)v[o[0]].hX=J.data.yU;else v[o[0]].SU[o[1]].hX=J.data.yU}this._t()};
hL.prototype.Q4=hL.prototype.dL=function(){this.RQ()};hL.prototype.pJ=function(J,v){this.f=J;if(this.DP==null)return;
if(v==cj.G||v==cj.q6)this._t()};hL.prototype._t=function(){if(this.f==null)return;B.wp(this.DP);var J=this.f.L4;
if(J.length==0)return;var v=JSON.stringify(this.Y9);for(var h=0;h<J.length;h++){var x=J[h],o=new hL.fu([h],v,x.exp,x.hX.split("=").pop());
o.parent=this;this.DP.appendChild(o._);if(!x.exp)continue;for(var R=0;R<x.SU.length;R++){var r=x.SU[R],o=new hL.fu([h,R],v,r.exp,r.hX.split("=").pop());
o.parent=this;this.DP.appendChild(o._);if(!r.exp)continue;for(var l=0;l<r.SU.length;l++){var M=r.SU[l],o=new hL.fu([h,R,l],v,null,ea.get(kj.aul(M)),M.i);
o.parent=this;this.DP.appendChild(o._)}}}};hL.prototype.adB=function(){var J=this.f.L4,v=this.Y9;if(J.length==0){alert("No Actions Present");
return}if(v.length==1){alert("Select an Action first");return}if(this.f.Ae!=null){alert("You can not apply actions while recording actions");
return}if(v.length==1)v.push(0);var x=J[v[0]],o=x.SU[v[1]],R=new dd(j.E.j,!0);R.data={R:j.m.xa,Yk:[o.hX,x.hX]};
this.a(R)};hL.fu=function(J,v,x,o,R){aJ.call(this);this.cZ=J;var r=this.cZ.length-1;this._=B.l("div","layeritem"+(JSON.stringify(J)==v?" selected":""));
this.wI=B.l("div","head");this._.appendChild(this.wI);B.L(this.wI,"height:24px");this.wG=B.l("div","headL");
this.wI.appendChild(this.wG);if(r!=0){var l=B.l("div");l.style.width=r*20+"px";this.wG.appendChild(l)}if(x!=null){var M=this.acU=B.l("div",x?"open":"closed");
this.wG.appendChild(M)}else{var P=this.adr=B.l("div","cmark");B.L(P,"background-size:12px 12px; opacity:"+(R?1:.3));
this.wG.appendChild(P)}if(r==0){var S=B.l("div","folder");this.wG.appendChild(S)}var c=this.zO=B.l("div","label");
c.textContent=o;this.wG.appendChild(c);this._.addEventListener("mouseup",this.E$.bind(this),!1)};hL.fu.prototype=new aJ;
hL.fu.prototype.E$=function(J){if(J.detail==1&&J.target.tagName.toLowerCase()!="input"){var v="sel";
if(J.target==this.acU)v="fold";if(J.target==this.adr)v="enab";var x=new dd(j.E.n,!0);x.data={R:v,cZ:this.cZ};
this.a(x)}else if(this.cZ.length<3)var o=new gB.kB(this.zO,this.Uc.bind(this))};hL.fu.prototype.Uc=function(J){var v=new dd(j.E.n,!0);
v.data={R:"nchange",yU:J,cZ:this.cZ};this.a(v)};function az(){gB.call(this,[3],!1,"---lrs/adj",gB.mL.a0x)}az.prototype=new gB("");
az.prototype.RQ=function(){if(!B.yn(this.Kp)||this.ah)return;B.L(this.Kp,"text-align:center;  padding:6px; min-width:220px");
this.ah=[];var h=0;for(var J in kC.names){var v=new bj("<img src=\""+PIMG["adj/"+J]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,kC.names[J]);
v.P("click",this.Rr,this);this.ah.push(v);this.Kp.appendChild(v._);if(h==4||h==10)B.A1(this.Kp);h++}this.d()};
az.prototype.Q4=function(){this.RQ()};az.prototype.dL=function(){this.RQ()};az.prototype.d=function(){gB.prototype.d.call(this);
if(this.ah==null)return;for(var h=0;h<this.ah.length;h++)this.ah[h].d()};az.prototype.Rr=function(J){var v=this.ah.indexOf(J.target),x=k8.Hh()[v],o=new dd(x.A,!0);
o.data=x.p;this.a(o)};function cD(){gB.call(this,[12,22],!1,null,gB.mL.NY);this.DP=B.l("div","padded");
this.f=null;this.Kp.appendChild(this.DP);this.GO=new dU(null,17.7,10);this.GO.parent=this;this.GO.P(j.E.n,this.nE,this);
this.DP.appendChild(this.GO.tY)}cD.prototype=new gB("");cD.prototype.nE=function(J){var v=this.GO.s(),x=new dd(j.E.G,!0);
x.data={R:"setstl",K:v.x0};x.J=H.Ar;this.a(x);x.data={R:"confirm"};this.a(x)};cD.prototype.pJ=function(J,v){this.f=J;
this._t()};cD.prototype._t=function(){var J=this.f;if(J==null)return;this.GO.CN([J.yX,J.HZ]);this.GO.qe()};
cD.prototype.Q4=function(){this._t()};cD.prototype.dL=function(){this._t()};var bt=function(){function J(){gB.call(this,[9,3],!1,"---panels/brush",gB.mL.kN);
this.Kf=null;this.f=null}J.prototype=new gB("");J.prototype.RQ=function(){var R=B.l("div","");this.Kp.appendChild(R);
this.VF=B.l("div","bordered cell");B.L(this.VF,"width:10em; height:28.5em;");R.appendChild(this.VF);
this.Ho=[];this.auu=null;this.Sz=[];var r=this.a8a.bind(this);this.ST=[new x("basic"),new x("useTipDynamics"),new x("useScatter"),new x("useColorDynamics"),new x("usePaintDynamics")];
for(var h=0;h<this.ST.length;h++){var l=B.l("div","listitem"),M=this.ST[h],S=null;M.parent=this;M.P("brushchange",this.asW,this);
var P=M.v5;if(h==0){this.auu=new aT(P);l.appendChild(this.auu._)}else{S=new a9(P,!1);S.P(j.E.n,this.ame,this);
l.appendChild(S._)}this.Sz.push(S);this.VF.appendChild(l);this.Ho.push(l);l.addEventListener("click",r,!1)}this.Wr=B.l("div","cell padded");
R.appendChild(this.Wr);this.setItem(0);this.W0=B.l("canvas");this.W0.height=10;R.appendChild(this.W0);
this.zJ=this.W0.getContext("2d");this.f7()};J.prototype.qe=function(R,r){if(this.BK==R)return;this.BK=R;
this.mq=r;this.f7()};J.prototype.dL=function(){if(!B.yn(this.Kp))return;if(this.VF){this.f7();return}this.RQ();
this.d();this.pJ(this.f,cj.q6)};J.prototype.d=function(){gB.prototype.d.call(this);if(this.VF==null)return;
this.auu.d();for(var h=1;h<this.Sz.length;h++)this.Sz[h].d();for(var h=0;h<this.ST.length;h++)this.ST[h].d()};
J.prototype.asW=function(R){var r=this.ST.indexOf(R.currentTarget),l=g.F(this.ST[r].Kf),M=new dd(j.E.j,!0);
M.data={R:j.m.Qq,Fu:cj.gP,Kf:l};this.a(M)};J.prototype.ame=function(R){this.aj9(this.Sz.indexOf(R.currentTarget),R.currentTarget.G8())};
J.prototype.a8a=function(R){var h=this.Ho.indexOf(R.currentTarget);if(R.target.tagName.toLowerCase()=="input")return;
if(this.Sz[h]&&!this.Sz[h].G8()){this.Sz[h].$I();this.aj9(h,!0)}this.setItem(h)};J.prototype.aj9=function(R,r){this.ST[R].apW(r)};
J.prototype.setItem=function(R){for(var h=0;h<this.ST.length;h++)this.Ho[h].className="listitem";if(this.Wr.firstChild)this.Wr.removeChild(this.Wr.firstChild);
this.Ho[R].className="listitem selected";this.Wr.appendChild(this.ST[R]._)};J.prototype.pJ=function(R,r){this.f=R;
if(this.VF==null)return;for(var h=0;h<this.ST.length;h++)this.ST[h].pJ(R,r);if(r==cj.gP||r==cj.q6){this.Kf=R.DK.YH;
this.f7()}if(r==cj.Zl)this.f7()};J.prototype.f7=function(){if(this.Kf)this.enable();else{this.disable();
return}if(!B.yn(this.Kp))return;var R=this.f;for(var h=0;h<this.ST.length;h++){this.ST[h].q(this.Kf);
if(this.Sz[h])this.Sz[h].q(this.ST[h].G8())}var r=g.F(this.Kf);r.Brsh.v.Dmtr.v.val=Math.min(r.Brsh.v.Dmtr.v.val,50);
B.QH(this.W0,this.BK,80);var l=new jj(0,0,this.W0.width,this.W0.height),M=this.f.DK,P=new ix(r,M?M.En:null,M?M.pm:null,{xR:1},R.P4,R.Vb,l,null,0),S=l.$/2,c=l.r-S*2;
P.moveTo(S,S);for(var h=0;h<=c;h+=10)P.lineTo(S+h,S+20*Math.sin(2*Math.PI*h/c));P.finish();var b=new ImageData(l.r,l.$);
g.sW(P.Hl(),P.ca(),b.data,l);this.zJ.putImageData(b,0,0)};function v(R){aJ.call(this);R=R.split(".")[0];
this.j$=R;var r=this._=B.l("span"),l=["Off","Fade"];l.push(R=="angleDynamics"?"Direction":"Pen Pressure");
var M=this.lB=new dp("Control",l);M.P(j.E.n,this.hK,this);r.appendChild(M._);var P=this.apx=new fL(null,0,100,null,null,null,!0);
P.q(50);P.P(j.E.n,this.hK,this)}v.prototype=new aJ;v.prototype.q=function(R){R=R<2?R:2;this.lB.q(R);
this._t()};v.prototype.s=function(){var R=this.lB.s(),r=this.j$;R=R<=1?R:r=="angleDynamics"?6:2;return R};
v.prototype.hK=function(R){this._t();R.target=R.currentTarget=this;this.a(R)};v.prototype._t=function(R){this.apx.Ne(this.lB.s()==1)};
function x(R){aJ.call(this);this._=B.l("div");this.Kf=null;var r=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(R);
this.v5=[[15,0],[15,1],[15,2],[15,3],"Transfer"][r];this.I4=R;this.uD={};this.asi=null;var l=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][r];
for(var h=0;h<l.length;h++){var M=l[h],P;if(M=="--br"){P=new fP;this._.appendChild(P.tY.firstChild)}else if(M=="Brsh.Dmtr")P=new jL([12,14,0],1,1e3," px",0,!0);
else if(M=="Brsh.Angl")P=new jL([12,15],0,359," \xB0");else if(M=="Brsh.Rndn")P=new jL([12,16],0,100," %");
else if(M=="Brsh.Hrdn")P=new jL([12,17],0,100," %");else if(M=="Brsh.Spcn")P=new jL([12,18],1,300," %");
else if(M=="szVr.jitter")P=new jL([15,4,0],0,100,"%");else if(M=="minimumDiameter")P=new jL([15,4,1],0,100,"%");
else if(M=="angleDynamics.jitter")P=new jL([15,4,2],0,100,"%");else if(M.endsWith("bVTy"))P=new v(M);
else if(M.endsWith("fStp"))P=new fL(null,0,100,null,null,null,!0);else if(M=="roundnessDynamics.jitter")P=new jL([15,4,3],0,100,"%");
else if(M=="minimumRoundness")P=new jL([15,4,4],1,100,"%");else if(M=="scatterDynamics.jitter")P=new jL([15,5,0],0,1e3," %");
else if(M=="Cnt")P=new jL([15,5,1],1,20);else if(M=="countDynamics.jitter")P=new jL([15,5,2],0,100," %");
else if(M=="clVr.jitter")P=new jL([15,6,0],0,100," %");else if(M=="H")P=new jL([15,6,1],0,100," %");
else if(M=="Strt")P=new jL([15,6,2],0,100," %");else if(M=="Brgh")P=new jL([15,6,3],0,100," %");else if(M=="opVr.jitter")P=new jL("Opacity Jitter",0,100," %");
else if(M=="prVr.jitter")P=new jL("Flow Jitter",0,100," %");else throw M;this.uD[M]=P;P.parent=this;
P.P(j.E.n,this.hK,this)}}x.prototype=new aJ;x.prototype.aHR=function(){this.a(new dd("brushchange"))};
x.prototype.q=function(R){this.Kf=g.F(R);this._.className=this.G8()?"":"disabled";this.f7()};x.prototype.d=function(){for(var R in this.uD)this.uD[R].d()};
x.prototype.G8=function(){return!0};x.prototype.pJ=function(R,r){if(r==cj.kN||r==cj.q6){var l=this.uD["--br"];
if(l)l.CN(R.DK)}};x.prototype.hK=function(R){var r=R.target,l=this.uD,M;for(var P in l)if(l[P]==r)M=P;
if(M=="--br"){var S=new dd(j.E.j,!0);S.data={R:j.m.Qq,Fu:cj.gP,Kf:r.s()};this.a(S)}else{var c=o(this.Kf,M),b=r.s();
if(c){if(M.endsWith("bVTy")||M.endsWith("fStp")||M=="Cnt")c.v=b;else c.v.val=b;this.aHR()}}};x.prototype.f7=function(){var R=this.Kf,r=R.Brsh.v.classID,l=this.uD,M=r!=this.asi;
this.asi=r;if(M){B.wp(this._);for(var P in l){if(r!="computedBrush"&&r!="sampledBrush"&&P=="Brsh.Rndn")continue;
if(r!="computedBrush"&&P=="Brsh.Hrdn")continue;var S=l[P],c=S._;if(P=="--br"){c=S.ov._;c.style.width="auto"}this._.appendChild(c)}}for(var P in l){if(P=="--br")continue;
var b=o(R,P),w;if(b){if(P.endsWith("bVTy")||P.endsWith("fStp")||P=="Cnt")w=b.v;else w=b.v.val;l[P].q(w);
if(P.endsWith("fStp"))l[P].Ne(o(R,P.split(".")[0]+".bVTy").v==1)}}};x.prototype.G8=function(){var R=this.I4;
return R=="basic"?!0:this.Kf[R].v};x.prototype.apW=function(R){var r=this.I4;if(r=="basic")return;this.Kf[r].v=R;
br.PX.aCq(this.Kf);this.aHR()};function o(R,r){var l=r.split(".");R=R[l[0]];for(var h=1;h<l.length;h++){if(R==null)return R;
R=R.v[l[h]]}return R}return J}();function gE(){gB.call(this,[9,0],!1,"---panels/history",gB.mL.iI);B.L(this.Kp,"min-width:200px;");
this.qX=B.l("div","hpbody scrollable");this.qX.style.height="160px";this.Kp.appendChild(this.qX);this.alR=-1;
this.a7w=[];this.S_="";this.Vf=new kM([{name:"Clear History"}],[{A:j.E.G,J:H.iI,p:{R:"h_clear"}}])}gE.prototype=new gB("");
gE.prototype.Hi=function(){return this.Vf};gE.prototype.qe=function(J,v){this.dL()};gE.prototype.Q4=function(J){if(J==null){B.wp(this.qX);
this.S_="";return}B.wp(this.qX);var v=0;for(var h=0;h<J.history.length;h++)if(h<=J.wb&&!J.history[h].ww)v=h;
for(var h=0;h<J.history.length;h++){var x=J.history[h];if(x.ww)continue;var o=new iK(x,h,v);o.parent=this;
this.qX.appendChild(o._);this.a7w.push(o)}if(J.wb==J.history.length-1)this.dL()};gE.prototype.dL=function(){this.qX.scrollTop=this.qX.scrollHeight};
gE.prototype.d=function(){gB.prototype.d.call(this);for(var h=0;h<this.a7w.length;h++)this.a7w[h].d()};
function iK(J,h,v){aJ.call(this);this.index=h;this._=B.l("div",h==v?"listitem selected":"listitem");
this.Gc=J.name;this.d();if(h>v)this._.style.opacity=.4;this._.addEventListener("click",this._N.bind(this),!1)}iK.prototype=new aJ;
iK.prototype.d=function(){this._.textContent=ea.get(this.Gc)};iK.prototype._N=function(J){if(this.index==this.parent.alR)return;
this.PE({R:"h_itemchange",index:this.index})};iK.prototype.PE=function(J){var v=new dd(j.E.G,!0);v.data=J;
v.J=H.iI;this.a(v)};function jq(){gB.call(this,[9,10],!1,"---panels/histogram",gB.mL.aAt);var J=B.l("div","padded");
this.Kp.appendChild(J);this.kw=new jy(256,!0);J.appendChild(this.kw._);this.U8=null}jq.prototype=new gB("");
jq.prototype.Q4=function(J){this.U8=J;this._t()};jq.prototype._t=function(){var J=this.U8;if(!B.yn(this.Kp))return;
if(J==null||J.Y.length==0){this.kw.q(g.n7(g.C(4)));return}var v=J.rv(),x=new jj(0,0,J.r,J.$),o=x.o();
if(J.g){var R=J.g.S,r=g.C(R.o()*4);g.sW(v,x,r,R);g.xh(J.g.N,r);v=r;x=R;var l=J.g.N;o=0;for(var h=0;h<l.length;
h++)o+=l[h];o=Math.round(o/255)}var M=g.n7(v);M[0][255]+=3*(o-M[5]);for(var h=1;h<4;h++)M[h][255]+=o-M[5];
this.kw.q(M,o)};jq.prototype.pJ=function(J,v){this.kw.VR(k$.Ga[J.Lh]["--text-color"])};jq.prototype.d=function(){gB.prototype.d.call(this);
this.kw.d()};jq.prototype.dL=function(){this._t()};function jS(){gB.call(this,[9,8],!1,"---adj/clrL",gB.mL.atk);
this.DP=B.l("div","padded");this.Kp.appendChild(this.DP);this.CQ=new dx(10);this.DP.appendChild(this.CQ._);
this.Vm=new cE;this.Vm.parent=this;this.DP.appendChild(this.Vm.tY);this.Vm.tY.style.marginTop="6px";
this.CQ.P(j.E.n,this.ais,this);this.Vm.P(j.E.n,this.ais,this)}jS.prototype=new gB("");jS.prototype.ais=function(J){var v;
if(J.target==this.CQ)v=this.CQ.s();else{var x=this.Vm.s();v=g.c7(x)}var o=new dd(j.E.j,!0);o.data={R:j.m.Qq,Fu:cj.Zl,Uq:0,K:v};
this.a(o)};jS.R4=function(J,v){var x=v==cj.q6,o=J.yo,R=J.IZ,r=R.strokeStyleContent.v,l=null;if((v==cj.km||x)&&o.It==1){l=g.UH.Eb(o.BD.Clr.v);
l=l.z<<16|l.H<<8|l.c}if((v==cj.PV||x)&&R.strokeEnabled.v&&r.classID=="solidColorLayer"){l=g.UH.Eb(r.Clr.v);
l=l.z<<16|l.H<<8|l.c}if(v==cj.Zl||x)l=J.P4;return l};jS.prototype.pJ=function(J,v){var x=J.P4,o=v==cj.q6,R=jS.R4(J,v);
if(R!=null){this.CQ.q(R);this.Vm.q({z:R>>>16&255,H:R>>>8&255,c:R>>>0&255,Pi:"Default/Color #"+g.q2(R)})}if(v==cj.g0||o){var r=J.amr;
this.Vm.CN(r)}};jS.prototype.qe=function(J,v){this.Vm.tY.children[0].style.width=J-32+"px"};function hm(){gB.call(this,[12,72],!1,"---adj/mixr",gB.mL.axu);
this.jn=null;this.qE=null;this.qX=B.l("div","lpbody scrollable");this.qX.style.marginTop="4px";this.XK=B.l("div","lpfoot");
this.Kp.appendChild(this.qX);this.Kp.appendChild(this.XK);this.a0_=[];this.P("click",this.Eh,this);this.cq=[];
hm.pj([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.cq,this.XK,this.cr.bind(this),this.hE.bind(this));
this.Vf=new kM([{name:"Merge Channels",U6:!0}],[{A:j.E.j,p:{R:j.m.wz,kA:"mergechannels"}}])}hm.prototype=new gB("");
hm.prototype.Hi=function(){return this.Vf};hm.pj=function(J,v,x,o,R){for(var h=0;h<J.length;h++){var r=new bj("W",!1,J[h]);
v.push(r);B._A(r._,o);x.appendChild(r._);var l=r._;l.addEventListener("drop",R,!1);l.addEventListener("dragover",function(M){M.preventDefault()},!1);
l.addEventListener("dragenter",B.Ib,!1)}};hm.cp=function(J,v){for(var h=0;h<J.length;h++)if(J[h]._==v.currentTarget)return h};
hm.prototype.cr=function(J){var v=hm.cp(this.cq,J);if(v==0)this.a(gQ.$O(!0,null,J));else{v--;var x=new dd(j.E.aT,!0),o={classID:"null"};
if(v==0)o.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(v==1)o.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else o.null=kj.RS("Chnl",!0);x.data={QI:["duplicate","make","delete"][v],_g:o};this.a(x)}};hm.prototype.hE=function(J){var v=hm.cp(this.cq,J);
if(v==2){var x=new dd(j.E.aT,!0),o={classID:"null"};o.null=kj.RS("Chnl",!0);x.data={QI:"duplicate",_g:o};
this.a(x)}else this.cr(J)};hm.prototype.c6=function(h){var J=this.a0_,v=J[h];if(v==null){var x=B.l("canvas");
v=x.getContext("2d");J.push(v)}return v};hm.prototype.Eh=function(J){var v=this.jn.slice(0),x=J.data.Vn,o=v[0]+v[1]+v[2],R=this.qE;
if(-5<x&&x<0){var r=-x-1;if(J.data.bT){if(r==0)v=o==3?[0,0,0]:[1,1,1];else{if(v[r-1]==0)v[r-1]=1;else if(!0)v[r-1]=0}}else{if(r==0)v=[1,1,1];
else{v=[0,0,0];v[r-1]=1}for(var h=0;h<R.ac.length;h++)R.ac[h].nX=!1;R.Dk=[]}var l=new dd(j.E.G,!0);l.J=H.Ji;
l.data={R:"setcls",xY:v};this.a(l);return}if(-1<x){var M=R.k[x],P=M.kG==1?M.q9():M.V0(R).pR;if(J.data.bT)P.nX=!P.nX;
else{for(var h=0;h<R.ac.length;h++)R.ac[h].nX=!1;R.Dk=[]}}else{var S=-x-5,P=R.ac[S];if(J.data.bT)P.nX=!P.nX;
else{for(var h=0;h<R.ac.length;h++)R.ac[h].nX=!1;P.nX=!0;R.Dk=[S];if(o!=0){var l=new dd(j.E.G,!0);l.J=H.Ji;
l.data={R:"setcls",xY:[0,0,0]};this.a(l)}}}R.ms=R.Se=!0};hm.prototype.dL=function(){this.CL()};hm.prototype.Q4=function(J){this.qE=J;
this.CL()};hm.prototype.CL=function(){var J=this.qE,v=this.qX,U=4;B.wp(v);if(J==null||!B.yn(v))return;
var x=J.r,o=J.$,R=new jj(0,0,x,o),r=this.jn=J.U.xY.slice(0),l=r[0]+r[1]+r[2],M=Math.round(34*B.rR()),P=M;
if(x>o)P=Math.round(P*o/x);else M=Math.round(M*x/o);var S=["RGB"].concat(kC.EJ);for(var h=0;h<4;h++){var c=this.c6(h);
g.CT.GQ(c,M,P,R,J.rv(),R,!1,h==0?null:h-1);var b=h==0?l==3:r[h-1]==1,w=new gQ(-1-h,!0,!0,c,S[h],b,b);
w.parent=this;v.appendChild(w._);B.Dt(c.canvas)}for(var h=0;h<J.Y.length;h++){var F=J.k[J.Y[h]],Y=F.kG;
if(Y!=1&&Y!=3)continue;var A=Y==1?F.q9():F.V0(J).pR,c=this.c6(U+h);U++;g.CT.Qg(c,M,P,R,A);var w=new gQ(J.Y[h],!0,!0,c,F.getName()+(Y==1?"":" Filter")+" Mask",!0,A.nX);
w.parent=this;v.appendChild(w._);B.Dt(c.canvas)}for(var h=0;h<J.ac.length;h++){var A=J.ac[h],c=this.c6(U+h);
g.CT.Qg(c,M,P,R,A);var w=new gQ(-5-h,!0,A.name=="Quick Mask",c,A.name,J.Dk.indexOf(h)!=-1,A.nX,H.wu,{R:m.WX,Uq:"rnm",Vn:h});
w.parent=this;v.appendChild(w._);B.Dt(c.canvas)}};hm.prototype.qe=function(J,v){this.qX.style.height=v-30-4+"px";
this.qX.style.width=J+"px"};hm.prototype.d=function(){gB.prototype.d.call(this);this.CL();hm.BJ(this.cq,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
hm.BJ=function(J,v,x){var v=iF.gd(v,null,"miniscale");for(var h=0;h<J.length;h++)J[h].f_(v[h],x?x[h]:null)};
function gQ(J,v,x,o,R,r,l,M,P){aJ.call(this);this._=B.l("div");this.arR=J;this.a11=v;this.zJ=o;this.aoz=M;
this.a5L=P;this.wI=B.l("div",r?"head selected":"head");B.L(this.wI,"height: "+40+"px");var S=B.l("div","headL"),c=B.l("div","headR"),b=15;
this._.appendChild(this.wI);this.wI.appendChild(S);this.wI.appendChild(c);this.DC=B.l("div","eye");if(1<B.rR()&&B.rR()<1.5)b=b/B.rR();
B.L(this.DC,"background-size: "+b+"px "+b+"px;");this.DC.style.opacity=l?1:.2;if(v)S.appendChild(this.DC);
this.A_=B.l("div","thumb");if(o)this.A_.appendChild(o.canvas);S.appendChild(this.A_);this.OI=B.l("div","label");
if(x)this.OI.style.fontStyle="italic";this.OI.textContent=ea.get(R);S.appendChild(this.OI);var w=this.wI;
w.setAttribute("draggable","true");w.addEventListener("dragstart",function(U){U.stopPropagation();U.dataTransfer.setData("Text","hello")},!1);
w.addEventListener("drop",B.Ib,!1);B._A(this.wI,this.a83.bind(this));if(!x)this.wI.addEventListener("mouseup",this.aaA.bind(this),!1)}gQ.prototype=new aJ;
gQ.prototype.Uc=function(J){var v=new dd(j.E.G,!0);v.J=this.aoz;v.data=this.a5L;v.data.name=J;this.a(v)};
gQ.prototype.a83=function(J){var v=J.ctrlKey||J.metaKey,x=this.arR;if(v&&J.target==this.zJ.canvas){this.a(gQ.$O(this.a11,x,J))}else{var o=new dd("click",!0);
o.data={Vn:x,bT:J.target==this.DC,v_:v};this.a(o)}};gQ.prototype.aaA=function(J){if(J.detail==2&&J.target==this.OI){var v=new gB.kB(this.OI,this.Uc.bind(this))}};
gQ.$O=function(J,v,x){var o=0;if(x.shiftKey)o++;if(x.altKey)o+=2;var R=new dd(j.E.G,!0);R.J=H.ZT;if(J){if(-5<v&&v<0){R=new dd(j.E.aT,!0);
R.data=H.IE.EW(o,["RGB","Rd","Grn","Bl"][-1-v])}else R.data={R:"fromchannel",Yk:[v,0,o]}}else R.data={R:"frompath",Yk:[v,0,o]};
return R};function i1(){gB.call(this,[8,9],!1,"---panels/paths",gB.mL.kD);this.jn=null;this.qE=null;
this.qX=B.l("div","lpbody scrollable");this.qX.style.marginTop="4px";this.XK=B.l("div","lpfoot");this.Kp.appendChild(this.qX);
this.Kp.appendChild(this.XK);this.Kp.addEventListener("click",this.a5e.bind(this),!1);this.a0_=[];this.P("click",this.Eh,this);
this.cq=[];hm.pj(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.cq,this.XK,this.cr.bind(this),this.hE.bind(this))}i1.prototype=new gB("");
i1.prototype.cr=function(J,v){var x=hm.cp(this.cq,J),o;if(x<2){if(x==1&&J.altKey){o=new dd(j.E.j,!0);
o.data={R:j.m.wz,kA:"strokepath"}}else{o=new dd(j.E.aT,!0);o.data=H.qk.uf(x==0?null:"PbTl")}}else if(x==2)o=gQ.$O(!1,null,J);
else if(x==3){o=new dd(j.E.aT,!0);o.data=H.IE.a6z()}else if(x>3){var o=new dd(j.E.G,!0);o.J=H.ih;o.data={R:"pathedit",Uq:["new","del"][x-4],ax7:v}}this.a(o)};
i1.prototype.hE=function(J){this.cr(J,!0)};i1.prototype.c6=function(h){var J=this.a0_,v=J[h];if(v==null){var x=B.l("canvas");
v=x.getContext("2d");J.push(v)}return v};i1.prototype.a5e=function(J){if(J.target==this.qX){var v=this.qE;
v.GP=[];v.TW=[];v.Se=!0;v.ms=!0}};i1.prototype.Eh=function(J){var v=J.data.Vn,x=this.qE,o=J.data.v_,R=v,r=x.TW,l=x.GP;
if(v<0){R=-1-v;r=x.GP;l=x.TW}if(o){var M=r.indexOf(R);if(M==-1)r.push(R);else r.splice(M,1)}else{while(r.length!=0)r.pop();
while(l.length!=0)l.pop();r.push(R)}x.Se=!0;x.ms=!0};i1.prototype.dL=function(){this.CL()};i1.prototype.Q4=function(J){this.qE=J;
this.CL()};i1.prototype.CL=function(){var J=this.qE,v=this.qX;B.wp(v);if(J==null||!B.yn(v))return;var x=J.r,o=J.$,R=new jj(0,0,x,o),r=this.jn=J.U.xY.slice(0),l=r[0]+r[1]+r[2],M=Math.round(34*B.rR()),P=M;
if(x>o)P=Math.round(P*o/x);else M=Math.round(M*x/o);var S=J.Ng(),c=S[0];for(var h=0;h<c.length;h++){var b=c[h],w=J.KG!=-1&&J.KG==-1-b.Vn,U=this.c6(h);
g.CT.acq(U,M,P,R,b.add.vmsk,w);var F=new gQ(b.Vn,!1,b.Vn>=0||w,U,b.name,S[1].indexOf(h)!=-1,!1,H.ih,{R:"pathedit",Uq:"rnm",Vn:b.Vn});
F.parent=this;v.appendChild(F._);B.Dt(U.canvas)}};i1.prototype.qe=function(J,v){this.qX.style.height=v-30-4+"px";
this.qX.style.width=J+"px"};i1.prototype.d=function(){gB.prototype.d.call(this);this.CL();hm.BJ(this.cq,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function bS(J){gB.call(this,[9,J?4:5],!1,"---panels/"+(J?"character":"paragraph"),J?gB.mL.aHK:gB.mL.a81);
B.L(this.Kp,"min-width:255px;");this.aAJ=J;this.By=null;this.f=null}bS.prototype=new gB("");bS.prototype.RQ=function(){this.By=new a1;
var J=this.By,v=this.Kp;J.parent=this;if(this.aAJ){var x=B.l("div","marged");v.appendChild(x);x.appendChild(J.wN._);
v.appendChild(B.l("hr"));var o=B.l("div","marged");v.appendChild(o);o.appendChild(J.TR._);o.appendChild(J.$d._);
var R=B.l("div","marged");v.appendChild(R);R.appendChild(J._$._);R.appendChild(J.ws._);v.appendChild(B.l("hr"));
var r=B.l("div","marged");v.appendChild(r);r.appendChild(J.$K._);r.appendChild(J.a6._);var l=B.l("div","marged");
v.appendChild(l);l.appendChild(J.X0._);l.appendChild(J.ei._);l.appendChild(J.sy._);v.appendChild(B.l("hr"));
var M=B.l("div","marged");v.appendChild(M);M.appendChild(J.rj._);M.appendChild(J.vQ._);M.appendChild(J.Oq._);
M.appendChild(J.Im._);M.appendChild(J.m$._);M.appendChild(J.xc._);M.appendChild(J.CC._);M.appendChild(J.bc._);
var P=B.l("div","marged");v.appendChild(P);for(var h=0;h<8;h++)P.appendChild(J.Wk[h]._)}else{var x=B.l("div","marged");
v.appendChild(x);x.appendChild(J.ea._);x.appendChild(J.zD._);x.appendChild(J.cz._);x.appendChild(J.akb._);
x.appendChild(J.atB._);x.appendChild(J.agk._);x.appendChild(J.as8._);v.appendChild(B.l("hr"));var o=B.l("div","marged");
v.appendChild(o);o.appendChild(J.yY._);o.appendChild(J.ae._);o.appendChild(J.gk._);v.appendChild(B.l("hr"));
var R=B.l("div","marged");v.appendChild(R);R.appendChild(J.Nz._);R.appendChild(J.yQ._);R.appendChild(J.hr._);
R.appendChild(J.vR._)}};bS.prototype.dL=function(){if(!B.yn(this.Kp))return;if(this.By==null){this.RQ();
var J=this.f;if(J)this.By.q(J.oC,J.rr,J.Qv);this.By.d()}};bS.prototype.d=function(){gB.prototype.d.call(this);
if(this.By)this.By.d()};bS.prototype.pJ=function(J,v){this.f=J;if(v!=cj.q6&&v!=cj.KI&&v!=cj.dX&&v!=cj.bS)return;
if(this.By)this.By.q(J.oC,J.rr,J.Qv)};function ah(J){gB.call(this,J?"Character Styles":"Paragraph Styles",!1,null,J?gB.mL.aHC:gB.mL.adv);
B.L(this.Kp,"min-width:240px;");var v=this.oW=B.l("div","scrollable");this.Kp.appendChild(v);B.L(v,"max-height:400px;");
this.Pl=null;this.anF=null;this.Gd=null;this.aAJ=J?0:1;this.U8=null;this.f=null;this.aeV=ah.prototype.VU.bind(this)}ah.prototype=new gB("");
ah.prototype.Q4=function(J,v,x){this.U8=J;this.f=x;this.CL()};ah.prototype.CL=function(){var J=this.oW;
B.wp(J);if(!B.yn(this.Kp))return;var v=this.U8,x=this.f;if(v==null||x==null)return;var o=x.oC,R=this.Pl=[],r={},l=this.anF=[],M=this.Gd=[],P={},S=this.aAJ,c=S==0?"Style":"Paragraph";
for(var h=0;h<v.k.length;h++){var b=v.k[h].add.TySh;if(b==null)continue;var w=b.vv,U=b.u.Nf(),F=w.ResourceDict.FontSet,Y=w.EngineDict[c+"Run"],A=Y.RunArray;
for(var G=0;G<A.length;G++){var n=ah.agN(A[G][c+"Sheet"][S==0?"StyleSheetData":"Properties"],S,F,l,P,U);
if(n.FillColor==null)n.FillColor={Type:1,Values:[1,0,0,0]};var E=JSON.stringify(n);if(r[E]==null){r[E]=!0;
R.push(n)}}}var K=S==0?function(z,jw){return jw.FontSize-z.FontSize}:function(z,jw){return z.Justify-jw.Justify};
R.sort(K);var e=[];if(S==0){var $=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],N=$.length,k=new Array(N),V=1e9,X=0;
k.fill(1e9);for(var h=0;h<R.length;h++){var Q=R[h],F=Q.FontSize;V=Math.min(V,F);X=Math.max(X,F);var L=Q.FillColor.Values,_=(L[1]+L[2]+L[3])/3;
e[h]=_>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var a=ah.agN(S==0?o.iz:o.u7,S,o.t6,l,P,1),T=JSON.stringify(a);
for(var h=0;h<R.length;h++){var f=B.l("div");J.appendChild(f);M.push(f);f.addEventListener("click",this.aeV,!1);
var Q=R[h],Z=JSON.stringify(Q)==T;if(S==0){var W=l[Q.Font].Name,D=W.toLowerCase(),C=D.indexOf("bold")!=-1||D.indexOf("-black")!=-1,d=D.indexOf("italic")!=-1||D.indexOf("oblique")!=-1||D.endsWith("-it"),p=D.indexOf("light")!=-1,F=Q.FontSize,L=Q.FillColor.Values,y=e[h];
if(Z){y=y.slice(0);y[1]=Math.min(1,y[1]+.2)}var i=X==V?.5:(F-V)/(X-V),o=10+16*i,t="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+o+"px; color:"+CSS.yN({z:L[1]*255,H:L[2]*255,c:L[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.yN({z:y[1]*255,H:y[2]*255,c:y[3]*255})+";";
if(C)t+=" font-weight:bold;";if(d)t+=" font-style:italic;";if(p)t+=" font-weight:lighter;";B.L(f,t);
var O=B.l("span");f.appendChild(O);B.L(O,"display:inline-block;  width:"+(X>99?50:40)+"px;  text-align:right;  margin-right:5px;");
O.textContent=Math.round(F);O=B.l("span");f.appendChild(O);B.L(O,"display:inline-block;  width:130px; ");
O.textContent=W}}};ah.prototype.VU=function(J){var v=g.F(this.f.oC),h=this.Gd.indexOf(J.currentTarget),x=this.Pl[h];
for(var o in x)if(o!="Font")v.iz[o]=x[o];bI.ud(v,this.anF[x.Font].Name);console.log(v);var R=new dd(j.E.j,!0);
R.data={R:j.m.Qq,Fu:cj.KI,oC:v};this.a(R);var R=new dd(j.E.G,!0);R.J=H.i9;R.data={R:"updateStyles"};
this.a(R)};ah.agN=function(J,v,x,o,R,r){var l=v==0?["Font","FontSize","FillColor"]:[],M={};for(var P=0;
P<l.length;P++)M[l[P]]=J[l[P]];if(v==0){if(M.Font!=null){var S=x[M.Font].Name;if(R[S]==null){R[S]=o.length;
o.push(x[M.Font])}M.Font=R[S]}M.FontSize=M.FontSize*r}return M};ah.prototype.dL=function(){if(!B.yn(this.Kp))return};
ah.prototype.d=function(){gB.prototype.d.call(this)};ah.prototype.pJ=function(J,v){this.f=J;this.CL()};
function da(){gB.call(this,[9,13],!1,"---panels/glyphs",gB.mL.aI8);this.f=null}da.prototype=new gB("");
da.prototype.RQ=function(){this.By=new a1;this.By.parent=this;this.aCc=null;this.aH4=null;this.If=null;
this.ajS=null;this.Vd=Math.round(290*B.rR());this.eK=45;this.dn=4;this.agU=this._t.bind(this);this.aGA=0;
this.Kj=new dp(null,["Hi","Hello"]);this.Kj.P(j.E.n,this._t,this);var J=this._r=new bj("-",null,null,!0);
J.P("click",this.aE_,this);var v=this.a8r=new bj("+",null,null,!0);v.P("click",this.aE_,this);this.ov=new ch(!1);
this.ov.P(j.E.n,this.z9,this);this.ov._.style.height=250+"px";var x=this.bf=B.l("div","form padded");
this.Kp.appendChild(x);x.appendChild(this.By.wN._);B.A1(x);x.appendChild(this.Kj._);x.appendChild(J._);
x.appendChild(v._);this.Kp.appendChild(this.ov._)};da.prototype.qe=function(J,v){if(this.BK==J||this.By==null)return;
this.BK=J;this.Vd=Math.floor((J-13)*B.rR());B.L(this.bf,"width:"+this.Vd/B.rR()+"px;");this.ov._.style.height=v-73+"px";
this._t()};da.prototype.z9=function(J){var v=this.a91(),x=Math.round(this.Vd/v);v/=B.rR();var o=this.ov.s()[0]*x*this.dn,R=this.ov.asp();
o+=Math.floor(R.y/v)*x;o+=Math.floor(R.x/v);var r=this.If[this.Kj.s()];if(o>=r.length)return;var l=r[o],M=this.ajS[l],P=new dd(j.E.G,!0);
P.J=H.i9;if(M.bz.length==0)P.data={R:"insertGlyph",K:o+1};else P.data={R:"insertText",K:String.fromCodePoint(M.bz[0])};
this.a(P)};da.prototype.aE_=function(J){var v=1.2;if(J.target==this._r){if(this.eK>20)this.eK/=v}else{if(this.eK<100)this.eK*=v}this._t()};
da.prototype.dL=function(){this.pJ(this.f)};da.prototype.pJ=function(J,v){this.f=J;if(!B.yn(this.Kp))return;
if(this.By==null)this.RQ();this.By.q(J.oC,J.rr,J.Qv);var x=J.oC,o=x.iz.Font,P=0;if(o==null)return;var R=x.t6[o].Name;
if(this.aCc==R)return;var o=J.rr.FX(R);if(o==null)return;var r=o.maxp.numGlyphs,l=this.ajS=new Array(r);
for(var h=0;h<r;h++)l[h]={bz:[]};var M=Date.now(),S=new Uint8Array(1048575);for(var h=0;h<1048575;h++){var c=Typr.U.codeToGlyph(o,h);
if(c!=0&&c<r){S[h]=1;if(l[c].bz.length==0)P++;l[c].bz.push(h)}}var b=da.zm,w=[];for(var h=0;h<b.length;
h++)w.push([]);for(var c=1;c<r;c++){w[0].push(c);var U=l[c].bz[0];if(U==null){continue}for(var F=1;F<b.length;
F++){var Y=b[F].xM;for(var h=0;h<Y.length;h+=2)if(Y[h]<=U&&U<=Y[h+1]){w[F].push(c);break}}}this.If=w;
var A=[];for(var h=0;h<b.length;h++)A.push(b[h].UL+" ("+w[h].length+")");var G=this.Kj.s();this.Kj.Qw(A);
this.Kj.q(G);this.aCc=R;this.aH4=o;this._t()};da.prototype.a91=function(J){var v=Math.floor(this.Vd/this.eK);
return Math.floor(this.Vd/v)};da.prototype._t=function(J){if(!B.yn(this.Kp)||this.If==null)return;var v=this.If[this.Kj.s()],x=v.length,o=this.aH4,R=Typr.U,r=this.a91(),l=r,M=l*.8,P=l*.8/o.head.unitsPerEm,S=[],c=Math.floor(this.Vd/r),b=Math.ceil(x/c),w=this.dn,U=Date.now();
for(var F=0;F<b;F+=w){var Y=B.l("canvas"),A=Y.getContext("2d");Y.width=r*c;Y.height=l*w;A.fillStyle="white";
A.fillRect(0,0,c*r,l*w);for(var G=0;G<w;G++){for(var n=0;n<c;n++){var h=v[(F+G)*c+n];if(h==null)break;
var E=R.glyphToPath(o,h),K=g.b.ni(E.crds);A.fillStyle="#252525";if(K.L3()){var e=o.hmtx,$=[],Q=170;for(var N in e)$.push(N);
var k=e[$[0]][h],V=e[$[1]][h],X=Math.max(k,V);E={cmds:"M L M L M L".split(" "),crds:[0,0,X,0,0,-Q,0,Q,X,-Q,X,Q]};
K.r=X;K.x=0;A.strokeStyle="rgba(0,255,0,1)"}A.beginPath();var L=n*r+(r-K.r*P)*.5-K.x*P,_=G*l+M;A.translate(L,_);
A.scale(P,-P);R.pathToContext(E,A);A.scale(1/P,-1/P);A.translate(-L,-_);K.L3()?A.stroke():A.fill()}}A.beginPath();
for(var n=0;n<c;n++){var a=n*r+r+.5;A.moveTo(a,0);A.lineTo(a,l*w)}for(var G=0;G<w;G++){var T=G*l+l+.5;
A.moveTo(0,T);A.lineTo(c*r,T)}A.strokeStyle="rgba(0,0,0,0.3)";A.stroke();S.push(Y)}this.ov.iP(S,null,r*c,l*w)};
da.zm=[{UL:"All Glyphs"},{UL:"Basic Latin, Latin 1",xM:[0,127,128,143]},{UL:"Latin Extended-A",xM:[256,383]},{UL:"Latin Extended-B",xM:[384,591]},{UL:"Punctuations",xM:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{UL:"Greek",xM:[880,1023]},{UL:"Cyrillic",xM:[1024,1279]},{UL:"Hebrew",xM:[1424,1535]},{UL:"Arabic",xM:[1536,1791]},{UL:"Emoji",xM:[9728,10095,127744,129535]}];
function cY(){gB.call(this,[13,0],!1,null,gB.mL.Zl);this.JV=0;this.ak8=0;this.f=null}cY.prototype=new gB("");
cY.prototype.RQ=function(){if(!B.yn(this.Kp)||this.sx)return;var J=B.l("div","flexrow padded");this.Kp.appendChild(J);
var v=B.l("div");J.appendChild(v);this.sx=[];for(var h=0;h<2;h++){var x=new hf;this.sx.push(x);x.P("click",this.aG4,this);
v.appendChild(x._)}this.D6=new ar(192);console.log("hsb picker");this.D6.P(j.E.n,this.Vo,this);this.Dr=new iz;
this.Dr.parent=this;J.appendChild(this.D6._);this.pJ(this.f,cj.q6)};cY.prototype.aG4=function(J){var v=J.currentTarget,x=this.sx.indexOf(v);
if(x==this.JV){this.Dr.mC(x)}else{this.JV=x;this._t()}};cY.prototype.Vo=function(J){var v=this.D6.s();
this.D6.q(v);var x=Math.round(v.z*255)<<16|Math.round(v.H*255)<<8|Math.round(v.c*255),o=new dd(j.E.j,!0);
o.data={R:j.m.Qq,Fu:cj.Zl,Uq:this.JV,K:x};this.a(o);this.ak8=Date.now()};cY.prototype._t=function(){if(this.Dr==null)return;
var J=this.f,v=this.JV,x=[J.P4,J.Vb];for(var h=0;h<2;h++){var o=this.sx[h],R=o._.style;o.VR(x[h]);if(h==v)R.filter="drop-shadow(0 0 1px #000000)"}var r=x[v];
if(Date.now()-this.ak8>100)this.D6.q({z:(r>>>16)/255,H:(r>>>8&255)/255,c:(r&255)/255})};cY.prototype.pJ=function(J,v){this.f=J;
if(this.Dr==null)return;if(v==cj.q6||v==cj.Zl){this.Dr.a8C(J.P4,J.Vb);this._t()}};cY.prototype.Q4=function(){this.RQ()};
cY.prototype.dL=function(){this.RQ();this._t()};function kw(){gB.call(this,"CSS",!1,"---panels/css",gB.mL.CSS);
this.U8=null;var J=B.l("div","padded");this.Kp.appendChild(J);this.a9=B.l("textarea");B.Mb(this.a9);
J.appendChild(this.a9)}kw.prototype=new gB("");kw.prototype.qe=function(J,v){if(this.BK==J)return;this.BK=J;
B.L(this.a9,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(J-10)+"px; height:"+(v-10)+"px")};
kw.prototype.Q4=function(J){this.U8=J;this._t()};kw.prototype.pJ=function(J,v){if(v==cj.dX)this._t()};
kw.prototype._t=function(){var J=this.U8;if(J==null||J.Y.length==0)return;if(!B.yn(this.Kp))return;var v=J.k[J.Y[0]],x=CSS.atw(v,J);
if(x.length!=0)this.a9.value=x.join(";\n")+";";else this.a9.value=""};kw.prototype.dL=function(){this._t()};
function fR(){gB.call(this,"Text to Image",!1,null,gB.mL.aiQ);this.U8=null;this.m8=0;this.iK={};this.u2=null;
var J=this.Gd=[new ir("Prompt",null,null,4),new bj([12,49],!0,null,!0)];J[0].q("goat riding a bike");
var v=B.l("div","form padded labfxd");this.Kp.appendChild(v);for(var x=0;x<J.length;x++){J[x].parent=this;
v.appendChild(J[x]._);if(x==1)J[x].P("click",this.rX,this)}this.kw=B.l("div","scrollable");v.appendChild(this.kw);
this.av4=fR.prototype.aGs.bind(this)}fR.prototype=new gB("");fR.prototype.rX=function(){var J=this.Gd,v=J[0].s().trim(),x=function(){var o=cl.aFv(v,null,null,this.av4);
if(o==1)B._H(this.Kp,"disabled")}.bind(this);if(cl.w8(3))x();else cl.qJ(x)};fR.prototype.aGs=function(J){var v=this.Gd;
B.Nv(this.Kp,"disabled");var x={created:Math.round(Date.now()/1e3),data:[{b64_json:d2.vd(J.target.response)}]},o=this.iK,R=v[0].s().trim();
if(o[R]==null)o[R]=[];o[R].push(x);cl.LB("Generate",3);this._t()};fR.prototype.qe=function(J,v){if(this.BK==J)return;
this.BK=J;this.Kp.style.width=J-16+"px";this.kw.style.height=v-190+"px"};fR.prototype.Q4=function(J,v){this.U8=J;
if(J)this.m8=v.indexOf(J);this._t()};fR.prototype.d=function(J,v){gB.prototype.d.call(this);var x=this.Gd,R=" target=\"_blank\" style=\"color:inherit;\">";
for(var o=0;o<x.length;o++)this.Gd[o].d()};fR.prototype._t=function(){var J=this.kw,v=this.iK;B.wp(J);
var x=[];for(var o in v){v[o].sort(function(U,F){return F.created-U.created});x.push([o,v[o]])}x.sort(function(U,F){return F[1][0].created-U[1][0].created});
var R=this.aoI.bind(this),r=this.u2=[[],[]];for(var h=0;h<x.length;h++){var o=x[h][0],l=x[h][1],M=B.l("div");
M.textContent=o;J.appendChild(M);for(var P=0;P<l.length;P++){var S=l[P].data;for(var c=0;c<S.length;
c++){var b=S[c].b64_json,w=B.l("img");w.setAttribute("src","data:image/png;base64,"+b);w.onclick=R;w.style.width=128/B.rR()+"px";
w.style.marginRight="4px";w.style.cursor="pointer";J.appendChild(w);r[0].push(w);r[1].push(S[c])}}}};
fR.prototype.aoI=function(J){var h=this.u2[0].indexOf(J.target),v=this.u2[1][h].b64_json,x=d2.S7(v);
aB.ys({url:"file",m8:this.m8},x,this)};fR.prototype.dL=function(){this._t()};function bY(){gB.call(this,[9,6],!1,"---panels/info",gB.mL.a3S);
B.L(this.Kp,"min-width:240px;");this.U8=null;this.f=null;this.wq=null;var J=this.WQ=[];for(var v=0;v<3;
v++){var x=B.l("div","marged row");this.Kp.appendChild(x);var o=B.l("div","cell");B.L(o,"width:10em");
x.appendChild(o);var R=B.l("div","cell");B.L(R,"width:10em");x.appendChild(R);var r=[8,4,3][v];for(var h=0;
h<r;h++){var l=new aT("");J.push(l);l.q(0);l._.style.padding="0";var M=h<(v==1?2:4)?o:R;M.appendChild(l._);
B.A1(M)}if(v<2)B.kY(this.Kp)}this.uo=J[8];this.Ea=J[9];this.AD=J[10];this.pc=J[11];B.kY(this.Kp);this.wq=B.l("div");
B.L(this.wq,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.Kp.appendChild(this.wq)}bY.prototype=new gB("");
bY.prototype.kq=function(J,v,x,o,R){if(!B.yn(this.Kp)||J==null)return;var r=J.U.hW(R.x,R.y),l=new aG(Math.floor(r.x),Math.floor(r.y));
if(!R.x4){var M=0,P=0,S=0,c=0,b=this.WQ;if(!R.x4&&!J.akv()&&new jj(0,0,J.r-1,J.$-1).bB(l)){var w=J.rv(),h=J.r*l.y+l.x<<2;
M=w[h+0];P=w[h+1];S=w[h+2];c=w[h+3]}var U=g.Cv([M/255,P/255,S/255]);b[0].q("R: "+M);b[1].q("G: "+P);
b[2].q("B: "+S);b[3].q("A: "+c);b[4].q("C: "+Math.round(U[0]*100)+"%");b[5].q("M: "+Math.round(U[1]*100)+"%");
b[6].q("Y: "+Math.round(U[2]*100)+"%");b[7].q("K: "+Math.round(U[3]*100)+"%");var F=g.a2t(M,P,S);b[12].q("H: "+Math.round(F.mq*360)+"\xB0");
b[13].q("S: "+Math.round(F.hO*100)+"%");b[14].q("B: "+Math.round(F.c*100/255)+"%")}var Y=J.U.NT>1?new aG(r.x,r.y):l;
this.uo.q("X: "+g.Av.OV(Y.x,J.Bt,x,J.r));this.Ea.q("Y: "+g.Av.OV(Y.y,J.Bt,x,J.$));this.KR()};bY.prototype.KR=function(){var J=this.U8,v=this.f,x=0,o=0;
if(J&&v){if(J.U.bh){x=J.U.bh.r;o=J.U.bh.$}else if(J.g){x=J.g.S.r;o=J.g.S.$}x=g.Av.OV(Math.abs(x),J.Bt,v,J.r);
o=g.Av.OV(Math.abs(o),J.Bt,v,J.$)}this.AD.q(ea.get([12,41]).charAt(0)+": "+x);this.pc.q(ea.get([12,42]).charAt(0)+": "+o)};
bY.prototype.d=function(){gB.prototype.d.call(this);this.KR()};bY.prototype.dL=function(){this.Q4(this.U8,null,this.f)};
bY.prototype.Q4=function(J,v,x){this.U8=J;this.f=x;if(!B.yn(this.Kp))return;console.log("update");this.KR();
if(J&&J.Y.length!=0){var o=J.Y[0],R=J.k[o],r=kC.get(R.add)!=null,l=r&&J.Y[0]>0;this.wq.innerHTML="";
for(var h=0;h<J.Ql.length;h++){var M=J.Ql[h],R=J.U.Lp(M.x,M.y),P=H.WG.xv(J,R,1,l?1:2),S={z:P>>>16&255,H:P>>>8&255,c:P&255},Y="<span style=\"display:inline-block; width:25px; text-align:right\">",A="</span>";
if(l){var c=J.Y[0];J.Y[0]=o-1;var b=H.WG.xv(J,R,1,1),w={z:b>>>16&255,H:b>>>8&255,c:b&255};J.Y[0]=c}var U=B.l("div");
B.L(U,"padding: 0.5em 0.5em; width: 40%");var F="<b>#"+(h+1)+"</b>",G=[S.z,S.H,S.c],n=l?[w.z,w.H,w.c]:null,E=["R","G","B"];
for(var K=0;K<3;K++)F+="<br/>"+Y+E[K]+A+": "+(l?Y+n[K]+A+" /":"")+Y+G[K]+A;U.innerHTML=F;this.wq.appendChild(U)}}};
function hh(){gB.call(this,[9,1],!1,"---panels/layers",gB.mL.wu);this.aD5=null;this.sY=[];this.qE=null;
this.n4=null;this.wI=B.l("div","lphead");this.qX=B.l("div","lpbody scrollable");this.qX.addEventListener("scroll",this.aG7.bind(this),!1);
this.XK=B.l("div","lpfoot");var J=this.a1h=B.l("span");B.L(J,"display:inline-block; height:26px");this.wI.appendChild(J);
this.VG=new dp(null,gX.R2,gX.TD);this.VG.P(j.E.n,this.aqM,this);this.wI.appendChild(this.VG._);this.W7=new fL([12,0],0,100,"%",0);
this.W7.P(j.E.n,this.afQ,this);this.W7.parent=this;this.wI.appendChild(this.W7._);this.Xc=new bA([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.Xc.P(j.E.n,this.aE1,this);this.wI.appendChild(this.Xc._);this.ba=new fL([12,26],0,100,"%",0);this.ba.P(j.E.n,this.aaB,this);
this.ba.parent=this;this.wI.appendChild(this.ba._);this.cq=[];this.pj();if(du==0)this.Kp.appendChild(this.wI);
this.Kp.appendChild(this.qX);this.qX.addEventListener("dragover",function(R){R.preventDefault()},!1);
this.qX.addEventListener("dragenter",B.Ib,!1);this.qX.addEventListener("drop",this.abo.bind(this),!1);
this.Kp.appendChild(this.XK);this.Kp.addEventListener("contextmenu",B.Ib,!1);if(du==0)this.P("rclick",this.aHU,this);
var v=function(R,r,h){return{WH:this.Z6[h]==1}}.bind(this);if(du==0){this.aC7=new kM([{name:[0,6],i:v},{name:[14,10],i:v},{name:[6,57,2],i:v,vy:!0},{name:"Long-tap as a right click",i:v,vy:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",i:function(){return{WH:db.H0==0,i:!0}}},{name:"Thumbnails by Document",i:function(){return{WH:db.H0==1,i:!0}}}]);
this.aC7.P("select",this.aCI,this)}this.Z6=[0,1,1,0];var x=window.locStor;if(x){var o=x.getItem("lpOpt");
if(o){o=JSON.parse(o);this.Z6=o[0];db.Ad=o[1];db.H0=o[2]}}this.aCI()}hh.prototype=new gB("");hh.Fi=function(J){var v=J==null?0:J.Y.length;
return{i:v!=0&&(v!=1||J.Y[0]!=0)&&(v!=1||!J.k[J.Y[0]].tX()||J.k[J.Y[0]].jh()),y0:ea.get(v>1||v==1&&J.k[J.Y[0]].tX()?[6,12,0]:[6,10])}};
hh.prototype.t9=function(){if(this.an$)return;var J=k8.dD(!0),v=k8.JJ(!0);this.an$=new kM(J,v);var J=[{name:[14,10]},{name:[14,11],vy:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],vy:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",i:function(o){return{i:o.k[o.Y[0]].add.SoLd!=null}},vy:!0},{name:[6,8],i:hh.aBl},{name:[6,34],i:function(o){var R=o.k[o.Y[0]];
return{i:R.add.lmfx!=null&&!R.tX()}}},{name:[6,40],vy:!0,i:function(o){var R=o.k[o.Y[0]];return{i:R.add.TySh!=null}}},{name:"",vy:!0,i:function(o){var R=o.k[o.Y[0]],r=R.add.TySh,l=r?r.vv:null;
return{i:r!=null&&l.Curve==null,y0:ea.get(r&&bI.eP(l)==0?[16,3,1]:[16,3,0])}}},hh.aca(!1),k8.aIm(),{name:[6,12,0],i:hh.Fi},{name:[6,12,1],vy:!0},{name:[13,0],sub:function(){var o=[];
for(var h=0;h<iP.hN.length;h++)o.push({name:[13,1,h],CT:"#"+g.q2(iP.hN[h])});return o}()}],v=[{A:j.E.j,p:{R:j.m.wz,kA:"layerstyle"}},{A:j.E.G,J:H.ZT,p:{R:"fromlayer",Yk:[null,0,0]}},{A:j.E.G,J:H.wu,p:{R:m.Qi}},{A:j.E.j,p:{R:j.m.wz,kA:"duplinto"}},{A:j.E.G,J:H.wu,p:{R:m.Wd}},{A:j.E.aT,p:{QI:"newPlacedLayer"}},{A:j.E.G,J:H.wu,p:{R:m.Tj}},{A:j.E.aT,p:{QI:"rasterizeLayer",_g:{classID:"rasterizeLayer",null:kj.RS("Lyr",!0)}}},{A:j.E.aT,p:{QI:"rasterizeLayer",_g:{classID:"rasterizeLayer",null:kj.RS("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{A:j.E.G,J:H.wu,p:{R:m.ze}},{A:j.E.G,J:H.i9,p:{R:"switchPntPrgr"}},{A:j.E.G,J:H.wu,p:{R:m.Pe}},k8.aBT(),{A:j.E.aT,p:{QI:"mergeLayersNew",_g:{__name:"Merge Layers",classID:"Mrg2"}}},{A:j.E.aT,p:{QI:"flattenImage"}},{sub:function(){var o=[];
for(var h=0;h<8;h++)o.push({A:j.E.G,J:H.wu,p:{R:m.TI,arZ:h}});return o}()}];this.Wr=new kM(J,v);var J=[{name:[6,45],i:function(o){var R=o.k[o.Y[0]];
return{i:R.V0(o).pR==null}}},{name:[6,47]}],v=[{A:j.E.G,J:H.wu,p:{R:m.nP}},{A:j.E.G,J:H.wu,p:{R:m.mF}}];
this.au9=new kM(J,v);var J=[{name:"enab/disab",i:function(o){return{y0:ea.get(o.k[o.Y[0]].q9().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],i:function(o){return{i:o.hH(!1,!0)}}}],v=[{A:j.E.G,J:H.wu,p:{R:m.Tv}},{A:j.E.G,J:H.wu,p:{R:m.cv}},{A:j.E.G,J:H.wu,p:{R:m.KN}}];
this.aAr=new kM(J,v);var J=[{name:"enab/disab",i:function(o){return{y0:ea.get(o.k[o.Y[0]].V0(o).pR.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],v=[{A:j.E.G,J:H.wu,p:{R:m.E_}},{A:j.E.G,J:H.wu,p:{R:m.OE}}];
this.aux=new kM(J,v);var J=[{name:"enab/disab",i:function(o){return{y0:ea.get(o.k[o.Y[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],x={classID:"rasterizeLayer",null:kj.RS("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},v=[{A:j.E.G,J:H.wu,p:{R:m.gO}},{A:j.E.aT,p:H.qk.sn(3)},{A:j.E.aT,p:{QI:"rasterizeLayer",_g:x}}];
this.ar3=new kM(J,v);this.aDi=new kM(k8.aia(!0),k8.Hh(!0));this.aHE=new kM(k8.dD(),k8.JJ())};hh.prototype.aG7=function(J){var v=this.qX.scrollTop-600;
for(var h=0;h<this.sY.length;h++){var x=this.sY[h],o=x.it;if(v<x.it)x.aiL();if(x.it>v+this.mq+600)break}};
hh.prototype.Hi=function(){return this.aC7};hh.prototype.aCI=function(J){var v=this.Z6;if(J){var x=J.target.hA(),h=x[0];
if(h<4)v[h]=1-v[h];else if(h<6){if(h==4&&db.Ad-10>=10)db.Ad-=10;if(h==5&&db.Ad+10<=200)db.Ad+=10;if(this.qE)this.qE.wj=!0}else{if(h==6)db.H0=0;
if(h==7)db.H0=1;if(this.qE)this.qE.wj=!0}var o=window.locStor;if(o)o.setItem("lpOpt",JSON.stringify([v,db.Ad,db.H0]))}if(v[0]==1)this.aC3();
var R=[[{_:this.a1h}],[this.VG,this.W7],[this.Xc,this.ba]];for(var h=0;h<3;h++)for(var r=0;r<R[h].length;
r++)R[h][r]._.style.display=v[h]==1?"inline-block":"none";this.qe(this.BK,this.mq)};hh.prototype.azO=function(){var J=this.w7;
if(J==null)return!1;if(J.s()){var v=this.y$.s(),x=this.SH[v].s();if(v==0)return x.indexOf(!0)!=-1;if(v==1)return x!=""}return!1};
hh.aca=function(J){var v=function(o){var R=o!=null&&o.Y.length!=0&&o.k[o.Y[0]].Hv;return{WH:R,i:o!=null&&o.Kn(o.Y[0]),p:{A:j.E.aT,p:{QI:R?"ungroup":"groupEvent",_g:{classID:R?"Ungr":"GrpL",null:kj.RS("Lyr",!0)}}}}},x={name:[6,6,0],vy:!0,i:v};
if(J)x.ro=[gw.i4,gw.aw,gw.iV];return x};hh.aBl=function(J,v){if(J)for(var h=0;h<J.Y.length;h++){var x=J.k[J.Y[h]];
if(x.add.TySh||x.add.SoLd||x.add.SoCo||x.add.GdFl||x.add.PtFl)return{i:!0}}return{i:!1}};hh.prototype.abo=function(J){B.Ib(J);
var v=J.dataTransfer.getData("Text"),x=1,o=0;if(v==""){B.Hn(J,this,this.n4.indexOf(this.qE),o+(x>.5?0:1))}else if(v!="--panel"){var v=JSON.parse(v),R=v.QJ;
if(R=="l")this.PE({R:m.kK,source:v.xH,target:o,FI:x})}};hh.prototype.aHU=function(J){var v=this.qE,x=J.data,R;
if(v.Y.indexOf(x.w)==-1){var o={R:m.iN,w:J.target.hI.index,dk:x.kG};this.PE(o)}if(v.Y.indexOf(x.w)==-1)return;
this.t9();if(x.kG==1){R=this.aAr}else if(x.kG==2){R=this.ar3}else if(x.kG==3){R=this.aux}else if(x.kG==4){R=this.au9}else if(x.kG==5){R=this.an$}else{R=this.Wr}R.d();
R.update(v);R.parent=this;var r=new dd(j.E.j,!0);r.data={R:j.m.sO,rq:R,x:x.vT.x+1,y:x.vT.y+1};this.a(r)};
hh.prototype.d=function(){gB.prototype.d.call(this);this.VG.d();this.W7.d();this.Xc.d();this.ba.d();
if(this.w7){this.w7.d();this.SH[0].d()}if(this.qE)this.Q4(this.qE);var J="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var h=0;h<this.cq.length;h++){var v=this.cq[h];v.f_(B.vr(J[h],null,"miniscale"));if(h==1||h==3){v._.style.position="relative";
var x=B.l("img","gsicon");x.setAttribute("src",PIMG["tools/corner"]);B.L(x,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
v._.appendChild(x)}}};hh.prototype.Q4=function(J,v){if(J&&!J.wj)return;if(J==null)B._H(this.Kp,"disabled");
else B.Nv(this.Kp,"disabled");this.qE=J;this.n4=v;if(this.aD5!=null){B.wp(this.qX);this.aD5=null;this.sY=[]}if(J==null)return;
var x=!1;for(var h=0;h<J.ac.length;h++)if(J.ac[h].nX)x=!0;this.aD5=new iP(J.root,this,J,{qt:0,ap_:!1},{aFD:x,aCp:this.azO()},this.sY,0,new jj(0,0,J.r,J.$));
if(J.Y.length==0||J.k[J.Y[0]]==null)B._H(this.wI,"disabled");else{B.Nv(this.wI,"disabled");if(J.Y.length==1&&J.TA){var o=J.Y[0];
for(var h=0;h<this.sY.length;h++){var R=this.sY[h];if(R.hI.index==o&&R.wI.scrollIntoView)R.wI.scrollIntoView({block:"nearest"})}}var r=J.k[J.Y[0]];
if(r.tX()){this.VG.Qw([[15,10,27]].concat(gX.R2),[1].concat(gX.TD));var l=gX.qI.indexOf(r.gR);this.VG.q(l+1)}else{this.VG.Qw(gX.R2,gX.TD);
var l=gX.qI.indexOf(r.gR);this.VG.q(l)}this.W7.q(Math.round(100*r.fc/255));this.Xc.q([r.UP(0),r.UP(1),r.UP(2),r.UP(31)]);
var M=J._0();this.VG.Ne(!M);this.ba.Ne(!M);this.W7.Ne(!M);this.Xc.Ne(!(M&&!r.UP(31)));this.ba.q(Math.round(100*(r.add.iOpa!=null?r.add.iOpa/255:1)));
this.cq[2].a7T(ea.get(r.q9()?[6,23]:[6,21]))}this.aG7(null)};hh.prototype.qe=function(J,v){this.BK=J;
this.mq=v;var x=this.wI.getBoundingClientRect().height;if(55<x&&x<56)x=60.2;var o=this.XK.getBoundingClientRect().height,R=v-(x+o+3);
this.qX.style.height=R+"px";this.qX.style.width=J+"px"};hh.prototype.aqM=function(J){this.PE({R:m.xT,ra:this.VG.s()})};
hh.prototype.afQ=function(J){this.PE({R:m.oh,ra:Math.round(255*this.W7.s()/100)})};hh.prototype.aE1=function(J){this.PE({R:m.Ey,ra:[this.Xc.s(),[0,1,2,31]]})};
hh.prototype.aaB=function(J){this.PE({R:m.rS,ra:Math.round(255*this.ba.s()/100)})};hh.prototype.F_=function(J){if(J.target==this.y$)this.aC3();
var v=this.w7.s();if(v)B.Nv(this.a9z,"disabled");else B._H(this.a9z,"disabled");this.d();this.qE.wj=!0;
this.Q4(this.qE);this.qE.wj=!1};hh.prototype.aC3=function(){var J=this.a9z;if(J==null){var v=this.a1h,x=this.w7=new a9([0,6]);
x.P(j.E.n,this.F_,this);v.appendChild(x._);J=this.a9z=B.l("span","disabled");v.appendChild(J);this.y$=new dp(null,["Kind",[12,48]],[]);
this.y$.P(j.E.n,this.F_,this);var o=this.SH=[new bA(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new ir(null,null,8)];
o[0].P(j.E.n,this.F_,this);o[1].P("input",this.F_,this)}B.wp(J);J.appendChild(this.y$._);J.appendChild(this.SH[this.y$.s()]._)};
hh.prototype.ahk=function(J){this.t9();this.aEd(J,this.aDi)};hh.prototype.arH=function(J){this.t9();
this.aEd(J,this.aHE)};hh.prototype.aEd=function(J,v){var x=J.currentTarget;if(B.yn(v._))return;J.stopPropagation();
var o=x.getBoundingClientRect();v.d();v.update(this.qE);v.parent=this;var R=new dd(j.E.j,!0);R.data={R:j.m.sO,rq:v,x:o.left,y:o.top,a3y:!0};
this.a(R)};hh.prototype.ajC=function(J){this.PE({R:m.aJc})};hh.prototype.a6X=function(J){this.PE({R:this.qE.Y.length>1?m.Vy:m.HY})};
hh.prototype.anG=function(J){this.PE({R:m.h5})};hh.prototype.afv=function(J){var v=this.qE;if(v.Y.length==0)return;
var x=v.k[v.Y[0]],o=x.kG;this.PE({R:o<=0?x.CE?m.Ki:m.Wd:o==3?m.OE:m.cv})};hh.prototype.abT=function(J){this.PE({R:m.OQ})};
hh.prototype.PE=function(J){var v=new dd(j.E.G,!0);v.data=J;v.J=H.wu;this.a(v)};hh.prototype.pj=function(){var J=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],v=[this.abT,this.arH,this.ajC,this.ahk,this.a6X,this.anG,this.afv],x=this.aDV.bind(this);
for(var h=0;h<J.length;h++){var o=new bj("W",!1,J[h]);this.cq.push(o);B._A(o._,v[h].bind(this));if(du==0||h>3&&h!=5)this.XK.appendChild(o._);
if(h>=J.length-3){var R=o._;R.addEventListener("drop",x,!1);R.addEventListener("dragover",function(r){r.preventDefault()},!1);
R.addEventListener("dragenter",B.Ib,!1)}}};hh.prototype.aDV=function(J){B.Ib(J);var v=0,x=this.cq;while(x[v]._!=J.currentTarget)v++;
x[v].Il();var o=J.dataTransfer.getData("Text");if(o=="")return;var o=JSON.parse(o);if(o.QJ=="l"){var R={R:[m.Vy,m.Qi,m.Wd][v-4]};
if(this.qE.Y.indexOf(o.xH)==-1)R.w=o.xH;this.PE(R)}if(v!=6)return;if(o.QJ=="sm"||o.QJ=="s"){var r=new dd(j.E.G,!0);
r.J=H.Ar;r.data={R:o.QJ=="sm"?"st_clear":"st_delsingle",w:o.xH,xH:o.i2};this.a(r)}if(o.QJ=="fm"||o.QJ=="f"){this.PE({R:o.QJ=="fm"?m.mF:m.MQ,src:o.xH,i2:o.i2})}if(o.QJ=="m"||o.QJ=="vm"){this.PE({R:o.QJ=="m"?m.cv:m.Ki,w:o.xH})}};
function iP(J,v,x,o,R,r,l,M){aJ.call(this);this.parent=v;this.it=l;this.hI=J;r.push(this);this.qE=x;
this.GW=o;var P=v.qX,S=J.w,c=x.Y.indexOf(J.index)!=-1,F=null;this.wI=B.l("div",c?"head selected":"head");
if(S.add.artb!=null){B._H(this.wI,"artb");M=S.Gf()}var b=this.aHm=Math.floor(10+S.aln/B.rR()),w="height: "+b+"px;";
if(c&&R.aFD)w+="background-color:rgba(255,50,50,0.4);";B.L(this.wI,w);this.view=M;var U=this.a7Y=this.atH.bind(this),Y=R.aCp&&!this.awe();
if(!Y){if(J.depth!=0){P.appendChild(this.wI);l+=b-.3}if(S.nf()||S.Ov())if(S.ui()){F=this.azE=B.l("div","lpineck");
P.appendChild(F);if(S.nf()){F.addEventListener("contextmenu",U,!1);var A=new hh.Pj(ea.get([12,1]),"sm","layerstyle",J.depth,0,null);
l+=21;A.parent=this;F.appendChild(A._);var G=S.add.lmfx,n=G.masterFXSwitch.v;A.G0(n);for(var h=0;h<gD.order.length;
h++){var E=G[gD.Lw[h]].v;if(E.length==0)continue;for(var K=0;K<E.length;K++){var A=new hh.Pj(ea.get(gD.names[h]),"s","layerstyle",J.depth,1,[h,K]);
l+=21;A.G0(n&&E[K].v.enab.v);A.parent=this;F.appendChild(A._)}}}if(S.Ov()){var e=S.V0(x).pR;if(e)this.LZ=B.l("div","thumb");
var A=new hh.Pj(ea.get([12,55]),"fm",null,J.depth,0,-1,e?this.LZ:null,b);l+=e?b:21;A.parent=this;F.appendChild(A._);
this.aBB=A._;this.aBB.addEventListener("contextmenu",U,!1);var G=S.add.SoLd.filterFX.v,$=G.filterFXList.v,n=G.enab.v;
A.G0(n);for(var h=$.length-1;h>=0;h--){var N=$[h].v,k=a8.mV(N);if(kC.QT[k])k=kC.QT[k];var V=N.Nm.v;if(a8.names[k])V=ea.get(a8.names[k]);
if(kC.names[k])V=ea.get(kC.names[k]);var X="afw_"+k,A=new hh.Pj(V,"f",X,J.depth,1,h);l+=21;A.G0(n&&N.enab.v);
A.parent=this;F.appendChild(A._)}}}}var Q=S.add.lclr;if(Q==null)Q=0;Q=Q==0?o.qt:iP.hN[Q];this.azC=Q;
if(S.tX()&&(S.add.lsct==h2.Uk||R.aCp)){var L={qt:Q,ap_:o.ap_||S.UP(31)};for(var h=J.children.length-1;
h>=0;h--){var _=new iP(J.children[h],v,x,L,R,r,l,M);l=_.adj}}this.adj=l}iP.prototype=new aJ;iP.hN=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
iP.prototype.aiL=function(){if(this.Xq)return;var J=this.hI,v=J.w,x=this.qE,o=this.GW,b=!0,L=!1;J.QZ(x,this.view,!0);
var R=B.l("div","headL"),r=B.l("div","headR");this.wI.appendChild(R);this.wI.appendChild(r);var l=this.wI;
l.setAttribute("draggable","true");l.addEventListener("dragstart",this.ej.bind(this),!1);l.addEventListener("drop",this.EA.bind(this),!1);
l.addEventListener("dragover",this.cf.bind(this),!1);l.addEventListener("dragenter",B.Ib,!1);l.addEventListener("dragleave",this.ci.bind(this),!1);
var M=[],P=[null,null,null,null],S=v.jh(),c=J;while(c.parent){c=c.parent;S=S&&c.w.jh()}if(v.Hv){for(var h=J.index-1;
h>=0;h--){var w=x.k[h];if(!w.Hv){b=w.jh();break}}}var U=v.jh()?S&&b?2:1:0;this.Xq=B.l("div");var F=B.l("div",U==0?"sqr":"eye");
this.Xq.appendChild(F);F.style.opacity=[.12,.33,1][U];var Y=B.l("div","space");this.OI=B.l("div","label");
B.L(this.OI,"max-width:calc(100% - "+(96+J.depth*20)+"px); margin-top:"+(this.aHm-19)/2+"px;"+(v.pT?"text-decoration:underline;":""));
this.OI.textContent=v.getName();this.aa9=B.l("div","lock");this.a2K=B.l("div","lrfx");this.oa=B.l("div","arfx");
var A=this.a7Y,G=this.a0e.bind(this);this.wI.addEventListener("click",G,!1);this.wI.addEventListener("contextmenu",A,!1);
var n=this.azC;if(n!=0){var E=[n>>16,n>>8&255,n&255];for(var h=0;h<3;h++){E[h]="calc("+E[h]+"*0.7 + (var(--absc)) * 255 * 0.3)"}B.L(this.Xq,"background-color:rgba("+E.join(",")+",1);")}var K=this.afB.bind(this);
this.Xq.addEventListener("mousedown",K,!1);this.Xq.addEventListener("mouseover",K,!1);this.oa.addEventListener("click",this.a7F.bind(this),!1);
M[0]=this.Xq;M[1]=Y;M[10]=this.OI;if(v.tX()){var e=B.l("div","arrow"),$=B.l("div","folder");this.B_($);
e.addEventListener("click",this.amp.bind(this),!1);M[2]=e;M[3]=$;e.className=v.add.lsct==h2.Uk?"open":"closed"}else{this.A_=B.l("div","thumb");
M[5]=this.A_;iP.Ox(this.A_,v.io);this.B_(this.A_);if(kC.get(v.add))B._H(v.io.canvas,"gsicon")}var N=v.q9();
if(N){this.AZ=B.l("div","chain");this.d3=B.l("div","thumb");iP.Ox(this.d3,v.dz,!0);this.AZ.style.opacity=N.DE?1:0;
this.AZ.addEventListener("click",this.aew.bind(this),!1)}var k=v.Id()&&v.add.vmsk;if(v.add.vmsk&&!k){this.q0=B.l("div","chain");
this.uW=B.l("div","thumb");iP.Ox(this.uW,v.lF,!0);this.q0.style.opacity=v.add.vmsk.DE?1:0;this.q0.addEventListener("click",this.ak5.bind(this),!1)}if(v.Ov()&&v.ui()&&v.V0(x).pR){iP.Ox(this.LZ,v.jA,!1);
this.B_(this.LZ);this.LZ.addEventListener("click",G,!1);this.LZ.addEventListener("contextmenu",A,!1)}if(J.index==x.Y[0]){var V=v.kG,X;
if(V<=0)X=this.A_;else if(V==1)X=this.d3;else if(V==3)X=this.LZ;if(X)X.className="thumb active";if(v.CE&&this.uW)this.uW.className="thumb active"}B.L(Y,"width:"+Math.max(0,J.depth-1)*18+"px");
var Q=v.add.lspf!=null&&v.add.lspf!=0||o.ap_;this.aa9.style.opacity=v.UP(31)?1:.5;M[4]=v.Hv?B.l("div","clipp"):null;
M[6]=N?this.AZ:null;M[7]=N?this.d3:null;M[8]=v.add.vmsk&&!k?this.q0:null;M[9]=v.add.vmsk&&!k?this.uW:null;
var _=v.C3,a=x.Y;if(_!=0)for(var h=0;h<a.length;h++)if(x.k[a[h]].C3==_){L=!0;break}if(L){P[0]=B.l("div",v._4?"link":"linkX");
P[0].addEventListener("click",this.awZ.bind(this),!1)}P[1]=Q?this.aa9:null;P[2]=v.nf()?this.a2K:null;
P[3]=v.nf()||v.Ov()?this.oa:null;this.oa.className=v.ui()?"arfx open  gsicon":"arfx closed  gsicon";
var T=M;for(var h=0;h<T.length;h++)if(T[h])R.appendChild(T[h]);T=P;for(var h=0;h<T.length;h++)if(T[h])r.appendChild(T[h])};
iP.Ox=function(J,v,x){var o=v.canvas;B.Dt(o);if(x)J.setAttribute("draggable","true");J.appendChild(o);
B.L(o,o.getAttribute("style")+"; pointer-events:none")};iP.prototype.B_=function(J){B._A(J,function(v){if(this.parent.Z6[3]==0)return;
B.zl(v);B.Kb(document.body,function(){clearTimeout(this.abz)}.bind(this));this.abz=setTimeout(function(){var x=new dd("rclick",!0);
x.data={w:this.hI.index,kG:this.kG(v),vT:B.C2(v,document.body)};this.a(x)}.bind(this),600)}.bind(this))};
iP.sv=function(J,v){var x=v.getBoundingClientRect();return(J.clientY-x.top)/x.height};iP.prototype.ej=function(J){J.stopPropagation();
var v=J.target==this.d3?"m":J.target==this.uW?"vm":"l";J.dataTransfer.setData("Text",JSON.stringify({QJ:v,xH:this.hI.index}))};
iP.prototype.ci=function(J){B.Ib(J);this.sp()};iP.prototype.EA=function(J){B.Ib(J);this.sp();var v=J.dataTransfer.getData("Text"),x=this.parent.qE,o=iP.sv(J,this.wI),R=this.hI.index;
if(o>.8){var r=!0,l=x.root.jJ(R);while(l.parent!=null){var M=l.parent,P=M.children;if(P.indexOf(l)!=0)r=!1;
l=l.parent}if(r){R=0;o=1}}if(v==""){B.Hn(J,this,this.parent.n4.indexOf(x),R+(o>.5?0:1))}else if(v!="--panel"){var v=JSON.parse(v),S=v.QJ;
if(S=="l")this.PE({R:m.kK,source:v.xH,target:R,FI:o});else if(S=="m"||S=="vm")this.PE({R:S=="m"?m.aG8:m.gp,src:v.xH,Gm:R});
else iP.aok(J,v,this)}};iP.aok=function(J,v,x,o){var R=v.QJ,r=x.hI.index,l=v.xH;if(R=="s"||R=="sm")x.PE({R:m.NK,src:l,Gm:r,i2:v.i2});
if(R=="f"||R=="fm")x.PE({R:m.a0j,src:l,Gm:r,i2:v.i2,Un:o==null?0:o})};iP.prototype.cf=function(J){B.Ib(J);
var v=iP.sv(J,this.wI),x=this.hI.w.tX()&&.5<v&&v<.8;this.sp();var o="inset 0 "+(x?0:v>.5?-3:3)+"px "+(x?"6px":0)+" var(--text-color)";
this.wI.style.boxShadow=o};iP.prototype.sp=function(J){this.wI.style.boxShadow=""};iP.axQ=-1;iP.YL=!1;
iP.asT=function(J){iP.YL=!1;document.body.removeEventListener("mouseup",iP.asT)};iP.prototype.afB=function(J){if(J.button!=0)return;
if(J.type=="mousedown"){iP.YL=!0;document.body.addEventListener("mouseup",iP.asT,!1)}if(J.type=="mouseover"&&(!iP.YL||iP.axQ==this.hI.index))return;
B.Ib(J);this.PE({R:m.MA,w:this.hI.index});iP.axQ=this.hI.index};iP.prototype.amp=function(J){B.Ib(J);
this.PE({R:m.abF,w:this.hI.index})};iP.prototype.aew=function(J){this.PE({R:m.eq,w:this.hI.index})};
iP.prototype.ak5=function(J){this.PE({R:m.Rx,w:this.hI.index})};iP.l7=0;iP.prototype.Uc=function(J){this.PE({R:m.E9,w:this.hI.index,name:J})};
iP.prototype.a7F=function(J){this.PE({R:m.ajL,w:this.hI.index})};iP.prototype.awZ=function(J){this.PE({R:m.Va,w:this.hI.index})};
iP.prototype.atH=function(J){if(J.button!=2&&!B.agV(J)&&!(J.ctrlKey&&gw.TH()))return;var v=this.kG(J);
if(v!=3&&J.currentTarget==this.aBB)v=4;if(J.target==this.a2K||J.currentTarget==this.azE)v=5;var x=new dd("rclick",!0);
x.data={w:this.hI.index,kG:v,vT:B.C2(J,document.body)};this.a(x)};iP.prototype.kG=function(J){var v=J.target,x=v;
return x==this.uW?2:x==this.d3?1:x==this.A_?0:x==this.LZ?3:-1};iP.prototype.a0e=function(J){var v=J.target,Y;
if(v==this.Xq.firstChild||v==this.oa||v==this.AZ||v==this.q0||v.tagName&&v.tagName.toLowerCase()=="input")return;
var x=this.kG(J),o=this.parent.qE,R=this.hI.index,r=o.k[R];if(v==this.aa9){this.PE({R:m.Ey,w:R,ra:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var l=iP.l7,M=Date.now()-l<300;iP.l7=Date.now();if(v==this.OI){if(M){this.wI.setAttribute("draggable","false");
var P=new gB.kB(this.OI,this.Uc.bind(this))}else this.PE({R:m.iN,w:R,dk:x,py:!0});return}if(du==0&&J.button==0&&M){if(v==this.OI)return;
var S=new dd(j.E.G,!0),c=new dd(j.E.j,!0),b=new dd(j.E.aT,!0);if(x==0&&r.add.SoCo){var w=g.UH.Eb(r.add.SoCo.Clr.v);
c.data={R:j.m.wz,kA:"colorpicker",qt:w.z<<16|w.H<<8|w.c,Ah:function(n){var E=g.UH.YK({c:n&255,H:n>>>8&255,z:n>>16&255});
E={classID:"null",Clr:{t:"Objc",v:E}};var K=new dd(j.E.G,!0);K.J=H.wu;K.data={R:m.Kh,UU:[R],NF:!0,K:{It:1,BD:E}};
this.a(K)}.bind(this),eu:!0}}else if(x==0&&(kC.get(r.add)||r.add.SoCo||r.add.GdFl||r.add.PtFl))c.data={R:j.m.KF,kA:gB.mL.eV};
else if(x!=0&&x!=-1)c.data={R:j.m.KF,kA:gB.mL.eV};else if(x==0&&r.add.SoLd){var U=r.add.SoLd,F=U.generativeDocInfo;
if(F)c.data={R:j.m.KF,kA:gB.mL.eV};else b.data={QI:"placedLayerEditContents",_g:{classID:"placedLayerEditContents"}}}else if(x==0&&r.add.TySh){S.J=H.i9;
S.data={R:"editCurr",IA:R}}else c.data={R:j.m.wz,kA:"layerstyle",w:R};this.a(b.data?b:c.data?c:S);return}if(J.button!=0)return;
if(x==1||x==3){var A=x==3?r.V0(o).pR:r.q9();Y=A.nX?o.U.xY.join("")=="111"?1:2:0}var G={R:m.iN,w:R,dk:x,aoX:Y,py:!0};
this.PE(G)};iP.prototype.PE=function(J){var v=new dd(j.E.G,!0);v.data=J;v.J=H.wu;this.a(v)};iP.prototype.awe=function(){var J=this.hI.w,v=J.add,x=this.parent.y$.s(),o=this.parent.SH[x].s();
if(x==0){if(o[0]&&v.SoLd==null&&v.TySh==null&&J.rn())return!0;if(o[1]&&kC.get(v)!=null)return!0;if(o[2]&&v.TySh!=null)return!0;
if(o[3]&&v.vstk!=null)return!0;if(o[4]&&v.SoLd!=null)return!0;return!1}if(x==1)return J.getName().toLowerCase().indexOf(o.toLowerCase())!=-1};
hh.Pj=function(J,v,x,o,R,r,l,M){aJ.call(this);this.aAB=v;this.Nr=x;this.index=r;this._=B.l("div","styleitem");
this.wI=B.l("div","head");this.a7j=null;if(v=="f"){var P=this.a7j=B.l("div","headR");P.textContent="\u2699";
this.wI.appendChild(P)}this.Xq=B.l("div","eye gsicon");this.OI=B.l("div","label");this._.appendChild(this.wI);
this.wI.appendChild(this.Xq);if(l){this.d3=l;this.wI.appendChild(l);B.L(this.wI,"height: "+M+"px")}this.OI.innerHTML=J;
B.L(this._,"margin-left: "+(24+o*16+R*22)+"px");this.wI.appendChild(this.OI);this.Xq.addEventListener("click",this.akg.bind(this),!1);
var S=this._;S.setAttribute("draggable","true");S.addEventListener("dragstart",this.ej.bind(this),!1);
if(!0){S.addEventListener("drop",this.EA.bind(this),!1);S.addEventListener("dragover",this.cf.bind(this),!1);
S.addEventListener("dragenter",B.Ib,!1);S.addEventListener("dragleave",this.ci.bind(this),!1)}this._.addEventListener("click",this.ER.bind(this),!1)};
hh.Pj.prototype=new aJ;hh.Pj.prototype.ej=function(J){J.stopPropagation();J.dataTransfer.setData("Text",JSON.stringify({QJ:this.aAB,xH:this.parent.hI.index,i2:this.index}))};
hh.Pj.prototype.ci=function(J){B.Ib(J);this.sp()};hh.Pj.prototype.EA=function(J){B.Ib(J);this.sp();var v=J.dataTransfer.getData("Text");
if(v=="")return;var v=JSON.parse(v);iP.aok(J,v,this.parent,this.index+(iP.sv(J,this.wI)>.5?0:1))};hh.Pj.prototype.cf=function(J){B.Ib(J);
var v=iP.sv(J,this.wI)>.5;this.sp();var x="border-"+(v?"bottom":"top");this.wI.style[x]="0.2em solid rgba(0,0,0,0.5)"};
hh.Pj.prototype.sp=function(J){this.wI.style.border="none"};hh.Pj.prototype.G0=function(J){this.Xq.style.opacity=J?1:.2};
hh.Pj.prototype.ER=function(J){var v=iP.l7,x=Date.now()-v<300;iP.l7=Date.now();if(J.target==this.Xq)return;
var o=this.parent.hI.index;if(x&&this.Nr!=null){var o=this.parent.hI.index,R=new dd(j.E.j,!0);if(this.Nr.indexOf("afw_")==0){var r=this.Nr.slice(4),l=i8[r]||a8.W[r],M=J.target==this.a7j;
if(!M&&!l)return;R.data=H.$v.an5(M?"blendOptions":r,{w:o,index:this.index})}else R.data={R:j.m.wz,kA:this.Nr,w:o,index:this.index};
this.a(R)}else{if(J.target.className!="thumb")this.parent.PE({R:m.iN,w:o,dk:0})}};hh.Pj.prototype.akg=function(J){var v={fm:m.J6,f:m.Zj,sm:m.gg,s:m.YM}[this.aAB];
this.parent.PE({R:v,w:this.parent.hI.index,index:this.index})};function b8(){gB.call(this,"Guide Guy",!1,"---panels/guideguy",gB.mL.aw_);
this.U8=null;this.lB=new dp(null,g.Av.aO)}b8.prototype=new gB("");b8.prototype.RQ=function(){this.WQ=[];
var J=B.l("div","form padded");this.Kp.appendChild(J);B.L(J,"width:200px");this.Kp.appendChild(J);var v=B.l("canvas"),x=v.getContext("2d");
v.width=v.height=160;var o=[32,0,16,160,0,32,160,16,0,112,160,16],R="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),r=[0,0,0,0,0,0,0,0,0,0];
J.appendChild(this.lB._);for(var h=0;h<10;h++){x.clearRect(0,0,160,160);x.setTransform(1,0,0,1,80,80);
x.rotate((h&3)*Math.PI/2);x.translate(-80,-80);x.fillStyle="rgba(0,0,0,0.3)";if(h<4){for(var l=0;l<12;
l+=4){x.fillStyle=l==0?"#000000":"rgba(0,0,0,0.3)";x.fillRect(o[l],o[l+1],o[l+2],o[l+3])}}else if(h<6){var M=8*6;
x.fillRect(0,0,M,160);x.fillRect(8*7,0,M,160);x.fillStyle="#000000";x.fillRect(8*14,0,M,160)}else if(h<8){x.fillRect(0,0,16,160);
x.fillRect(160-16,0,16,160);x.fillRect(32,0,160-64,160);x.fillStyle="#000000";x.fillRect(32,80-8,160-64,8*1)}else{x.fillRect(0,0,8*7,160);
x.fillRect(8*13,0,160,160);x.fillStyle="#000000";x.fillRect(8*7,80-8,8*6,8*1)}var P="<img src=\""+v.toDataURL()+"\" class=\"autoscale gsicon\" /> ",S=new fL(P,0,200,null,h==4||h==5?0:2,null,null,4,R[h]);
S.parent=this;S.P(j.E.n,this.atA,this);S.q(r[h]);S.d();this.WQ.push(S);J.appendChild(S._)}var c=[[11,14],[11,15,0]];
this.ah=[];for(var h=0;h<c.length;h++){var b=new bj(c[h],!0,null,!0);this.ah.push(b);b.P("click",this.Dq,this);
J.appendChild(b._)}for(var h=0;h<6;h++){x.setTransform(1,0,0,1,80,80);x.rotate(Math.floor(h/3)*Math.PI/2);
x.translate(-80,-80);x.clearRect(0,0,160,160);x.fillStyle="rgba(0,0,0,0.3)";x.fillRect(0,0,160,160);
x.clearRect(16,16,128,128);x.fillStyle="#000000";var w=h%3;x.fillRect([0,9,18][w]*8,0,16,160);var P="<img src=\""+v.toDataURL()+"\" class=\"autoscale gsicon\" /> ",b=new bj(P,!1,null,!1);
this.ah.push(b);b.P("click",this.Dq,this);J.appendChild(b._)}};b8.prototype.d=function(){gB.prototype.d.call(this);
this.lB.d();if(this.WQ==null)return;for(var h=0;h<this.ah.length;h++)this.ah[h].d()};b8.prototype.atA=function(J){var v=this.WQ,x=v.indexOf(J.target),o=Math.floor(x/2),R=x&1,r=[];
for(var h=0;h<4;h++)r.push(v[2*h+R].s());var l=-1;if(o==2&&r[2]!=0&&r[3]!=0&&r[4]!=0)l=4;if(o==3&&r[3]!=0&&r[2]!=0&&r[4]!=0)l=4;
if(o==4&&r[4]!=0&&r[2]!=0&&r[3]!=0)l=3;if(l!=-1)v[2*l+R].q(0)};b8.prototype.Dq=function(J){var v=this.U8,x=this.ah.indexOf(J.target),o=[[],[]];
if(v==null)return;var R=v.g?v.g.S:new jj(0,0,v.r,v.$),r=R.r,l=R.$;if(x==0){var M=[[],[]],P=this.lB.s();
for(var h=0;h<this.WQ.length;h++){var S=this.WQ[h].s();if(h!=4&&h!=5)S=g.Av.qM(S,v.Bt,(h&1)==0?R.r:R.$,P);
M[h&1].push(S)}var c=[b8.apU(M[0],R.x,R.x+r),b8.apU(M[1],R.y,R.y+l)];o=b8.Yt(c);H.Io.Cp(o,v.lg())}else if(x==1){}else{x-=2;
var b=Math.floor(x/3),c=[[],[]];c[b].push([R.x,R.x+r/2,R.x+r,R.y,R.y+l/2,R.y+l][x]);o=b8.Yt(c);H.Io.Cp(o,v.lg())}this.akj(o)};
b8.Yt=function(J){var v=[],x=[];for(var o=0;o<2;o++)for(var h=0;h<J[o].length;h++){v.push([o,J[o][h]]);
x.push(-1)}return[v,x]};b8.prototype.ajz=function(J){var v=this.aAc.indexOf(J.target)};b8.prototype.akj=function(J){var v=new dd(j.E.G,!0);
v.J=H.VO;v.data={R:"gids",TQ:J};this.a(v)};b8.apU=function(J,v,x){var o=[],R=J[2],r=J[3],l=J[4],M=0;
if(R==0)M++;if(r==0)M++;if(l==0)M++;if(M>1&&R==0&&r==0){if(J[0]!=0)o.push(v+J[0]);if(J[1]!=0)o.push(x-J[1]);
return o}var P=x-v-J[0]-J[1];if(R==0){if(l==0){R=Math.floor(P/r);l=(P-R*r)/(R-1)}else{R=1;while(r*R+l*(R-1)+r+l<=P)R++}}else if(R!=0&&r!=0){if(R*r>P)R=Math.floor(P/r);
l=(P-R*r)/(R-1)}o.push(v+J[0],x-J[1]);var r=(P-l*(R-1))/R;for(var h=1;h<R;h++){if(l==0)o.push(v+J[0]+h*r);
else o.push(v+J[0]+h*r+(h-1)*l,v+J[0]+h*r+h*l)}return o};b8.prototype.Q4=function(J,v,x){this.U8=J};
b8.prototype.dL=function(){if(B.yn(this.Kp)&&this.WQ==null)this.RQ();this.d()};b8.prototype.pJ=function(J){this.lB.q(J.i3.eE)};
function gN(){gB.call(this,[9,2],!1,"---panels/properties",gB.mL.eV);this.aeo=null;this.qE=null;this.f=null;
this.arN=-1;this.DP=null}gN.prototype=new gB("");gN.prototype.qe=function(J,v){this.BK=J;this.mq=v;J=J-16;
v=v-30;var x=this.DP;if(x){x.style.width=J+"px";x.style.height=v+"px";for(var h=0;h<3;h++)this.atd[h].qe(J-12,v)}};
gN.prototype.RQ=function(){this.DP=B.l("div","padded scrollable");this.Kp.appendChild(this.DP);var J=B.l("span");
this.DP.appendChild(J);this.fB=[new bj([0,3]),new bj([12,73]),new bj([12,91,0])];for(var h=0;h<this.fB.length;
h++){var v=this.fB[h];v.P("click",this.aEA,this);J.appendChild(v._);if(h==2)v._.style.marginRight="0"}this.DP.appendChild(B.l("hr"));
this.y3=new gN.Mm;this.y3.parent=this;this.Ij=new gN.Xu;this.Ij.parent=this;this.$q=new gN._i;this.$q.parent=this;
this.atd=[this.y3,this.Ij,this.$q];this.DP.appendChild(this.y3._);this.XK=B.l("div","lpfoot");this.Kp.appendChild(this.XK);
this.cq=[];for(var h=0;h<4;h++){var v=new bj("W");v.P("click",this.cr,this);this.cq.push(v);this.XK.appendChild(v._)}this.qe(this.BK,this.mq)};
gN.prototype.cr=function(J){var h=this.cq.indexOf(J.target);if(h==1){var v=this.qE,x=v.k[v.Y[0]],o=kC.get(x.add);
this.y3.aBF.q(a8.ow(o));this.y3.aas();return}var R=new dd(j.E.G,!0);R.J=H.wu;if(h==0)R.data={R:m.Pe};
if(h==2)R.data={R:m.MA};if(h==3)R.data={R:m.Wd};this.a(R)};gN.prototype.aEA=function(J){var h=this.fB.indexOf(J.currentTarget);
this.A2(h);this.ad0(h==1?this.Ij.HT:-1)};gN.prototype.A2=function(J){for(var h=0;h<3;h++){this.fB[h].Il();
var v=this.atd[h]._;if(v.parentNode==this.DP&&h!=J)this.DP.removeChild(v);if(v.parentNode!=this.DP&&h==J)this.DP.appendChild(v)}this.fB[J].$I()};
gN.prototype.ad0=function(J){var v=this.qE.Y[0],x=this.qE.k[v],o=J+1;if(J==1&&x.CE)return;var R=new dd(j.E.G,!0);
R.J=H.wu;if(J!=1&&x.CE){R.data={R:m.iN,w:v,dk:2};this.a(R)}R.data={R:m.iN,w:v,dk:o};this.a(R)};gN.prototype.d=function(){gB.prototype.d.call(this);
if(this.DP==null)return;this.Q4(this.qE);for(var h=0;h<3;h++){this.fB[h].d();this.atd[h].d()}hm.BJ(this.cq,["lrs/clipping","reload","lrs/eye","lrs/bin"],[[6,6,0],[1,12,2],[5,5],[6,31]])};
gN.prototype.dL=function(){if(!B.yn(this.Kp))return;if(this.DP==null){this.RQ();this.pJ(this.f,cj.q6);
this.Q4(this.aeo);this.d()}};gN.prototype.Q4=function(J){this.aeo=J;if(this.DP==null)return;this.y3.Q4(J);
this.Ij.Q4(J);this.$q.Q4(J);if(J==null||J.Y.length==0||J.k[J.Y[0]]==null){B._H(this.Kp,"disabled");this.qE=null;
return}else B.Nv(this.Kp,"disabled");var v=J.Y[0],x=J.k[v];this.cq[0].q(x.Hv);this.cq[1].Ne(kC.get(x.add)!=null);
this.cq[2].q(x.jh());var o=J.Ng(),R=o[0],r=o[1];if(r.length!=0){var l=R[r[0]],M=l.add.vogk,P=!1;if(M)for(var h=0;
h<M.length;h++){var S=M[h].v;if(!g.Fw.Cx(S))continue;P=!0;v=l.Vn}}v+=","+P;if(J!=this.qE||this.arN!=v){this.qE=J;
this.arN=v;if(P)this.A2(2);else if(x.kG<1&&!x.CE||kC.get(x.add))this.A2(0);else this.A2(1)}this.fB[1].Ne(this.Ij.HT!=-1);
this.fB[2].Ne(P)};gN.prototype.pJ=function(J,v){this.f=J;if(this.y3)this.y3.pJ(J,v);if(this.$q)this.$q.pJ(J,v)};
gN.Mm=function(){aJ.call(this);this._=B.l("div","form");this.avN=new aT("Hello");this._.appendChild(this.avN._);
this.xQ=null;this.aBF=null;this.qE=null;this.f=null;this.a75=-1;this.alh=null;this.aC_=null;this.jg=new aK(0,!0,!0);
this.jg.parent=this;this.jg.P(j.E.n,this.aho,this);this._.appendChild(this.jg._);this.Qz=new hf(!0);
this.Qz.parent=this;this.Qz.P(j.E.n,this.a2_,this);this.uA=B.l("div","marged hiline");this.uA.appendChild(this.Qz._);
this.Bv=new ig("GrFl",!0);this.Bv.parent=this;this.Bv.P(j.E.n,this.ank,this);this.PZ=B.l("div","marged hiline");
var J="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var h=0;h<J.length;h++){var v=this.Bv.uD[J[h]]._;
this.PZ.appendChild(v)}this.I3=new ig("patternFill",!0);this.I3.parent=this;this.I3.P(j.E.n,this.afm,this);
this.Iy=B.l("div","marged hiline");var J=["Ptrn","Angl","Scl","Algn","phase"];for(var h=0;h<J.length;
h++){var v=this.I3.uD[J[h]]._;this.Iy.appendChild(v)}this.fo={};for(var x in kC.names){if(i8[x]==null)continue;
this.fo[x]=new i8[x];this.fo[x].P(j.E.n,this.aas,this);this.fo[x].parent=this}var o=this.aId=B.l("div","marged hiline");
this.HA=new aK(0,!0);o.appendChild(this.HA._);this.HA.P(j.E.n,this.uF,this);this.azH=null;this.nK=new jb;
this.nK.parent=this;this.nK.P(j.E.n,this.uF,this);o.appendChild(this.nK._);this.Gg=new jv;this.Gg.parent=this};
gN.Mm.prototype=new aJ;gN.Mm.prototype.aho=function(J){var v=this.jg.s(),x=this.aC_,o=new jj(v[0],v[1],v[2],v[3]);
if(o.Ym(x))return;this.aC_=o;var R=new dd(j.E.G,!0);if(x.r==o.r&&x.$==o.$){R.J=H.VO;R.data={R:"trsl",AU:o.x-x.x,aq:o.y-x.y}}else{R.J=H.tS;
R.data={R:"scl",hX:[2,4],K:new aG(o.r/x.r,o.$/x.$),__:0}}this.a(R)};gN.Mm.prototype.qe=function(J,v){var x=this.fo;
for(var o in x)x[o].qe(J,v)};gN.Mm.prototype.d=function(){for(var J in this.fo)this.fo[J].d();this.Bv.d();
this.I3.d();this.nK.d();this.HA.d();this.jg.d();this.Gg.d()};gN.Mm.prototype.uF=function(J){var v=new dd(j.E.G,!0),x=this.HA.s(),o=this.azH;
if(J.target==this.HA&&x[2]==o[2]&&x[3]==o[3]){v.J=H.VO;v.data={R:"trsl",AU:x[0]-o[0],aq:x[1]-o[1]}}else{var R=m.wB(new jj(x[0],x[1],x[2],x[3])),r=this.nK.afz();
r.artboardRect={t:"Objc",v:R};var l=this.qE,M=l.k[l.Y[0]],P=M.add.artb.guideIndeces;if(P)r.guideIndeces=g.F(P);
v.J=H.wu;v.data={R:m.D1,vo:r}}this.a(v)};gN.Mm.prototype.a2_=function(J){var v=this.qE,x=v.Y[0];if(v.k[x].add.SoCo==null)return;
var o=g.F(v.k[x].add.SoCo);o.Clr.v=this.Qz.s();this.Kw({It:1,BD:o})};gN.Mm.prototype.ank=function(J){var v=this.qE,x=v.Y[0];
if(v.k[x].add.GdFl==null)return;this.Kw({It:2,BD:this.Bv.s()})};gN.Mm.prototype.afm=function(J){this.Kw({It:3,BD:this.I3.s()})};
gN.Mm.prototype.Kw=function(J){this.a4Q(H.wu,{R:m.Kh,UU:[this.qE.Y[0]],NF:!0,K:J})};gN.Mm.prototype.aas=function(J){this.a4Q(H.hi,{R:"edit_layer",K:this.aBF.s()})};
gN.Mm.prototype.a4Q=function(J,v){var x=new dd(j.E.G,!0);x.J=J;x.data=v;this.a(x)};gN.Mm.prototype.Q4=function(J,v){var x=ea.get([0,3]),o=!1,R=null;
this.qE=J;if(J&&J.k.length>0&&J.Y.length!=0&&J.k[J.Y[0]]){var r=J.k[J.Y[0]],l=kC.get(r.add);if(l!=null&&this.fo[l]!=null){R=this.fo[l]._;
this.aBF=this.fo[l];this.fo[l].q(g.F(r.add[l]));if(J.Y[0]!=this.a75){var M=J.rv(J.Y[0]-1);this.alh=g.n7(M)}this.fo[l].MY(this.alh);
x=ea.get(kC.names[l])}if(l==null&&r.add.artb==null){var P=this.aC_=g.b.RN(H.ge.ca(J));o=!P.L3();var S=J.tJ();
P.x-=S.x;P.y-=S.y;this.jg.q([P.x,P.y,P.r,P.$],[J.Bt,J.r,this.f.i3.eE])}if(r.add.SoCo){R=this.uA;this.Qz.q(r.add.SoCo.Clr.v);
x=ea.get([6,48,0,0])}if(r.add.GdFl){R=this.PZ;this.Bv.update(J,r.add.GdFl);x=ea.get([6,48,0,1])}if(r.add.PtFl){R=this.Iy;
this.I3.update(J,r.add.PtFl);x=ea.get([6,48,0,2])}if(r.add.artb){var c=r.add.artb,b=r.Gf();R=this.aId;
this.nK.aj0(c);var w=this.azH=[b.x,b.y,b.r,b.$];this.HA.q(w,[J.Bt,J.r,this.f.i3.eE]);x=ea.get([1,16,0])}var U=r.add.SoLd;
if(U&&U.generativeDocInfo){var F=U.Idnt.v,Y=J.mA(F);this.Gg.q(Y.raw.buffer);R=this.Gg._}this.a75=J.Y[0]}if(R!=this.xQ){if(this.xQ)this._.removeChild(this.xQ);
if(R!=null)this._.appendChild(R);this.xQ=R}this.avN.q(x);this.jg._.style.display=o?"":"none"};gN.Mm.prototype.pJ=function(J,v){this.f=J;
this.Bv.pJ(J,v);this.I3.pJ(J,v);if(v==cj.oT)this.Q4(this.qE,J);for(var x in this.fo)this.fo[x].pJ(J,v)};
gN.Xu=function(){aJ.call(this);this._=B.l("div","form");this.qE=null;this.HT=0;var J=B.l("span","fitem");
this._.appendChild(J);this.fB=[new bj([6,2]),new bj([6,3]),new bj([6,50])];for(var h=0;h<this.fB.length;
h++){var v=this.fB[h];v.P("click",this.aIh,this);J.appendChild(v._)}this.Q1=new jL([12,74],0,255);this.Q1.P(j.E.n,this.hK,this);
this._.appendChild(this.Q1._);this.I_=new jL([7,6],0,500,"px",2,!0);this.I_.P(j.E.n,this.hK,this);this._.appendChild(this.I_._);
this.a9q=new bj([4,11],null,null,!0);this.a9q.P("click",this.agE,this)};gN.Xu.prototype=new aJ;gN.Xu.prototype.agE=function(){var J=new dd(j.E.G,!0);
J.J=H.hi;J.data={R:"start",BV:"nvrt"};this.a(J)};gN.Xu.prototype.hK=function(J){var v=this.Q1.s(),x=this.I_.s(),o=new dd(j.E.G,!0);
o.J=H.wu;o.data={R:m.su,UT:this.qE.Y[0],CB:{nO:this.HT,Q1:v,I_:x}};this.a(o)};gN.Xu.prototype.d=function(){for(var h=0;
h<this.fB.length;h++)this.fB[h].d();this.Q1.d();this.I_.d();this.a9q.d()};gN.Xu.prototype.Q4=function(J){this.qE=J;
this.CL()};gN.Xu.prototype.aIh=function(J){this.CL(this.fB.indexOf(J.currentTarget));this.parent.ad0(this.HT)};
gN.Xu.prototype.CL=function(J){var v=this.qE,x=this.fB;for(var h=0;h<3;h++){var o=x[h];o.Il();o.UG()}if(v==null||v.k.length==0||v.Y.length==0||v.k[v.Y[0]]==null)return;
var R=-1,r=v.k[v.Y[0]];if(r.Ov()&&r.V0(v).pR!=null){x[2].fS();R=2}if(r.add.vmsk){x[1].fS();R=1}if(r.q9()){x[0].fS();
R=0}if(J!=null)R=J;else if(r.CE)R=1;else if(r.kG==3)R=2;else if(r.kG==1)R=0;this.HT=R;if(R==-1){this.Q1.UG();
this.I_.UG();return}var l=r.mo(R);this.Q1.fS();this.I_.fS();this.Q1.q(l.Q1);this.I_.q(l.I_);x[R].$I();
var M=this.a9q._;if(R==0)this._.appendChild(M);else if(M.parentNode==this._)this._.removeChild(M)};gN._i=function(){aJ.call(this);
this._=B.l("div","form");this.U8=null;this.f=null;this.CQ=-1;this.jg=new aK(0,!1);this.xI=new jL([12,15],-180,180,"\xB0",2);
this.$j=new aK(1,!0);this.qW=new jL([12,94,0],0,100,null,2);this.NX=new jL([12,78],3,30);this.Da=new bj(["\u279C  ",[12,76,0]],null,null,!0);
this.jg.P(j.E.n,this.df,this);this.xI.P(j.E.n,this.df,this);this.$j.P(j.E.n,this.df,this);this.qW.P(j.E.n,this.df,this);
this.NX.P(j.E.n,this.df,this);this.Da.P("click",this.df,this)};gN._i.prototype=new aJ;gN._i.prototype.d=function(){this.jg.d();
this.xI.d();this.$j.d();this.qW.d();this.NX.d()};gN._i.prototype.df=function(J){var v=this.U8,x=g.Fw.e6(v),o=J.target.s(),R=[this.jg,this.xI,this.$j,this.qW,this.NX,this.Da].indexOf(J.target);
if(R==0){var r=v.tJ(),l=[],M=l[0]=o[0]+r.x,P=l[1]=o[1]+r.y;l[2]=M+o[2];l[3]=P+o[3];o=l}if(R==1)o=o*Math.PI/180;
var S={0:1,1:2,2:3,3:3,4:4}[R];x[S]=o;var c=new dd(j.E.G,!0);c.J=H.wu;c.data={R:m.lt,K:x,agb:R==5};this.a(c)};
gN._i.prototype.Q4=function(J){var v=this._;this.U8=J;if(J==null)return;var x=this.f,o=[J.Bt,J.r,x.i3.eE],R=g.Fw.e6(J),r=R[0],l=R[1];
if(l==null)return;var M=r!=this.CQ;this.CQ=r;if(M)B.wp(v);if(M)v.appendChild(this.jg._);if(M)v.appendChild(this.xI._);
var P=J.tJ();this.jg.q([l[0]-P.x,l[1]-P.y,l[2]-l[0],l[3]-l[1]],o);this.xI.q(R[2]*180/Math.PI);if(r==2){if(M)v.appendChild(this.$j._);
var S=R[3];this.$j.q(S,o)}if(r==7||r==8){if(M)v.appendChild(this.qW._);this.qW.q(R[3])}if(r==8){if(M)v.appendChild(this.NX._);
this.NX.q(R[4])}v.appendChild(this.Da._)};gN._i.prototype.pJ=function(J,v){this.f=J;this.Q4(this.U8)};
function hq(J){gB.call(this,J.name,!0);this.qE=J;this.f=null;this.UY=new fj(this.Kp);this.UY.parent=this}hq.prototype=new gB;
hq.y8=function(){var J=document.createElement("canvas"),v=document.createElement("canvas"),x=document.createElement("canvas"),o=16,R=g.C(16*16*4);
g.PH(R,o,o,8);var r=g.scale.uY(R,o,o);return{_X:J,aHe:v,agl:x,SU:J.getContext("2d",{willReadFrequently:!0}),aB$:v.getContext("2d"),acX:x.getContext("2d"),mz:r}}();
hq.prototype.aed=function(){if(this.qE.y6())return window.confirm(ea.get([22,6,3])+" "+this.qE.name+". "+ea.get([22,6,4]));
return!0};hq.prototype.pJ=function(J,v){this.f=J};hq.prototype.Q4=function(J){this.dL();this._t()};hq.prototype.qe=function(J,v){if(J<=0||v<=0)return;
this.BK=J;this.mq=v;var x=this.qE,o=hq.y8,R=B.rR();x.U.SU.r=Math.floor(J*R);x.U.SU.$=Math.floor(v*R);
B.QH(o._X,J,v);B.QH(o.aHe,J,v);B.QH(o.agl,J,v);B.QH(gi.n2(),J,v);if(x.U.NT==0)x.U.NT=H.gu.pl(x.r,x.$,J*R,v*R);
this._t()};hq.prototype.dL=function(){var J=this.Kp.firstChild,v=hq.y8,x=gi._E&&du==0;if(!x&&J==gi.n2()||x&&J==v._X)this.Kp.removeChild(J);
var o=x?gi.n2():v._X;if(!B.yn(o))this.Kp.appendChild(o)};hq.prototype._t=function(){if(this.f==null)return;
var J=this.qE,v=gi._E&&du==0;if(v)this.ajb();else this.Ma()};hq.prototype.ajb=function(){if(gi._E&&hq.a63==null){var J=hq.a63=[],v=[0,2,8,32,128];
for(var h=0;h<5;h++)J[h]=[new hq.Fn(!1,v[h],!1),new hq.Fn(!0,v[h],!1)];J.push([new hq.Fn(!1,0,!0),new hq.Fn(!0,0,!0)])}var x=this.qE,o=hq.y8,F,G=0,k,V;
if(x.M7==null)return;var R=x.U,r=R.SU.r,l=R.SU.$,M=gi.zJ;o.SU.clearRect(0,0,r,l);var P=this.asF(x);if(R.p$==null||R.p$.r!=r||R.p$.$!=l)R.p$=new gi.GH(r,l);
if(P){var S=Date.now(),c=l,b=new Uint8Array(o.SU.getImageData(0,0,r,c).data.buffer);R.p$.set(b,new jj(0,0,r,c));
this.OU=!0}else if(this.f.fD){if(this.OU){gi.DM(R.p$);gi.rm(1);this.OU=!1}var w=g.Av.E4,b=new Uint8Array(x.U.Rp.data.buffer);
R.p$.set(b,new jj(0,0,w,l));var b=new Uint8Array(x.U.Iz.data.buffer);R.p$.set(b,new jj(0,0,r,w));var b=new Uint8Array(o.SU.getImageData(0,l-w,r,w).data.buffer);
R.p$.set(b,new jj(0,l-w,r,w));this.OU=!0}else if(this.OU){gi.DM(R.p$);gi.rm(1);this.OU=!1}var U=R.Lp(0,0);
if(hq.ahx==null)hq.ahx=new Float32Array(4*1024);var Y=[0,0,0,0],A=hq.ahx;if(x.add.artd){A.fill(0);Y=hq.tZ(x);
var n=x.r,E=x.$,N=0;for(var h=0;h<x.k.length;h++){var K=x.k[h],e=K.add.artb;if(e==null||!K.jh())continue;
var $=K.Gf();A[G]=$.x/n;A[G+1]=$.y/E;A[G+2]=$.r/n;A[G+3]=$.$/E;G+=4;if(G==A.length)break}if(G>2*4)N++;
if(G>8*4)N++;if(G>32*4)N++;F=hq.a63[N+1];A=new Float32Array(A.buffer,0,[2,8,32,128][N]*4)}else F=hq.a63[x.dZ?5:0];
var X=x.Ab();if(X==null)F=F[0];else{F=F[1];V=X[x.add.fcmy==1?6:4];k=X[2]}gi.apV(r,l);gi.rm(0);gi.apV(r,l);
F.Zs();var Q=new bC;Q.scale(r,l);Q.concat(R.Vu(!0));Q.scale(1/x.r,1/x.$);var L=[Q.o5,Q.c,0,Q.Mz,Q.fn,0,Q.zP,Q.jD,1];
F.HB(R.p$.qb,x.M7.qb,new Float32Array(L),new Float32Array([r/8,l/8,U.x/r,U.y/l]),x.r,x.$,1/x.U.NT,r,l,new Float32Array(Y),A,new Float32Array(g.$G.E3(g.$G.aEP(R.xY))),V,k);
M.drawArrays(M.TRIANGLES,0,6)};hq.tZ=function(J){return[0,0,0,0]};hq.a2o=function(J){var v=g.UH.Eb(J.v),x=[v.z/255,v.H/255,v.c/255,1];
for(var h=0;h<4;h++)x[h]=Math.min(1,x[h]);return x};hq.zu=function(J,v){var x=J[2]*255;if(gi._E)x=v?0:Math.max(2,x);
return"rgba("+J[0]*255+","+J[1]*255+","+x+","+J[3]+")"};hq.mu=function(J){var v=J.length;if(gi._E)for(var h=0;
h<v;h+=4){if(J[h+2]==0)J[h+2]=3}};hq.prototype.Ma=function(){var J=this.qE,v=hq.y8;if(du==0&&J.buffer==null)return;
var x=J.U,o=x.SU,R=o.r,r=o.$,l=new jj(0,0,J.r,J.$);v.SU.clearRect(0,0,R,r);var M=J.add.prvw==0;if(du==1&&M){v.SU.fillStyle="white";
v.SU.fillRect(-5e3,-5e3,2e4,2e4)}var P=x.Vu(!0),S=P.Q();S.SV();if(J.add.artd==null){v.SU.save();var c=S.Xw(new aG(0,0));
S.translate(-c.x,-c.y);v.SU.translate(Math.round(c.x),Math.round(c.y));v.SU.fillStyle=du==0?v.mz:"#ffffff";
if(J.dZ)v.SU.fillRect(-5e3,-5e3,2e4,2e4);else{var b=J.add.arts;if(du==1)for(var h=0;h<b.length;h++){var w=g.b.ni(b[h].ZW);
this.xG(g.b.ho(w),S,v.SU);if(M)v.SU.stroke();else v.SU.fill()}else{this.xG(g.b.ho(l),S,v.SU);v.SU.fill()}}v.SU.restore()}else{v.SU.fillStyle=hq.zu(hq.tZ(J));
v.SU.fillRect(0,0,R,r);v.SU.save();v.SU.setTransform(S.o5,S.c,S.Mz,S.fn,S.zP,S.jD);var U=J.root.children;
for(var h=0;h<U.length;h++){var F=U[h].w;if(F.add.artb==null||!F.jh())continue;var Y=F.Gf(),A=F.f1();
if(A!=0)continue;v.SU.fillStyle=v.mz;v.SU.save();v.SU.scale(1/x.NT,1/x.NT);v.SU.fillRect(x.NT*Y.x,x.NT*Y.y,Y.r*x.NT,Y.$*x.NT);
v.SU.restore()}v.SU.restore()}var S=x.Vu(!0);S.SV();if(du==1){v.SU.save();var G=g.b.ho(x.SU);g.b.u(G.T,x.Vu(!0),G.T);
var w=g.b.jR(G.T);v.SU.setTransform(S.o5,S.c,S.Mz,S.fn,S.zP,S.jD);J.root.rx(J,v.SU,this.f,w);v.SU.restore()}else{x.f6();
var n=o,E=J.P$;if(E&&E.Db(l))E=null;if(!J.dZ){var K=E;if(K==null)K=l;var e=g.b.ho(K).T;g.b.u(e,S,e);
var w=g.b.jR(e);n=o.Xt(w)}if(!n.L3()){var $=new Uint8Array(x.Ek.buffer,0,n.o()*4);$.fill(0);g.scale.Ka(J.buffer,l,P,$,n,J.dZ);
var N=J.Ab();if(N)ICC.U.applyLUT(N[J.add.fcmy==1?5:3],N[2],$,$);if(x.xY[0]+x.xY[1]+x.xY[2]!=3)g.$G.agO($,$,g.$G.aEP(x.xY));
if(E)v.acX.clearRect(n.x,n.y,n.r,n.$);else v.acX.clearRect(0,0,R,r);v.acX.putImageData(new ImageData(new Uint8ClampedArray($.buffer,0,$.length),n.r,n.$),n.x,n.y)}v.SU.drawImage(v.agl,0,0);
v.SU.getImageData(0,0,1,1)}this.asF(J)};hq.prototype.asF=function(J){var v=J.U,x=v.xY[0]+v.xY[1]+v.xY[2],o=hq.y8,R=!1,r=[];
for(var h=0;h<J.Y.length;h++){var l=J.k[J.Y[h]];if(l==null)continue;var M=l.kG;if(M!=1&&M!=3)continue;
var P=M==1?l.q9():l.V0(J).pR;if(P.nX)r.push(P)}for(var h=0;h<J.ac.length;h++)if(J.ac[h].nX)r.push(J.ac[h]);
for(var h=0;h<r.length;h++){var P=r[h];this.a9o(P,v,r.length==1&&x==0?2:1,P.color,P.qt);R=!0}var S=this.f;
R=this.aqB(J,o.SU,v,r.length!=0)||R;if(J.g&&S.lf&&S.i3.T4){this.a9o(J.g,v,0,0,null);R=!0}return R};hq.prototype.a9o=function(J,v,x,o,R){var r=0;
if(R)r=Math.round(R.c)<<16|Math.round(R.H)<<8|Math.round(R.z);var l=v.Vu(!0),M=v.SU,P=new jj(0,0,v.qE.r,v.qE.$),S=hq.y8;
v.f6();v.wX.fill(o);v.Ek.fill(0);var c=J.N,b=J.S;g.scale.u(c,b,l,v.wX,M);if(x==0){var w=new Uint32Array([4278190080,4294967295]);
hq.mu(new Uint8Array(w.buffer));g.g.arA(v.wX,v.Ek,M,w,B.rR()>1.9)}else{var U=Date.now();g.g.ay6(v.wX,v.Ek,M,x,r);
hq.mu(v.Ek)}var F=new ImageData(new Uint8ClampedArray(v.Ek.buffer),M.r,M.$);S.aB$.putImageData(F,0,0);
S.SU.save();if(x!=0){var Y=new jj(0,0,P.r,P.$),A=l.Q();A.SV();this.xG(g.b.ho(Y),A,S.SU);S.SU.clip()}S.SU.drawImage(S.aHe,0,0);
S.SU.restore()};hq.prototype.aqB=function(J,v,x,o){var R=J.dB.Py!=null||J.dB.xt!=null||J.dB._5!=null||J.dB.Ru!=null||J.dB.aU!=null||J.dB.Af!=null||J.dB.OR.length!=0||J.dB.kl.length!=0,r=this.f,l=r.i3,M=k$.Ga[r.Lh],P=Math.round(12*B.rR()),S=P/J.U.NT,c=x.Vu(!0);
c.SV();v.save();v.setTransform(c.o5,c.c,c.Mz,c.fn,c.zP,c.jD);var b=hq.tZ(J)[0];b=b<.5?b+.5:b-.5;b=""+Math.round(b*255).toString(16);
while(b.length<2)b="0"+b;v.font=S+"px sans-serif";if(J.add.artd){v.fillStyle="#"+b+b+b;for(var h=0;h<J.k.length;
h++){var w=J.k[h];if(w.add.artb==null||!w.jh())continue;var U=w.Gf();v.save();v.beginPath();v.rect(U.x,U.y-2*S,U.r,2*S);
v.clip();v.fillText(w.getName(),U.x+2,U.y-S*.7);v.beginPath();v.restore();R=!0}}if(J.add.arts&&r.Lz==H.h9){var F=J.add.arts;
for(var h=0;h<F.length;h++){var U=F[h],Y=g.b.ni(U.ZW),A=(h+1+"").padStart(2,"0");A+=" - "+U.ox;v.save();
v.beginPath();v.fillStyle=U.Y?"#cce6ff":"#dddddd";v.rect(Y.x,Y.y,v.measureText(A).width+S,S*1.5);v.fill();
v.fillStyle="black";v.fillText(A,Y.x+S/2,Y.y+S*1.1);v.restore()}R=!0}function G(eL){return eL==1||eL==2||eL==4||eL==5}var n=hq.zu([.3,.5,1,1]),E=hq.zu([1,1,1,1]);
if(r.lf&&l.h1){v.fillStyle=v.strokeStyle=n;v.lineWidth=1.5/x.NT;var K=J.Ng(),e=K[0],$=K[1];for(var N=0;
N<$.length;N++){var w=e[$[N]],k=w.add.vmsk,V=k.X,X=g.b.Am(V);this.xG(X,null,v);v.stroke();R=!0;var Q=3*B.rR()/x.NT;
for(var h=0;h<k.J7.length;h++){var L=g.I.apa(V,k.J7[h]);if(L==null)continue;var _=L.x,a=L.y;v.beginPath();
var T=h==0;if(k.Oj)T=!T;if(T){v.moveTo(_-Q,a-Q);v.lineTo(_+Q,a+Q);v.moveTo(_-Q,a+Q);v.lineTo(_+Q,a-Q);
v.stroke()}else{v.arc(_,a,Q*1,0,2*Math.PI);v.fill()}R=!0}if(J.Y.length!=1)continue;var f=-1,Z=-1,W=-1;
for(var h=0;h<V.length;h++){if(V[h].e>5)continue;if(V[h].e==0||V[h].e==3){Z=h+1;W=V[h].length;if(V[h].da!=-1)f++;
continue}if(k.Y.indexOf(f)!=-1){var _=V[h].Z.x,a=V[h].Z.y;v.fillRect(_-Q*.8,a-Q*.8,2*Q*.8,2*Q*.8)}if(k.Ax.indexOf(h)!=-1){var D=V[h],C=[D.Z];
v.beginPath();v.moveTo(D.nQ.x,D.nQ.y);v.lineTo(D.Z.x,D.Z.y);v.lineTo(D._v.x,D._v.y);var d=Z+(h+W-Z-1)%W,p=Z+(h+W-Z+1)%W,y=V[d],i=V[p];
if(y&&G(y.e)&&k.Ax.indexOf(d)==-1){v.moveTo(y.Z.x,y.Z.y);v.lineTo(y._v.x,y._v.y);C.push(y._v)}if(i&&G(i.e)&&k.Ax.indexOf(p)==-1){v.moveTo(i.Z.x,i.Z.y);
v.lineTo(i.nQ.x,i.nQ.y);C.push(i.nQ)}v.stroke();if(!D.Z.Ym(D.nQ))C.push(D.nQ);if(!D.Z.Ym(D._v))C.push(D._v);
for(var t=0;t<C.length;t++){var L=C[t],_=L.x,a=L.y;if(t==0&&(D.e==2||D.e==5))v.fillRect(_-1.2*Q,a-1.2*Q,2.4*Q,2.4*Q);
else{v.beginPath();v.arc(_,a,Q*1.2,0,2*Math.PI);v.fill();if(t!=0)v.fillStyle=E;v.beginPath();v.arc(_,a,Q*.8,0,2*Math.PI);
v.fill();v.fillStyle=n}}}R=!0}}if(J.KG!=-1&&[H.kN,H.if,H.tW].indexOf(r.Lz)!=-1){var w=J.h1[J.KG],k=w.add.vmsk,V=k.X,X=g.b.Am(V);
this.xG(X,null,v);v.stroke();R=!0}}v.lineWidth=1/x.NT;if(J.dB.Tl){v.fillStyle=v.strokeStyle=n;var i={T:[],Wp:[]},O=hq.aeh;
if(O==null){O=hq.aeh={T:[1,0],Wp:["M"]};for(var h=1;h<30;h++){var q=Math.PI*2*h/30;O.T.push(Math.cos(q),Math.sin(q));
O.Wp.push("L")}O.Wp.push("Z","M","L","M","L");O.T.push(-.5,0,.5,0,0,-.5,0,.5)}for(var h=0;h<J.dB.Tl.length;
h++){var y=H.tf.a1y(J.dB.Tl[h],x),z=new bC(y[0],0,0,y[0],y[1],y[2]);g.b.concat(i,O,z)}this.xG(i,null,v);
v.stroke();R=!0}var jw=new bC(1,0,0,1,.5/x.NT,.5/x.NT);if(J.dZ){v.fillStyle=v.strokeStyle=n;var i={T:[0,0,J.r,0,J.r,J.$,0,J.$],Wp:["M","L","L","L","Z"]};
this.xG(i,jw,v);v.stroke();R=!0}if(J.dB.zj){v.fillStyle=v.strokeStyle=hq.zu([0,0,0,.5]);this.xG(J.dB.zj,null,v,!0);
v.fill("evenodd")}v.strokeStyle=n;v.fillStyle=E;if(J.dB._5){this.xG(J.dB._5,jw,v);v.stroke()}if(J.dB.aU){this.xG(J.dB.aU,jw,v);
v.lineWidth=B.rR()*3.5/x.NT;v.stroke()}var u=hq.U4(J.dB.$C,v,x);v.fill();v.stroke();R=R||u;v.fillStyle=v.strokeStyle=hq.zu([0,0,0,gi._E&&du==0?1:.5],!0);
if(J.dB.Py){this.xG(J.dB.Py,null,v);v.fill()}if(J.dB.xt){this.xG(J.dB.xt,jw,v);v.stroke()}for(var iH in J.dB.cJ)if(J.dB.cJ[iH].xt){this.xG(J.dB.cJ[iH].xt,null,v);
v.stroke();R=!0}var u=hq.U4(J.dB.f3,v,x);v.stroke();R=R||u;if(J.dB.Ru){this.xG(J.dB.Ru,jw,v);v.strokeStyle="rgba(0,0,0,0.5)";
v.lineWidth=B.rR()*2.5/x.NT;v.stroke();v.strokeStyle="white";v.lineWidth=B.rR()*2/x.NT;v.stroke()}if(J.dB.hM.length+J.dB.sI.length+J.dB.Ti.length!=0){R=!0;
v.fillStyle=E;hq.OM(J.dB.hM,v,x,6);v.fill();hq.OM(J.dB.sI,v,x,6);v.fill();v.fillStyle=n;hq.OM(J.dB.hM,v,x,4);
v.fill();hq.OM(J.dB.Ti,v,x,4);v.fill();v.fillStyle=hq.zu([.7,.7,.7,1]);hq.OM(J.dB.sI,v,x,4);v.fill()}if(J.dB.OR.length!=0){for(var h=0;
h<J.dB.OR.length;h++){var s=J.dB.OR[h],bV=s[1],jU;if(o){jU=v.getImageData(bV.x,bV.y,bV.r,bV.$);g.v.Ry("norm",s[0],bV,new Uint8Array(jU.data.buffer),bV,bV,1)}else jU=new ImageData(new Uint8ClampedArray(s[0].buffer),bV.r,bV.$);
v.putImageData(jU,bV.x,bV.y)}}var hx=.5/x.NT;v.lineWidth=1/x.NT;if(J.dB.de){R=!0;var eX=J.dB.de,et=eX.M3,X={Wp:[],T:[]};
for(var h=0;h<eX.aZ.length;h++)g.b.concat(X,g.b.ho(eX.aZ[h]));X.T=X.T.concat(et);for(var h=0;h<et.length;
h+=4){X.Wp.push("M","L")}for(var h=0;h<X.T.length;h++){X.T[h]+=hx}v.strokeStyle=hq.zu([.9,.2,.2,1]);
this.xG(X,null,v);v.stroke();var f7=B.rR(),iY=2/x.NT;v.font=S*.9+"px sans-serif";for(var h=0;h<et.length;
h+=4){var _=et[h],a=et[h+1],cd=et[h+2],jV=et[h+3],g2=Math.sqrt((jV-a)*(jV-a)+(cd-_)*(cd-_));g2=g.Av.OV(g2,J.Bt,r,a==jV?J.r:J.$);
var gV=new aG((_+cd)/2,(a+jV)/2);v.fillStyle=hq.zu([.9,.2,.2,1]);var fD=v.measureText(g2).width;v.fillRect(gV.x-fD/2-iY*f7,gV.y-3.5*iY*f7,fD+2*iY*f7,7*iY*f7);
v.fillStyle=hq.zu([1,1,1,1]);v.save();v.translate(gV.x-fD/2,gV.y+2*iY*f7);v.scale(.1,.1);v.font=S*9+"px sans-serif";
v.fillText(g2,0,0);v.restore()}}if(r.lf){if(l.mc&&J.U.NT>10&&du==0){this.PH(J,v,1,1,.25,l.wT,16777215);
R=!0}if(l.kE){var j4=g.Av.qM(l.V_,J.Bt,J.r,l.G3),dQ=j4;if(l.G3==4)dQ*=J.$/J.r;this.PH(J,v,j4,dQ,1,l.wT,l.u_);
R=!0}if(l.HC){var eO=J.lg(),a7=J.Ss(),cc=Math.max(J.U.SU.r,J.U.SU.$)/J.U.NT;cc=Math.max(Math.max(J.r,J.$)*2,cc);
for(var h=0;h<eO[0].length;h++){var ad=eO[0][h],jC=eO[1][h];if(jC!=-1&&jC!=a7)continue;var iJ=x.Lp(ad[1],ad[1]),kJ=x.hW(Math.floor(iJ.x)+.5,Math.floor(iJ.y)+.5),jr=g.x7(jC==-1?l.jb:l._m);
jr=[jr.z/255,jr.H/255,jr.c/255,1];v.beginPath();v.strokeStyle=hq.zu(jr);if(ad[0]==0){var fY=kJ.x;v.moveTo(fY,-cc);
v.lineTo(fY,cc)}else{var iR=kJ.x;v.moveTo(-cc,iR);v.lineTo(cc,iR)}v.stroke();R=!0}}var g6=J.Ql;if(g6.length>0&&r.Lz==H.aIE){var bV=7/J.U.NT,ay=bV/3,cQ=bV*4;
v.strokeStyle=v.fillStyle="black";for(var h=0;h<g6.length;h++){var aC=g6[h];v.fillRect(aC.x-.5*ay,aC.y-.5*cQ,ay,cQ);
v.fillRect(aC.x-.5*cQ,aC.y-.5*ay,cQ,ay);v.lineWidth=2.5/J.U.NT;v.beginPath();v.arc(aC.x,aC.y,bV,0,2*Math.PI);
v.stroke();v.font=1.9*bV+"px serif";v.lineWidth=1.25/J.U.NT;v.strokeText(""+(h+1),aC.x+.75*bV,aC.y+2.5*bV)}R=!0}var dI=J.ek;
if(l.ek&&dI.length!=0){v.font=S*.8+"px sans-serif";var fm=[],hd=[];for(var h=0;h<dI.length;h++){var ku=H.mT.X4(dI,h);
fm.push(ku);if(J.dT.indexOf(h)!=-1)hd.push(ku)}fm.reverse();var cp=Date.now();fm=g.S.aIc([0,0,J.r,J.$],fm);
for(var t=0;t<2;t++)for(var h=0;h<fm.length;h++){var hp=fm[h],f=hp[4],W=f!=null?dI[f]:null;if(W&&t==0||W==null&&t==1)continue;
var _=Math.round(hp[0]),a=Math.round(hp[1]),cd=Math.round(hp[2]),jV=Math.round(hp[3]);v.strokeStyle=v.fillStyle=hq.zu(W?[0,.7,.7,1]:[.8,.8,.8,1]);
v.strokeRect(_+hx,a+hx,cd-_,jV-a);var gA=h+1,jN=v.measureText(gA),fD=jN.width;v.fillRect(_,a,fD+S/2,S);
v.fillStyle=hq.zu([1,1,1,1]);v.fillText(gA,_+S/4,a+S*.8)}var iY=2/J.U.NT,d4=2*iY;for(var h=0;h<hd.length;
h++){var hp=hd[h],_=Math.round(hp[0]),a=Math.round(hp[1]),cd=Math.round(hp[2]),jV=Math.round(hp[3]);
v.strokeStyle=v.fillStyle=hq.zu([1,.6,0,1]);v.strokeRect(_+hx,a+hx,cd-_,jV-a);var ey=[_,a,cd,a,cd,jV,_,jV];
for(var jG=0;jG<ey.length;jG+=2){var fY=ey[jG],iR=ey[jG+1],cF=ey[jG+2&7],f5=ey[jG+3&7];v.fillRect(fY-iY,iR-iY,d4,d4);
v.fillRect(Math.round((fY+cF)/2)-iY,Math.round((iR+f5)/2)-iY,d4,d4)}}R=!0}var jW=J.add.Anno;if(jW&&jW.length!=0)for(var h=0;
h<jW.length;h++){var f$=jW[h],jr=f$[2],fY=f$[0]-hx,iR=f$[1]-hx,d4=30/x.zg,bh=.4*d4,ii=.6*d4;v.beginPath();
v.moveTo(fY,iR+ii);v.lineTo(fY,iR);v.lineTo(fY+d4,iR);v.lineTo(fY+d4,iR+d4);v.lineTo(fY+bh,iR+d4);v.closePath();
v.lineTo(fY+bh,iR+ii);v.lineTo(fY+bh,iR+d4);if(h==J.U.yS){v.lineWidth*=5;v.strokeStyle=hq.zu([0,0,0,.5]);
v.stroke();v.lineWidth/=5}v.fillStyle=hq.zu([jr.z/255,jr.H/255,jr.c/255,1]);v.fill();v.strokeStyle=hq.zu([0,0,0,1]);
v.stroke()}}v.strokeStyle=hq.zu([1,0,0,1]);if(J.dB.Af){this.xG(J.dB.Af,jw,v);v.stroke()}v.restore();
if(r.fD){if(J.U.Iz==null||J.U.Iz.width!=J.U.SU.r||J.U.Rp.height!=J.U.SU.$){J.U.Iz=new ImageData(J.U.SU.r,g.Av.E4);
J.U.Rp=new ImageData(g.Av.E4,J.U.SU.$)}var M=k$.Ga[r.Lh],dM=0,b7=0,bz=J.r,e4=J.$;if(J.Ss()!=-1){var U=J.k[J.Ss()].Gf();
dM=U.x;b7=U.y;bz=U.r;e4=U.$}dM*=x.NT;b7*=x.NT;var x=J.U,fI=[1,J.Bt,J.Bt/2.54,J.Bt/25.4,bz/100][l.eE],aI=x.NT*J.r/2,iV=x.NT*J.$/2,k6=[x.NT*fI,new aG(x.V.x+(dM+aI*fI-aI),x.V.y+(b7+iV*fI-iV))];
if(l.eE==4)fI*=e4/bz;var bq=[x.NT*fI,new aG(x.V.x+(dM+aI*fI-aI),x.V.y+(b7+iV*fI-iV))],cq=this.UY.$o;
g.Av.apP(x,M["--text-color"],M["--bg-input"],Math.floor(cq.x),Math.floor(cq.y),k6,bq,l.eE==1?8:10);var ib=iW.afi(x.NT,hq.zu([1,1,1,1]),J.r,J.$);
hq.mu(J.U.Rp.data);hq.mu(J.U.Iz.data);v.putImageData(J.U.Rp,0,0);v.putImageData(J.U.Iz,0,0);v.putImageData(ib,0,J.U.SU.$-ib.height)}if(J.dB.kl.length!=0){for(var h=0;
h<J.dB.kl.length;h++){var s=J.dB.kl[h],bV=s[1];v.putImageData(new ImageData(new Uint8ClampedArray(s[0].buffer),bV.r,bV.$),bV.x,bV.y)}}return R};
hq.prototype.PH=function(J,v,x,o,R,r,l){while(x*J.U.NT<4){x*=2;o*=2}var M=J.r,P=J.$,S=.5/J.U.NT;l=g.x7(l);
v.strokeStyle=hq.zu([l.z/255,l.H/255,l.c/255,R],!1);v.save();v.rect(0,0,M,P);v.clip();v.beginPath();
for(var c=0;c<=M;c+=x){v.moveTo(c+S,0);v.lineTo(c+S,P)}if(r==0){for(var b=0;b<=P;b+=o){v.moveTo(0,b+S);
v.lineTo(M,b+S)}}else{o*=Math.sqrt(4/3);var w=o*Math.floor(M/o),U=M*(o/(2*x));for(var b=-w;b<=P+w;b+=o){v.moveTo(0,b);
v.lineTo(M,b-U);v.moveTo(0,b);v.lineTo(M,b+U)}}v.stroke();v.restore()};hq.OM=function(J,v,x,o){v.beginPath();
var R=o*B.rR()/x.NT,r=!1;for(var h=0;h<J.length;h+=2){r=!0;var l=J[h],M=J[h+1];v.moveTo(l+R,M);v.arc(l,M,R,0,2*Math.PI)}return r};
hq.U4=function(J,v,x,o){v.beginPath();var R=(o?o:1)*(4*B.rR()+.5)/x.NT,r=!1;for(var h=0;h<J.length;h+=2){r=!0;
var l=J[h],M=J[h+1];v.rect(l-R,M-R,2*R,2*R)}return r};hq.ed=function(J,v,x,o){x.beginPath();if(o)x.rect(-1e5,-1e5,1e6,1e6);
var R=J;if(v){R=g.b.Q(J);g.b.u(R.T,v,R.T)}Typr.U.pathToContext({cmds:R.Wp,crds:R.T},x)};hq.prototype.xG=hq.ed;
hq.Fn=function(J,v,x){gi.X$.call(this);var o=this.a0p=v!=0,R=x?"true":"in01(sCoord)",r="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D over;\t\t\tuniform sampler2D image;\t\t\t"+(J?"uniform sampler2D lut;  uniform float N;  "+gi.iB.aaT:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(o?"uniform vec4 bgClr;  uniform vec4 ars["+v+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+gi.iB.avA+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(over , tCoord); \t\t\t\tvec4 tgt = texture2D(image, sCoord"+(x?"-floor(sCoord)":"")+"); \t\t\t\t"+(J?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(o?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+v+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+R+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+R+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",l="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.pU(r,l)};hq.Fn.prototype=new gi.X$;hq.Fn.prototype.HB=function(J,v,x,o,R,r,l,M,P,S,c,b,w,U){this.k2("tmat gsize over image lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var F=gi.zJ,Y=this.li;F.uniformMatrix3fv(Y.tmat,!1,x);F.uniform4fv(Y.gsize,o);F.uniform3f(Y.contSizeZoom,R,r,l);
F.uniform2f(Y.cnvSize,M,P);F.uniformMatrix4fv(Y.ctrn,!1,b);if(this.a0p){F.uniform4fv(Y.ars,c);F.uniform4fv(Y.bgClr,S)}F.uniform1i(Y.over,0);
F.uniform1i(Y.image,1);F.activeTexture(F.TEXTURE0);F.bindTexture(F.TEXTURE_2D,J);F.activeTexture(F.TEXTURE1);
F.bindTexture(F.TEXTURE_2D,v);if(w){F.uniform1f(Y.N,U);F.uniform1i(Y.lut,2);F.activeTexture(F.TEXTURE2);
F.bindTexture(F.TEXTURE_2D,w.qb);var A=F.LINEAR;F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,A);
F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,A)}F.activeTexture(F.TEXTURE0)};function j8(){gB.call(this,[9,7],!1,"---panels/layercomps",gB.mL.aj8);
B.L(this.Kp,"min-width:240px;");this.qE=null;this.X9=-1;this.sY=[];this.qX=B.l("div","scrollable");this.qX.style.height="160px";
this.Kp.appendChild(this.qX);this.XK=B.l("div","lpfoot");this.Kp.appendChild(this.XK);this.ah=[];var J=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],v=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var h=0;h<J.length;h++){var x=J[h];if(h>0)x="<img src=\""+PIMG[J[h]]+"\" class=\"miniscale gsicon\" />";
var o=new bj(x,!1,v[h]);o.P("click",this.a64,this);this.XK.appendChild(o._);this.ah.push(o)}}j8.prototype=new gB("");
j8.prototype.qe=function(J,v){B.L(this.Kp,"width:"+(J-2)+"px;");this.qX.style.height=v-28+"px"};j8.prototype.PE=function(J){var v=new dd(j.E.G,!0);
v.data=J;v.J=H.Iq;this.a(v)};j8.aBg="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
j8.prototype.a64=function(J){var h=this.ah.indexOf(J.currentTarget)-1;if(h==-1){var v=new dd(j.E.j,!0);
v.data={R:j.m.Ft,TM:j8.aBg};this.a(v);return}if(h!=1)if(this.X9==-1)return;this.PE({R:["updLC","addLC","delLC"][h],Vn:this.X9});
if(h==2)this.X9=-1};j8.prototype.d=function(){gB.prototype.d.call(this);for(var h=0;h<this.ah.length;
h++)this.ah[h].d()};j8.prototype.Q4=function(J){if(J==null)B._H(this.Kp,"disabled");else B.Nv(this.Kp,"disabled");
this.qE=J;B.wp(this.qX);if(J==null)return;var v=J.eG.lastAppliedComp?J.eG.lastAppliedComp.v:0,x=J.eG.list.v.slice(0);
x.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var h=0;h<x.length;
h++){var o=x[h].v,R=new gY(o.Nm.v,o.compID.v,o.capturedInfo.v,v,this.X9);R.P("activate",this.E$,this);
R.parent=this;this.qX.appendChild(R._);this.sY.push(R)}};j8.prototype.E$=function(J){this.X9=J.currentTarget.Vn;
this.Q4(this.qE)};function gY(J,h,v,x,o){aJ.call(this);this.Vn=h;this._=B.l("div","head listitem"+(h==o?" selected":""));
var R=h==x,r=new bj(R?"\u2713":"\u2014");if(R)r.$I();this._.appendChild(r._);r.P("click",this.gW,this);
var l=this.zO=B.l("span");l.textContent=J;this._.appendChild(l);this.ah=[];if(h!=0){this._.addEventListener("mouseup",this.E$.bind(this),!1);
this.cI=B.l("span","headR");this._.appendChild(this.cI);var M=["lrs/eye","pos","lrs/fx"],P=["Visibility","Position","Appearance"];
for(var S=0;S<M.length;S++){var c=new bj("<img src=\""+PIMG[M[S]]+"\" class=\"autoscale gsicon\" />",!1,P[S]);
if((v>>S&1)==0)B.L(c._,"opacity:0.3");c.P("click",this.axp,this);this.cI.appendChild(c._);this.ah.push(c)}}}gY.prototype=new aJ;
gY.prototype.E$=function(J){if(J.target!=this.zO&&J.target!=this._)return;if(J.detail==1)this.a(new dd("activate",!1));
else{var v=new gB.kB(this.zO,this.Uc.bind(this))}};gY.prototype.axp=function(J){var h=this.ah.indexOf(J.currentTarget);
this.PE({R:"editLC",a8E:h,Vn:this.Vn})};gY.prototype.Uc=function(J){this.PE({R:"editLC",yU:J,Vn:this.Vn})};
gY.prototype.gW=function(J){this.PE({R:"setLC",Vn:this.Vn})};gY.prototype.PE=function(J){var v=new dd(j.E.G,!0);
v.data=J;v.J=H.Iq;this.a(v)};function g7(){gB.call(this,[9,11],!1,"---panels/navigator",gB.mL.aIu);var J=this.Kp;
B._H(J,"padded");B.L(J,"cursor:grab;");this.W0=B.l("canvas");J.appendChild(this.W0);B.A1(J);B.sl(this.W0);
B._A(this.W0,this.o1.bind(this));this.hd=new gu(null,2,6400,"%",null,!0);this.hd.P(j.E.n,this.agF,this);
J.appendChild(this.hd._);this.aw4=this.GR.bind(this);this.aC0=this._D.bind(this);this.U8=null;this.a79=null;
this.$x=!1}g7.prototype=new gB("");g7.prototype.qe=function(J,v){this.BK=J*1.2;this.mq=v*1.2;this._t()};
g7.prototype.agF=function(J){var v=this.hd.s(),x=this.U8,o=v/100;if(.8<o&&o<1.2)o=1;else if(1.8<o)o=Math.round(o);
var R=new dd(j.E.G,!0);R.J=H.C5;R.data={R:"zoom",NT:o};this.a(R)};g7.prototype.o1=function(J){var v=this.U8;
if(v==null)return;this.$x=!0;B.W4(window,this.aw4);B.Kb(window,this.aC0)};g7.prototype.GR=function(J){var v=B.C2(J,this.W0),x=this.U8,o=this.W0.width,R=this.W0.height,r=(v.x*B.rR()-o/2)/o,l=(v.y*B.rR()-R/2)/R,M=B.rR()*x.U.NT,P=Math.round(-x.U.NT*x.r*r),S=Math.round(-x.U.NT*x.$*l);
H.n3.Du(x,P,S)};g7.prototype._D=function(J){B.SP(window,this.aw4);B.PD(window,this.aC0);this.$x=!1};
g7.prototype.Q4=function(J){if(J==null&&this.U8!=null)this.W0.width=100;this.U8=J;this._t()};g7.prototype.a5S=function(){var J=this.U8,v=B.rR(),x=H.gu.pl(J.r,J.$,v*(this.BK-10),v*(this.mq-36)),o=g.a4E(J.rv(),new jj(0,0,J.r,J.$),x);
this.a79=[o.r3,o.S]};g7.prototype._t=function(){var J=this.U8;if(J==null||J.U.NT==0)return;var v=J.U;
if(!B.yn(this.Kp))return;this.hd.q(v.NT*100);if(!this.$x)this.a5S();var x=this.a79[0],o=this.a79[1],R=o.r,r=o.$,l=this.W0;
l.width=R;l.height=r;B.Ol(l,R,r);var M=this.Kp;M.style.width=this.W0.style.width+12+"px";var P=l.getContext("2d"),S=new ImageData(R,r);
g.oj(x,S.data);P.putImageData(S,0,0);P.getImageData(0,0,1,1);var c=v.SU,b=v.hW(c.x,c.y),w=v.hW(c.x+c.r,c.y+c.$),U=R/J.r;
P.scale(U,U);P.lineWidth=4/U;P.strokeStyle="#ff0000";P.strokeRect(b.x,b.y,w.x-b.x,w.y-b.y)};g7.prototype.pJ=function(J,v){};
g7.prototype.dL=function(){this._t()};function dW(J,v){gB.call(this,J.name,!1,J.icon,v);this.atG=J}dW.prototype=new gB("");
dW.prototype.RQ=function(){var J=this.Kp,v=this.atG;if(!B.yn(J)||this.wm)return;var x=this.wm=B.l("iframe");
x.setAttribute("src",v.url);this.Kp.appendChild(x)};dW.prototype.dL=dW.prototype.Q4=function(){this.RQ()};
dW.prototype.Mo=function(J){if(B.yn(this.wm))this.wm.contentWindow.postMessage(J,"*")};dW.prototype.qe=function(J,v){if(this.wm==null)return;
B.L(this.wm,"width:"+J+"px; height:"+v+"px")};function il(){gB.call(this,[9,12],!1,"---panels/tpreset",gB.mL.jZ);
this.f=null;this.hc=new j7(H.kN);this.hc.parent=this;var J=B.l("div","padded");B.L(J,"width:20em");this.Kp.appendChild(J);
J.appendChild(this.hc.tY)}il.prototype=new gB("");il.prototype.dL=function(){this.hc.CN(this.f.a0)};
il.prototype.pJ=function(J,v){this.f=J;if(v==cj.q6||v==cj.jZ)this.hc.CN(J.a0)};il.prototype.qe=function(J,v){this.hc.aq_(this.f.Lz)};
il.prototype.d=function(){gB.prototype.d.call(this);this.hc.d()};var hi=function(){var J=[],v=null,x=null,o=null,R=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function r(){gB.call(this,"Memory",!1,null,gB.mL.a5F);var U=B.l("div","padded");this.Kp.appendChild(U);
x=new bj(["<< VAR0",[0,13,2]],!1,null,!0);x.addEventListener("click",function(F){J.pop();M()});U.appendChild(x._);
v=B.l("div","scrollable");B.L(v,"width:20em;  height:26em; margin-top:8px;");U.appendChild(v)}r.prototype=new gB("");
r.prototype.Q4=function(U,F,Y){o=F;this.dL()};r.prototype.dL=function(){x.Ne(!1);if(!B.yn(v))return;
var U={ox:"Total:",Dn:[]};for(var h=0;h<o.length;h++)U.Dn.push(S(o[h]));b(U);J=[U];M()};r.prototype.d=function(){gB.prototype.d.call(this);
x.d()};function l(U){var F=U.currentTarget,h=0;while((F=F.previousSibling)!=null)h++;J.push(J[J.length-1].Dn[h-1]);
M()}function M(){x.Ne(J.length>1);var U=J[J.length-1];B.wp(v);P(U,v,0);U.Dn.sort(function(F,Y){return Y.AN[0]-F.AN[0]});
for(var h=0;h<U.Dn.length;h++)P(U.Dn[h],v,1)}function P(U,F,Y){var A=eF.Ux,G=Y!=0&&U.Dn,n="margin-left:"+Y*10+"px; margin-bottom:8px; padding:3px 5px;";
if(G)n+="cursor:pointer;";if(U.QJ!=null)n+="background-color:rgba("+R[U.QJ].join(",")+",0.2);";var E=B.l("div");
F.appendChild(E);B.L(E,n);E.innerHTML=B.Mg(U.ox)+"<br />"+"RAM: <b>"+A(U.AN[0])+"</b>\u2001GPU: <b>"+A(U.AN[1])+"</b>";
if(G)E.addEventListener("click",l,!1)}function S(U){var F={ox:U.name,Dn:[],QJ:0},Y=gi._E?1:0,A=1-Y,G=U.depth>>>3,n={ox:"History",Dn:[],QJ:5};
F.Dn.push(n);for(var h=1;h<U.history.length;h++){var E=U.history[h];n.Dn.push({ox:ea.get(E.name),QJ:5,AN:[E.CS(),0]})}b(n);
var n={ox:"Final Image"+w(U,4,G),AN:[U.r*U.$*4*G,Y*U.r*U.$*4*G],QJ:2};F.Dn.push(n);for(var h=0;h<U.k.length;
h++){var K=c(U.k[h],G);if(K.Dn.length!=0)F.Dn.push(K)}var e=U.add.lnk2;if(e)for(var h=0;h<e.length;h++){var K=e[h],$={ox:K.d8,Dn:[],QJ:4},N=0;
$.Dn.push({ox:"Raw file",AN:[K.raw.length,0]});if(K.Vs)for(var k=0;k<K.Vs.length;k+=2)N+=K.Vs[k].length;
if(N!=0)$.Dn.push({ox:"Decoded pixels",AN:[N*G,0]});b($);F.Dn.push($)}b(F);return F}function c(U,F){var Y={ox:U.getName(),Dn:[],QJ:1},A=gi._E?1:0,G=1-A,n=U.S.o();
if(n!=0)Y.Dn.push({ox:"Layer pixels"+w(U.S,4,F),AN:[n*4*F,A*n*4*F]});if(U.add.lmfx&&U.QF.yX.e){var E=U.QF.yX.e,N=0;
for(var K in E){var e=0;for(var $=0;$<E[K].length;$++)if(K=="ebbl"){if(E[K][$].mM)e+=E[K][$].mM.pb.o();
if(E[K][$].gt)e+=E[K][$].gt.pb.o();if(E[K][$].gQ)e+=E[K][$].gQ.pb.o();if(E[K][$].bK)e+=E[K][$].bK.pb.o()}else e+=E[K][$].pb.o();
if(e!=0)Y.Dn.push({ox:ea.get(gD.names[gD.order.indexOf(K)]),AN:[G*e*4*F,A*e*4*F],QJ:3})}if(U.QF.L8)N+=n;
if(U.QF.YQ)N+=n;if(U.QF.Dx)N+=n;if(U.QF.Dx)N+=n;if(U.QF.MH)N+=n;if(U.QF.IS)N+=n;var k=U.QF.ev?U.QF.ev.length:0;
if(N+k!=0)Y.Dn.push({ox:"Additional Blending Data",AN:[(G*N*4+k)*F,A*N*4*F]})}var V=U.q9(),X=V?V.S.o():0;
if(X!=0){Y.Dn.push({ox:"Raster Mask",AN:[X*F,0]})}var V=U.add.vmsk,X=V&&V.pW?V.pW.S.o():0;if(X!=0){Y.Dn.push({ox:"Vector Mask",AN:[X*F,0]})}b(Y);
return Y}function b(U){U.AN=[0,0];for(var h=0;h<U.Dn.length;h++){U.AN[0]+=U.Dn[h].AN[0];U.AN[1]+=U.Dn[h].AN[1]}}function w(U,F,Y){return"\u2001"+U.r+"\xD7"+U.$}return r}();
function a2(){gB.call(this,[9,14],!1,"---panels/notes",gB.mL.aEu);B.L(this.Kp,"min-width:240px;");var J=B.l("div","padded");
this.Kp.appendChild(J);this.Bn=new ir("Author");J.appendChild(this.Bn._);this.a9=B.l("textarea");B.Mb(this.a9);
J.appendChild(this.a9);var v=new bj("<<",null,null,!0);J.appendChild(v._);this.aqI=v;var x=new bj(">>",null,null,!0);
J.appendChild(x._);v.P("click",this.Qc,this);x.P("click",this.Qc,this);var o=this.aoy=new aT("");J.appendChild(o._)}a2.prototype=new gB("");
a2.prototype.Qc=function(J){var v=J.target==this.aqI?-1:1,x=this.U8,o=x.add.Anno;if(o==null)return;var R=o.length,r=x.U.yS;
x.U.yS=(r+v+R)%R;x.Se=!0;this._t()};a2.prototype._t=function(){var J=this.U8;if(J==null)return;var v=J.add.Anno;
if(v==null||v.length==0)return;var x=J.U.yS,o=v[x];this.a9.value=o[4];this.aoy.q(x+1+" / "+v.length);
this.Bn.q(o[3])};a2.prototype.qe=function(J,v){if(this.BK==J)return;this.BK=J;v=Math.min(v,200);B.L(this.a9,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(J-10)+"px; height:"+(v-66)+"px")};
a2.prototype.Q4=function(J,v,x){this.U8=J;this._t()};function fQ(){gB.call(this,[1,16,1],!1,"---tools/artb",gB.mL.aa2);
this.DU=[];this.oW=[];this.ah=[];this.DP=null;this.XK=null}fQ.prototype=new gB("");fQ.prototype.RQ=function(){this.DP=B.l("div","padded scrollable");
B.L(this.DP,"width:260px;  height:260px");this.Kp.appendChild(this.DP);this.XK=B.l("div","lpfoot");this.Kp.appendChild(this.XK);
var J=["lrs/newlayer","lrs/bin"],v=[[15,8,2],[5,4]];for(var h=0;h<J.length;h++){var x="<img src=\""+PIMG[J[h]]+"\" class=\"miniscale gsicon\" />",o=new bj(x,!1,v[h]);
o.P("click",this.Kl,this);this.XK.appendChild(o._);this.ah.push(o)}};fQ.prototype.d=function(){gB.prototype.d.call(this);
if(this.DP==null)return;for(var h=0;h<this.ah.length;h++)this.ah[h].d()};fQ.prototype.Kl=function(J){var h=this.ah.indexOf(J.currentTarget),v=new dd(j.E.G,!0);
v.J=H.h9;v.data={R:h==0?"new":"del"};this.a(v);if(h==0)this.atg(this.DU.length-1)};fQ.prototype.Q4=fQ.prototype.dL=function(J){if(J)this.DU=J.add.arts;
if(!B.yn(this.Kp))return;if(this.DP==null)this.RQ();this._t(J)};fQ.prototype.pX=function(J){var h=this.oW.indexOf(J.currentTarget);
if(J.target.tagName=="BUTTON"){this.atg(h)}var v=this.DU;for(var x=0;x<v.length;x++)v[x].Y=!1;v[h].Y=!0;
this._t()};fQ.prototype.atg=function(h){var J=new dd(j.E.j,!0);J.data={R:j.m.wz,kA:"aoptions",K:this.DU[h]};
this.a(J)};fQ.prototype._t=function(){B.wp(this.DP);var J=this.DU,v=this.pX.bind(this);this.oW=[];for(var h=0;
h<J.length;h++){var x=J[h],o=B.l("div","layeritem"+(x.Y?" selected":""));this.DP.appendChild(o);this.oW.push(o);
o.addEventListener("click",v);var R=B.l("div","head");o.appendChild(R);B.L(R,"height:24px");var r=B.l("div","headL");
R.appendChild(r);var l=B.l("div","headR");R.appendChild(l);var M=B.l("div","label");M.textContent=h+1+". "+x.ox;
r.appendChild(M);var P=new bj("Options",null,null,!0);l.appendChild(P._)}};function kq(){aJ.call(this);
this.J=0;this.Q2=null;this._=B.l("div","toolconf");this.hc=null;this.aB4=null;this.body=new B.l("div","body")}kq.prototype=new aJ;
kq.prototype.ara=function(J,v){this.J=J;this.Q2=v;if(H.Qt[J]){var x=this.hc=new j7(J);this._.appendChild(x._);
x.parent=this}else{this.aB4=B.l("div");this._.appendChild(this.aB4)}this._.appendChild(this.body);this.d()};
kq.prototype.aqC=function(J,v){};kq.prototype.awa=function(J){};kq.prototype.pJ=function(J,v){if(v==cj.q6||v==cj.jZ)if(this.hc)this.hc.CN(J.a0)};
kq.prototype.XG=function(J){};kq.prototype.d=function(){if(this.hc)this.hc.d();else this.aB4.innerHTML=B.vr(this.Q2,null,"toolicon");
this.pz()};kq.prototype.pz=function(){};function kZ(){kq.call(this);this.nK=new jb;this.nK.P(j.E.n,this.uF,this);
this.body.appendChild(this.nK._)}kZ.prototype=new kq;kZ.prototype.pz=function(){this.nK.d()};kZ.prototype.uF=function(J){var v=new dd(j.E.j,!0);
v.data={R:j.m.Yr,J:this.J,Fu:this.nK.afz()};this.a(v)};kZ.prototype.XG=function(J){this.nK.aj0(J.JZ)};
function bv(J){kq.call(this);if(J==null)return;this.f=null;this.WQ={};if(J.indexOf("brush")!=-1&&J.indexOf("prsr")==-1)J.push("prsr");
for(var h=0;h<J.length;h++){var v=J[h],x=null;if(v=="brush"){x=new fP}if(v=="bmode"){x=new dp([12,19,0],gX.R2,gX.TD)}if(v=="bmode0"){x=new dp([12,19,0],gX.R2.slice(23))}if(v=="emode"){x=new dp([12,36],[[9,3],[10,38]])}if(v=="opacity"){x=new fL([12,0],0,100,"%");
x.q(100)}if(v=="flow"){x=new fL([12,63],0,100,"%");x.q(100)}if(v=="smth"){x=new fL([19,3,0],0,100,"%");
x.q(0)}if(v=="samp"){x=new dp([12,36],[[12,25,4],[12,25,5],[12,46]])}if(v=="wconf"){x=new eC;x.q([40,!0,!0])}if(v=="sall"){x=new a9([12,25,2])}if(v=="smode"){x=new dp([12,36],[[19,7,0],[19,7,1]]);
x.q(1)}if(v=="pdetail"){x=new a9([12,65]);x.$I()}if(v=="rng"){x=new dp([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
x.q(1)}if(v=="expo"){x=new fL([12,5],0,100,"%");x.q(50)}if(v=="algnd"){x=new a9([12,75]);x.q(!1)}if(v=="sfrom"){x=new dp([12,70],[[17,1],[17,3],[17,0]])}if(v=="alt"){x=new bA(null,["Alt"],!0,["Select Source"])}if(v=="qsmode"){x=new iF([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(v=="redge"){x=new bj([7,11],!1,null,!0)}if(v=="sesu"){x=new bj("Select Subject",!1,null,!0)}if(v=="setop"){x=new gC}if(v=="patch"){x=new iF(null,[[12,70],[12,71]])}if(v=="strn"){x=new fL([12,64],1,100,"%");
x.q(50)}if(v=="prsr"){x=this.WQ.brush.V2}if(v=="symm"){x=new kU}this.body.appendChild(x._);if(v=="prsr")continue;
x.parent=this;this.WQ[v]=x;if(v=="brush")x.P(j.E.n,this.a0T,this);else if(v=="redge"||v=="sesu")x.P("click",jK.a3s,this);
else x.P(j.E.n,this.tT,this)}}bv.prototype=new kq;bv.prototype.aqC=function(J,v){J=J[1];var x=this.WQ;
if(J.Md)x.bmode.q(gX.EZ.indexOf(J.Md.v.BlnM));if(J.Opct)x.opacity.q(J.Opct.v);if(J.flow)x.flow.q(J.flow.v);
if(J.Brsh)x.brush.q(J,v.DK.En,v.DK.pm);if(J.FrgC){var o=g.UH.Eb(J.FrgC.v),R=new dd(j.E.j,!0);R.data={R:j.m.Qq,Fu:cj.Zl,Uq:0,K:o.z<<16|o.H<<8|o.c};
this.a(R)}this.a0T();this.tT()};bv.prototype.awa=function(){if(H.Qt[this.J]==null)return null;var J=this.WQ,v;
for(var x in H.Tn)if(H.Tn[x]==this.J)v=x;var o=g.F(J.brush.s());o.classID=v;if(J.bmode)o.Md={t:"enum",v:{BlnM:gX.EZ[J.bmode.s()]}};
if(J.opacity)o.Opct={t:"long",v:J.opacity.s()};if(J.flow)o.flow={t:"long",v:J.flow.s()};var R=this.f.P4;
R={z:R>>>16,H:R>>>8&255,c:R&255};o.FrgC={t:"Objc",v:g.UH.YK(R)};return["Brush Preset "+o.Brsh.v.Dmtr.v.val,o]};
bv.prototype.pz=function(){for(var J in this.WQ)this.WQ[J].d()};bv.prototype.XG=function(J){if(J.atW=="showBrushOpts"){this.WQ.brush.aq5(J.vT.x,J.vT.y)}for(var v in J.c1){var x=J.c1[v];
if(v!="qsmode")x*=100;if(this.WQ[v])this.WQ[v].q(x)}};bv.prototype.pJ=function(J,v){kq.prototype.pJ.call(this,J,v);
this.f=J;var x=this.WQ.brush;if(x==null)return;if(v==cj.q6||v==cj.kN)x.CN(J.DK);if(v==cj.gP){x.q(J.DK.YH,J.DK.En,J.DK.pm)}};
bv.prototype.a0T=function(){var J=new dd(j.E.j,!0);J.data={R:j.m.Qq,Fu:cj.gP,Kf:this.WQ.brush.s()};this.a(J)};
bv.prototype.tT=function(){var J=new dd(j.E.j,!0);J.data={R:j.m.Yr,J:this.J};for(var v in this.WQ){if(v=="brush"||v=="redge"||v=="symm")continue;
var x=this.WQ[v].s();if(["opacity","flow","smth","expo","strn"].indexOf(v)!=-1)J.data[v]=x/100;else if(v=="bmode")J.data.bmode=gX.qI[x];
else if(v=="bmode0")J.data.bmode=gX.qI[23+x];else J.data[v]=x}this.a(J)};function jK(J,v){kq.call(this);
if(J)return;this.WQ={};for(var h=0;h<v.length;h++){var x=v[h],o=null;if(x=="sesu"&&!B.k3(1))continue;
if(x=="binop")o=new gC;if(x=="feat"){o=new fL([7,6],0,100,"px");o.q(0)}if(x=="redge")o=new bj([7,11],!1,null,!0);
if(x=="sesu")o=new bj("Select Subject",!1,null,!0);if(x=="wconf")o=new eC;if(x=="cstr")o=new jA;if(x=="anta"){o=new a9([12,25,1]);
o.q(!0)}if(x=="sall")o=new a9([12,25,2]);if(x=="redge"||x=="sesu")o.P("click",jK.a3s,this);else o.P(j.E.n,this.tT,this);
o.parent=this;this.body.appendChild(o._);this.WQ[x]=o}}jK.prototype=new kq;jK.prototype.XG=function(J){var v=this.WQ.cstr;
if(J.gv!=null)this.WQ.binop.q(J.gv);else if(J.Qu){for(var x in J.Qu)if(this.WQ[x])this.WQ[x].q(J.Qu[x])}else if(J.fe){if(v)v.b9(J.fe)}else{var o=jK.cd;
if(o==null){var R=cM.a6m(!0);o=jK.cd=new kM(R.items,R.D9)}o.d();o.parent=this;o.update(J.C_,J.f);var r=new dd(j.E.j,!0);
r.data={R:j.m.sO,rq:o,x:J.L$.m4+2,y:J.L$.R1+1};this.a(r)}};jK.prototype.pz=function(){for(var J in this.WQ)this.WQ[J].d()};
jK.a3s=function(J){var v=J.target==this.WQ.sesu,x=new dd(v?j.E.G:j.E.j,!0);if(v){x.J=H.ZT;x.data={R:"bgrm",K:2}}else x.data={R:j.m.wz,kA:"redge"};
this.a(x)};jK.prototype.tT=function(){var J=new dd(j.E.j,!0);J.data={R:j.m.Yr,J:this.J,Qu:{}};for(var v in this.WQ)J.data.Qu[v]=this.WQ[v].s();
this.a(J)};function i6(){bv.call(this,["brush","strn"])}i6.prototype=new bv;function kx(){bv.call(this,"brush bmode opacity flow smth prsr symm".split(" "))}kx.prototype=new bv;
function aA(){bv.call(this,["brush","bmode0","samp","wconf"])}aA.prototype=new bv;function jz(){bv.call(this,["brush"])}jz.prototype=new bv;
function g5(){bv.call(this,"brush bmode opacity smth prsr symm".split(" "))}g5.prototype=new bv;function i7(){bv.call(this,["brush","rng","expo"])}i7.prototype=new bv;
function f_(){bv.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}f_.prototype=new bv;function cw(J){kq.call(this);
if(J==null)return;this.fB=[];this.acp=new bj("\u2026",!1,null,!0);if(!J)this.body.appendChild(this.acp._);
this.acp.P("click",this._o,this);this.bM=new aJ;this.bM.parent=this;var v=this.bM._=B.l("div","floatcont form"),x=[[17,0],[17,1],[11,12,0],[17,2]];
for(var h=0;h<x.length;h++){var o=new bj(x[h],!1,null,!0);this.fB.push(o);o.P("click",this.arw,this);
if(!J||h==1)v.appendChild(o._)}this.lJ=new jA(!0);this.lJ.P(j.E.n,this._R,this);if(!J)this.body.appendChild(this.lJ._);
this.be=new bj([15,7,6],!1,null,!0);this.be.P("click",this.arw,this);if(!J)this.body.appendChild(this.be._);
this.$a=new a9([15,7,10]);this.$a.P(j.E.n,this._R,this);if(!J)this.body.appendChild(this.$a._);this.aDA=new a9("Content-Aware");
this.aDA.P(j.E.n,this._R,this);if(!J)this.body.appendChild(this.aDA._);this.l5=new g0;this.l5.P("click",this.o0,this)}cw.prototype=new kq;
cw.prototype._o=function(J){if(B.yn(this.bM._))return;var v=this.acp._.getBoundingClientRect(),x=new dd(j.E.j,!0);
x.data={R:j.m.sO,rq:this.bM,x:v.left,y:v.top+v.height+4};this.a(x)};cw.prototype.pz=function(){this.l5.d();
for(var h=0;h<this.fB.length;h++)this.fB[h].d();this.lJ.d();this.$a.d();this.be.d()};cw.prototype.XG=function(J){if(J.fe){this.lJ.b9(J.fe);
return}var v=this.l5._;if(J.wa)this.body.appendChild(v);else if(this.body.contains(v))this.body.removeChild(v);
if(J.lJ)this.lJ.q(J.lJ)};cw.prototype.o0=function(J){var v={R:j.m.Yr,J:this.J,nw:this.l5.s()?"commit":"cancel"},x=new dd(j.E.j,!0);
x.data=v;this.a(x)};cw.prototype.arw=function(J){J.target._.blur();var v={R:j.m.Yr,J:this.J,nw:"cropby",ai0:this.fB.indexOf(J.target)};
if(J.target==this.be)v.nw="straighten";var x=new dd(j.E.j,!0);x.data={R:j.m.y2,rq:this.bM};this.a(x);
x.data=v;this.a(x)};cw.prototype._R=function(J){var v={R:j.m.Yr,J:this.J,nw:"config",Qu:{U5:this.lJ.s(),xK:this.$a.s(),bN:this.aDA.s()},abk:J.target==this.lJ},x=new dd(j.E.j,!0);
x.data=v;this.a(x)};function eb(){cw.call(this,!1)}eb.prototype=new cw;function fS(){cw.call(this,!0)}fS.prototype=new cw;
function ei(){bv.call(this,["brush","rng","expo"])}ei.prototype=new bv;function aQ(){bv.call(this,"brush emode opacity flow smth prsr symm".split(" "))}aQ.prototype=new bv;
function hY(){bv.call(this,["brush","samp","wconf"])}hY.prototype=new bv;function cI(){jK.call(this,!1,["binop","feat","anta","redge","cstr"])}cI.prototype=new jK(!0);
function gc(){kq.call(this);var J=this.WQ=[new dp([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new dp([12,70],[[17,1],[17,3],[17,0]]),new a9([12,20,1]),new a9([8,0])];
J[1].q(2);J[2].q(!0);for(var h=0;h<J.length;h++){var v=J[h];v.P(j.E.n,this.tT,this);this.body.appendChild(v._)}}gc.prototype=new kq;
gc.prototype.tT=function(J){var v=this.WQ,x=[];for(var h=0;h<v.length;h++)x[h]=v[h].s();var o=new dd(j.E.j,!0);
o.data={R:j.m.Yr,J:this.J,Qu:x};this.a(o)};gc.prototype.pz=function(){for(var h=0;h<this.WQ.length;h++)this.WQ[h].d()};
function cS(){kq.call(this);this.Dc=!1;this.Bv=new ig("GrFl",!0);this.Bv.parent=this;this.Bv.update(null,JSON.parse(gD.Sy[6]));
this.Bv.P(j.E.n,this.hK,this);var J="Grad Type Md Opct Rvrs Dthr".split(" ");for(var h=0;h<J.length;
h++)this.body.appendChild(this.Bv.uD[J[h]]._);this.Bv.uD.Grad.as4=!1;this.ZD=new bj([6,48,1],!1,null,!0);
this.ZD.P("click",this.hK,this);this.body.appendChild(this.ZD._)}cS.prototype=new kq;cS.prototype.pz=function(J){var J=this.Dc;
this.body.children[2].style.display=J?"none":"";this.body.children[3].style.display=J?"none":"";this.Bv.d();
this.ZD.d()};cS.prototype.pJ=function(J,v){kq.prototype.pJ.call(this,J,v);var x=v==cj.Zl,o=this.Bv.uD.Grad;
o.kx(J.P4,J.Vb);if(x||v==cj.Ui||v==cj.q6)o.CN(J.TF)};cS.prototype.hK=function(J){if(J.target==this.ZD){var v=new dd(j.E.aT,!0);
v.data=H.YP.Z9(1);this.a(v);return}this.d();var v=new dd(j.E.j,!0);v.data={R:j.m.Yr,J:this.J,Fu:this.Bv.s()};
this.a(v)};cS.prototype.XG=function(J){this.Dc=J.I;this.d();this.Bv.update(null,J.Fu);this.d()};function iy(){kq.call(this);
this.l$=new a9([8,7,1]);this.body.appendChild(this.l$._);this.l$.P(j.E.n,this.tT,this)}iy.prototype=new kq;
iy.prototype.tT=function(){var J={R:j.m.Yr,J:this.J,vZ:this.l$.s()},v=new dd(j.E.j,!0);v.data=J;this.a(v)};
function j2(){kq.call(this);var J=B.l("span","fitem");this.body.appendChild(J);this.jW=[new fL([12,15],-180,180,"\xB0"),new bj([1,12,2],null,null,!0)];
for(var h=0;h<this.jW.length;h++){var v=this.jW[h];v.parent=this;J.appendChild(v._);v.P(h==1?"click":j.E.n,this.H8,this)}}j2.prototype=new kq;
j2.prototype.pz=function(){for(var h=0;h<this.jW.length;h++)this.jW[h].d()};j2.prototype.XG=function(J){this.jW[0].q(J.YN*180/Math.PI)};
j2.prototype.H8=function(J){var v=this.jW.indexOf(J.target),x=new dd(j.E.j,!0);x.data={R:j.m.Yr,J:this.J,YN:v==1?0:J.target.s()*Math.PI/180};
this.a(x)};function kK(){bv.call(this,["brush","algnd","sfrom","alt"])}kK.prototype=new bv;function c3(){kq.call(this);
this.SB=new a1;this.SB.parent=this;this.body.appendChild(this.SB.wN._);this.body.appendChild(this.SB.TR._);
this.body.appendChild(this.SB.ei._);this.body.appendChild(this.SB.sy._);var J=B.l("span","fitem");this.body.appendChild(J);
J.appendChild(this.SB.ea._);J.appendChild(this.SB.zD._);J.appendChild(this.SB.cz._);this.ax=new dp("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.ax.P(j.E.n,this.o0,this);this.body.appendChild(this.ax._);this.na=new dp(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.na.P(j.E.n,this.o0,this);this.body.appendChild(this.na._);this.Z2=new bj([11,9],!1,null,!0);this.Z2.P("click",this.ac_,this);
this.body.appendChild(this.Z2._);this.l5=new g0;this.l5.P("click",this.o0,this)}c3.prototype=new kq;
c3.prototype.pz=function(){this.l5.d();this.SB.d();this.Z2.d()};c3.prototype.ac_=function(J){var v={R:j.m.Yr,J:this.J,nw:"showwarp"},x=new dd(j.E.j,!0);
x.data=v;this.a(x)};c3.prototype.XG=function(J){if(J.nw=="showactive")this.body.appendChild(this.l5._);
if(J.nw=="hideactive")this.body.removeChild(this.l5._);if(J.nw=="changeOther"){this.ax.q(J.SL);this.na.q([0,2,1][J.vL])}if(J.nw=="showpan"){var v=[{name:[0,1],vy:!0}],x=[{A:j.E.G,J:H.i9,p:{R:"editCurr",IA:J.IA}}],o=J.L$;
if(J.anJ){v=[{name:["VAR0: VAR1",[0,5],[7,0]],vy:!0}];x=[{A:j.E.aT,p:H.IE.DT(!0)}];var R=cM.agH();v=v.concat(R[0]);
x=x.concat(R[1])}v.push({name:[11,9]});x.push({A:j.E.j,p:{R:j.m.Yr,J:this.J,nw:"showwarp"}});var r=new kM(v,x);
r.parent=this;r.d();r.update(J.C_,J.f);var l=new dd(j.E.j,!0);l.data={R:j.m.sO,rq:r,x:o.m4+2,y:o.R1+1};
this.a(l)}};c3.prototype.pJ=function(J,v){kq.prototype.pJ.call(this,J,v);if(v!=cj.q6&&v!=cj.KI&&v!=cj.dX&&v!=cj.bS)return;
this.SB.q(J.oC,J.rr,J.Qv)};c3.prototype.o0=function(J){var v={R:j.m.Yr,J:this.J,nw:this.l5.s()?"commit":"cancel"};
if(J.target==this.ax||J.target==this.na){v.nw="changeOther";v.SL=this.ax.s();v.vL=[0,2,1][this.na.s()]}var x=new dd(j.E.j,!0);
x.data=v;this.a(x)};function gK(){jK.call(this,!1,["binop","feat","anta","redge"])}gK.prototype=new jK(!0);
function kE(){kq.call(this);var J=[],x="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.e0=new a9([12,85]);this.e0.q(!0);this.e0.P(j.E.n,this.tT,this);J.push(this.e0._);this.TJ=new dp(null,[[0,4],[0,3]]);
this.TJ.P(j.E.n,this.tT,this);this.TJ.q(1);J.push(this.TJ._);this.q3=new a9([20,1]);this.q3.P(j.E.n,this.tT,this);
J.push(this.q3._);this.ls=new a9([12,83]);this.ls.P(j.E.n,this.tT,this);J.push(this.ls._);this.bM=new aJ;
this.bM._=B.l("div","floatcont form");B.L(this.bM._,"max-width: 200px;");this.bM.parent=this;var v=this.bM._;
this.am8=new dp("Scale for exported files",["1x","2x","3x","4x"]);v.appendChild(this.am8._);this.XI=new bj(x+" PNG",!1,"Save selected layers as PNG",!0);
v.appendChild(this.XI._);this.XI.P("click",this.fp,this);this.ayB=new bj(x+" SVG",!1,"Save selected layers as SVG",!0);
v.appendChild(this.ayB._);this.ayB.P("click",this.fp,this);var o=new bj(x,!1,"Save selected layers",!0);
J.push(o._);o.P("click",function(P){if(B.yn(this.bM._))return;var S=o._.getBoundingClientRect(),c=new dd(j.E.j,!0);
c.data={R:j.m.sO,rq:this.bM,x:S.left,y:S.top+S.height,a3:!0};this.a(c)},this);var R=B.l("span","fitem");
J.push(R);var r=B.l("span","fitem");J.push(r);this.ah=[];for(var h=0;h<8;h++){var l=h==3||h==7?[20,4,6]:[20,4,h<3?h:h-1],M=new bj("Hi",!1,l);
(h<4?R:r).appendChild(M._);M.P("click",this.fp,this);this.ah.push(M)}for(var h=0;h<J.length;h++)this.body.appendChild(J[h]);
this.aaE=J}kE.prototype=new kq;kE.prototype.XG=function(J){var v=J.JZ,x=J.a5s;this.e0.q(v.pV);this.q3.q(v.jy);
this.ls.q(v.de);if(x){B.wp(this.body);for(var h=0;h<x.length;h++)if(x[h]==1&&this.aaE[h])this.body.appendChild(this.aaE[h])}};
kE.prototype.fp=function(J){var v=this.ah.indexOf(J.target),x;if(v==-1){x=new dd(j.E.j,!0);x.data={R:j.m.Yr,J:this.J,Uq:J.target==this.XI?"getPNG":"getSVG",jE:this.am8.s()+1}}else{x=new dd(j.E.G,!0);
x.J=H.VO;x.data={R:"algn",K:v}}this.a(x)};kE.prototype.tT=function(J){var v=new dd(j.E.j,!0);v.data={R:j.m.Yr,J:this.J,Uq:"prms",pV:this.e0.G8(),apq:this.TJ.s(),jy:this.q3.G8(),de:this.ls.G8()};
this.a(v)};kE.prototype.pz=function(){this.e0.d();this.TJ.d();this.q3.d();this.ls.d();var J="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var h=0;h<8;h++){this.ah[h].f_(B.vr("align/"+J[h],null,"autoscale"))}};function gx(){jK.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}gx.prototype=new jK(!0);
function e2(){bv.call(this,["setop","patch"])}e2.prototype=new bv;function eh(){bv.call(this,["setop"])}eh.prototype=new bv;
function f8(J){var v=J==H.aGx?[]:["bmode"];bv.call(this,v.concat(["opacity","wconf","sall"]))}f8.prototype=new bv;
function hR(){jK.call(this,!1,["binop","feat","anta","redge"])}hR.prototype=new jK(!0);function dN(){jK.call(this,!1,["binop","feat","anta","redge"])}dN.prototype=new jK(!0);
function ew(){jK.call(this,!1,["binop","feat","redge","cstr"])}ew.prototype=new jK(!0);function c6(){kq.call(this);
this.f=null;this.GW=null;this.cC=!0;this.v3=[new ir("X",null,3.2,null,!0),new ir("Y",null,3.2,null,!0),new ir("W",null,3.2,null,!0),new ir("H",null,3.2,null,!0),new ir("a","\xB0",3.7,null,!0),new ir("l",null,3.5,null,!0),new ir("l",null,3.5,null,!0),new a9("Use custom units:"),new bj("Define Unit",!1,null,!0),new bj([15,7,6],!1,null,!0),new bj([2,2],!1,null,!0)];
this.v3[7]._.style.marginRight="0px";for(var h=0;h<this.v3.length;h++){var J=this.v3[h];this.body.appendChild(J._);
if(h>6)J.P(h==7?j.E.n:"click",this.iG,this)}this.eB=0}c6.prototype=new kq;c6.prototype.iG=function(J){var v=this.v3.indexOf(J.target),x=new dd(j.E.G,!0),o=this.GW;
if(v==7){this.XG(o);return}if(v==8){if(this.cC){alert("Draw a line for the new unit");return}this.v3[7].q(!0);
var R=new dd(j.E.j,!0);R.data={R:j.m.wz,kA:"measscale",XV:aG.Aj(o.RC,o.B5)};this.a(R);return}if(v==9){if(this.eB==0)return;
x.J=H.tS;x.data={R:"rot",hX:[2,5],K:-this.eB}}if(v==10){x.J=H.rJ;x.data={R:"reset"};this.cC=!0;for(var h=0;
h<6;h++)this.v3[h].q(null)}this.a(x)};c6.prototype.XG=function(J){function v(S,c,b){var w=aG.Aj(S,c),U=aG.Aj(c,b),F=aG.Aj(S,b);
return Math.acos((U*U+w*w-F*F)/(2*U*w))}if(J==null)return;this.GW=J;var x=J.RC,o=J.B5,R=o.x-x.x,r=o.y-x.y;
this.eB=-Math.atan2(r,R);if(J.kL)this.eB=v(o,x,J.kL);var l=this.v3;l[0].q(this.YT(J,x.x));l[1].q(this.YT(J,x.y));
l[2].q(this.YT(J,R));l[3].q(this.YT(J,r));l[4].q((this.eB*180/Math.PI).toFixed(2));l[5].q(this.YT(J,aG.Aj(x,o)));
this.cC=x.Ym(o);if(J.kL){l[6].q(this.YT(J,aG.Aj(x,J.kL)))}else l[6].q("");l[8].f_("Define");var M=J.Vj;
if(M){var P=M.T.v;l[8].f_(P.logicalUnits.v)}};c6.prototype.YT=function(J,v){var x=this.GW.Vj,o;if(x&&this.v3[7].s()){var R=x.T.v;
o=v*R.logicalLength.v/R.pixelLength.v}else o=g.Av.OV(v,J.Bt,this.f,J.a7h,!1);return parseFloat(o).toFixed(2)};
c6.prototype.pJ=function(J,v){this.f=J;this.XG(this.GW)};c6.prototype.pz=function(){var J=this.v3;for(var h=0;
h<J.length;h++)J[h].d();J[4].f_(ea.get([12,15]).slice(0,1)+":");var v=ea.get([12,80,0]).slice(0,1);J[5].f_(v+"1:");
J[6].f_(v+"2:");B.Tu(J[2],J[3])};function i0(){bv.call(this,["brush","strn","pdetail"])}i0.prototype=new bv;
function eP(){bv.call(this,["brush","sfrom"]);this.aph=[];var J=[[7,12]];for(var h=0;h<J.length;h++){var v=new bj(J[h],!1,null,!0);
this.aph.push(v);v.parent=this;this.body.appendChild(v._);v.P("click",this.aqw,this)}}eP.prototype=new bv;
eP.prototype.aqw=function(J){var v=new dd(j.E.aT,!0);v.data=H.P8.Z9("contentAware");this.a(v)};function fB(){bv.call(this,["brush","strn"])}fB.prototype=new bv;
function aN(){bv.call(this,["brush","flow","smode"])}aN.prototype=new bv;function k7(){kq.call(this);
this.SV=!1;var J=B.l("span","fitem");this.body.appendChild(J);this.dr=new iF(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
J.appendChild(this.dr._);this.dr.P(j.E.n,this.tT,this);this.fh=new bj([20,2]);this.body.appendChild(this.fh._);
this.fh.P("click",this.a6M,this);this.awp=new bj([20,3]);this.body.appendChild(this.awp._);this.awp.P("click",this.a6M,this);
this.l$=new a9([8,7,1]);this.body.appendChild(this.l$._);this.l$.P(j.E.n,this.tT,this)}k7.prototype=new kq;
k7.prototype.pz=function(){this.fh.d();this.awp.d()};k7.prototype.tT=function(){var J={R:j.m.Yr,J:this.J,xo:this.dr.s()==0,vZ:this.l$.s()},v=new dd(j.E.j,!0);
v.data=J;this.a(v)};k7.prototype.XG=function(J){if(this.SV!=J.SV)this.dr.q(1-this.dr.s());this.SV=J.SV};
k7.prototype.a6M=function(J){var v=new dd(j.E.G,!0);v.J=H.C5;v.data={R:"adapt",K:J.target==this.fh?"pixel":"fitscr"};
this.a(v)};function gJ(J,v){kq.call(this);if(J==null)return;this.HP=J;this.lc={};this.aB_=v;for(var h=0;
h<J.length;h++){var x=J[h],o=null;if(x=="vmode"||x=="pmode"){o=new dp(null,[[12,76,1],[12,76,0],[12,76,2]]);
o.q(x=="vmode"?0:1);if(v)o.aJh(2)}if(x=="make"){o=new iF("Make",[[17,2],[12,76,1]],null,!0)}if(x=="anta"){o=new a9([12,25,1]);
o.q(!0)}if(x=="binop"){o=new dp(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(x=="pshape")o=new dp(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(x=="shape")o=new hQ([12,76,1]);if(x=="crad"){o=new fL([12,94,0],0,50,"px");o.q(0)}if(x=="cstr"){o=new jA}if(x=="irad"){o=new fL([12,94,1],0,100,"%");
o.q(40)}if(x=="length"){o=new fL([12,80,0],4,40);o.q(4)}if(x=="sides"){o=new fL([12,78],3,30);o.q(5)}if(x=="width"){o=new fL([12,41],0,100,"px");
o.q(5)}if(x=="tolr"){o=new fL([12,24],0,100);o.q(5)}if(x=="fstyle"){o=new jE([12,26])}if(x=="sstyle"){o=new d0}if(x=="psnap"){o=new a9([8,10])}if(x=="crnr"){o=new bj("\u2312",!1,[12,94,0],!0)}if(x=="aopts"){o=new fu;
o.q([!1,!1,50,60,0])}if(x=="smplp"){o=new bj([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}o.parent=this;
this.body.appendChild(o._);this.lc[x]=o;o.P(x=="crnr"||x=="smplp"?"click":j.E.n,this.tT,this)}}gJ.prototype=new kq;
gJ.prototype.XG=function(J){var v=this.lc.cstr;if(J.gv!=null)this.lc.binop.q(J.gv);else if(J.Uq=="vals")for(var x in J.a99)this.lc[x].q(J.a99[x]);
else if(J.fe){if(v)v.b9(J.fe)}else{var o=gJ.cd,R=function(l){return{i:l!=null&&l.hH(!1)}};if(o==null)o=gJ.cd=new kM([{name:"Remove Anchor Point",i:function(l){var M=l?l.Ng():null;
return{i:l&&M[1].length!=0&&M[0][M[1][0]].add.vmsk.Ax.length!=0}}},{name:"Remove Path",i:function(l){var M=l?l.Ng():null;
return{i:l&&M[1].length!=0&&M[0][M[1][0]].add.vmsk.Y.length!=0}},vy:!0},{name:"Make Selection"},{name:[2,3],i:R},{name:[14,9],i:R}],[{A:j.E.G,J:H.Rv,p:{R:"remove",bD:!0}},{A:j.E.G,J:H.ih,p:{R:"remove"}},{A:j.E.j,p:{R:j.m.wz,kA:"makesel"}},{A:j.E.aT,p:H.qk.uf(null)},{A:j.E.j,p:{R:j.m.wz,kA:"strokepath"}}]);
o.parent=this;o.update(J.C_,J.f);var r=new dd(j.E.j,!0);r.data={R:j.m.sO,rq:o,x:J.L$.m4+2,y:J.L$.R1+1};
this.a(r)}};gJ.prototype.aqc=function(h){return null};gJ.prototype.pz=function(){for(var J in this.lc){this.lc[J].d()}};
gJ.prototype.tT=function(J){var v=new dd(j.E.j,!0),x=this.lc;if(J.target==x.crnr){v=new dd(j.E.G,!0);
v.J=H.Rv;v.data={R:"crnr"}}else if(J.target==x.smplp){v=new dd(j.E.G,!0);v.J=H.ih;v.data={R:"smplp"}}else if(J.target==x.make){var h=J.target.s();
console.log(h);if(h==0)v.data={R:j.m.wz,kA:"makesel"};else{v=new dd(j.E.G,!0);v.J=H.Mj;v.data={R:"newfill",QJ:0}}}else if(J.target==x.fstyle){v.data={R:j.m.Qq,Fu:cj.km,K:x.fstyle.s()}}else if(J.target==x.sstyle){v.data={R:j.m.Qq,Fu:cj.PV,K:x.sstyle.s()}}else if(J.target==x.vmode||J.target==x.pmode){v.data={R:j.m.Qq,Fu:J.target==x.vmode?cj.Mh:cj.Jc,K:J.target.s()}}else{if(x.pshape)this.I2();
v.data={R:j.m.Yr,J:this.J};for(var o in x)v.data[o]=x[o].s()}this.a(v)};gJ.prototype.I2=function(){var J=this.lc,v=(J.vmode?J.vmode:J.pmode).s(),x=J.pshape?this.aqc(J.pshape.s()):this.HP,o;
if(v==0)o=["anta","make"];if(v==1)o=["anta","fstyle","sstyle"];if(v==2)o=["make","binop","fstyle","sstyle"];
var R=J.binop;if(R){var r=R.s();if(v==0){R.anY(0)}else{R.aJh(0);if(r==0){R.q(1);this.tT({target:R})}}}B.wp(this.body);
for(var h=0;h<x.length;h++){var l=x[h];if(o.indexOf(l)!=-1)continue;this.body.appendChild(J[l]._)}};
gJ.prototype.pJ=function(J,v){kq.prototype.pJ.call(this,J,v);var x=this.lc.fstyle,o=this.lc.sstyle,R=this.lc.vmode,r=this.lc.pmode;
if(x)x.pJ(J,v);if(o)o.pJ(J,v);if(v==cj.q6||v==cj.z0)if(J.tx.length!=0&&this.lc.shape){this.lc.shape.CN(J.tx)}if(v==cj.q6||v==cj.km)if(x)x.q(null,J.yo,J.an7);
if(v==cj.q6||v==cj.PV)if(o)o.q(null,J.IZ,J.a1_);if(v==cj.q6||v==cj.Mh||v==cj.Jc){var l=J.d9,M=J.gz;if(this.aB_&&M==2)M=0;
if(R){R.q(l);this.I2()}if(r){r.q(M);this.I2()}}};function hN(){gJ.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}hN.prototype=new gJ;
function jh(){gJ.call(this,"pmode make anta fstyle sstyle binop".split(" "))}jh.prototype=new gJ;function ha(){gJ.call(this,["fstyle","sstyle","smplp"]);
this.amX=null;this.amN=null;this.afI=null;this.Z5=new dp([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.$x=new bj("\u25BC");this.$x.$I();this.a5a=new bj("\u25B2");this.a5a.$I();this.aGb=[this.Z5,this.$x,this.a5a];
for(var h=0;h<this.aGb.length;h++){var J=this.aGb[h];this.body.appendChild(J._);J.parent=this;J.P(h==0?j.E.n:"click",this.nE,this)}}ha.prototype=new gJ;
ha.prototype.XG=function(J){if(J.nw=="main"){var v=this.aGb,x=J.nT;if(x){this.amN=x.Q();this.afI=JSON.stringify(J.Fw);
var o=x.Y.slice(0),R=o.length;for(var h=0;h<o.length;h++)o[h]++;o.sort(function(P,S){return P-S});v[0].fS();
v[1].Ne(R!=0);v[2].Ne(R!=0);v[0].f_(R==0?"No Paths":R==1?"Path "+o[0]:"Paths "+o.slice(0,3).join(",")+(R>3?"..":""));
if(R!=0){var r=x.Y[0],l=g.I.I5(x.X,r),M=x.X[l];this.Z5.q([3,0,1,2][M.da])}}else for(var h=0;h<v.length;
h++)v[h].UG()}else gJ.prototype.XG.call(this,J)};ha.prototype.pz=function(){gJ.prototype.pz.call(this);
this.Z5.d()};ha.prototype.nE=function(J){if(J.target==this.Z5||J.target==this.$x||J.target==this.a5a){var v={},x=this.amN,o=x.X,R=x.Y,r=g.I.Eo(o),l=JSON.parse(this.afI);
R.sort(function(n,E){return n-E});if(J.target==this.Z5){var M=this.Z5.s();if(M<4)for(var h=0;h<R.length;
h++)o[g.I.I5(o,R[h])].da=[1,2,3,0][M];else{if(r<=1)return;x.X=g.I.aE(o);x.Y=x.X.length==2?[]:[0];x.Ax=[];
l=[g.Fw.e$()]}}else{var P=J.target==this.$x?-1:1,S=[];for(var h=0;h<r;h++){var c=g.I.I5(o,h),b=c+1+o[c].length;
S.push(o.slice(c,b))}var w=R.slice(0);for(var h=0;h<R.length;h++)w[h]=Math.max(h,Math.min(r-1-(R.length-1-h),w[h]+P));
if(R.join(",")==w.join(","))return;var U=g.F(l);for(var h=0;h<R.length;h++){var F=P==-1?h:R.length-1-h,c=R[F],b=w[F];
if(c!=b){var Y=S[c];S[c]=S[b];S[b]=Y;Y=U[c];U[c]=U[b];U[b]=Y}}var A=o.slice(0,2);for(var h=0;h<S.length;
h++)A=A.concat(S[h]);x.X=A;x.Y=w;l=U}v.nT=x;v.Fw=l;var G=new dd(j.E.j,!0);G.data={R:j.m.Yr,J:this.J,Yk:v};
this.a(G)}};function k9(){gJ.call(this,["fstyle","sstyle","crnr","psnap"])}k9.prototype=new gJ;function eo(){gJ.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}eo.prototype=new gJ;
function gL(){gJ.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}gL.prototype=new gJ;
function iN(){gJ.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.lc.aopts.q([!1,!0,50,60,0])}iN.prototype=new gJ;iN.prototype.aqc=function(h){var J=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(J[h])};function jP(){gJ.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}jP.prototype=new gJ;
function c4(){gJ.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}c4.prototype=new gJ;
function ag(){jK.call(this,!1,["binop","feat","redge","sesu"])}ag.prototype=new jK(!0);function k4(){bv.call(this,["brush","qsmode","redge","sesu"])}k4.prototype=new bv;
function bN(){kq.call(this);this.Wq=[new jA,new bj([8,11,3],null,null,!0),new bj(["VAR0...",[15,10,22]],null,null,!0)];
for(var h=0;h<3;h++){var J=this.Wq[h];J.P(h==0?j.E.n:"click",this.nE,this);this.body.appendChild(J._)}}bN.prototype=new kq;
bN.prototype.nE=function(J){var v=new dd(j.E.j,!0),x=this.Wq.indexOf(J.target);if(x==0){v.data={R:j.m.Yr,J:this.J,lJ:J.target.s()}}else if(x==1){v=new dd(j.E.aT,!0);
v.data={QI:"make",_g:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{v.data={R:j.m.wz,kA:"divslice"}}this.a(v)};
bN.prototype.pz=function(J){for(var h=0;h<this.Wq.length;h++)this.Wq[h].d()};function fO(){kq.call(this);
var J=this.Gd=[new bj("\u25BC",null,null,!0),new bj("\u25B2",null,null,!0),new bj([5,4],null,null,!0),new bj(["VAR0...",[15,10,22]],null,null,!0)];
for(var h=0;h<4;h++){var v=J[h];this.body.appendChild(v._);v.P("click",this.nE,this)}}fO.prototype=new kq;
fO.prototype.nE=function(J){var v=this.Gd.indexOf(J.target),x;if(v==3){x=new dd(j.E.j,!0);x.data={R:j.m.wz,kA:"divslice"}}else{x=new dd(j.E.G,!0);
x.J=H.BG;x.data={R:v==2?"delete":"reorder",dir:v==0?-1:1}}this.a(x)};fO.prototype.d=function(){kq.prototype.d.call(this);
for(var h=0;h<4;h++)this.Gd[h].d()};function bT(J,v){kq.call(this);if(window.Typr==null||J)return;this.amA=v;
this.WL=null;this.a5D=B.l("span","");this.avo=B.l("span","");var x=1,o=this.PY={__:new gl(null,24),uo:new fL("X",0,0,"px",0,!1,!0,4),Ea:new fL("Y",0,0,"px",0,!1,!0,4),AD:new fL("W",0,0,["%","px"],2,!1,!0,5),GD:new bj("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),pc:new fL("H",0,0,["%","px"],2,!1,!0,5),a62:new fL("\u2221",0,0,"\xB0",x,!1,!0),a0s:new fL("\u25B1 H",-85,85,"\xB0",x,!1,!0),azj:new fL("\u25B1 V",-85,85,"\xB0",x,!1,!0),v1:new dp(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),aCw:new dp("Protect",[])};
o.v1.q(1);o.GD.q(!0);for(var R in o){var r=o[R],l=!0;if(v&&(r==o.a62||r==o.a0s||r==o.azj||r==o.v1))l=!1;
if(!v&&r==o.aCw)l=!1;if(l)this.a5D.appendChild(r._);var M=r==o.GD?"click":j.E.n;r.P(M,this.aGn,this)}this.VZ=new iF("Split",iF.gd(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.VZ.q(-1);this.VZ.P(j.E.n,this.ayL,this);this.sz=new kS(!0,!0,!0);this.sz.P(j.E.n,this.ayL,this);
this.sz.parent=this;var P=this.avo,S=this.sz;P.appendChild(this.VZ._);P.appendChild(S.ta._);P.appendChild(S.vp._);
P.appendChild(S.sH._);P.appendChild(S.Ct._);P.appendChild(S._M._);this.Z2=new bj([11,9]);this.Z2.P("click",this.arM,this);
this.l5=new g0;this.l5.P("click",this.o0,this)}bT.prototype=new kq;bT.prototype.XG=function(J){if(J.L$){var v=bT,x=this.cd;
if(x==null)x=this.cd=new kM(v.aHs(),v.a8P(this.J));x.d();x.parent=this;x.update(J.C_,J.f);var o=new dd(j.E.j,!0);
o.data={R:j.m.sO,rq:x,x:J.L$.m4+2,y:J.L$.R1+1};this.a(o);return}B.wp(this.body);this.WL=J;var R=this.PY;
if(J.PY){var r=J.PY.Yf,l=J.PY.gf.Q(),M=Math.atan2(-l.c,l.o5),P=new bC;P.rotate(-M);l.concat(P);R.__.q(J.PY.g_);
R.uo.q(J.PY.k$.x);R.Ea.q(J.PY.k$.y);R.AD.q(l.o5*(R.AD.Cm()=="%"?100:r.r));R.pc.q(l.fn*(R.pc.Cm()=="%"?100:r.$));
R.a62.q(-M*180/Math.PI);R.a0s.q(Math.atan(l.Mz/l.fn)*180/Math.PI);R.azj.q(0*180/Math.PI);this.body.appendChild(this.a5D);
this.Z2.Il();if(J.PY.Ay!=null)R.GD.q(J.PY.Ay)}if(J.Jq){if(J.a5Z)this.VZ.q(-1);this.sz.q(J.Jq);this.body.appendChild(this.avo);
this.Z2.$I()}if(J.ac)R.aCw.Qw(J.ac);this.body.appendChild(this.l5._);if(J.aij&&!this.amA)this.body.appendChild(this.Z2._);
R.v1._.style.display=J.aIl?"":"none"};bT.prototype.aGn=function(J){var v=this.PY,x=this.WL.PY.Yf;if(J.target==v.GD)v.GD.q(!v.GD.s());
else if(v.GD.G8()){var o=v.pc,R=v.AD,r=x.$,l=x.r;if(J.target==v.AD){o=v.AD;R=v.pc;r=x.r;l=x.$}var M=o.s()/(o.Cm()=="%"?100:r);
M*=R.Cm()=="%"?100:l;R.q(M)}var P=[];for(var S in v)if(v[S]!=v.GD&&v[S]!=v.__){var M=v[S].s();if((v[S]==v.AD||v[S]==v.pc)&&M==0){M=.1;
v[S].q(M)}if(v[S]==v.AD&&v[S].Cm()=="px")M/=x.r/100;if(v[S]==v.pc&&v[S].Cm()=="px")M/=x.$/100;P.push(M)}var c=new aG(P[0],P[1]);
if(J.target==v.__){this.Qb({nw:"ctyp",g_:v.__.s()})}else if(J.target==v.uo||J.target==v.Ea){this.Qb({nw:"cen",k$:c})}else{var b=this.WL.PY.gf.Q(),w=b.Q(),U=Math.atan2(-b.c,b.o5);
w.translate(-c.x,-c.y);w.rotate(-U);var F=new bC(w.o5,w.c,w.Mz,w.fn,0,0);F.SV();w.concat(F);var Y=P[2]/100,A=P[3]/100;
w.concat(new bC(Y,Y*Math.tan(P[6]*Math.PI/180),A*Math.tan(P[5]*Math.PI/180),A,0,0));w.rotate(-P[4]*Math.PI/180);
w.translate(c.x,c.y);this.WL.PY.gf=w;this.Qb({nw:"trn",PY:w,Gj:v.v1.s(),FT:v.aCw.s(),Ay:v.GD.s()})}};
bT.prototype.ayL=function(J){var v=this.VZ;this.Qb(J.target==v?{nw:"splt",K:v.s()}:{nw:"wrp",Jq:this.sz.s()})};
bT.prototype.arM=function(J){this.Qb({nw:"switchWarp"})};bT.prototype.o0=function(J){this.Qb({nw:this.l5.s()?"commit":"cancel"})};
bT.prototype.Qb=function(J){J.R=j.m.Yr;J.J=this.J;var v=new dd(j.E.j,!0);v.data=J;this.a(v)};bT.prototype.pz=function(){var J=this.PY;
for(var v in J)J[v].d();B.Tu(J.AD,J.pc);this.l5.d();this.VZ.d();this.sz.d();this.Z2.d()};bT.aHs=function(){var J=function(v){var x=!0;
if(v==null||v.Y.length==0)x=!1;else{var o=v.Y;for(var h=0;h<o.length;h++){if(v.k[o[h]].add.TySh)x=!1}}return{i:x}};
return[{name:[5,9],ro:"Shift+Alt+Ctrl + T",vy:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],i:J},{name:[2,9],i:J,vy:!0},{name:[11,9],i:function(v){if(v==null||v.Y.length!=1)return{i:!1};
var x=v.k[v.Y[0]];return{i:x.add.TySh==null&&!x.tX()}},vy:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
bT.a8P=function(J){if(J==null)J=H.tS;return[{A:j.E.G,J:J,p:{R:"again"}},{A:j.E.j,p:{R:j.m.lE,J:J,JZ:{tj:3}}},{A:j.E.j,p:{R:j.m.lE,J:J,JZ:{tj:4}}},{A:j.E.j,p:{R:j.m.lE,J:J,JZ:{tj:5}}},{A:j.E.j,p:{R:j.m.lE,J:J,JZ:{tj:2}}},{A:j.E.j,p:{R:j.m.lE,J:J,JZ:{tj:1}}},{A:j.E.j,p:{R:j.m.lE,J:J,JZ:{tj:-1}}},{A:j.E.aT,p:H.ge.l2(!0,90,!0)},{A:j.E.aT,p:H.ge.l2(!0,-90,!0)},{A:j.E.aT,p:H.ge.l2(!0,-180,!0)},{A:j.E.aT,p:H.ge.l2(!1,"Hrzn",!0)},{A:j.E.aT,p:H.ge.l2(!1,"Vrtc",!0)}]};
function g3(){bT.call(this)}g3.prototype=new bT(!0);function jO(){bT.call(this)}jO.prototype=new bT(!0);
function bX(){bT.call(this,!1,!0)}bX.prototype=new bT(!0);function i$(){kq.call(this);var J=this.HP=[new dp([12,36],["Rigid",[15,10,0],[24,4]]),new dp([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new fL([7,4],0,100,"px"),new a9("Show Mesh"),new bj("\u25BC",null,null,!0),new bj("\u25B2",null,null,!0)];
for(var h=0;h<J.length;h++){var v=J[h];v.parent=this;this.body.appendChild(v._);v.P(h<4?j.E.n:"click",this.a3W,this)}this.l5=new g0;
this.l5.P("click",this.o0,this);this.body.appendChild(this.l5._)}i$.prototype=new kq;i$.prototype.pz=function(){var J=this.HP;
for(var h=0;h<4;h++)J[h].d();this.l5.d()};i$.prototype.XG=function(J){var J=J.Fu;for(var h=0;h<4;h++)this.HP[h].q(J[h])};
i$.prototype.a3W=function(J){var v=[];for(var h=0;h<4;h++)v[h]=this.HP[h].s();var x=this.HP.indexOf(J.target);
if(x<4)this.Qb({nw:"prm",Fu:v});else this.Qb({nw:"moveDepth",aoT:x==5})};i$.prototype.o0=function(J){this.Qb({nw:this.l5.s()?"commit":"cancel"})};
i$.prototype.Qb=function(J){J.R=j.m.Yr;J.J=this.J;var v=new dd(j.E.j,!0);v.data=J;this.a(v)};function fz(){kq.call(this);
this.HP=null;this.ny=new dp([12,44],["","","","",""]);this.ny.P(j.E.n,this.tT,this);this.body.appendChild(this.ny._);
this.j1=new a9("ON");this.j1.P(j.E.n,this.tT,this);this.body.appendChild(this.j1._);var J=fL;this.gy=[[new J([24,2],0,500)],[new J([24,2],0,500)],[],[new J([24,2],0,500)],[new J("Speed",0,500,"%"),new J("Point Speed",0,500,"px")],[new J([12,15],0,360,"\xB0",null,!0)]];
for(var h=0;h<6;h++)for(var v=0;v<this.gy[h].length;v++){var x=this.gy[h][v];x.parent=this;x.P(j.E.n,this.tT,this)}this.l5=new g0;
this.l5.P("click",this.tT,this)}fz.prototype=new kq;fz.prototype.XG=function(J){var v=this.HP=J.Fu,x=v[0];
this.a4Y();this.d()};fz.prototype.tT=function(J){var v=this.HP,x=v[0],o=J.target,R=o.s();if(o==this.l5){}else if(o==this.ny){x=v[0]=R<2?R:R+1;
this.a4Y(x);v[2]=null}else if(o==this.j1){v[1][x]=R;v[2]=null;this.d()}else{var r=this.gy[x];for(var l=0;
l<r.length;l++)v[2][l]=r[l].s()}var M=new dd(j.E.j,!0);M.data={R:j.m.Yr,J:this.J,Fu:v};if(o==this.l5)M.data.nw=R?"commit":"cancel";
this.a(M)};fz.prototype.a4Y=function(){var J=this.body,v=this.HP,x=v[0];this.ny.q(x<2?x:x-1);this.j1.q(v[1][x]);
while(J.children.length>2)J.removeChild(J.lastChild);var o=this.gy[x];for(var h=0;h<o.length;h++){o[h].Ne(v[2]!=null);
if(v[2]!=null)o[h].q(v[2][h]);J.appendChild(o[h]._)}J.appendChild(this.l5._)};fz.prototype.d=function(){var J=[],v=this.HP,x=this.ny;
for(var h=0;h<5;h++){var o=[24,3,12,h];if(v)o=(v[1][h<2?h:h+1]?"\u2713 ":"\u2002\u2002")+ea.get(o);J.push(o)}var R=x.s();
x.Qw(J);x.q(R);var r=this.gy;for(var h=0;h<6;h++){var l=r[h];for(var M=0;M<l.length;M++)l[M].d()}};function eq(){kq.call(this);
var J=this.WQ=[new dp([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var h=0;h<J.length;h++){var v=J[h];
v.P(j.E.n,this.tT,this);this.body.appendChild(v._)}}eq.prototype=new kq;eq.prototype.tT=function(J){var v=this.WQ,x=[];
for(var h=0;h<v.length;h++)x[h]=v[h].s();var o=new dd(j.E.j,!0);o.data={R:j.m.Yr,J:this.J,Qu:x};this.a(o)};
eq.prototype.pz=function(){for(var h=0;h<this.WQ.length;h++)this.WQ[h].d()};function kL(){jK.call(this,!1,["binop"]);
this.apn=new bj("Remove",!1,null,!0);this.apn.P("click",this.Rr,this);this.apn._.style.marginRight="2em";
this.b8=new ir("New content");this.IC=new a6;this.IC.parent=this;this.hk=new bj([18,0],!1,null,!0);this.hk.P("click",this.Rr,this);
this.awj=new bj("Undo",!1,null,!0);this.awj.P("click",this.Rr,this);this.body.appendChild(this.b8._);
this.body.appendChild(this.IC._);this.body.appendChild(this.hk._);this.body.appendChild(this.awj._)}kL.prototype=new jK(!0);
kL.prototype.d=function(){kq.prototype.d.call(this);this.hk.d();this.IC.d()};kL.prototype.Rr=function(J){if(J.target==this.awj){var v=new dd(j.E.G,!0);
v.J=H.iI;v.data={R:"h_stepbck"};this.a(v);return}var x="empty background";if(J.target==this.hk)x=this.b8.s();
this.IC.amC(x)};function im(){aJ.call(this);this._=B.l("div","cmanager");window.alert=function(o,R){this.a93(o,R);
console.log("Alert: "+o)}.bind(this);window.onblur=function(o){var R=this;R.Be()}.bind(this);this.BK=0;
this.mq=0;this.ez=[];this.a8q={};this.aj=B.l("div","alertcont");B.L(this.aj,"pointer-events:none");this._.appendChild(this.aj);
this.amG=B.l("div","alertcont");this._.appendChild(this.amG);this.V6=B.l("div","alertcont");this.a0d=0;
this.nd=-1;this.a4s=null;this.Wq=null;var J=this.aDG=B.l("div","alertpanel");B.L(J,"padding:0.7em 1em 0.1em 1em;");
this.V6.appendChild(J);var v=this.az=B.l("input");v.setAttribute("type","text");B.Mb(v);B.L(v,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
v.addEventListener("input",this.aff.bind(this),!1);v.addEventListener("keydown",this.ayA.bind(this),!1);
J.appendChild(v);var x=this.ai=B.l("div","contextpanel scrollable");B.L(x,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
x.addEventListener("click",this.azm.bind(this),!1);J.appendChild(x);B._A(document.body,this.afP.bind(this))}im.prototype=new aJ;
im.prototype.J0=function(){if(B.yn(this.V6))this._.removeChild(this.V6)};im.prototype.azr=function(J,v){var x=this.a4s=[],o=v.aB6;
for(var h=0;h<cM.data.length;h++){var R=cM.data[h],r=[ea.get(R.name)],l=[h];im.Yi(R.items,r,l,x,J,v,o==null?null:o[h]==null?0:o[h])}var M=v.W;
for(var h=0;h<M.n8.length;h++){var P=M.n8[h],S=M.keys[h];for(var c=0;c<P.length;c++)x.push([["Tools",ea.get(P[c].J.name)],[-1,P[c].J.id],S?S.UL:null])}this._.appendChild(this.V6);
var b=this.az;b.focus();b.select();this._t()};im.prototype.aff=function(J){this.nd=-1;this._t()};im.prototype._t=function(){var J=this.az.value.toLowerCase().trim().replace(/  +/g," "),v=this.a4s,x=[],o=[],R=J.split(" ");
if(J!="")for(var h=0;h<v.length;h++){var r=v[h][0],l=[],M=0;for(var P=0;P<r.length;P++)l[P]=-1;for(var S=0;
S<R.length;S++)for(var P=0;P<r.length;P++){var c=r[P].toLowerCase().indexOf(R[S]);if(c!=-1){l[P]=[c,c+R[S].length];
M++;break}}if(M==R.length){x.push(v[h]);o.push(l)}}var b=[],w=this.ai;B.wp(w);for(var h=0;h<x.length;
h++){var U=x[h],F=U[0],c=o[h],Y="enab",G="";if(h==this.nd)Y+=" active";var A=B.l("div",Y);b.push(A);
w.appendChild(A);for(var P=0;P<F.length;P++){var n=c[P],E=R[P],K=F[P];if(n!=-1)K=K.slice(0,n[0])+"<span style=\"color:black\">"+K.slice(n[0],n[1])+"</span>"+K.slice(n[1]);
G+=K;if(P<F.length-1)G+=" \uFE65 "}if(U[2]&&(typeof U[2]!="string"||U[2].length==1))G+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+gw.mN(U[2])+"</span>";
A.innerHTML=G}this.Wq=[x,b]};im.prototype.ayA=function(J){var v=gw.oq,x=J.code;if(v(x,gw.T1))this.J0();
var o=v(x,gw.Wl),R=v(x,gw.yy),r=v(x,gw.O9);if(o||R){this.nd=Math.max(0,Math.min(this.Wq[0].length-1,this.nd+(o?-1:1)));
this._t()}if(r&&this.nd!=-1)this.a23(this.nd)};im.Yi=function(J,v,x,o,R,r,l){if(typeof l=="number"){if(l==0)return;
if(l==1)l=null}for(var h=0;h<J.length;h++){if(l!=null&&(l[h]==0||l[h]==null))continue;var M=J[h],P=v.slice(0),S=x.slice(0),c=ea.get(M.name);
if(M.i){var b=M.i(R,r,h);if(b.y0)c=b.y0;if(b.i==!1)continue}P.push(c);S.push(h);if(M.sub)im.Yi(M.sub,P,S,o,R,r,l?l[h]:null);
else o.push([P,S,M.ro])}};im.prototype.azm=function(J){var v=J.target;if(v.tagName.toLowerCase()=="span")v=v.parentNode;
var x=this.Wq[1].indexOf(v);if(x!=-1)this.a23(x)};im.prototype.a23=function(J){var v=this.Wq[0][J][1];
if(v[0]==-1){var x=new dd(j.E.j,!0);x.data={R:j.m.lE,J:v[1]};this.a(x)}else{var o=cM.data[v[0]].D9[v[1]];
for(var h=2;h<v.length;h++)o=o.sub[v[h]];var R=new dd(o.A,!0);R.J=o.J;R.data=o.p;this.a(R)}this.J0()};
im.prototype.qe=function(J,v){this.BK=J;this.mq=v;this.ai.style["max-height"]=v-120+"px"};im.prototype.ahs=function(J){var v=B.l("div","alertpanel");
v.textContent=ea.get(J);this.aj.appendChild(v);this.a8q[JSON.stringify(J)]=v};im.prototype.awc=function(J){var v=this.a8q[JSON.stringify(J)];
this.aj.removeChild(v);delete this.a8q[JSON.stringify(J)]};im.prototype.a93=function(J,v){var x=this.amG;
for(var h=0;h<x.children.length;h++)if(x.children[h].textContent==J)return;var o=B.l("div","alertpanel tpanel");
o.textContent=J;B.L(o,"opacity:0.5; transform:scale(0.9)\t");x.appendChild(o);if(v==null)v=1500;var R=v,r=Math.max(Date.now()+R,this.a0d+R);
setTimeout(function(){B.L(o,"transform:scale(1); opacity:1;")},10);setTimeout(function(){B.L(x,"pointer-events:none; margin-top: -3.6em; transform: translateY(3.6em);")},r-Date.now()-30);
setTimeout(function(){x.removeChild(x.firstChild);B.L(x,"pointer-events:none; transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},r-Date.now());
this.a0d=r};im.prototype.afP=function(J){var v=this.ez;for(var h=v.length-1;h>=0;h--){var x=v[h],o=J.target;
while(o!=null){if(o==x._){this.Be(x);return}o=o.parentNode}}this.Be();var R=J.target;while(R!=this.V6&&R!=document.body)R=R.parentNode;
if(R!=this.V6)this.J0()};im.prototype.Be=function(J){var v=this.ez;for(var h=0;h<v.length;h++){if(J&&J.aCL(v[h]))continue;
var x=v[h]._;if(!(v[h]instanceof kM))B.UD(v[h],this._);else this._.removeChild(x);x.style.height="auto";
B.Nv(x,"scrollable");v.splice(h,1);h--}};im.prototype.a4o=function(J){this.Be(J.rq);var v=J.rq,x=v._;
if(this.ez.indexOf(v)!=-1)return;this.ez.push(v);this._.appendChild(x);var o=this.BK,R=this.mq,r=J.x,l=J.y,M=this._.getBoundingClientRect(),P=v instanceof kM,S=-1,c=R-2;
if(P||J.a3){var b=v.RJ(),w=v.ast();if(P)b=Math.min(b,200);var U=o-b-2,F=R-w-2;if(l<F)S=2;else if(r<U)S=1;
else if(0<l-w-2)S=0;else S=3;if(J.a3y)S=0;if(J.aeC)S=2;if(S==2){r=Math.min(r,U)}else if(S==1){l=Math.min(l,F)}else if(S==0){l=l-w-2;
r=Math.min(r,U);c=J.y}else if(S==3){r=r-b-2;l=Math.min(l,F)}}l=Math.max(2,l);var top=Math.round(l-M.y+this._.offsetTop);
x.style.position="absolute";x.style["z-index"]=10;if(l+v.ast()>c){x.style.height=c-l+"px";B._H(x,"scrollable");
if(S==3)r-=10}x.style.left=Math.round(r)+"px";x.style.top=top+"px";if(!(v instanceof kM))B.fC(v)};im.prototype.aDn=function(J){var v=J.rq,x=this.ez.indexOf(v);
if(x==-1)return;this.ez.splice(x,1);var o=v._;if(!(v instanceof kM))B.UD(v,this._);else this._.removeChild(v._)};
im.prototype.pt=function(){var J=this.ez;return J.length==0?null:J[J.length-1]};im.prototype.a9t=function(){this.aDn({rq:this.pt()})};
function gW(){aJ.call(this);this._=B.l("div","confbar")}gW.prototype=new aJ;gW.prototype.aHb=function(J){J.parent=this;
B.wp(this._);this._.appendChild(J._)};function jc(){aJ.call(this);var J=this._=B.l("div","toolconf");
J.style.marginLeft="40px";this.arj=null;this.U8=null;this.LD=[new kV(0),new kV(1),new fL([14,9],0,100,"px"),new hH(!0),new fL([12,0],0,100,"%",0)];
for(var h=0;h<this.LD.length;h++){var v=this.LD[h];v.parent=this;v.P(j.E.n,this.aHF,this);J.appendChild(v._)}var x=this.By=new a1;
this.By.parent=this;this.afX=new aT("Tt:");var o=this.Di=B.l("span");J.appendChild(o);o.appendChild(this.afX._);
o.appendChild(x.wN._);o.appendChild(x.TR._);o.appendChild(x.ei._)}jc.prototype=new aJ;jc.prototype.aHF=function(J){var v=this.LD.indexOf(J.target),x=J.target.s();
if(v==4){var o=new dd(j.E.G,!0);o.J=H.wu;o.data={R:m.oh,ra:Math.round(255*x/100)};this.a(o);return}var R=g.F(this.arj.Ok);
if(v<2){var r,l=x;if(v==0){r=R.sN;R.sN=l}else{r=R.T0;R.T0=l}if(r.length!=l.length){var M=[1,0,0,1,0,0];
if(r.length==4){M=r[3].slice(0);M[1]*=-1;M[2]*=-1}if(r.length==2){M=r[1][1].slice(0)}if(l.length==4){l[2]=[0,0,0,1,1,0,0];
l[3]=M;M[1]*=-1;M[2]*=-1}if(l.length==2){l[1]=[[0,0,1,1,0,0,0,0,0],M]}}}if(v==2)R.fk=x;if(v==3)R=x;var o=new dd(j.E.j,!0);
o.data={R:j.m.Qq,Fu:cj.YI,K:R};this.a(o)};jc.prototype.d=function(){for(var h=0;h<this.LD.length;h++)this.LD[h].d();
this.By.d()};jc.prototype.XX=function(J,v){this.U8=J;this.LD[0].CN(J);this.LD[1].CN(J)};jc.prototype.Q4=function(J){if(J.Y.length==0)return;
var v=J.k[J.Y[0]];this.LD[4].q(Math.round(v.fc*100/255));B.L(this.Di,"line-height:1.5em; display:"+(v.add.TySh?"":"none"))};
jc.prototype.pJ=function(J,v){this.arj=J;var x=J.Ok,o=this.U8;this.LD[0].q(x.sN,o);this.LD[1].q(x.T0,o);
if(x.fk!=null)this.LD[2].q(x.fk);this.LD[3].q(x);this.By.q(J.oC,J.rr,J.Qv)};function aB(J){aJ.call(this);
aB.DP=this;aB.ys=J;this.f=null;this.bY=B.l("input","");this.bY.setAttribute("type","file");this.bY.setAttribute("multiple","");
this.bY.addEventListener("change",function(v){this.BY(v.target.files,null,this.HO,null);this.HO=null}.bind(this),!1);
document.body.appendChild(this.bY);B.L(this.bY,"display:none");this.aDF=[];this.azh=!1;this.aBA=[];this.adm=!1;
this.au4={};this.HO=null}aB.prototype=new aJ;aB.ys=null;aB.PN=function(J){try{var v={};v[J.type]=J;navigator.clipboard.write([new ClipboardItem(v)])}catch(gw){console.error(gw,gw.message)}};
aB._l=function(J,v){navigator.clipboard.read().then(function(x){for(var h=0;h<x.length;h++){try{var o=x[h],R={},r=0,l=0;
for(var M=0;M<o.types.length;M++){var P=o.types[M];r++;o.getType(P).then(function(S){var c=P;new Response(S).arrayBuffer().then(function(b){R[this.QJ]=b;
l++;if(l==r)aB.aEF(R,J,v)}.bind({QJ:this.QJ}))}.bind({QJ:P}))}}catch(gw){console.error(gw,gw.message)}}}).catch(function(x){alert("Please, give us permissions to access your clipboard.")})};
aB.akd=function(J){navigator.permissions.query({name:"clipboard-read"}).then(function(v){J(v.state)})};
aB.aEF=function(J,v,x){var o=["text/plain","image/png","text/html","text/plain"];for(var R in J)console.log(R,R.startsWith("text")?I.Aq(new Uint8Array(J[R])).slice(0,100)+"...":J[R]);
for(var r=0;r<o.length;r++){var l=o[r],M=J[l];if(M==null)continue;if(l=="image/png"){aB.ys({name:"image.png"},M,v,x);
return}if(l=="text/plain"){var P=I.Aq(new Uint8Array(M));if(r==0)if(!P.startsWith("<!--")&&!P.startsWith("<svg"))continue;
if(x&&P.startsWith("<svg"))continue;var S=new dd(j.E.j,!0);S.data={R:j.m.aug,K:P};v.a(S);return}if(l=="text/html"){var P=I.Aq(new Uint8Array(M)),c=P.indexOf("src=\"");
if(c!=-1&&P.slice(c+5,c+9)!="http"){var b=c+10;while(P[b]!="\"")b++;var w=P.slice(c+5,b);aB.ys({name:"chart.png"},d2.pa(w).buffer,v,x);
return}}}};aB.prototype.n0=function(J){if(J==null)J=[23,5];var v=JSON.stringify(J),x=this.au4;if(x[v]==null)x[v]=0;
if(x[v]==0){var o=new dd(j.E.j,!0);o.data={R:j.m.A9,oy:J};this.a(o)}x[v]++};aB.prototype.SA=function(J){if(J==null)J=[23,5];
var v=JSON.stringify(J),x=this.au4;if(x[v]==null)x[v]=0;x[v]--;if(x[v]==0){var o=new dd(j.E.j,!0);o.data={R:j.m.fz,oy:J};
this.a(o)}};aB.prototype.aaP=function(J,v,x){this.HO=J;var o=window.showOpenFilePicker;if(x)o=null;if(o&&window.self==window.top){var R=this;
o({multiple:!0}).then(function(M){var P=[];function S(c){P.push(c);if(P.length==M.length){R.BY(P,null,R.HO,null,M);
R.HO=null}else M[P.length].getFile().then(S)}M[P.length].getFile().then(S)});return}var r=this.bY;if(v)r.setAttribute("accept",v);
else r.removeAttribute("accept");var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
r.dispatchEvent(l)};aB.prototype.Od=function(J){if(J.url.indexOf("photopea.com#i")!=-1||J.url.indexOf("photopea.com/#i")!=-1){this.JK(J.url.split("#i").pop());
return}this.aDF.push(J);this.aAQ()};aB.prototype.aAQ=function(){var J=this.aDF;if(J.length==0||this.azh)return;
this.azh=!0;var v=J.shift();this.n0();if(v.pG==null)v.pG={};var x=new XMLHttpRequest;x.h4=v;var o=v.url;
if(v.$z&&!o.startsWith("data:image"))o="mirror.php?url="+encodeURIComponent(o);x.open("GET",o);if(v.avT)for(var R in v.avT)x.setRequestHeader(R,v.avT[R]);
x.responseType="arraybuffer";x.onload=this.aj7.bind(this);x.send()};aB.prototype.BY=function(J,v,x,o,R){for(var h=0;
h<J.length;h++){this.n0();var r=J[h],l=new FileReader;l.h4=r;l.h4.m8=x;l.h4.Kq=o;l.abb=v;if(R)l.h4._Y=R[h];
l.onload=this.aj7.bind(this);l.onerror=function(M){this.SA()}.bind(this);this.aBA.push([l,r])}this.bY.value=null;
this.aGG()};aB.prototype.aGG=function(){var J=this.aBA;if(J.length==0||this.adm)return;this.adm=!0;var v=J.shift();
v[0].readAsArrayBuffer(v[1])};aB.prototype.a8c=function(J,v,x){this.n0("Saving ...");this.f=v;setTimeout(x.bind({$E:J,caller:this}),50)};
aB.sg=function(J){var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=new Uint8Array(J),o=x.length,R=o%3,r=o-R,l=[],M=0,P=0,S=0;
for(var h=0;h<r;h+=3){M=x[h];P=x[h+1];S=x[h+2];l.push(v[M>>2]+v[(M&3)<<4|P>>4]+v[(P&15)<<2|S>>6]+v[S&63])}if(R==1){M=x[r];
l.push(v[M>>2]+v[(M&3)<<4]+"==")}if(R==2){M=x[r];P=x[r+1];l.push(v[M>>2]+v[(M&3)<<4|P>>4]+v[(P&15)<<2]+"=")}var c=l.join("");
return c};aB.agL=function(J,v){var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(64),M=0,P=0,S=0,b=0;
for(var h=0;h<64;h++)o[h]=x.charCodeAt(h);var R=new Uint8Array(J),r=v%3,l=v-r,c=new Uint8Array(Math.floor(v/3)*4+(r==0?0:4));
for(var h=0;h<l;h+=3){M=R[h];P=R[h+1];S=R[h+2];c[b]=o[M>>>2];c[b+1]=o[(M&3)<<4|P>>>4];c[b+2]=o[(P&15)<<2|S>>>6];
c[b+3]=o[S&63];b+=4}if(r==1){M=R[l];c[b]=o[M>>2];c[b+1]=o[(M&3)<<4];c[b+2]=61;c[b+3]=61}if(r==2){M=R[l];
P=R[l+1];c[b]=o[M>>2];c[b+1]=o[(M&3)<<4|P>>4];c[b+2]=o[(P&15)<<2];c[b+3]=61}return c};aB.prototype.aj7=function(J){var v,x=J.target.h4;
if(J.target instanceof XMLHttpRequest)v=J.target.response;else v=J.target.result;aB.ys(x,v,this,J.target.abb);
this.SA();if(J.target instanceof XMLHttpRequest){this.azh=!1;this.aAQ()}else{this.adm=!1;this.aGG()}};
aB.atx=function(J,v){var x=new XMLHttpRequest;x.open("POST","https://api.imgur.com/3/image",!0);x.VX=v;
var o=["3ad80d2d9969219","b2ecdcfbd6e5dc3"],R=Math.floor(Math.random()*o.length);if(Date.now()<1714170928600)R=1;
x.setRequestHeader("Authorization","Client-ID "+o[R]);x.setRequestHeader("Content-type","application/x-www-form-urlencoded");
x.setRequestHeader("Accept","application/json");x.addEventListener("load",aB.ahN);x.send("type=base64&image="+encodeURIComponent(aB.sg(J)));
alert("Saving to Imgur ...",4e3)};aB.ahN=function(J){var v=JSON.parse(J.target.response);if(v.success){if(J.target.VX)J.target.VX(v.data.link);
else window.open(v.data.link,"Imgur")}};aB.prototype.JK=function(J,v,x){this.n0();var o=new XMLHttpRequest;
o.responseType="arraybuffer";o.open("GET","https://f000.backblazeb2.com/file/"+(x?"pp-resources":"psdshared")+"/"+J);
o.onload=this.acu.bind(this);o.send();o.GW=[Date.now(),J,v?J:null,x]};aB.prototype.acu=function(J){var v=J.target.GW,x=new Uint8Array(J.target.response);
console.log(x.length+" B,",Date.now()-v[0]+" ms");for(var h=0;h<x.length;h++)x[h]=255-x[h];x=pako.inflateRaw(x);
var o=JSON.parse(I.Aq(x,0,2e3));aB.ys({name:o.name,zY:v[2]},x.slice(2e3).buffer,this);this.SA();if(!v[3])aB.NC("act=0&id="+v[1])};
aB.prototype.aFk=function(J,v,x,o){if(!(J instanceof ArrayBuffer))throw"e";J=new Uint8Array(J);var R=new Uint8Array(J.length+2e3),w="";
for(var h=0;h<2e3;h++)R[h]=32;I.Ez(JSON.stringify({name:v}),R,0);R.set(J,2e3);J=R;J=pako.deflateRaw(J);
for(var h=0;h<J.length;h++)J[h]=255-J[h];J=J.buffer;var r=J.byteLength,l=eF.Ux(r),M=~~(609e5/2),P=~~(209e5/2);
if(r>M){confirm("Your file is "+l+". Our limit is "+eF.Ux(M)+". Delete some layers and try again.");
return}if(r>P){var S=confirm("Your file is quite large ("+l+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!S)return}var c=sha1(J),b=[];for(var h=0;h<20;h++){var U=parseInt(c.slice(h*2,h*2+2),16);b.push(U);
w+=String.fromCharCode(U)}var F=btoa(w).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(aB.a5O(F,o)){console.log("file already exists");
if(x)x(F);else window.open("https://www.photopea.com#i"+F+".psd");return}this.n0("Publishing ...");var Y=new XMLHttpRequest;
Y.GW=[J,c,F,x,o];Y.open("GET",f6.mP("papi/img/publish.php?rnd="+Math.random()+"&id="+F+"&size="+r+"&bname="+o));
Y.onload=this.aA2.bind(this);Y.send()};aB.a5O=function(J,v){try{var x=new XMLHttpRequest;x.open("HEAD","https://f000.backblazeb2.com/file/"+v+"/"+J,!1);
x.send();if(x.status==200)return!0}catch(gw){return!1}return!1};aB.prototype.aA2=function(J){console.log(J.target.response);
var v=JSON.parse(J.target.response),x=J.target.GW,o=new XMLHttpRequest;o.open("POST",v.uploadUrl);o.setRequestHeader("Authorization",v.authorizationToken);
o.setRequestHeader("X-Bz-File-Name",x[2]);o.setRequestHeader("Content-Type","b2/x-auto");o.setRequestHeader("X-Bz-Content-Sha1",x[1]);
o.send(new Blob([x[0]]));o.onload=this.agm.bind({mm:this,GW:x})};aB.prototype.agm=function(J){this.mm.SA("Publishing ...");
if(this.GW[3])this.GW[3](this.GW[2]);else window.open("https://www.photopea.com#i"+this.GW[2]+".psd");
if(this.GW[4]=="psdshared")aB.NC("act=2&id="+this.GW[2]+"&fileId="+JSON.parse(J.target.response).fileId)};
aB.NC=function(J){var v=new XMLHttpRequest;v.open("GET","/papi/img/update.php?"+J+"&rnd="+Math.random());
v.send()};aB.save=function(J,v){var x=new Uint8Array(J),o=document.createElement("a");if(typeof o.download=="string"){var R=new Blob([x]),r=window.URL.createObjectURL(R);
o.href=r;o.download=v;document.body.appendChild(o);o.click();document.body.removeChild(o)}else{var l="data:application/octet-stream;base64,"+aB.sg(J);
window.open(l)}};function i3(){this.size=16;this.data=g.C(16)}i3.prototype.Cb=function(J,v){if(J+v<=this.size)return;
var x=this.size;while(J+v>this.size)this.size*=2;var o=g.C(this.size);for(var h=0;h<x;h++)o[h]=this.data[h];
this.data=o};var cA={};cA.s6=function(J,v,x,o){var R=v.split(":"),r=R[0];if(R.length==2){if(r=="jpg")o=[Math.round(100*parseFloat(R[1]))];
if(r=="webp")o=[Math.round(100*parseFloat(R[1]))];if(r=="psd")o=[!0,!0,!1,!1,!1];if(r=="svg")o=R[1].split(",").map(function(M){return M=="true"});
if(r=="jpg"||r=="webp")if(J.L_())o.push(!1)}var l=d2.At(J,r.toUpperCase(),null,null,o,x);return l};cA.aFz=function(J,v,x){var o=J.rv(),R=v[0];
return cA.s6(J,R,x)};cA.a7c=function(){var J=this.$E,v=this.caller,x=J.pG.oO,o=x.formats,R,r;J.rv();
var l=Date.now();if(x.version==1){var M=[],P=0,c=0;for(var h=0;h<o.length;h++){var S=cA.s6(J,o[h],v.f);
M.push(S);P+=S.byteLength}R=new Uint8Array(2e3+P);var b="{ \"source\": "+JSON.stringify(J.bp)+", \"versions\": [\n";
for(var h=0;h<o.length;h++){var w=new Uint8Array(M[h]);b+="\t{\"format\": \""+o[h].split(":")[0]+"\", \"start\": "+c+", \"size\": "+w.length+" }"+(h+1<o.length?", ":"")+"\n";
R.set(w,2e3+c);c+=M[h].byteLength}b+="] }";var U=I.Ez(b,R,0);for(var h=U;h<2e3;h++)R[h]=32;r="application/octet-stream"}else{var F=new i3,Y=0,A="",G=encodeURIComponent;
A="p="+G("{ \"source\": "+JSON.stringify(J.bp)+", \"versions\": [");I.ko(F,Y,A);Y+=A.length;for(var h=0;
h<o.length;h++){A=G(" {\"format\": \""+o[h].split(":")[0]+"\", \"data\": \"");I.ko(F,Y,A);Y+=A.length;
var S=cA.s6(J,o[h],v.f),n=aB.agL(S,S.byteLength),U=n.length;F.Cb(Y,U);for(var E=0;E<U;E++){F.Cb(Y,3);
var K=n[E];if(K==43){F.data[Y]=37;F.data[Y+1]=50;F.data[Y+2]=66;Y+=3}else if(K==47){F.data[Y]=37;F.data[Y+1]=50;
F.data[Y+2]=70;Y+=3}else if(K==61){F.data[Y]=37;F.data[Y+1]=51;F.data[Y+2]=68;Y+=3}else{F.data[Y]=K;
Y++}}A=G("\" }"+(h+1<o.length?", ":""));I.ko(F,Y,A);Y+=A.length}A=G("] }");I.ko(F,Y,A);Y+=A.length;R=F.data.slice(0,Y);
r="application/x-www-form-urlencoded"}var e=new XMLHttpRequest;e.open("POST",x.url,!0);if(r)e.setRequestHeader("Content-Type",r);
e.addEventListener("load",cA.aFh.bind(this));e.send(new Blob([R.buffer]))};cA.aFh=function(J){this.caller.SA("Saving ...");
var v=J.target.response;if(v.charAt(0)=="{"){v=JSON.parse(v);if(v.newSource)this.$E.bp=v.newSource;if(v.message)alert(v.message,2e3);
if(v.script){var x=new dd(j.E.j,!0);x.data={R:j.m.Ft,TM:v.script};this.caller.a(x)}}else alert("Saved. Response: "+v,1500)};
cA.a0A=function(J){var v=J.xb,x=v[1].split(".").pop(),o=cA.s6(J,x,null,x=="psd"&&v[0]==1?[!0,!1,!0,!1]:null),R=Storage.h8(v[0]);
return R.alK(v[1],o)};cA.a3z=function(J,v){var x=J.My.Mc;if(v==null)v=cA.s6(J,x);e5.OL(function(){var o=new XMLHttpRequest,R="https://www.googleapis.com/upload/drive/v3/files/"+J.My.file.id+"?uploadType=media"+"&"+e5.aiM();
o.open("PATCH",R,!0);o.addEventListener("load",function(r){var l=JSON.parse(r.target.response);alert(l.name+" updated")});
o.send(v);alert("Saving \""+J.My.file.name+"\" to Google Drive ...")})};cA.ys=function(J,v,x,o){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)cA.aJ0(J,v,x,o);
else{try{cA.aJ0(J,v,x,o)}catch(gw){if(gw=="low_ram"){}else{var R=d2.e4(v),r="Error. Please, send your file to support@photopea.com and we will solve it.";
if(R=="psd")r="Your file is probably damaged :( If you are 100% sure your file is ok, send it to support@photopea.com";
if(d2.e4(v)=="eps")r="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(r,1e4)}}}};cA.aJ0=function(J,v,x,o){var R;if(J.name){var r=J.name.lastIndexOf(".");R=r==-1?J.name:J.name.slice(0,r);
if(J.name.slice(r+1)=="psdt")R="Untitled-1"}else{if(J.url.substring(0,5)=="data:")R="image";else{var l=J.url.substring(J.url.lastIndexOf("/")+1).split(".");
R=l[0];if(l[1]=="psdt")R="Untitled-1"}R=R.slice(0,50)}var M=J.name?J.name:J.url,P=new Uint8Array(v),S=d2.e4(v);
if(S!=null&&d2.s$(S))f6.event("fmt_"+S,.1);if(S==null)S=I.b_(P,0,4);if(S=="ai"&&M&&M.toLowerCase().endsWith(".pdf"))S="pdf";
if(M&&M.toLowerCase().endsWith(".aco"))S="aco";if(M&&M.toLowerCase().endsWith(".raw")&&S!="tiff"){var c=new dd(j.E.j,!0);
c.data={R:j.m.wz,kA:"importraw",wR:v,d8:M.split("/").pop()};x.a(c);return}else if(S=="json"){var b="";
for(var h=0;h<P.length;h++)b+=String.fromCharCode(P[h]);b=decodeURIComponent(escape(b));var w=JSON.parse(b);
if(w.name&&w.url){var c=new dd(j.E.j,!0);c.data={R:j.m.asj,K:w};x.a(c)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(w)}return}if(S=="html"){var b=I.Aq(P,0,P.length),U=new DOMParser,F=U.parseFromString(b,"text/html"),Y=F.getElementsByTagName("meta");
for(var h=0;h<Y.length;h++){var A=Y[h],G=A.getAttribute("property"),n=A.getAttribute("content"),E=null;
if(G=="og:image")E=n;if(G==null&&n&&n.startsWith("0;url=/imgres?")){var l=n.slice(14).split("&");for(var K=0;
K<l.length;K++)if(l[K].startsWith("imgurl"))E=decodeURIComponent(l[K].slice(7))}if(E==null)continue;
var c=new dd(j.E.j,!0);c.data={R:j.m.Ia,Fu:{url:E,$z:!0,m8:J.m8}};x.a(c)}return}if(d2.s$(S)){var e,$,N=d2.s$(S);
if(J.m8!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(S)!=-1){var c=new dd(j.E.j,!0);if(0<=J.m8)c.data={R:j.m.ol,target:J.m8,IA:J.Kq,qE:v,v5:R};
else{c=new dd(j.E.G,!0);c.data={R:m.ag,data:new Uint8Array(v),d8:R+"."+S};c.J=H.wu}x.a(c);return}var k=[R,N,S,J,x,o,v];
if(N.KY){var V=du==0?"psd":"ai";e=new d7(R+(S==V?"":"-"+S)+"."+V);N.lx(v,e,cA.xP,k)}else{$=N.lx(v,null,cA.xP,k,x);
if($==null)return}if(N.NM!=!0)cA.xP(e,$,k);else x.n0();return}var X=new dd(j.E.j,!0);X.data={R:j.m.cS,wR:v,ox:J.name};
var Q=J instanceof File&&J.amZ!=!0,c=new dd(j.E.j,!0);c.data={R:j.m.Qq,pG:"add",Fu:null,xO:null,ahc:J.amZ};
if(S=="zip"){var L=Date.now(),_=UZIP.parse(v),a="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var T in _){var f=!1;for(var h=0;h<a.length;h++)if(T.toLowerCase().endsWith("."+a[h]))f=!0;if(T.startsWith("__MACOSX/")||_[T].length==0)f=!0;
if(f)continue;var Z=T.split("/").pop();cA.ys({name:Z},_[T].buffer,x,o)}}else if(S=="jsx"||M&&M.toLowerCase().endsWith(".jsx")){if(Q)x.a(X);
var b=I.Aq(new Uint8Array(v));c.data={R:j.m.Ft,TM:b};x.a(c)}else if(S=="otf"){if(Q)x.a(X);var W=Typr.parse(v);
c.data.Fu=cj.dX;for(var h=0;h<W.length;h++){c.data.xO=W[h];x.a(c)}}else if(S=="asl"){if(Q)x.a(X);var W=fy.KE(v,M);
c.data.Fu=cj.q1;c.data.xO=W.Ue;x.a(c);c.data.Fu=cj.NY;c.data.xO=W.Kg;x.a(c)}else if(S=="tpl"){if(Q)x.a(X);
var W=jf.KE(v);c.data.Fu=cj.kN;c.data.xO={En:W.En,pm:W.pm,list:[]};x.a(c);if(W.avk.length!=0){c.data.Fu=cj.z0;
c.data.xO=W.avk;x.a(c)}if(W.Kg.length!=0){c.data.Fu=cj.NY;c.data.xO=W.Kg;x.a(c)}c.data.Fu=cj.jZ;c.data.xO=W.list;
x.a(c)}else{var D="";for(var C in cj.LK)if(cj.LK[C][0]==S)D=C;if(D!=""){if(Q)x.a(X);c.data.xO=cj.LK[D][2].KE(v,M);
c.data.Fu=D;x.a(c)}else if(v.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(S))}};
cA.xP=function(J,v,x){var o=x[0],R=x[1],r=x[2],l=x[3],M=x[4],P=x[5],S=x[6];if(R.NM)M.SA();if(!R.KY){if(v.length==0)return;
if(v[0].t33421||v[0].t50706){g.raw.normalize(v[0],S);console.log(v[0]);var c=new dd(j.E.j,!0);c.data={R:j.m.wz,kA:"rawpea",fK:v[0]};
M.a(c);return}if(P){P(new Uint8Array(v[0].data),v[0].P0);return}J=d2.QB(o,v)}J.zY=l.zY;J.Ch=r;J.pG=l.pG;
J.bp=l.url;J.HW=l.HW;J.My=l.My;J._Y=l._Y;J.xb=l.xb;if(l._Y&&l._Y.name.endsWith(".psdt"))J._Y=null;if(J.My)J.My.Mc=r;
if(J.k.length!=0){var c=new dd(j.E.j,!0);c.data={R:l.m8==null?j.m.iD:j.m.ol,target:l.m8,IA:l.Kq,qE:J};
M.a(c)}};function hs(J){aJ.call(this);this.AO=hs.AO++;this.TP=J;this.ayV=this.awC.bind(this);this.ahB=this.a2m.bind(this);
this.aiZ=this.MI.bind(this);this.axn=this.aBi.bind(this);this.aEe=this.a9J.bind(this);this.aJ4=this.ari.bind(this);
this.Bh=0;this.anD=0;this.an6=0;this._=B.l("div","panelblock");this.nH=B.l("div","block");this.RL=B.l("div","collapsed");
this._.appendChild(this.nH);this.zr=-1;this.fs=!0;this.Lb=B.l("div","panelhead");this.nH.appendChild(this.Lb);
this.AK(this.Lb);this.ak_=new bj("\u2261");B.L(this.ak_._,"position:absolute; right:4px;");this.ak_.P("click",this.asO,this);
this.qX=B.l("div","body");this.nH.appendChild(this.qX);this.Ho=[];this.pZ=null;this.Yq=null}hs.AO=0;
hs.prototype=new aJ;hs.we=26.1;hs.prototype.asO=function(J){var v=this.Ho[this.zr].Hi(),x=J.currentTarget._.getBoundingClientRect();
v.d();v.update();v.parent=this;var o=new dd(j.E.j,!0);o.data={R:j.m.sO,rq:v,x:x.left,y:x.top+x.height+2};
this.a(o)};hs.prototype.iw=function(J){var v=this.nH,x=this.Lb,o=this.qX;if(B.yn(x))v.removeChild(x);
if(B.yn(o))v.removeChild(o);if(J==0)v.appendChild(x);v.appendChild(o);this.an6=J};hs.Ib=function(J){J.stopPropagation();
J.preventDefault()};hs.prototype.awC=function(J){var v=J.dataTransfer.types;if(v[1]!=null&&v[1]!=this.AO+"")return;
hs.Ib(J);var co=J.currentTarget;if(J.target==co)B._H(co,"highlight")};hs.prototype.a2m=function(J){hs.Ib(J);
var co=J.currentTarget;if(J.target==co)B.Nv(co,"highlight")};hs.prototype.AK=function(J){J.addEventListener("dragenter",this.ayV,!1);
J.addEventListener("dragleave",this.ahB,!1);J.addEventListener("dragover",hs.Ib,!1);J.addEventListener("drop",this.aiZ,!1);
J.addEventListener("dragstart",function(v){v.dataTransfer.setData("Text","--panel");v.dataTransfer.setData(this.AO+"","")}.bind(this),!1)};
hs.prototype.MI=function(J){this.ahB(J);var v=null,co=J.currentTarget,x=this.abe(co);if(co==this.qX&&this.zr!=-1)v=this.zr;
else if(co==this.Lb)v=null;else if(x!=-1)v=x;var o=J.dataTransfer.getData("Text");if(o==""||o.startsWith("http")||o.startsWith("data:image/"))B.Hn(J,this,v);
else if(o=="--panel"){var R=B.C2(J,co),r=this.Ho,l=r.slice(0),h=this.zr,M=x==-1?r.length:R.x<co.getBoundingClientRect().width/2?x:x+1;
if(h==M||h+1==M||co==this.qX)return;var P=h<M?M-1:M,S=r[h];r.splice(h,1);r.splice(P,0,S);B.wp(this.Lb);
for(var c=0;c<r.length;c++)this.Lb.appendChild(r[c].aP);this.k0(P);var b=[];for(var h=0;h<r.length;h++)b[h]=l.indexOf(r[h]);
var w=new dd("shuffleItems",!1);w.data={asf:b};this.a(w)}else if(v!=null&&this instanceof dV){var w=new dd(j.E.j,!0);
w.data={R:j.m.an3,apw:v};this.a(w)}};hs.prototype.i6=function(){return null};hs.prototype.a2P=function(){if(this.i6()){this.Lb.style.padding="0px";
this.Yq=this.i6();this.qX.appendChild(this.Yq);this.dU.Ne(!1);var J=new dd(j.E.j,!0);J.data={R:j.m.WF,K:1};
this.a(J)}};hs.prototype.aai=function(){if(this.Yq){this.Lb.style.padding="";this.qX.removeChild(this.Yq);
this.Yq=null;this.dU.Ne(!0);var J=new dd(j.E.j,!0);J.data={R:j.m.WF,K:0};this.a(J)}};hs.prototype.abe=function(J){var v=this.Ho;
for(var h=0;h<v.length;h++)if(v[h].aP==J)return h;return-1};hs.prototype.CG=function(){for(var h=0;h<this.Ho.length;
h++)this.Ho[h].f$.Il()};hs.prototype.wl=function(){return this.zr};hs.prototype.ll=function(){if(this.fs)return;
this.fs=!0;this._.removeChild(this.RL);this._.appendChild(this.nH)};hs.prototype.collapse=function(){if(!this.fs)return;
this.fs=!1;this._.appendChild(this.RL);this._.removeChild(this.nH)};hs.prototype.we=function(){var J=0;
if(this.an6==0){J=this.Lb.getBoundingClientRect().height+1;J=Math.max(J,hs.we)}return J};hs.prototype.anP=function(){return this.we()+this.qX.getBoundingClientRect().height};
hs.prototype.qe=function(J,v){this.Lb.style.maxWidth=J+"px";var x=this.we();if(this.zr!=-1)this.Ho[this.zr].qe(J,v-x);
return v-x};hs.prototype.pJ=function(J,v){if(this.zr!=-1)this.Ho[this.zr].pJ(J,v)};hs.prototype.Q4=function(J,v,x){this.Ho[this.zr].Q4(J,v,x)};
hs.prototype.GI=function(J){this.aai();if(this.Ho.indexOf(J)!=-1){this.k0(this.Ho.indexOf(J));return}J.parent=this;
this.Ho.push(J);this.Lb.appendChild(J.aP);J.aP.addEventListener("mouseover",this.axn,!1);this.AK(J.aP);
this.RL.appendChild(J.f$._);J.f$.P("click",this.ab9,this);J.P("select",this.aD2,this);J.P(j.E.D_,this.ay7,this);
this.k0(this.Ho.length-1)};hs.prototype.aBi=function(J){if(J.buttons==0)return;var v=J.currentTarget,x=v,h=0;
while((x=x.previousSibling)!=null)h++;this.anD=h;v.addEventListener("mouseout",this.aEe,!1);this.Bh=setTimeout(this.aJ4,700)};
hs.prototype.a9J=function(J){var v=J.currentTarget,x=v,h=0;while((x=x.previousSibling)!=null)h++;v.removeEventListener("mouseout",this.aEe);
clearTimeout(this.Bh)};hs.prototype.ari=function(J){this.a(new dd(j.E.aeg,!1))};hs.prototype.ass=function(J){return this.anD};
hs.prototype.E6=function(h){var J=new dd(j.E.D_,!1);J.data={q7:h};this.a(J);var v=this.Ho[h];this.Ho.splice(h,1);
this.Lb.removeChild(v.aP);this.RL.removeChild(v.f$._);v.aP.className="";v.f$.removeEventListener("click",this.ab9,this);
v.f$.Il();v.removeEventListener("activate",this.aD2);v.removeEventListener(j.E.D_,this.ay7);var x=this.zr;
if(h<x)x--;else if(h==x&&h==this.Ho.length)x--;this.k0(x);if(this.Ho.length==0)this.a2P()};hs.prototype.aFA=function(){return this.Ho.length};
hs.prototype.DI=function(){if(this.Ho.length!=0)this.Ho[this.zr].DI()};hs.prototype.k0=function(J,v){if(v==null)v=!0;
for(var h=0;h<this.Ho.length;h++)this.Ho[h].aP.className="";if(this.pZ)this.qX.removeChild(this.pZ);
this.pZ=null;this.zr=J;if(J==-1)return;var x=this.Ho[this.zr];this.pZ=x.Kp;this.qX.appendChild(x.Kp);
x.aP.className="active";if(!this.fs){this.a(new dd("showFloat"));this.Ho[J].f$.$I()}if(v)this.a(new dd(j.E.n,!1));
x.dL();var o=this.ak_._;if(o.parentNode)this.Lb.removeChild(o);if(x.Hi())this.Lb.appendChild(o);var R=new dd(j.E.j,!0);
R.data={R:j.m.W8};this.a(R)};hs.prototype.aD2=function(J){if(this.TP&&!this.TP.a7A())return;var h=this.Ho.indexOf(J.currentTarget);
this.k0(h)};hs.prototype.ay7=function(J){var v=this.Ho.indexOf(J.currentTarget);if(J.data!=null){for(var h=this.Ho.length-1;
h>=0;h--){var x=this.Ho[h];if(J.data==1&&h==v)continue;x.DI()}return}if(this.TP&&!this.TP.a7A())return;
this.E6(v)};hs.prototype.ab9=function(J){var v=this.Ho.indexOf(J.currentTarget.parent);if(this.Ho[v].f$.G8())this.a(new dd("hideFloat"));
else this.k0(v)};hs.prototype.aG0=function(J){this.a(J)};function dV(J){hs.call(this,J);this.BK=0;this.mq=0;
B.Kb(this.Lb,this.ajG.bind(this));this.Ke=0;this.aio=this.aFV.bind(this);this.AK(this.qX);this.u6=["default;"];
this.dU=new B.zR(this.qX);this.kc=new aX(!0);this.kc.parent=this;this.BN=this.kc._;aX.lU(this.kc)}dV.prototype=new hs;
dV.prototype.ajG=function(J){if(J.target!=this.Lb)return;var v=this.Ke;this.Ke=Date.now();if(Date.now()-v>300)return;
var x=new dd(j.E.j,!0);x.data={R:j.m.wz,kA:"newproject"};this.a(x)};dV.prototype.cT=function(J,v){if(v)this.u6.push(J);
else{var x=this.u6.length-1;if(this.u6[x]==J)return;this.u6[x]=J}this.xN()};dV.prototype.acj=function(){this.u6.pop();
this.xN()};dV.prototype.xN=function(){var J=this.u6[this.u6.length-1];this.dU.Q4(J,this.T3)};dV.prototype.pJ=function(J,v){hs.prototype.pJ.call(this,J,v);
this.kc.pJ(J,v);if(!J.rT){}};dV.prototype.d=function(){hs.prototype.d.call(this);this.kc.d()};dV.prototype.Q4=function(J,v){for(var h=0;
h<v.length;h++){var x=v[h];this.Ho[h]._1(x.name+(x.depth==8?"":" (RGB/"+x.depth+")")+(x.y6()?" *":""))}hs.prototype.Q4.call(this,J,v)};
dV.prototype.i6=function(){return this.BN};dV.prototype.qe=function(J,v){if(this.Ho.length==0)v+=hs.we-1;
this.BK=J;this.mq=v;v=hs.prototype.qe.call(this,J,v);this.T3="height:"+v+"px; width:"+J+"px; overflow:hidden; position:relative;";
this.xN();this.kc.qe(J,v)};dV.prototype.GI=function(J){hs.prototype.GI.call(this,J);J.aP.addEventListener("click",this.aio,!1)};
dV.prototype.E6=function(h){var J=this.Ho[h];B.PD(J.aP,this.aio);hs.prototype.E6.call(this,h)};dV.prototype.aFV=function(J){var v=this.Ke;
this.Ke=Date.now();if(Date.now()-v>300)return;var x=this.abe(J.currentTarget),o=this.Ho[x].qE.name,R=new dd(j.E.j,!0),r={A:j.E.G,J:H.wu,p:{R:m.Gl}};
R.data={R:j.m.wz,kA:"namewindow",EB:o.slice(0,o.length-4),Fm:r};this.a(R)};function iE(J){aJ.call(this);
if(J)return;k$.asv(1);this._=B.l("div","flexrow app");this.Ys=B.l("div");this._.appendChild(this.Ys);
setTimeout(function(){var x=window.hideCap;if(x)x()},25e3);this.$Q=new gw;window.addEventListener("blur",function(x){this.$Q.reset()}.bind(this),!1);
window.addEventListener("resize",this.T6.bind(this),!1);var v=this.Ys;this.TY=new eQ;this.TY.parent=this;
v.appendChild(this.TY._);this.bk=new im;this.bk.parent=this;v.appendChild(this.bk._);this.kR=new cL(!0);
this.kR.parent=this;v.appendChild(this.kR._);this.P(j.E.j,this.kV,this);this.xi=this.o3.bind(this);window.requestAnimationFrame(this.xi)}iE.prototype=new aJ;
iE.prototype.o3=function(J){this.wO();window.requestAnimationFrame(this.xi)};iE.prototype.d=function(){};
iE.prototype.T6=function(J){var v=window.innerWidth,x=window.innerHeight;this.qe(v,x)};iE.prototype.qe=function(J,v){this.bk.qe(J,v);
this.TY.qe(J,v)};iE.prototype.kV=function(J){var v=J.data.R;if(v==j.m.sO)this.bk.a4o(J.data);if(v==j.m.y2)this.bk.aDn(J.data);
if(v==j.m.A9)this.bk.ahs(J.data.oy);if(v==j.m.fz)this.bk.awc(J.data.oy);if(v==j.m.jN)this.bk.Be()};function aU(){iE.call(this);
this.$o={x:0,y:0,x4:!1};this.cm=!1;this.KW=!1;this.ams=null;this.ayo=0;this.aDZ=!1;this.vq=0;window.onmessage=function(w){if(Storage.azl(w.source))return;
if(w.data instanceof ArrayBuffer){var U=d2.e4(w.data),F=d2.s$(U);aB.ys({url:"file"},w.data,this);if(F==null)this.On()}else if(w.data instanceof Object||w.data.startsWith("{")||w.data.startsWith("amp-")||w.data.startsWith("0=goog")||w.data.startsWith("3PCoo")||w.data.startsWith("ima://")){}else if(w.data.startsWith("--ur ")){var Y=w.data.split(" ").pop(),e=null;
Y=Y.length==0?[]:Y.split(",");console.log(Y);var A=this.f.xO,G=new dd(j.E.j,!0);G.data={R:j.m.Qq,Fu:cj.Uo,ra:Y};
this.a(G);var n=Y,E=A;if(E.length>n.length){var K=E;E=n;n=K}for(var h=0;h<n.length;h++)if(E.indexOf(n[h])==-1)e=n[h];
aB.NC("act=3&id="+e+"&dif="+(n==Y?1:-1));alert((n==Y?"Resource added.":"Resource removed.")+" "+e)}else if(w.data.startsWith("--ot ")){if(this.TY.pt())this.TY.pt().close();
this.LL.JK(w.data.split(" ").pop(),!0)}else if(w.data.startsWith("--et ")){}else{var G=new dd(j.E.j,!0);
G.data={R:j.m.Ft,TM:w.data};this.a(G);this.On()}}.bind(this);window.onbeforeunload=function(w){this.aaY();
for(var h=0;h<this.n4.length;h++)if(this.n4[h].y6()){return this.n4[h].name}}.bind(this);if(!cP.Me())window.setInterval(this.a1R.bind(this),5*60*1e3);
var J=this;if(window.indexedDB){var v={Cb:window.indexedDB.open("pp",1)};v.Cb.onupgradeneeded=function(w){var U=w.target.result,F=U.createObjectStore("rsrc",{keyPath:"k"})};
v.Cb.onsuccess=function(w){var U=J.f.FK.il=w.target.result,F=U.transaction(["rsrc"],"readwrite").objectStore("rsrc"),Y=F.get("fs0");
Y.onsuccess=function(w){if(w.target.result){var n=J.f.FK.sZ=w.target.result.fset;for(var E in n){if(!E.endsWith(".jsx")&&!E.endsWith(".p"+"sd"))aB.ys({url:E,amZ:!0},n[E],J)}}};
var A=new BroadcastChannel("pp-tabs"),G=[];A.onmessage=function(w){if(w.data=="id")A.postMessage(J.f.FK.id);
else G.push(w.data)};A.postMessage("id");setTimeout(function(){var F=U.transaction(["rsrc"],"readwrite").objectStore("rsrc"),n=F.getAllKeys();
n.onsuccess=function(){var E=n.result,K=[],e=0;for(var h=0;h<E.length;h++){if(E[h]=="fs0")continue;if(G.indexOf(E[h])!=-1)continue;
K.push(E[h])}for(var h=0;h<K.length;h++){var Y=F.get(K[h]);Y.onsuccess=function(w){if(w.target.result){var $=w.target.result.fset;
for(var N in $){try{aB.ys({url:N,amZ:!0},$[N],J);var k=J.j4();k.uI=k.nL=-1}catch(w){console.log(w)}}e++;
if(e==K.length)for(var h=0;h<K.length;h++){var Y=F.delete(K[h])}}}}}},200)}}var x="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{".split(" "),o=B.EV[gF.Ip][gF.apA];
if(o==null)o=[B.EV[gF.Bb][gF.eF]];for(var R=0;R<o.length;R++){var r=o[R];for(var h=0;h<x.length;h++){var l=B.u0(x[h]);
if(r.indexOf(l)!=-1){var M=B.EV[gF.Bb][gF.qX],P=gF.Bu("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
B.wp(M);M[gF.aAC]=P;return}}}this.W=aU.adi();this.f={W:this.W,ae1:!1,Lz:null,rC:0,DK:{pm:[],En:[],list:[],YH:null},a0:[],a6n:[],TF:[],Tp:[],zo:[],HZ:[],amr:[],acN:[],zo:[],tx:[b0.ow()],yX:[],L4:[],Ae:null,d9:0,gz:1-du,Ok:gD.Ok.ow(),anM:gD.Ok.ow(),yo:{It:1,BD:g.F(gD.iS[0])},IZ:gD.gB.ow(),an7:[null].concat(gD.iS),a1_:[null].concat(gD.iS),rr:new b5(function(w){var U=new dd(j.E.j,!0);
U.data={R:j.m.Ia,Fu:{url:f6.Lu("rsrc/fonts/"+w)}};this.a(U)}.bind(this)),oC:{t6:[],iz:null,u7:null},font:null,Qv:[],xO:[],a8S:{},P4:0,Vb:16777215,fD:!1,lf:!0,i3:{HC:!0,kE:!1,T4:!0,h1:!0,mc:!0,ek:!0,V_:20,G3:0,wT:0,eE:0,u_:8421504,jb:65535,_m:33023},S0:!0,gS:[!0,!0,!1,!0,!0],ST:gB.m_(),Lh:1,M_:!0,aA_:{},rT:!0,auK:!1,compact:!1,DR:1,$b:0,BN:!0,Vr:{},Op:null,FK:{id:"ts"+Math.round(Math.random()*16777215),a9G:!1,a9$:!1,sZ:{},OY:{},il:null},afu:0,aA5:null,YE:null,a56:null,I9:null};
b5.BI.pU(this);this.au3={Yf:new jj,NQ:new aG};this.f.oC=bI.abr();this.YY=new cM;this.jH=new gW;this.jF=new jc;
this.LS=new bk(this.W,!0);this.dx=new g4;this.uO=new dV(this);this.e8=B.l("div");this.hw=!1;this.akZ=this.arI.bind(this);
B._H(this.uO._,"mainblock");this.kR.parent=this.YY.parent=this.jH.parent=this.LS.parent=this.dx.parent=this.uO.parent=this;
this.uO.P(j.E.n,this.EM,this);this.uO.P(j.E.D_,this.akH,this);this.uO.P("shuffleItems",this.aIA,this);
this.uO.P(j.E.aeg,this.amk,this);this.P("mouse",this.a5b,this);this.P(j.E.G,this.vE,this);this.P(j.E.aT,this.akq,this);
document.body.addEventListener("keydown",this.fi.bind(this),!1);window.addEventListener("keyup",this.oe.bind(this),!1);
window.addEventListener("paste",this.amP.bind(this),!1);window.addEventListener("copy",this.ao_.bind(this),!1);
window.addEventListener("wheel",function(w){if(w.ctrlKey)w.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(w){if(window.innerWidth>400)w.preventDefault();
this.f.Op=w}.bind(this));this.a76=0;this.n4=[];this.LL=new aB(cA.ys);this.LL.parent=this;var S=this.Ys,c=this.r5=B.l("div");
c.appendChild(this.YY._);c.appendChild(this.jH._);this.kR.aFT(c);var b=this.aoB=B.l("div","flexrow");
S.appendChild(b);b.appendChild(this.LS._);b.appendChild(this.uO._);b.appendChild(this.dx._);this.LL.Od({url:f6.mP("rsrc/basic/basic.zip")});
this.p1(H.VO);f6.pU(this.aFm.bind(this));if(this.CZ())return;if(du==0){f6.event("web_PPea",.002);var r=B.EV[gF.Bb][gF.eF];
if(r=="")r="di"+"rect";r=r.split("//").pop();if(r.startsWith("w"+"ww."))r=r.slice(4);if(r.endsWith("/"))r=r.slice(0,-1);
if(r.startsWith("go"+"ogle."))r="go"+"ogle.com";if(r.startsWith("baidu.com"))r="baidu.com";if(r.startsWith("photopea.com/templates"))r="photopea.com/templates";
if(r.startsWith("photopea.com/tuts"))r="photopea.com/tuts";if(r.endsWith("search.yahoo.com"))r="search.yahoo.com";
if(r.endsWith("gradio.live"))r="gradio.live";if(r.endsWith("proxy.ru"))r="proxy.ru";if(r.length>28&&r.indexOf("/")!=-1)r=r.split("/")[0];
if(r.length>28)r=r.split(".").slice(1).join(".");if(r.length>28)r=r.split(".").slice(1).join(".");if(r.length>28)r=r.slice(r.length-28);
if(cP.Me()){f6.event("i"+"fr_"+r,.01,1)}else f6.event("r"+"ef_"+r,.01,1)}if(du==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}aU.prototype=new iE(!0);
aU.prototype.On=function(J){var v=new dd(j.E.j);v.data={R:j.m.Wt,Fu:J?J:"done"};this.a(v)};aU.prototype.a1R=function(){var J=this.f.FK,x=!1;
if(J.il==null)return;var v=this.n4;for(var h=0;h<v.length;h++){var o=v[h];if(o.nL!=o.wb){var R=Date.now(),r=d2.At(o,"psd",0,0,[!0,!1,!0,!1,!0]);
o.nL=o.wb;J.OY[o.name]=r;x=!0;console.log(Date.now()-R,"saving "+o.name,r.byteLength)}}if(x){var l=new dd(j.E.j);
l.data={R:j.m.Qq,Fu:cj.jP,afL:!0};this.a(l)}};aU.prototype.aFm=function(){B.EV[gF.qq](this.ahh.bind(this),Math.pow(Math.PI,8)+B.EV[gF.aB0][gF.aju]()*1e4);
var J=f6.yf();if(J!=null&&J.globals!=null)this.yc(J.globals);else{this.aDZ=!0;var v=ea.abR();if(v&&v.length!=0){var x=v[0];
ea.aAl(x,this.akZ)}}if(!this.CZ()){var o=B.adN();if(o==0)this.auK=!0;if(o==2)this.f.rT=!1;if(o!=1&&Math.random()<.002)B.a4f()}if(!cP.Me()||!this.f.rT){this.aFE();
this.JS()}else{var R=B.yG(B.EV[gF.yh]);R[gF.DN](gF.ZU,this.aaO.bind(this));var r=B.Bu("_MYOqDLGJa;A:6");
if(du!=0)r=gF.u0("@C/25N4/9A?C;:iBQRv")+r;R[gF.xk](B.Bu("61="),r);R[gF.ka]()}this.cm=!0;this.On();var l=new dd(j.E.j);
l.data={R:j.m.wz,kA:"peamark",d_:4,index:[10,0]}};aU.prototype.aaO=function(J){var v=JSON.parse(J.target[gF.Gs]),x=B.EV[gF.avL][gF.a1d]()/1e3,o=B.EV[gF.Bb][gF.eF],R=!1;
for(var r in v)if(r.indexOf(".")!=-1&&o.indexOf(r)!=-1&&parseInt(v[r])>x)R=!0;if(R)this.f.rT=!1;this.aFE();
this.JS();if(o==""){if(this.f.rT){alert(gF.Bu("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};aU.prototype.JS=function(J){this.KW=!0;
if(!this.f.BN)this.uO.BN=null;else if(this.n4.length==0)this.uO.a2P();this.gl(cj.q6);this.d();this.T6();
this.dx.Q4(this.j4(),this.n4,this.f)};aU.prototype.yc=function(J){var v=this.f;if(J.fc!=null){v.P4=J.fc;
var x=v.oC.iz.FillColor;if(x){var o=g.x7(v.P4);x.Values=[1,o.z/255,o.H/255,o.c/255]}}if(J.bc!=null)v.Vb=J.bc;
if(J.ru!=null)v.fD=J.ru==1;if(J.ex!=null)v.lf=J.ex==1;if(J.favFam!=null)v.Qv=J.favFam;if(J.ff!=null)v.Qv=J.ff.split(",");
if(J.rsrc!=null)v.xO=J.rsrc;if(J.rs!=null)v.xO=J.rs.split(",");if(J.fo!=null)v.oC.t6[0].Name=J.fo;if(J.panels!=null)v.ST=J.panels;
if(J.pd!=null)v.ST=gB.ax8(J.pd);if(J.as!=null)v.DR=J.as;if(J.co!=null){v.$b=J.co;if(v.$b!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var R=J.ep?J.ep:J.eparams;
if(R){var r=v.i3;if(R.guides!=null)r.HC=R.guides;if(R.grid!=null)r.kE=R.grid;if(R.gsize!=null)r.V_=R.gsize;
if(R.gunits!=null)r.G3=R.gunits;if(R.gtype!=null)r.wT=R.gtype;if(R.runits!=null)r.eE=R.runits;if(R.gcol!=null)r.u_=R.gcol;
if(R.gucol!=null)r.jb=R.gucol;if(R.glcol!=null)r._m=R.glcol;if(R.sels!=null)r.T4=R.sels;if(R.paths!=null)r.h1=R.paths;
if(R.pgrid!=null)r.mc=R.pgrid;if(R.slices!=null)r.ek=R.slices;if(R.gc!=null)r.u_=R.gc;if(R.uc!=null)r.jb=R.uc;
if(R.lc!=null)r._m=R.lc;if(R.gs!=null)r.V_=R.gs;if(R.gu!=null)r.G3=R.gu;if(R.gt!=null)r.wT=R.gt;if(R.ru!=null)r.eE=R.ru;
if(R.gr!=null)r.kE=R.gr==1;if(R.gd!=null)r.HC=R.gd==1;if(R.se!=null)r.T4=R.se==1;if(R.pa!=null)r.h1=R.pa==1;
if(R.pg!=null)r.mc=R.pg==1;if(R.sl!=null)r.ek=R.sl==1}if(J.lang!=null)ea.aAl(J.lang,this.akZ);if(J.theme!=null)v.Lh=J.theme;
if(J.to){var l=J.to;for(var h=0;h<l.length;h+=2){var M=this.W.map[l[h]];if(M)M.J.NL(l[h+1],null,this)}}if(J.topt||v.a9X){var P=J.topt?J.topt:{},S=v.a9X?v.a9X:{};
for(var c in this.W.map){if(c>=103)continue;var b="t"+c;if(P[b]||S[b])this.W.map[c].J.NL(P[b],S[b],this)}}};
aU.prototype.aFE=function(){if(this.f.ae1)return;this.f.ae1=!0;var J=null,v=window.location.href,x=v.indexOf("="),o=v.indexOf("#");
if(x!=-1)J=v.substring(v.indexOf("?")+1,x);if(o!=-1&&o!=v.length-1){J="p";x=o}if(o!=-1&&v[o+1]=="i"){this.LL.JK(v.slice(o+2,o+10))}else if(v.slice(o+1).startsWith("goog_rewarded")){}else if(o!=-1&&v[o+1]=="t"){this.LL.JK(v.slice(o+2,o+10).split("").reverse().join(""),!0)}else if(J=="p"||J=="state"){var R=v.substring(x+1,v.length);
R=JSON.parse(decodeURIComponent(R));if(J=="p"){var r=R.apis,l=this.f;if(r){if(r.rmbg)l.Vr.aEv=r.rmbg;
if(r.dezgo)l.Vr.ayc=r.dezgo}if(R.script=="alert(73)")this.f.rT=!1;if(R.script)fc.aBO(this);if(R.server)this.ams=R.server;
if(R.resources)for(var h=0;h<R.resources.length;h++)this.LL.Od({url:R.resources[h]});if(R.files)for(var h=0;
h<R.files.length;h++)this.LL.Od({url:R.files[h],pG:{oO:R.server,akp:R.script}});var M=R.environment;
if(M==null)M={};if(M.plugins!=null)this.dx.ahL(M.plugins);if(M.localsave!=null)this.f.M_=M.localsave;
if(M.customIO!=null)this.f.aA_=M.customIO;if(M.vmode!=null){var P=M.vmode;if(P==1)this.f.compact=!0;
if(P==2)this.anI=!0}if(M.intro!=null)this.f.BN=M.intro;if(M.menus!=null)this.f.aB6=M.menus;if(M.tmnu!=null)this.f.a9X=M.tmnu;
if(M.panels!=null)this.f.ST=M.panels;if(M.showtools!=null){var S=M.showtools,c=S.indexOf(this.f.Lz);
this.f.Dw=S;if(c==-1)this.p1(S[0])}if(M.phrases!=null)ea.a2z(M.phrases);if(M.autosave!=null){this.f.DR=0;
window.setInterval(function(){var U=new dd(j.E.j);U.data={R:j.m.nx};this.a(U)}.bind(this),M.autosave*1e3)}if(M.icons!=null){for(var b in M.icons)if(M.icons[b].indexOf("\"")==-1){if((b==gF.arq||b==gF.a2i)&&this.f.rT)continue;
PIMG[b]=M.icons[b];PIMG["__"+b]=!0}}this.yc(M);if(R.files==null&&R.script){gy.zk(R.script,this);this.On()}}else if(J=="state"){var w=this.LL;
if(R.action=="create"){var U=new dd(j.E.j);U.data={R:j.m.wz,kA:"newproject",apl:R.folderId};this.a(U)}if(R.action=="open"){for(var h=0;
h<R.ids.length;h++)e5.OL(function(){var Y="https://www.googleapis.com/drive/v3/files/"+this.aa_,A=new XMLHttpRequest;
A.open("GET",Y);A.setRequestHeader("Authorization",e5.adR());A.send();A.onload=function(G){var n=JSON.parse(G.target.response);
w.Od({url:Y+"?alt=media",name:n.name,My:{file:n,Mc:""},avT:{Authorization:e5.adR()}})}}.bind({aa_:R.ids[h]}));
alert("Loading files from Google Drive ...")}}}else{var F=window.launchQueue;if(F){var w=this.LL;F.setConsumer(function(Y){var A=Y.files,G=[];
for(var h=0;h<A.length;h++){var n=A[h];n.getFile().then(function(E){G.push(E);if(G.length==A.length)w.BY(G,null,null,null,A)})}})}}};
aU.prototype.d=function(){var J=document.getElementById("cap");if(J){var v=!1,x=J.getElementsByTagName("h1")[0],r=0,M=0,P=0;
x.textContent=v?"Photopea":ea.get([0,17,0]);var o=J.getElementsByTagName("p"),R=B.Mg(ea.get([0,17,1])),l=["PSD","AI","PDF","SVG","CDR"];
for(var h=0;h<l.length;h++)R=R.replace(l[h],"<b>"+l[h]+"</b>");if(!v)R+=" (<b>Adobe Photoshop</b>, <b>Adobe Illustrator</b>, <b>PDF</b>,  <b>SVG</b>, <b>CorelDRAW</b>).";
o[0].innerHTML=R;R=ea.get([0,17,2])+" "+ea.get([0,17,3]);for(var h=0;h<R.length;h++){var S=R[h];if(S=="<")M++;
if(S==">")P++}if(!v&&M*P==9){var c=["//github.com/photopea/"+["photo","vector"][du]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var h=0;h<3;h++){var b=R.indexOf("<",r),w=R.indexOf(">",r),U=R.slice(0,b)+"<a href=\""+c[h]+"\" target=\"_blank\">"+R.slice(b+1,w)+"</a>";
r=U.length;R=U+R.slice(w+1)}o[1].innerHTML=R}else o[1].innerHTML=ea.get([0,17,2])}var F=document.getElementById("sponsors");
if(F)F.textContent=ea.get([0,17,4]);this.kR.d();this.YY.d();this.jF.d();this.dx.d();this.LS.d();this.TY.d();
this.uO.d();for(var Y in this.W.map)if(this.W.map[Y].oZ)this.W.map[Y].oZ.d()};aU.prototype.CZ=function(){var J=B.EV[gF.Ip][gF.apA];
if(J&&J[1]){if(J[1].endsWith(gF.Bu("UUPSDm@ID")))return!0}return 4<B.EV[gF.Ip][gF.$A][gF.aBq](gF.Bu("'$!|"))};
aU.prototype.qe=function(J,v){J=Math.floor(J);v=Math.floor(v);var x=B.Bu("WUMK&AM"),o=gF.EZ,R=B.EV[gF.Bb],r=Math.max(J,window.screen.width),l=Math.max(v,window.screen.height),b=0;
if(cP.gq==null)cP.gq=Math.min(r,l)<500||r<750?0:r<1500?1:2;var M=cP.gq,P=!this.KW||this.CZ()||!this.f.rT||f6.hV()||B.Jz()==gF.Bu("eQLZRRM?8a4=8");
if(!P&&cP.Me()){if(this.aEl==null)this.aEl=Math.random()<.5;P=this.aEl}if(P){if(M!=0&&B.EV[x]&&this.KW)B.EV[x]()}else{if(M==0)v-=84;
else J-=M==1?180:320}iE.prototype.qe.call(this,J,v);if(P&&this.hw){this._[gF.agi](this.e8);B.wp(this.e8);
this.hw=!1}if(!P&&!this.hw){var S=function(F){B.EV[gF.qq](function(){var A=new dd(j.E.j);A.data={R:j.m.wz,kA:gF.Bu("QZXZLFV")};
if(du==0&&cP.Ph()&&!f6.hV())this.a(A)}.bind(this),14720+Math.random()*46351);if(Math.random()<.002){if(du==0&&cP.Ph())f6.event("gota_0")}if(du==0&&F)B.EV.___a=!0;
this.a01(J,v);var Y=M==0?R[gF.qX]:this._;Y.appendChild(this.e8);this.e8[gF.Pz](o,B.Bu("_MMJLNDfKCAg")+(M==0?10:10)+B.Bu("_d$ebOS?I:==Ba-+# }$M"));
this.e8[o][B.Bu("_MMJLND&<:E")]=(M==0?0:19)+B.Bu("_d");this.e8[o][B.Bu("i5WJHX")]=M==0?0:1}.bind(this);
function c(){cP.abp(S)}setTimeout(c,2800);this.hw=!0}if(B.yn(this.YY._))b+=31;if(B.yn(this.jH._))b+=32;
this.kR.abq=this.f.rT&&this.KW;this.kR.qe(J,b);var w=v-b,U=B.Bu("_d");this.e8[o][gF.akX]=(M==0?100>>>1:v-11)+U;
this.e8[o][gF.ak0]=(M==0?J:6*Math.pow(10,2))+U;if(B.yn(this.LS._))this.LS.qe(J,w);this.dx.qe(J,w);this.uO.qe(J-this.LS.RJ()-this.dx.RJ(),w)};
aU.prototype.a01=function(J,v){var x=function(){var o=new dd(j.E.j);o.data={R:j.m.wz,kA:"account"};this.a(o)}.bind(this);
cP.aqg(J,v,this.e8,x)};aU.prototype.ao_=function(J){console.log("systemCopy")};aU.prototype.amP=function(J){if(B.N4())return;
console.log("systemPaste");if(!J.clipboardData)return;var v=J.target.tagName.toLowerCase(),x=J.clipboardData.items;
if(x==null)return;var o=this.aIr.bind(this);for(var h=0;h<x.length;h++){var R=x[h],r=R.getAsFile();if(R.type.indexOf("image")!=-1){if(r.size==this.f.afu)return;
this.f.afu=r.size;if(r){r.name="image.png";this.LL.BY([r],o)}}}};aU.prototype.aIr=function(J,v){var x={buffer:J,S:v},o=this.f;
if(B.N4()){var R=this.au3,r=R.Yf;if(r.r==v.r&&r.$==v.$){x.S=r;x.NQ=R.NQ}}else{if(o.YE){var l=new dd(j.E.G,!0);
l.J=H.iI;l.data={R:"h_stepbck"};this.a(l)}}o.YE=x;var l=new dd(j.E.j,!0);l.data={R:j.m.ia,acG:!0};this.a(l)};
aU.prototype.aDM=function(){if(this.TY.pt()!=null)alert(ea.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
aU.prototype.vE=function(J){var v=this.j4();if(v==null){alert(ea.get([15,7,7]));return}var x=J.J==H.Ji||J.J==H.C5;
if(this.TY.b7()&&J.W5!=!0&&!x){this.aDM();return}var o=this.W,R=this.f.Lz,r=J.J;if(r==H.i9&&R==H.El)r=H.El;
if(R!=r&&o.map[R].J.b7()&&!x&&!((R==H.E7||R==H.ru)&&r==H.c$)){console.log("disabling",R);o.map[R].J.disable(v,this,this.f,this.$Q)}var l=this.W.map[r].J;
l.vE(J.data,this,v,this.$Q,this.f)};aU.prototype.akq=function(J){var v=this.f;if(J.data.bV!=!0)kj.apu({QI:J.data.QI,_g:J.data._g},this,v,this.j4());
var x=v.Ae,o=v.L4;if(x==null||J.data.aAM)return;var R={anj:!1,H4:"Step",aBE:0,i:!0,exp:!1,QI:J.data.QI};
if(x[2]==null)x[2]=o[x[0]].SU[x[1]].SU.length-1;if(J.data._g)R._g=J.data._g;o[x[0]].SU[x[1]].SU.splice(x[2]+1,0,R);
x[2]++;this.gl(cj.G)};aU.prototype.kV=function(J){if(this.auK){J.data=0;return J.e}var v=J.data&&J.data.R==j.m.wz&&J.data.kA==gF.as1,x=J.data&&(J.data.R==j.m.sO||J.data.R==j.m.PO);
if(B.EV.__csrf&&!f6.hV()&&!v&&!x){var o=gF.Bu("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(o,5e3);return}iE.prototype.kV.call(this,J);var R=J.data.R;if(R==j.m.xa)kj.auR(this.j4(),this.f.L4,J.data.Yk[0],J.data.Yk[1],this);
if(R==j.m.an3){this.a1a(J.data.apw)}if(R==j.m.aGd){this.d();this.T6()}if(R==j.m.W8)this.T6();if(R==j.m.r6)if(this.f.Op){this.f.Op.prompt();
this.f.Op=null}if(R==j.m.HX)this.uO.cT(J.data.O5,J.data.push);if(R==j.m.auE)this.uO.acj();if(R==j.m.a9_)this.EM(null,J.data.dir);
if(R==j.m.rM)this.uO.E6(this.n4.indexOf(J.data.$E?J.data.$E:this.j4()));if(R==j.m.WF){var r=navigator.keyboard;
if(J.data.ss&&r)r.lock(["Escape"]);if(J.data.ss&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(J.data.ss)document.body.webkitRequestFullScreen();if(J.data.K!=null)this.iw(J.data.K)}if(R==j.m.a35){if(J.data.x4)this.$Q.$F(J.data.aCY);
else this.$Q.Qr(J.data.aCY);this.lb(J.data.x4?"down":"up")}if(R==j.m.asj){var l=J.data.K;this.dx.ahL([l]);
this.d()}if(R==j.m.FJ){var M=this.j4(),P=M.k[M.Y[0]],S=new jj(0,0,M.r,M.$),c=M.g?M.g.S.Q():S,b=g.C(c.o()*4);
g.sW(M.rv(),S,b,c);var w=d7.eO()+"-d71c-11e5-b1ae-a548a96e5f9f",U=new dd(j.E.j,!0);if(J.data.Fu==0){var F={name:"Default/"+M.name.split(".")[0],id:w,ub:[b,c]};
U.data={R:j.m.Qq,pG:"add",Fu:cj.q1,xO:[F]};this.a(U)}if(J.data.Fu==1){var Y=g.C(c.o()*4);Y.fill(255);
g.v.Ry("norm",b,c,Y,c,c,1);var A=g.C(c.o());g.dF(Y,A);g.SV(A);var G=g.X5(A,c);if(G.L3())G=c;var n=g.C(G.o());
g.Cc(A,c,n,G);G.x=G.y=0;var E={Yf:G,id:w,ub:[n,G]},K=br.qF(w),e=K.Brsh.v;e.Dmtr.v.val=Math.max(G.r,G.$);
e.Spcn.v.val=10;U.data={R:j.m.Qq,pG:"add",Fu:cj.kN,xO:{list:[{t:"Objc",v:K}],En:[E],pm:[]}};this.a(U);
U.data={R:j.m.Qq,Fu:cj.gP,Kf:K};this.a(U)}if(J.data.Fu==2){var $=M.Ng(),N=$[0][$[1][0]],k={lG:"Default/"+P.getName(),eZ:w,X:N.add.vmsk.Q().X},V=g.I.Or(k.X),X=new bC(V.r,0,0,V.$,V.x,V.y);
X.SV();g.I.Xi(k.X,X);V.x=V.y=0;k.ZW=V.Q();U.data={R:j.m.Qq,pG:"add",Fu:cj.z0,xO:[k]};this.a(U)}}if(R==j.m.Ia)this.LL.Od(J.data.Fu);
if(R==j.m.hC){var Q=J.data.apD,L=J.data.BM;if(Q!=!0&&L!=!0&&this.Xm("open"))return;var _=this.uO.wl();
if(L)_=-1-_;this.LL.aaP(Q||L?_:null,J.data.anO,J.data.c3)}if(R==j.m.oH){var a=J.data.axA,T=J.data.D0,f=this.s0(a);
if(T){var Z=a==cj.kN,W=[];for(var h=0;h<T.length;h++)W.push((Z?f.list:f)[T[h]]);f=Z?{pm:f.pm,En:f.En,list:W}:W}if(a==cj.NY){var S=new d7;
for(var h=0;h<f.length;h++){var D=f[h].x0.Lefx;if(D)iD.al8(D,S,this.f.HZ)}f={Ue:S.add.Patt?S.add.Patt:[],Kg:f}}if(a==cj.jZ){var C=this.f.DK;
f={En:[],pm:[],list:f};console.log(f)}if(a==cj.G)f=f[J.data.xH];var d=cj.LK[a],b=d[2].o4(f);aB.save(b,d[1]+"."+d[0])}if(R==j.m.cS){var p=this.f.FK,y=J.data.aeH;
if(p.il&&!p.a9G&&!y){p.a9$=window.confirm("Load \""+J.data.ox+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
p.a9G=!0}if((p.a9$||y)&&p.il){p.sZ[J.data.ox]=J.data.wR;var U=new dd(j.E.j);U.data={R:j.m.Qq,Fu:cj.jP};
this.a(U)}}if(R==j.m.atr){var M=this.j4(),O="<!DOCTYPE HTML>";if(M==null)return;var i=d2.IR(M.rv().buffer,M.r,M.$),t=window.open();
O+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";O+="<body><img src=\""+i+"\" /></body>";
O+="</html>";t.document.write(O)}if(R==j.m.aK){if(this.Xm("publishOnline"))return;var q=J.data.d_=="jpg"||J.data.d_=="png",M=this.j4();
if(M==null)return;if(!q&&M.zY)return;var o="Your "+(q?"picture":"document")+" will be published at "+(q?"Imgur":["Photo","Vector"][du]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!q)o+=" We guarantee 6+ months of storage.";var z=J.data.VX?!0:confirm(o);if(z){if(J.data.d_=="psd"){var U=new dd(j.E.G,!0);
U.J=H.wu;U.data={R:m.wA};this.a(U);var jw=new jj(0,0,M.r,M.$);for(var h=0;h<M.k.length;h++){var P=M.k[h];
if(P.S.L3()||P.tX()||P.q9()||P.Aw()||P.Id()||P.add.TySh||P.add.vmsk||P.add.SoLd)continue;var u=jw.Xt(P.S);
if(!u.Ym(P.S)&&!u.L3()){var iH=g.C(u.o()*4);g.sW(P.buffer,P.S,iH,u);P.buffer=iH;P.S=u}if(!g.QX(P.buffer,P.S.r,P.S.$))continue;
var s=P.jh(),bV=P.fc,jU=P.gR,hx=P.Hv;P.G0(!0);P.fc=255;P.gR="norm";M.Y=[h];U.data={R:m.oF,d_:"jpg"};
this.a(U);var eX=M.k[h];P.G0(s);eX.G0(s);P.fc=eX.fc=bV;P.gR=eX.gR=jU,P.Hv=eX.Hv=hx}}if(M.P$){M.er()}var f7=M.r,iY=M.$,cd=J.data.ady,jV;
if(cd)while(Math.max(f7,iY)>cd){f7=f7>>>1;iY=iY>>>1}console.log(f7,iY);if(J.data.d_=="psd")jV=d2.At(M,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(J.data.d_=="ai")jV=d2.At(M,"ai");else if(J.data.d_=="png")jV=d2.At(M,"png",f7,iY);else{var g2=d2.At(M,"png",f7,iY),gV=d2.At(M,"jpg",f7,iY);
jV=g2.byteLength<gV.byteLength?g2:gV}var fD=J.data.VX;if(fD==null)fD=function(jp){var ij=q?jp:"https://www."+["photo","vector"][du]+"pea.com/#i"+jp,U=new dd(j.E.j);
U.data={R:j.m.wz,kA:"linkview",age:ij};this.a(U)}.bind(this);if(q)aB.atx(jV,fD);else this.LL.aFk(jV,M.name,fD,"psdshared")}}if(R==j.m.nx){var M=this.j4(),j4=!1;
if(M==null)return;if(M.P$){M.er()}if(J.data.Xo){if(!this.Jx(M,J.data.Xo))return;var b=cA.aFz(M,J.data.Xo,this.f);
this.On(b);j4=!0}else if(M.HW){if(this.n4.indexOf(M.HW.Ud)!=-1){var b=new Uint8Array(d2.s$("PSD").lS(M,null,null,[!0,!1])),U=new dd(j.E.G,!0);
U.data={R:m.ag,qE:M.HW.Ud,data:b,id:M.HW.a6u,d8:M.name};U.J=H.wu;this.a(U);alert("Smart Object updated")}j4=!0}else if(this.Xm("save")){j4=!0}else if(M.My){cA.a3z(M);
j4=!0}else if(M.xb){if(M.xb[0]!=0&&!navigator.onLine){alert("Go online to save this file.");return}var dQ=cA.a0A(M);
if(dQ==1){alert("Already saving another file. Try again later.");return}j4=!0}else if(M.pG&&M.pG.oO){if(!this.Jx(M,M.pG.oO.formats))return;
this.LL.a8c(M,this.f,cA.a7c);j4=!0}else if(M._Y&&(du==0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(M.Ch)!=-1||du==1&&M.Ch=="ai")){this.aAz();
return}if(j4){M.og()}else{var U=new dd(j.E.j,!0);U.data={R:j.m.PO};this.a(U)}}if(R==j.m.PO){if(!this.f.M_){alert("function is disabled");
return}if(this.Xm("saveAsPSD"))return;var M=this.j4();if(M==null)return;if(!this.Jx(M))return;var U=new dd(j.E.G,!0);
U.data={R:m.wA};U.J=H.wu;this.a(U);var eO=M.k.length,a7="Your document has "+M.k.length+" layers.";if(eO>1<<15){alert(a7+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(eO>8e3&&!confirm(a7+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var cc={Bl:[]};M.root.aqb([],cc);var ad=cc.Bl;if(ad.length>11&&!confirm("One layer is nested "+(ad.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+ad.join(" \uD83E\uDC1A ")+"."))return;
var jC=window.showSaveFilePicker;if(window.parent!=window)jC=null;if(jC&&!J.data.amx){var iJ={suggestedName:M.name,types:[{description:["PSD","AI"][du]+" Files",accept:du==0?{"image/psd":[".p"+"sd"]}:{"application/pdf":[".ai"]}}]};
jC(iJ).then(function(J){M._Y=J;M.name=J.name;M.Se=!0;M.Ch="psd";this.aAz()}.bind(this));return}var kJ=window.gtag;
if(M.DB()&&kJ)kJ("event",M.Ch+":"+B.u0(f6.hV()?"\"'|('61":"w'| "),{event_category:"Formats"});if(M.P$){M.er()}var jr=du==0?"PSD":"AI",fY=d2.s$(jr);
f6.event("efmt_"+jr.toLowerCase(),.1);if(J.data.amx){var b=M.Ch=="psd"?fY.lS(M):cA.s6(M,M.Ch,this.f);
this.aq$(b,M,this)}else{var b=fY.lS(M);aB.save(b,M.name);M.og()}}if(R==j.m.fY)window.open(J.data.link,"_blank");
if(R==j.m.Wj){if(this.TY.b7()){this.aDM();return}var M=this.j4(),P=M.k[M.Y[0]],l=M.mA(P.add.SoLd.Idnt.v);
for(var h=0;h<this.n4.length;h++){var iR=this.n4[h].HW;if(iR!=null&&iR.a6u==l.KK&&iR.Ud==M){this.uO.k0(h);
return}}aB.ys({name:l.d8,HW:{a6u:P.add.SoLd.Idnt.v,Ud:M}},l.raw.buffer,this)}if(R==j.m.a6N){var M=this.j4(),P=M.k[M.Y[0]],l=M.mA(P.add.SoLd.Idnt.v);
aB.save(l.raw.buffer,l.d8)}if(R==j.m.amd){console.log(J.data);aB.ys({name:J.data.xb[1].split("/").pop(),xb:J.data.xb},J.data.u8,this)}if(R==j.m.aCi){var M=this.j4();
M.xb=J.data.xb;M.name=M.xb[1].split("/").pop();var U=new dd(j.E.j);U.data={R:j.m.nx};this.a(U)}if(R==j.m.Iv){this.aFI()}if(R==j.m.ju){this.aqS(J.data.WR,J.data.rk,J.data.wh)}if(R==j.m.ia){this.ama(J.data.acG,J.data.avF,J.data.wh)}if(R==j.m.aug){var g6=J.data.K;
if(this.f.Lz==H.i9&&this.hb().b7()){var U=new dd(j.E.G,!0);U.J=H.i9;U.data={R:"insertText",K:g6};this.a(U);
return}if(g6.startsWith("vcb;")){var ay=JSON.parse(g6.slice(4));ay[0]=b0.att(ay[0]);var U=new dd(j.E.G,!0);
U.J=H.ih;U.data={R:"append",hX:"Paste Paths",awq:ay};this.a(U)}else if(g6.startsWith("lrs;")){var cQ=g6.split(";"),aC=this.n4[parseInt(cQ[1])];
if(aC==null)return;var dI=this.j4(),fm=aC.Y;aC.Y=JSON.parse(cQ[2]);var hd=aC.CO(null,aC!=dI);aC.Y=fm;
var U=new dd(j.E.G,!0);U.data={R:m.XM,k:hd,Ud:aC,Nn:dI};U.J=H.wu;this.a(U)}else if(g6.startsWith("<!--")||g6.startsWith("<svg")){var ku=I.xU(g6),cp=d2.s$("svg"),S=new d7("image.p"+"sd");
cp.lx(ku.buffer,S);if(this.n4.length!=0){var hp=S.k;if(hp.length==3&&hp[0].getName()=="</Layer group>"&&hp[2].tX())hp=[hp[1]];
var U=new dd(j.E.G,!0);U.J=H.wu;U.data={R:m.XM,k:hp,Ud:S,Nn:this.j4()};this.a(U)}else this.ahA(S)}}if(R==j.m.Ft){gy.zk(J.data.TM,this)}if(R==j.m.Wt){if(window.parent!=window)window.parent.postMessage(J.data.Fu,"*");
this.dx.Mo(J.data.Fu)}if(R==j.m.KF){var gA=parseFloat(J.data.kA);if(this.f.ST.indexOf(gA)==-1){var U=new dd(j.E.j,!0);
U.data={R:j.m.Qq,Fu:cj.u$,K:gA,pG:"add"};this.a(U)}this.dx.alB(J.data.kA)}if(R==j.m.Q5){this.bk.azr(this.j4(),this.f)}if(R==j.m.wz){var jN="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var h=0;h<jN.length;h+=2)if(J.data.kA==jN[h]&&this.Xm(jN[h+1]))return;if(!this.f.M_&&J.data.window=="saveforweb"){alert("function is disabled");
return}this.TY.asM(J.data.kA,this.j4(),J.data,this.n4,this.$Q)}if(R==j.m.Ut)aB.save(J.data.data,J.data.name);
if(R==j.m.iD){if(!this.TY.b7()||J.W5)this.ahA(J.data.qE)}if(R==j.m.ol){this.uO.k0(J.data.target);var U=new dd(j.E.G,!0);
U.data={R:m.OX,qE:J.data.qE,v5:J.data.v5,IA:J.data.IA};U.J=H.wu;this.a(U);this.p1(H.tS)}if(R==j.m.auf){gi._E=!gi._E;
if(this.n4.length>0)this.j4().Ai()}if(R==j.m.aIi){var d4=f6.yf();if(d4!=null&&d4.globals!=null)this.yc(d4.globals);
this.JS()}if(R==j.m.tz){this.LL.BY(J.data.data,null,J.data.m8,J.data.Kq,J.data.awG)}if(R==j.m.lE){var ey=this.hb();
if(!this.TY.pt()!=null)this.p1(J.data.J,J.data.JZ);var jG=this.hb();if(jG!=ey&&J.data.aj_)jG._N(this.j4(),this,this.f,this.$Q,this.$o)}if(R==j.m.LV){if(this.W.ava)this.p1(this.W.ava)}if(R==j.m.Yr){var cF=this.W.map[J.data.J].J,M=this.j4();
cF.zN(J.data,this,M,this.$Q,this.f);if(M)M.wj=!0;this.auN()}if(R==j.m.hf){var f5=this.W.map[J.data.J];
this.ads(f5);f5.oZ.XG(J.data)}if(R==j.m.Qq){var M=this.j4(),jW,f$=!(M&&M.Y.length!=0&&M.k[M.Y[0]].add.TySh),bh=J.data.Fu,ii=J.data.xO,dM=this.f;
if(J.data.pG=="set"){var jG=H.Tn[ii[1].classID];if(dM.Lz!=jG)this.p1(jG);this.W.map[jG].oZ.aqC(ii,dM)}if(J.data.pG=="add"){var d=cj.LK[bh];
if(bh==cj.u$){dM.ST.push(J.data.K);dM.ST.sort(function(jp,ij){return jp-ij})}else if(d==null){if(ii)dM.rr.abV(ii,J.data.ahc);
if(M)M.ms=!0}else{var b7=this.s0(bh);if(bh==cj.kN){b7.En=b7.En.concat(ii.En);b7.pm=b7.pm.concat(ii.pm);
b7=b7.list;ii=ii.list}if(bh==cj.NY&&M){for(var h=0;h<ii.length;h++){var D=ii[h].x0.Lefx;if(D)iD.a3v(D,M,dM.HZ)}}if(bh==cj.jZ&&ii==null){var S=this.W.map[dM.Lz].oZ.awa();
if(S==null)return;ii=[S]}for(var h=0;h<ii.length;h++)b7.push(ii[h]);if(bh==cj.z0){var bz={};for(var h=0;
h<b7.length;h++){var cZ=b7[h].lG;while(bz[cZ]!=null)cZ=b7[h].lG=cZ+"X";bz[cZ]=!0}}if(J.data.ahc!=!0)if(b7.length!=ii.length||bh==cj.g0||bh==cj.NY||bh==cj.tI||bh==cj.G)alert(ea.get(d[3])+" "+ea.get([23,1])+".")}}if(J.data.pG=="del"){if(bh==cj.u$){dM.ST.splice(dM.ST.indexOf(J.data.K),1)}else{var d=cj.LK[bh],T=J.data.D0,b7=this.s0(bh);
if(bh==cj.kN)b7=b7.list;for(var h=0;h<T.length;h++)b7[T[h]]=null;for(var h=0;h<b7.length;h++)if(b7[h]==null){b7.splice(h,1);
h--}alert(ea.get(d[3])+" deleted.")}}if(J.data.pG=="rnm"){var d=cj.LK[bh],b7=this.s0(bh);if(bh==cj.kN)b7=b7.list;
if(b7[J.data.D0[0]]==null)return;d[2]._1(b7[J.data.D0[0]],(J.data.yl?J.data.yl:"")+J.data.K)}if(bh==cj.km){var e4=J.data.K;
dM.yo=e4;dM.an7[e4.It]=e4.BD}if(bh==cj.PV){var e4=J.data.K;dM.IZ=g.F(e4);var fI=gD.mh(e4);dM.a1_[fI.It]=fI.BD}if(bh==cj.YI){dM.Ok=J.data.K;
var aI=gD.Ok.ow(),iV=!0;for(var S in aI)if(dM.Ok[S]==null)iV=!1;if(iV)dM.anM=g.F(dM.Ok)}if(bh==cj.Mh){dM.d9=J.data.K}if(bh==cj.Jc){dM.gz=J.data.K}if(bh==cj.KI){dM.oC=J.data.oC;
var k6=dM.oC.iz.FillColor;if(f$&&k6){var bq=k6.Values,cq={z:bq[1]*255,H:bq[2]*255,c:bq[3]*255},ib=g.c7(cq);
if(dM.P4!=ib){dM.P4=ib;jW=cj.Zl}}}if(bh==cj.gP){var iH=g.F(J.data.Kf),jD=iH.useBrushSize;if(jD&&jD.v){iH.Brsh.v.Dmtr.v.val=dM.DK.YH.Brsh.v.Dmtr.v.val;
jD.v=!1}dM.DK.YH=iH;if(iH.Nm==null)return;var eL={QI:"select",_g:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:iH.Nm.v.split("/").pop()}}]}}},f5=this.hb();
f5.mm=this;f5.track(eL)}if(bh==cj.bS){dM.Qv=J.data.ra}if(bh==cj.Uo){dM.xO=J.data.ra}if(bh==cj.Zl){var eL,hK="Clrs";
if(J.data.Uq<2){var fU=J.data.K,ju=J.data.Uq==0,aF=g.UH.YK(g.x7(fU));if(ju)dM.P4=fU;else dM.Vb=fU;hK=ju?"FrgC":"BckC";
eL={QI:"set",_g:{__name:"Set",classID:"setd",T:{t:"Objc",v:aF}}}}if(J.data.Uq==2){var e6=dM.P4;dM.P4=dM.Vb;
dM.Vb=e6;eL={QI:"exchange",_g:{__name:"Exchange",classID:"Exch"}}}if(J.data.Uq==3){dM.P4=0;dM.Vb=16777215;
if(M!=null&&M.Y.length!=0&&M.k[M.Y[0]].kG==1){var e6=dM.P4;dM.P4=dM.Vb;dM.Vb=e6}eL={QI:"reset",_g:{__name:"Reset",classID:"Rset"}}}if(eL){eL._g.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:hK}}]};
var f5=this.hb();f5.mm=this;f5.track(eL)}var k6=dM.oC.iz.FillColor;if(f$&&k6){var hB=g.x7(dM.P4),h0=[1,hB.z/255,hB.H/255,hB.c/255];
if(h0.join(",")!=k6.Values.join(",")){k6.Values=h0;jW=cj.KI}}}if(bh==cj.qm){dM.fD=!dM.fD;this.T6()}if(bh==cj.Vx){dM.lf=!dM.lf;
this.T6()}var aD=dM.i3;if(bh==cj.wV){aD.T4=!aD.T4;this.T6()}if(bh==cj.kD){aD.h1=!aD.h1;this.T6()}if(bh==cj.Uw){aD.HC=!aD.HC;
this.T6()}if(bh==cj.Pn){aD.kE=!aD.kE;this.T6()}if(bh==cj.rV){aD.mc=!aD.mc;this.T6()}if(bh==cj.KP){aD.ek=!aD.ek;
this.T6()}if(bh==cj.oT){dM.i3=J.data.ra;this.T6()}if(bh==cj.ael){dM.S0=!dM.S0;this.T6()}if(bh==cj.oi){dM.gS[J.data.FG]=!dM.gS[J.data.FG];
this.T6()}if(bh==cj.OZ){ea.a9y(J.data.lang,this.akZ)}if(bh==cj.xV){dM.Lh=J.data.Lh;this.d()}if(bh==cj.jP&&dM.FK.il){var hy=dM.FK.il.transaction(["rsrc"],"readwrite").objectStore("rsrc"),kD={k:"fs0",fset:dM.FK.sZ};
if(J.data.afL)kD={k:dM.FK.id,fset:dM.FK.OY};var en=Object.keys(kD.fset).length==0?hy.delete(kD.k):hy.put(kD);
en.onerror=function(J){console.log(J);alert("Storing failed. Browser says: "+J.target.error.message,7e3)}}this.gl(bh);
if(jW)this.gl(jW)}};aU.prototype.aAz=function(){var J=this.j4();console.log(J.jK);if(J.jK)return;J.jK=!0;
var v=new dd(j.E.j,!0);v.data={R:j.m.A9,oy:"Saving ..."};this.a(v);setTimeout(function(){var v=new dd(j.E.j,!0);
v.data={R:j.m.PO,amx:!0};this.a(v)}.bind(this),20)};aU.prototype.aq$=function(J,v){v._Y.createWritable().then(function(x){x.write(J);
return x}).then(function(x){return x.close()}).then(function(x){v.og();v.jK=!1;var o=new dd(j.E.j,!0);
o.data={R:j.m.fz,oy:"Saving ..."};this.a(o)}.bind(this)).catch(function(x){v.jK=!1;var o=new dd(j.E.j,!0);
o.data={R:j.m.fz,oy:"Saving ..."};this.a(o)}.bind(this))};aU.prototype.a5M=function(){var J=this.f,v=J.xO,x=J.a8S;
for(var h=0;h<v.length;h++){var o=v[h];if(x[o])continue;x[o]=!0;this.LL.JK(o,!1,!0)}};aU.prototype.arI=function(){this.d();
this.T6()};aU.prototype.Xm=function(J){var v=this.f.aA_[J];if(v){var x=new dd(j.E.j,!0);x.data={R:j.m.Ft,TM:v};
this.a(x)}return v!=null};aU.prototype.Jx=function(J,v){var x=!0,l=15;if(v){x=!1;for(var h=0;h<v.length;
h++)if(v[h].startsWith(B.Bu("__M")))x=!0}var o=J.DB()||J.HW&&J.HW.Ud.DB();if(this.CZ())o=!1;var R=new B.EV[gF.avL],r=(R[B.u0("xy,b-66:")]()&1)*60+R[B.Bu("VQ]3LNRN<G")]();
if(o&&!f6.hV()&&r>l&&x){var M=B.EV[B.u0("}$z{2*35")][B.u0("y'|!")],P=B.Bu("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
P+="\n\n"+B.Bu("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-r+120)+B.Bu("nYRTXTBMd");
if(M.indexOf(B.u0("\"|'/-1)(W0?@"))==-1)P=ea.get([0,11+6,3+2]);B.EV._cwY(P);return!1}return!0};aU.prototype.s0=function(J){var v=this.f,x=[cj.kN,cj.Ui,cj.Lg,cj.tI,cj.q1,cj.z0,cj.NY,cj.g0,cj.G,cj.jZ,cj.a8],o=[v.DK,v.TF,v.Tp,v.zo,v.HZ,v.tx,v.yX,v.amr,v.L4,v.a0,v.a6n];
return o[x.indexOf(J)]};aU.prototype.aFI=function(){var J=this.aqS(),v=this.j4();if(v==null||v.Y.length==0)return;
var x=v.k[v.Y[0]],o=new dd(j.E.G);if(J==1){o.J=H.ih;o.data={R:"remove",hX:"Cut Paths"}}else{o=new dd(j.E.aT);
o.data={QI:"delete"}}this.a(o)};aU.prototype.aqS=function(J,v,x){if(J==null)J=!1;var o=this.f;console.log("doCopy",J,v);
var R=this.j4();if(o.Lz==H.i9&&this.hb().b7()){var r=new dd(j.E.G,!0);r.J=H.i9;r.data={R:"copyText"};
this.a(r);return}if(R==null||R.Y.length==0&&!J)return;var l=R.k[v==null?R.Y[0]:v],M=R.Ng(),P=M[0],S=M[1],c=P[S[0]];
if(!J&&c!=null&&c.add.vmsk.Y.length!=0){var b=H.qk.en(c.add.vmsk,c.add.vogk);if(B.N4()){b[0]=b0.avh(b[0]);
var w="vcb;"+JSON.stringify(b);aB.PN(new Blob([w],{type:"text/plain"}))}else o.I9=b;return 1}else if(R.g==null){if(B.N4()){var w="lrs;"+this.n4.indexOf(R)+";"+JSON.stringify(R.Y);
aB.PN(new Blob([w],{type:"text/plain"}))}}else{var U,F;if(J){var Y=new jj(0,0,R.r,R.$);F=Y.Xt(R.g.S);
U=g.C(F.o()*4,R.depth);g.sW(R.rv(),Y,U,F);g.YJ(R.g.N,R.g.S,U,F)}else if(R.Dk.length!=0){F=R.g.S.Q();
U=g.C(F.o()*4,R.depth);var A=R.ac[R.Dk[0]],G=A.PP(F);g.QR(G,U);g.Os(R.g.N,U,3)}else{var n=l.tt(R,R.g);
if(n==null){alert("Copied area is empty");return}U=n.u8;F=n.S}var E=R.U.xY,K=E[0]+E[1]+E[2];if(K==1){var e=E.indexOf(1);
for(var h=0;h<U.length;h+=4)U[h]=U[h+1]=U[h+2]=U[h+e]}var $=new aG(R.r,R.$);if(B.N4()&&x!=!0){var N=d2.s$("PNG").apy(U.buffer,F.r,F.$,R.depth);
aB.PN(new Blob([new Uint8Array(N)],{type:"image/png"}));this.au3={Yf:F,NQ:$}}else o.YE={buffer:U,S:F,NQ:$};
o.aA5=F.Q();o.I9=null}};aU.prototype.ama=function(J,v,x){if(v)this.a8V=!0;console.log("doPaste");var o=this.f,R=o.YE,P;
if(this.n4.length==0){if(!J&&B.N4()){aB._l(this,null);return}if(R){var r=d2.QB("image.p"+"sd",[{data:R.buffer.buffer,P0:R.S}]),l=new dd(j.E.j);
l.data={R:j.m.iD,qE:r};this.a(l)}return}var r=this.j4();if(o.Lz==H.i9&&this.hb().b7()){aB._l(this,null);
return}var M=r.k[r.Y.length==0?r.k.length-1:r.Y[0]];if(o.I9){var S=r.Ng(!0),c=S[0],b=S[1];P=c[b[0]]}var l=new dd(j.E.G,!0);
if(o.I9!=null&&P!=null){l.J=H.ih;l.data={R:"append",hX:"Paste Paths",awq:o.I9}}else if(!J&&B.N4()&&x!=!0){aB._l(this,this.aIr.bind(this));
return}else{if(R==null)return;if(r.hH(!1)&&(r.U.xY.join("")!="111"||r.Dk.length!=0||M.kG>0||M.S.L3())){l.J=H.kN;
l.data={R:"draw",aDr:!0,hX:[5,2]}}else{l.J=H.wu;l.data={R:m.NH,aIH:this.a8V};this.a8V=!1}l.data.YE=R;
if(R.S.x==0&&R.S.y==0){var w=r.U.SU,U=r.U.Lp(r.r/2,r.$/2),F=r.r-R.S.r,Y=r.$-R.S.$;if(w.bB(U)){R.S.x=F>>1;
R.S.y=Y>>1}else{U=r.U.hW(w.r/2,w.$/2);console.log(U);R.S.x=Math.max(0,Math.min(F,Math.round(U.x-R.S.r/2)));
R.S.y=Math.max(0,Math.min(Y,Math.round(U.y-R.S.$/2)))}}}this.a(l)};aU.prototype.atX=function(){var J=this.f.rr;
if(J.a2f())return;for(var h=0;h<this.n4.length;h++){var v=this.n4[h];if(!h4.Qn(v,J,this))continue;if(v.C4)h4.aG(v,J,this);
var x=v.add.lnk2;if(x)for(var o=0;o<x.length;o++){var R=x[o];if(R.C4)H.j9.mv(v,R.KK,R.fb,R.fb,J)}if(v.aib)continue;
v.aib=!0;if(v.pG&&v.pG.akp)gy.zk(v.pG.akp,this);this.On();var r=new dd(j.E.G);r.J=H.c$;r.data={R:"start",Y8:"blurbTransform"};
var l=new dd(j.E.j);l.data={R:j.m.KF,kA:gB.mL.aom}}};aU.prototype.gl=function(J){this.a5M();var v=this.f,x=v.Lz,M=!1;
if(J==cj.gP){if(this.W.map[x].oZ)this.W.map[x].oZ.pJ(v,J)}else for(var o in this.W.map)if(this.W.map[o].oZ)this.W.map[o].oZ.pJ(v,J);
if(J==cj.dX){if(x!=H.i9)this.W.map[H.i9].J.pJ(v,J);this.atX()}this.uO.pJ(v,J);this.LS.pJ(v,J);this.TY.pJ(v,J);
if(du==1&&J==cj.YI){var R=new dd(j.E.G,!0);R.J=H.wu;R.data={R:m.Lf};this.a(R)}else this.hb().pJ(v,J);
this.dx.pJ(v,J);this.YY.pJ(v,J);if(du==1)this.jF.pJ(v,J);if(J==cj.xV||J==cj.q6){k$.asv(v.Lh);this.update(!0)}var r=v.oC,l=r.iz.Font;
if(J==cj.KI&&l!=null&&r.t6[l].Name!=v.font){v.font=r.t6[l].Name;M=!0}if([cj.u$,cj.bS,cj.Uo,cj.Zl,cj.qm,cj.Vx,cj.oT,cj.Uw,cj.Pn,cj.wV,cj.kD,cj.rV,cj.KP,cj.OZ,cj.xV].indexOf(J)!=-1||M)this.auN()};
aU.prototype.auN=function(){if(!this.cm)return;var J=[],v=this.W.map;for(var x in v){var o=v[x].J;if(o.Bo&&o.Bo()!=null)J.push(parseInt(x),o.Bo())}var R=this.f,r=R.i3,l={};
if(r.u_!=8421504)l.gc=r.u_;if(r.jb!=65535)l.uc=r.jb;if(r._m!=33023)l.lc=r._m;if(r.V_!=20)l.gs=parseFloat(r.V_.toFixed(2));
if(r.G3!=0)l.gu=r.G3;if(r.wT!=0)l.gt=r.wT;if(r.eE!=0)l.ru=r.eE;if(r.kE!=!1)l.gr=r.kE?1:0;if(r.HC!=!0)l.gd=r.HC?1:0;
if(r.T4!=!0)l.se=r.T4?1:0;if(r.h1!=!0)l.pa=r.h1?1:0;if(r.mc!=!0)l.pg=r.mc?1:0;if(r.ek!=!0)l.sl=r.ek?1:0;
var M={};if(R.P4!=0)M.fc=R.P4;if(R.Vb!=16777215)M.bc=R.Vb;if(R.fD!=!1)M.ru=R.fD?1:0;if(R.lf!=!0)M.ex=R.lf?1:0;
if(R.Qv.length!=0)M.ff=R.Qv.join(",");if(R.xO.length!=0)M.rs=R.xO.join(",");if(R.Lh!=1)M.theme=R.Lh;
if(R.$b!=0)M.co=R.$b;if(R.font!=null&&R.font!="DejaVuSans")M.fo=R.font;var P=gB.avV(R.ST);if(P.length!=0)M.pd=P;
if(J.length!=0)M.to=J;if(ea.Gh()!="en")M.lang=ea.Gh();if(Object.keys(l).length!=0)M.ep=l;var S=f6.yf();
if(S==null)S={};S.globals=M;f6.QD(S)};aU.prototype.y9=function(J){var v=this.$Q,x=this.$o,o=this.f.Lz,R=this.W.map[o].J,r=null,l=!1;
for(var h=0;h<this.W.ayh.length;h++){var M=this.W.ayh[h],P=!0;for(var S=0;S<M.ro.length;S++){var c=M.ro[S];
if(!v.M(c))P=!1}if(P&&(!M.Ff||!R.b7())&&(M.ql==null||M.ql.indexOf(o)!=-1)){r=M.J;l=M.Ff;break}}if((!x.x4||o==H.$T||J)&&this.W.b4!=r&&(r!=o||!l)){var b=this.j4();
if(this.W.b4!=null&&r==null)this.hb().disable(b,this,this.f,v,!0);this.W.b4=r;this.hb().enable(b,this,this.f,v,r!=null&&r!=o)}};
aU.prototype.kn=function(J){var v=this.f.Lz,x=this.j4();if(v!=null){this.W.map[v].J.disable(x,this,this.f,this.$Q)}};
aU.prototype.ads=function(J){if(J.oZ==null){J.oZ=new J.Fg(J.J.id);J.oZ.ara(J.J.id,J.J.Q2);J.oZ.pJ(this.f,cj.q6);
J.oZ.d()}};aU.prototype.p1=function(J,v){if(J==H.tS&&this.TY.pt())return;var x=this.j4(),o=this.f;if(this.W.map[J].J.$H(x,o,v)){this.kn();
if(J!=o.Lz)this.W.ava=o.Lz?o.Lz:H.VO;o.Lz=J;this.LS.p1(o.Lz);var R=this.W.map[J];this.W.tR[R.UX]=R.abc;
this.ads(R);this.jH.aHb(du==0?R.oZ:this.jF);var r=R.J;r.enable(x,this,this.f,this.$Q,!1,v);if(x)x.wj=!0;
this.T6();this.kR.a06()}};aU.prototype.hb=function(J){var v=this.W,x=v.uK,o=v.b4,R=this.f.Lz;if(x)R=x;
else if(o&&J==null)R=o;return v.map[R].J};aU.prototype.ahA=function(J){var v=this.f,x=this.n4.indexOf(J);
if(x!=-1){this.uO.k0(x);return}if(this.ams&&(J.pG==null||J.pG.oO==null)){J.pG={oO:this.ams}}if(J.bp==null){J.bp="local,"+this.ayo+","+J.name;
this.ayo++}J.atz=Date.now();if(du==1&&J.add.arts==null)J.a26();if(cP.Ph()!=0&&!this.aDZ&&B.EV[B.u0("t$&!'31")].toString().indexOf(B.u0(" u,$4&"))==-1){alert(B.u0("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var h=0;h<J.k.length;h++){var o=J.k[h];if(o.add.SoLd!=null){var R=Date.now()}}var r=J.k.length,l=gF.eM(),M=Math.PI*(6550<<14)+(B.m6(31)?20:10)*7e7;
if(l>M){var r=J.k.length;J.k=[];return r}if(gi._E){gi.dh(Math.max(J.r,J.$),J.depth);for(var h=0;h<J.k.length;
h++){var o=J.k[h];if(o.rn())gi.dh(Math.max(o.S.r,o.S.$))}}J.HQ();J.wW();if(J.aqX)J.a8Z();else J.Ai();
J.aqX=!1;this.n4.push(J);this.uO.GI(new hq(J));J.wj=!0;J.ms=!0;this.atX();if(this.anI)this.iw(1);var P=new dd(j.E.G);
P.J=H.hi;P.data={R:"auto",TV:2}};aU.prototype.j4=function(){return this.n4[this.a76]};aU.prototype.a7A=function(){return this.TY.pt()==null};
aU.prototype.EM=function(J,v){this.kn();var x=this.n4.length;if(v!=null)this.uO.k0((this.uO.wl()+v+x)%x);
this.a76=this.uO.wl();var o=this.j4();this.YY.XX(o,this.f);if(du==1)this.jF.XX(o,this.f);this.dx.Q4(o,this.n4,this.f);
this.T6();if(o)o.wj=!0};aU.prototype.akH=function(J){this.kn();var v=this.n4,x=v[J.data.q7];v.splice(J.data.q7,1);
if(v.length==0){this.EM(J);var o=gi.n2(),R=hq.y8._X;if(o.parentNode)o.parentNode.removeChild(o);if(R.parentNode)R.parentNode.removeChild(R)}this.aaY(x.name)};
aU.prototype.aaY=function(J){var v=this.f.FK,x=!1;if(v.il==null)return;for(var o in v.OY){if(J==null||o==J){delete v.OY[o];
x=!0}}if(x){var R=new dd(j.E.j);R.data={R:j.m.Qq,Fu:cj.jP,afL:!0};this.a(R)}};aU.prototype.aIA=function(J){var v=[],x=J.data.asf;
for(var h=0;h<x.length;h++)v[h]=this.n4[x[h]];this.n4=v;this.a76=this.uO.wl()};aU.prototype.amk=function(J){var v=this.uO,x=v.ass(),o=this.hb(),R=this.j4();
if(x==v.wl()||!o.aeM())return;this.a1a(x,o)};aU.prototype.a1a=function(J,v){console.log("dup2doc");var x=this.f,o=this.uO,R=this.j4(),r=this.n4[J],l,M=new dd(j.E.G,!0);
M.J=H.wu;if(R.g==null){M.data={R:m.XM,k:R.CO(null,!0),Ud:R,Nn:r,at_:v==null};this.a(M)}else l=R.k[R.Y[0]].tt(R,R.g);
var P=this.$o,S=x.fD;x.fD=!1;P=R.U.hW(P.x,P.y);if(v)v.tC(R,this,x,this.$Q);o.k0(J);if(R.g){M.data={R:m.NH,YE:{buffer:l.u8,S:l.S}};
this.a(M)}P=r.U.Lp(P.x,P.y);if(v)v._N(r,this,x,this.$Q,P);x.fD=S};aU.prototype.a5b=function(J){var v=this.j4(),x=this.$Q,o=this.f,R=J.Yd;
if(R)this.$o=R;if(R)R.y-=o.$b;if(this.axb==null)this.axb=0;if(J.action=="multidown"){this.Y6=J.Px.length;
this.axb=Date.now()}if(J.action=="up"&&Date.now()-this.axb<100){var r=new dd(j.E.G);r.J=H.iI;r.data={R:this.Y6==2?"h_stepbck":"h_stepfwd"};
this.a(r)}if(J.action.startsWith("multi")){var l=new dd(j.E.G,!0);l.data={R:J.action,Px:J.Px};l.J=H.C5;
this.a(l);return}var M=this.W.map[H.VO].J;if((J.action=="down"||J.action=="rdown")&&o.Lz!=H.VO&&this.W.b4!=H.VO&&M.aG5(v,this,o,x,R)){this.W.uK=H.VO;
M.enable(v,this,o,x,!0)}if(J.action=="idown"){x.$F("Space");this.y9(!0);J.action="down"}var P=this.TY.pt(),S=P!=null&&P.uj()&&this.W.b4==null?P:this.hb();
if(J.action=="scroll"){var c=!x.M(gw.aw)&&J.v_,b=x.M(gw.i4);if(window.locStor.getItem("__zwh")=="1")b=!b;
var l=new dd(j.E.G,!0);l.data={R:"scroll",Zb:J.Zb.Q(),Yd:R,adH:c};l.J=b||c?H.C5:H.Ji;this.a(l)}if(P!=null&&S!=P&&this.TY.b7()&&S.id!=H.Ji&&S.id!=H.C5)return;
if(J.action=="down")S._N(v,this,o,x,R);if(J.action=="rdown")S.HD(v,this,o,x,R);if(J.action=="move")S.kq(v,this,o,x,R);
if(J.action=="up"||J.action=="iup"||J.action=="cancellast")S.ER(v,this,o,x,R,J.action=="cancellast");
if(J.action=="rup")S.Su(v,this,o,x,R);if(J.action=="iup"){x.Qr("Space");this.y9(!0)}if(J.action=="cancellast"){if(v&&v.history.length!=0&&Date.now()-v.history[v.history.length-1].aA4<200){var r=new dd(j.E.G);
r.J=H.iI;r.data={R:"h_stepbck"};this.a(r)}}var w=this.dx;if(J.action=="down")w._N(v,this,o,x,R);if(J.action=="move")w.kq(v,this,o,x,R);
if(J.action=="up")w.ER(v,this,o,x,R);if(J.action=="down"||J.action=="up"){this.y9()}if(J.action=="down"||J.action=="up"||J.action=="ctx"){v.wj=!0}if((J.action=="up"||J.action=="rup")&&this.W.uK){this.W.uK=null;
M.disable(v,this,o,x)}};aU.prototype.wO=function(J){var v=this.j4(),x=this.$o;if(v&&this.hb().YZ(x,this.$Q)){var o=v.U,R=o.SU.r,r=o.SU.$,l=0,M=0,P=16;
if(x.x<P)l=P-x.x;if(x.x>R-P)l=x.x-(R-P);if(x.y<P)M=P-x.y;if(x.y>r-P)M=x.y-(r-P);var S=this.$Q.M(gw.Yv)?8:1;
if((l!=0||M!=0)&&(v.r*o.NT>R||v.$*o.NT>r)){l=Math.min(5,l*.5)*S;M=Math.min(5,M*.5)*S;if(x.x>P)l=-l;if(x.y>P)M=-M;
o.V.x+=l;o.V.y+=M;this.a5b({Yd:this.$o,action:"move"});v.Se=!0}}this.update()};aU.prototype.update=function(J){var v=this.j4();
if(v==null)return;if(du!=0){if(v.buffer)throw"e"}if(v.wj){var x=this.W.map;for(var o in x){if(x[o].J.W6)x[o].J.W6(v,this,this.f,this.$Q)}if(du==1){x[H.hB].J.W6(v,this,this.f,this.$Q,!0)}}if(v.P$&&du==0)if(gi._E)gi.dh(Math.max(v.r,v.$));
if(v.P$&&du==0){v.er()}var R=v.U,r=this.vq,l=this.vq=Date.now();if(v.P$||v.rf||v.ms||v.Se||J||R.zg!=R.NT||!R.Xp.Ym(R.V)){var M=R.zg;
if(R.zg!=R.NT){var P=H.gu.agz(R.NT,R.zg>R.NT),S=.12;if(R.zg<R.NT&&R.zg<P)R.zg=P;if(R.zg>R.NT&&R.zg>P)R.zg=P;
var c=Math.abs(R.NT-P)*(l-r)*.001/S;if(R.zg<R.NT)R.zg=Math.min(R.NT,R.zg+c);else R.zg=Math.max(R.NT,R.zg-c)}var b=M==R.NT?0:(R.zg-R.NT)/(M-R.NT);
R.Xp.x=R.V.x+b*(R.Xp.x-R.V.x);R.Xp.y=R.V.y+b*(R.Xp.y-R.V.y);this.uO.pJ(this.f,null);this.uO.Q4(v,this.n4)}if((v.P$||v.Se||v.wj)&&(!this.$o.x4||v.PS)){if(v.wj)v.wW();
this.dx.Q4(v,this.n4,this.f);this.LS.anv(v,this.$Q);if(du==1)this.jF.Q4(v);v.TA=!1}v.PS=!1;v.wj=!1;v.P$=null;
v.rf=v.ms=v.Se=!1};aU.prototype.fi=function(J){var v=J.target.tagName.toLowerCase(),x=J.target.getAttribute("type"),o=gw,R=o.oq(J.code,o.O9);
if(!((v=="input"||v=="select"||v=="button")&&o.oq(J.code,o.Z$))){if(o.avI(J)&&v!="select"){J.preventDefault()}this.$Q.$F(o.aIO(J));
this.lb("down")}};aU.prototype.oe=function(J){if(J.key==" ")this.$Q.Al();if(gw.oq(J.code,gw.am6))this.$Q.reset();
this.$Q.Qr(gw.aIO(J));var v=J.target.tagName.toLowerCase();if(gw.avI(J)&&v!="select"){J.preventDefault()}this.lb("up")};
aU.prototype.lb=function(J){var v=this.$Q,x=this.j4(),o=x!=null&&x.Y.length!=0;if(this.bk.pt()!=null){if(v.M(gw.T1)||v.M(gw.O9)){this.bk.a9t()}return}this.y9();
var R=this.NS(gw.aw),r=v.M(gw.i4),l=v.M(gw.Yv);if(R&&v.M(gw.mK)&&J=="down"){var M=new dd(j.E.G),P=new dd(j.E.j);
M.J=H.iI;if(l){M.data={R:"h_stepfwd"}}else{M.data={R:"h_stepbck"}}if(this.TY.pt()!=null&&this.TY.pt().b7()){}else this.a(M)}if(R){var M=new dd(j.E.G),S=new dd(j.E.aT),P=new dd(j.E.j);
if(v.M(gw.WW)&&v.M(gw.li)){P.data={R:j.m.wz,kA:"storwindow"};this.a(P)}if(!r&&J=="down")for(var c in kC.keys){var b=kC.keys[c],w=!0;
for(var h=0;h<b.length;h++)if(!v.M(b[h]))w=!1;if(w){M.J=H.hi;if(c=="hue2"&&l&&x.k[x.Y[0]].add.SoLd==null)M.data={R:"auto",TV:3};
else M.data={R:"start",BV:c}}}if(v.M(gw.m)){if(r){S.data={QI:"selectAllLayers",_g:{classID:"null",null:kj.RS("Lyr",!0)}}}else S.data=H.IE.DT(!0)}if(v.M(gw.wC)){if(r)P.data={R:j.m.wz,kA:"csize"};
else if(x)P.data={R:j.m.ju,WR:l}}if(v.M(gw.Ao)&&x.g){S.data=H.IE.DT()}if(v.M(gw.E)&&J=="down"){if(l)S.data={QI:"mergeVisible"};
else if(hh.Fi(x).i)S.data={QI:"mergeLayersNew",_g:{__name:"Merge Layers",classID:"Mrg2"}}}if(v.M(gw.Xz)){if(l&&this.f.Lz!=H.tS)P.data={R:j.m.wz,kA:"afw_fade"};
else if(r){M.J=H.c$;M.data={R:"applylast"}}else P.data={R:j.m.Q5}}if(v.M(gw.iV)){if(r&&x&&x.Kn(x.Y[0])){M.J=H.wu;
M.data={R:m.Pe}}else{M.J=H.wu;M.data={R:m.Vy,Oo:l}}}if(du==1&&v.M(gw.GB)){M.J=H.wu;M.data={R:m.Vy,pT:!0,Oo:r}}if(v.M(gw.HN)){P.data={R:j.m.Qq,Fu:cj.Vx}}if(v.M(gw.WW)){if(l){M.data=null;
if(r)P.data={R:j.m.wz,kA:"finfo"};else S.data={QI:"inverse"}}else if(r)P.data={R:j.m.wz,kA:"isize"}}if(v.M(gw.vN)){S.data={QI:(l?"cut":"copy")+"ToLayer"}}if(v.M(gw.Lo)){P.data={R:j.m.wz,kA:"preferences"}}if(v.M(gw.Kv)){if(l){M.J=H.wu;
M.data={R:m.h5}}else if(J=="down")P.data={R:j.m.wz,kA:"newproject"}}if(v.M(gw.Re)){if(r)P.data={R:j.m.wz,kA:"storwindow",tj:0};
else{P.data={R:j.m.hC};v.reset()}}if(v.M(gw.qH)){P.data={R:j.m.atr};v.reset()}if(v.M(gw.mL)){P.data={R:j.m.Qq,Fu:cj.qm}}if(v.M(gw.Xv)&&J=="down"){if(l){if(r)P.data={R:j.m.wz,kA:"saveforweb"};
else P.data={R:j.m.PO}}else P.data={R:j.m.nx}}if(v.M(gw.QF)){if(l){M.J=H.wu;M.data={R:m.Qi};this.a(M);
M.J=H.tS;M.data={R:"again"}}else P.data={R:j.m.lE,J:H.tS}}if(v.M(gw.g3)){P.data={R:j.m.ia}}if(v.M(gw.a6e)){this.uO.DI()}if(v.M(gw.aN)&&x&&x.az3()){P.data={R:j.m.Iv}}if(v.M(gw.Ds)&&x){M.J=H.C5;
M.data={R:"prvw"}}if(v.M(gw.kp)||v.M(gw.vU)){M.J=H.wu;M.data={R:m.f8,Uq:0};if(v.M(gw.kp))M.data.Uq=l?3:2;
else M.data.Uq=l?0:1}if(v.M(gw.gi)&&x&&x.Y.length!=0){var U=x.k[x.Y[0]].jh();S.data={QI:U?"hide":"show",_g:{classID:"null",null:{t:"VlLs",v:[kj.RS("Lyr",!0)]}}}}if(v.M(gw.O9)&&x){var F=0;
if(l)F++;if(r)F+=2;M.J=H.ZT;M.data={R:"frompath",Yk:[null,0,F]}}if(v.M(gw.NA)){S.data=H.cD.oI(0)}if(v.M(gw.Z$)){var Y=this.n4.length,A=v.M(gw.Yv)?-1:1;
if(Y>1)this.uO.k0((this.uO.wl()+Y+A)%Y)}if(v.M(gw.Rf)){P.data={R:j.m.Qq,Fu:cj.Uw}}if(v.M(gw.M1)){P.data={R:j.m.Qq,Fu:cj.Pn}}H.gu.agG(v,M);
if(this.TY.pt()!=null&&this.TY.pt().b7()){}else{if(M.data)this.a(M);if(S.data)this.a(S);if(P.data)this.a(P)}}if(!R&&r){var G;
if(v.M(gw.kp))G="Bckw";if(v.M(gw.vU))G="Frwr";if(v.M(gw.gi))G="Back";if(v.M(gw.NA))G="Frnt";if(G){var S=new dd(j.E.aT);
S.data={QI:"select",_g:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:G}}]},MkVs:{t:"bool",v:!1}}};
this.a(S)}}if(x&&x.Y.length!=0){var n=x.k[x.Y[0]],E=n.kG;if(E==1||E==3||R){var M=new dd(j.E.G),K=E==3?n.V0(x).pR:n.q9();
if(K){var e=K.nX?x.U.xY.join("")=="111"?1:2:0;M.J=H.C5;if(K&&v.M(gw.T1)&&e!=0){M.data={R:"mskView",K:0}}if(K&&v.M(gw.aCK)){M.data={R:"mskView",K:e==1?0:1}}if(K&&v.M(gw.ayf)){M.data={R:"mskView",K:e==2?0:2}}if(M.data)this.a(M)}}}var $=v.Hb();
if(x&&R&&2<=$&&$<=5){var N=[1,1,1];if($>2){N=[0,0,0];N[$-3]=1}var k=new dd(j.E.G,!0);k.J=H.Ji;k.data={R:"setcls",xY:N};
this.a(k)}if(!v.M(gw.aw)&&!r&&J=="down"){var M=new dd(j.E.G),P=new dd(j.E.j),V=this.W.map[this.f.Lz],X=-1;
for(var h=0;h<this.W.keys.length;h++)if(this.W.keys[h]&&this.NS(this.W.keys[h]))X=h;if(X!=-1){var Q=null;
if(V.UX!=X)Q=this.W.tR[X];if(V.UX==X&&l)Q=(V.abc+1)%this.W.n8[X].length;if(Q!=null){var L=this.W.n8[X][Q].J.id,_=this.f.Dw;
if((_==null||_.indexOf(parseInt(L))!=-1)&&!this.$o.x4)P.data={R:j.m.lE,J:L}}}if(v.M(gw.HN))P.data={R:j.m.lE,J:H.Ji};
if(v.M(gw.mL))P.data={R:j.m.lE,J:H.Nj};if(v.M(gw.aN))P.data={R:j.m.Qq,Fu:cj.Zl,Uq:2};if(v.M(gw.Ao))P.data={R:j.m.Qq,Fu:cj.Zl,Uq:3};
if(P.data)this.a(P);if(v.M(gw.agJ)&&x&&x.Y.length==1){var n=x.k[x.Y[0]];M.J=H.wu;var a=n.UP(0)||n.UP(1)||n.UP(2)||n.UP(31);
M.data={R:m.Ey,ra:a?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.a(M)}var $=v.Hb();if(o&&$!=-1&&this.NS(gw.Bm[$])){var T=x.Y[0],n=x.k[T],f=gw.a1x(Math.round(100*n.fc/255),$);
M.J=H.wu;M.data={R:m.oh,ra:Math.round(255*f/100)};this.a(M)}var Z=this.f.rC;if(v.M(gw.Z$)){P.data={R:j.m.WF,K:Z==0?1:0};
this.a(P)}if(v.M(gw.Xz)||v.M(gw.T1)&&Z==2){var W=document.fullscreenElement!=null==(Z==2);P.data={R:j.m.WF,K:Z==0?2:0,ss:W};
this.a(P)}if(v.M(gw.acR)&&!this.$o.x4){M.J=H.ZT;M.data={R:"qmask"};this.a(M)}}if(!v.M(gw.aw)&&!r&&l){var M=new dd(j.E.G),P=new dd(j.E.j);
if(v.M(gw.gi))P.data={R:j.m.wz,kA:"shortcuts"};if(v.M(gw.asl))P.data={R:j.m.wz,kA:"fill"};if(v.M(gw.aHY))P.data={R:j.m.wz,kA:"sel_feather"};
if(o&&(v.M(gw.gF)||v.M(gw.bE))){var T=x.Y[0],n=x.k[T],D=gX.qI,C=D.length,d=D.indexOf(n.gR);M.J=H.wu;
M.data={R:m.xT,ra:(d+C+(v.M(gw.gF)?1:-1))%C};this.a(M)}if(P.data)this.a(P)}var M=new dd(j.E.G),p=J=="down"&&(this.NS(gw.Fp)||this.NS(gw.hP));
if((R||r)&&p){M=new dd(j.E.aT);M.data=H.P8.Z9(R?"BckC":"FrgC");this.a(M)}else if(this.TY.pt()==null&&x&&p&&!this.$o.x4){if(x.g!=null){M=new dd(j.E.aT);
M.data={QI:"delete"}}else if(x.Y.length!=0){var n=x.k[x.Y[0]];if(n.kG==1)M.data={R:m.cv};else if(n.kG==3)M.data={R:m.OE};
else M.data={R:m.Wd};M.J=H.wu}this.a(M)}if(this.TY.pt()!=null){if(v.M(gw.T1)){this.TY.pt().ajT()}else{this.TY.pt().lb(x,this,this.f,v)}}if(this.f.Lz==null)return;
var V=this.hb();if(this.TY.pt()==null||this.W.b4)V.lb(x,this,this.f,v)};aU.prototype.NS=function(J){var v=this.$Q,x=this.W.map[this.f.Lz].J,top=this.TY.pt(),o=this.j4();
return v.M(J)&&!x.V9(J,o)&&(top==null||!top.V9(J,o))};aU.prototype.iw=function(J){var v=this.aoB,x=this.Ys;
this.f.rC=J;var o=B.yn,R=this.YY._;if(o(R))this.r5.removeChild(R);var r=this.jH._;if(o(r))this.r5.removeChild(r);
var l=this.LS._;if(o(l))v.removeChild(l);var M=this.uO._;if(o(M))v.removeChild(M);var P=this.dx._;if(o(P))v.removeChild(P);
if(J==0){this.r5.appendChild(R);this.r5.appendChild(r);x.appendChild(v);v.appendChild(l);v.appendChild(M);
v.appendChild(P)}if(J==1){this.r5.appendChild(R);v.appendChild(M)}if(J==2){v.appendChild(M)}this.uO.iw(J==2?1:0);
this.T6()};aU.prototype.ahh=function(J){if(this.CZ())return 1;if(B.adN()==0){this.f={};this.qe=function(v,x){return Math.sqrt(v*x)}}return-1};
aU.adi=function(){var J=du==0?[[{J:new H.Io,Fg:kE},{J:new H.tf,Fg:kZ}],[{J:new H.QW,Fg:ew,R9:0},{J:new H.PW,Fg:cI,R9:0}],[{J:new H.ry,Fg:gK,R9:0},{J:new H.OD,Fg:hR,R9:0},{J:new H.iZ,Fg:dN,R9:0}],[{J:new H.ky,Fg:gx,R9:0},{J:new H.iO,Fg:k4,R9:0},{J:new H.jo,Fg:ag,R9:0}],[{J:new H.azk,Fg:eb},{J:new H.af0,Fg:fS},{J:new H.mT,Fg:bN,R9:0},{J:new H.I1,Fg:fO,R9:0}],[{J:new H.WG,Fg:gc},{J:new H.Vh,Fg:eq,R9:0},{J:new H.wF,Fg:c6}],[{J:new H.Zt,Fg:eP,R9:0},{J:new H.hg,Fg:kK,R9:0},{J:new H.ry(!0),Fg:kL,R9:0},{J:new H.ET,Fg:e2,R9:0},{J:new H.aIR,Fg:eh,R9:0},{J:new H.zM,Fg:jz,R9:0}],[{J:new H.cn,Fg:kx,R9:0},{J:new H.ct,Fg:g5,R9:0},{J:new H.nR,Fg:aA,R9:0}],[{J:new H.pK,Fg:f_,R9:0}],[{J:new H.VJ,Fg:aQ,R9:0},{J:new H.sD,Fg:hY,R9:0},{J:new H.mB(!0),Fg:f8,R9:0}],[{J:new H.La,Fg:cS,R9:0},{J:new H.mB,Fg:f8,R9:0}],[{J:new H.LF,Fg:i6,R9:0},{J:new H.ad,Fg:i0,R9:0},{J:new H.dq,Fg:fB,R9:0}],[{J:new H.ZV,Fg:ei,R9:0},{J:new H.J2,Fg:i7,R9:0},{J:new H.FW,Fg:aN,R9:0}],[{J:new H.nB,Fg:c3},{J:new H.cx,Fg:c3}],[{J:new H.jY(0),Fg:hN},{J:new H.G2,Fg:jh},{J:new H.jY(1),Fg:hN},{J:new H.jY(2),Fg:hN},{J:new H.jY(3),Fg:hN},{J:new H.jY(4),Fg:hN}],[{J:new H.v$,Fg:ha},{J:new H.YS,Fg:k9}],[{J:new H.Rect,Fg:eo},{J:new H.Bd,Fg:gL},{J:new H.aY,Fg:jP},{J:new H.mD,Fg:iN},{J:new H.uZ,Fg:c4}],[{J:new H.n3,Fg:iy},{J:new H.ki,Fg:j2}],[{J:new H.gu,Fg:k7}]]:[[{J:new H.Io,Fg:kE}],[{J:new H.YS,Fg:k9}],[{J:new H.jY(0),Fg:hN}],[{J:new H.G2,Fg:jh}],[{J:new H.nB,Fg:c3},{J:new H.cx,Fg:c3}],[{J:new H.aY,Fg:jP}],[{J:new H.Rect,Fg:eo},{J:new H.Bd,Fg:gL}],[{J:new H.uP,Fg:iy}],[{J:new H.MD,Fg:cS}],[{J:new H.WG,Fg:gc}],[{J:new H.n3,Fg:iy},{J:new H.ki,Fg:j2}],[{J:new H.gu,Fg:k7}]],M="",P="";
if(du==0&&!B.k3(1))J[6].splice(2,1);var v=du==0?[gw.g3,gw.LO,gw.jj,gw.a6e,gw.wC,gw.WW,gw.vN,gw.Nu,gw.Xv,gw.E,gw.iV,null,gw.Re,gw.QF,gw.qH,gw.m,gw.li,gw.HN,gw.mK]:[gw.g3,gw.m,gw.qH,null,gw.QF,gw.aCK,gw.LO,null,gw.iV,gw.WW,gw.HN,gw.mK],x=[{J:H.C5,Ff:!1,ro:[gw.auA,gw.OW]},{J:H.C5,Ff:!1,ro:[gw.auA],ql:[H.Ji]},{J:H.Ji,Ff:!1,ro:[gw.OW]},{J:H.BG,Ff:!0,ro:[gw.aw],ql:[H.Cg]},{J:H.Cg,Ff:!0,ro:[gw.aw],ql:[H.BG]},{J:H.Rv,Ff:!0,ro:[gw.aw],ql:[H.ih,H.hB,H.t8]}];
if(du==0)x.push({J:H.ih,Ff:!0,ro:[gw.aw],ql:[H.Rv,H.Mj,H.sb,H.AQ,H.Ag,H.Ks]});x.push({J:H.VO,Ff:!0,ro:[gw.aw]});
var o={ayh:x,n8:J,tR:[],keys:v,Kr:[{J:new H.a89,Fg:g3},{J:new H.amw,Fg:jO},{J:new H.aAO,Fg:bX},{J:new H.WG(!0),Fg:gc},{J:new H._7,Fg:i$},{J:new H.S2,Fg:fz}],aiB:[{J:new H.j9},{J:new H.History},{J:new H._3},{J:new H.UM},{J:new H.Cs},{J:new H.$v}],map:{},ava:null,b4:null,uK:null},R=o.n8;
for(var h=0;h<R.length;h++){var r=R[h];if(ea=="---")continue;for(var l=0;l<r.length;l++)if(r[l].R9!=null&&r[l].R9!=du){r.splice(l,1);
l--}if(r.length==0){R.splice(h,1);o.keys.splice(h,1);h--}}for(var h=0;h<o.n8.length;h++){var S=o.n8[h];
if(S=="---")continue;var c=o.keys[h];for(var l=0;l<S.length;l++){o.map[S[l].J.id]=S[l];S[l].UX=h;S[l].abc=l;
var b=ea.get(S[l].J.name);P+="<li>"+S[l].J.id+": "+b+"</li>";M+="\t"+JSON.stringify(S[l].J.name)+", "+(c?"\""+c.UL+"\"":"null")+", "+S[l].J.id+", // "+b+"\n"}o.tR[h]=0}for(var h=0;
h<o.Kr.length;h++)o.map[o.Kr[h].J.id]=o.Kr[h];for(var h=0;h<o.aiB.length;h++)o.map[o.aiB[h].J.id]=o.aiB[h];
try{var w=window.locStor.getItem("_ltools");if(w){w=w.split(",");for(var h=0;h<w.length;h++){var U=o.map[w[h]];
if(U.UX!=null)o.tR[U.UX]=U.abc}}}catch(gw){alert("could not load the tool preferences");console.log("Last tools: ",window.locStor.getItem("_ltools"))}return o};
function dB(J){aJ.call(this);if(J==null)return;this.BK=null;this.mq=null;this._=B.l("div","sbar"+" "+J);
this.X_=new B.l("div","top");this.X_.innerHTML="> <";this._.appendChild(this.X_);this.Cf=1;this.X_.addEventListener("click",this.a1W.bind(this),!1)}dB.prototype=new aJ;
dB.prototype.a1W=function(J){if(this.BK!=null&&this.BK<500&&this.Cf==0)return;if(this.Cf==0)this.ll(!0);
else this.collapse(!0)};dB.prototype.aau=function(J){this.Cf=J;this.X_.innerHTML=this.Cf==0?"< >":"> <"};
dB.prototype.a73=function(){var J=new dd(j.E.j,!0);J.data={R:j.m.W8};this.a(J)};dB.prototype.ll=function(J){this.aau(1);
if(J)this.a73()};dB.prototype.collapse=function(J){this.aau(0);if(J)this.a73()};dB.prototype.WB=function(){return this.Cf==1};
function gR(J,v){dB.call(this,"vcolumn");this.z6=J;this.aqT=v;this.PG();this.an=B.l("div");B.L(this.an,"cursor:default;");
this.ab$=this.a4H.bind(this);this.asq=this.a5d.bind(this);this.aqf=this.az8.bind(this);B._A(this._,this.ab$);
this._.appendChild(this.an);this.aIV=B.l("div");this.an.appendChild(this.aIV);this.z_=-1;this.auv=B.l("div","float");
var x=this.SG=B.l("canvas","gsicon"),o=Math.round(12*B.rR());x.width=x.height=o;var R=x.getContext("2d");
R.moveTo(2,2);R.lineTo(o-2,o-2);R.moveTo(2,7);R.lineTo(o-7,o-2);R.stroke();B.L(this.SG,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
B.sl(this.SG);B._A(this.SG,this.ab$);B.Dt(x);this.Wf=[];this.adX=[];this.ajs=null;this.C8=null;this.a94=0}gR.prototype=new dB;
gR.prototype.a4H=function(J){var v=J.target==this.SG;if(!v){if(J.target!=this._)return;if(!this.WB())return}else{var x=this.Wf[this.z_].nH;
x.style.pointerEvents="none";var o=x.getBoundingClientRect();this.ajs=[o.width,o.height];this.adX[this.z_]=[o.width,o.height]}J.stopPropagation();
this.C8=B.C2(J,document.body);this.a94=this.z6;B.W4(document,this.asq);B.Kb(document,this.aqf)};gR.prototype.a5d=function(J){var v=B.C2(J,document.body);
if(this.WB()){this.z6=this.a94+this.C8.x-v.x;this.PG()}else{var x=this.adX[this.z_],o=this.ajs;x[0]=o[0]+this.C8.x-v.x;
x[1]=o[1]+v.y-this.C8.y}var R=new dd(j.E.j,!0);R.data={R:j.m.W8};this.a(R)};gR.prototype.az8=function(J){if(!this.WB()){var v=this.Wf[this.z_].nH;
v.style.pointerEvents="auto"}B.SP(document,this.asq);B.PD(document,this.aqf)};gR.prototype.ao3=function(J){J.P("showFloat",this.awn,this);
J.P("hideFloat",this.YV,this);this.Wf.push(J);J.parent=this;this.an.appendChild(J._)};gR.prototype.al1=function(h){var J=this.Wf[h];
J.removeEventListener("showFloat",this.awn,this);J.removeEventListener("hideFloat",this.YV,this);this.Wf.splice(h,1);
J.parent=null;this.an.removeChild(J._)};gR.prototype.aE5=function(){return this.Wf.length};gR.prototype.CG=function(){for(var h=0;
h<this.Wf.length;h++)this.Wf[h].CG()};gR.prototype.awn=function(J){this.CG();var v=this.auv;this.aIV.appendChild(v);
this.z_=this.Wf.indexOf(J.currentTarget);var x=this.Wf[this.z_].nH;B.wp(v);v.appendChild(x);v.appendChild(this.SG);
this.qe(this.BK,this.mq)};gR.prototype.YV=function(J){this.CG();if(this.z_!=-1){this.aIV.removeChild(this.auv);
this.z_=-1}};gR.prototype.PG=function(){function J(v){return Math.round(v*B.rR())/B.rR()}B.L(this._,"width: "+this.z6+"px; border-left-width:"+J(4)+"px; cursor:ew-resize;")};
gR.prototype.ll=function(J){this.PG();this.YV();for(var h=0;h<this.Wf.length;h++)this.Wf[h].ll();dB.prototype.ll.call(this,J)};
gR.prototype.collapse=function(J){this._.removeAttribute("style");for(var h=0;h<this.Wf.length;h++)this.Wf[h].collapse();
dB.prototype.collapse.call(this,J)};gR.azM=11;gR.prototype.qe=function(J,v){this.BK=J;this.mq=v;v-=gR.azM;
var x=this.Wf.length;if(x==0)return;if(!this.WB()){var o=v<400?v:400+(v-400)*.5;for(var h=0;h<x;h++){var R=this.Wf[h],r=this.adX[h];
R.qe(r?r[0]:this.z6,r?r[1]:o)}}else{var l=v;for(var h=0;h<x;h++){var R=this.Wf[h],M=R.anP();if(h==x-1){M=l;
R._.style.borderBottom="none"}R.qe(this.z6,M);l-=M+4}}};function cL(J){aJ.call(this);this._=B.l("div");
this.an=null;this.qO=0;this.rt=0;this.amY=J;this.a20=this.y1.bind(this);this.aii=this._k.bind(this);
this.aqo=this.Vg.bind(this);this.ul=null;this.sA=null;this.aBj=null;var v=this._,o="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
B._A(v,this.a20);v.addEventListener("touchmove",B.zl,!1);this.abq=!0;this.ah=[];var x=this.aay=B.l("div");
B.L(x,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");v.appendChild(x);
var R=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",o+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",o+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",o+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var h=0;h<R.length;h++){var r=new bj(R[h]);this.ah.push(r);B.L(r._,"margin-left:"+(h<7?4:0)+"px;cursor:pointer;");
r.P("click",this.Dq,this)}}cL.prototype=new aJ;cL.prototype.d=function(){var J=this.aay;B.wp(J);for(var h=0;
h<this.ah.length;h++){var v=this.ah[h];if(h<5)v.d();J.appendChild(v._)}};cL.prototype.Dq=function(J){var h=this.ah.indexOf(J.currentTarget);
if(h==0){if(window.showCap)window.showCap();return}var v=" issues learn blog api twitter facebook".split(" "),x=["","//github.com/photopea/"+["photo","vector"][du]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],o=window.ga;
if(o)o("send","event","Links",v[h]);var R=new dd(j.E.j,!0);R.data={R:j.m.fY,link:x[h]};this.a(R)};cL.prototype.y1=function(J){if(J.a2W){J.preventDefault();
J.stopPropagation()}var v=window;B.W4(v,this.aii);B.Kb(v,this.aqo);v=this.an;this.ul=new aG(parseInt(v.style.left),parseInt(v.style.top));
this.sA=B.C2(J,this._);this.aBj=v.getBoundingClientRect()};cL.prototype._k=function(J){var v=B.C2(J,this._),x=this.ul.x+v.x-this.sA.x,o=this.ul.y+v.y-this.sA.y,R=this.qO-this.aBj.width,r=this.rt-this.aBj.height;
if(this.amY)this.an.style.left=Math.min(0,Math.max(R,x))+"px";else this.an.style.top=Math.min(0,Math.max(r,o))+"px";
if(x-10>0){this.sA.x=v.x-10;this.ul.x=0}if(x+10<R){this.sA.x=v.x+10;this.ul.x=R}};cL.prototype.Vg=function(J){var v=window;
B.SP(v,this.aii);B.PD(v,this.aqo)};cL.prototype.aFT=function(J){if(this.an){this._.removeChild(this.an)}this.an=J;
this._.appendChild(J);J.style.position="absolute";J.style.appRegion="no-drag";if(this.amY)J.style.left=0;
else J.style.top=0};cL.prototype.qe=function(J,v){this.qO=J;this.rt=v;B.L(this._,"position:relative; width: "+J+"px; height: "+v+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var x=this.an.firstChild,o=this.aay,R=x?x.firstChild.getBoundingClientRect().width:1e9,r=170,l=navigator.windowControlsOverlay,M=0,P=0;
if(l&&l.visible){var S=l.getTitlebarAreaRect();P=S.x;M=J-S.width-S.x;if(M<0)M=0;R+=S.x;r+=M}var c=this.abq&&J>R+r;
o[gF.EZ][gF.a9R]=c?"":gF.az2;o[gF.EZ][gF.cI]=M+"px";if(x){x[gF.EZ][gF.agX]=P+"px";x[gF.EZ][gF.aoF]=gF.as6}var b=this.ah;
for(var h=0;h<b.length;h++){var w=h>4||J-R-r>330?"":gF.az2,U=b[h];U._.style.display=w}};cL.prototype.a06=function(){this.an.style.left="0";
this.an.style.top="0"};function g4(){aJ.call(this);this.f=null;this.Wb=g4.qH;this.alV="";this._=B.l("div","rightbar");
this.jM=[new gR(300),new gR(268,!0)];this.Wf=[new hs,new hs,new hs,new hs,new hs,new hs,new hs];this.aAS=[]}g4.prototype=new aJ;
g4.prototype.d=function(){var J=this.Wb;for(var h=0;h<J.length;h++)J[h].rq.d()};g4.qH=du==0?[{rq:new hL,b3:3},{rq:new az,b3:1},{rq:new bt,b3:4},{rq:new hm,b3:2},{rq:new bS(!0),b3:5},{rq:new ah(!0),b3:5},{rq:new cY,b3:0},{rq:new da,b3:5},{rq:new jq,b3:3},{rq:new gE,b3:0},{rq:new bY,b3:3},{rq:new hh,b3:2},{rq:new j8,b3:4},{rq:new g7,b3:3},{rq:new a2,b3:5},{rq:new bS(!1),b3:5},{rq:new i1,b3:2},{rq:new gN,b3:3},{rq:new cD,b3:1},{rq:new jS,b3:0},{rq:new il,b3:5},{rq:new kw,b3:6,nu:!0}]:[{rq:new fQ,b3:5},{rq:new bS(!0),b3:5},{rq:new bS(!1),b3:5},{rq:new da,b3:5},{rq:new gE,b3:0},{rq:new hh,b3:2},{rq:new kw,b3:6,nu:!0}];
if(B.k3(1))g4.qH.push({rq:new fR,b3:6,nu:!0});g4.qH.push({rq:new b8,b3:6,nu:!0},{rq:new hi,b3:6,nu:!0});
(function(){var J=[{id:gB.mL.ath,name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var h=0;h<J.length;h++)g4.qH.push({rq:new dW(J[h],100+h),b3:6,nu:!0})}());g4.prototype.ahL=function(J){for(var h=0;
h<J.length;h++){var v=J[h],x=new dW(v,"plg_"+v.name);this.Wb.push({rq:x,b3:6});this.aAS.push(x.G7)}this._t()};
g4.prototype.pJ=function(J,v){this.f=J;var x=this.Wb;for(var h=0;h<x.length;h++)x[h].rq.pJ(J,v);if(v==cj.u$||v==cj.q6)this._t()};
g4.prototype.Mo=function(J){var v=this.Wb;for(var h=0;h<v.length;h++)v[h].rq.Mo(J)};g4.prototype.qe=function(J,v){this.BK=J;
this.mq=v;this._t();this.jM[0].qe(J,v);this.jM[1].qe(J,v)};g4.prototype._t=function(){var J=this.f,v=this.BK,x=this.mq;
if(J==null||v==0)return;var o=J.ST.concat(this.aAS),R=v<500||v<700&&v<x,r=JSON.stringify(o)+","+R;if(r!=this.alV){this.alV=r;
B.wp(this._);var l=[];for(var h=0;h<this.jM.length;h++){var M=this.jM[h];l[h]=M.WB();while(M.aE5()!=0)M.al1(0);
M.ll()}var P=[];for(var h=0;h<this.Wf.length;h++){var S=this.Wf[h];S.ll();while(S.aFA()!=0)S.E6(0);P.push(0)}for(var h=0;
h<o.length;h++){var c=this.aAb(o[h].toString());if(c==null)continue;this.Wf[c.b3].GI(c.rq);this.Wf[c.b3].k0(0);
P[c.b3]++}var b=[];for(var h=0;h<P.length;h++){if(P[h]==0)continue;var w=h<3||R?1:0,M=this.jM[w];M.parent=this;
M.ao3(this.Wf[h]);b[w]=!0}for(var h=0;h<this.jM.length;h++)if(b[h])this._.appendChild(this.jM[h]._);
this.jM[0].collapse();if(v<700||this.f.compact||!l[1]){this.jM[1].collapse()}var U=new dd(j.E.j,!0);
U.data={R:j.m.W8};this.a(U)}};g4.prototype.aAb=function(J){for(var h=0;h<this.Wb.length;h++)if(this.Wb[h].rq.G7==J)return this.Wb[h]};
g4.prototype.alB=function(J){var v=this.aAb(J);this.Wf[v.b3].GI(v.rq)};g4.prototype.Q4=function(J,v,x){var o=this.Wb;
for(var h=0;h<o.length;h++)o[h].rq.Q4(J,v,x)};g4.prototype._N=function(J,v,x,o,R){var r=this.Wb;for(var h=0;
h<r.length;h++)r[h].rq._N(J,v,x,o,R)};g4.prototype.kq=function(J,v,x,o,R){var r=this.Wb;for(var h=0;
h<r.length;h++)r[h].rq.kq(J,v,x,o,R)};g4.prototype.ER=function(J,v,x,o,R){var r=this.Wb;for(var h=0;
h<r.length;h++)r[h].rq.ER(J,v,x,o,R)};function bk(J,v){dB.call(this,"toolbar");this._.removeChild(this.X_);
this.n1=B.l("div","tools");this._.appendChild(this.n1);this.Dw=null;this.Lz=null;this.am0=v;this.SW=null;
this.U8=null;this.ah0=-1;var x=window.locStor.getItem("_ltools");this.gh=x?x.split(","):[];this.aET=J;
this.W=null;this.Ho=null;this._U=null;this.a3x=null;this.Vf=new iz;this.Vf._.style.marginTop="5px";this.Vf._.style.marginBottom="3px";
this.Vf.parent=this;this.XP=new bj(B.vr("lrs/mask"),!1,[6,6,1]);this.XP.P("click",function(l){var M=new dd(j.E.G,!0);
M.J=H.ZT;M.data={R:"qmask"};this.a(M)},this);var o=new bA(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
o.P(j.E.n,this.avz,this);var R=B.l("span","rangecontFloat form padded");R.appendChild(o._);B.L(R,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var r=this._;this.akB=[!1,!1,!1,!1];this.yZ=new bj(B.vr("kb"),!1,"Virtual Keys");this.yZ.P("click",function(l){var M=this.yZ._.getBoundingClientRect();
R.style.top=M.top-110+"px";R.style.left=M.left+M.width+8+"px";if(B.yn(R)){B.UD({_:R},r)}else{r.appendChild(R);
B.fC({_:R})}},this)}bk.prototype=new dB;bk.prototype.avz=function(J){var v=J.target.s();this.yZ.q(v[0]||v[1]||v[2]||v[3]);
var x=new dd(j.E.j,!0);for(var h=0;h<4;h++){if(v[h]!=this.akB[h]){x.data={R:j.m.a35,x4:v[h],aCY:[gw.TH()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][h]};
this.a(x)}}this.akB=v.slice(0)};bk.prototype.anv=function(J,v){this.SW=v;this.U8=J;if(J==null||J.Y.length==0||J.k[J.Y[0]]==null)return;
var x=J.XP()!=null,o=J.U.xY,R=J.k[J.Y[0]].kG,r=R==1||R==3||x||o[0]+o[1]+o[2]==1;this.Vf.aoP(r);this.XP.q(x)};
bk.prototype.aE7=function(J,v){var x=J.length,o=[];for(var h=0;h<x;h++)o[h]=J[h].slice(0);J=o;var R=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],r=Math.min(R.length/2,x-v);
for(var h=0;h<r;h++){var l=R[2*h],M=R[2*h+1];J[l]=J[l].concat(J[M]);J[M]=null}for(var h=0;h<J.length;
h++)if(J[h]==null){J.splice(h,1);h--}return J};bk.prototype.asY=function(J,v){for(var h=0;h<v.length;
h++)for(var x=0;x<v[h].length;x++)if(v[h][x].J.id==J)return h};bk.prototype.anE=function(J){var v=this.aET;
this.Ho=[];this._U=[];this.a3x=[];this.W=[];var x=v.n8;if(J!=null&&this.am0)x=this.aE7(x,J);var o=this.Dw;
if(o){var R=[];for(var h=0;h<x.length;h++){var r=[];for(var l=0;l<x[h].length;l++){var M=x[h][l];if(o==null||o.indexOf(parseInt(M.J.id))!=-1)r.push(M)}if(r.length>0)R.push(r)}x=R}for(var h=0;
h<x.length;h++){var P=[],S=this.Ho.length,c=null,b=-1;for(var l=0;l<x[h].length;l++){var M=x[h][l].J,w=this.asY(M.id,v.n8),U=v.keys[w];
if(U==gw.HN&&l==1)U=gw.mL;this.W.push(M);var F=new b9(M.name,U,M.Q2,this.Ho.length,h,x[h].length>1);
this.Ho.push(F);var Y=this.gh.indexOf(M.id);if(Y==-1)Y=0;if(Y>b){b=Y;c=F}F.P(j.E.n,this.fA,this);F.P("mover",this.N8,this);
P.push({name:M.name,CT:M.Q2,ro:U?U.UL:""})}this._U.push(c);this.a3x.push(P.length==1?null:[P,S])}};bk.prototype.qe=function(J,v){var x=this.mq=v,o=20;
if(1<B.rR()&&B.rR()<1.5)o=20/B.rR();o+=12.7;var R=this.mq>640&&du==0?2:1,r=34+5+3+R*(o+4),l=Math.floor((x-r)/o);
if(l!=this.ah0){this.ah0=l;this.anE(l);this.p1()}var M=this._U.length*o+r,P=Math.min(1,x/M);if(.75<=P){B.L(this.n1,"width:34px; transform-origin: top left; transform: scale("+P+","+P+");");
B.L(this._,"height:"+(v-2)+"px;")}else{x-=4;B.L(this.n1,"height: "+x+"px;  width:"+Math.ceil(M/x)*34+"px");
B.L(this._,"")}};bk.prototype.d=function(){if(this.W==null)return;for(var h=0;h<this.Ho.length;h++)this.Ho[h].d()};
bk.prototype.fA=function(J){var v=new dd(j.E.j,!0);v.data={R:j.m.lE,J:this.W[J.id].id};this.a(v)};bk.prototype.aoM=function(J){var v=J.target.ar7+J.target.hA()[0];
this.Ho[v].Vg(null,!0)};bk.prototype.N8=function(J){var v=this.SW,x=new dd(j.E.j,!0);x.data={R:j.m.jN};
this.a(x);var o=J.target,R=this.a3x[o.UX];if(R==null)return;var r=new kM(R[0],null,!0);r.ar7=R[1];r.UX=o.UX;
r.P("select",this.aoM,this);r.parent=this;r.d();var l=o._.getBoundingClientRect(),x=new dd(j.E.j,!0);
x.data={R:j.m.sO,rq:r,x:l.left+l.width+8,y:l.top};if(v==null||!(v.M(gw.OW)||v.M(gw.aw)))this.a(x)};bk.prototype.p1=function(J){if(J==null)J=this.Lz;
this.Lz=J;if(this.W==null)return;var v=this.gh.indexOf(J);if(v!=-1)this.gh.splice(v,1);this.gh.push(J);
window.locStor.setItem("_ltools",this.gh.join(","));var x=-1;for(var h=0;h<this.W.length;h++)if(this.W[h].id==J)x=h;
for(var h=0;h<this.Ho.length;h++){var o=this.Ho[h];o.aeW(x==h)}if(x==-1)return;this._U[this.Ho[x].UX]=this.Ho[x];
B.wp(this.n1);var R=this._U;for(var h=0;h<R.length;h++){this.n1.appendChild(R[h]._)}if(!this.am0)return;
this.n1.appendChild(this.Vf._);if(this.mq>640&&du==0)this.n1.appendChild(this.XP._);this.n1.appendChild(this.yZ._)};
bk.prototype.pJ=function(J,v){if(v==cj.q6&&J.Dw){this.Dw=J.Dw;this.anE();this.p1()}this.Vf.a8C(J.P4,J.Vb);
if(du==1&&(v==cj.YI||v==cj.q6)){this.Vf.adE(J,this.U8)}};function b9(J,v,x,o,R,r){aJ.call(this);this.Bh=0;
this.UY=this.axJ.bind(this);this.UX=R;this.cZ=o;this.Gc=J;this.j$=v;this.aqn=r;this.Q2=x;this._=B.l("button","");
this._.innerHTML=B.vr(this.Q2);if(this.aqn){var l=B.l("img","gsicon");l.setAttribute("src",PIMG["tools/corner"]);
B.L(l,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this._.appendChild(l)}this._.addEventListener("touchstart",B.zl,!1);
this.d();B._A(this._,this.y1.bind(this));B.Kb(this._,this.Vg.bind(this));this._.addEventListener("contextmenu",this.UY,!1);
this._.addEventListener("contextmenu",b9.Ib,!1)}b9.prototype=new aJ;b9.Ib=function(J){J.stopPropagation();
J.preventDefault();return!1};b9.prototype.d=function(){var J=this.j$?" ("+this.j$.UL+")":"";this._.setAttribute("title",ea.get(this.Gc)+J)};
b9.prototype.y1=function(J){b9.CQ=this.cZ;this.Bh=setTimeout(this.UY,160)};b9.prototype.Vg=function(J,v){if(v==null&&b9.CQ!=this.cZ)return;
clearTimeout(this.Bh);var x=new dd(j.E.n,!1);x.target=this;x.id=this.cZ;this.a(x)};b9.prototype.axJ=function(J){var v=new dd("mover",!1);
v.target=this;v.id=this.cZ;this.a(v)};b9.prototype.aeW=function(J){this._.className=J?"toolbtn active":"toolbtn"};
function cM(){aJ.call(this);this._=B.l("div","topbar");this.akG=B.l("span");this.a2b=B.l("span");this.a9u=0;
this._.appendChild(this.akG);this._.appendChild(this.a2b);this.qE=null;this.f=null;this.hx=[];this.ST=[];
var J=this.y1.bind(this);for(var h=0;h<cM.data.length;h++){var v=B.l("button");this.hx.push(v);var x=cM.data[h];
v.addEventListener("mouseover",J,!1);B._A(v,J)}this.kr=new bj([0,13,0],!1,null,!0);this.kr.P("click",this.Sc,this);
this.Xx=new bj(B.vr("tools/zoom",null,"autoscale"),!1,[12,86]);this.Xx.P("click",this.Sc,this);this.a8p=new bj("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.a8p.P("click",this.Sc,this)}cM.prototype=new aJ;cM.prototype.at4=function(){if(this.ST.length!=0)return;
for(var h=0;h<cM.data.length;h++){var J=cM.data[h],v=new kM(J.items,J.D9);v.parent=this;this.ST.push(v)}this.d()};
cM.prototype.d=function(){this.kr.d();this.Xx.d();this.a8p.d();for(var h=0;h<this.hx.length;h++)this.hx[h].textContent=ea.get(cM.data[h].name);
this.alN();for(var h=0;h<this.ST.length;h++)this.ST[h].d()};cM.prototype.Sc=function(J){var v=new dd(j.E.j,!0);
if(J.target==this.kr)v.data={R:j.m.wz,kA:"account"};else if(J.target==this.Xx)v.data={R:j.m.Q5};else v.data={R:j.m.WF,ss:!0};
this.a(v)};cM.prototype.XX=function(J,v){this.qE=J;this.f=v};cM.prototype.pJ=function(J,v){this.f=J;
if(v==cj.q6){var x=J.aB6;B.wp(this.akG);for(var h=0;h<this.hx.length;h++){var o=cM.data[h];if(x==null||x[h]==1||x[h]instanceof Array)this.akG.appendChild(this.hx[h]);
if(x!=null&&x[h]instanceof Array){this.at4();this.ST[h].anu(x[h])}}var R=this.a2b;B.wp(R);if(J.rT){R.appendChild(this.kr._)}R.appendChild(this.Xx._);
R.appendChild(this.a8p._)}this.alN()};cM.prototype.alN=function(J,v){var x=this.kr,o=12255232;if(f6.sr())o=f6.hV()?43520:16755200;
B.L(x._,"color:#ffffff; background-color:#"+g.q2(o))};cM.prototype.y1=function(J){this.at4();var h=this.hx.indexOf(J.currentTarget),v=this.ST[h];
if(J.type=="mouseover"&&!B.yn(this.ST[this.a9u]._))return;if(B.yn(v._))return;J.a2W=!0;this.a9u=h;for(var h=0;
h<cM.data.length;h++)this.ST[h].update(this.qE,this.f);var x=J.target.getBoundingClientRect(),o=new dd(j.E.j,!0);
o.data={R:j.m.sO,rq:v,x:x.left,y:x.top+x.height+2,aeC:!0};this.a(o)};cM.a6m=function(J){var v=gw,x=v.aw,o=v.Yv,R=v.i4,r=function(G){return{i:G!=null}},l=function(G){return{i:G!=null&&G.g!=null}},M=function(G){return{i:G!=null&&G.hH(!1)}},P=function(G){return{i:G!=null&&G.hH(!1)&&G.g!=null}},S=[{name:[7,0],i:r,ro:[x,v.m]},{name:[7,1],ro:[x,v.Ao],i:l},{name:[7,2],ro:[o,x,v.WW],i:l,vy:!0},{name:"Remove BG",i:function(G){return{i:B.k3(1)&&G!=null&&G.Y.length!=0&&!G.k[G.Y[0]].S.L3()}}},{name:[7,8],i:r,U6:!0},{name:[7,13],U6:!0,i:function(G){return{i:G!=null&&G.Y.length!=0&&!G.k[G.Y[0]].S.L3()}}},{name:"Subject",i:function(G){return{i:G!=null&&G.Y.length!=0&&!G.k[G.Y[0]].S.L3()}},vy:!0},{name:[7,11],U6:!0,i:function(G){return{i:G!=null&&G.Y.length!=0&&!G.k[G.Y[0]].S.L3()}}},{name:[7,3],i:r,vy:!0,sub:[{name:[7,9],U6:!0,i:l},{name:[19,3,0],U6:!0,i:l},{name:[7,4],U6:!0,i:l},{name:[7,5],U6:!0,i:l},{name:[7,6],U6:!0,i:l,ro:"Shift+F6"}]},{name:"Grow",i:l},{name:"Similar",i:l,vy:!0},{name:[7,10],i:l,vy:!0},{name:[6,6,1],i:function(G){return{i:G!=null,WH:G!=null&&G.XP()!=null}},ro:[v.acR],vy:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],i:l}],c=[{A:j.E.aT,p:H.IE.DT(!0)},{A:j.E.aT,p:H.IE.DT()},{A:j.E.aT,p:{QI:"inverse"}},{A:j.E.G,J:H.ZT,p:{R:"bgrm",K:1}},{A:j.E.j,p:{R:j.m.wz,kA:"crange"}},{A:j.E.j,p:{R:j.m.wz,kA:"magiccut"}},{A:j.E.G,J:H.ZT,p:{R:"bgrm",K:2}},{A:j.E.j,p:{R:j.m.wz,kA:"redge"}},{sub:[{A:j.E.j,p:{R:j.m.wz,kA:"sel_border"}},{A:j.E.j,p:{R:j.m.wz,kA:"sel_smoothness"}},{A:j.E.j,p:{R:j.m.wz,kA:"sel_expand"}},{A:j.E.j,p:{R:j.m.wz,kA:"sel_contract"}},{A:j.E.j,p:{R:j.m.wz,kA:"sel_feather"}}]},{A:j.E.aT,p:{QI:"grow",_g:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{A:j.E.aT,p:{QI:"similar",_g:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{A:j.E.j,p:{R:j.m.lE,J:H.sj}},{A:j.E.G,J:H.ZT,p:{R:"qmask"}},{A:j.E.j,p:{R:j.m.wz,kA:"loadsel"}},{A:j.E.j,p:{R:j.m.wz,kA:"savesel"}}];
if(J){var b=[1,2,8,7,"",14,"a","","b","c","d","","e",11,"","f","g"],w={a:[{name:"Make Work Path",i:l},{A:j.E.aT,p:H.IE.a6z()}],b:[{name:[6,49,0],i:l},{A:j.E.aT,p:{QI:"copyToLayer"}}],c:[{name:[6,49,1],i:P},{A:j.E.aT,p:{QI:"cutToLayer"}}],d:[{name:[6,13]},{A:j.E.G,J:H.wu,p:{R:m.h5}}],e:[{name:[10,16],i:r},{A:j.E.j,p:{R:j.m.lE,J:H.tS}}],f:[{name:[2,3],i:P,U6:!0},{A:j.E.j,p:{R:j.m.wz,kA:"fill"}}],g:[{name:[14,9],i:P,U6:!0},{A:j.E.j,p:{R:j.m.wz,kA:"stroke"}}]},U=[],F=[];
for(var h=0;h<b.length;h++){var Y=b[h];if(S[Y]){var A=S[Y];A.vy=!1;delete A.ro;U.push(A);F.push(c[Y])}else if(Y==""){U[U.length-1].vy=!0}else if(w[Y]){var A=w[Y];
U.push(A[0]);F.push(A[1])}}c=F;S=U}return{name:[0,5],items:S,D9:c}};cM.Bj=function(J,v){if(J==null||J.Y.length==0)return!1;
var x=J.k[J.Y[0]];return x.add.TySh!=null&&v.Lz==H.i9};cM.agH=function(){var J=gw,v=J.aw,x=J.Yv,o=J.i4,R=function(r){return{i:r!=null}};
return[[{name:[5,0],ro:[v,J.aN],i:function(r,l){return{i:r!=null&&(r.az3()||cM.Bj(r,l))}}},{name:[5,1],ro:[v,J.wC],i:R},{name:[5,2],ro:[v,J.g3],i:function(r,l){return{i:cM.Bj()||B.N4()||l.YE!=null||l.I9!=null||l.aEg!=null}}},{name:[2,2],i:function(r,l){return{i:r!=null&&(r.g!=null||cM.Bj(r,l))}},ro:"Delete",vy:!0}],[{A:j.E.j,p:{R:j.m.Iv}},{A:j.E.j,p:{R:j.m.ju}},{A:j.E.j,p:{R:j.m.ia}},{A:j.E.aT,p:{QI:"delete"}}]]};
cM.data=function(){var J=gw,v=J.aw,x=J.Yv,o=J.i4,R=function(k){return{i:k!=null&&k.Y.length!=0}},r=function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].add.SoLd!=null}},l=function(k){return{i:k!=null}},M=function(k){return{i:k!=null&&k.hH(!1)}},P=function(k){return{i:k!=null&&k.hH(!1)&&!k.k[k.Y[0]].S.L3()}},S=[],c=[],b="none maxx avrg medn minn rang stdv summ vari".split(" "),w=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"],G="assignProfile",n="convertToProfile";
for(var h=0;h<b.length;h++){S.push({name:w[h],i:function(k,V){if(k==null||k.Y.length!=1)return{i:!1};
var X=k.k[k.Y[0]].add.SoLd;if(X==null)return{i:!1};return{i:!0,WH:X.Impr.v.classID==this.aGW}}.bind({aGW:b[h]})});
c.push({A:j.E.G,J:H.wu,p:{R:m.Rl,ra:b[h]}})}var U=cM.agH(!0),F=[],Y=[],A=[];for(var h=0;h<d7.ot.length;
h++){var E=d7.ot[h];F.push({name:E});var K={classID:G,null:kj.RS("Dcmn",!0)};if(E!="sRGB")K.profile={t:"TEXT",v:d7.fx[h]};
var e={classID:n,null:kj.RS("Dcmn",!0)};e.T={t:"TEXT",v:d7.fx[h]};Y.push({A:j.E.aT,p:{QI:G,_g:K}});A.push({A:j.E.aT,p:{QI:n,_g:e}})}var $=[{name:[0,0],items:[{name:[5,3],ro:[o,v,J.Kv],title:[11,7],U6:!0},{name:[1,0],ro:[v,J.Re],U6:!0},{name:[1,11],U6:!0,i:l},{name:["VAR0 VAR1",[1,0],[0,14]],vy:!0,sub:[{name:"From Any Folder"},{name:"Storage",U6:!0,ro:[o,v,J.Re]},{name:[1,5],U6:!0},{name:[11,0],U6:!0},{name:["PSD VAR0",[25,0]],U6:!0}]},{name:[1,18],vy:!0,i:l,sub:[{name:"PNG",ro:"Imgur.com",i:function(k,V){return{i:k!=null&&V.M_}}},{name:"JPG",ro:"Imgur.com",i:function(k,V){return{i:k!=null&&V.M_}}},{name:du==0?"PSD":"AI",ro:["Photo","Vector"][du]+"pea.com",i:function(k,V){return{i:k!=null&&V.M_&&!k.zY}}}]},{name:"Save ...",ro:[v,J.Xv],i:function(k,V){var X=ea.get([1,2]),Q=!0;
if(k){if(k.HW)X+=" ("+ea.get([6,7,1])+")";if(k.My)X+=" (Google Drive)";if(k.xb)X+=" ("+Storage.list[k.xb[0]][0]+")";
Q="psd jpg png gif webp svg bmp".split(" ").indexOf(k.Ch)!=-1;if(du==1)Q=k.Ch=="ai"}return{i:k!=null&&(k.xb!=null||k._Y!=null&&Q||k.HW!=null||k.pG!=null&&k.pG.oO!=null||k.My!=null||V.aA_.save!=null),y0:X}}},{name:du==0?[1,3]:"Save as AI",i:function(k,V){return{i:k!=null&&V.M_}}},{name:["VAR0 VAR1",[1,2],[0,14]],i:l,sub:[{name:(du==0?"PSD":"AI")+" to Storage",i:function(k,V){return{i:k!=null&&V.M_}}},{name:["VAR0 PSD/PSB",[1,2]],U6:!0,i:function(k,V){return{i:k!=null&&V.M_}}}]},{name:[1,8],i:l,sub:function(){var k=d2.Td(0),V=[];
for(var h=0;h<k.length;h++)V.push({name:k[h],ro:"."+k[h].toLowerCase()});V.push({name:[0,14],sub:function(){var k=d2.Td(1),V=[];
for(var h=0;h<k.length;h++)V.push({name:k[h],ro:"."+k[h].toLowerCase()});return V}()});return V}()},{name:[1,4],U6:!0,i:l,vy:!0},{name:[1,9],U6:!0,i:l},{name:"Export Color Lookup",U6:!0,i:l,vy:!0},{name:[1,14],U6:!0,i:l,vy:!0},{name:[1,17],sub:[{name:"Batch",U6:!0},{name:"PDF Presentation",U6:!0},{name:"Convert Formats",U6:!0},{name:"Generate Mockups",U6:!0,i:l},{name:"Resize Images",U6:!0,vy:!0},{name:"Crop and Straighten Photos",i:l}]},{name:[1,10],U6:!0}],D9:[{A:j.E.j,p:{R:j.m.wz,kA:"newproject"}},{A:j.E.j,p:{R:j.m.hC}},{A:j.E.j,p:{R:j.m.hC,apD:!0}},{sub:[{A:j.E.j,p:{R:j.m.hC,c3:!0}},{A:j.E.j,p:{R:j.m.wz,kA:"storwindow",tj:0}},{A:j.E.j,p:{R:j.m.wz,kA:"open_from_url"}},{A:j.E.j,p:{R:j.m.wz,kA:"camera"}},{A:j.E.j,p:{R:j.m.wz,kA:"res0"}}]},{sub:[{A:j.E.j,p:{R:j.m.aK,d_:"png"}},{A:j.E.j,p:{R:j.m.aK,d_:"jpg"}},{A:j.E.j,p:{R:j.m.aK,d_:du==0?"psd":"ai"}}]},{A:j.E.j,p:{R:j.m.nx}},{A:j.E.j,p:{R:j.m.PO}},{sub:[{A:j.E.j,p:{R:j.m.wz,kA:"storwindow",tj:1}},{A:j.E.j,p:{R:j.m.wz,kA:"savepsb"}}]},{sub:function(){var k=d2.Td(0),V=[];
for(var h=0;h<k.length;h++)V.push({A:j.E.j,p:{R:j.m.wz,kA:"saveforweb",d_:h}});V.push({sub:function(){var X=d2.Td(0).length,k=d2.Td(1),V=[];
for(var h=0;h<k.length;h++)V.push({A:j.E.j,p:{R:j.m.wz,kA:"saveforweb",d_:X+h}});return V}()});return V}()},{A:j.E.j,p:{R:j.m.wz,kA:"saveforweb",d_:3,acO:!0}},{A:j.E.j,p:{R:j.m.wz,kA:"eassets"}},{A:j.E.j,p:{R:j.m.wz,kA:"exlut"}},{A:j.E.j,p:{R:j.m.wz,kA:"finfo"}},{sub:[{A:j.E.j,p:{R:j.m.wz,kA:"batch"}},{A:j.E.j,p:{R:j.m.wz,kA:"pdfpres"}},{A:j.E.j,p:{R:j.m.wz,kA:"cformat"}},{A:j.E.j,p:{R:j.m.wz,kA:"mockups"}},{A:j.E.j,p:{R:j.m.wz,kA:"resize"}},{A:j.E.G,J:H.uJ,p:{R:"cropAndStr"}}]},{A:j.E.j,p:{R:j.m.wz,kA:"script"}}]},{name:[0,1],items:[{name:[2,8],i:l},{name:[2,0],i:l,ro:[x,v,J.mK]},{name:[2,1],i:l,ro:[v,J.mK],vy:!0},{name:[2,11],ro:[x,v,J.Xz],vy:!0,U6:!0,i:function(k,V){return{i:cH.azn(k)&&V.Lz!=H.tS}}},U[0][0],U[0][1],{name:[5,7],ro:[x,v,J.wC],i:function(k){return{i:k!=null&&k.g!=null}}},U[0][2],U[0][3],{name:[2,3],i:M,U6:!0,ro:[x,J.asl]},{name:[14,9],i:M,U6:!0,vy:!0},{name:[10,48],i:M},{name:[10,46],i:function(k){return{i:H.Hr.c_(k)}}},{name:[10,16],i:l,ro:[o,v,J.QF]},{name:[2,4],i:l,sub:bT.aHs()},{name:[2,10,1],i:l},{name:[2,10,0],i:l,vy:!0},{name:"Assign Profile",sub:F},{name:"Convert to Profile",sub:F,vy:!0},{name:[12,87],i:l,sub:[{name:[12,62],i:l},{name:[9,3],i:l},{name:[10,31],i:function(k){return{i:k!=null&&k.Ng()[1].length!=0}}}]},{name:[1,15],U6:!0},{name:[12,79],U6:!0,ro:[v,J.Lo]},{name:[1,13],U6:!0}],D9:[{A:j.E.G,J:H.iI,p:{R:"h_undoredo"}},{A:j.E.G,J:H.iI,p:{R:"h_stepfwd"}},{A:j.E.G,J:H.iI,p:{R:"h_stepbck"}},{A:j.E.j,p:{R:j.m.wz,kA:"afw_fade"}},U[1][0],U[1][1],{A:j.E.j,p:{R:j.m.ju,WR:!0}},U[1][2],U[1][3],{A:j.E.j,p:{R:j.m.wz,kA:"fill"}},{A:j.E.j,p:{R:j.m.wz,kA:"stroke"}},{A:j.E.j,p:{R:j.m.lE,J:H.kX}},{A:j.E.G,J:H.c$,p:{R:"start",Y8:"rigidTransform"}},{A:j.E.j,p:{R:j.m.lE,J:H.tS}},{sub:bT.a8P()},{A:j.E.aT,p:{QI:"align",_g:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{A:j.E.G,J:H.wu,p:{R:m.aGC}},{sub:Y},{sub:A},{sub:[{A:j.E.j,p:{R:j.m.FJ,Fu:0}},{A:j.E.j,p:{R:j.m.FJ,Fu:1}},{A:j.E.j,p:{R:j.m.FJ,Fu:2}}]},{A:j.E.j,p:{R:j.m.wz,kA:"pmanager"}},{A:j.E.j,p:{R:j.m.wz,kA:"preferences"}},{A:j.E.j,p:{R:j.m.wz,kA:"locstor"}}]},{name:[0,2],items:[{name:[12,36],i:l,vy:!0,sub:[{name:"RGB",i:function(k){if(k==null)return{i:!1};
return{WH:k.add.fcmy==null,i:!0}}},{name:"CMYK",vy:!0,i:function(k){if(k==null)return{i:!1};return{WH:k.add.fcmy!=null,i:!0}}}].concat(bD?[{name:"8 Bits/Channel",i:function(k){if(k==null)return{i:!1};
return{WH:k.depth==8,i:!0}}},{name:"16 Bits/Channel",i:function(k){if(k==null)return{i:!1};return{WH:k.depth==16,i:!0}}},{name:"32 Bits/Channel",i:function(k){if(k==null)return{i:!1};
return{WH:k.depth==32,i:!0}}}]:[])},{name:[3],i:l,vy:!0,sub:function(){var k=[];for(var V in kC.names){k.push({name:kC.names[V],U6:i8[V]!=null,ro:kC.keys[V],vy:kC.aD4.indexOf(V)!=-1});
if(V=="selc"){k.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],U6:!0,vy:!0});k.push({name:[19,7,0],ro:[v,x,J.li],i:M});
k.push({name:[4,18],U6:!0,i:M})}}return k}()},{name:[4,16,0],i:M},{name:[4,16,1],i:M},{name:[4,16,2],i:M,vy:!0},{name:[11,11,1],i:P,U6:!0},{name:[11,11,0],i:P,U6:!0},{name:"Wavelet Decompose",i:P,vy:!0},{name:[11,3],i:l,U6:!0,ro:[o,v,J.wC]},{name:[11,10],i:l,U6:!0,ro:[o,v,J.WW]},{name:[2,4],i:l,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],i:function(k){return{i:k!=null&&k.g!=null}}},{name:[11,12,0],i:l,ro:[v,J.NA],U6:!0},{name:[11,12,2],i:l,vy:!0},{name:[12,53],i:l},{name:[2,12],i:M,U6:!0,vy:!0},{name:[2,14],i:l,U6:!0}],D9:[{sub:[{A:j.E.G,J:H.VO,p:{R:"fcmy",K:0}},{A:j.E.G,J:H.VO,p:{R:"fcmy",K:1}},{A:j.E.aT,p:{QI:"convertMode",_g:{classID:"CnvM",Dpth:{t:"long",v:8},Mrge:{t:"bool",v:!1}}}},{A:j.E.aT,p:{QI:"convertMode",_g:{classID:"CnvM",Dpth:{t:"long",v:16},Mrge:{t:"bool",v:!1}}}},{A:j.E.aT,p:{QI:"convertMode",_g:{classID:"CnvM",Dpth:{t:"long",v:32},Mrge:{t:"bool",v:!1}}}}]},{sub:function(){var k=[];
for(var V in kC.names){k.push({A:j.E.G,J:H.hi,p:{R:"start",BV:V}});if(V=="selc"){k.push({A:j.E.G,J:H.c$,p:{R:"start",Y8:"adaptCorrect"}});
k.push({A:j.E.aT,p:{QI:"desaturate"}});k.push({A:j.E.G,J:H.hi,p:{R:"start",BV:"matc"}})}}return k}()},{A:j.E.aT,p:{QI:"levels",_g:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{A:j.E.aT,p:{QI:"levels",_g:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{A:j.E.aT,p:{QI:"levels",_g:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{A:j.E.j,p:{R:j.m.wz,kA:"rcolors"}},{A:j.E.j,p:{R:j.m.wz,kA:"vbitmap"}},{A:j.E.G,J:H.wu,p:{R:m.aEp}},{A:j.E.j,p:{R:j.m.wz,kA:"csize"}},{A:j.E.j,p:{R:j.m.wz,kA:"isize"}},{sub:[{A:j.E.aT,p:H.ge.l2(!0,90)},{A:j.E.aT,p:H.ge.l2(!0,-90)},{A:j.E.aT,p:H.ge.l2(!0,-180)},{A:j.E.aT,p:H.ge.l2(!1,"Hrzn")},{A:j.E.aT,p:H.ge.l2(!1,"Vrtc")}]},{A:j.E.aT,p:{QI:"crop",_g:{__name:"Crop",classID:"Crop"}}},{A:j.E.j,p:{R:j.m.wz,kA:"trim"}},{A:j.E.aT,p:{QI:"revealAll",_g:{classID:"RvlA"}}},{A:j.E.aT,p:{QI:"duplicate",_g:{classID:"Dplc",null:kj.RS("Dcmn",!0)}}},{A:j.E.G,J:H.hi,p:{R:"start",BV:"aply"}},{A:j.E.j,p:{R:j.m.wz,kA:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],i:l,sub:[{name:[0,3],ro:[x,v,J.Kv]},{name:[0,4]},{name:[1,16,0],U6:!0},{name:[1,16,3],U6:!0,vy:!0},{name:[6,49,0],ro:[v,J.vN]},{name:[6,49,1],ro:[x,v,J.vN],i:function(k){return{i:k!=null&&k.g!=null&&k.hH(!1)}}}]},{name:[6,0],i:R},{name:[11,4],i:R},{name:[5,4],i:R,vy:!0},{name:"Text",i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],i:R,vy:!0,sub:k8.dD(!0)},{name:[6,48,1],i:l,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],i:l,vy:!0,sub:k8.aia()},{name:[6,2],i:l,sub:[{name:[6,4],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].q9()==null}}},{name:[6,5,0],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].q9()==null}}},{name:[6,5,1],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].q9()==null&&k.g!=null}}},{name:[6,5,2],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].q9()==null&&k.g!=null}}},{name:[6,5,3],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].q9()==null}},vy:!0},{name:[5,4],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].q9()!=null}}},{name:[5,8],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].q9()!=null&&k.hH(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].q9()!=null}}}]},{name:[6,3],i:l,sub:[{name:[6,4],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].add.vmsk==null}}},{name:[6,5,0],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].add.vmsk==null}}},{name:[12,76,7],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].add.vmsk==null}},vy:!0},{name:[5,4],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],i:function(k){return{i:k!=null&&k.Y.length!=0&&k.k[k.Y[0]].add.vmsk!=null}}}]},hh.aca(!0),{name:[6,7,1],i:l,vy:!0,sub:[{name:[6,7,0],vy:!0},{name:"Open (Edit Contents)",i:r,U6:!0},{name:"Replace Contents",i:r,U6:!0},{name:"Export Contents",i:r,U6:!0,vy:!0},{name:"Convert to Layers",i:r,U6:!0,vy:!0},{name:[6,36,4],i:r,sub:S},{name:"Turn into JPG",i:r}]},{name:[6,8],i:hh.aBl},{name:[6,34],vy:!0,i:function(k){if(k==null||k.Y.length==0)return{i:!1};
var V=k.k[k.Y[0]];return{i:V.add.lmfx!=null&&!V.tX()}}},{name:[6,9],i:l,vy:!0,ro:[v,J.iV]},{name:[6,55],i:l,sub:[{name:[6,56,0],ro:[x,v,J.vU]},{name:[6,56,1],ro:[v,J.vU]},{name:[6,56,2],ro:[v,J.kp]},{name:[6,56,3],ro:[x,v,J.kp]}]},{name:"Combine Shapes",i:l,vy:!0,sub:[{name:[18,1],CT:"set/union"},{name:[18,2],CT:"set/difference"},{name:[18,3],CT:"set/intersection"},{name:[18,4],CT:"set/xor"}]},{name:[6,58],i:l,vy:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],ro:[v,J.E],i:hh.Fi},{name:[6,12,1],i:l},{name:[2,13],i:l}],D9:[{sub:[{A:j.E.G,J:H.wu,p:{R:m.h5}},{A:j.E.G,J:H.wu,p:{R:m.HY}},{A:j.E.j,p:{R:j.m.wz,kA:"newartb",tj:0}},{A:j.E.j,p:{R:j.m.wz,kA:"newartb",tj:1}},{A:j.E.aT,p:{QI:"copyToLayer"}},{A:j.E.aT,p:{QI:"cutToLayer"}}]},{A:j.E.G,J:H.wu,p:{R:m.Qi}},{A:j.E.j,p:{R:j.m.wz,kA:"duplinto"}},{A:j.E.G,J:H.wu,p:{R:m.Wd}},{sub:[{A:j.E.G,J:H.wu,p:{R:m.ze}}]},{sub:k8.JJ(!0)},{sub:[{A:j.E.G,J:H.Mj,p:{R:"newfill",QJ:0}},{A:j.E.aT,p:H.YP.Z9(1)},{A:j.E.aT,p:H.YP.Z9(2)}]},{sub:k8.Hh()},{sub:[{A:j.E.G,J:H.wu,p:{R:m.Fe,tj:"RvlA"}},{A:j.E.G,J:H.wu,p:{R:m.Fe,tj:"HdAl"}},{A:j.E.G,J:H.wu,p:{R:m.Fe,tj:"RvlS"}},{A:j.E.G,J:H.wu,p:{R:m.Fe,tj:"HdSl"}},{A:j.E.G,J:H.wu,p:{R:m.Fe,tj:"Trns"}},{A:j.E.G,J:H.wu,p:{R:m.cv}},{A:j.E.G,J:H.wu,p:{R:m.KN}},{A:j.E.G,J:H.wu,p:{R:m.Tv}}]},{sub:[{A:j.E.aT,p:H.qk.sn(0)},{A:j.E.aT,p:H.qk.sn(1)},{A:j.E.aT,p:H.qk.sn(2)},{A:j.E.aT,p:H.qk.sn(3)},{A:j.E.G,J:H.wu,p:{R:m.gO}}]},{A:j.E.G,J:H.wu,p:{R:m.Pe}},{sub:[{A:j.E.aT,p:{QI:"newPlacedLayer"}},{A:j.E.aT,p:{QI:"placedLayerEditContents",_g:{classID:"placedLayerEditContents"}}},{A:j.E.aT,p:{QI:"placedLayerReplaceContents",_g:{classID:"placedLayerReplaceContents"}}},{A:j.E.aT,p:{QI:"placedLayerExportContents",_g:{classID:"placedLayerExportContents"}}},{A:j.E.aT,p:{QI:"placedLayerConvertToLayers",_g:{classID:"placedLayerConvertToLayers"}}},{sub:c},{A:j.E.G,J:H.wu,p:{R:m.asI}}]},{A:j.E.aT,p:{QI:"rasterizeLayer",_g:{classID:"rasterizeLayer",null:kj.RS("Lyr",!0)}}},{A:j.E.aT,p:{QI:"rasterizeLayer",_g:{classID:"rasterizeLayer",null:kj.RS("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{A:j.E.G,J:H.wu,p:{R:m.Vy}},{sub:[{A:j.E.G,J:H.wu,p:{R:m.f8,Uq:0}},{A:j.E.G,J:H.wu,p:{R:m.f8,Uq:1}},{A:j.E.G,J:H.wu,p:{R:m.f8,Uq:2}},{A:j.E.G,J:H.wu,p:{R:m.f8,Uq:3}}]},{sub:[{A:j.E.G,J:H.wu,p:{R:m.Zn,tp:0}},{A:j.E.G,J:H.wu,p:{R:m.Zn,tp:1}},{A:j.E.G,J:H.wu,p:{R:m.Zn,tp:2}},{A:j.E.G,J:H.wu,p:{R:m.Zn,tp:3}}]},{sub:[{A:j.E.G,J:H.wu,p:{R:m.SS,Uq:"makeframes"}},{A:j.E.G,J:H.wu,p:{R:m.SS,Uq:"unmakeframes"}},{A:j.E.G,J:H.wu,p:{R:m.SS,Uq:"merge"}}]},{A:j.E.aT,p:{QI:"mergeLayersNew",_g:{__name:"Merge Layers",classID:"Mrg2"}}},{A:j.E.aT,p:{QI:"flattenImage"}},{A:j.E.G,J:H.c$,p:{R:"start",Y8:"defr"}}]},cM.a6m(!1),function(){var k={name:[0,6],items:[{name:[24,18,4],ro:[o,v,J.Xz],i:l,vy:!0}],D9:[{A:j.E.G,J:H.c$,p:{R:"applylast"}}]};
for(var h=0;h<a8.zm.length;h++){var V=a8.zm[h],X=V.LP;if(V.BD!=null){var Q={name:a8.names[V.BD],U6:!0,vy:V.vy,i:l};
if(V.BD=="VaPo")Q.i=M;k.items.push(Q);k.D9.push({A:j.E.G,J:H.c$,p:{R:"start",Y8:V.BD}});continue}var L={name:V.Pi,sub:[],i:l};
k.items.push(L);var _={sub:[]};k.D9.push(_);for(var a=0;a<X.length;a++){var T=X[a],f=a8.names[T];if(T=="blurbTransform")f=[24,3,12,a];
var Z={name:f,U6:a8.ow(T)!=null};L.sub.push(Z);var W={A:j.E.G,J:H.c$,p:{R:"start",Y8:T,fr:a<2?a:a+1}};
_.sub.push(W)}}return k}(),{name:[0,7],items:[{name:[8,0],i:l,ro:[v,J.gF]},{name:[8,1],i:l,ro:[v,J.bE]},{name:[20,3],i:l,ro:[v,J.NV]},{name:[20,2],i:l,ro:[v,J.gs]},{name:[8,14],i:function(k,V){return{i:k!=null,WH:k!=null&&k.dZ}},vy:!0},{name:[12,36],vy:!0,sub:[{name:"Fullscreen",i:function(k,V){return{WH:document.fullscreenElement!=null}},vy:!0},{name:"Standard",i:function(k,V){return{WH:V.rC==0}}},{name:"Menu Bar and Canvas",i:function(k,V){return{WH:V.rC==1}}}]},{name:[8,13],ro:[v,J.HN],i:function(k,V){return{WH:V.lf}}},{name:[8,12],vy:!0,sub:[{name:[17,2],i:function(k,V){return{i:V.lf,WH:V.i3.T4}}},{name:[8,9],i:function(k,V){return{i:V.lf,WH:V.i3.h1}}},{name:[8,2],i:function(k,V){return{i:V.lf,WH:V.i3.HC}},ro:[v,J.Rf]},{name:[8,4],i:function(k,V){return{i:V.lf,WH:V.i3.kE}},ro:[v,J.M1]},{name:[8,8],i:function(k,V){return{i:V.lf,WH:V.i3.mc}}},{name:[8,11,0],i:function(k,V){return{i:V.lf,WH:V.i3.ek}}}]},{name:[8,3],i:function(k,V){return{WH:V.fD}},ro:[v,J.mL],vy:!0},{name:[8,5],i:function(k,V){return{WH:V.S0}}},{name:[8,6],vy:!0,sub:[{name:[8,2],i:function(k,V){return{WH:V.gS[0]}}},{name:[8,4],i:function(k,V){return{WH:V.gS[1]}}},{name:[9,1],i:function(k,V){return{WH:V.gS[2]}}},{name:[8,11,0],i:function(k,V){return{WH:V.gS[3]}}},{name:[8,7,0],i:function(k,V){return{WH:V.gS[4]}}}]},{name:[11,15,2],i:function(k,V){return{i:k!=null,WH:k!=null&&k.qr}}},{name:[11,15,0],i:l},{name:[11,14],i:l,U6:!0},{name:[11,15,1],i:function(k,V){return{i:k!=null&&k.Y.length!=0}},vy:!0},{name:[8,11,2],i:function(k,V){return{i:k!=null&&k.ek.length!=0}}}],D9:[{A:j.E.G,J:H.C5,p:{R:"zoom",xo:!0}},{A:j.E.G,J:H.C5,p:{R:"zoom",xo:!1}},{A:j.E.G,J:H.C5,p:{R:"adapt",K:"fitscr"}},{A:j.E.G,J:H.C5,p:{R:"adapt",K:"pixel"}},{A:j.E.G,J:H.VO,p:{R:"pview"}},{sub:[{A:j.E.j,p:{R:j.m.WF,ss:!0}},{A:j.E.j,p:{R:j.m.WF,K:0}},{A:j.E.j,p:{R:j.m.WF,K:1}},{A:j.E.j,p:{R:j.m.WF,K:2}}]},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.Vx}},{sub:[{A:j.E.j,p:{R:j.m.Qq,Fu:cj.wV}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.kD}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.Uw}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.Pn}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.rV}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.KP}}]},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.qm}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.ael}},{sub:[{A:j.E.j,p:{R:j.m.Qq,Fu:cj.oi,FG:0}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.oi,FG:1}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.oi,FG:2}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.oi,FG:3}},{A:j.E.j,p:{R:j.m.Qq,Fu:cj.oi,FG:4}}]},{A:j.E.G,J:H.VO,p:{R:"lockguides"}},{A:j.E.G,J:H.VO,p:{R:"gids",TQ:[[],[]]}},{A:j.E.j,p:{R:j.m.wz,kA:"addguides"}},{A:j.E.G,J:H.VO,p:{R:"gidsFromLayer"}},{A:j.E.G,J:H.BG,p:{R:"deleteAll"}}]},function(){var k={name:[0,8],items:[{name:[0,14],vy:!0,sub:[]},{name:"Plugins",vy:!0}],D9:[{sub:[]},{A:j.E.j,p:{R:j.m.wz,kA:"res1"}}]};
for(var h=0;h<g4.qH.length;h++){var V=g4.qH[h],X=function(){var Q=V.rq.G7;return function(L,_){return{WH:_.ST.indexOf(parseInt(Q))!=-1}}}();
(V.nu?k.items[0].sub:k.items).push({name:V.rq.name,i:X});(V.nu?k.D9[0].sub:k.D9).push({A:j.E.j,p:{R:j.m.KF,kA:V.rq.G7}})}return k}(),function(){var k={name:[0,14],items:[],D9:[]},V={name:[0,9],sub:[]};
k.items.push(V);var X={sub:[]};k.D9.push(X);var Q=ea.awi();for(var h=0;h<Q.length;h++){var L=Q[h],_=L.code,a=ea.a04(_);
V.sub.push({name:L.name,ro:_,i:function(T,f){return{WH:this.ro==ea.Gh()}}});X.sub.push({A:j.E.j,p:{R:j.m.Qq,Fu:cj.OZ,lang:a}})}V.sub.push({name:[0,12]});
X.sub.push({A:j.E.j,p:{R:j.m.fY,link:"https://www.photopea.com/translate/"}});var V={name:[0,15],sub:[]};
k.items.push(V);var X={sub:[]};k.D9.push(X);for(var h=0;h<k$.Ga.length;h++){V.sub.push({name:k$.Ga[h].name,i:function(T,f){return{WH:this.name==k$.Ga[f.Lh].name}}});
X.sub.push({A:j.E.j,p:{R:j.m.Qq,Fu:cj.xV,Lh:h}})}k.items.push({name:du==0?[0,17,6]:"Install Vectorpea",i:function(T,f){return{i:f.Op!=null}}});
k.D9.push({A:j.E.j,p:{R:j.m.r6}});if(du==0){k.items.push({name:[11,13]});k.D9.push({A:j.E.j,p:{R:j.m.wz,kA:"shortcuts"}});
k.items.push({name:[0,16],i:function(T){return{WH:gi._E,i:gi.aox}},vy:!0});k.D9.push({A:j.E.j,p:{R:j.m.auf}})}k.items.push({name:"PeaMark"});
k.D9.push({A:j.E.j,p:{R:j.m.wz,kA:"peamark"}});k.items.push({name:"",i:function(T,f){return f.rT?{y0:"About "+["Photopea","Vectorpea"][du],i:!0}:{y0:"",i:!1}}});
k.D9.push({A:j.E.j,p:{R:j.m.wz,kA:"aboutpp"}});return k}()],N=[$[0],$[1],{name:"Object",items:[{name:[6,9],i:l,vy:!0,ro:[v,J.iV]},{name:[6,6,0],sub:[{name:[5,5],ro:[v,J.GB]},{name:[5,6],ro:[o,v,J.GB]}]}],D9:[{A:j.E.G,J:H.wu,p:{R:m.Vy}},{sub:[{A:j.E.G,J:H.wu,p:{R:m.Vy,pT:!0}},{A:j.E.G,J:H.wu,p:{R:m.Vy,pT:!0,Oo:!0}}]}]},{name:[0,7],items:[{name:"Outline View",i:function(k,V){return{WH:k&&k.add.prvw==0,i:k!=null}},vy:!0,ro:[v,J.Ds]},{name:[8,0],i:l,ro:[v,J.gF]},{name:[8,1],i:l,ro:[v,J.bE]},{name:[12,36],vy:!1,sub:[{name:"Fullscreen",i:function(k,V){return{WH:document.fullscreenElement!=null}},vy:!0},{name:"Standard",i:function(k,V){return{WH:V.rC==0}}},{name:"Menu Bar and Canvas",i:function(k,V){return{WH:V.rC==1}}}]}],D9:[{A:j.E.G,J:H.C5,p:{R:"prvw"}},{A:j.E.G,J:H.C5,p:{R:"zoom",xo:!0}},{A:j.E.G,J:H.C5,p:{R:"zoom",xo:!0}},{A:j.E.G,J:H.C5,p:{R:"zoom",xo:!1}},{sub:[{A:j.E.j,p:{R:j.m.WF,ss:!0}},{A:j.E.j,p:{R:j.m.WF,K:0}},{A:j.E.j,p:{R:j.m.WF,K:1}},{A:j.E.j,p:{R:j.m.WF,K:2}}]}]},$[7],$[8]];
return du==0?$:N}();function eQ(){aJ.call(this);this._=B.l("div","");this.qO=0;this.rt=0;this.f=null;
this.b3=B.l("div","");B.L(this.b3,"width:200em; height:100em; position:absolute;");this.hy=[];this.nI=[];
this.tH={}}eQ.prototype=new aJ;eQ.prototype.RQ=function(J){var v=Date.now(),x=[];if(J=="-"){x=[new kA,new iM,new k5,new eZ("pdfpres"),new eZ("cformat"),new eZ("batch"),new eZ("mockups"),new eZ("resize"),new gt,new kR,new eF,new ce,new ce(!0),new dH,new gf,new gn,new d9,new bf,new aL,new kn,new d_,new fr,new gG,new k8,new jx("isize"),new jx("csize"),new cU,new j1,new df,new jX,new bH,new b$,new eU,new ek,new d8(!1),new d8(!0),new iI(0),new iI(1),new dw,new cV,new el,new hl,new gT,new aM,new is(0),new is(1),new is(2),new is(3),new is(4),new is(5),new is(6),new is(7),new is(8),new hS,new i2,new by,new cz,new ex,new io,new j_,new ip,new l1,new j6,new bx(0),new bx(1),new f9("border",[7,9],"px"),new f9("smoothness",[19,3,0],"px"),new f9("expand",[7,4],"px"),new f9("contract",[7,5],"px"),new f9("feather",[7,6],"px"),new iB(0,"namewindow",[12,48]),new iB(2,"billto","Bill To"),new iB(1,"cornerradius",[12,94,0],"px",!0,!0),new iB(1,"scaleeffects",[6,30,1],"%",!0),new iB(1,"doczoom","Zoom","%",!0),new iB(1,"setFPS","Set FPS","fps,120",!1),new iB(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(du==0){x.push(new cx)}}else x=[new cH(J.slice(4))];this.ai$(x);this.tH[J]=!0};eQ.prototype.ai$=function(J){var v=this.f;
for(var h=0;h<J.length;h++){var x=J[h];x.parent=this;this.nI.push(x);this.Bs(x);x.d();if(v)x.pJ(v,cj.q6);
x.P(j.E.D_,this.Us,this);B.UD(x)}};eQ.prototype.qe=function(J,v){this.qO=J;this.rt=v;for(var h=0;h<this.nI.length;
h++)this.Bs(this.nI[h])};eQ.prototype.d=function(){for(var h=0;h<this.nI.length;h++)this.nI[h].d()};
eQ.prototype.pt=function(){return this.hy.length==0?null:this.hy[this.hy.length-1]};eQ.prototype.b7=function(){for(var h=0;
h<this.hy.length;h++)if(this.hy[h].b7())return!0;return!1};eQ.prototype.asM=function(J,v,x,o,R){console.log("Show",J);
var r=J.startsWith("afw_"),l=null;if(!r&&!this.tH["-"])this.RQ("-");if(r&&!this.tH[J])this.RQ(J);if(typeof J=="object"){l=J;
if(!l.a2Q(j.E.D_,this.Us))l.P(j.E.D_,this.Us,this);l.parent=this}else for(var h=0;h<this.nI.length;h++)if(this.nI[h].id==J)l=this.nI[h];
if(this.b7()&&l.b7()){alert("Finish the current action first");return}if(!l.Xe(v))return;if(this.hy.indexOf(l)!=-1){if(J=="colorpicker")this.Us(null,l);
else return}var M=this.hy.length-1;if(M>=0)B._H(this.hy[M]._,"wdisabled");this._.appendChild(l._);this.hy.push(l);
this.Bs(l);B.fC(l);l.Q4(v,x,o,R)};eQ.prototype.Bs=function(J){var v=this.qO,x=this.rt,o=J.z$(v,x),R;
if(o!=null){R=o}else{o=new aG(0,0);R=J.alS();if(R==null){var r=this.hy.indexOf(J)+1;if(v<450||x<450)R=new aG(0,0);
else R=new aG(r*150,r*150)}}J._.style.left=R.x+"px";J._.style.top=this._.offsetTop+R.y+"px";J.qe(this.qO-o.x*2,this.rt-o.y*2-34)};
eQ.prototype.pJ=function(J,v){this.f=J;for(var h=0;h<this.nI.length;h++)this.nI[h].pJ(J,v)};eQ.prototype.Us=function(J,v){if(v==null){v=this.hy.pop();
B.UD(v,this._)}else{this.hy.splice(this.hy.indexOf(v),1);this._.removeChild(v._);B.Nv(v._,"wdisabled")}var x=this.hy.length-1;
if(x>=0)B.Nv(this.hy[x]._,"wdisabled");if(this.b3.parentNode==this._)this._.removeChild(this.b3)};window.onload=function(){document.body.appendChild(new aU()._)}}())